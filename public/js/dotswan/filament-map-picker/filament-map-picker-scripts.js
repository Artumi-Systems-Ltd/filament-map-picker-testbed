var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};

// node_modules/leaflet/dist/leaflet-src.js
var require_leaflet_src = __commonJS({
  "node_modules/leaflet/dist/leaflet-src.js"(exports, module) {
    (function(global2, factory) {
      typeof exports === "object" && typeof module !== "undefined" ? factory(exports) : typeof define === "function" && define.amd ? define(["exports"], factory) : (global2 = typeof globalThis !== "undefined" ? globalThis : global2 || self, factory(global2.leaflet = {}));
    })(exports, function(exports2) {
      "use strict";
      var version = "1.9.4";
      function extend(dest) {
        var i, j, len, src;
        for (j = 1, len = arguments.length; j < len; j++) {
          src = arguments[j];
          for (i in src) {
            dest[i] = src[i];
          }
        }
        return dest;
      }
      var create$2 = Object.create || /* @__PURE__ */ function() {
        function F() {
        }
        return function(proto) {
          F.prototype = proto;
          return new F();
        };
      }();
      function bind(fn, obj) {
        var slice = Array.prototype.slice;
        if (fn.bind) {
          return fn.bind.apply(fn, slice.call(arguments, 1));
        }
        var args = slice.call(arguments, 2);
        return function() {
          return fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);
        };
      }
      var lastId = 0;
      function stamp(obj) {
        if (!("_leaflet_id" in obj)) {
          obj["_leaflet_id"] = ++lastId;
        }
        return obj._leaflet_id;
      }
      function throttle(fn, time, context) {
        var lock, args, wrapperFn, later;
        later = function() {
          lock = false;
          if (args) {
            wrapperFn.apply(context, args);
            args = false;
          }
        };
        wrapperFn = function() {
          if (lock) {
            args = arguments;
          } else {
            fn.apply(context, arguments);
            setTimeout(later, time);
            lock = true;
          }
        };
        return wrapperFn;
      }
      function wrapNum(x, range, includeMax) {
        var max = range[1], min = range[0], d = max - min;
        return x === max && includeMax ? x : ((x - min) % d + d) % d + min;
      }
      function falseFn() {
        return false;
      }
      function formatNum(num, precision) {
        if (precision === false) {
          return num;
        }
        var pow = Math.pow(10, precision === void 0 ? 6 : precision);
        return Math.round(num * pow) / pow;
      }
      function trim(str) {
        return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g, "");
      }
      function splitWords(str) {
        return trim(str).split(/\s+/);
      }
      function setOptions(obj, options) {
        if (!Object.prototype.hasOwnProperty.call(obj, "options")) {
          obj.options = obj.options ? create$2(obj.options) : {};
        }
        for (var i in options) {
          obj.options[i] = options[i];
        }
        return obj.options;
      }
      function getParamString(obj, existingUrl, uppercase) {
        var params = [];
        for (var i in obj) {
          params.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + "=" + encodeURIComponent(obj[i]));
        }
        return (!existingUrl || existingUrl.indexOf("?") === -1 ? "?" : "&") + params.join("&");
      }
      var templateRe = /\{ *([\w_ -]+) *\}/g;
      function template(str, data) {
        return str.replace(templateRe, function(str2, key) {
          var value = data[key];
          if (value === void 0) {
            throw new Error("No value provided for variable " + str2);
          } else if (typeof value === "function") {
            value = value(data);
          }
          return value;
        });
      }
      var isArray = Array.isArray || function(obj) {
        return Object.prototype.toString.call(obj) === "[object Array]";
      };
      function indexOf(array, el) {
        for (var i = 0; i < array.length; i++) {
          if (array[i] === el) {
            return i;
          }
        }
        return -1;
      }
      var emptyImageUrl = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";
      function getPrefixed(name) {
        return window["webkit" + name] || window["moz" + name] || window["ms" + name];
      }
      var lastTime = 0;
      function timeoutDefer(fn) {
        var time = +/* @__PURE__ */ new Date(), timeToCall = Math.max(0, 16 - (time - lastTime));
        lastTime = time + timeToCall;
        return window.setTimeout(fn, timeToCall);
      }
      var requestFn = window.requestAnimationFrame || getPrefixed("RequestAnimationFrame") || timeoutDefer;
      var cancelFn = window.cancelAnimationFrame || getPrefixed("CancelAnimationFrame") || getPrefixed("CancelRequestAnimationFrame") || function(id) {
        window.clearTimeout(id);
      };
      function requestAnimFrame(fn, context, immediate) {
        if (immediate && requestFn === timeoutDefer) {
          fn.call(context);
        } else {
          return requestFn.call(window, bind(fn, context));
        }
      }
      function cancelAnimFrame(id) {
        if (id) {
          cancelFn.call(window, id);
        }
      }
      var Util = {
        __proto__: null,
        extend,
        create: create$2,
        bind,
        get lastId() {
          return lastId;
        },
        stamp,
        throttle,
        wrapNum,
        falseFn,
        formatNum,
        trim,
        splitWords,
        setOptions,
        getParamString,
        template,
        isArray,
        indexOf,
        emptyImageUrl,
        requestFn,
        cancelFn,
        requestAnimFrame,
        cancelAnimFrame
      };
      function Class() {
      }
      Class.extend = function(props) {
        var NewClass = function() {
          setOptions(this);
          if (this.initialize) {
            this.initialize.apply(this, arguments);
          }
          this.callInitHooks();
        };
        var parentProto = NewClass.__super__ = this.prototype;
        var proto = create$2(parentProto);
        proto.constructor = NewClass;
        NewClass.prototype = proto;
        for (var i in this) {
          if (Object.prototype.hasOwnProperty.call(this, i) && i !== "prototype" && i !== "__super__") {
            NewClass[i] = this[i];
          }
        }
        if (props.statics) {
          extend(NewClass, props.statics);
        }
        if (props.includes) {
          checkDeprecatedMixinEvents(props.includes);
          extend.apply(null, [proto].concat(props.includes));
        }
        extend(proto, props);
        delete proto.statics;
        delete proto.includes;
        if (proto.options) {
          proto.options = parentProto.options ? create$2(parentProto.options) : {};
          extend(proto.options, props.options);
        }
        proto._initHooks = [];
        proto.callInitHooks = function() {
          if (this._initHooksCalled) {
            return;
          }
          if (parentProto.callInitHooks) {
            parentProto.callInitHooks.call(this);
          }
          this._initHooksCalled = true;
          for (var i2 = 0, len = proto._initHooks.length; i2 < len; i2++) {
            proto._initHooks[i2].call(this);
          }
        };
        return NewClass;
      };
      Class.include = function(props) {
        var parentOptions = this.prototype.options;
        extend(this.prototype, props);
        if (props.options) {
          this.prototype.options = parentOptions;
          this.mergeOptions(props.options);
        }
        return this;
      };
      Class.mergeOptions = function(options) {
        extend(this.prototype.options, options);
        return this;
      };
      Class.addInitHook = function(fn) {
        var args = Array.prototype.slice.call(arguments, 1);
        var init = typeof fn === "function" ? fn : function() {
          this[fn].apply(this, args);
        };
        this.prototype._initHooks = this.prototype._initHooks || [];
        this.prototype._initHooks.push(init);
        return this;
      };
      function checkDeprecatedMixinEvents(includes) {
        if (typeof L === "undefined" || !L || !L.Mixin) {
          return;
        }
        includes = isArray(includes) ? includes : [includes];
        for (var i = 0; i < includes.length; i++) {
          if (includes[i] === L.Mixin.Events) {
            console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.", new Error().stack);
          }
        }
      }
      var Events = {
        /* @method on(type: String, fn: Function, context?: Object): this
         * Adds a listener function (`fn`) to a particular event type of the object. You can optionally specify the context of the listener (object the this keyword will point to). You can also pass several space-separated types (e.g. `'click dblclick'`).
         *
         * @alternative
         * @method on(eventMap: Object): this
         * Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`
         */
        on: function(types, fn, context) {
          if (typeof types === "object") {
            for (var type in types) {
              this._on(type, types[type], fn);
            }
          } else {
            types = splitWords(types);
            for (var i = 0, len = types.length; i < len; i++) {
              this._on(types[i], fn, context);
            }
          }
          return this;
        },
        /* @method off(type: String, fn?: Function, context?: Object): this
         * Removes a previously added listener function. If no function is specified, it will remove all the listeners of that particular event from the object. Note that if you passed a custom context to `on`, you must pass the same context to `off` in order to remove the listener.
         *
         * @alternative
         * @method off(eventMap: Object): this
         * Removes a set of type/listener pairs.
         *
         * @alternative
         * @method off: this
         * Removes all listeners to all events on the object. This includes implicitly attached events.
         */
        off: function(types, fn, context) {
          if (!arguments.length) {
            delete this._events;
          } else if (typeof types === "object") {
            for (var type in types) {
              this._off(type, types[type], fn);
            }
          } else {
            types = splitWords(types);
            var removeAll = arguments.length === 1;
            for (var i = 0, len = types.length; i < len; i++) {
              if (removeAll) {
                this._off(types[i]);
              } else {
                this._off(types[i], fn, context);
              }
            }
          }
          return this;
        },
        // attach listener (without syntactic sugar now)
        _on: function(type, fn, context, _once) {
          if (typeof fn !== "function") {
            console.warn("wrong listener type: " + typeof fn);
            return;
          }
          if (this._listens(type, fn, context) !== false) {
            return;
          }
          if (context === this) {
            context = void 0;
          }
          var newListener = { fn, ctx: context };
          if (_once) {
            newListener.once = true;
          }
          this._events = this._events || {};
          this._events[type] = this._events[type] || [];
          this._events[type].push(newListener);
        },
        _off: function(type, fn, context) {
          var listeners, i, len;
          if (!this._events) {
            return;
          }
          listeners = this._events[type];
          if (!listeners) {
            return;
          }
          if (arguments.length === 1) {
            if (this._firingCount) {
              for (i = 0, len = listeners.length; i < len; i++) {
                listeners[i].fn = falseFn;
              }
            }
            delete this._events[type];
            return;
          }
          if (typeof fn !== "function") {
            console.warn("wrong listener type: " + typeof fn);
            return;
          }
          var index2 = this._listens(type, fn, context);
          if (index2 !== false) {
            var listener = listeners[index2];
            if (this._firingCount) {
              listener.fn = falseFn;
              this._events[type] = listeners = listeners.slice();
            }
            listeners.splice(index2, 1);
          }
        },
        // @method fire(type: String, data?: Object, propagate?: Boolean): this
        // Fires an event of the specified type. You can optionally provide a data
        // object — the first argument of the listener function will contain its
        // properties. The event can optionally be propagated to event parents.
        fire: function(type, data, propagate) {
          if (!this.listens(type, propagate)) {
            return this;
          }
          var event = extend({}, data, {
            type,
            target: this,
            sourceTarget: data && data.sourceTarget || this
          });
          if (this._events) {
            var listeners = this._events[type];
            if (listeners) {
              this._firingCount = this._firingCount + 1 || 1;
              for (var i = 0, len = listeners.length; i < len; i++) {
                var l = listeners[i];
                var fn = l.fn;
                if (l.once) {
                  this.off(type, fn, l.ctx);
                }
                fn.call(l.ctx || this, event);
              }
              this._firingCount--;
            }
          }
          if (propagate) {
            this._propagateEvent(event);
          }
          return this;
        },
        // @method listens(type: String, propagate?: Boolean): Boolean
        // @method listens(type: String, fn: Function, context?: Object, propagate?: Boolean): Boolean
        // Returns `true` if a particular event type has any listeners attached to it.
        // The verification can optionally be propagated, it will return `true` if parents have the listener attached to it.
        listens: function(type, fn, context, propagate) {
          if (typeof type !== "string") {
            console.warn('"string" type argument expected');
          }
          var _fn = fn;
          if (typeof fn !== "function") {
            propagate = !!fn;
            _fn = void 0;
            context = void 0;
          }
          var listeners = this._events && this._events[type];
          if (listeners && listeners.length) {
            if (this._listens(type, _fn, context) !== false) {
              return true;
            }
          }
          if (propagate) {
            for (var id in this._eventParents) {
              if (this._eventParents[id].listens(type, fn, context, propagate)) {
                return true;
              }
            }
          }
          return false;
        },
        // returns the index (number) or false
        _listens: function(type, fn, context) {
          if (!this._events) {
            return false;
          }
          var listeners = this._events[type] || [];
          if (!fn) {
            return !!listeners.length;
          }
          if (context === this) {
            context = void 0;
          }
          for (var i = 0, len = listeners.length; i < len; i++) {
            if (listeners[i].fn === fn && listeners[i].ctx === context) {
              return i;
            }
          }
          return false;
        },
        // @method once(…): this
        // Behaves as [`on(…)`](#evented-on), except the listener will only get fired once and then removed.
        once: function(types, fn, context) {
          if (typeof types === "object") {
            for (var type in types) {
              this._on(type, types[type], fn, true);
            }
          } else {
            types = splitWords(types);
            for (var i = 0, len = types.length; i < len; i++) {
              this._on(types[i], fn, context, true);
            }
          }
          return this;
        },
        // @method addEventParent(obj: Evented): this
        // Adds an event parent - an `Evented` that will receive propagated events
        addEventParent: function(obj) {
          this._eventParents = this._eventParents || {};
          this._eventParents[stamp(obj)] = obj;
          return this;
        },
        // @method removeEventParent(obj: Evented): this
        // Removes an event parent, so it will stop receiving propagated events
        removeEventParent: function(obj) {
          if (this._eventParents) {
            delete this._eventParents[stamp(obj)];
          }
          return this;
        },
        _propagateEvent: function(e) {
          for (var id in this._eventParents) {
            this._eventParents[id].fire(e.type, extend({
              layer: e.target,
              propagatedFrom: e.target
            }, e), true);
          }
        }
      };
      Events.addEventListener = Events.on;
      Events.removeEventListener = Events.clearAllEventListeners = Events.off;
      Events.addOneTimeEventListener = Events.once;
      Events.fireEvent = Events.fire;
      Events.hasEventListeners = Events.listens;
      var Evented = Class.extend(Events);
      function Point(x, y, round) {
        this.x = round ? Math.round(x) : x;
        this.y = round ? Math.round(y) : y;
      }
      var trunc = Math.trunc || function(v) {
        return v > 0 ? Math.floor(v) : Math.ceil(v);
      };
      Point.prototype = {
        // @method clone(): Point
        // Returns a copy of the current point.
        clone: function() {
          return new Point(this.x, this.y);
        },
        // @method add(otherPoint: Point): Point
        // Returns the result of addition of the current and the given points.
        add: function(point) {
          return this.clone()._add(toPoint(point));
        },
        _add: function(point) {
          this.x += point.x;
          this.y += point.y;
          return this;
        },
        // @method subtract(otherPoint: Point): Point
        // Returns the result of subtraction of the given point from the current.
        subtract: function(point) {
          return this.clone()._subtract(toPoint(point));
        },
        _subtract: function(point) {
          this.x -= point.x;
          this.y -= point.y;
          return this;
        },
        // @method divideBy(num: Number): Point
        // Returns the result of division of the current point by the given number.
        divideBy: function(num) {
          return this.clone()._divideBy(num);
        },
        _divideBy: function(num) {
          this.x /= num;
          this.y /= num;
          return this;
        },
        // @method multiplyBy(num: Number): Point
        // Returns the result of multiplication of the current point by the given number.
        multiplyBy: function(num) {
          return this.clone()._multiplyBy(num);
        },
        _multiplyBy: function(num) {
          this.x *= num;
          this.y *= num;
          return this;
        },
        // @method scaleBy(scale: Point): Point
        // Multiply each coordinate of the current point by each coordinate of
        // `scale`. In linear algebra terms, multiply the point by the
        // [scaling matrix](https://en.wikipedia.org/wiki/Scaling_%28geometry%29#Matrix_representation)
        // defined by `scale`.
        scaleBy: function(point) {
          return new Point(this.x * point.x, this.y * point.y);
        },
        // @method unscaleBy(scale: Point): Point
        // Inverse of `scaleBy`. Divide each coordinate of the current point by
        // each coordinate of `scale`.
        unscaleBy: function(point) {
          return new Point(this.x / point.x, this.y / point.y);
        },
        // @method round(): Point
        // Returns a copy of the current point with rounded coordinates.
        round: function() {
          return this.clone()._round();
        },
        _round: function() {
          this.x = Math.round(this.x);
          this.y = Math.round(this.y);
          return this;
        },
        // @method floor(): Point
        // Returns a copy of the current point with floored coordinates (rounded down).
        floor: function() {
          return this.clone()._floor();
        },
        _floor: function() {
          this.x = Math.floor(this.x);
          this.y = Math.floor(this.y);
          return this;
        },
        // @method ceil(): Point
        // Returns a copy of the current point with ceiled coordinates (rounded up).
        ceil: function() {
          return this.clone()._ceil();
        },
        _ceil: function() {
          this.x = Math.ceil(this.x);
          this.y = Math.ceil(this.y);
          return this;
        },
        // @method trunc(): Point
        // Returns a copy of the current point with truncated coordinates (rounded towards zero).
        trunc: function() {
          return this.clone()._trunc();
        },
        _trunc: function() {
          this.x = trunc(this.x);
          this.y = trunc(this.y);
          return this;
        },
        // @method distanceTo(otherPoint: Point): Number
        // Returns the cartesian distance between the current and the given points.
        distanceTo: function(point) {
          point = toPoint(point);
          var x = point.x - this.x, y = point.y - this.y;
          return Math.sqrt(x * x + y * y);
        },
        // @method equals(otherPoint: Point): Boolean
        // Returns `true` if the given point has the same coordinates.
        equals: function(point) {
          point = toPoint(point);
          return point.x === this.x && point.y === this.y;
        },
        // @method contains(otherPoint: Point): Boolean
        // Returns `true` if both coordinates of the given point are less than the corresponding current point coordinates (in absolute values).
        contains: function(point) {
          point = toPoint(point);
          return Math.abs(point.x) <= Math.abs(this.x) && Math.abs(point.y) <= Math.abs(this.y);
        },
        // @method toString(): String
        // Returns a string representation of the point for debugging purposes.
        toString: function() {
          return "Point(" + formatNum(this.x) + ", " + formatNum(this.y) + ")";
        }
      };
      function toPoint(x, y, round) {
        if (x instanceof Point) {
          return x;
        }
        if (isArray(x)) {
          return new Point(x[0], x[1]);
        }
        if (x === void 0 || x === null) {
          return x;
        }
        if (typeof x === "object" && "x" in x && "y" in x) {
          return new Point(x.x, x.y);
        }
        return new Point(x, y, round);
      }
      function Bounds(a, b) {
        if (!a) {
          return;
        }
        var points = b ? [a, b] : a;
        for (var i = 0, len = points.length; i < len; i++) {
          this.extend(points[i]);
        }
      }
      Bounds.prototype = {
        // @method extend(point: Point): this
        // Extends the bounds to contain the given point.
        // @alternative
        // @method extend(otherBounds: Bounds): this
        // Extend the bounds to contain the given bounds
        extend: function(obj) {
          var min2, max2;
          if (!obj) {
            return this;
          }
          if (obj instanceof Point || typeof obj[0] === "number" || "x" in obj) {
            min2 = max2 = toPoint(obj);
          } else {
            obj = toBounds(obj);
            min2 = obj.min;
            max2 = obj.max;
            if (!min2 || !max2) {
              return this;
            }
          }
          if (!this.min && !this.max) {
            this.min = min2.clone();
            this.max = max2.clone();
          } else {
            this.min.x = Math.min(min2.x, this.min.x);
            this.max.x = Math.max(max2.x, this.max.x);
            this.min.y = Math.min(min2.y, this.min.y);
            this.max.y = Math.max(max2.y, this.max.y);
          }
          return this;
        },
        // @method getCenter(round?: Boolean): Point
        // Returns the center point of the bounds.
        getCenter: function(round) {
          return toPoint(
            (this.min.x + this.max.x) / 2,
            (this.min.y + this.max.y) / 2,
            round
          );
        },
        // @method getBottomLeft(): Point
        // Returns the bottom-left point of the bounds.
        getBottomLeft: function() {
          return toPoint(this.min.x, this.max.y);
        },
        // @method getTopRight(): Point
        // Returns the top-right point of the bounds.
        getTopRight: function() {
          return toPoint(this.max.x, this.min.y);
        },
        // @method getTopLeft(): Point
        // Returns the top-left point of the bounds (i.e. [`this.min`](#bounds-min)).
        getTopLeft: function() {
          return this.min;
        },
        // @method getBottomRight(): Point
        // Returns the bottom-right point of the bounds (i.e. [`this.max`](#bounds-max)).
        getBottomRight: function() {
          return this.max;
        },
        // @method getSize(): Point
        // Returns the size of the given bounds
        getSize: function() {
          return this.max.subtract(this.min);
        },
        // @method contains(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle contains the given one.
        // @alternative
        // @method contains(point: Point): Boolean
        // Returns `true` if the rectangle contains the given point.
        contains: function(obj) {
          var min, max;
          if (typeof obj[0] === "number" || obj instanceof Point) {
            obj = toPoint(obj);
          } else {
            obj = toBounds(obj);
          }
          if (obj instanceof Bounds) {
            min = obj.min;
            max = obj.max;
          } else {
            min = max = obj;
          }
          return min.x >= this.min.x && max.x <= this.max.x && min.y >= this.min.y && max.y <= this.max.y;
        },
        // @method intersects(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle intersects the given bounds. Two bounds
        // intersect if they have at least one point in common.
        intersects: function(bounds) {
          bounds = toBounds(bounds);
          var min = this.min, max = this.max, min2 = bounds.min, max2 = bounds.max, xIntersects = max2.x >= min.x && min2.x <= max.x, yIntersects = max2.y >= min.y && min2.y <= max.y;
          return xIntersects && yIntersects;
        },
        // @method overlaps(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle overlaps the given bounds. Two bounds
        // overlap if their intersection is an area.
        overlaps: function(bounds) {
          bounds = toBounds(bounds);
          var min = this.min, max = this.max, min2 = bounds.min, max2 = bounds.max, xOverlaps = max2.x > min.x && min2.x < max.x, yOverlaps = max2.y > min.y && min2.y < max.y;
          return xOverlaps && yOverlaps;
        },
        // @method isValid(): Boolean
        // Returns `true` if the bounds are properly initialized.
        isValid: function() {
          return !!(this.min && this.max);
        },
        // @method pad(bufferRatio: Number): Bounds
        // Returns bounds created by extending or retracting the current bounds by a given ratio in each direction.
        // For example, a ratio of 0.5 extends the bounds by 50% in each direction.
        // Negative values will retract the bounds.
        pad: function(bufferRatio) {
          var min = this.min, max = this.max, heightBuffer = Math.abs(min.x - max.x) * bufferRatio, widthBuffer = Math.abs(min.y - max.y) * bufferRatio;
          return toBounds(
            toPoint(min.x - heightBuffer, min.y - widthBuffer),
            toPoint(max.x + heightBuffer, max.y + widthBuffer)
          );
        },
        // @method equals(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle is equivalent to the given bounds.
        equals: function(bounds) {
          if (!bounds) {
            return false;
          }
          bounds = toBounds(bounds);
          return this.min.equals(bounds.getTopLeft()) && this.max.equals(bounds.getBottomRight());
        }
      };
      function toBounds(a, b) {
        if (!a || a instanceof Bounds) {
          return a;
        }
        return new Bounds(a, b);
      }
      function LatLngBounds(corner1, corner2) {
        if (!corner1) {
          return;
        }
        var latlngs = corner2 ? [corner1, corner2] : corner1;
        for (var i = 0, len = latlngs.length; i < len; i++) {
          this.extend(latlngs[i]);
        }
      }
      LatLngBounds.prototype = {
        // @method extend(latlng: LatLng): this
        // Extend the bounds to contain the given point
        // @alternative
        // @method extend(otherBounds: LatLngBounds): this
        // Extend the bounds to contain the given bounds
        extend: function(obj) {
          var sw = this._southWest, ne = this._northEast, sw2, ne2;
          if (obj instanceof LatLng2) {
            sw2 = obj;
            ne2 = obj;
          } else if (obj instanceof LatLngBounds) {
            sw2 = obj._southWest;
            ne2 = obj._northEast;
            if (!sw2 || !ne2) {
              return this;
            }
          } else {
            return obj ? this.extend(toLatLng(obj) || toLatLngBounds(obj)) : this;
          }
          if (!sw && !ne) {
            this._southWest = new LatLng2(sw2.lat, sw2.lng);
            this._northEast = new LatLng2(ne2.lat, ne2.lng);
          } else {
            sw.lat = Math.min(sw2.lat, sw.lat);
            sw.lng = Math.min(sw2.lng, sw.lng);
            ne.lat = Math.max(ne2.lat, ne.lat);
            ne.lng = Math.max(ne2.lng, ne.lng);
          }
          return this;
        },
        // @method pad(bufferRatio: Number): LatLngBounds
        // Returns bounds created by extending or retracting the current bounds by a given ratio in each direction.
        // For example, a ratio of 0.5 extends the bounds by 50% in each direction.
        // Negative values will retract the bounds.
        pad: function(bufferRatio) {
          var sw = this._southWest, ne = this._northEast, heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio, widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;
          return new LatLngBounds(
            new LatLng2(sw.lat - heightBuffer, sw.lng - widthBuffer),
            new LatLng2(ne.lat + heightBuffer, ne.lng + widthBuffer)
          );
        },
        // @method getCenter(): LatLng
        // Returns the center point of the bounds.
        getCenter: function() {
          return new LatLng2(
            (this._southWest.lat + this._northEast.lat) / 2,
            (this._southWest.lng + this._northEast.lng) / 2
          );
        },
        // @method getSouthWest(): LatLng
        // Returns the south-west point of the bounds.
        getSouthWest: function() {
          return this._southWest;
        },
        // @method getNorthEast(): LatLng
        // Returns the north-east point of the bounds.
        getNorthEast: function() {
          return this._northEast;
        },
        // @method getNorthWest(): LatLng
        // Returns the north-west point of the bounds.
        getNorthWest: function() {
          return new LatLng2(this.getNorth(), this.getWest());
        },
        // @method getSouthEast(): LatLng
        // Returns the south-east point of the bounds.
        getSouthEast: function() {
          return new LatLng2(this.getSouth(), this.getEast());
        },
        // @method getWest(): Number
        // Returns the west longitude of the bounds
        getWest: function() {
          return this._southWest.lng;
        },
        // @method getSouth(): Number
        // Returns the south latitude of the bounds
        getSouth: function() {
          return this._southWest.lat;
        },
        // @method getEast(): Number
        // Returns the east longitude of the bounds
        getEast: function() {
          return this._northEast.lng;
        },
        // @method getNorth(): Number
        // Returns the north latitude of the bounds
        getNorth: function() {
          return this._northEast.lat;
        },
        // @method contains(otherBounds: LatLngBounds): Boolean
        // Returns `true` if the rectangle contains the given one.
        // @alternative
        // @method contains (latlng: LatLng): Boolean
        // Returns `true` if the rectangle contains the given point.
        contains: function(obj) {
          if (typeof obj[0] === "number" || obj instanceof LatLng2 || "lat" in obj) {
            obj = toLatLng(obj);
          } else {
            obj = toLatLngBounds(obj);
          }
          var sw = this._southWest, ne = this._northEast, sw2, ne2;
          if (obj instanceof LatLngBounds) {
            sw2 = obj.getSouthWest();
            ne2 = obj.getNorthEast();
          } else {
            sw2 = ne2 = obj;
          }
          return sw2.lat >= sw.lat && ne2.lat <= ne.lat && sw2.lng >= sw.lng && ne2.lng <= ne.lng;
        },
        // @method intersects(otherBounds: LatLngBounds): Boolean
        // Returns `true` if the rectangle intersects the given bounds. Two bounds intersect if they have at least one point in common.
        intersects: function(bounds) {
          bounds = toLatLngBounds(bounds);
          var sw = this._southWest, ne = this._northEast, sw2 = bounds.getSouthWest(), ne2 = bounds.getNorthEast(), latIntersects = ne2.lat >= sw.lat && sw2.lat <= ne.lat, lngIntersects = ne2.lng >= sw.lng && sw2.lng <= ne.lng;
          return latIntersects && lngIntersects;
        },
        // @method overlaps(otherBounds: LatLngBounds): Boolean
        // Returns `true` if the rectangle overlaps the given bounds. Two bounds overlap if their intersection is an area.
        overlaps: function(bounds) {
          bounds = toLatLngBounds(bounds);
          var sw = this._southWest, ne = this._northEast, sw2 = bounds.getSouthWest(), ne2 = bounds.getNorthEast(), latOverlaps = ne2.lat > sw.lat && sw2.lat < ne.lat, lngOverlaps = ne2.lng > sw.lng && sw2.lng < ne.lng;
          return latOverlaps && lngOverlaps;
        },
        // @method toBBoxString(): String
        // Returns a string with bounding box coordinates in a 'southwest_lng,southwest_lat,northeast_lng,northeast_lat' format. Useful for sending requests to web services that return geo data.
        toBBoxString: function() {
          return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(",");
        },
        // @method equals(otherBounds: LatLngBounds, maxMargin?: Number): Boolean
        // Returns `true` if the rectangle is equivalent (within a small margin of error) to the given bounds. The margin of error can be overridden by setting `maxMargin` to a small number.
        equals: function(bounds, maxMargin) {
          if (!bounds) {
            return false;
          }
          bounds = toLatLngBounds(bounds);
          return this._southWest.equals(bounds.getSouthWest(), maxMargin) && this._northEast.equals(bounds.getNorthEast(), maxMargin);
        },
        // @method isValid(): Boolean
        // Returns `true` if the bounds are properly initialized.
        isValid: function() {
          return !!(this._southWest && this._northEast);
        }
      };
      function toLatLngBounds(a, b) {
        if (a instanceof LatLngBounds) {
          return a;
        }
        return new LatLngBounds(a, b);
      }
      function LatLng2(lat, lng, alt) {
        if (isNaN(lat) || isNaN(lng)) {
          throw new Error("Invalid LatLng object: (" + lat + ", " + lng + ")");
        }
        this.lat = +lat;
        this.lng = +lng;
        if (alt !== void 0) {
          this.alt = +alt;
        }
      }
      LatLng2.prototype = {
        // @method equals(otherLatLng: LatLng, maxMargin?: Number): Boolean
        // Returns `true` if the given `LatLng` point is at the same position (within a small margin of error). The margin of error can be overridden by setting `maxMargin` to a small number.
        equals: function(obj, maxMargin) {
          if (!obj) {
            return false;
          }
          obj = toLatLng(obj);
          var margin = Math.max(
            Math.abs(this.lat - obj.lat),
            Math.abs(this.lng - obj.lng)
          );
          return margin <= (maxMargin === void 0 ? 1e-9 : maxMargin);
        },
        // @method toString(): String
        // Returns a string representation of the point (for debugging purposes).
        toString: function(precision) {
          return "LatLng(" + formatNum(this.lat, precision) + ", " + formatNum(this.lng, precision) + ")";
        },
        // @method distanceTo(otherLatLng: LatLng): Number
        // Returns the distance (in meters) to the given `LatLng` calculated using the [Spherical Law of Cosines](https://en.wikipedia.org/wiki/Spherical_law_of_cosines).
        distanceTo: function(other) {
          return Earth.distance(this, toLatLng(other));
        },
        // @method wrap(): LatLng
        // Returns a new `LatLng` object with the longitude wrapped so it's always between -180 and +180 degrees.
        wrap: function() {
          return Earth.wrapLatLng(this);
        },
        // @method toBounds(sizeInMeters: Number): LatLngBounds
        // Returns a new `LatLngBounds` object in which each boundary is `sizeInMeters/2` meters apart from the `LatLng`.
        toBounds: function(sizeInMeters) {
          var latAccuracy = 180 * sizeInMeters / 40075017, lngAccuracy = latAccuracy / Math.cos(Math.PI / 180 * this.lat);
          return toLatLngBounds(
            [this.lat - latAccuracy, this.lng - lngAccuracy],
            [this.lat + latAccuracy, this.lng + lngAccuracy]
          );
        },
        clone: function() {
          return new LatLng2(this.lat, this.lng, this.alt);
        }
      };
      function toLatLng(a, b, c) {
        if (a instanceof LatLng2) {
          return a;
        }
        if (isArray(a) && typeof a[0] !== "object") {
          if (a.length === 3) {
            return new LatLng2(a[0], a[1], a[2]);
          }
          if (a.length === 2) {
            return new LatLng2(a[0], a[1]);
          }
          return null;
        }
        if (a === void 0 || a === null) {
          return a;
        }
        if (typeof a === "object" && "lat" in a) {
          return new LatLng2(a.lat, "lng" in a ? a.lng : a.lon, a.alt);
        }
        if (b === void 0) {
          return null;
        }
        return new LatLng2(a, b, c);
      }
      var CRS = {
        // @method latLngToPoint(latlng: LatLng, zoom: Number): Point
        // Projects geographical coordinates into pixel coordinates for a given zoom.
        latLngToPoint: function(latlng, zoom2) {
          var projectedPoint = this.projection.project(latlng), scale2 = this.scale(zoom2);
          return this.transformation._transform(projectedPoint, scale2);
        },
        // @method pointToLatLng(point: Point, zoom: Number): LatLng
        // The inverse of `latLngToPoint`. Projects pixel coordinates on a given
        // zoom into geographical coordinates.
        pointToLatLng: function(point, zoom2) {
          var scale2 = this.scale(zoom2), untransformedPoint = this.transformation.untransform(point, scale2);
          return this.projection.unproject(untransformedPoint);
        },
        // @method project(latlng: LatLng): Point
        // Projects geographical coordinates into coordinates in units accepted for
        // this CRS (e.g. meters for EPSG:3857, for passing it to WMS services).
        project: function(latlng) {
          return this.projection.project(latlng);
        },
        // @method unproject(point: Point): LatLng
        // Given a projected coordinate returns the corresponding LatLng.
        // The inverse of `project`.
        unproject: function(point) {
          return this.projection.unproject(point);
        },
        // @method scale(zoom: Number): Number
        // Returns the scale used when transforming projected coordinates into
        // pixel coordinates for a particular zoom. For example, it returns
        // `256 * 2^zoom` for Mercator-based CRS.
        scale: function(zoom2) {
          return 256 * Math.pow(2, zoom2);
        },
        // @method zoom(scale: Number): Number
        // Inverse of `scale()`, returns the zoom level corresponding to a scale
        // factor of `scale`.
        zoom: function(scale2) {
          return Math.log(scale2 / 256) / Math.LN2;
        },
        // @method getProjectedBounds(zoom: Number): Bounds
        // Returns the projection's bounds scaled and transformed for the provided `zoom`.
        getProjectedBounds: function(zoom2) {
          if (this.infinite) {
            return null;
          }
          var b = this.projection.bounds, s = this.scale(zoom2), min = this.transformation.transform(b.min, s), max = this.transformation.transform(b.max, s);
          return new Bounds(min, max);
        },
        // @method distance(latlng1: LatLng, latlng2: LatLng): Number
        // Returns the distance between two geographical coordinates.
        // @property code: String
        // Standard code name of the CRS passed into WMS services (e.g. `'EPSG:3857'`)
        //
        // @property wrapLng: Number[]
        // An array of two numbers defining whether the longitude (horizontal) coordinate
        // axis wraps around a given range and how. Defaults to `[-180, 180]` in most
        // geographical CRSs. If `undefined`, the longitude axis does not wrap around.
        //
        // @property wrapLat: Number[]
        // Like `wrapLng`, but for the latitude (vertical) axis.
        // wrapLng: [min, max],
        // wrapLat: [min, max],
        // @property infinite: Boolean
        // If true, the coordinate space will be unbounded (infinite in both axes)
        infinite: false,
        // @method wrapLatLng(latlng: LatLng): LatLng
        // Returns a `LatLng` where lat and lng has been wrapped according to the
        // CRS's `wrapLat` and `wrapLng` properties, if they are outside the CRS's bounds.
        wrapLatLng: function(latlng) {
          var lng = this.wrapLng ? wrapNum(latlng.lng, this.wrapLng, true) : latlng.lng, lat = this.wrapLat ? wrapNum(latlng.lat, this.wrapLat, true) : latlng.lat, alt = latlng.alt;
          return new LatLng2(lat, lng, alt);
        },
        // @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds
        // Returns a `LatLngBounds` with the same size as the given one, ensuring
        // that its center is within the CRS's bounds.
        // Only accepts actual `L.LatLngBounds` instances, not arrays.
        wrapLatLngBounds: function(bounds) {
          var center = bounds.getCenter(), newCenter = this.wrapLatLng(center), latShift = center.lat - newCenter.lat, lngShift = center.lng - newCenter.lng;
          if (latShift === 0 && lngShift === 0) {
            return bounds;
          }
          var sw = bounds.getSouthWest(), ne = bounds.getNorthEast(), newSw = new LatLng2(sw.lat - latShift, sw.lng - lngShift), newNe = new LatLng2(ne.lat - latShift, ne.lng - lngShift);
          return new LatLngBounds(newSw, newNe);
        }
      };
      var Earth = extend({}, CRS, {
        wrapLng: [-180, 180],
        // Mean Earth Radius, as recommended for use by
        // the International Union of Geodesy and Geophysics,
        // see https://rosettacode.org/wiki/Haversine_formula
        R: 6371e3,
        // distance between two geographical points using spherical law of cosines approximation
        distance: function(latlng1, latlng2) {
          var rad = Math.PI / 180, lat1 = latlng1.lat * rad, lat2 = latlng2.lat * rad, sinDLat = Math.sin((latlng2.lat - latlng1.lat) * rad / 2), sinDLon = Math.sin((latlng2.lng - latlng1.lng) * rad / 2), a = sinDLat * sinDLat + Math.cos(lat1) * Math.cos(lat2) * sinDLon * sinDLon, c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
          return this.R * c;
        }
      });
      var earthRadius = 6378137;
      var SphericalMercator = {
        R: earthRadius,
        MAX_LATITUDE: 85.0511287798,
        project: function(latlng) {
          var d = Math.PI / 180, max = this.MAX_LATITUDE, lat = Math.max(Math.min(max, latlng.lat), -max), sin = Math.sin(lat * d);
          return new Point(
            this.R * latlng.lng * d,
            this.R * Math.log((1 + sin) / (1 - sin)) / 2
          );
        },
        unproject: function(point) {
          var d = 180 / Math.PI;
          return new LatLng2(
            (2 * Math.atan(Math.exp(point.y / this.R)) - Math.PI / 2) * d,
            point.x * d / this.R
          );
        },
        bounds: function() {
          var d = earthRadius * Math.PI;
          return new Bounds([-d, -d], [d, d]);
        }()
      };
      function Transformation(a, b, c, d) {
        if (isArray(a)) {
          this._a = a[0];
          this._b = a[1];
          this._c = a[2];
          this._d = a[3];
          return;
        }
        this._a = a;
        this._b = b;
        this._c = c;
        this._d = d;
      }
      Transformation.prototype = {
        // @method transform(point: Point, scale?: Number): Point
        // Returns a transformed point, optionally multiplied by the given scale.
        // Only accepts actual `L.Point` instances, not arrays.
        transform: function(point, scale2) {
          return this._transform(point.clone(), scale2);
        },
        // destructive transform (faster)
        _transform: function(point, scale2) {
          scale2 = scale2 || 1;
          point.x = scale2 * (this._a * point.x + this._b);
          point.y = scale2 * (this._c * point.y + this._d);
          return point;
        },
        // @method untransform(point: Point, scale?: Number): Point
        // Returns the reverse transformation of the given point, optionally divided
        // by the given scale. Only accepts actual `L.Point` instances, not arrays.
        untransform: function(point, scale2) {
          scale2 = scale2 || 1;
          return new Point(
            (point.x / scale2 - this._b) / this._a,
            (point.y / scale2 - this._d) / this._c
          );
        }
      };
      function toTransformation(a, b, c, d) {
        return new Transformation(a, b, c, d);
      }
      var EPSG3857 = extend({}, Earth, {
        code: "EPSG:3857",
        projection: SphericalMercator,
        transformation: function() {
          var scale2 = 0.5 / (Math.PI * SphericalMercator.R);
          return toTransformation(scale2, 0.5, -scale2, 0.5);
        }()
      });
      var EPSG900913 = extend({}, EPSG3857, {
        code: "EPSG:900913"
      });
      function svgCreate(name) {
        return document.createElementNS("http://www.w3.org/2000/svg", name);
      }
      function pointsToPath(rings, closed) {
        var str = "", i, j, len, len2, points, p;
        for (i = 0, len = rings.length; i < len; i++) {
          points = rings[i];
          for (j = 0, len2 = points.length; j < len2; j++) {
            p = points[j];
            str += (j ? "L" : "M") + p.x + " " + p.y;
          }
          str += closed ? Browser.svg ? "z" : "x" : "";
        }
        return str || "M0 0";
      }
      var style = document.documentElement.style;
      var ie = "ActiveXObject" in window;
      var ielt9 = ie && !document.addEventListener;
      var edge = "msLaunchUri" in navigator && !("documentMode" in document);
      var webkit = userAgentContains("webkit");
      var android = userAgentContains("android");
      var android23 = userAgentContains("android 2") || userAgentContains("android 3");
      var webkitVer = parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1], 10);
      var androidStock = android && userAgentContains("Google") && webkitVer < 537 && !("AudioNode" in window);
      var opera = !!window.opera;
      var chrome = !edge && userAgentContains("chrome");
      var gecko = userAgentContains("gecko") && !webkit && !opera && !ie;
      var safari = !chrome && userAgentContains("safari");
      var phantom = userAgentContains("phantom");
      var opera12 = "OTransition" in style;
      var win = navigator.platform.indexOf("Win") === 0;
      var ie3d = ie && "transition" in style;
      var webkit3d = "WebKitCSSMatrix" in window && "m11" in new window.WebKitCSSMatrix() && !android23;
      var gecko3d = "MozPerspective" in style;
      var any3d = !window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d) && !opera12 && !phantom;
      var mobile = typeof orientation !== "undefined" || userAgentContains("mobile");
      var mobileWebkit = mobile && webkit;
      var mobileWebkit3d = mobile && webkit3d;
      var msPointer = !window.PointerEvent && window.MSPointerEvent;
      var pointer = !!(window.PointerEvent || msPointer);
      var touchNative = "ontouchstart" in window || !!window.TouchEvent;
      var touch = !window.L_NO_TOUCH && (touchNative || pointer);
      var mobileOpera = mobile && opera;
      var mobileGecko = mobile && gecko;
      var retina = (window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI) > 1;
      var passiveEvents = function() {
        var supportsPassiveOption = false;
        try {
          var opts = Object.defineProperty({}, "passive", {
            get: function() {
              supportsPassiveOption = true;
            }
          });
          window.addEventListener("testPassiveEventSupport", falseFn, opts);
          window.removeEventListener("testPassiveEventSupport", falseFn, opts);
        } catch (e) {
        }
        return supportsPassiveOption;
      }();
      var canvas$1 = function() {
        return !!document.createElement("canvas").getContext;
      }();
      var svg$1 = !!(document.createElementNS && svgCreate("svg").createSVGRect);
      var inlineSvg = !!svg$1 && function() {
        var div = document.createElement("div");
        div.innerHTML = "<svg/>";
        return (div.firstChild && div.firstChild.namespaceURI) === "http://www.w3.org/2000/svg";
      }();
      var vml = !svg$1 && function() {
        try {
          var div = document.createElement("div");
          div.innerHTML = '<v:shape adj="1"/>';
          var shape = div.firstChild;
          shape.style.behavior = "url(#default#VML)";
          return shape && typeof shape.adj === "object";
        } catch (e) {
          return false;
        }
      }();
      var mac = navigator.platform.indexOf("Mac") === 0;
      var linux = navigator.platform.indexOf("Linux") === 0;
      function userAgentContains(str) {
        return navigator.userAgent.toLowerCase().indexOf(str) >= 0;
      }
      var Browser = {
        ie,
        ielt9,
        edge,
        webkit,
        android,
        android23,
        androidStock,
        opera,
        chrome,
        gecko,
        safari,
        phantom,
        opera12,
        win,
        ie3d,
        webkit3d,
        gecko3d,
        any3d,
        mobile,
        mobileWebkit,
        mobileWebkit3d,
        msPointer,
        pointer,
        touch,
        touchNative,
        mobileOpera,
        mobileGecko,
        retina,
        passiveEvents,
        canvas: canvas$1,
        svg: svg$1,
        vml,
        inlineSvg,
        mac,
        linux
      };
      var POINTER_DOWN = Browser.msPointer ? "MSPointerDown" : "pointerdown";
      var POINTER_MOVE = Browser.msPointer ? "MSPointerMove" : "pointermove";
      var POINTER_UP = Browser.msPointer ? "MSPointerUp" : "pointerup";
      var POINTER_CANCEL = Browser.msPointer ? "MSPointerCancel" : "pointercancel";
      var pEvent = {
        touchstart: POINTER_DOWN,
        touchmove: POINTER_MOVE,
        touchend: POINTER_UP,
        touchcancel: POINTER_CANCEL
      };
      var handle = {
        touchstart: _onPointerStart,
        touchmove: _handlePointer,
        touchend: _handlePointer,
        touchcancel: _handlePointer
      };
      var _pointers = {};
      var _pointerDocListener = false;
      function addPointerListener(obj, type, handler) {
        if (type === "touchstart") {
          _addPointerDocListener();
        }
        if (!handle[type]) {
          console.warn("wrong event specified:", type);
          return falseFn;
        }
        handler = handle[type].bind(this, handler);
        obj.addEventListener(pEvent[type], handler, false);
        return handler;
      }
      function removePointerListener(obj, type, handler) {
        if (!pEvent[type]) {
          console.warn("wrong event specified:", type);
          return;
        }
        obj.removeEventListener(pEvent[type], handler, false);
      }
      function _globalPointerDown(e) {
        _pointers[e.pointerId] = e;
      }
      function _globalPointerMove(e) {
        if (_pointers[e.pointerId]) {
          _pointers[e.pointerId] = e;
        }
      }
      function _globalPointerUp(e) {
        delete _pointers[e.pointerId];
      }
      function _addPointerDocListener() {
        if (!_pointerDocListener) {
          document.addEventListener(POINTER_DOWN, _globalPointerDown, true);
          document.addEventListener(POINTER_MOVE, _globalPointerMove, true);
          document.addEventListener(POINTER_UP, _globalPointerUp, true);
          document.addEventListener(POINTER_CANCEL, _globalPointerUp, true);
          _pointerDocListener = true;
        }
      }
      function _handlePointer(handler, e) {
        if (e.pointerType === (e.MSPOINTER_TYPE_MOUSE || "mouse")) {
          return;
        }
        e.touches = [];
        for (var i in _pointers) {
          e.touches.push(_pointers[i]);
        }
        e.changedTouches = [e];
        handler(e);
      }
      function _onPointerStart(handler, e) {
        if (e.MSPOINTER_TYPE_TOUCH && e.pointerType === e.MSPOINTER_TYPE_TOUCH) {
          preventDefault(e);
        }
        _handlePointer(handler, e);
      }
      function makeDblclick(event) {
        var newEvent = {}, prop, i;
        for (i in event) {
          prop = event[i];
          newEvent[i] = prop && prop.bind ? prop.bind(event) : prop;
        }
        event = newEvent;
        newEvent.type = "dblclick";
        newEvent.detail = 2;
        newEvent.isTrusted = false;
        newEvent._simulated = true;
        return newEvent;
      }
      var delay = 200;
      function addDoubleTapListener(obj, handler) {
        obj.addEventListener("dblclick", handler);
        var last = 0, detail;
        function simDblclick(e) {
          if (e.detail !== 1) {
            detail = e.detail;
            return;
          }
          if (e.pointerType === "mouse" || e.sourceCapabilities && !e.sourceCapabilities.firesTouchEvents) {
            return;
          }
          var path = getPropagationPath(e);
          if (path.some(function(el) {
            return el instanceof HTMLLabelElement && el.attributes.for;
          }) && !path.some(function(el) {
            return el instanceof HTMLInputElement || el instanceof HTMLSelectElement;
          })) {
            return;
          }
          var now = Date.now();
          if (now - last <= delay) {
            detail++;
            if (detail === 2) {
              handler(makeDblclick(e));
            }
          } else {
            detail = 1;
          }
          last = now;
        }
        obj.addEventListener("click", simDblclick);
        return {
          dblclick: handler,
          simDblclick
        };
      }
      function removeDoubleTapListener(obj, handlers) {
        obj.removeEventListener("dblclick", handlers.dblclick);
        obj.removeEventListener("click", handlers.simDblclick);
      }
      var TRANSFORM = testProp(
        ["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]
      );
      var TRANSITION = testProp(
        ["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]
      );
      var TRANSITION_END = TRANSITION === "webkitTransition" || TRANSITION === "OTransition" ? TRANSITION + "End" : "transitionend";
      function get(id) {
        return typeof id === "string" ? document.getElementById(id) : id;
      }
      function getStyle(el, style2) {
        var value = el.style[style2] || el.currentStyle && el.currentStyle[style2];
        if ((!value || value === "auto") && document.defaultView) {
          var css = document.defaultView.getComputedStyle(el, null);
          value = css ? css[style2] : null;
        }
        return value === "auto" ? null : value;
      }
      function create$1(tagName, className, container) {
        var el = document.createElement(tagName);
        el.className = className || "";
        if (container) {
          container.appendChild(el);
        }
        return el;
      }
      function remove(el) {
        var parent = el.parentNode;
        if (parent) {
          parent.removeChild(el);
        }
      }
      function empty(el) {
        while (el.firstChild) {
          el.removeChild(el.firstChild);
        }
      }
      function toFront(el) {
        var parent = el.parentNode;
        if (parent && parent.lastChild !== el) {
          parent.appendChild(el);
        }
      }
      function toBack(el) {
        var parent = el.parentNode;
        if (parent && parent.firstChild !== el) {
          parent.insertBefore(el, parent.firstChild);
        }
      }
      function hasClass(el, name) {
        if (el.classList !== void 0) {
          return el.classList.contains(name);
        }
        var className = getClass(el);
        return className.length > 0 && new RegExp("(^|\\s)" + name + "(\\s|$)").test(className);
      }
      function addClass(el, name) {
        if (el.classList !== void 0) {
          var classes = splitWords(name);
          for (var i = 0, len = classes.length; i < len; i++) {
            el.classList.add(classes[i]);
          }
        } else if (!hasClass(el, name)) {
          var className = getClass(el);
          setClass(el, (className ? className + " " : "") + name);
        }
      }
      function removeClass(el, name) {
        if (el.classList !== void 0) {
          el.classList.remove(name);
        } else {
          setClass(el, trim((" " + getClass(el) + " ").replace(" " + name + " ", " ")));
        }
      }
      function setClass(el, name) {
        if (el.className.baseVal === void 0) {
          el.className = name;
        } else {
          el.className.baseVal = name;
        }
      }
      function getClass(el) {
        if (el.correspondingElement) {
          el = el.correspondingElement;
        }
        return el.className.baseVal === void 0 ? el.className : el.className.baseVal;
      }
      function setOpacity(el, value) {
        if ("opacity" in el.style) {
          el.style.opacity = value;
        } else if ("filter" in el.style) {
          _setOpacityIE(el, value);
        }
      }
      function _setOpacityIE(el, value) {
        var filter = false, filterName = "DXImageTransform.Microsoft.Alpha";
        try {
          filter = el.filters.item(filterName);
        } catch (e) {
          if (value === 1) {
            return;
          }
        }
        value = Math.round(value * 100);
        if (filter) {
          filter.Enabled = value !== 100;
          filter.Opacity = value;
        } else {
          el.style.filter += " progid:" + filterName + "(opacity=" + value + ")";
        }
      }
      function testProp(props) {
        var style2 = document.documentElement.style;
        for (var i = 0; i < props.length; i++) {
          if (props[i] in style2) {
            return props[i];
          }
        }
        return false;
      }
      function setTransform(el, offset, scale2) {
        var pos = offset || new Point(0, 0);
        el.style[TRANSFORM] = (Browser.ie3d ? "translate(" + pos.x + "px," + pos.y + "px)" : "translate3d(" + pos.x + "px," + pos.y + "px,0)") + (scale2 ? " scale(" + scale2 + ")" : "");
      }
      function setPosition(el, point) {
        el._leaflet_pos = point;
        if (Browser.any3d) {
          setTransform(el, point);
        } else {
          el.style.left = point.x + "px";
          el.style.top = point.y + "px";
        }
      }
      function getPosition(el) {
        return el._leaflet_pos || new Point(0, 0);
      }
      var disableTextSelection;
      var enableTextSelection;
      var _userSelect;
      if ("onselectstart" in document) {
        disableTextSelection = function() {
          on(window, "selectstart", preventDefault);
        };
        enableTextSelection = function() {
          off(window, "selectstart", preventDefault);
        };
      } else {
        var userSelectProperty = testProp(
          ["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]
        );
        disableTextSelection = function() {
          if (userSelectProperty) {
            var style2 = document.documentElement.style;
            _userSelect = style2[userSelectProperty];
            style2[userSelectProperty] = "none";
          }
        };
        enableTextSelection = function() {
          if (userSelectProperty) {
            document.documentElement.style[userSelectProperty] = _userSelect;
            _userSelect = void 0;
          }
        };
      }
      function disableImageDrag() {
        on(window, "dragstart", preventDefault);
      }
      function enableImageDrag() {
        off(window, "dragstart", preventDefault);
      }
      var _outlineElement, _outlineStyle;
      function preventOutline(element) {
        while (element.tabIndex === -1) {
          element = element.parentNode;
        }
        if (!element.style) {
          return;
        }
        restoreOutline();
        _outlineElement = element;
        _outlineStyle = element.style.outlineStyle;
        element.style.outlineStyle = "none";
        on(window, "keydown", restoreOutline);
      }
      function restoreOutline() {
        if (!_outlineElement) {
          return;
        }
        _outlineElement.style.outlineStyle = _outlineStyle;
        _outlineElement = void 0;
        _outlineStyle = void 0;
        off(window, "keydown", restoreOutline);
      }
      function getSizedParentNode(element) {
        do {
          element = element.parentNode;
        } while ((!element.offsetWidth || !element.offsetHeight) && element !== document.body);
        return element;
      }
      function getScale(element) {
        var rect = element.getBoundingClientRect();
        return {
          x: rect.width / element.offsetWidth || 1,
          y: rect.height / element.offsetHeight || 1,
          boundingClientRect: rect
        };
      }
      var DomUtil = {
        __proto__: null,
        TRANSFORM,
        TRANSITION,
        TRANSITION_END,
        get,
        getStyle,
        create: create$1,
        remove,
        empty,
        toFront,
        toBack,
        hasClass,
        addClass,
        removeClass,
        setClass,
        getClass,
        setOpacity,
        testProp,
        setTransform,
        setPosition,
        getPosition,
        get disableTextSelection() {
          return disableTextSelection;
        },
        get enableTextSelection() {
          return enableTextSelection;
        },
        disableImageDrag,
        enableImageDrag,
        preventOutline,
        restoreOutline,
        getSizedParentNode,
        getScale
      };
      function on(obj, types, fn, context) {
        if (types && typeof types === "object") {
          for (var type in types) {
            addOne(obj, type, types[type], fn);
          }
        } else {
          types = splitWords(types);
          for (var i = 0, len = types.length; i < len; i++) {
            addOne(obj, types[i], fn, context);
          }
        }
        return this;
      }
      var eventsKey = "_leaflet_events";
      function off(obj, types, fn, context) {
        if (arguments.length === 1) {
          batchRemove(obj);
          delete obj[eventsKey];
        } else if (types && typeof types === "object") {
          for (var type in types) {
            removeOne(obj, type, types[type], fn);
          }
        } else {
          types = splitWords(types);
          if (arguments.length === 2) {
            batchRemove(obj, function(type2) {
              return indexOf(types, type2) !== -1;
            });
          } else {
            for (var i = 0, len = types.length; i < len; i++) {
              removeOne(obj, types[i], fn, context);
            }
          }
        }
        return this;
      }
      function batchRemove(obj, filterFn) {
        for (var id in obj[eventsKey]) {
          var type = id.split(/\d/)[0];
          if (!filterFn || filterFn(type)) {
            removeOne(obj, type, null, null, id);
          }
        }
      }
      var mouseSubst = {
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        wheel: !("onwheel" in window) && "mousewheel"
      };
      function addOne(obj, type, fn, context) {
        var id = type + stamp(fn) + (context ? "_" + stamp(context) : "");
        if (obj[eventsKey] && obj[eventsKey][id]) {
          return this;
        }
        var handler = function(e) {
          return fn.call(context || obj, e || window.event);
        };
        var originalHandler = handler;
        if (!Browser.touchNative && Browser.pointer && type.indexOf("touch") === 0) {
          handler = addPointerListener(obj, type, handler);
        } else if (Browser.touch && type === "dblclick") {
          handler = addDoubleTapListener(obj, handler);
        } else if ("addEventListener" in obj) {
          if (type === "touchstart" || type === "touchmove" || type === "wheel" || type === "mousewheel") {
            obj.addEventListener(mouseSubst[type] || type, handler, Browser.passiveEvents ? { passive: false } : false);
          } else if (type === "mouseenter" || type === "mouseleave") {
            handler = function(e) {
              e = e || window.event;
              if (isExternalTarget(obj, e)) {
                originalHandler(e);
              }
            };
            obj.addEventListener(mouseSubst[type], handler, false);
          } else {
            obj.addEventListener(type, originalHandler, false);
          }
        } else {
          obj.attachEvent("on" + type, handler);
        }
        obj[eventsKey] = obj[eventsKey] || {};
        obj[eventsKey][id] = handler;
      }
      function removeOne(obj, type, fn, context, id) {
        id = id || type + stamp(fn) + (context ? "_" + stamp(context) : "");
        var handler = obj[eventsKey] && obj[eventsKey][id];
        if (!handler) {
          return this;
        }
        if (!Browser.touchNative && Browser.pointer && type.indexOf("touch") === 0) {
          removePointerListener(obj, type, handler);
        } else if (Browser.touch && type === "dblclick") {
          removeDoubleTapListener(obj, handler);
        } else if ("removeEventListener" in obj) {
          obj.removeEventListener(mouseSubst[type] || type, handler, false);
        } else {
          obj.detachEvent("on" + type, handler);
        }
        obj[eventsKey][id] = null;
      }
      function stopPropagation(e) {
        if (e.stopPropagation) {
          e.stopPropagation();
        } else if (e.originalEvent) {
          e.originalEvent._stopped = true;
        } else {
          e.cancelBubble = true;
        }
        return this;
      }
      function disableScrollPropagation(el) {
        addOne(el, "wheel", stopPropagation);
        return this;
      }
      function disableClickPropagation(el) {
        on(el, "mousedown touchstart dblclick contextmenu", stopPropagation);
        el["_leaflet_disable_click"] = true;
        return this;
      }
      function preventDefault(e) {
        if (e.preventDefault) {
          e.preventDefault();
        } else {
          e.returnValue = false;
        }
        return this;
      }
      function stop(e) {
        preventDefault(e);
        stopPropagation(e);
        return this;
      }
      function getPropagationPath(ev) {
        if (ev.composedPath) {
          return ev.composedPath();
        }
        var path = [];
        var el = ev.target;
        while (el) {
          path.push(el);
          el = el.parentNode;
        }
        return path;
      }
      function getMousePosition(e, container) {
        if (!container) {
          return new Point(e.clientX, e.clientY);
        }
        var scale2 = getScale(container), offset = scale2.boundingClientRect;
        return new Point(
          // offset.left/top values are in page scale (like clientX/Y),
          // whereas clientLeft/Top (border width) values are the original values (before CSS scale applies).
          (e.clientX - offset.left) / scale2.x - container.clientLeft,
          (e.clientY - offset.top) / scale2.y - container.clientTop
        );
      }
      var wheelPxFactor = Browser.linux && Browser.chrome ? window.devicePixelRatio : Browser.mac ? window.devicePixelRatio * 3 : window.devicePixelRatio > 0 ? 2 * window.devicePixelRatio : 1;
      function getWheelDelta(e) {
        return Browser.edge ? e.wheelDeltaY / 2 : (
          // Don't trust window-geometry-based delta
          e.deltaY && e.deltaMode === 0 ? -e.deltaY / wheelPxFactor : (
            // Pixels
            e.deltaY && e.deltaMode === 1 ? -e.deltaY * 20 : (
              // Lines
              e.deltaY && e.deltaMode === 2 ? -e.deltaY * 60 : (
                // Pages
                e.deltaX || e.deltaZ ? 0 : (
                  // Skip horizontal/depth wheel events
                  e.wheelDelta ? (e.wheelDeltaY || e.wheelDelta) / 2 : (
                    // Legacy IE pixels
                    e.detail && Math.abs(e.detail) < 32765 ? -e.detail * 20 : (
                      // Legacy Moz lines
                      e.detail ? e.detail / -32765 * 60 : (
                        // Legacy Moz pages
                        0
                      )
                    )
                  )
                )
              )
            )
          )
        );
      }
      function isExternalTarget(el, e) {
        var related = e.relatedTarget;
        if (!related) {
          return true;
        }
        try {
          while (related && related !== el) {
            related = related.parentNode;
          }
        } catch (err) {
          return false;
        }
        return related !== el;
      }
      var DomEvent = {
        __proto__: null,
        on,
        off,
        stopPropagation,
        disableScrollPropagation,
        disableClickPropagation,
        preventDefault,
        stop,
        getPropagationPath,
        getMousePosition,
        getWheelDelta,
        isExternalTarget,
        addListener: on,
        removeListener: off
      };
      var PosAnimation = Evented.extend({
        // @method run(el: HTMLElement, newPos: Point, duration?: Number, easeLinearity?: Number)
        // Run an animation of a given element to a new position, optionally setting
        // duration in seconds (`0.25` by default) and easing linearity factor (3rd
        // argument of the [cubic bezier curve](https://cubic-bezier.com/#0,0,.5,1),
        // `0.5` by default).
        run: function(el, newPos, duration, easeLinearity) {
          this.stop();
          this._el = el;
          this._inProgress = true;
          this._duration = duration || 0.25;
          this._easeOutPower = 1 / Math.max(easeLinearity || 0.5, 0.2);
          this._startPos = getPosition(el);
          this._offset = newPos.subtract(this._startPos);
          this._startTime = +/* @__PURE__ */ new Date();
          this.fire("start");
          this._animate();
        },
        // @method stop()
        // Stops the animation (if currently running).
        stop: function() {
          if (!this._inProgress) {
            return;
          }
          this._step(true);
          this._complete();
        },
        _animate: function() {
          this._animId = requestAnimFrame(this._animate, this);
          this._step();
        },
        _step: function(round) {
          var elapsed = +/* @__PURE__ */ new Date() - this._startTime, duration = this._duration * 1e3;
          if (elapsed < duration) {
            this._runFrame(this._easeOut(elapsed / duration), round);
          } else {
            this._runFrame(1);
            this._complete();
          }
        },
        _runFrame: function(progress, round) {
          var pos = this._startPos.add(this._offset.multiplyBy(progress));
          if (round) {
            pos._round();
          }
          setPosition(this._el, pos);
          this.fire("step");
        },
        _complete: function() {
          cancelAnimFrame(this._animId);
          this._inProgress = false;
          this.fire("end");
        },
        _easeOut: function(t) {
          return 1 - Math.pow(1 - t, this._easeOutPower);
        }
      });
      var Map2 = Evented.extend({
        options: {
          // @section Map State Options
          // @option crs: CRS = L.CRS.EPSG3857
          // The [Coordinate Reference System](#crs) to use. Don't change this if you're not
          // sure what it means.
          crs: EPSG3857,
          // @option center: LatLng = undefined
          // Initial geographic center of the map
          center: void 0,
          // @option zoom: Number = undefined
          // Initial map zoom level
          zoom: void 0,
          // @option minZoom: Number = *
          // Minimum zoom level of the map.
          // If not specified and at least one `GridLayer` or `TileLayer` is in the map,
          // the lowest of their `minZoom` options will be used instead.
          minZoom: void 0,
          // @option maxZoom: Number = *
          // Maximum zoom level of the map.
          // If not specified and at least one `GridLayer` or `TileLayer` is in the map,
          // the highest of their `maxZoom` options will be used instead.
          maxZoom: void 0,
          // @option layers: Layer[] = []
          // Array of layers that will be added to the map initially
          layers: [],
          // @option maxBounds: LatLngBounds = null
          // When this option is set, the map restricts the view to the given
          // geographical bounds, bouncing the user back if the user tries to pan
          // outside the view. To set the restriction dynamically, use
          // [`setMaxBounds`](#map-setmaxbounds) method.
          maxBounds: void 0,
          // @option renderer: Renderer = *
          // The default method for drawing vector layers on the map. `L.SVG`
          // or `L.Canvas` by default depending on browser support.
          renderer: void 0,
          // @section Animation Options
          // @option zoomAnimation: Boolean = true
          // Whether the map zoom animation is enabled. By default it's enabled
          // in all browsers that support CSS3 Transitions except Android.
          zoomAnimation: true,
          // @option zoomAnimationThreshold: Number = 4
          // Won't animate zoom if the zoom difference exceeds this value.
          zoomAnimationThreshold: 4,
          // @option fadeAnimation: Boolean = true
          // Whether the tile fade animation is enabled. By default it's enabled
          // in all browsers that support CSS3 Transitions except Android.
          fadeAnimation: true,
          // @option markerZoomAnimation: Boolean = true
          // Whether markers animate their zoom with the zoom animation, if disabled
          // they will disappear for the length of the animation. By default it's
          // enabled in all browsers that support CSS3 Transitions except Android.
          markerZoomAnimation: true,
          // @option transform3DLimit: Number = 2^23
          // Defines the maximum size of a CSS translation transform. The default
          // value should not be changed unless a web browser positions layers in
          // the wrong place after doing a large `panBy`.
          transform3DLimit: 8388608,
          // Precision limit of a 32-bit float
          // @section Interaction Options
          // @option zoomSnap: Number = 1
          // Forces the map's zoom level to always be a multiple of this, particularly
          // right after a [`fitBounds()`](#map-fitbounds) or a pinch-zoom.
          // By default, the zoom level snaps to the nearest integer; lower values
          // (e.g. `0.5` or `0.1`) allow for greater granularity. A value of `0`
          // means the zoom level will not be snapped after `fitBounds` or a pinch-zoom.
          zoomSnap: 1,
          // @option zoomDelta: Number = 1
          // Controls how much the map's zoom level will change after a
          // [`zoomIn()`](#map-zoomin), [`zoomOut()`](#map-zoomout), pressing `+`
          // or `-` on the keyboard, or using the [zoom controls](#control-zoom).
          // Values smaller than `1` (e.g. `0.5`) allow for greater granularity.
          zoomDelta: 1,
          // @option trackResize: Boolean = true
          // Whether the map automatically handles browser window resize to update itself.
          trackResize: true
        },
        initialize: function(id, options) {
          options = setOptions(this, options);
          this._handlers = [];
          this._layers = {};
          this._zoomBoundLayers = {};
          this._sizeChanged = true;
          this._initContainer(id);
          this._initLayout();
          this._onResize = bind(this._onResize, this);
          this._initEvents();
          if (options.maxBounds) {
            this.setMaxBounds(options.maxBounds);
          }
          if (options.zoom !== void 0) {
            this._zoom = this._limitZoom(options.zoom);
          }
          if (options.center && options.zoom !== void 0) {
            this.setView(toLatLng(options.center), options.zoom, { reset: true });
          }
          this.callInitHooks();
          this._zoomAnimated = TRANSITION && Browser.any3d && !Browser.mobileOpera && this.options.zoomAnimation;
          if (this._zoomAnimated) {
            this._createAnimProxy();
            on(this._proxy, TRANSITION_END, this._catchTransitionEnd, this);
          }
          this._addLayers(this.options.layers);
        },
        // @section Methods for modifying map state
        // @method setView(center: LatLng, zoom: Number, options?: Zoom/pan options): this
        // Sets the view of the map (geographical center and zoom) with the given
        // animation options.
        setView: function(center, zoom2, options) {
          zoom2 = zoom2 === void 0 ? this._zoom : this._limitZoom(zoom2);
          center = this._limitCenter(toLatLng(center), zoom2, this.options.maxBounds);
          options = options || {};
          this._stop();
          if (this._loaded && !options.reset && options !== true) {
            if (options.animate !== void 0) {
              options.zoom = extend({ animate: options.animate }, options.zoom);
              options.pan = extend({ animate: options.animate, duration: options.duration }, options.pan);
            }
            var moved = this._zoom !== zoom2 ? this._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom2, options.zoom) : this._tryAnimatedPan(center, options.pan);
            if (moved) {
              clearTimeout(this._sizeTimer);
              return this;
            }
          }
          this._resetView(center, zoom2, options.pan && options.pan.noMoveStart);
          return this;
        },
        // @method setZoom(zoom: Number, options?: Zoom/pan options): this
        // Sets the zoom of the map.
        setZoom: function(zoom2, options) {
          if (!this._loaded) {
            this._zoom = zoom2;
            return this;
          }
          return this.setView(this.getCenter(), zoom2, { zoom: options });
        },
        // @method zoomIn(delta?: Number, options?: Zoom options): this
        // Increases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).
        zoomIn: function(delta, options) {
          delta = delta || (Browser.any3d ? this.options.zoomDelta : 1);
          return this.setZoom(this._zoom + delta, options);
        },
        // @method zoomOut(delta?: Number, options?: Zoom options): this
        // Decreases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).
        zoomOut: function(delta, options) {
          delta = delta || (Browser.any3d ? this.options.zoomDelta : 1);
          return this.setZoom(this._zoom - delta, options);
        },
        // @method setZoomAround(latlng: LatLng, zoom: Number, options: Zoom options): this
        // Zooms the map while keeping a specified geographical point on the map
        // stationary (e.g. used internally for scroll zoom and double-click zoom).
        // @alternative
        // @method setZoomAround(offset: Point, zoom: Number, options: Zoom options): this
        // Zooms the map while keeping a specified pixel on the map (relative to the top-left corner) stationary.
        setZoomAround: function(latlng, zoom2, options) {
          var scale2 = this.getZoomScale(zoom2), viewHalf = this.getSize().divideBy(2), containerPoint = latlng instanceof Point ? latlng : this.latLngToContainerPoint(latlng), centerOffset = containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale2), newCenter = this.containerPointToLatLng(viewHalf.add(centerOffset));
          return this.setView(newCenter, zoom2, { zoom: options });
        },
        _getBoundsCenterZoom: function(bounds, options) {
          options = options || {};
          bounds = bounds.getBounds ? bounds.getBounds() : toLatLngBounds(bounds);
          var paddingTL = toPoint(options.paddingTopLeft || options.padding || [0, 0]), paddingBR = toPoint(options.paddingBottomRight || options.padding || [0, 0]), zoom2 = this.getBoundsZoom(bounds, false, paddingTL.add(paddingBR));
          zoom2 = typeof options.maxZoom === "number" ? Math.min(options.maxZoom, zoom2) : zoom2;
          if (zoom2 === Infinity) {
            return {
              center: bounds.getCenter(),
              zoom: zoom2
            };
          }
          var paddingOffset = paddingBR.subtract(paddingTL).divideBy(2), swPoint = this.project(bounds.getSouthWest(), zoom2), nePoint = this.project(bounds.getNorthEast(), zoom2), center = this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset), zoom2);
          return {
            center,
            zoom: zoom2
          };
        },
        // @method fitBounds(bounds: LatLngBounds, options?: fitBounds options): this
        // Sets a map view that contains the given geographical bounds with the
        // maximum zoom level possible.
        fitBounds: function(bounds, options) {
          bounds = toLatLngBounds(bounds);
          if (!bounds.isValid()) {
            throw new Error("Bounds are not valid.");
          }
          var target = this._getBoundsCenterZoom(bounds, options);
          return this.setView(target.center, target.zoom, options);
        },
        // @method fitWorld(options?: fitBounds options): this
        // Sets a map view that mostly contains the whole world with the maximum
        // zoom level possible.
        fitWorld: function(options) {
          return this.fitBounds([[-90, -180], [90, 180]], options);
        },
        // @method panTo(latlng: LatLng, options?: Pan options): this
        // Pans the map to a given center.
        panTo: function(center, options) {
          return this.setView(center, this._zoom, { pan: options });
        },
        // @method panBy(offset: Point, options?: Pan options): this
        // Pans the map by a given number of pixels (animated).
        panBy: function(offset, options) {
          offset = toPoint(offset).round();
          options = options || {};
          if (!offset.x && !offset.y) {
            return this.fire("moveend");
          }
          if (options.animate !== true && !this.getSize().contains(offset)) {
            this._resetView(this.unproject(this.project(this.getCenter()).add(offset)), this.getZoom());
            return this;
          }
          if (!this._panAnim) {
            this._panAnim = new PosAnimation();
            this._panAnim.on({
              "step": this._onPanTransitionStep,
              "end": this._onPanTransitionEnd
            }, this);
          }
          if (!options.noMoveStart) {
            this.fire("movestart");
          }
          if (options.animate !== false) {
            addClass(this._mapPane, "leaflet-pan-anim");
            var newPos = this._getMapPanePos().subtract(offset).round();
            this._panAnim.run(this._mapPane, newPos, options.duration || 0.25, options.easeLinearity);
          } else {
            this._rawPanBy(offset);
            this.fire("move").fire("moveend");
          }
          return this;
        },
        // @method flyTo(latlng: LatLng, zoom?: Number, options?: Zoom/pan options): this
        // Sets the view of the map (geographical center and zoom) performing a smooth
        // pan-zoom animation.
        flyTo: function(targetCenter, targetZoom, options) {
          options = options || {};
          if (options.animate === false || !Browser.any3d) {
            return this.setView(targetCenter, targetZoom, options);
          }
          this._stop();
          var from = this.project(this.getCenter()), to = this.project(targetCenter), size = this.getSize(), startZoom = this._zoom;
          targetCenter = toLatLng(targetCenter);
          targetZoom = targetZoom === void 0 ? startZoom : targetZoom;
          var w0 = Math.max(size.x, size.y), w1 = w0 * this.getZoomScale(startZoom, targetZoom), u1 = to.distanceTo(from) || 1, rho = 1.42, rho2 = rho * rho;
          function r(i) {
            var s1 = i ? -1 : 1, s2 = i ? w1 : w0, t1 = w1 * w1 - w0 * w0 + s1 * rho2 * rho2 * u1 * u1, b1 = 2 * s2 * rho2 * u1, b = t1 / b1, sq = Math.sqrt(b * b + 1) - b;
            var log = sq < 1e-9 ? -18 : Math.log(sq);
            return log;
          }
          function sinh(n) {
            return (Math.exp(n) - Math.exp(-n)) / 2;
          }
          function cosh(n) {
            return (Math.exp(n) + Math.exp(-n)) / 2;
          }
          function tanh(n) {
            return sinh(n) / cosh(n);
          }
          var r0 = r(0);
          function w(s) {
            return w0 * (cosh(r0) / cosh(r0 + rho * s));
          }
          function u(s) {
            return w0 * (cosh(r0) * tanh(r0 + rho * s) - sinh(r0)) / rho2;
          }
          function easeOut(t) {
            return 1 - Math.pow(1 - t, 1.5);
          }
          var start = Date.now(), S = (r(1) - r0) / rho, duration = options.duration ? 1e3 * options.duration : 1e3 * S * 0.8;
          function frame() {
            var t = (Date.now() - start) / duration, s = easeOut(t) * S;
            if (t <= 1) {
              this._flyToFrame = requestAnimFrame(frame, this);
              this._move(
                this.unproject(from.add(to.subtract(from).multiplyBy(u(s) / u1)), startZoom),
                this.getScaleZoom(w0 / w(s), startZoom),
                { flyTo: true }
              );
            } else {
              this._move(targetCenter, targetZoom)._moveEnd(true);
            }
          }
          this._moveStart(true, options.noMoveStart);
          frame.call(this);
          return this;
        },
        // @method flyToBounds(bounds: LatLngBounds, options?: fitBounds options): this
        // Sets the view of the map with a smooth animation like [`flyTo`](#map-flyto),
        // but takes a bounds parameter like [`fitBounds`](#map-fitbounds).
        flyToBounds: function(bounds, options) {
          var target = this._getBoundsCenterZoom(bounds, options);
          return this.flyTo(target.center, target.zoom, options);
        },
        // @method setMaxBounds(bounds: LatLngBounds): this
        // Restricts the map view to the given bounds (see the [maxBounds](#map-maxbounds) option).
        setMaxBounds: function(bounds) {
          bounds = toLatLngBounds(bounds);
          if (this.listens("moveend", this._panInsideMaxBounds)) {
            this.off("moveend", this._panInsideMaxBounds);
          }
          if (!bounds.isValid()) {
            this.options.maxBounds = null;
            return this;
          }
          this.options.maxBounds = bounds;
          if (this._loaded) {
            this._panInsideMaxBounds();
          }
          return this.on("moveend", this._panInsideMaxBounds);
        },
        // @method setMinZoom(zoom: Number): this
        // Sets the lower limit for the available zoom levels (see the [minZoom](#map-minzoom) option).
        setMinZoom: function(zoom2) {
          var oldZoom = this.options.minZoom;
          this.options.minZoom = zoom2;
          if (this._loaded && oldZoom !== zoom2) {
            this.fire("zoomlevelschange");
            if (this.getZoom() < this.options.minZoom) {
              return this.setZoom(zoom2);
            }
          }
          return this;
        },
        // @method setMaxZoom(zoom: Number): this
        // Sets the upper limit for the available zoom levels (see the [maxZoom](#map-maxzoom) option).
        setMaxZoom: function(zoom2) {
          var oldZoom = this.options.maxZoom;
          this.options.maxZoom = zoom2;
          if (this._loaded && oldZoom !== zoom2) {
            this.fire("zoomlevelschange");
            if (this.getZoom() > this.options.maxZoom) {
              return this.setZoom(zoom2);
            }
          }
          return this;
        },
        // @method panInsideBounds(bounds: LatLngBounds, options?: Pan options): this
        // Pans the map to the closest view that would lie inside the given bounds (if it's not already), controlling the animation using the options specific, if any.
        panInsideBounds: function(bounds, options) {
          this._enforcingBounds = true;
          var center = this.getCenter(), newCenter = this._limitCenter(center, this._zoom, toLatLngBounds(bounds));
          if (!center.equals(newCenter)) {
            this.panTo(newCenter, options);
          }
          this._enforcingBounds = false;
          return this;
        },
        // @method panInside(latlng: LatLng, options?: padding options): this
        // Pans the map the minimum amount to make the `latlng` visible. Use
        // padding options to fit the display to more restricted bounds.
        // If `latlng` is already within the (optionally padded) display bounds,
        // the map will not be panned.
        panInside: function(latlng, options) {
          options = options || {};
          var paddingTL = toPoint(options.paddingTopLeft || options.padding || [0, 0]), paddingBR = toPoint(options.paddingBottomRight || options.padding || [0, 0]), pixelCenter = this.project(this.getCenter()), pixelPoint = this.project(latlng), pixelBounds = this.getPixelBounds(), paddedBounds = toBounds([pixelBounds.min.add(paddingTL), pixelBounds.max.subtract(paddingBR)]), paddedSize = paddedBounds.getSize();
          if (!paddedBounds.contains(pixelPoint)) {
            this._enforcingBounds = true;
            var centerOffset = pixelPoint.subtract(paddedBounds.getCenter());
            var offset = paddedBounds.extend(pixelPoint).getSize().subtract(paddedSize);
            pixelCenter.x += centerOffset.x < 0 ? -offset.x : offset.x;
            pixelCenter.y += centerOffset.y < 0 ? -offset.y : offset.y;
            this.panTo(this.unproject(pixelCenter), options);
            this._enforcingBounds = false;
          }
          return this;
        },
        // @method invalidateSize(options: Zoom/pan options): this
        // Checks if the map container size changed and updates the map if so —
        // call it after you've changed the map size dynamically, also animating
        // pan by default. If `options.pan` is `false`, panning will not occur.
        // If `options.debounceMoveend` is `true`, it will delay `moveend` event so
        // that it doesn't happen often even if the method is called many
        // times in a row.
        // @alternative
        // @method invalidateSize(animate: Boolean): this
        // Checks if the map container size changed and updates the map if so —
        // call it after you've changed the map size dynamically, also animating
        // pan by default.
        invalidateSize: function(options) {
          if (!this._loaded) {
            return this;
          }
          options = extend({
            animate: false,
            pan: true
          }, options === true ? { animate: true } : options);
          var oldSize = this.getSize();
          this._sizeChanged = true;
          this._lastCenter = null;
          var newSize = this.getSize(), oldCenter = oldSize.divideBy(2).round(), newCenter = newSize.divideBy(2).round(), offset = oldCenter.subtract(newCenter);
          if (!offset.x && !offset.y) {
            return this;
          }
          if (options.animate && options.pan) {
            this.panBy(offset);
          } else {
            if (options.pan) {
              this._rawPanBy(offset);
            }
            this.fire("move");
            if (options.debounceMoveend) {
              clearTimeout(this._sizeTimer);
              this._sizeTimer = setTimeout(bind(this.fire, this, "moveend"), 200);
            } else {
              this.fire("moveend");
            }
          }
          return this.fire("resize", {
            oldSize,
            newSize
          });
        },
        // @section Methods for modifying map state
        // @method stop(): this
        // Stops the currently running `panTo` or `flyTo` animation, if any.
        stop: function() {
          this.setZoom(this._limitZoom(this._zoom));
          if (!this.options.zoomSnap) {
            this.fire("viewreset");
          }
          return this._stop();
        },
        // @section Geolocation methods
        // @method locate(options?: Locate options): this
        // Tries to locate the user using the Geolocation API, firing a [`locationfound`](#map-locationfound)
        // event with location data on success or a [`locationerror`](#map-locationerror) event on failure,
        // and optionally sets the map view to the user's location with respect to
        // detection accuracy (or to the world view if geolocation failed).
        // Note that, if your page doesn't use HTTPS, this method will fail in
        // modern browsers ([Chrome 50 and newer](https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins))
        // See `Locate options` for more details.
        locate: function(options) {
          options = this._locateOptions = extend({
            timeout: 1e4,
            watch: false
            // setView: false
            // maxZoom: <Number>
            // maximumAge: 0
            // enableHighAccuracy: false
          }, options);
          if (!("geolocation" in navigator)) {
            this._handleGeolocationError({
              code: 0,
              message: "Geolocation not supported."
            });
            return this;
          }
          var onResponse = bind(this._handleGeolocationResponse, this), onError = bind(this._handleGeolocationError, this);
          if (options.watch) {
            this._locationWatchId = navigator.geolocation.watchPosition(onResponse, onError, options);
          } else {
            navigator.geolocation.getCurrentPosition(onResponse, onError, options);
          }
          return this;
        },
        // @method stopLocate(): this
        // Stops watching location previously initiated by `map.locate({watch: true})`
        // and aborts resetting the map view if map.locate was called with
        // `{setView: true}`.
        stopLocate: function() {
          if (navigator.geolocation && navigator.geolocation.clearWatch) {
            navigator.geolocation.clearWatch(this._locationWatchId);
          }
          if (this._locateOptions) {
            this._locateOptions.setView = false;
          }
          return this;
        },
        _handleGeolocationError: function(error) {
          if (!this._container._leaflet_id) {
            return;
          }
          var c = error.code, message = error.message || (c === 1 ? "permission denied" : c === 2 ? "position unavailable" : "timeout");
          if (this._locateOptions.setView && !this._loaded) {
            this.fitWorld();
          }
          this.fire("locationerror", {
            code: c,
            message: "Geolocation error: " + message + "."
          });
        },
        _handleGeolocationResponse: function(pos) {
          if (!this._container._leaflet_id) {
            return;
          }
          var lat = pos.coords.latitude, lng = pos.coords.longitude, latlng = new LatLng2(lat, lng), bounds = latlng.toBounds(pos.coords.accuracy * 2), options = this._locateOptions;
          if (options.setView) {
            var zoom2 = this.getBoundsZoom(bounds);
            this.setView(latlng, options.maxZoom ? Math.min(zoom2, options.maxZoom) : zoom2);
          }
          var data = {
            latlng,
            bounds,
            timestamp: pos.timestamp
          };
          for (var i in pos.coords) {
            if (typeof pos.coords[i] === "number") {
              data[i] = pos.coords[i];
            }
          }
          this.fire("locationfound", data);
        },
        // TODO Appropriate docs section?
        // @section Other Methods
        // @method addHandler(name: String, HandlerClass: Function): this
        // Adds a new `Handler` to the map, given its name and constructor function.
        addHandler: function(name, HandlerClass) {
          if (!HandlerClass) {
            return this;
          }
          var handler = this[name] = new HandlerClass(this);
          this._handlers.push(handler);
          if (this.options[name]) {
            handler.enable();
          }
          return this;
        },
        // @method remove(): this
        // Destroys the map and clears all related event listeners.
        remove: function() {
          this._initEvents(true);
          if (this.options.maxBounds) {
            this.off("moveend", this._panInsideMaxBounds);
          }
          if (this._containerId !== this._container._leaflet_id) {
            throw new Error("Map container is being reused by another instance");
          }
          try {
            delete this._container._leaflet_id;
            delete this._containerId;
          } catch (e) {
            this._container._leaflet_id = void 0;
            this._containerId = void 0;
          }
          if (this._locationWatchId !== void 0) {
            this.stopLocate();
          }
          this._stop();
          remove(this._mapPane);
          if (this._clearControlPos) {
            this._clearControlPos();
          }
          if (this._resizeRequest) {
            cancelAnimFrame(this._resizeRequest);
            this._resizeRequest = null;
          }
          this._clearHandlers();
          if (this._loaded) {
            this.fire("unload");
          }
          var i;
          for (i in this._layers) {
            this._layers[i].remove();
          }
          for (i in this._panes) {
            remove(this._panes[i]);
          }
          this._layers = [];
          this._panes = [];
          delete this._mapPane;
          delete this._renderer;
          return this;
        },
        // @section Other Methods
        // @method createPane(name: String, container?: HTMLElement): HTMLElement
        // Creates a new [map pane](#map-pane) with the given name if it doesn't exist already,
        // then returns it. The pane is created as a child of `container`, or
        // as a child of the main map pane if not set.
        createPane: function(name, container) {
          var className = "leaflet-pane" + (name ? " leaflet-" + name.replace("Pane", "") + "-pane" : ""), pane = create$1("div", className, container || this._mapPane);
          if (name) {
            this._panes[name] = pane;
          }
          return pane;
        },
        // @section Methods for Getting Map State
        // @method getCenter(): LatLng
        // Returns the geographical center of the map view
        getCenter: function() {
          this._checkIfLoaded();
          if (this._lastCenter && !this._moved()) {
            return this._lastCenter.clone();
          }
          return this.layerPointToLatLng(this._getCenterLayerPoint());
        },
        // @method getZoom(): Number
        // Returns the current zoom level of the map view
        getZoom: function() {
          return this._zoom;
        },
        // @method getBounds(): LatLngBounds
        // Returns the geographical bounds visible in the current map view
        getBounds: function() {
          var bounds = this.getPixelBounds(), sw = this.unproject(bounds.getBottomLeft()), ne = this.unproject(bounds.getTopRight());
          return new LatLngBounds(sw, ne);
        },
        // @method getMinZoom(): Number
        // Returns the minimum zoom level of the map (if set in the `minZoom` option of the map or of any layers), or `0` by default.
        getMinZoom: function() {
          return this.options.minZoom === void 0 ? this._layersMinZoom || 0 : this.options.minZoom;
        },
        // @method getMaxZoom(): Number
        // Returns the maximum zoom level of the map (if set in the `maxZoom` option of the map or of any layers).
        getMaxZoom: function() {
          return this.options.maxZoom === void 0 ? this._layersMaxZoom === void 0 ? Infinity : this._layersMaxZoom : this.options.maxZoom;
        },
        // @method getBoundsZoom(bounds: LatLngBounds, inside?: Boolean, padding?: Point): Number
        // Returns the maximum zoom level on which the given bounds fit to the map
        // view in its entirety. If `inside` (optional) is set to `true`, the method
        // instead returns the minimum zoom level on which the map view fits into
        // the given bounds in its entirety.
        getBoundsZoom: function(bounds, inside, padding) {
          bounds = toLatLngBounds(bounds);
          padding = toPoint(padding || [0, 0]);
          var zoom2 = this.getZoom() || 0, min = this.getMinZoom(), max = this.getMaxZoom(), nw = bounds.getNorthWest(), se = bounds.getSouthEast(), size = this.getSize().subtract(padding), boundsSize = toBounds(this.project(se, zoom2), this.project(nw, zoom2)).getSize(), snap = Browser.any3d ? this.options.zoomSnap : 1, scalex = size.x / boundsSize.x, scaley = size.y / boundsSize.y, scale2 = inside ? Math.max(scalex, scaley) : Math.min(scalex, scaley);
          zoom2 = this.getScaleZoom(scale2, zoom2);
          if (snap) {
            zoom2 = Math.round(zoom2 / (snap / 100)) * (snap / 100);
            zoom2 = inside ? Math.ceil(zoom2 / snap) * snap : Math.floor(zoom2 / snap) * snap;
          }
          return Math.max(min, Math.min(max, zoom2));
        },
        // @method getSize(): Point
        // Returns the current size of the map container (in pixels).
        getSize: function() {
          if (!this._size || this._sizeChanged) {
            this._size = new Point(
              this._container.clientWidth || 0,
              this._container.clientHeight || 0
            );
            this._sizeChanged = false;
          }
          return this._size.clone();
        },
        // @method getPixelBounds(): Bounds
        // Returns the bounds of the current map view in projected pixel
        // coordinates (sometimes useful in layer and overlay implementations).
        getPixelBounds: function(center, zoom2) {
          var topLeftPoint = this._getTopLeftPoint(center, zoom2);
          return new Bounds(topLeftPoint, topLeftPoint.add(this.getSize()));
        },
        // TODO: Check semantics - isn't the pixel origin the 0,0 coord relative to
        // the map pane? "left point of the map layer" can be confusing, specially
        // since there can be negative offsets.
        // @method getPixelOrigin(): Point
        // Returns the projected pixel coordinates of the top left point of
        // the map layer (useful in custom layer and overlay implementations).
        getPixelOrigin: function() {
          this._checkIfLoaded();
          return this._pixelOrigin;
        },
        // @method getPixelWorldBounds(zoom?: Number): Bounds
        // Returns the world's bounds in pixel coordinates for zoom level `zoom`.
        // If `zoom` is omitted, the map's current zoom level is used.
        getPixelWorldBounds: function(zoom2) {
          return this.options.crs.getProjectedBounds(zoom2 === void 0 ? this.getZoom() : zoom2);
        },
        // @section Other Methods
        // @method getPane(pane: String|HTMLElement): HTMLElement
        // Returns a [map pane](#map-pane), given its name or its HTML element (its identity).
        getPane: function(pane) {
          return typeof pane === "string" ? this._panes[pane] : pane;
        },
        // @method getPanes(): Object
        // Returns a plain object containing the names of all [panes](#map-pane) as keys and
        // the panes as values.
        getPanes: function() {
          return this._panes;
        },
        // @method getContainer: HTMLElement
        // Returns the HTML element that contains the map.
        getContainer: function() {
          return this._container;
        },
        // @section Conversion Methods
        // @method getZoomScale(toZoom: Number, fromZoom: Number): Number
        // Returns the scale factor to be applied to a map transition from zoom level
        // `fromZoom` to `toZoom`. Used internally to help with zoom animations.
        getZoomScale: function(toZoom, fromZoom) {
          var crs = this.options.crs;
          fromZoom = fromZoom === void 0 ? this._zoom : fromZoom;
          return crs.scale(toZoom) / crs.scale(fromZoom);
        },
        // @method getScaleZoom(scale: Number, fromZoom: Number): Number
        // Returns the zoom level that the map would end up at, if it is at `fromZoom`
        // level and everything is scaled by a factor of `scale`. Inverse of
        // [`getZoomScale`](#map-getZoomScale).
        getScaleZoom: function(scale2, fromZoom) {
          var crs = this.options.crs;
          fromZoom = fromZoom === void 0 ? this._zoom : fromZoom;
          var zoom2 = crs.zoom(scale2 * crs.scale(fromZoom));
          return isNaN(zoom2) ? Infinity : zoom2;
        },
        // @method project(latlng: LatLng, zoom: Number): Point
        // Projects a geographical coordinate `LatLng` according to the projection
        // of the map's CRS, then scales it according to `zoom` and the CRS's
        // `Transformation`. The result is pixel coordinate relative to
        // the CRS origin.
        project: function(latlng, zoom2) {
          zoom2 = zoom2 === void 0 ? this._zoom : zoom2;
          return this.options.crs.latLngToPoint(toLatLng(latlng), zoom2);
        },
        // @method unproject(point: Point, zoom: Number): LatLng
        // Inverse of [`project`](#map-project).
        unproject: function(point, zoom2) {
          zoom2 = zoom2 === void 0 ? this._zoom : zoom2;
          return this.options.crs.pointToLatLng(toPoint(point), zoom2);
        },
        // @method layerPointToLatLng(point: Point): LatLng
        // Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),
        // returns the corresponding geographical coordinate (for the current zoom level).
        layerPointToLatLng: function(point) {
          var projectedPoint = toPoint(point).add(this.getPixelOrigin());
          return this.unproject(projectedPoint);
        },
        // @method latLngToLayerPoint(latlng: LatLng): Point
        // Given a geographical coordinate, returns the corresponding pixel coordinate
        // relative to the [origin pixel](#map-getpixelorigin).
        latLngToLayerPoint: function(latlng) {
          var projectedPoint = this.project(toLatLng(latlng))._round();
          return projectedPoint._subtract(this.getPixelOrigin());
        },
        // @method wrapLatLng(latlng: LatLng): LatLng
        // Returns a `LatLng` where `lat` and `lng` has been wrapped according to the
        // map's CRS's `wrapLat` and `wrapLng` properties, if they are outside the
        // CRS's bounds.
        // By default this means longitude is wrapped around the dateline so its
        // value is between -180 and +180 degrees.
        wrapLatLng: function(latlng) {
          return this.options.crs.wrapLatLng(toLatLng(latlng));
        },
        // @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds
        // Returns a `LatLngBounds` with the same size as the given one, ensuring that
        // its center is within the CRS's bounds.
        // By default this means the center longitude is wrapped around the dateline so its
        // value is between -180 and +180 degrees, and the majority of the bounds
        // overlaps the CRS's bounds.
        wrapLatLngBounds: function(latlng) {
          return this.options.crs.wrapLatLngBounds(toLatLngBounds(latlng));
        },
        // @method distance(latlng1: LatLng, latlng2: LatLng): Number
        // Returns the distance between two geographical coordinates according to
        // the map's CRS. By default this measures distance in meters.
        distance: function(latlng1, latlng2) {
          return this.options.crs.distance(toLatLng(latlng1), toLatLng(latlng2));
        },
        // @method containerPointToLayerPoint(point: Point): Point
        // Given a pixel coordinate relative to the map container, returns the corresponding
        // pixel coordinate relative to the [origin pixel](#map-getpixelorigin).
        containerPointToLayerPoint: function(point) {
          return toPoint(point).subtract(this._getMapPanePos());
        },
        // @method layerPointToContainerPoint(point: Point): Point
        // Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),
        // returns the corresponding pixel coordinate relative to the map container.
        layerPointToContainerPoint: function(point) {
          return toPoint(point).add(this._getMapPanePos());
        },
        // @method containerPointToLatLng(point: Point): LatLng
        // Given a pixel coordinate relative to the map container, returns
        // the corresponding geographical coordinate (for the current zoom level).
        containerPointToLatLng: function(point) {
          var layerPoint = this.containerPointToLayerPoint(toPoint(point));
          return this.layerPointToLatLng(layerPoint);
        },
        // @method latLngToContainerPoint(latlng: LatLng): Point
        // Given a geographical coordinate, returns the corresponding pixel coordinate
        // relative to the map container.
        latLngToContainerPoint: function(latlng) {
          return this.layerPointToContainerPoint(this.latLngToLayerPoint(toLatLng(latlng)));
        },
        // @method mouseEventToContainerPoint(ev: MouseEvent): Point
        // Given a MouseEvent object, returns the pixel coordinate relative to the
        // map container where the event took place.
        mouseEventToContainerPoint: function(e) {
          return getMousePosition(e, this._container);
        },
        // @method mouseEventToLayerPoint(ev: MouseEvent): Point
        // Given a MouseEvent object, returns the pixel coordinate relative to
        // the [origin pixel](#map-getpixelorigin) where the event took place.
        mouseEventToLayerPoint: function(e) {
          return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));
        },
        // @method mouseEventToLatLng(ev: MouseEvent): LatLng
        // Given a MouseEvent object, returns geographical coordinate where the
        // event took place.
        mouseEventToLatLng: function(e) {
          return this.layerPointToLatLng(this.mouseEventToLayerPoint(e));
        },
        // map initialization methods
        _initContainer: function(id) {
          var container = this._container = get(id);
          if (!container) {
            throw new Error("Map container not found.");
          } else if (container._leaflet_id) {
            throw new Error("Map container is already initialized.");
          }
          on(container, "scroll", this._onScroll, this);
          this._containerId = stamp(container);
        },
        _initLayout: function() {
          var container = this._container;
          this._fadeAnimated = this.options.fadeAnimation && Browser.any3d;
          addClass(container, "leaflet-container" + (Browser.touch ? " leaflet-touch" : "") + (Browser.retina ? " leaflet-retina" : "") + (Browser.ielt9 ? " leaflet-oldie" : "") + (Browser.safari ? " leaflet-safari" : "") + (this._fadeAnimated ? " leaflet-fade-anim" : ""));
          var position = getStyle(container, "position");
          if (position !== "absolute" && position !== "relative" && position !== "fixed" && position !== "sticky") {
            container.style.position = "relative";
          }
          this._initPanes();
          if (this._initControlPos) {
            this._initControlPos();
          }
        },
        _initPanes: function() {
          var panes = this._panes = {};
          this._paneRenderers = {};
          this._mapPane = this.createPane("mapPane", this._container);
          setPosition(this._mapPane, new Point(0, 0));
          this.createPane("tilePane");
          this.createPane("overlayPane");
          this.createPane("shadowPane");
          this.createPane("markerPane");
          this.createPane("tooltipPane");
          this.createPane("popupPane");
          if (!this.options.markerZoomAnimation) {
            addClass(panes.markerPane, "leaflet-zoom-hide");
            addClass(panes.shadowPane, "leaflet-zoom-hide");
          }
        },
        // private methods that modify map state
        // @section Map state change events
        _resetView: function(center, zoom2, noMoveStart) {
          setPosition(this._mapPane, new Point(0, 0));
          var loading = !this._loaded;
          this._loaded = true;
          zoom2 = this._limitZoom(zoom2);
          this.fire("viewprereset");
          var zoomChanged = this._zoom !== zoom2;
          this._moveStart(zoomChanged, noMoveStart)._move(center, zoom2)._moveEnd(zoomChanged);
          this.fire("viewreset");
          if (loading) {
            this.fire("load");
          }
        },
        _moveStart: function(zoomChanged, noMoveStart) {
          if (zoomChanged) {
            this.fire("zoomstart");
          }
          if (!noMoveStart) {
            this.fire("movestart");
          }
          return this;
        },
        _move: function(center, zoom2, data, supressEvent) {
          if (zoom2 === void 0) {
            zoom2 = this._zoom;
          }
          var zoomChanged = this._zoom !== zoom2;
          this._zoom = zoom2;
          this._lastCenter = center;
          this._pixelOrigin = this._getNewPixelOrigin(center);
          if (!supressEvent) {
            if (zoomChanged || data && data.pinch) {
              this.fire("zoom", data);
            }
            this.fire("move", data);
          } else if (data && data.pinch) {
            this.fire("zoom", data);
          }
          return this;
        },
        _moveEnd: function(zoomChanged) {
          if (zoomChanged) {
            this.fire("zoomend");
          }
          return this.fire("moveend");
        },
        _stop: function() {
          cancelAnimFrame(this._flyToFrame);
          if (this._panAnim) {
            this._panAnim.stop();
          }
          return this;
        },
        _rawPanBy: function(offset) {
          setPosition(this._mapPane, this._getMapPanePos().subtract(offset));
        },
        _getZoomSpan: function() {
          return this.getMaxZoom() - this.getMinZoom();
        },
        _panInsideMaxBounds: function() {
          if (!this._enforcingBounds) {
            this.panInsideBounds(this.options.maxBounds);
          }
        },
        _checkIfLoaded: function() {
          if (!this._loaded) {
            throw new Error("Set map center and zoom first.");
          }
        },
        // DOM event handling
        // @section Interaction events
        _initEvents: function(remove2) {
          this._targets = {};
          this._targets[stamp(this._container)] = this;
          var onOff = remove2 ? off : on;
          onOff(this._container, "click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup", this._handleDOMEvent, this);
          if (this.options.trackResize) {
            onOff(window, "resize", this._onResize, this);
          }
          if (Browser.any3d && this.options.transform3DLimit) {
            (remove2 ? this.off : this.on).call(this, "moveend", this._onMoveEnd);
          }
        },
        _onResize: function() {
          cancelAnimFrame(this._resizeRequest);
          this._resizeRequest = requestAnimFrame(
            function() {
              this.invalidateSize({ debounceMoveend: true });
            },
            this
          );
        },
        _onScroll: function() {
          this._container.scrollTop = 0;
          this._container.scrollLeft = 0;
        },
        _onMoveEnd: function() {
          var pos = this._getMapPanePos();
          if (Math.max(Math.abs(pos.x), Math.abs(pos.y)) >= this.options.transform3DLimit) {
            this._resetView(this.getCenter(), this.getZoom());
          }
        },
        _findEventTargets: function(e, type) {
          var targets = [], target, isHover = type === "mouseout" || type === "mouseover", src = e.target || e.srcElement, dragging = false;
          while (src) {
            target = this._targets[stamp(src)];
            if (target && (type === "click" || type === "preclick") && this._draggableMoved(target)) {
              dragging = true;
              break;
            }
            if (target && target.listens(type, true)) {
              if (isHover && !isExternalTarget(src, e)) {
                break;
              }
              targets.push(target);
              if (isHover) {
                break;
              }
            }
            if (src === this._container) {
              break;
            }
            src = src.parentNode;
          }
          if (!targets.length && !dragging && !isHover && this.listens(type, true)) {
            targets = [this];
          }
          return targets;
        },
        _isClickDisabled: function(el) {
          while (el && el !== this._container) {
            if (el["_leaflet_disable_click"]) {
              return true;
            }
            el = el.parentNode;
          }
        },
        _handleDOMEvent: function(e) {
          var el = e.target || e.srcElement;
          if (!this._loaded || el["_leaflet_disable_events"] || e.type === "click" && this._isClickDisabled(el)) {
            return;
          }
          var type = e.type;
          if (type === "mousedown") {
            preventOutline(el);
          }
          this._fireDOMEvent(e, type);
        },
        _mouseEvents: ["click", "dblclick", "mouseover", "mouseout", "contextmenu"],
        _fireDOMEvent: function(e, type, canvasTargets) {
          if (e.type === "click") {
            var synth = extend({}, e);
            synth.type = "preclick";
            this._fireDOMEvent(synth, synth.type, canvasTargets);
          }
          var targets = this._findEventTargets(e, type);
          if (canvasTargets) {
            var filtered = [];
            for (var i = 0; i < canvasTargets.length; i++) {
              if (canvasTargets[i].listens(type, true)) {
                filtered.push(canvasTargets[i]);
              }
            }
            targets = filtered.concat(targets);
          }
          if (!targets.length) {
            return;
          }
          if (type === "contextmenu") {
            preventDefault(e);
          }
          var target = targets[0];
          var data = {
            originalEvent: e
          };
          if (e.type !== "keypress" && e.type !== "keydown" && e.type !== "keyup") {
            var isMarker = target.getLatLng && (!target._radius || target._radius <= 10);
            data.containerPoint = isMarker ? this.latLngToContainerPoint(target.getLatLng()) : this.mouseEventToContainerPoint(e);
            data.layerPoint = this.containerPointToLayerPoint(data.containerPoint);
            data.latlng = isMarker ? target.getLatLng() : this.layerPointToLatLng(data.layerPoint);
          }
          for (i = 0; i < targets.length; i++) {
            targets[i].fire(type, data, true);
            if (data.originalEvent._stopped || targets[i].options.bubblingMouseEvents === false && indexOf(this._mouseEvents, type) !== -1) {
              return;
            }
          }
        },
        _draggableMoved: function(obj) {
          obj = obj.dragging && obj.dragging.enabled() ? obj : this;
          return obj.dragging && obj.dragging.moved() || this.boxZoom && this.boxZoom.moved();
        },
        _clearHandlers: function() {
          for (var i = 0, len = this._handlers.length; i < len; i++) {
            this._handlers[i].disable();
          }
        },
        // @section Other Methods
        // @method whenReady(fn: Function, context?: Object): this
        // Runs the given function `fn` when the map gets initialized with
        // a view (center and zoom) and at least one layer, or immediately
        // if it's already initialized, optionally passing a function context.
        whenReady: function(callback, context) {
          if (this._loaded) {
            callback.call(context || this, { target: this });
          } else {
            this.on("load", callback, context);
          }
          return this;
        },
        // private methods for getting map state
        _getMapPanePos: function() {
          return getPosition(this._mapPane) || new Point(0, 0);
        },
        _moved: function() {
          var pos = this._getMapPanePos();
          return pos && !pos.equals([0, 0]);
        },
        _getTopLeftPoint: function(center, zoom2) {
          var pixelOrigin = center && zoom2 !== void 0 ? this._getNewPixelOrigin(center, zoom2) : this.getPixelOrigin();
          return pixelOrigin.subtract(this._getMapPanePos());
        },
        _getNewPixelOrigin: function(center, zoom2) {
          var viewHalf = this.getSize()._divideBy(2);
          return this.project(center, zoom2)._subtract(viewHalf)._add(this._getMapPanePos())._round();
        },
        _latLngToNewLayerPoint: function(latlng, zoom2, center) {
          var topLeft = this._getNewPixelOrigin(center, zoom2);
          return this.project(latlng, zoom2)._subtract(topLeft);
        },
        _latLngBoundsToNewLayerBounds: function(latLngBounds2, zoom2, center) {
          var topLeft = this._getNewPixelOrigin(center, zoom2);
          return toBounds([
            this.project(latLngBounds2.getSouthWest(), zoom2)._subtract(topLeft),
            this.project(latLngBounds2.getNorthWest(), zoom2)._subtract(topLeft),
            this.project(latLngBounds2.getSouthEast(), zoom2)._subtract(topLeft),
            this.project(latLngBounds2.getNorthEast(), zoom2)._subtract(topLeft)
          ]);
        },
        // layer point of the current center
        _getCenterLayerPoint: function() {
          return this.containerPointToLayerPoint(this.getSize()._divideBy(2));
        },
        // offset of the specified place to the current center in pixels
        _getCenterOffset: function(latlng) {
          return this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());
        },
        // adjust center for view to get inside bounds
        _limitCenter: function(center, zoom2, bounds) {
          if (!bounds) {
            return center;
          }
          var centerPoint = this.project(center, zoom2), viewHalf = this.getSize().divideBy(2), viewBounds = new Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)), offset = this._getBoundsOffset(viewBounds, bounds, zoom2);
          if (Math.abs(offset.x) <= 1 && Math.abs(offset.y) <= 1) {
            return center;
          }
          return this.unproject(centerPoint.add(offset), zoom2);
        },
        // adjust offset for view to get inside bounds
        _limitOffset: function(offset, bounds) {
          if (!bounds) {
            return offset;
          }
          var viewBounds = this.getPixelBounds(), newBounds = new Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));
          return offset.add(this._getBoundsOffset(newBounds, bounds));
        },
        // returns offset needed for pxBounds to get inside maxBounds at a specified zoom
        _getBoundsOffset: function(pxBounds, maxBounds, zoom2) {
          var projectedMaxBounds = toBounds(
            this.project(maxBounds.getNorthEast(), zoom2),
            this.project(maxBounds.getSouthWest(), zoom2)
          ), minOffset = projectedMaxBounds.min.subtract(pxBounds.min), maxOffset = projectedMaxBounds.max.subtract(pxBounds.max), dx = this._rebound(minOffset.x, -maxOffset.x), dy = this._rebound(minOffset.y, -maxOffset.y);
          return new Point(dx, dy);
        },
        _rebound: function(left, right) {
          return left + right > 0 ? Math.round(left - right) / 2 : Math.max(0, Math.ceil(left)) - Math.max(0, Math.floor(right));
        },
        _limitZoom: function(zoom2) {
          var min = this.getMinZoom(), max = this.getMaxZoom(), snap = Browser.any3d ? this.options.zoomSnap : 1;
          if (snap) {
            zoom2 = Math.round(zoom2 / snap) * snap;
          }
          return Math.max(min, Math.min(max, zoom2));
        },
        _onPanTransitionStep: function() {
          this.fire("move");
        },
        _onPanTransitionEnd: function() {
          removeClass(this._mapPane, "leaflet-pan-anim");
          this.fire("moveend");
        },
        _tryAnimatedPan: function(center, options) {
          var offset = this._getCenterOffset(center)._trunc();
          if ((options && options.animate) !== true && !this.getSize().contains(offset)) {
            return false;
          }
          this.panBy(offset, options);
          return true;
        },
        _createAnimProxy: function() {
          var proxy = this._proxy = create$1("div", "leaflet-proxy leaflet-zoom-animated");
          this._panes.mapPane.appendChild(proxy);
          this.on("zoomanim", function(e) {
            var prop = TRANSFORM, transform = this._proxy.style[prop];
            setTransform(this._proxy, this.project(e.center, e.zoom), this.getZoomScale(e.zoom, 1));
            if (transform === this._proxy.style[prop] && this._animatingZoom) {
              this._onZoomTransitionEnd();
            }
          }, this);
          this.on("load moveend", this._animMoveEnd, this);
          this._on("unload", this._destroyAnimProxy, this);
        },
        _destroyAnimProxy: function() {
          remove(this._proxy);
          this.off("load moveend", this._animMoveEnd, this);
          delete this._proxy;
        },
        _animMoveEnd: function() {
          var c = this.getCenter(), z = this.getZoom();
          setTransform(this._proxy, this.project(c, z), this.getZoomScale(z, 1));
        },
        _catchTransitionEnd: function(e) {
          if (this._animatingZoom && e.propertyName.indexOf("transform") >= 0) {
            this._onZoomTransitionEnd();
          }
        },
        _nothingToAnimate: function() {
          return !this._container.getElementsByClassName("leaflet-zoom-animated").length;
        },
        _tryAnimatedZoom: function(center, zoom2, options) {
          if (this._animatingZoom) {
            return true;
          }
          options = options || {};
          if (!this._zoomAnimated || options.animate === false || this._nothingToAnimate() || Math.abs(zoom2 - this._zoom) > this.options.zoomAnimationThreshold) {
            return false;
          }
          var scale2 = this.getZoomScale(zoom2), offset = this._getCenterOffset(center)._divideBy(1 - 1 / scale2);
          if (options.animate !== true && !this.getSize().contains(offset)) {
            return false;
          }
          requestAnimFrame(function() {
            this._moveStart(true, options.noMoveStart || false)._animateZoom(center, zoom2, true);
          }, this);
          return true;
        },
        _animateZoom: function(center, zoom2, startAnim, noUpdate) {
          if (!this._mapPane) {
            return;
          }
          if (startAnim) {
            this._animatingZoom = true;
            this._animateToCenter = center;
            this._animateToZoom = zoom2;
            addClass(this._mapPane, "leaflet-zoom-anim");
          }
          this.fire("zoomanim", {
            center,
            zoom: zoom2,
            noUpdate
          });
          if (!this._tempFireZoomEvent) {
            this._tempFireZoomEvent = this._zoom !== this._animateToZoom;
          }
          this._move(this._animateToCenter, this._animateToZoom, void 0, true);
          setTimeout(bind(this._onZoomTransitionEnd, this), 250);
        },
        _onZoomTransitionEnd: function() {
          if (!this._animatingZoom) {
            return;
          }
          if (this._mapPane) {
            removeClass(this._mapPane, "leaflet-zoom-anim");
          }
          this._animatingZoom = false;
          this._move(this._animateToCenter, this._animateToZoom, void 0, true);
          if (this._tempFireZoomEvent) {
            this.fire("zoom");
          }
          delete this._tempFireZoomEvent;
          this.fire("move");
          this._moveEnd(true);
        }
      });
      function createMap(id, options) {
        return new Map2(id, options);
      }
      var Control = Class.extend({
        // @section
        // @aka Control Options
        options: {
          // @option position: String = 'topright'
          // The position of the control (one of the map corners). Possible values are `'topleft'`,
          // `'topright'`, `'bottomleft'` or `'bottomright'`
          position: "topright"
        },
        initialize: function(options) {
          setOptions(this, options);
        },
        /* @section
         * Classes extending L.Control will inherit the following methods:
         *
         * @method getPosition: string
         * Returns the position of the control.
         */
        getPosition: function() {
          return this.options.position;
        },
        // @method setPosition(position: string): this
        // Sets the position of the control.
        setPosition: function(position) {
          var map3 = this._map;
          if (map3) {
            map3.removeControl(this);
          }
          this.options.position = position;
          if (map3) {
            map3.addControl(this);
          }
          return this;
        },
        // @method getContainer: HTMLElement
        // Returns the HTMLElement that contains the control.
        getContainer: function() {
          return this._container;
        },
        // @method addTo(map: Map): this
        // Adds the control to the given map.
        addTo: function(map3) {
          this.remove();
          this._map = map3;
          var container = this._container = this.onAdd(map3), pos = this.getPosition(), corner = map3._controlCorners[pos];
          addClass(container, "leaflet-control");
          if (pos.indexOf("bottom") !== -1) {
            corner.insertBefore(container, corner.firstChild);
          } else {
            corner.appendChild(container);
          }
          this._map.on("unload", this.remove, this);
          return this;
        },
        // @method remove: this
        // Removes the control from the map it is currently active on.
        remove: function() {
          if (!this._map) {
            return this;
          }
          remove(this._container);
          if (this.onRemove) {
            this.onRemove(this._map);
          }
          this._map.off("unload", this.remove, this);
          this._map = null;
          return this;
        },
        _refocusOnMap: function(e) {
          if (this._map && e && e.screenX > 0 && e.screenY > 0) {
            this._map.getContainer().focus();
          }
        }
      });
      var control = function(options) {
        return new Control(options);
      };
      Map2.include({
        // @method addControl(control: Control): this
        // Adds the given control to the map
        addControl: function(control2) {
          control2.addTo(this);
          return this;
        },
        // @method removeControl(control: Control): this
        // Removes the given control from the map
        removeControl: function(control2) {
          control2.remove();
          return this;
        },
        _initControlPos: function() {
          var corners = this._controlCorners = {}, l = "leaflet-", container = this._controlContainer = create$1("div", l + "control-container", this._container);
          function createCorner(vSide, hSide) {
            var className = l + vSide + " " + l + hSide;
            corners[vSide + hSide] = create$1("div", className, container);
          }
          createCorner("top", "left");
          createCorner("top", "right");
          createCorner("bottom", "left");
          createCorner("bottom", "right");
        },
        _clearControlPos: function() {
          for (var i in this._controlCorners) {
            remove(this._controlCorners[i]);
          }
          remove(this._controlContainer);
          delete this._controlCorners;
          delete this._controlContainer;
        }
      });
      var Layers = Control.extend({
        // @section
        // @aka Control.Layers options
        options: {
          // @option collapsed: Boolean = true
          // If `true`, the control will be collapsed into an icon and expanded on mouse hover, touch, or keyboard activation.
          collapsed: true,
          position: "topright",
          // @option autoZIndex: Boolean = true
          // If `true`, the control will assign zIndexes in increasing order to all of its layers so that the order is preserved when switching them on/off.
          autoZIndex: true,
          // @option hideSingleBase: Boolean = false
          // If `true`, the base layers in the control will be hidden when there is only one.
          hideSingleBase: false,
          // @option sortLayers: Boolean = false
          // Whether to sort the layers. When `false`, layers will keep the order
          // in which they were added to the control.
          sortLayers: false,
          // @option sortFunction: Function = *
          // A [compare function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/sort)
          // that will be used for sorting the layers, when `sortLayers` is `true`.
          // The function receives both the `L.Layer` instances and their names, as in
          // `sortFunction(layerA, layerB, nameA, nameB)`.
          // By default, it sorts layers alphabetically by their name.
          sortFunction: function(layerA, layerB, nameA, nameB) {
            return nameA < nameB ? -1 : nameB < nameA ? 1 : 0;
          }
        },
        initialize: function(baseLayers, overlays, options) {
          setOptions(this, options);
          this._layerControlInputs = [];
          this._layers = [];
          this._lastZIndex = 0;
          this._handlingClick = false;
          this._preventClick = false;
          for (var i in baseLayers) {
            this._addLayer(baseLayers[i], i);
          }
          for (i in overlays) {
            this._addLayer(overlays[i], i, true);
          }
        },
        onAdd: function(map3) {
          this._initLayout();
          this._update();
          this._map = map3;
          map3.on("zoomend", this._checkDisabledLayers, this);
          for (var i = 0; i < this._layers.length; i++) {
            this._layers[i].layer.on("add remove", this._onLayerChange, this);
          }
          return this._container;
        },
        addTo: function(map3) {
          Control.prototype.addTo.call(this, map3);
          return this._expandIfNotCollapsed();
        },
        onRemove: function() {
          this._map.off("zoomend", this._checkDisabledLayers, this);
          for (var i = 0; i < this._layers.length; i++) {
            this._layers[i].layer.off("add remove", this._onLayerChange, this);
          }
        },
        // @method addBaseLayer(layer: Layer, name: String): this
        // Adds a base layer (radio button entry) with the given name to the control.
        addBaseLayer: function(layer, name) {
          this._addLayer(layer, name);
          return this._map ? this._update() : this;
        },
        // @method addOverlay(layer: Layer, name: String): this
        // Adds an overlay (checkbox entry) with the given name to the control.
        addOverlay: function(layer, name) {
          this._addLayer(layer, name, true);
          return this._map ? this._update() : this;
        },
        // @method removeLayer(layer: Layer): this
        // Remove the given layer from the control.
        removeLayer: function(layer) {
          layer.off("add remove", this._onLayerChange, this);
          var obj = this._getLayer(stamp(layer));
          if (obj) {
            this._layers.splice(this._layers.indexOf(obj), 1);
          }
          return this._map ? this._update() : this;
        },
        // @method expand(): this
        // Expand the control container if collapsed.
        expand: function() {
          addClass(this._container, "leaflet-control-layers-expanded");
          this._section.style.height = null;
          var acceptableHeight = this._map.getSize().y - (this._container.offsetTop + 50);
          if (acceptableHeight < this._section.clientHeight) {
            addClass(this._section, "leaflet-control-layers-scrollbar");
            this._section.style.height = acceptableHeight + "px";
          } else {
            removeClass(this._section, "leaflet-control-layers-scrollbar");
          }
          this._checkDisabledLayers();
          return this;
        },
        // @method collapse(): this
        // Collapse the control container if expanded.
        collapse: function() {
          removeClass(this._container, "leaflet-control-layers-expanded");
          return this;
        },
        _initLayout: function() {
          var className = "leaflet-control-layers", container = this._container = create$1("div", className), collapsed = this.options.collapsed;
          container.setAttribute("aria-haspopup", true);
          disableClickPropagation(container);
          disableScrollPropagation(container);
          var section = this._section = create$1("section", className + "-list");
          if (collapsed) {
            this._map.on("click", this.collapse, this);
            on(container, {
              mouseenter: this._expandSafely,
              mouseleave: this.collapse
            }, this);
          }
          var link = this._layersLink = create$1("a", className + "-toggle", container);
          link.href = "#";
          link.title = "Layers";
          link.setAttribute("role", "button");
          on(link, {
            keydown: function(e) {
              if (e.keyCode === 13) {
                this._expandSafely();
              }
            },
            // Certain screen readers intercept the key event and instead send a click event
            click: function(e) {
              preventDefault(e);
              this._expandSafely();
            }
          }, this);
          if (!collapsed) {
            this.expand();
          }
          this._baseLayersList = create$1("div", className + "-base", section);
          this._separator = create$1("div", className + "-separator", section);
          this._overlaysList = create$1("div", className + "-overlays", section);
          container.appendChild(section);
        },
        _getLayer: function(id) {
          for (var i = 0; i < this._layers.length; i++) {
            if (this._layers[i] && stamp(this._layers[i].layer) === id) {
              return this._layers[i];
            }
          }
        },
        _addLayer: function(layer, name, overlay) {
          if (this._map) {
            layer.on("add remove", this._onLayerChange, this);
          }
          this._layers.push({
            layer,
            name,
            overlay
          });
          if (this.options.sortLayers) {
            this._layers.sort(bind(function(a, b) {
              return this.options.sortFunction(a.layer, b.layer, a.name, b.name);
            }, this));
          }
          if (this.options.autoZIndex && layer.setZIndex) {
            this._lastZIndex++;
            layer.setZIndex(this._lastZIndex);
          }
          this._expandIfNotCollapsed();
        },
        _update: function() {
          if (!this._container) {
            return this;
          }
          empty(this._baseLayersList);
          empty(this._overlaysList);
          this._layerControlInputs = [];
          var baseLayersPresent, overlaysPresent, i, obj, baseLayersCount = 0;
          for (i = 0; i < this._layers.length; i++) {
            obj = this._layers[i];
            this._addItem(obj);
            overlaysPresent = overlaysPresent || obj.overlay;
            baseLayersPresent = baseLayersPresent || !obj.overlay;
            baseLayersCount += !obj.overlay ? 1 : 0;
          }
          if (this.options.hideSingleBase) {
            baseLayersPresent = baseLayersPresent && baseLayersCount > 1;
            this._baseLayersList.style.display = baseLayersPresent ? "" : "none";
          }
          this._separator.style.display = overlaysPresent && baseLayersPresent ? "" : "none";
          return this;
        },
        _onLayerChange: function(e) {
          if (!this._handlingClick) {
            this._update();
          }
          var obj = this._getLayer(stamp(e.target));
          var type = obj.overlay ? e.type === "add" ? "overlayadd" : "overlayremove" : e.type === "add" ? "baselayerchange" : null;
          if (type) {
            this._map.fire(type, obj);
          }
        },
        // IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see https://stackoverflow.com/a/119079)
        _createRadioElement: function(name, checked) {
          var radioHtml = '<input type="radio" class="leaflet-control-layers-selector" name="' + name + '"' + (checked ? ' checked="checked"' : "") + "/>";
          var radioFragment = document.createElement("div");
          radioFragment.innerHTML = radioHtml;
          return radioFragment.firstChild;
        },
        _addItem: function(obj) {
          var label = document.createElement("label"), checked = this._map.hasLayer(obj.layer), input;
          if (obj.overlay) {
            input = document.createElement("input");
            input.type = "checkbox";
            input.className = "leaflet-control-layers-selector";
            input.defaultChecked = checked;
          } else {
            input = this._createRadioElement("leaflet-base-layers_" + stamp(this), checked);
          }
          this._layerControlInputs.push(input);
          input.layerId = stamp(obj.layer);
          on(input, "click", this._onInputClick, this);
          var name = document.createElement("span");
          name.innerHTML = " " + obj.name;
          var holder = document.createElement("span");
          label.appendChild(holder);
          holder.appendChild(input);
          holder.appendChild(name);
          var container = obj.overlay ? this._overlaysList : this._baseLayersList;
          container.appendChild(label);
          this._checkDisabledLayers();
          return label;
        },
        _onInputClick: function() {
          if (this._preventClick) {
            return;
          }
          var inputs = this._layerControlInputs, input, layer;
          var addedLayers = [], removedLayers = [];
          this._handlingClick = true;
          for (var i = inputs.length - 1; i >= 0; i--) {
            input = inputs[i];
            layer = this._getLayer(input.layerId).layer;
            if (input.checked) {
              addedLayers.push(layer);
            } else if (!input.checked) {
              removedLayers.push(layer);
            }
          }
          for (i = 0; i < removedLayers.length; i++) {
            if (this._map.hasLayer(removedLayers[i])) {
              this._map.removeLayer(removedLayers[i]);
            }
          }
          for (i = 0; i < addedLayers.length; i++) {
            if (!this._map.hasLayer(addedLayers[i])) {
              this._map.addLayer(addedLayers[i]);
            }
          }
          this._handlingClick = false;
          this._refocusOnMap();
        },
        _checkDisabledLayers: function() {
          var inputs = this._layerControlInputs, input, layer, zoom2 = this._map.getZoom();
          for (var i = inputs.length - 1; i >= 0; i--) {
            input = inputs[i];
            layer = this._getLayer(input.layerId).layer;
            input.disabled = layer.options.minZoom !== void 0 && zoom2 < layer.options.minZoom || layer.options.maxZoom !== void 0 && zoom2 > layer.options.maxZoom;
          }
        },
        _expandIfNotCollapsed: function() {
          if (this._map && !this.options.collapsed) {
            this.expand();
          }
          return this;
        },
        _expandSafely: function() {
          var section = this._section;
          this._preventClick = true;
          on(section, "click", preventDefault);
          this.expand();
          var that = this;
          setTimeout(function() {
            off(section, "click", preventDefault);
            that._preventClick = false;
          });
        }
      });
      var layers = function(baseLayers, overlays, options) {
        return new Layers(baseLayers, overlays, options);
      };
      var Zoom = Control.extend({
        // @section
        // @aka Control.Zoom options
        options: {
          position: "topleft",
          // @option zoomInText: String = '<span aria-hidden="true">+</span>'
          // The text set on the 'zoom in' button.
          zoomInText: '<span aria-hidden="true">+</span>',
          // @option zoomInTitle: String = 'Zoom in'
          // The title set on the 'zoom in' button.
          zoomInTitle: "Zoom in",
          // @option zoomOutText: String = '<span aria-hidden="true">&#x2212;</span>'
          // The text set on the 'zoom out' button.
          zoomOutText: '<span aria-hidden="true">&#x2212;</span>',
          // @option zoomOutTitle: String = 'Zoom out'
          // The title set on the 'zoom out' button.
          zoomOutTitle: "Zoom out"
        },
        onAdd: function(map3) {
          var zoomName = "leaflet-control-zoom", container = create$1("div", zoomName + " leaflet-bar"), options = this.options;
          this._zoomInButton = this._createButton(
            options.zoomInText,
            options.zoomInTitle,
            zoomName + "-in",
            container,
            this._zoomIn
          );
          this._zoomOutButton = this._createButton(
            options.zoomOutText,
            options.zoomOutTitle,
            zoomName + "-out",
            container,
            this._zoomOut
          );
          this._updateDisabled();
          map3.on("zoomend zoomlevelschange", this._updateDisabled, this);
          return container;
        },
        onRemove: function(map3) {
          map3.off("zoomend zoomlevelschange", this._updateDisabled, this);
        },
        disable: function() {
          this._disabled = true;
          this._updateDisabled();
          return this;
        },
        enable: function() {
          this._disabled = false;
          this._updateDisabled();
          return this;
        },
        _zoomIn: function(e) {
          if (!this._disabled && this._map._zoom < this._map.getMaxZoom()) {
            this._map.zoomIn(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));
          }
        },
        _zoomOut: function(e) {
          if (!this._disabled && this._map._zoom > this._map.getMinZoom()) {
            this._map.zoomOut(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));
          }
        },
        _createButton: function(html, title, className, container, fn) {
          var link = create$1("a", className, container);
          link.innerHTML = html;
          link.href = "#";
          link.title = title;
          link.setAttribute("role", "button");
          link.setAttribute("aria-label", title);
          disableClickPropagation(link);
          on(link, "click", stop);
          on(link, "click", fn, this);
          on(link, "click", this._refocusOnMap, this);
          return link;
        },
        _updateDisabled: function() {
          var map3 = this._map, className = "leaflet-disabled";
          removeClass(this._zoomInButton, className);
          removeClass(this._zoomOutButton, className);
          this._zoomInButton.setAttribute("aria-disabled", "false");
          this._zoomOutButton.setAttribute("aria-disabled", "false");
          if (this._disabled || map3._zoom === map3.getMinZoom()) {
            addClass(this._zoomOutButton, className);
            this._zoomOutButton.setAttribute("aria-disabled", "true");
          }
          if (this._disabled || map3._zoom === map3.getMaxZoom()) {
            addClass(this._zoomInButton, className);
            this._zoomInButton.setAttribute("aria-disabled", "true");
          }
        }
      });
      Map2.mergeOptions({
        zoomControl: true
      });
      Map2.addInitHook(function() {
        if (this.options.zoomControl) {
          this.zoomControl = new Zoom();
          this.addControl(this.zoomControl);
        }
      });
      var zoom = function(options) {
        return new Zoom(options);
      };
      var Scale = Control.extend({
        // @section
        // @aka Control.Scale options
        options: {
          position: "bottomleft",
          // @option maxWidth: Number = 100
          // Maximum width of the control in pixels. The width is set dynamically to show round values (e.g. 100, 200, 500).
          maxWidth: 100,
          // @option metric: Boolean = True
          // Whether to show the metric scale line (m/km).
          metric: true,
          // @option imperial: Boolean = True
          // Whether to show the imperial scale line (mi/ft).
          imperial: true
          // @option updateWhenIdle: Boolean = false
          // If `true`, the control is updated on [`moveend`](#map-moveend), otherwise it's always up-to-date (updated on [`move`](#map-move)).
        },
        onAdd: function(map3) {
          var className = "leaflet-control-scale", container = create$1("div", className), options = this.options;
          this._addScales(options, className + "-line", container);
          map3.on(options.updateWhenIdle ? "moveend" : "move", this._update, this);
          map3.whenReady(this._update, this);
          return container;
        },
        onRemove: function(map3) {
          map3.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this);
        },
        _addScales: function(options, className, container) {
          if (options.metric) {
            this._mScale = create$1("div", className, container);
          }
          if (options.imperial) {
            this._iScale = create$1("div", className, container);
          }
        },
        _update: function() {
          var map3 = this._map, y = map3.getSize().y / 2;
          var maxMeters = map3.distance(
            map3.containerPointToLatLng([0, y]),
            map3.containerPointToLatLng([this.options.maxWidth, y])
          );
          this._updateScales(maxMeters);
        },
        _updateScales: function(maxMeters) {
          if (this.options.metric && maxMeters) {
            this._updateMetric(maxMeters);
          }
          if (this.options.imperial && maxMeters) {
            this._updateImperial(maxMeters);
          }
        },
        _updateMetric: function(maxMeters) {
          var meters = this._getRoundNum(maxMeters), label = meters < 1e3 ? meters + " m" : meters / 1e3 + " km";
          this._updateScale(this._mScale, label, meters / maxMeters);
        },
        _updateImperial: function(maxMeters) {
          var maxFeet = maxMeters * 3.2808399, maxMiles, miles, feet;
          if (maxFeet > 5280) {
            maxMiles = maxFeet / 5280;
            miles = this._getRoundNum(maxMiles);
            this._updateScale(this._iScale, miles + " mi", miles / maxMiles);
          } else {
            feet = this._getRoundNum(maxFeet);
            this._updateScale(this._iScale, feet + " ft", feet / maxFeet);
          }
        },
        _updateScale: function(scale2, text, ratio) {
          scale2.style.width = Math.round(this.options.maxWidth * ratio) + "px";
          scale2.innerHTML = text;
        },
        _getRoundNum: function(num) {
          var pow10 = Math.pow(10, (Math.floor(num) + "").length - 1), d = num / pow10;
          d = d >= 10 ? 10 : d >= 5 ? 5 : d >= 3 ? 3 : d >= 2 ? 2 : 1;
          return pow10 * d;
        }
      });
      var scale = function(options) {
        return new Scale(options);
      };
      var ukrainianFlag = '<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>';
      var Attribution = Control.extend({
        // @section
        // @aka Control.Attribution options
        options: {
          position: "bottomright",
          // @option prefix: String|false = 'Leaflet'
          // The HTML text shown before the attributions. Pass `false` to disable.
          prefix: '<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">' + (Browser.inlineSvg ? ukrainianFlag + " " : "") + "Leaflet</a>"
        },
        initialize: function(options) {
          setOptions(this, options);
          this._attributions = {};
        },
        onAdd: function(map3) {
          map3.attributionControl = this;
          this._container = create$1("div", "leaflet-control-attribution");
          disableClickPropagation(this._container);
          for (var i in map3._layers) {
            if (map3._layers[i].getAttribution) {
              this.addAttribution(map3._layers[i].getAttribution());
            }
          }
          this._update();
          map3.on("layeradd", this._addAttribution, this);
          return this._container;
        },
        onRemove: function(map3) {
          map3.off("layeradd", this._addAttribution, this);
        },
        _addAttribution: function(ev) {
          if (ev.layer.getAttribution) {
            this.addAttribution(ev.layer.getAttribution());
            ev.layer.once("remove", function() {
              this.removeAttribution(ev.layer.getAttribution());
            }, this);
          }
        },
        // @method setPrefix(prefix: String|false): this
        // The HTML text shown before the attributions. Pass `false` to disable.
        setPrefix: function(prefix) {
          this.options.prefix = prefix;
          this._update();
          return this;
        },
        // @method addAttribution(text: String): this
        // Adds an attribution text (e.g. `'&copy; OpenStreetMap contributors'`).
        addAttribution: function(text) {
          if (!text) {
            return this;
          }
          if (!this._attributions[text]) {
            this._attributions[text] = 0;
          }
          this._attributions[text]++;
          this._update();
          return this;
        },
        // @method removeAttribution(text: String): this
        // Removes an attribution text.
        removeAttribution: function(text) {
          if (!text) {
            return this;
          }
          if (this._attributions[text]) {
            this._attributions[text]--;
            this._update();
          }
          return this;
        },
        _update: function() {
          if (!this._map) {
            return;
          }
          var attribs = [];
          for (var i in this._attributions) {
            if (this._attributions[i]) {
              attribs.push(i);
            }
          }
          var prefixAndAttribs = [];
          if (this.options.prefix) {
            prefixAndAttribs.push(this.options.prefix);
          }
          if (attribs.length) {
            prefixAndAttribs.push(attribs.join(", "));
          }
          this._container.innerHTML = prefixAndAttribs.join(' <span aria-hidden="true">|</span> ');
        }
      });
      Map2.mergeOptions({
        attributionControl: true
      });
      Map2.addInitHook(function() {
        if (this.options.attributionControl) {
          new Attribution().addTo(this);
        }
      });
      var attribution = function(options) {
        return new Attribution(options);
      };
      Control.Layers = Layers;
      Control.Zoom = Zoom;
      Control.Scale = Scale;
      Control.Attribution = Attribution;
      control.layers = layers;
      control.zoom = zoom;
      control.scale = scale;
      control.attribution = attribution;
      var Handler = Class.extend({
        initialize: function(map3) {
          this._map = map3;
        },
        // @method enable(): this
        // Enables the handler
        enable: function() {
          if (this._enabled) {
            return this;
          }
          this._enabled = true;
          this.addHooks();
          return this;
        },
        // @method disable(): this
        // Disables the handler
        disable: function() {
          if (!this._enabled) {
            return this;
          }
          this._enabled = false;
          this.removeHooks();
          return this;
        },
        // @method enabled(): Boolean
        // Returns `true` if the handler is enabled
        enabled: function() {
          return !!this._enabled;
        }
        // @section Extension methods
        // Classes inheriting from `Handler` must implement the two following methods:
        // @method addHooks()
        // Called when the handler is enabled, should add event hooks.
        // @method removeHooks()
        // Called when the handler is disabled, should remove the event hooks added previously.
      });
      Handler.addTo = function(map3, name) {
        map3.addHandler(name, this);
        return this;
      };
      var Mixin = { Events };
      var START = Browser.touch ? "touchstart mousedown" : "mousedown";
      var Draggable = Evented.extend({
        options: {
          // @section
          // @aka Draggable options
          // @option clickTolerance: Number = 3
          // The max number of pixels a user can shift the mouse pointer during a click
          // for it to be considered a valid click (as opposed to a mouse drag).
          clickTolerance: 3
        },
        // @constructor L.Draggable(el: HTMLElement, dragHandle?: HTMLElement, preventOutline?: Boolean, options?: Draggable options)
        // Creates a `Draggable` object for moving `el` when you start dragging the `dragHandle` element (equals `el` itself by default).
        initialize: function(element, dragStartTarget, preventOutline2, options) {
          setOptions(this, options);
          this._element = element;
          this._dragStartTarget = dragStartTarget || element;
          this._preventOutline = preventOutline2;
        },
        // @method enable()
        // Enables the dragging ability
        enable: function() {
          if (this._enabled) {
            return;
          }
          on(this._dragStartTarget, START, this._onDown, this);
          this._enabled = true;
        },
        // @method disable()
        // Disables the dragging ability
        disable: function() {
          if (!this._enabled) {
            return;
          }
          if (Draggable._dragging === this) {
            this.finishDrag(true);
          }
          off(this._dragStartTarget, START, this._onDown, this);
          this._enabled = false;
          this._moved = false;
        },
        _onDown: function(e) {
          if (!this._enabled) {
            return;
          }
          this._moved = false;
          if (hasClass(this._element, "leaflet-zoom-anim")) {
            return;
          }
          if (e.touches && e.touches.length !== 1) {
            if (Draggable._dragging === this) {
              this.finishDrag();
            }
            return;
          }
          if (Draggable._dragging || e.shiftKey || e.which !== 1 && e.button !== 1 && !e.touches) {
            return;
          }
          Draggable._dragging = this;
          if (this._preventOutline) {
            preventOutline(this._element);
          }
          disableImageDrag();
          disableTextSelection();
          if (this._moving) {
            return;
          }
          this.fire("down");
          var first = e.touches ? e.touches[0] : e, sizedParent = getSizedParentNode(this._element);
          this._startPoint = new Point(first.clientX, first.clientY);
          this._startPos = getPosition(this._element);
          this._parentScale = getScale(sizedParent);
          var mouseevent = e.type === "mousedown";
          on(document, mouseevent ? "mousemove" : "touchmove", this._onMove, this);
          on(document, mouseevent ? "mouseup" : "touchend touchcancel", this._onUp, this);
        },
        _onMove: function(e) {
          if (!this._enabled) {
            return;
          }
          if (e.touches && e.touches.length > 1) {
            this._moved = true;
            return;
          }
          var first = e.touches && e.touches.length === 1 ? e.touches[0] : e, offset = new Point(first.clientX, first.clientY)._subtract(this._startPoint);
          if (!offset.x && !offset.y) {
            return;
          }
          if (Math.abs(offset.x) + Math.abs(offset.y) < this.options.clickTolerance) {
            return;
          }
          offset.x /= this._parentScale.x;
          offset.y /= this._parentScale.y;
          preventDefault(e);
          if (!this._moved) {
            this.fire("dragstart");
            this._moved = true;
            addClass(document.body, "leaflet-dragging");
            this._lastTarget = e.target || e.srcElement;
            if (window.SVGElementInstance && this._lastTarget instanceof window.SVGElementInstance) {
              this._lastTarget = this._lastTarget.correspondingUseElement;
            }
            addClass(this._lastTarget, "leaflet-drag-target");
          }
          this._newPos = this._startPos.add(offset);
          this._moving = true;
          this._lastEvent = e;
          this._updatePosition();
        },
        _updatePosition: function() {
          var e = { originalEvent: this._lastEvent };
          this.fire("predrag", e);
          setPosition(this._element, this._newPos);
          this.fire("drag", e);
        },
        _onUp: function() {
          if (!this._enabled) {
            return;
          }
          this.finishDrag();
        },
        finishDrag: function(noInertia) {
          removeClass(document.body, "leaflet-dragging");
          if (this._lastTarget) {
            removeClass(this._lastTarget, "leaflet-drag-target");
            this._lastTarget = null;
          }
          off(document, "mousemove touchmove", this._onMove, this);
          off(document, "mouseup touchend touchcancel", this._onUp, this);
          enableImageDrag();
          enableTextSelection();
          var fireDragend = this._moved && this._moving;
          this._moving = false;
          Draggable._dragging = false;
          if (fireDragend) {
            this.fire("dragend", {
              noInertia,
              distance: this._newPos.distanceTo(this._startPos)
            });
          }
        }
      });
      function clipPolygon(points, bounds, round) {
        var clippedPoints, edges = [1, 4, 2, 8], i, j, k, a, b, len, edge2, p;
        for (i = 0, len = points.length; i < len; i++) {
          points[i]._code = _getBitCode(points[i], bounds);
        }
        for (k = 0; k < 4; k++) {
          edge2 = edges[k];
          clippedPoints = [];
          for (i = 0, len = points.length, j = len - 1; i < len; j = i++) {
            a = points[i];
            b = points[j];
            if (!(a._code & edge2)) {
              if (b._code & edge2) {
                p = _getEdgeIntersection(b, a, edge2, bounds, round);
                p._code = _getBitCode(p, bounds);
                clippedPoints.push(p);
              }
              clippedPoints.push(a);
            } else if (!(b._code & edge2)) {
              p = _getEdgeIntersection(b, a, edge2, bounds, round);
              p._code = _getBitCode(p, bounds);
              clippedPoints.push(p);
            }
          }
          points = clippedPoints;
        }
        return points;
      }
      function polygonCenter(latlngs, crs) {
        var i, j, p1, p2, f, area, x, y, center;
        if (!latlngs || latlngs.length === 0) {
          throw new Error("latlngs not passed");
        }
        if (!isFlat(latlngs)) {
          console.warn("latlngs are not flat! Only the first ring will be used");
          latlngs = latlngs[0];
        }
        var centroidLatLng = toLatLng([0, 0]);
        var bounds = toLatLngBounds(latlngs);
        var areaBounds = bounds.getNorthWest().distanceTo(bounds.getSouthWest()) * bounds.getNorthEast().distanceTo(bounds.getNorthWest());
        if (areaBounds < 1700) {
          centroidLatLng = centroid(latlngs);
        }
        var len = latlngs.length;
        var points = [];
        for (i = 0; i < len; i++) {
          var latlng = toLatLng(latlngs[i]);
          points.push(crs.project(toLatLng([latlng.lat - centroidLatLng.lat, latlng.lng - centroidLatLng.lng])));
        }
        area = x = y = 0;
        for (i = 0, j = len - 1; i < len; j = i++) {
          p1 = points[i];
          p2 = points[j];
          f = p1.y * p2.x - p2.y * p1.x;
          x += (p1.x + p2.x) * f;
          y += (p1.y + p2.y) * f;
          area += f * 3;
        }
        if (area === 0) {
          center = points[0];
        } else {
          center = [x / area, y / area];
        }
        var latlngCenter = crs.unproject(toPoint(center));
        return toLatLng([latlngCenter.lat + centroidLatLng.lat, latlngCenter.lng + centroidLatLng.lng]);
      }
      function centroid(coords) {
        var latSum = 0;
        var lngSum = 0;
        var len = 0;
        for (var i = 0; i < coords.length; i++) {
          var latlng = toLatLng(coords[i]);
          latSum += latlng.lat;
          lngSum += latlng.lng;
          len++;
        }
        return toLatLng([latSum / len, lngSum / len]);
      }
      var PolyUtil = {
        __proto__: null,
        clipPolygon,
        polygonCenter,
        centroid
      };
      function simplify(points, tolerance) {
        if (!tolerance || !points.length) {
          return points.slice();
        }
        var sqTolerance = tolerance * tolerance;
        points = _reducePoints(points, sqTolerance);
        points = _simplifyDP(points, sqTolerance);
        return points;
      }
      function pointToSegmentDistance(p, p1, p2) {
        return Math.sqrt(_sqClosestPointOnSegment(p, p1, p2, true));
      }
      function closestPointOnSegment(p, p1, p2) {
        return _sqClosestPointOnSegment(p, p1, p2);
      }
      function _simplifyDP(points, sqTolerance) {
        var len = points.length, ArrayConstructor = typeof Uint8Array !== "undefined" ? Uint8Array : Array, markers = new ArrayConstructor(len);
        markers[0] = markers[len - 1] = 1;
        _simplifyDPStep(points, markers, sqTolerance, 0, len - 1);
        var i, newPoints = [];
        for (i = 0; i < len; i++) {
          if (markers[i]) {
            newPoints.push(points[i]);
          }
        }
        return newPoints;
      }
      function _simplifyDPStep(points, markers, sqTolerance, first, last) {
        var maxSqDist = 0, index2, i, sqDist;
        for (i = first + 1; i <= last - 1; i++) {
          sqDist = _sqClosestPointOnSegment(points[i], points[first], points[last], true);
          if (sqDist > maxSqDist) {
            index2 = i;
            maxSqDist = sqDist;
          }
        }
        if (maxSqDist > sqTolerance) {
          markers[index2] = 1;
          _simplifyDPStep(points, markers, sqTolerance, first, index2);
          _simplifyDPStep(points, markers, sqTolerance, index2, last);
        }
      }
      function _reducePoints(points, sqTolerance) {
        var reducedPoints = [points[0]];
        for (var i = 1, prev = 0, len = points.length; i < len; i++) {
          if (_sqDist(points[i], points[prev]) > sqTolerance) {
            reducedPoints.push(points[i]);
            prev = i;
          }
        }
        if (prev < len - 1) {
          reducedPoints.push(points[len - 1]);
        }
        return reducedPoints;
      }
      var _lastCode;
      function clipSegment(a, b, bounds, useLastCode, round) {
        var codeA = useLastCode ? _lastCode : _getBitCode(a, bounds), codeB = _getBitCode(b, bounds), codeOut, p, newCode;
        _lastCode = codeB;
        while (true) {
          if (!(codeA | codeB)) {
            return [a, b];
          }
          if (codeA & codeB) {
            return false;
          }
          codeOut = codeA || codeB;
          p = _getEdgeIntersection(a, b, codeOut, bounds, round);
          newCode = _getBitCode(p, bounds);
          if (codeOut === codeA) {
            a = p;
            codeA = newCode;
          } else {
            b = p;
            codeB = newCode;
          }
        }
      }
      function _getEdgeIntersection(a, b, code, bounds, round) {
        var dx = b.x - a.x, dy = b.y - a.y, min = bounds.min, max = bounds.max, x, y;
        if (code & 8) {
          x = a.x + dx * (max.y - a.y) / dy;
          y = max.y;
        } else if (code & 4) {
          x = a.x + dx * (min.y - a.y) / dy;
          y = min.y;
        } else if (code & 2) {
          x = max.x;
          y = a.y + dy * (max.x - a.x) / dx;
        } else if (code & 1) {
          x = min.x;
          y = a.y + dy * (min.x - a.x) / dx;
        }
        return new Point(x, y, round);
      }
      function _getBitCode(p, bounds) {
        var code = 0;
        if (p.x < bounds.min.x) {
          code |= 1;
        } else if (p.x > bounds.max.x) {
          code |= 2;
        }
        if (p.y < bounds.min.y) {
          code |= 4;
        } else if (p.y > bounds.max.y) {
          code |= 8;
        }
        return code;
      }
      function _sqDist(p1, p2) {
        var dx = p2.x - p1.x, dy = p2.y - p1.y;
        return dx * dx + dy * dy;
      }
      function _sqClosestPointOnSegment(p, p1, p2, sqDist) {
        var x = p1.x, y = p1.y, dx = p2.x - x, dy = p2.y - y, dot = dx * dx + dy * dy, t;
        if (dot > 0) {
          t = ((p.x - x) * dx + (p.y - y) * dy) / dot;
          if (t > 1) {
            x = p2.x;
            y = p2.y;
          } else if (t > 0) {
            x += dx * t;
            y += dy * t;
          }
        }
        dx = p.x - x;
        dy = p.y - y;
        return sqDist ? dx * dx + dy * dy : new Point(x, y);
      }
      function isFlat(latlngs) {
        return !isArray(latlngs[0]) || typeof latlngs[0][0] !== "object" && typeof latlngs[0][0] !== "undefined";
      }
      function _flat(latlngs) {
        console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");
        return isFlat(latlngs);
      }
      function polylineCenter(latlngs, crs) {
        var i, halfDist, segDist, dist, p1, p2, ratio, center;
        if (!latlngs || latlngs.length === 0) {
          throw new Error("latlngs not passed");
        }
        if (!isFlat(latlngs)) {
          console.warn("latlngs are not flat! Only the first ring will be used");
          latlngs = latlngs[0];
        }
        var centroidLatLng = toLatLng([0, 0]);
        var bounds = toLatLngBounds(latlngs);
        var areaBounds = bounds.getNorthWest().distanceTo(bounds.getSouthWest()) * bounds.getNorthEast().distanceTo(bounds.getNorthWest());
        if (areaBounds < 1700) {
          centroidLatLng = centroid(latlngs);
        }
        var len = latlngs.length;
        var points = [];
        for (i = 0; i < len; i++) {
          var latlng = toLatLng(latlngs[i]);
          points.push(crs.project(toLatLng([latlng.lat - centroidLatLng.lat, latlng.lng - centroidLatLng.lng])));
        }
        for (i = 0, halfDist = 0; i < len - 1; i++) {
          halfDist += points[i].distanceTo(points[i + 1]) / 2;
        }
        if (halfDist === 0) {
          center = points[0];
        } else {
          for (i = 0, dist = 0; i < len - 1; i++) {
            p1 = points[i];
            p2 = points[i + 1];
            segDist = p1.distanceTo(p2);
            dist += segDist;
            if (dist > halfDist) {
              ratio = (dist - halfDist) / segDist;
              center = [
                p2.x - ratio * (p2.x - p1.x),
                p2.y - ratio * (p2.y - p1.y)
              ];
              break;
            }
          }
        }
        var latlngCenter = crs.unproject(toPoint(center));
        return toLatLng([latlngCenter.lat + centroidLatLng.lat, latlngCenter.lng + centroidLatLng.lng]);
      }
      var LineUtil = {
        __proto__: null,
        simplify,
        pointToSegmentDistance,
        closestPointOnSegment,
        clipSegment,
        _getEdgeIntersection,
        _getBitCode,
        _sqClosestPointOnSegment,
        isFlat,
        _flat,
        polylineCenter
      };
      var LonLat = {
        project: function(latlng) {
          return new Point(latlng.lng, latlng.lat);
        },
        unproject: function(point) {
          return new LatLng2(point.y, point.x);
        },
        bounds: new Bounds([-180, -90], [180, 90])
      };
      var Mercator = {
        R: 6378137,
        R_MINOR: 6356752314245179e-9,
        bounds: new Bounds([-2003750834279e-5, -1549657073972e-5], [2003750834279e-5, 1876465623138e-5]),
        project: function(latlng) {
          var d = Math.PI / 180, r = this.R, y = latlng.lat * d, tmp = this.R_MINOR / r, e = Math.sqrt(1 - tmp * tmp), con = e * Math.sin(y);
          var ts = Math.tan(Math.PI / 4 - y / 2) / Math.pow((1 - con) / (1 + con), e / 2);
          y = -r * Math.log(Math.max(ts, 1e-10));
          return new Point(latlng.lng * d * r, y);
        },
        unproject: function(point) {
          var d = 180 / Math.PI, r = this.R, tmp = this.R_MINOR / r, e = Math.sqrt(1 - tmp * tmp), ts = Math.exp(-point.y / r), phi = Math.PI / 2 - 2 * Math.atan(ts);
          for (var i = 0, dphi = 0.1, con; i < 15 && Math.abs(dphi) > 1e-7; i++) {
            con = e * Math.sin(phi);
            con = Math.pow((1 - con) / (1 + con), e / 2);
            dphi = Math.PI / 2 - 2 * Math.atan(ts * con) - phi;
            phi += dphi;
          }
          return new LatLng2(phi * d, point.x * d / r);
        }
      };
      var index = {
        __proto__: null,
        LonLat,
        Mercator,
        SphericalMercator
      };
      var EPSG3395 = extend({}, Earth, {
        code: "EPSG:3395",
        projection: Mercator,
        transformation: function() {
          var scale2 = 0.5 / (Math.PI * Mercator.R);
          return toTransformation(scale2, 0.5, -scale2, 0.5);
        }()
      });
      var EPSG4326 = extend({}, Earth, {
        code: "EPSG:4326",
        projection: LonLat,
        transformation: toTransformation(1 / 180, 1, -1 / 180, 0.5)
      });
      var Simple = extend({}, CRS, {
        projection: LonLat,
        transformation: toTransformation(1, 0, -1, 0),
        scale: function(zoom2) {
          return Math.pow(2, zoom2);
        },
        zoom: function(scale2) {
          return Math.log(scale2) / Math.LN2;
        },
        distance: function(latlng1, latlng2) {
          var dx = latlng2.lng - latlng1.lng, dy = latlng2.lat - latlng1.lat;
          return Math.sqrt(dx * dx + dy * dy);
        },
        infinite: true
      });
      CRS.Earth = Earth;
      CRS.EPSG3395 = EPSG3395;
      CRS.EPSG3857 = EPSG3857;
      CRS.EPSG900913 = EPSG900913;
      CRS.EPSG4326 = EPSG4326;
      CRS.Simple = Simple;
      var Layer = Evented.extend({
        // Classes extending `L.Layer` will inherit the following options:
        options: {
          // @option pane: String = 'overlayPane'
          // By default the layer will be added to the map's [overlay pane](#map-overlaypane). Overriding this option will cause the layer to be placed on another pane by default.
          pane: "overlayPane",
          // @option attribution: String = null
          // String to be shown in the attribution control, e.g. "© OpenStreetMap contributors". It describes the layer data and is often a legal obligation towards copyright holders and tile providers.
          attribution: null,
          bubblingMouseEvents: true
        },
        /* @section
         * Classes extending `L.Layer` will inherit the following methods:
         *
         * @method addTo(map: Map|LayerGroup): this
         * Adds the layer to the given map or layer group.
         */
        addTo: function(map3) {
          map3.addLayer(this);
          return this;
        },
        // @method remove: this
        // Removes the layer from the map it is currently active on.
        remove: function() {
          return this.removeFrom(this._map || this._mapToAdd);
        },
        // @method removeFrom(map: Map): this
        // Removes the layer from the given map
        //
        // @alternative
        // @method removeFrom(group: LayerGroup): this
        // Removes the layer from the given `LayerGroup`
        removeFrom: function(obj) {
          if (obj) {
            obj.removeLayer(this);
          }
          return this;
        },
        // @method getPane(name? : String): HTMLElement
        // Returns the `HTMLElement` representing the named pane on the map. If `name` is omitted, returns the pane for this layer.
        getPane: function(name) {
          return this._map.getPane(name ? this.options[name] || name : this.options.pane);
        },
        addInteractiveTarget: function(targetEl) {
          this._map._targets[stamp(targetEl)] = this;
          return this;
        },
        removeInteractiveTarget: function(targetEl) {
          delete this._map._targets[stamp(targetEl)];
          return this;
        },
        // @method getAttribution: String
        // Used by the `attribution control`, returns the [attribution option](#gridlayer-attribution).
        getAttribution: function() {
          return this.options.attribution;
        },
        _layerAdd: function(e) {
          var map3 = e.target;
          if (!map3.hasLayer(this)) {
            return;
          }
          this._map = map3;
          this._zoomAnimated = map3._zoomAnimated;
          if (this.getEvents) {
            var events = this.getEvents();
            map3.on(events, this);
            this.once("remove", function() {
              map3.off(events, this);
            }, this);
          }
          this.onAdd(map3);
          this.fire("add");
          map3.fire("layeradd", { layer: this });
        }
      });
      Map2.include({
        // @method addLayer(layer: Layer): this
        // Adds the given layer to the map
        addLayer: function(layer) {
          if (!layer._layerAdd) {
            throw new Error("The provided object is not a Layer.");
          }
          var id = stamp(layer);
          if (this._layers[id]) {
            return this;
          }
          this._layers[id] = layer;
          layer._mapToAdd = this;
          if (layer.beforeAdd) {
            layer.beforeAdd(this);
          }
          this.whenReady(layer._layerAdd, layer);
          return this;
        },
        // @method removeLayer(layer: Layer): this
        // Removes the given layer from the map.
        removeLayer: function(layer) {
          var id = stamp(layer);
          if (!this._layers[id]) {
            return this;
          }
          if (this._loaded) {
            layer.onRemove(this);
          }
          delete this._layers[id];
          if (this._loaded) {
            this.fire("layerremove", { layer });
            layer.fire("remove");
          }
          layer._map = layer._mapToAdd = null;
          return this;
        },
        // @method hasLayer(layer: Layer): Boolean
        // Returns `true` if the given layer is currently added to the map
        hasLayer: function(layer) {
          return stamp(layer) in this._layers;
        },
        /* @method eachLayer(fn: Function, context?: Object): this
         * Iterates over the layers of the map, optionally specifying context of the iterator function.
         * ```
         * map.eachLayer(function(layer){
         *     layer.bindPopup('Hello');
         * });
         * ```
         */
        eachLayer: function(method, context) {
          for (var i in this._layers) {
            method.call(context, this._layers[i]);
          }
          return this;
        },
        _addLayers: function(layers2) {
          layers2 = layers2 ? isArray(layers2) ? layers2 : [layers2] : [];
          for (var i = 0, len = layers2.length; i < len; i++) {
            this.addLayer(layers2[i]);
          }
        },
        _addZoomLimit: function(layer) {
          if (!isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom)) {
            this._zoomBoundLayers[stamp(layer)] = layer;
            this._updateZoomLevels();
          }
        },
        _removeZoomLimit: function(layer) {
          var id = stamp(layer);
          if (this._zoomBoundLayers[id]) {
            delete this._zoomBoundLayers[id];
            this._updateZoomLevels();
          }
        },
        _updateZoomLevels: function() {
          var minZoom = Infinity, maxZoom = -Infinity, oldZoomSpan = this._getZoomSpan();
          for (var i in this._zoomBoundLayers) {
            var options = this._zoomBoundLayers[i].options;
            minZoom = options.minZoom === void 0 ? minZoom : Math.min(minZoom, options.minZoom);
            maxZoom = options.maxZoom === void 0 ? maxZoom : Math.max(maxZoom, options.maxZoom);
          }
          this._layersMaxZoom = maxZoom === -Infinity ? void 0 : maxZoom;
          this._layersMinZoom = minZoom === Infinity ? void 0 : minZoom;
          if (oldZoomSpan !== this._getZoomSpan()) {
            this.fire("zoomlevelschange");
          }
          if (this.options.maxZoom === void 0 && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom) {
            this.setZoom(this._layersMaxZoom);
          }
          if (this.options.minZoom === void 0 && this._layersMinZoom && this.getZoom() < this._layersMinZoom) {
            this.setZoom(this._layersMinZoom);
          }
        }
      });
      var LayerGroup = Layer.extend({
        initialize: function(layers2, options) {
          setOptions(this, options);
          this._layers = {};
          var i, len;
          if (layers2) {
            for (i = 0, len = layers2.length; i < len; i++) {
              this.addLayer(layers2[i]);
            }
          }
        },
        // @method addLayer(layer: Layer): this
        // Adds the given layer to the group.
        addLayer: function(layer) {
          var id = this.getLayerId(layer);
          this._layers[id] = layer;
          if (this._map) {
            this._map.addLayer(layer);
          }
          return this;
        },
        // @method removeLayer(layer: Layer): this
        // Removes the given layer from the group.
        // @alternative
        // @method removeLayer(id: Number): this
        // Removes the layer with the given internal ID from the group.
        removeLayer: function(layer) {
          var id = layer in this._layers ? layer : this.getLayerId(layer);
          if (this._map && this._layers[id]) {
            this._map.removeLayer(this._layers[id]);
          }
          delete this._layers[id];
          return this;
        },
        // @method hasLayer(layer: Layer): Boolean
        // Returns `true` if the given layer is currently added to the group.
        // @alternative
        // @method hasLayer(id: Number): Boolean
        // Returns `true` if the given internal ID is currently added to the group.
        hasLayer: function(layer) {
          var layerId = typeof layer === "number" ? layer : this.getLayerId(layer);
          return layerId in this._layers;
        },
        // @method clearLayers(): this
        // Removes all the layers from the group.
        clearLayers: function() {
          return this.eachLayer(this.removeLayer, this);
        },
        // @method invoke(methodName: String, …): this
        // Calls `methodName` on every layer contained in this group, passing any
        // additional parameters. Has no effect if the layers contained do not
        // implement `methodName`.
        invoke: function(methodName) {
          var args = Array.prototype.slice.call(arguments, 1), i, layer;
          for (i in this._layers) {
            layer = this._layers[i];
            if (layer[methodName]) {
              layer[methodName].apply(layer, args);
            }
          }
          return this;
        },
        onAdd: function(map3) {
          this.eachLayer(map3.addLayer, map3);
        },
        onRemove: function(map3) {
          this.eachLayer(map3.removeLayer, map3);
        },
        // @method eachLayer(fn: Function, context?: Object): this
        // Iterates over the layers of the group, optionally specifying context of the iterator function.
        // ```js
        // group.eachLayer(function (layer) {
        // 	layer.bindPopup('Hello');
        // });
        // ```
        eachLayer: function(method, context) {
          for (var i in this._layers) {
            method.call(context, this._layers[i]);
          }
          return this;
        },
        // @method getLayer(id: Number): Layer
        // Returns the layer with the given internal ID.
        getLayer: function(id) {
          return this._layers[id];
        },
        // @method getLayers(): Layer[]
        // Returns an array of all the layers added to the group.
        getLayers: function() {
          var layers2 = [];
          this.eachLayer(layers2.push, layers2);
          return layers2;
        },
        // @method setZIndex(zIndex: Number): this
        // Calls `setZIndex` on every layer contained in this group, passing the z-index.
        setZIndex: function(zIndex) {
          return this.invoke("setZIndex", zIndex);
        },
        // @method getLayerId(layer: Layer): Number
        // Returns the internal ID for a layer
        getLayerId: function(layer) {
          return stamp(layer);
        }
      });
      var layerGroup = function(layers2, options) {
        return new LayerGroup(layers2, options);
      };
      var FeatureGroup2 = LayerGroup.extend({
        addLayer: function(layer) {
          if (this.hasLayer(layer)) {
            return this;
          }
          layer.addEventParent(this);
          LayerGroup.prototype.addLayer.call(this, layer);
          return this.fire("layeradd", { layer });
        },
        removeLayer: function(layer) {
          if (!this.hasLayer(layer)) {
            return this;
          }
          if (layer in this._layers) {
            layer = this._layers[layer];
          }
          layer.removeEventParent(this);
          LayerGroup.prototype.removeLayer.call(this, layer);
          return this.fire("layerremove", { layer });
        },
        // @method setStyle(style: Path options): this
        // Sets the given path options to each layer of the group that has a `setStyle` method.
        setStyle: function(style2) {
          return this.invoke("setStyle", style2);
        },
        // @method bringToFront(): this
        // Brings the layer group to the top of all other layers
        bringToFront: function() {
          return this.invoke("bringToFront");
        },
        // @method bringToBack(): this
        // Brings the layer group to the back of all other layers
        bringToBack: function() {
          return this.invoke("bringToBack");
        },
        // @method getBounds(): LatLngBounds
        // Returns the LatLngBounds of the Feature Group (created from bounds and coordinates of its children).
        getBounds: function() {
          var bounds = new LatLngBounds();
          for (var id in this._layers) {
            var layer = this._layers[id];
            bounds.extend(layer.getBounds ? layer.getBounds() : layer.getLatLng());
          }
          return bounds;
        }
      });
      var featureGroup = function(layers2, options) {
        return new FeatureGroup2(layers2, options);
      };
      var Icon = Class.extend({
        /* @section
         * @aka Icon options
         *
         * @option iconUrl: String = null
         * **(required)** The URL to the icon image (absolute or relative to your script path).
         *
         * @option iconRetinaUrl: String = null
         * The URL to a retina sized version of the icon image (absolute or relative to your
         * script path). Used for Retina screen devices.
         *
         * @option iconSize: Point = null
         * Size of the icon image in pixels.
         *
         * @option iconAnchor: Point = null
         * The coordinates of the "tip" of the icon (relative to its top left corner). The icon
         * will be aligned so that this point is at the marker's geographical location. Centered
         * by default if size is specified, also can be set in CSS with negative margins.
         *
         * @option popupAnchor: Point = [0, 0]
         * The coordinates of the point from which popups will "open", relative to the icon anchor.
         *
         * @option tooltipAnchor: Point = [0, 0]
         * The coordinates of the point from which tooltips will "open", relative to the icon anchor.
         *
         * @option shadowUrl: String = null
         * The URL to the icon shadow image. If not specified, no shadow image will be created.
         *
         * @option shadowRetinaUrl: String = null
         *
         * @option shadowSize: Point = null
         * Size of the shadow image in pixels.
         *
         * @option shadowAnchor: Point = null
         * The coordinates of the "tip" of the shadow (relative to its top left corner) (the same
         * as iconAnchor if not specified).
         *
         * @option className: String = ''
         * A custom class name to assign to both icon and shadow images. Empty by default.
         */
        options: {
          popupAnchor: [0, 0],
          tooltipAnchor: [0, 0],
          // @option crossOrigin: Boolean|String = false
          // Whether the crossOrigin attribute will be added to the tiles.
          // If a String is provided, all tiles will have their crossOrigin attribute set to the String provided. This is needed if you want to access tile pixel data.
          // Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.
          crossOrigin: false
        },
        initialize: function(options) {
          setOptions(this, options);
        },
        // @method createIcon(oldIcon?: HTMLElement): HTMLElement
        // Called internally when the icon has to be shown, returns a `<img>` HTML element
        // styled according to the options.
        createIcon: function(oldIcon) {
          return this._createIcon("icon", oldIcon);
        },
        // @method createShadow(oldIcon?: HTMLElement): HTMLElement
        // As `createIcon`, but for the shadow beneath it.
        createShadow: function(oldIcon) {
          return this._createIcon("shadow", oldIcon);
        },
        _createIcon: function(name, oldIcon) {
          var src = this._getIconUrl(name);
          if (!src) {
            if (name === "icon") {
              throw new Error("iconUrl not set in Icon options (see the docs).");
            }
            return null;
          }
          var img = this._createImg(src, oldIcon && oldIcon.tagName === "IMG" ? oldIcon : null);
          this._setIconStyles(img, name);
          if (this.options.crossOrigin || this.options.crossOrigin === "") {
            img.crossOrigin = this.options.crossOrigin === true ? "" : this.options.crossOrigin;
          }
          return img;
        },
        _setIconStyles: function(img, name) {
          var options = this.options;
          var sizeOption = options[name + "Size"];
          if (typeof sizeOption === "number") {
            sizeOption = [sizeOption, sizeOption];
          }
          var size = toPoint(sizeOption), anchor = toPoint(name === "shadow" && options.shadowAnchor || options.iconAnchor || size && size.divideBy(2, true));
          img.className = "leaflet-marker-" + name + " " + (options.className || "");
          if (anchor) {
            img.style.marginLeft = -anchor.x + "px";
            img.style.marginTop = -anchor.y + "px";
          }
          if (size) {
            img.style.width = size.x + "px";
            img.style.height = size.y + "px";
          }
        },
        _createImg: function(src, el) {
          el = el || document.createElement("img");
          el.src = src;
          return el;
        },
        _getIconUrl: function(name) {
          return Browser.retina && this.options[name + "RetinaUrl"] || this.options[name + "Url"];
        }
      });
      function icon(options) {
        return new Icon(options);
      }
      var IconDefault = Icon.extend({
        options: {
          iconUrl: "marker-icon.png",
          iconRetinaUrl: "marker-icon-2x.png",
          shadowUrl: "marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          tooltipAnchor: [16, -28],
          shadowSize: [41, 41]
        },
        _getIconUrl: function(name) {
          if (typeof IconDefault.imagePath !== "string") {
            IconDefault.imagePath = this._detectIconPath();
          }
          return (this.options.imagePath || IconDefault.imagePath) + Icon.prototype._getIconUrl.call(this, name);
        },
        _stripUrl: function(path) {
          var strip = function(str, re, idx) {
            var match = re.exec(str);
            return match && match[idx];
          };
          path = strip(path, /^url\((['"])?(.+)\1\)$/, 2);
          return path && strip(path, /^(.*)marker-icon\.png$/, 1);
        },
        _detectIconPath: function() {
          var el = create$1("div", "leaflet-default-icon-path", document.body);
          var path = getStyle(el, "background-image") || getStyle(el, "backgroundImage");
          document.body.removeChild(el);
          path = this._stripUrl(path);
          if (path) {
            return path;
          }
          var link = document.querySelector('link[href$="leaflet.css"]');
          if (!link) {
            return "";
          }
          return link.href.substring(0, link.href.length - "leaflet.css".length - 1);
        }
      });
      var MarkerDrag = Handler.extend({
        initialize: function(marker3) {
          this._marker = marker3;
        },
        addHooks: function() {
          var icon2 = this._marker._icon;
          if (!this._draggable) {
            this._draggable = new Draggable(icon2, icon2, true);
          }
          this._draggable.on({
            dragstart: this._onDragStart,
            predrag: this._onPreDrag,
            drag: this._onDrag,
            dragend: this._onDragEnd
          }, this).enable();
          addClass(icon2, "leaflet-marker-draggable");
        },
        removeHooks: function() {
          this._draggable.off({
            dragstart: this._onDragStart,
            predrag: this._onPreDrag,
            drag: this._onDrag,
            dragend: this._onDragEnd
          }, this).disable();
          if (this._marker._icon) {
            removeClass(this._marker._icon, "leaflet-marker-draggable");
          }
        },
        moved: function() {
          return this._draggable && this._draggable._moved;
        },
        _adjustPan: function(e) {
          var marker3 = this._marker, map3 = marker3._map, speed = this._marker.options.autoPanSpeed, padding = this._marker.options.autoPanPadding, iconPos = getPosition(marker3._icon), bounds = map3.getPixelBounds(), origin = map3.getPixelOrigin();
          var panBounds = toBounds(
            bounds.min._subtract(origin).add(padding),
            bounds.max._subtract(origin).subtract(padding)
          );
          if (!panBounds.contains(iconPos)) {
            var movement = toPoint(
              (Math.max(panBounds.max.x, iconPos.x) - panBounds.max.x) / (bounds.max.x - panBounds.max.x) - (Math.min(panBounds.min.x, iconPos.x) - panBounds.min.x) / (bounds.min.x - panBounds.min.x),
              (Math.max(panBounds.max.y, iconPos.y) - panBounds.max.y) / (bounds.max.y - panBounds.max.y) - (Math.min(panBounds.min.y, iconPos.y) - panBounds.min.y) / (bounds.min.y - panBounds.min.y)
            ).multiplyBy(speed);
            map3.panBy(movement, { animate: false });
            this._draggable._newPos._add(movement);
            this._draggable._startPos._add(movement);
            setPosition(marker3._icon, this._draggable._newPos);
            this._onDrag(e);
            this._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));
          }
        },
        _onDragStart: function() {
          this._oldLatLng = this._marker.getLatLng();
          this._marker.closePopup && this._marker.closePopup();
          this._marker.fire("movestart").fire("dragstart");
        },
        _onPreDrag: function(e) {
          if (this._marker.options.autoPan) {
            cancelAnimFrame(this._panRequest);
            this._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));
          }
        },
        _onDrag: function(e) {
          var marker3 = this._marker, shadow = marker3._shadow, iconPos = getPosition(marker3._icon), latlng = marker3._map.layerPointToLatLng(iconPos);
          if (shadow) {
            setPosition(shadow, iconPos);
          }
          marker3._latlng = latlng;
          e.latlng = latlng;
          e.oldLatLng = this._oldLatLng;
          marker3.fire("move", e).fire("drag", e);
        },
        _onDragEnd: function(e) {
          cancelAnimFrame(this._panRequest);
          delete this._oldLatLng;
          this._marker.fire("moveend").fire("dragend", e);
        }
      });
      var Marker = Layer.extend({
        // @section
        // @aka Marker options
        options: {
          // @option icon: Icon = *
          // Icon instance to use for rendering the marker.
          // See [Icon documentation](#L.Icon) for details on how to customize the marker icon.
          // If not specified, a common instance of `L.Icon.Default` is used.
          icon: new IconDefault(),
          // Option inherited from "Interactive layer" abstract class
          interactive: true,
          // @option keyboard: Boolean = true
          // Whether the marker can be tabbed to with a keyboard and clicked by pressing enter.
          keyboard: true,
          // @option title: String = ''
          // Text for the browser tooltip that appear on marker hover (no tooltip by default).
          // [Useful for accessibility](https://leafletjs.com/examples/accessibility/#markers-must-be-labelled).
          title: "",
          // @option alt: String = 'Marker'
          // Text for the `alt` attribute of the icon image.
          // [Useful for accessibility](https://leafletjs.com/examples/accessibility/#markers-must-be-labelled).
          alt: "Marker",
          // @option zIndexOffset: Number = 0
          // By default, marker images zIndex is set automatically based on its latitude. Use this option if you want to put the marker on top of all others (or below), specifying a high value like `1000` (or high negative value, respectively).
          zIndexOffset: 0,
          // @option opacity: Number = 1.0
          // The opacity of the marker.
          opacity: 1,
          // @option riseOnHover: Boolean = false
          // If `true`, the marker will get on top of others when you hover the mouse over it.
          riseOnHover: false,
          // @option riseOffset: Number = 250
          // The z-index offset used for the `riseOnHover` feature.
          riseOffset: 250,
          // @option pane: String = 'markerPane'
          // `Map pane` where the markers icon will be added.
          pane: "markerPane",
          // @option shadowPane: String = 'shadowPane'
          // `Map pane` where the markers shadow will be added.
          shadowPane: "shadowPane",
          // @option bubblingMouseEvents: Boolean = false
          // When `true`, a mouse event on this marker will trigger the same event on the map
          // (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).
          bubblingMouseEvents: false,
          // @option autoPanOnFocus: Boolean = true
          // When `true`, the map will pan whenever the marker is focused (via
          // e.g. pressing `tab` on the keyboard) to ensure the marker is
          // visible within the map's bounds
          autoPanOnFocus: true,
          // @section Draggable marker options
          // @option draggable: Boolean = false
          // Whether the marker is draggable with mouse/touch or not.
          draggable: false,
          // @option autoPan: Boolean = false
          // Whether to pan the map when dragging this marker near its edge or not.
          autoPan: false,
          // @option autoPanPadding: Point = Point(50, 50)
          // Distance (in pixels to the left/right and to the top/bottom) of the
          // map edge to start panning the map.
          autoPanPadding: [50, 50],
          // @option autoPanSpeed: Number = 10
          // Number of pixels the map should pan by.
          autoPanSpeed: 10
        },
        /* @section
         *
         * In addition to [shared layer methods](#Layer) like `addTo()` and `remove()` and [popup methods](#Popup) like bindPopup() you can also use the following methods:
         */
        initialize: function(latlng, options) {
          setOptions(this, options);
          this._latlng = toLatLng(latlng);
        },
        onAdd: function(map3) {
          this._zoomAnimated = this._zoomAnimated && map3.options.markerZoomAnimation;
          if (this._zoomAnimated) {
            map3.on("zoomanim", this._animateZoom, this);
          }
          this._initIcon();
          this.update();
        },
        onRemove: function(map3) {
          if (this.dragging && this.dragging.enabled()) {
            this.options.draggable = true;
            this.dragging.removeHooks();
          }
          delete this.dragging;
          if (this._zoomAnimated) {
            map3.off("zoomanim", this._animateZoom, this);
          }
          this._removeIcon();
          this._removeShadow();
        },
        getEvents: function() {
          return {
            zoom: this.update,
            viewreset: this.update
          };
        },
        // @method getLatLng: LatLng
        // Returns the current geographical position of the marker.
        getLatLng: function() {
          return this._latlng;
        },
        // @method setLatLng(latlng: LatLng): this
        // Changes the marker position to the given point.
        setLatLng: function(latlng) {
          var oldLatLng = this._latlng;
          this._latlng = toLatLng(latlng);
          this.update();
          return this.fire("move", { oldLatLng, latlng: this._latlng });
        },
        // @method setZIndexOffset(offset: Number): this
        // Changes the [zIndex offset](#marker-zindexoffset) of the marker.
        setZIndexOffset: function(offset) {
          this.options.zIndexOffset = offset;
          return this.update();
        },
        // @method getIcon: Icon
        // Returns the current icon used by the marker
        getIcon: function() {
          return this.options.icon;
        },
        // @method setIcon(icon: Icon): this
        // Changes the marker icon.
        setIcon: function(icon2) {
          this.options.icon = icon2;
          if (this._map) {
            this._initIcon();
            this.update();
          }
          if (this._popup) {
            this.bindPopup(this._popup, this._popup.options);
          }
          return this;
        },
        getElement: function() {
          return this._icon;
        },
        update: function() {
          if (this._icon && this._map) {
            var pos = this._map.latLngToLayerPoint(this._latlng).round();
            this._setPos(pos);
          }
          return this;
        },
        _initIcon: function() {
          var options = this.options, classToAdd = "leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
          var icon2 = options.icon.createIcon(this._icon), addIcon = false;
          if (icon2 !== this._icon) {
            if (this._icon) {
              this._removeIcon();
            }
            addIcon = true;
            if (options.title) {
              icon2.title = options.title;
            }
            if (icon2.tagName === "IMG") {
              icon2.alt = options.alt || "";
            }
          }
          addClass(icon2, classToAdd);
          if (options.keyboard) {
            icon2.tabIndex = "0";
            icon2.setAttribute("role", "button");
          }
          this._icon = icon2;
          if (options.riseOnHover) {
            this.on({
              mouseover: this._bringToFront,
              mouseout: this._resetZIndex
            });
          }
          if (this.options.autoPanOnFocus) {
            on(icon2, "focus", this._panOnFocus, this);
          }
          var newShadow = options.icon.createShadow(this._shadow), addShadow = false;
          if (newShadow !== this._shadow) {
            this._removeShadow();
            addShadow = true;
          }
          if (newShadow) {
            addClass(newShadow, classToAdd);
            newShadow.alt = "";
          }
          this._shadow = newShadow;
          if (options.opacity < 1) {
            this._updateOpacity();
          }
          if (addIcon) {
            this.getPane().appendChild(this._icon);
          }
          this._initInteraction();
          if (newShadow && addShadow) {
            this.getPane(options.shadowPane).appendChild(this._shadow);
          }
        },
        _removeIcon: function() {
          if (this.options.riseOnHover) {
            this.off({
              mouseover: this._bringToFront,
              mouseout: this._resetZIndex
            });
          }
          if (this.options.autoPanOnFocus) {
            off(this._icon, "focus", this._panOnFocus, this);
          }
          remove(this._icon);
          this.removeInteractiveTarget(this._icon);
          this._icon = null;
        },
        _removeShadow: function() {
          if (this._shadow) {
            remove(this._shadow);
          }
          this._shadow = null;
        },
        _setPos: function(pos) {
          if (this._icon) {
            setPosition(this._icon, pos);
          }
          if (this._shadow) {
            setPosition(this._shadow, pos);
          }
          this._zIndex = pos.y + this.options.zIndexOffset;
          this._resetZIndex();
        },
        _updateZIndex: function(offset) {
          if (this._icon) {
            this._icon.style.zIndex = this._zIndex + offset;
          }
        },
        _animateZoom: function(opt) {
          var pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).round();
          this._setPos(pos);
        },
        _initInteraction: function() {
          if (!this.options.interactive) {
            return;
          }
          addClass(this._icon, "leaflet-interactive");
          this.addInteractiveTarget(this._icon);
          if (MarkerDrag) {
            var draggable = this.options.draggable;
            if (this.dragging) {
              draggable = this.dragging.enabled();
              this.dragging.disable();
            }
            this.dragging = new MarkerDrag(this);
            if (draggable) {
              this.dragging.enable();
            }
          }
        },
        // @method setOpacity(opacity: Number): this
        // Changes the opacity of the marker.
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          if (this._map) {
            this._updateOpacity();
          }
          return this;
        },
        _updateOpacity: function() {
          var opacity = this.options.opacity;
          if (this._icon) {
            setOpacity(this._icon, opacity);
          }
          if (this._shadow) {
            setOpacity(this._shadow, opacity);
          }
        },
        _bringToFront: function() {
          this._updateZIndex(this.options.riseOffset);
        },
        _resetZIndex: function() {
          this._updateZIndex(0);
        },
        _panOnFocus: function() {
          var map3 = this._map;
          if (!map3) {
            return;
          }
          var iconOpts = this.options.icon.options;
          var size = iconOpts.iconSize ? toPoint(iconOpts.iconSize) : toPoint(0, 0);
          var anchor = iconOpts.iconAnchor ? toPoint(iconOpts.iconAnchor) : toPoint(0, 0);
          map3.panInside(this._latlng, {
            paddingTopLeft: anchor,
            paddingBottomRight: size.subtract(anchor)
          });
        },
        _getPopupAnchor: function() {
          return this.options.icon.options.popupAnchor;
        },
        _getTooltipAnchor: function() {
          return this.options.icon.options.tooltipAnchor;
        }
      });
      function marker2(latlng, options) {
        return new Marker(latlng, options);
      }
      var Path = Layer.extend({
        // @section
        // @aka Path options
        options: {
          // @option stroke: Boolean = true
          // Whether to draw stroke along the path. Set it to `false` to disable borders on polygons or circles.
          stroke: true,
          // @option color: String = '#3388ff'
          // Stroke color
          color: "#3388ff",
          // @option weight: Number = 3
          // Stroke width in pixels
          weight: 3,
          // @option opacity: Number = 1.0
          // Stroke opacity
          opacity: 1,
          // @option lineCap: String= 'round'
          // A string that defines [shape to be used at the end](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linecap) of the stroke.
          lineCap: "round",
          // @option lineJoin: String = 'round'
          // A string that defines [shape to be used at the corners](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linejoin) of the stroke.
          lineJoin: "round",
          // @option dashArray: String = null
          // A string that defines the stroke [dash pattern](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dasharray). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).
          dashArray: null,
          // @option dashOffset: String = null
          // A string that defines the [distance into the dash pattern to start the dash](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dashoffset). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).
          dashOffset: null,
          // @option fill: Boolean = depends
          // Whether to fill the path with color. Set it to `false` to disable filling on polygons or circles.
          fill: false,
          // @option fillColor: String = *
          // Fill color. Defaults to the value of the [`color`](#path-color) option
          fillColor: null,
          // @option fillOpacity: Number = 0.2
          // Fill opacity.
          fillOpacity: 0.2,
          // @option fillRule: String = 'evenodd'
          // A string that defines [how the inside of a shape](https://developer.mozilla.org/docs/Web/SVG/Attribute/fill-rule) is determined.
          fillRule: "evenodd",
          // className: '',
          // Option inherited from "Interactive layer" abstract class
          interactive: true,
          // @option bubblingMouseEvents: Boolean = true
          // When `true`, a mouse event on this path will trigger the same event on the map
          // (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).
          bubblingMouseEvents: true
        },
        beforeAdd: function(map3) {
          this._renderer = map3.getRenderer(this);
        },
        onAdd: function() {
          this._renderer._initPath(this);
          this._reset();
          this._renderer._addPath(this);
        },
        onRemove: function() {
          this._renderer._removePath(this);
        },
        // @method redraw(): this
        // Redraws the layer. Sometimes useful after you changed the coordinates that the path uses.
        redraw: function() {
          if (this._map) {
            this._renderer._updatePath(this);
          }
          return this;
        },
        // @method setStyle(style: Path options): this
        // Changes the appearance of a Path based on the options in the `Path options` object.
        setStyle: function(style2) {
          setOptions(this, style2);
          if (this._renderer) {
            this._renderer._updateStyle(this);
            if (this.options.stroke && style2 && Object.prototype.hasOwnProperty.call(style2, "weight")) {
              this._updateBounds();
            }
          }
          return this;
        },
        // @method bringToFront(): this
        // Brings the layer to the top of all path layers.
        bringToFront: function() {
          if (this._renderer) {
            this._renderer._bringToFront(this);
          }
          return this;
        },
        // @method bringToBack(): this
        // Brings the layer to the bottom of all path layers.
        bringToBack: function() {
          if (this._renderer) {
            this._renderer._bringToBack(this);
          }
          return this;
        },
        getElement: function() {
          return this._path;
        },
        _reset: function() {
          this._project();
          this._update();
        },
        _clickTolerance: function() {
          return (this.options.stroke ? this.options.weight / 2 : 0) + (this._renderer.options.tolerance || 0);
        }
      });
      var CircleMarker = Path.extend({
        // @section
        // @aka CircleMarker options
        options: {
          fill: true,
          // @option radius: Number = 10
          // Radius of the circle marker, in pixels
          radius: 10
        },
        initialize: function(latlng, options) {
          setOptions(this, options);
          this._latlng = toLatLng(latlng);
          this._radius = this.options.radius;
        },
        // @method setLatLng(latLng: LatLng): this
        // Sets the position of a circle marker to a new location.
        setLatLng: function(latlng) {
          var oldLatLng = this._latlng;
          this._latlng = toLatLng(latlng);
          this.redraw();
          return this.fire("move", { oldLatLng, latlng: this._latlng });
        },
        // @method getLatLng(): LatLng
        // Returns the current geographical position of the circle marker
        getLatLng: function() {
          return this._latlng;
        },
        // @method setRadius(radius: Number): this
        // Sets the radius of a circle marker. Units are in pixels.
        setRadius: function(radius) {
          this.options.radius = this._radius = radius;
          return this.redraw();
        },
        // @method getRadius(): Number
        // Returns the current radius of the circle
        getRadius: function() {
          return this._radius;
        },
        setStyle: function(options) {
          var radius = options && options.radius || this._radius;
          Path.prototype.setStyle.call(this, options);
          this.setRadius(radius);
          return this;
        },
        _project: function() {
          this._point = this._map.latLngToLayerPoint(this._latlng);
          this._updateBounds();
        },
        _updateBounds: function() {
          var r = this._radius, r2 = this._radiusY || r, w = this._clickTolerance(), p = [r + w, r2 + w];
          this._pxBounds = new Bounds(this._point.subtract(p), this._point.add(p));
        },
        _update: function() {
          if (this._map) {
            this._updatePath();
          }
        },
        _updatePath: function() {
          this._renderer._updateCircle(this);
        },
        _empty: function() {
          return this._radius && !this._renderer._bounds.intersects(this._pxBounds);
        },
        // Needed by the `Canvas` renderer for interactivity
        _containsPoint: function(p) {
          return p.distanceTo(this._point) <= this._radius + this._clickTolerance();
        }
      });
      function circleMarker2(latlng, options) {
        return new CircleMarker(latlng, options);
      }
      var Circle = CircleMarker.extend({
        initialize: function(latlng, options, legacyOptions) {
          if (typeof options === "number") {
            options = extend({}, legacyOptions, { radius: options });
          }
          setOptions(this, options);
          this._latlng = toLatLng(latlng);
          if (isNaN(this.options.radius)) {
            throw new Error("Circle radius cannot be NaN");
          }
          this._mRadius = this.options.radius;
        },
        // @method setRadius(radius: Number): this
        // Sets the radius of a circle. Units are in meters.
        setRadius: function(radius) {
          this._mRadius = radius;
          return this.redraw();
        },
        // @method getRadius(): Number
        // Returns the current radius of a circle. Units are in meters.
        getRadius: function() {
          return this._mRadius;
        },
        // @method getBounds(): LatLngBounds
        // Returns the `LatLngBounds` of the path.
        getBounds: function() {
          var half = [this._radius, this._radiusY || this._radius];
          return new LatLngBounds(
            this._map.layerPointToLatLng(this._point.subtract(half)),
            this._map.layerPointToLatLng(this._point.add(half))
          );
        },
        setStyle: Path.prototype.setStyle,
        _project: function() {
          var lng = this._latlng.lng, lat = this._latlng.lat, map3 = this._map, crs = map3.options.crs;
          if (crs.distance === Earth.distance) {
            var d = Math.PI / 180, latR = this._mRadius / Earth.R / d, top = map3.project([lat + latR, lng]), bottom = map3.project([lat - latR, lng]), p = top.add(bottom).divideBy(2), lat2 = map3.unproject(p).lat, lngR = Math.acos((Math.cos(latR * d) - Math.sin(lat * d) * Math.sin(lat2 * d)) / (Math.cos(lat * d) * Math.cos(lat2 * d))) / d;
            if (isNaN(lngR) || lngR === 0) {
              lngR = latR / Math.cos(Math.PI / 180 * lat);
            }
            this._point = p.subtract(map3.getPixelOrigin());
            this._radius = isNaN(lngR) ? 0 : p.x - map3.project([lat2, lng - lngR]).x;
            this._radiusY = p.y - top.y;
          } else {
            var latlng2 = crs.unproject(crs.project(this._latlng).subtract([this._mRadius, 0]));
            this._point = map3.latLngToLayerPoint(this._latlng);
            this._radius = this._point.x - map3.latLngToLayerPoint(latlng2).x;
          }
          this._updateBounds();
        }
      });
      function circle2(latlng, options, legacyOptions) {
        return new Circle(latlng, options, legacyOptions);
      }
      var Polyline = Path.extend({
        // @section
        // @aka Polyline options
        options: {
          // @option smoothFactor: Number = 1.0
          // How much to simplify the polyline on each zoom level. More means
          // better performance and smoother look, and less means more accurate representation.
          smoothFactor: 1,
          // @option noClip: Boolean = false
          // Disable polyline clipping.
          noClip: false
        },
        initialize: function(latlngs, options) {
          setOptions(this, options);
          this._setLatLngs(latlngs);
        },
        // @method getLatLngs(): LatLng[]
        // Returns an array of the points in the path, or nested arrays of points in case of multi-polyline.
        getLatLngs: function() {
          return this._latlngs;
        },
        // @method setLatLngs(latlngs: LatLng[]): this
        // Replaces all the points in the polyline with the given array of geographical points.
        setLatLngs: function(latlngs) {
          this._setLatLngs(latlngs);
          return this.redraw();
        },
        // @method isEmpty(): Boolean
        // Returns `true` if the Polyline has no LatLngs.
        isEmpty: function() {
          return !this._latlngs.length;
        },
        // @method closestLayerPoint(p: Point): Point
        // Returns the point closest to `p` on the Polyline.
        closestLayerPoint: function(p) {
          var minDistance = Infinity, minPoint = null, closest = _sqClosestPointOnSegment, p1, p2;
          for (var j = 0, jLen = this._parts.length; j < jLen; j++) {
            var points = this._parts[j];
            for (var i = 1, len = points.length; i < len; i++) {
              p1 = points[i - 1];
              p2 = points[i];
              var sqDist = closest(p, p1, p2, true);
              if (sqDist < minDistance) {
                minDistance = sqDist;
                minPoint = closest(p, p1, p2);
              }
            }
          }
          if (minPoint) {
            minPoint.distance = Math.sqrt(minDistance);
          }
          return minPoint;
        },
        // @method getCenter(): LatLng
        // Returns the center ([centroid](https://en.wikipedia.org/wiki/Centroid)) of the polyline.
        getCenter: function() {
          if (!this._map) {
            throw new Error("Must add layer to map before using getCenter()");
          }
          return polylineCenter(this._defaultShape(), this._map.options.crs);
        },
        // @method getBounds(): LatLngBounds
        // Returns the `LatLngBounds` of the path.
        getBounds: function() {
          return this._bounds;
        },
        // @method addLatLng(latlng: LatLng, latlngs?: LatLng[]): this
        // Adds a given point to the polyline. By default, adds to the first ring of
        // the polyline in case of a multi-polyline, but can be overridden by passing
        // a specific ring as a LatLng array (that you can earlier access with [`getLatLngs`](#polyline-getlatlngs)).
        addLatLng: function(latlng, latlngs) {
          latlngs = latlngs || this._defaultShape();
          latlng = toLatLng(latlng);
          latlngs.push(latlng);
          this._bounds.extend(latlng);
          return this.redraw();
        },
        _setLatLngs: function(latlngs) {
          this._bounds = new LatLngBounds();
          this._latlngs = this._convertLatLngs(latlngs);
        },
        _defaultShape: function() {
          return isFlat(this._latlngs) ? this._latlngs : this._latlngs[0];
        },
        // recursively convert latlngs input into actual LatLng instances; calculate bounds along the way
        _convertLatLngs: function(latlngs) {
          var result = [], flat = isFlat(latlngs);
          for (var i = 0, len = latlngs.length; i < len; i++) {
            if (flat) {
              result[i] = toLatLng(latlngs[i]);
              this._bounds.extend(result[i]);
            } else {
              result[i] = this._convertLatLngs(latlngs[i]);
            }
          }
          return result;
        },
        _project: function() {
          var pxBounds = new Bounds();
          this._rings = [];
          this._projectLatlngs(this._latlngs, this._rings, pxBounds);
          if (this._bounds.isValid() && pxBounds.isValid()) {
            this._rawPxBounds = pxBounds;
            this._updateBounds();
          }
        },
        _updateBounds: function() {
          var w = this._clickTolerance(), p = new Point(w, w);
          if (!this._rawPxBounds) {
            return;
          }
          this._pxBounds = new Bounds([
            this._rawPxBounds.min.subtract(p),
            this._rawPxBounds.max.add(p)
          ]);
        },
        // recursively turns latlngs into a set of rings with projected coordinates
        _projectLatlngs: function(latlngs, result, projectedBounds) {
          var flat = latlngs[0] instanceof LatLng2, len = latlngs.length, i, ring;
          if (flat) {
            ring = [];
            for (i = 0; i < len; i++) {
              ring[i] = this._map.latLngToLayerPoint(latlngs[i]);
              projectedBounds.extend(ring[i]);
            }
            result.push(ring);
          } else {
            for (i = 0; i < len; i++) {
              this._projectLatlngs(latlngs[i], result, projectedBounds);
            }
          }
        },
        // clip polyline by renderer bounds so that we have less to render for performance
        _clipPoints: function() {
          var bounds = this._renderer._bounds;
          this._parts = [];
          if (!this._pxBounds || !this._pxBounds.intersects(bounds)) {
            return;
          }
          if (this.options.noClip) {
            this._parts = this._rings;
            return;
          }
          var parts = this._parts, i, j, k, len, len2, segment, points;
          for (i = 0, k = 0, len = this._rings.length; i < len; i++) {
            points = this._rings[i];
            for (j = 0, len2 = points.length; j < len2 - 1; j++) {
              segment = clipSegment(points[j], points[j + 1], bounds, j, true);
              if (!segment) {
                continue;
              }
              parts[k] = parts[k] || [];
              parts[k].push(segment[0]);
              if (segment[1] !== points[j + 1] || j === len2 - 2) {
                parts[k].push(segment[1]);
                k++;
              }
            }
          }
        },
        // simplify each clipped part of the polyline for performance
        _simplifyPoints: function() {
          var parts = this._parts, tolerance = this.options.smoothFactor;
          for (var i = 0, len = parts.length; i < len; i++) {
            parts[i] = simplify(parts[i], tolerance);
          }
        },
        _update: function() {
          if (!this._map) {
            return;
          }
          this._clipPoints();
          this._simplifyPoints();
          this._updatePath();
        },
        _updatePath: function() {
          this._renderer._updatePoly(this);
        },
        // Needed by the `Canvas` renderer for interactivity
        _containsPoint: function(p, closed) {
          var i, j, k, len, len2, part, w = this._clickTolerance();
          if (!this._pxBounds || !this._pxBounds.contains(p)) {
            return false;
          }
          for (i = 0, len = this._parts.length; i < len; i++) {
            part = this._parts[i];
            for (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {
              if (!closed && j === 0) {
                continue;
              }
              if (pointToSegmentDistance(p, part[k], part[j]) <= w) {
                return true;
              }
            }
          }
          return false;
        }
      });
      function polyline(latlngs, options) {
        return new Polyline(latlngs, options);
      }
      Polyline._flat = _flat;
      var Polygon = Polyline.extend({
        options: {
          fill: true
        },
        isEmpty: function() {
          return !this._latlngs.length || !this._latlngs[0].length;
        },
        // @method getCenter(): LatLng
        // Returns the center ([centroid](http://en.wikipedia.org/wiki/Centroid)) of the Polygon.
        getCenter: function() {
          if (!this._map) {
            throw new Error("Must add layer to map before using getCenter()");
          }
          return polygonCenter(this._defaultShape(), this._map.options.crs);
        },
        _convertLatLngs: function(latlngs) {
          var result = Polyline.prototype._convertLatLngs.call(this, latlngs), len = result.length;
          if (len >= 2 && result[0] instanceof LatLng2 && result[0].equals(result[len - 1])) {
            result.pop();
          }
          return result;
        },
        _setLatLngs: function(latlngs) {
          Polyline.prototype._setLatLngs.call(this, latlngs);
          if (isFlat(this._latlngs)) {
            this._latlngs = [this._latlngs];
          }
        },
        _defaultShape: function() {
          return isFlat(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0];
        },
        _clipPoints: function() {
          var bounds = this._renderer._bounds, w = this.options.weight, p = new Point(w, w);
          bounds = new Bounds(bounds.min.subtract(p), bounds.max.add(p));
          this._parts = [];
          if (!this._pxBounds || !this._pxBounds.intersects(bounds)) {
            return;
          }
          if (this.options.noClip) {
            this._parts = this._rings;
            return;
          }
          for (var i = 0, len = this._rings.length, clipped; i < len; i++) {
            clipped = clipPolygon(this._rings[i], bounds, true);
            if (clipped.length) {
              this._parts.push(clipped);
            }
          }
        },
        _updatePath: function() {
          this._renderer._updatePoly(this, true);
        },
        // Needed by the `Canvas` renderer for interactivity
        _containsPoint: function(p) {
          var inside = false, part, p1, p2, i, j, k, len, len2;
          if (!this._pxBounds || !this._pxBounds.contains(p)) {
            return false;
          }
          for (i = 0, len = this._parts.length; i < len; i++) {
            part = this._parts[i];
            for (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {
              p1 = part[j];
              p2 = part[k];
              if (p1.y > p.y !== p2.y > p.y && p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x) {
                inside = !inside;
              }
            }
          }
          return inside || Polyline.prototype._containsPoint.call(this, p, true);
        }
      });
      function polygon(latlngs, options) {
        return new Polygon(latlngs, options);
      }
      var GeoJSON = FeatureGroup2.extend({
        /* @section
         * @aka GeoJSON options
         *
         * @option pointToLayer: Function = *
         * A `Function` defining how GeoJSON points spawn Leaflet layers. It is internally
         * called when data is added, passing the GeoJSON point feature and its `LatLng`.
         * The default is to spawn a default `Marker`:
         * ```js
         * function(geoJsonPoint, latlng) {
         * 	return L.marker(latlng);
         * }
         * ```
         *
         * @option style: Function = *
         * A `Function` defining the `Path options` for styling GeoJSON lines and polygons,
         * called internally when data is added.
         * The default value is to not override any defaults:
         * ```js
         * function (geoJsonFeature) {
         * 	return {}
         * }
         * ```
         *
         * @option onEachFeature: Function = *
         * A `Function` that will be called once for each created `Feature`, after it has
         * been created and styled. Useful for attaching events and popups to features.
         * The default is to do nothing with the newly created layers:
         * ```js
         * function (feature, layer) {}
         * ```
         *
         * @option filter: Function = *
         * A `Function` that will be used to decide whether to include a feature or not.
         * The default is to include all features:
         * ```js
         * function (geoJsonFeature) {
         * 	return true;
         * }
         * ```
         * Note: dynamically changing the `filter` option will have effect only on newly
         * added data. It will _not_ re-evaluate already included features.
         *
         * @option coordsToLatLng: Function = *
         * A `Function` that will be used for converting GeoJSON coordinates to `LatLng`s.
         * The default is the `coordsToLatLng` static method.
         *
         * @option markersInheritOptions: Boolean = false
         * Whether default Markers for "Point" type Features inherit from group options.
         */
        initialize: function(geojson, options) {
          setOptions(this, options);
          this._layers = {};
          if (geojson) {
            this.addData(geojson);
          }
        },
        // @method addData( <GeoJSON> data ): this
        // Adds a GeoJSON object to the layer.
        addData: function(geojson) {
          var features = isArray(geojson) ? geojson : geojson.features, i, len, feature;
          if (features) {
            for (i = 0, len = features.length; i < len; i++) {
              feature = features[i];
              if (feature.geometries || feature.geometry || feature.features || feature.coordinates) {
                this.addData(feature);
              }
            }
            return this;
          }
          var options = this.options;
          if (options.filter && !options.filter(geojson)) {
            return this;
          }
          var layer = geometryToLayer(geojson, options);
          if (!layer) {
            return this;
          }
          layer.feature = asFeature(geojson);
          layer.defaultOptions = layer.options;
          this.resetStyle(layer);
          if (options.onEachFeature) {
            options.onEachFeature(geojson, layer);
          }
          return this.addLayer(layer);
        },
        // @method resetStyle( <Path> layer? ): this
        // Resets the given vector layer's style to the original GeoJSON style, useful for resetting style after hover events.
        // If `layer` is omitted, the style of all features in the current layer is reset.
        resetStyle: function(layer) {
          if (layer === void 0) {
            return this.eachLayer(this.resetStyle, this);
          }
          layer.options = extend({}, layer.defaultOptions);
          this._setLayerStyle(layer, this.options.style);
          return this;
        },
        // @method setStyle( <Function> style ): this
        // Changes styles of GeoJSON vector layers with the given style function.
        setStyle: function(style2) {
          return this.eachLayer(function(layer) {
            this._setLayerStyle(layer, style2);
          }, this);
        },
        _setLayerStyle: function(layer, style2) {
          if (layer.setStyle) {
            if (typeof style2 === "function") {
              style2 = style2(layer.feature);
            }
            layer.setStyle(style2);
          }
        }
      });
      function geometryToLayer(geojson, options) {
        var geometry = geojson.type === "Feature" ? geojson.geometry : geojson, coords = geometry ? geometry.coordinates : null, layers2 = [], pointToLayer = options && options.pointToLayer, _coordsToLatLng = options && options.coordsToLatLng || coordsToLatLng, latlng, latlngs, i, len;
        if (!coords && !geometry) {
          return null;
        }
        switch (geometry.type) {
          case "Point":
            latlng = _coordsToLatLng(coords);
            return _pointToLayer(pointToLayer, geojson, latlng, options);
          case "MultiPoint":
            for (i = 0, len = coords.length; i < len; i++) {
              latlng = _coordsToLatLng(coords[i]);
              layers2.push(_pointToLayer(pointToLayer, geojson, latlng, options));
            }
            return new FeatureGroup2(layers2);
          case "LineString":
          case "MultiLineString":
            latlngs = coordsToLatLngs(coords, geometry.type === "LineString" ? 0 : 1, _coordsToLatLng);
            return new Polyline(latlngs, options);
          case "Polygon":
          case "MultiPolygon":
            latlngs = coordsToLatLngs(coords, geometry.type === "Polygon" ? 1 : 2, _coordsToLatLng);
            return new Polygon(latlngs, options);
          case "GeometryCollection":
            for (i = 0, len = geometry.geometries.length; i < len; i++) {
              var geoLayer = geometryToLayer({
                geometry: geometry.geometries[i],
                type: "Feature",
                properties: geojson.properties
              }, options);
              if (geoLayer) {
                layers2.push(geoLayer);
              }
            }
            return new FeatureGroup2(layers2);
          case "FeatureCollection":
            for (i = 0, len = geometry.features.length; i < len; i++) {
              var featureLayer = geometryToLayer(geometry.features[i], options);
              if (featureLayer) {
                layers2.push(featureLayer);
              }
            }
            return new FeatureGroup2(layers2);
          default:
            throw new Error("Invalid GeoJSON object.");
        }
      }
      function _pointToLayer(pointToLayerFn, geojson, latlng, options) {
        return pointToLayerFn ? pointToLayerFn(geojson, latlng) : new Marker(latlng, options && options.markersInheritOptions && options);
      }
      function coordsToLatLng(coords) {
        return new LatLng2(coords[1], coords[0], coords[2]);
      }
      function coordsToLatLngs(coords, levelsDeep, _coordsToLatLng) {
        var latlngs = [];
        for (var i = 0, len = coords.length, latlng; i < len; i++) {
          latlng = levelsDeep ? coordsToLatLngs(coords[i], levelsDeep - 1, _coordsToLatLng) : (_coordsToLatLng || coordsToLatLng)(coords[i]);
          latlngs.push(latlng);
        }
        return latlngs;
      }
      function latLngToCoords(latlng, precision) {
        latlng = toLatLng(latlng);
        return latlng.alt !== void 0 ? [formatNum(latlng.lng, precision), formatNum(latlng.lat, precision), formatNum(latlng.alt, precision)] : [formatNum(latlng.lng, precision), formatNum(latlng.lat, precision)];
      }
      function latLngsToCoords(latlngs, levelsDeep, closed, precision) {
        var coords = [];
        for (var i = 0, len = latlngs.length; i < len; i++) {
          coords.push(levelsDeep ? latLngsToCoords(latlngs[i], isFlat(latlngs[i]) ? 0 : levelsDeep - 1, closed, precision) : latLngToCoords(latlngs[i], precision));
        }
        if (!levelsDeep && closed && coords.length > 0) {
          coords.push(coords[0].slice());
        }
        return coords;
      }
      function getFeature(layer, newGeometry) {
        return layer.feature ? extend({}, layer.feature, { geometry: newGeometry }) : asFeature(newGeometry);
      }
      function asFeature(geojson) {
        if (geojson.type === "Feature" || geojson.type === "FeatureCollection") {
          return geojson;
        }
        return {
          type: "Feature",
          properties: {},
          geometry: geojson
        };
      }
      var PointToGeoJSON = {
        toGeoJSON: function(precision) {
          return getFeature(this, {
            type: "Point",
            coordinates: latLngToCoords(this.getLatLng(), precision)
          });
        }
      };
      Marker.include(PointToGeoJSON);
      Circle.include(PointToGeoJSON);
      CircleMarker.include(PointToGeoJSON);
      Polyline.include({
        toGeoJSON: function(precision) {
          var multi = !isFlat(this._latlngs);
          var coords = latLngsToCoords(this._latlngs, multi ? 1 : 0, false, precision);
          return getFeature(this, {
            type: (multi ? "Multi" : "") + "LineString",
            coordinates: coords
          });
        }
      });
      Polygon.include({
        toGeoJSON: function(precision) {
          var holes = !isFlat(this._latlngs), multi = holes && !isFlat(this._latlngs[0]);
          var coords = latLngsToCoords(this._latlngs, multi ? 2 : holes ? 1 : 0, true, precision);
          if (!holes) {
            coords = [coords];
          }
          return getFeature(this, {
            type: (multi ? "Multi" : "") + "Polygon",
            coordinates: coords
          });
        }
      });
      LayerGroup.include({
        toMultiPoint: function(precision) {
          var coords = [];
          this.eachLayer(function(layer) {
            coords.push(layer.toGeoJSON(precision).geometry.coordinates);
          });
          return getFeature(this, {
            type: "MultiPoint",
            coordinates: coords
          });
        },
        // @method toGeoJSON(precision?: Number|false): Object
        // Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.
        // Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the layer group (as a GeoJSON `FeatureCollection`, `GeometryCollection`, or `MultiPoint`).
        toGeoJSON: function(precision) {
          var type = this.feature && this.feature.geometry && this.feature.geometry.type;
          if (type === "MultiPoint") {
            return this.toMultiPoint(precision);
          }
          var isGeometryCollection = type === "GeometryCollection", jsons = [];
          this.eachLayer(function(layer) {
            if (layer.toGeoJSON) {
              var json = layer.toGeoJSON(precision);
              if (isGeometryCollection) {
                jsons.push(json.geometry);
              } else {
                var feature = asFeature(json);
                if (feature.type === "FeatureCollection") {
                  jsons.push.apply(jsons, feature.features);
                } else {
                  jsons.push(feature);
                }
              }
            }
          });
          if (isGeometryCollection) {
            return getFeature(this, {
              geometries: jsons,
              type: "GeometryCollection"
            });
          }
          return {
            type: "FeatureCollection",
            features: jsons
          };
        }
      });
      function geoJSON2(geojson, options) {
        return new GeoJSON(geojson, options);
      }
      var geoJson = geoJSON2;
      var ImageOverlay = Layer.extend({
        // @section
        // @aka ImageOverlay options
        options: {
          // @option opacity: Number = 1.0
          // The opacity of the image overlay.
          opacity: 1,
          // @option alt: String = ''
          // Text for the `alt` attribute of the image (useful for accessibility).
          alt: "",
          // @option interactive: Boolean = false
          // If `true`, the image overlay will emit [mouse events](#interactive-layer) when clicked or hovered.
          interactive: false,
          // @option crossOrigin: Boolean|String = false
          // Whether the crossOrigin attribute will be added to the image.
          // If a String is provided, the image will have its crossOrigin attribute set to the String provided. This is needed if you want to access image pixel data.
          // Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.
          crossOrigin: false,
          // @option errorOverlayUrl: String = ''
          // URL to the overlay image to show in place of the overlay that failed to load.
          errorOverlayUrl: "",
          // @option zIndex: Number = 1
          // The explicit [zIndex](https://developer.mozilla.org/docs/Web/CSS/CSS_Positioning/Understanding_z_index) of the overlay layer.
          zIndex: 1,
          // @option className: String = ''
          // A custom class name to assign to the image. Empty by default.
          className: ""
        },
        initialize: function(url, bounds, options) {
          this._url = url;
          this._bounds = toLatLngBounds(bounds);
          setOptions(this, options);
        },
        onAdd: function() {
          if (!this._image) {
            this._initImage();
            if (this.options.opacity < 1) {
              this._updateOpacity();
            }
          }
          if (this.options.interactive) {
            addClass(this._image, "leaflet-interactive");
            this.addInteractiveTarget(this._image);
          }
          this.getPane().appendChild(this._image);
          this._reset();
        },
        onRemove: function() {
          remove(this._image);
          if (this.options.interactive) {
            this.removeInteractiveTarget(this._image);
          }
        },
        // @method setOpacity(opacity: Number): this
        // Sets the opacity of the overlay.
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          if (this._image) {
            this._updateOpacity();
          }
          return this;
        },
        setStyle: function(styleOpts) {
          if (styleOpts.opacity) {
            this.setOpacity(styleOpts.opacity);
          }
          return this;
        },
        // @method bringToFront(): this
        // Brings the layer to the top of all overlays.
        bringToFront: function() {
          if (this._map) {
            toFront(this._image);
          }
          return this;
        },
        // @method bringToBack(): this
        // Brings the layer to the bottom of all overlays.
        bringToBack: function() {
          if (this._map) {
            toBack(this._image);
          }
          return this;
        },
        // @method setUrl(url: String): this
        // Changes the URL of the image.
        setUrl: function(url) {
          this._url = url;
          if (this._image) {
            this._image.src = url;
          }
          return this;
        },
        // @method setBounds(bounds: LatLngBounds): this
        // Update the bounds that this ImageOverlay covers
        setBounds: function(bounds) {
          this._bounds = toLatLngBounds(bounds);
          if (this._map) {
            this._reset();
          }
          return this;
        },
        getEvents: function() {
          var events = {
            zoom: this._reset,
            viewreset: this._reset
          };
          if (this._zoomAnimated) {
            events.zoomanim = this._animateZoom;
          }
          return events;
        },
        // @method setZIndex(value: Number): this
        // Changes the [zIndex](#imageoverlay-zindex) of the image overlay.
        setZIndex: function(value) {
          this.options.zIndex = value;
          this._updateZIndex();
          return this;
        },
        // @method getBounds(): LatLngBounds
        // Get the bounds that this ImageOverlay covers
        getBounds: function() {
          return this._bounds;
        },
        // @method getElement(): HTMLElement
        // Returns the instance of [`HTMLImageElement`](https://developer.mozilla.org/docs/Web/API/HTMLImageElement)
        // used by this overlay.
        getElement: function() {
          return this._image;
        },
        _initImage: function() {
          var wasElementSupplied = this._url.tagName === "IMG";
          var img = this._image = wasElementSupplied ? this._url : create$1("img");
          addClass(img, "leaflet-image-layer");
          if (this._zoomAnimated) {
            addClass(img, "leaflet-zoom-animated");
          }
          if (this.options.className) {
            addClass(img, this.options.className);
          }
          img.onselectstart = falseFn;
          img.onmousemove = falseFn;
          img.onload = bind(this.fire, this, "load");
          img.onerror = bind(this._overlayOnError, this, "error");
          if (this.options.crossOrigin || this.options.crossOrigin === "") {
            img.crossOrigin = this.options.crossOrigin === true ? "" : this.options.crossOrigin;
          }
          if (this.options.zIndex) {
            this._updateZIndex();
          }
          if (wasElementSupplied) {
            this._url = img.src;
            return;
          }
          img.src = this._url;
          img.alt = this.options.alt;
        },
        _animateZoom: function(e) {
          var scale2 = this._map.getZoomScale(e.zoom), offset = this._map._latLngBoundsToNewLayerBounds(this._bounds, e.zoom, e.center).min;
          setTransform(this._image, offset, scale2);
        },
        _reset: function() {
          var image = this._image, bounds = new Bounds(
            this._map.latLngToLayerPoint(this._bounds.getNorthWest()),
            this._map.latLngToLayerPoint(this._bounds.getSouthEast())
          ), size = bounds.getSize();
          setPosition(image, bounds.min);
          image.style.width = size.x + "px";
          image.style.height = size.y + "px";
        },
        _updateOpacity: function() {
          setOpacity(this._image, this.options.opacity);
        },
        _updateZIndex: function() {
          if (this._image && this.options.zIndex !== void 0 && this.options.zIndex !== null) {
            this._image.style.zIndex = this.options.zIndex;
          }
        },
        _overlayOnError: function() {
          this.fire("error");
          var errorUrl = this.options.errorOverlayUrl;
          if (errorUrl && this._url !== errorUrl) {
            this._url = errorUrl;
            this._image.src = errorUrl;
          }
        },
        // @method getCenter(): LatLng
        // Returns the center of the ImageOverlay.
        getCenter: function() {
          return this._bounds.getCenter();
        }
      });
      var imageOverlay = function(url, bounds, options) {
        return new ImageOverlay(url, bounds, options);
      };
      var VideoOverlay = ImageOverlay.extend({
        // @section
        // @aka VideoOverlay options
        options: {
          // @option autoplay: Boolean = true
          // Whether the video starts playing automatically when loaded.
          // On some browsers autoplay will only work with `muted: true`
          autoplay: true,
          // @option loop: Boolean = true
          // Whether the video will loop back to the beginning when played.
          loop: true,
          // @option keepAspectRatio: Boolean = true
          // Whether the video will save aspect ratio after the projection.
          // Relevant for supported browsers. See [browser compatibility](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit)
          keepAspectRatio: true,
          // @option muted: Boolean = false
          // Whether the video starts on mute when loaded.
          muted: false,
          // @option playsInline: Boolean = true
          // Mobile browsers will play the video right where it is instead of open it up in fullscreen mode.
          playsInline: true
        },
        _initImage: function() {
          var wasElementSupplied = this._url.tagName === "VIDEO";
          var vid = this._image = wasElementSupplied ? this._url : create$1("video");
          addClass(vid, "leaflet-image-layer");
          if (this._zoomAnimated) {
            addClass(vid, "leaflet-zoom-animated");
          }
          if (this.options.className) {
            addClass(vid, this.options.className);
          }
          vid.onselectstart = falseFn;
          vid.onmousemove = falseFn;
          vid.onloadeddata = bind(this.fire, this, "load");
          if (wasElementSupplied) {
            var sourceElements = vid.getElementsByTagName("source");
            var sources = [];
            for (var j = 0; j < sourceElements.length; j++) {
              sources.push(sourceElements[j].src);
            }
            this._url = sourceElements.length > 0 ? sources : [vid.src];
            return;
          }
          if (!isArray(this._url)) {
            this._url = [this._url];
          }
          if (!this.options.keepAspectRatio && Object.prototype.hasOwnProperty.call(vid.style, "objectFit")) {
            vid.style["objectFit"] = "fill";
          }
          vid.autoplay = !!this.options.autoplay;
          vid.loop = !!this.options.loop;
          vid.muted = !!this.options.muted;
          vid.playsInline = !!this.options.playsInline;
          for (var i = 0; i < this._url.length; i++) {
            var source = create$1("source");
            source.src = this._url[i];
            vid.appendChild(source);
          }
        }
        // @method getElement(): HTMLVideoElement
        // Returns the instance of [`HTMLVideoElement`](https://developer.mozilla.org/docs/Web/API/HTMLVideoElement)
        // used by this overlay.
      });
      function videoOverlay(video, bounds, options) {
        return new VideoOverlay(video, bounds, options);
      }
      var SVGOverlay = ImageOverlay.extend({
        _initImage: function() {
          var el = this._image = this._url;
          addClass(el, "leaflet-image-layer");
          if (this._zoomAnimated) {
            addClass(el, "leaflet-zoom-animated");
          }
          if (this.options.className) {
            addClass(el, this.options.className);
          }
          el.onselectstart = falseFn;
          el.onmousemove = falseFn;
        }
        // @method getElement(): SVGElement
        // Returns the instance of [`SVGElement`](https://developer.mozilla.org/docs/Web/API/SVGElement)
        // used by this overlay.
      });
      function svgOverlay(el, bounds, options) {
        return new SVGOverlay(el, bounds, options);
      }
      var DivOverlay = Layer.extend({
        // @section
        // @aka DivOverlay options
        options: {
          // @option interactive: Boolean = false
          // If true, the popup/tooltip will listen to the mouse events.
          interactive: false,
          // @option offset: Point = Point(0, 0)
          // The offset of the overlay position.
          offset: [0, 0],
          // @option className: String = ''
          // A custom CSS class name to assign to the overlay.
          className: "",
          // @option pane: String = undefined
          // `Map pane` where the overlay will be added.
          pane: void 0,
          // @option content: String|HTMLElement|Function = ''
          // Sets the HTML content of the overlay while initializing. If a function is passed the source layer will be
          // passed to the function. The function should return a `String` or `HTMLElement` to be used in the overlay.
          content: ""
        },
        initialize: function(options, source) {
          if (options && (options instanceof LatLng2 || isArray(options))) {
            this._latlng = toLatLng(options);
            setOptions(this, source);
          } else {
            setOptions(this, options);
            this._source = source;
          }
          if (this.options.content) {
            this._content = this.options.content;
          }
        },
        // @method openOn(map: Map): this
        // Adds the overlay to the map.
        // Alternative to `map.openPopup(popup)`/`.openTooltip(tooltip)`.
        openOn: function(map3) {
          map3 = arguments.length ? map3 : this._source._map;
          if (!map3.hasLayer(this)) {
            map3.addLayer(this);
          }
          return this;
        },
        // @method close(): this
        // Closes the overlay.
        // Alternative to `map.closePopup(popup)`/`.closeTooltip(tooltip)`
        // and `layer.closePopup()`/`.closeTooltip()`.
        close: function() {
          if (this._map) {
            this._map.removeLayer(this);
          }
          return this;
        },
        // @method toggle(layer?: Layer): this
        // Opens or closes the overlay bound to layer depending on its current state.
        // Argument may be omitted only for overlay bound to layer.
        // Alternative to `layer.togglePopup()`/`.toggleTooltip()`.
        toggle: function(layer) {
          if (this._map) {
            this.close();
          } else {
            if (arguments.length) {
              this._source = layer;
            } else {
              layer = this._source;
            }
            this._prepareOpen();
            this.openOn(layer._map);
          }
          return this;
        },
        onAdd: function(map3) {
          this._zoomAnimated = map3._zoomAnimated;
          if (!this._container) {
            this._initLayout();
          }
          if (map3._fadeAnimated) {
            setOpacity(this._container, 0);
          }
          clearTimeout(this._removeTimeout);
          this.getPane().appendChild(this._container);
          this.update();
          if (map3._fadeAnimated) {
            setOpacity(this._container, 1);
          }
          this.bringToFront();
          if (this.options.interactive) {
            addClass(this._container, "leaflet-interactive");
            this.addInteractiveTarget(this._container);
          }
        },
        onRemove: function(map3) {
          if (map3._fadeAnimated) {
            setOpacity(this._container, 0);
            this._removeTimeout = setTimeout(bind(remove, void 0, this._container), 200);
          } else {
            remove(this._container);
          }
          if (this.options.interactive) {
            removeClass(this._container, "leaflet-interactive");
            this.removeInteractiveTarget(this._container);
          }
        },
        // @namespace DivOverlay
        // @method getLatLng: LatLng
        // Returns the geographical point of the overlay.
        getLatLng: function() {
          return this._latlng;
        },
        // @method setLatLng(latlng: LatLng): this
        // Sets the geographical point where the overlay will open.
        setLatLng: function(latlng) {
          this._latlng = toLatLng(latlng);
          if (this._map) {
            this._updatePosition();
            this._adjustPan();
          }
          return this;
        },
        // @method getContent: String|HTMLElement
        // Returns the content of the overlay.
        getContent: function() {
          return this._content;
        },
        // @method setContent(htmlContent: String|HTMLElement|Function): this
        // Sets the HTML content of the overlay. If a function is passed the source layer will be passed to the function.
        // The function should return a `String` or `HTMLElement` to be used in the overlay.
        setContent: function(content) {
          this._content = content;
          this.update();
          return this;
        },
        // @method getElement: String|HTMLElement
        // Returns the HTML container of the overlay.
        getElement: function() {
          return this._container;
        },
        // @method update: null
        // Updates the overlay content, layout and position. Useful for updating the overlay after something inside changed, e.g. image loaded.
        update: function() {
          if (!this._map) {
            return;
          }
          this._container.style.visibility = "hidden";
          this._updateContent();
          this._updateLayout();
          this._updatePosition();
          this._container.style.visibility = "";
          this._adjustPan();
        },
        getEvents: function() {
          var events = {
            zoom: this._updatePosition,
            viewreset: this._updatePosition
          };
          if (this._zoomAnimated) {
            events.zoomanim = this._animateZoom;
          }
          return events;
        },
        // @method isOpen: Boolean
        // Returns `true` when the overlay is visible on the map.
        isOpen: function() {
          return !!this._map && this._map.hasLayer(this);
        },
        // @method bringToFront: this
        // Brings this overlay in front of other overlays (in the same map pane).
        bringToFront: function() {
          if (this._map) {
            toFront(this._container);
          }
          return this;
        },
        // @method bringToBack: this
        // Brings this overlay to the back of other overlays (in the same map pane).
        bringToBack: function() {
          if (this._map) {
            toBack(this._container);
          }
          return this;
        },
        // prepare bound overlay to open: update latlng pos / content source (for FeatureGroup)
        _prepareOpen: function(latlng) {
          var source = this._source;
          if (!source._map) {
            return false;
          }
          if (source instanceof FeatureGroup2) {
            source = null;
            var layers2 = this._source._layers;
            for (var id in layers2) {
              if (layers2[id]._map) {
                source = layers2[id];
                break;
              }
            }
            if (!source) {
              return false;
            }
            this._source = source;
          }
          if (!latlng) {
            if (source.getCenter) {
              latlng = source.getCenter();
            } else if (source.getLatLng) {
              latlng = source.getLatLng();
            } else if (source.getBounds) {
              latlng = source.getBounds().getCenter();
            } else {
              throw new Error("Unable to get source layer LatLng.");
            }
          }
          this.setLatLng(latlng);
          if (this._map) {
            this.update();
          }
          return true;
        },
        _updateContent: function() {
          if (!this._content) {
            return;
          }
          var node = this._contentNode;
          var content = typeof this._content === "function" ? this._content(this._source || this) : this._content;
          if (typeof content === "string") {
            node.innerHTML = content;
          } else {
            while (node.hasChildNodes()) {
              node.removeChild(node.firstChild);
            }
            node.appendChild(content);
          }
          this.fire("contentupdate");
        },
        _updatePosition: function() {
          if (!this._map) {
            return;
          }
          var pos = this._map.latLngToLayerPoint(this._latlng), offset = toPoint(this.options.offset), anchor = this._getAnchor();
          if (this._zoomAnimated) {
            setPosition(this._container, pos.add(anchor));
          } else {
            offset = offset.add(pos).add(anchor);
          }
          var bottom = this._containerBottom = -offset.y, left = this._containerLeft = -Math.round(this._containerWidth / 2) + offset.x;
          this._container.style.bottom = bottom + "px";
          this._container.style.left = left + "px";
        },
        _getAnchor: function() {
          return [0, 0];
        }
      });
      Map2.include({
        _initOverlay: function(OverlayClass, content, latlng, options) {
          var overlay = content;
          if (!(overlay instanceof OverlayClass)) {
            overlay = new OverlayClass(options).setContent(content);
          }
          if (latlng) {
            overlay.setLatLng(latlng);
          }
          return overlay;
        }
      });
      Layer.include({
        _initOverlay: function(OverlayClass, old, content, options) {
          var overlay = content;
          if (overlay instanceof OverlayClass) {
            setOptions(overlay, options);
            overlay._source = this;
          } else {
            overlay = old && !options ? old : new OverlayClass(options, this);
            overlay.setContent(content);
          }
          return overlay;
        }
      });
      var Popup = DivOverlay.extend({
        // @section
        // @aka Popup options
        options: {
          // @option pane: String = 'popupPane'
          // `Map pane` where the popup will be added.
          pane: "popupPane",
          // @option offset: Point = Point(0, 7)
          // The offset of the popup position.
          offset: [0, 7],
          // @option maxWidth: Number = 300
          // Max width of the popup, in pixels.
          maxWidth: 300,
          // @option minWidth: Number = 50
          // Min width of the popup, in pixels.
          minWidth: 50,
          // @option maxHeight: Number = null
          // If set, creates a scrollable container of the given height
          // inside a popup if its content exceeds it.
          // The scrollable container can be styled using the
          // `leaflet-popup-scrolled` CSS class selector.
          maxHeight: null,
          // @option autoPan: Boolean = true
          // Set it to `false` if you don't want the map to do panning animation
          // to fit the opened popup.
          autoPan: true,
          // @option autoPanPaddingTopLeft: Point = null
          // The margin between the popup and the top left corner of the map
          // view after autopanning was performed.
          autoPanPaddingTopLeft: null,
          // @option autoPanPaddingBottomRight: Point = null
          // The margin between the popup and the bottom right corner of the map
          // view after autopanning was performed.
          autoPanPaddingBottomRight: null,
          // @option autoPanPadding: Point = Point(5, 5)
          // Equivalent of setting both top left and bottom right autopan padding to the same value.
          autoPanPadding: [5, 5],
          // @option keepInView: Boolean = false
          // Set it to `true` if you want to prevent users from panning the popup
          // off of the screen while it is open.
          keepInView: false,
          // @option closeButton: Boolean = true
          // Controls the presence of a close button in the popup.
          closeButton: true,
          // @option autoClose: Boolean = true
          // Set it to `false` if you want to override the default behavior of
          // the popup closing when another popup is opened.
          autoClose: true,
          // @option closeOnEscapeKey: Boolean = true
          // Set it to `false` if you want to override the default behavior of
          // the ESC key for closing of the popup.
          closeOnEscapeKey: true,
          // @option closeOnClick: Boolean = *
          // Set it if you want to override the default behavior of the popup closing when user clicks
          // on the map. Defaults to the map's [`closePopupOnClick`](#map-closepopuponclick) option.
          // @option className: String = ''
          // A custom CSS class name to assign to the popup.
          className: ""
        },
        // @namespace Popup
        // @method openOn(map: Map): this
        // Alternative to `map.openPopup(popup)`.
        // Adds the popup to the map and closes the previous one.
        openOn: function(map3) {
          map3 = arguments.length ? map3 : this._source._map;
          if (!map3.hasLayer(this) && map3._popup && map3._popup.options.autoClose) {
            map3.removeLayer(map3._popup);
          }
          map3._popup = this;
          return DivOverlay.prototype.openOn.call(this, map3);
        },
        onAdd: function(map3) {
          DivOverlay.prototype.onAdd.call(this, map3);
          map3.fire("popupopen", { popup: this });
          if (this._source) {
            this._source.fire("popupopen", { popup: this }, true);
            if (!(this._source instanceof Path)) {
              this._source.on("preclick", stopPropagation);
            }
          }
        },
        onRemove: function(map3) {
          DivOverlay.prototype.onRemove.call(this, map3);
          map3.fire("popupclose", { popup: this });
          if (this._source) {
            this._source.fire("popupclose", { popup: this }, true);
            if (!(this._source instanceof Path)) {
              this._source.off("preclick", stopPropagation);
            }
          }
        },
        getEvents: function() {
          var events = DivOverlay.prototype.getEvents.call(this);
          if (this.options.closeOnClick !== void 0 ? this.options.closeOnClick : this._map.options.closePopupOnClick) {
            events.preclick = this.close;
          }
          if (this.options.keepInView) {
            events.moveend = this._adjustPan;
          }
          return events;
        },
        _initLayout: function() {
          var prefix = "leaflet-popup", container = this._container = create$1(
            "div",
            prefix + " " + (this.options.className || "") + " leaflet-zoom-animated"
          );
          var wrapper = this._wrapper = create$1("div", prefix + "-content-wrapper", container);
          this._contentNode = create$1("div", prefix + "-content", wrapper);
          disableClickPropagation(container);
          disableScrollPropagation(this._contentNode);
          on(container, "contextmenu", stopPropagation);
          this._tipContainer = create$1("div", prefix + "-tip-container", container);
          this._tip = create$1("div", prefix + "-tip", this._tipContainer);
          if (this.options.closeButton) {
            var closeButton = this._closeButton = create$1("a", prefix + "-close-button", container);
            closeButton.setAttribute("role", "button");
            closeButton.setAttribute("aria-label", "Close popup");
            closeButton.href = "#close";
            closeButton.innerHTML = '<span aria-hidden="true">&#215;</span>';
            on(closeButton, "click", function(ev) {
              preventDefault(ev);
              this.close();
            }, this);
          }
        },
        _updateLayout: function() {
          var container = this._contentNode, style2 = container.style;
          style2.width = "";
          style2.whiteSpace = "nowrap";
          var width = container.offsetWidth;
          width = Math.min(width, this.options.maxWidth);
          width = Math.max(width, this.options.minWidth);
          style2.width = width + 1 + "px";
          style2.whiteSpace = "";
          style2.height = "";
          var height = container.offsetHeight, maxHeight = this.options.maxHeight, scrolledClass = "leaflet-popup-scrolled";
          if (maxHeight && height > maxHeight) {
            style2.height = maxHeight + "px";
            addClass(container, scrolledClass);
          } else {
            removeClass(container, scrolledClass);
          }
          this._containerWidth = this._container.offsetWidth;
        },
        _animateZoom: function(e) {
          var pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center), anchor = this._getAnchor();
          setPosition(this._container, pos.add(anchor));
        },
        _adjustPan: function() {
          if (!this.options.autoPan) {
            return;
          }
          if (this._map._panAnim) {
            this._map._panAnim.stop();
          }
          if (this._autopanning) {
            this._autopanning = false;
            return;
          }
          var map3 = this._map, marginBottom = parseInt(getStyle(this._container, "marginBottom"), 10) || 0, containerHeight = this._container.offsetHeight + marginBottom, containerWidth = this._containerWidth, layerPos = new Point(this._containerLeft, -containerHeight - this._containerBottom);
          layerPos._add(getPosition(this._container));
          var containerPos = map3.layerPointToContainerPoint(layerPos), padding = toPoint(this.options.autoPanPadding), paddingTL = toPoint(this.options.autoPanPaddingTopLeft || padding), paddingBR = toPoint(this.options.autoPanPaddingBottomRight || padding), size = map3.getSize(), dx = 0, dy = 0;
          if (containerPos.x + containerWidth + paddingBR.x > size.x) {
            dx = containerPos.x + containerWidth - size.x + paddingBR.x;
          }
          if (containerPos.x - dx - paddingTL.x < 0) {
            dx = containerPos.x - paddingTL.x;
          }
          if (containerPos.y + containerHeight + paddingBR.y > size.y) {
            dy = containerPos.y + containerHeight - size.y + paddingBR.y;
          }
          if (containerPos.y - dy - paddingTL.y < 0) {
            dy = containerPos.y - paddingTL.y;
          }
          if (dx || dy) {
            if (this.options.keepInView) {
              this._autopanning = true;
            }
            map3.fire("autopanstart").panBy([dx, dy]);
          }
        },
        _getAnchor: function() {
          return toPoint(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0]);
        }
      });
      var popup = function(options, source) {
        return new Popup(options, source);
      };
      Map2.mergeOptions({
        closePopupOnClick: true
      });
      Map2.include({
        // @method openPopup(popup: Popup): this
        // Opens the specified popup while closing the previously opened (to make sure only one is opened at one time for usability).
        // @alternative
        // @method openPopup(content: String|HTMLElement, latlng: LatLng, options?: Popup options): this
        // Creates a popup with the specified content and options and opens it in the given point on a map.
        openPopup: function(popup2, latlng, options) {
          this._initOverlay(Popup, popup2, latlng, options).openOn(this);
          return this;
        },
        // @method closePopup(popup?: Popup): this
        // Closes the popup previously opened with [openPopup](#map-openpopup) (or the given one).
        closePopup: function(popup2) {
          popup2 = arguments.length ? popup2 : this._popup;
          if (popup2) {
            popup2.close();
          }
          return this;
        }
      });
      Layer.include({
        // @method bindPopup(content: String|HTMLElement|Function|Popup, options?: Popup options): this
        // Binds a popup to the layer with the passed `content` and sets up the
        // necessary event listeners. If a `Function` is passed it will receive
        // the layer as the first argument and should return a `String` or `HTMLElement`.
        bindPopup: function(content, options) {
          this._popup = this._initOverlay(Popup, this._popup, content, options);
          if (!this._popupHandlersAdded) {
            this.on({
              click: this._openPopup,
              keypress: this._onKeyPress,
              remove: this.closePopup,
              move: this._movePopup
            });
            this._popupHandlersAdded = true;
          }
          return this;
        },
        // @method unbindPopup(): this
        // Removes the popup previously bound with `bindPopup`.
        unbindPopup: function() {
          if (this._popup) {
            this.off({
              click: this._openPopup,
              keypress: this._onKeyPress,
              remove: this.closePopup,
              move: this._movePopup
            });
            this._popupHandlersAdded = false;
            this._popup = null;
          }
          return this;
        },
        // @method openPopup(latlng?: LatLng): this
        // Opens the bound popup at the specified `latlng` or at the default popup anchor if no `latlng` is passed.
        openPopup: function(latlng) {
          if (this._popup) {
            if (!(this instanceof FeatureGroup2)) {
              this._popup._source = this;
            }
            if (this._popup._prepareOpen(latlng || this._latlng)) {
              this._popup.openOn(this._map);
            }
          }
          return this;
        },
        // @method closePopup(): this
        // Closes the popup bound to this layer if it is open.
        closePopup: function() {
          if (this._popup) {
            this._popup.close();
          }
          return this;
        },
        // @method togglePopup(): this
        // Opens or closes the popup bound to this layer depending on its current state.
        togglePopup: function() {
          if (this._popup) {
            this._popup.toggle(this);
          }
          return this;
        },
        // @method isPopupOpen(): boolean
        // Returns `true` if the popup bound to this layer is currently open.
        isPopupOpen: function() {
          return this._popup ? this._popup.isOpen() : false;
        },
        // @method setPopupContent(content: String|HTMLElement|Popup): this
        // Sets the content of the popup bound to this layer.
        setPopupContent: function(content) {
          if (this._popup) {
            this._popup.setContent(content);
          }
          return this;
        },
        // @method getPopup(): Popup
        // Returns the popup bound to this layer.
        getPopup: function() {
          return this._popup;
        },
        _openPopup: function(e) {
          if (!this._popup || !this._map) {
            return;
          }
          stop(e);
          var target = e.layer || e.target;
          if (this._popup._source === target && !(target instanceof Path)) {
            if (this._map.hasLayer(this._popup)) {
              this.closePopup();
            } else {
              this.openPopup(e.latlng);
            }
            return;
          }
          this._popup._source = target;
          this.openPopup(e.latlng);
        },
        _movePopup: function(e) {
          this._popup.setLatLng(e.latlng);
        },
        _onKeyPress: function(e) {
          if (e.originalEvent.keyCode === 13) {
            this._openPopup(e);
          }
        }
      });
      var Tooltip = DivOverlay.extend({
        // @section
        // @aka Tooltip options
        options: {
          // @option pane: String = 'tooltipPane'
          // `Map pane` where the tooltip will be added.
          pane: "tooltipPane",
          // @option offset: Point = Point(0, 0)
          // Optional offset of the tooltip position.
          offset: [0, 0],
          // @option direction: String = 'auto'
          // Direction where to open the tooltip. Possible values are: `right`, `left`,
          // `top`, `bottom`, `center`, `auto`.
          // `auto` will dynamically switch between `right` and `left` according to the tooltip
          // position on the map.
          direction: "auto",
          // @option permanent: Boolean = false
          // Whether to open the tooltip permanently or only on mouseover.
          permanent: false,
          // @option sticky: Boolean = false
          // If true, the tooltip will follow the mouse instead of being fixed at the feature center.
          sticky: false,
          // @option opacity: Number = 0.9
          // Tooltip container opacity.
          opacity: 0.9
        },
        onAdd: function(map3) {
          DivOverlay.prototype.onAdd.call(this, map3);
          this.setOpacity(this.options.opacity);
          map3.fire("tooltipopen", { tooltip: this });
          if (this._source) {
            this.addEventParent(this._source);
            this._source.fire("tooltipopen", { tooltip: this }, true);
          }
        },
        onRemove: function(map3) {
          DivOverlay.prototype.onRemove.call(this, map3);
          map3.fire("tooltipclose", { tooltip: this });
          if (this._source) {
            this.removeEventParent(this._source);
            this._source.fire("tooltipclose", { tooltip: this }, true);
          }
        },
        getEvents: function() {
          var events = DivOverlay.prototype.getEvents.call(this);
          if (!this.options.permanent) {
            events.preclick = this.close;
          }
          return events;
        },
        _initLayout: function() {
          var prefix = "leaflet-tooltip", className = prefix + " " + (this.options.className || "") + " leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
          this._contentNode = this._container = create$1("div", className);
          this._container.setAttribute("role", "tooltip");
          this._container.setAttribute("id", "leaflet-tooltip-" + stamp(this));
        },
        _updateLayout: function() {
        },
        _adjustPan: function() {
        },
        _setPosition: function(pos) {
          var subX, subY, map3 = this._map, container = this._container, centerPoint = map3.latLngToContainerPoint(map3.getCenter()), tooltipPoint = map3.layerPointToContainerPoint(pos), direction = this.options.direction, tooltipWidth = container.offsetWidth, tooltipHeight = container.offsetHeight, offset = toPoint(this.options.offset), anchor = this._getAnchor();
          if (direction === "top") {
            subX = tooltipWidth / 2;
            subY = tooltipHeight;
          } else if (direction === "bottom") {
            subX = tooltipWidth / 2;
            subY = 0;
          } else if (direction === "center") {
            subX = tooltipWidth / 2;
            subY = tooltipHeight / 2;
          } else if (direction === "right") {
            subX = 0;
            subY = tooltipHeight / 2;
          } else if (direction === "left") {
            subX = tooltipWidth;
            subY = tooltipHeight / 2;
          } else if (tooltipPoint.x < centerPoint.x) {
            direction = "right";
            subX = 0;
            subY = tooltipHeight / 2;
          } else {
            direction = "left";
            subX = tooltipWidth + (offset.x + anchor.x) * 2;
            subY = tooltipHeight / 2;
          }
          pos = pos.subtract(toPoint(subX, subY, true)).add(offset).add(anchor);
          removeClass(container, "leaflet-tooltip-right");
          removeClass(container, "leaflet-tooltip-left");
          removeClass(container, "leaflet-tooltip-top");
          removeClass(container, "leaflet-tooltip-bottom");
          addClass(container, "leaflet-tooltip-" + direction);
          setPosition(container, pos);
        },
        _updatePosition: function() {
          var pos = this._map.latLngToLayerPoint(this._latlng);
          this._setPosition(pos);
        },
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          if (this._container) {
            setOpacity(this._container, opacity);
          }
        },
        _animateZoom: function(e) {
          var pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center);
          this._setPosition(pos);
        },
        _getAnchor: function() {
          return toPoint(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0]);
        }
      });
      var tooltip = function(options, source) {
        return new Tooltip(options, source);
      };
      Map2.include({
        // @method openTooltip(tooltip: Tooltip): this
        // Opens the specified tooltip.
        // @alternative
        // @method openTooltip(content: String|HTMLElement, latlng: LatLng, options?: Tooltip options): this
        // Creates a tooltip with the specified content and options and open it.
        openTooltip: function(tooltip2, latlng, options) {
          this._initOverlay(Tooltip, tooltip2, latlng, options).openOn(this);
          return this;
        },
        // @method closeTooltip(tooltip: Tooltip): this
        // Closes the tooltip given as parameter.
        closeTooltip: function(tooltip2) {
          tooltip2.close();
          return this;
        }
      });
      Layer.include({
        // @method bindTooltip(content: String|HTMLElement|Function|Tooltip, options?: Tooltip options): this
        // Binds a tooltip to the layer with the passed `content` and sets up the
        // necessary event listeners. If a `Function` is passed it will receive
        // the layer as the first argument and should return a `String` or `HTMLElement`.
        bindTooltip: function(content, options) {
          if (this._tooltip && this.isTooltipOpen()) {
            this.unbindTooltip();
          }
          this._tooltip = this._initOverlay(Tooltip, this._tooltip, content, options);
          this._initTooltipInteractions();
          if (this._tooltip.options.permanent && this._map && this._map.hasLayer(this)) {
            this.openTooltip();
          }
          return this;
        },
        // @method unbindTooltip(): this
        // Removes the tooltip previously bound with `bindTooltip`.
        unbindTooltip: function() {
          if (this._tooltip) {
            this._initTooltipInteractions(true);
            this.closeTooltip();
            this._tooltip = null;
          }
          return this;
        },
        _initTooltipInteractions: function(remove2) {
          if (!remove2 && this._tooltipHandlersAdded) {
            return;
          }
          var onOff = remove2 ? "off" : "on", events = {
            remove: this.closeTooltip,
            move: this._moveTooltip
          };
          if (!this._tooltip.options.permanent) {
            events.mouseover = this._openTooltip;
            events.mouseout = this.closeTooltip;
            events.click = this._openTooltip;
            if (this._map) {
              this._addFocusListeners();
            } else {
              events.add = this._addFocusListeners;
            }
          } else {
            events.add = this._openTooltip;
          }
          if (this._tooltip.options.sticky) {
            events.mousemove = this._moveTooltip;
          }
          this[onOff](events);
          this._tooltipHandlersAdded = !remove2;
        },
        // @method openTooltip(latlng?: LatLng): this
        // Opens the bound tooltip at the specified `latlng` or at the default tooltip anchor if no `latlng` is passed.
        openTooltip: function(latlng) {
          if (this._tooltip) {
            if (!(this instanceof FeatureGroup2)) {
              this._tooltip._source = this;
            }
            if (this._tooltip._prepareOpen(latlng)) {
              this._tooltip.openOn(this._map);
              if (this.getElement) {
                this._setAriaDescribedByOnLayer(this);
              } else if (this.eachLayer) {
                this.eachLayer(this._setAriaDescribedByOnLayer, this);
              }
            }
          }
          return this;
        },
        // @method closeTooltip(): this
        // Closes the tooltip bound to this layer if it is open.
        closeTooltip: function() {
          if (this._tooltip) {
            return this._tooltip.close();
          }
        },
        // @method toggleTooltip(): this
        // Opens or closes the tooltip bound to this layer depending on its current state.
        toggleTooltip: function() {
          if (this._tooltip) {
            this._tooltip.toggle(this);
          }
          return this;
        },
        // @method isTooltipOpen(): boolean
        // Returns `true` if the tooltip bound to this layer is currently open.
        isTooltipOpen: function() {
          return this._tooltip.isOpen();
        },
        // @method setTooltipContent(content: String|HTMLElement|Tooltip): this
        // Sets the content of the tooltip bound to this layer.
        setTooltipContent: function(content) {
          if (this._tooltip) {
            this._tooltip.setContent(content);
          }
          return this;
        },
        // @method getTooltip(): Tooltip
        // Returns the tooltip bound to this layer.
        getTooltip: function() {
          return this._tooltip;
        },
        _addFocusListeners: function() {
          if (this.getElement) {
            this._addFocusListenersOnLayer(this);
          } else if (this.eachLayer) {
            this.eachLayer(this._addFocusListenersOnLayer, this);
          }
        },
        _addFocusListenersOnLayer: function(layer) {
          var el = typeof layer.getElement === "function" && layer.getElement();
          if (el) {
            on(el, "focus", function() {
              this._tooltip._source = layer;
              this.openTooltip();
            }, this);
            on(el, "blur", this.closeTooltip, this);
          }
        },
        _setAriaDescribedByOnLayer: function(layer) {
          var el = typeof layer.getElement === "function" && layer.getElement();
          if (el) {
            el.setAttribute("aria-describedby", this._tooltip._container.id);
          }
        },
        _openTooltip: function(e) {
          if (!this._tooltip || !this._map) {
            return;
          }
          if (this._map.dragging && this._map.dragging.moving() && !this._openOnceFlag) {
            this._openOnceFlag = true;
            var that = this;
            this._map.once("moveend", function() {
              that._openOnceFlag = false;
              that._openTooltip(e);
            });
            return;
          }
          this._tooltip._source = e.layer || e.target;
          this.openTooltip(this._tooltip.options.sticky ? e.latlng : void 0);
        },
        _moveTooltip: function(e) {
          var latlng = e.latlng, containerPoint, layerPoint;
          if (this._tooltip.options.sticky && e.originalEvent) {
            containerPoint = this._map.mouseEventToContainerPoint(e.originalEvent);
            layerPoint = this._map.containerPointToLayerPoint(containerPoint);
            latlng = this._map.layerPointToLatLng(layerPoint);
          }
          this._tooltip.setLatLng(latlng);
        }
      });
      var DivIcon = Icon.extend({
        options: {
          // @section
          // @aka DivIcon options
          iconSize: [12, 12],
          // also can be set through CSS
          // iconAnchor: (Point),
          // popupAnchor: (Point),
          // @option html: String|HTMLElement = ''
          // Custom HTML code to put inside the div element, empty by default. Alternatively,
          // an instance of `HTMLElement`.
          html: false,
          // @option bgPos: Point = [0, 0]
          // Optional relative position of the background, in pixels
          bgPos: null,
          className: "leaflet-div-icon"
        },
        createIcon: function(oldIcon) {
          var div = oldIcon && oldIcon.tagName === "DIV" ? oldIcon : document.createElement("div"), options = this.options;
          if (options.html instanceof Element) {
            empty(div);
            div.appendChild(options.html);
          } else {
            div.innerHTML = options.html !== false ? options.html : "";
          }
          if (options.bgPos) {
            var bgPos = toPoint(options.bgPos);
            div.style.backgroundPosition = -bgPos.x + "px " + -bgPos.y + "px";
          }
          this._setIconStyles(div, "icon");
          return div;
        },
        createShadow: function() {
          return null;
        }
      });
      function divIcon2(options) {
        return new DivIcon(options);
      }
      Icon.Default = IconDefault;
      var GridLayer = Layer.extend({
        // @section
        // @aka GridLayer options
        options: {
          // @option tileSize: Number|Point = 256
          // Width and height of tiles in the grid. Use a number if width and height are equal, or `L.point(width, height)` otherwise.
          tileSize: 256,
          // @option opacity: Number = 1.0
          // Opacity of the tiles. Can be used in the `createTile()` function.
          opacity: 1,
          // @option updateWhenIdle: Boolean = (depends)
          // Load new tiles only when panning ends.
          // `true` by default on mobile browsers, in order to avoid too many requests and keep smooth navigation.
          // `false` otherwise in order to display new tiles _during_ panning, since it is easy to pan outside the
          // [`keepBuffer`](#gridlayer-keepbuffer) option in desktop browsers.
          updateWhenIdle: Browser.mobile,
          // @option updateWhenZooming: Boolean = true
          // By default, a smooth zoom animation (during a [touch zoom](#map-touchzoom) or a [`flyTo()`](#map-flyto)) will update grid layers every integer zoom level. Setting this option to `false` will update the grid layer only when the smooth animation ends.
          updateWhenZooming: true,
          // @option updateInterval: Number = 200
          // Tiles will not update more than once every `updateInterval` milliseconds when panning.
          updateInterval: 200,
          // @option zIndex: Number = 1
          // The explicit zIndex of the tile layer.
          zIndex: 1,
          // @option bounds: LatLngBounds = undefined
          // If set, tiles will only be loaded inside the set `LatLngBounds`.
          bounds: null,
          // @option minZoom: Number = 0
          // The minimum zoom level down to which this layer will be displayed (inclusive).
          minZoom: 0,
          // @option maxZoom: Number = undefined
          // The maximum zoom level up to which this layer will be displayed (inclusive).
          maxZoom: void 0,
          // @option maxNativeZoom: Number = undefined
          // Maximum zoom number the tile source has available. If it is specified,
          // the tiles on all zoom levels higher than `maxNativeZoom` will be loaded
          // from `maxNativeZoom` level and auto-scaled.
          maxNativeZoom: void 0,
          // @option minNativeZoom: Number = undefined
          // Minimum zoom number the tile source has available. If it is specified,
          // the tiles on all zoom levels lower than `minNativeZoom` will be loaded
          // from `minNativeZoom` level and auto-scaled.
          minNativeZoom: void 0,
          // @option noWrap: Boolean = false
          // Whether the layer is wrapped around the antimeridian. If `true`, the
          // GridLayer will only be displayed once at low zoom levels. Has no
          // effect when the [map CRS](#map-crs) doesn't wrap around. Can be used
          // in combination with [`bounds`](#gridlayer-bounds) to prevent requesting
          // tiles outside the CRS limits.
          noWrap: false,
          // @option pane: String = 'tilePane'
          // `Map pane` where the grid layer will be added.
          pane: "tilePane",
          // @option className: String = ''
          // A custom class name to assign to the tile layer. Empty by default.
          className: "",
          // @option keepBuffer: Number = 2
          // When panning the map, keep this many rows and columns of tiles before unloading them.
          keepBuffer: 2
        },
        initialize: function(options) {
          setOptions(this, options);
        },
        onAdd: function() {
          this._initContainer();
          this._levels = {};
          this._tiles = {};
          this._resetView();
        },
        beforeAdd: function(map3) {
          map3._addZoomLimit(this);
        },
        onRemove: function(map3) {
          this._removeAllTiles();
          remove(this._container);
          map3._removeZoomLimit(this);
          this._container = null;
          this._tileZoom = void 0;
        },
        // @method bringToFront: this
        // Brings the tile layer to the top of all tile layers.
        bringToFront: function() {
          if (this._map) {
            toFront(this._container);
            this._setAutoZIndex(Math.max);
          }
          return this;
        },
        // @method bringToBack: this
        // Brings the tile layer to the bottom of all tile layers.
        bringToBack: function() {
          if (this._map) {
            toBack(this._container);
            this._setAutoZIndex(Math.min);
          }
          return this;
        },
        // @method getContainer: HTMLElement
        // Returns the HTML element that contains the tiles for this layer.
        getContainer: function() {
          return this._container;
        },
        // @method setOpacity(opacity: Number): this
        // Changes the [opacity](#gridlayer-opacity) of the grid layer.
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          this._updateOpacity();
          return this;
        },
        // @method setZIndex(zIndex: Number): this
        // Changes the [zIndex](#gridlayer-zindex) of the grid layer.
        setZIndex: function(zIndex) {
          this.options.zIndex = zIndex;
          this._updateZIndex();
          return this;
        },
        // @method isLoading: Boolean
        // Returns `true` if any tile in the grid layer has not finished loading.
        isLoading: function() {
          return this._loading;
        },
        // @method redraw: this
        // Causes the layer to clear all the tiles and request them again.
        redraw: function() {
          if (this._map) {
            this._removeAllTiles();
            var tileZoom = this._clampZoom(this._map.getZoom());
            if (tileZoom !== this._tileZoom) {
              this._tileZoom = tileZoom;
              this._updateLevels();
            }
            this._update();
          }
          return this;
        },
        getEvents: function() {
          var events = {
            viewprereset: this._invalidateAll,
            viewreset: this._resetView,
            zoom: this._resetView,
            moveend: this._onMoveEnd
          };
          if (!this.options.updateWhenIdle) {
            if (!this._onMove) {
              this._onMove = throttle(this._onMoveEnd, this.options.updateInterval, this);
            }
            events.move = this._onMove;
          }
          if (this._zoomAnimated) {
            events.zoomanim = this._animateZoom;
          }
          return events;
        },
        // @section Extension methods
        // Layers extending `GridLayer` shall reimplement the following method.
        // @method createTile(coords: Object, done?: Function): HTMLElement
        // Called only internally, must be overridden by classes extending `GridLayer`.
        // Returns the `HTMLElement` corresponding to the given `coords`. If the `done` callback
        // is specified, it must be called when the tile has finished loading and drawing.
        createTile: function() {
          return document.createElement("div");
        },
        // @section
        // @method getTileSize: Point
        // Normalizes the [tileSize option](#gridlayer-tilesize) into a point. Used by the `createTile()` method.
        getTileSize: function() {
          var s = this.options.tileSize;
          return s instanceof Point ? s : new Point(s, s);
        },
        _updateZIndex: function() {
          if (this._container && this.options.zIndex !== void 0 && this.options.zIndex !== null) {
            this._container.style.zIndex = this.options.zIndex;
          }
        },
        _setAutoZIndex: function(compare) {
          var layers2 = this.getPane().children, edgeZIndex = -compare(-Infinity, Infinity);
          for (var i = 0, len = layers2.length, zIndex; i < len; i++) {
            zIndex = layers2[i].style.zIndex;
            if (layers2[i] !== this._container && zIndex) {
              edgeZIndex = compare(edgeZIndex, +zIndex);
            }
          }
          if (isFinite(edgeZIndex)) {
            this.options.zIndex = edgeZIndex + compare(-1, 1);
            this._updateZIndex();
          }
        },
        _updateOpacity: function() {
          if (!this._map) {
            return;
          }
          if (Browser.ielt9) {
            return;
          }
          setOpacity(this._container, this.options.opacity);
          var now = +/* @__PURE__ */ new Date(), nextFrame = false, willPrune = false;
          for (var key in this._tiles) {
            var tile = this._tiles[key];
            if (!tile.current || !tile.loaded) {
              continue;
            }
            var fade = Math.min(1, (now - tile.loaded) / 200);
            setOpacity(tile.el, fade);
            if (fade < 1) {
              nextFrame = true;
            } else {
              if (tile.active) {
                willPrune = true;
              } else {
                this._onOpaqueTile(tile);
              }
              tile.active = true;
            }
          }
          if (willPrune && !this._noPrune) {
            this._pruneTiles();
          }
          if (nextFrame) {
            cancelAnimFrame(this._fadeFrame);
            this._fadeFrame = requestAnimFrame(this._updateOpacity, this);
          }
        },
        _onOpaqueTile: falseFn,
        _initContainer: function() {
          if (this._container) {
            return;
          }
          this._container = create$1("div", "leaflet-layer " + (this.options.className || ""));
          this._updateZIndex();
          if (this.options.opacity < 1) {
            this._updateOpacity();
          }
          this.getPane().appendChild(this._container);
        },
        _updateLevels: function() {
          var zoom2 = this._tileZoom, maxZoom = this.options.maxZoom;
          if (zoom2 === void 0) {
            return void 0;
          }
          for (var z in this._levels) {
            z = Number(z);
            if (this._levels[z].el.children.length || z === zoom2) {
              this._levels[z].el.style.zIndex = maxZoom - Math.abs(zoom2 - z);
              this._onUpdateLevel(z);
            } else {
              remove(this._levels[z].el);
              this._removeTilesAtZoom(z);
              this._onRemoveLevel(z);
              delete this._levels[z];
            }
          }
          var level = this._levels[zoom2], map3 = this._map;
          if (!level) {
            level = this._levels[zoom2] = {};
            level.el = create$1("div", "leaflet-tile-container leaflet-zoom-animated", this._container);
            level.el.style.zIndex = maxZoom;
            level.origin = map3.project(map3.unproject(map3.getPixelOrigin()), zoom2).round();
            level.zoom = zoom2;
            this._setZoomTransform(level, map3.getCenter(), map3.getZoom());
            falseFn(level.el.offsetWidth);
            this._onCreateLevel(level);
          }
          this._level = level;
          return level;
        },
        _onUpdateLevel: falseFn,
        _onRemoveLevel: falseFn,
        _onCreateLevel: falseFn,
        _pruneTiles: function() {
          if (!this._map) {
            return;
          }
          var key, tile;
          var zoom2 = this._map.getZoom();
          if (zoom2 > this.options.maxZoom || zoom2 < this.options.minZoom) {
            this._removeAllTiles();
            return;
          }
          for (key in this._tiles) {
            tile = this._tiles[key];
            tile.retain = tile.current;
          }
          for (key in this._tiles) {
            tile = this._tiles[key];
            if (tile.current && !tile.active) {
              var coords = tile.coords;
              if (!this._retainParent(coords.x, coords.y, coords.z, coords.z - 5)) {
                this._retainChildren(coords.x, coords.y, coords.z, coords.z + 2);
              }
            }
          }
          for (key in this._tiles) {
            if (!this._tiles[key].retain) {
              this._removeTile(key);
            }
          }
        },
        _removeTilesAtZoom: function(zoom2) {
          for (var key in this._tiles) {
            if (this._tiles[key].coords.z !== zoom2) {
              continue;
            }
            this._removeTile(key);
          }
        },
        _removeAllTiles: function() {
          for (var key in this._tiles) {
            this._removeTile(key);
          }
        },
        _invalidateAll: function() {
          for (var z in this._levels) {
            remove(this._levels[z].el);
            this._onRemoveLevel(Number(z));
            delete this._levels[z];
          }
          this._removeAllTiles();
          this._tileZoom = void 0;
        },
        _retainParent: function(x, y, z, minZoom) {
          var x2 = Math.floor(x / 2), y2 = Math.floor(y / 2), z2 = z - 1, coords2 = new Point(+x2, +y2);
          coords2.z = +z2;
          var key = this._tileCoordsToKey(coords2), tile = this._tiles[key];
          if (tile && tile.active) {
            tile.retain = true;
            return true;
          } else if (tile && tile.loaded) {
            tile.retain = true;
          }
          if (z2 > minZoom) {
            return this._retainParent(x2, y2, z2, minZoom);
          }
          return false;
        },
        _retainChildren: function(x, y, z, maxZoom) {
          for (var i = 2 * x; i < 2 * x + 2; i++) {
            for (var j = 2 * y; j < 2 * y + 2; j++) {
              var coords = new Point(i, j);
              coords.z = z + 1;
              var key = this._tileCoordsToKey(coords), tile = this._tiles[key];
              if (tile && tile.active) {
                tile.retain = true;
                continue;
              } else if (tile && tile.loaded) {
                tile.retain = true;
              }
              if (z + 1 < maxZoom) {
                this._retainChildren(i, j, z + 1, maxZoom);
              }
            }
          }
        },
        _resetView: function(e) {
          var animating = e && (e.pinch || e.flyTo);
          this._setView(this._map.getCenter(), this._map.getZoom(), animating, animating);
        },
        _animateZoom: function(e) {
          this._setView(e.center, e.zoom, true, e.noUpdate);
        },
        _clampZoom: function(zoom2) {
          var options = this.options;
          if (void 0 !== options.minNativeZoom && zoom2 < options.minNativeZoom) {
            return options.minNativeZoom;
          }
          if (void 0 !== options.maxNativeZoom && options.maxNativeZoom < zoom2) {
            return options.maxNativeZoom;
          }
          return zoom2;
        },
        _setView: function(center, zoom2, noPrune, noUpdate) {
          var tileZoom = Math.round(zoom2);
          if (this.options.maxZoom !== void 0 && tileZoom > this.options.maxZoom || this.options.minZoom !== void 0 && tileZoom < this.options.minZoom) {
            tileZoom = void 0;
          } else {
            tileZoom = this._clampZoom(tileZoom);
          }
          var tileZoomChanged = this.options.updateWhenZooming && tileZoom !== this._tileZoom;
          if (!noUpdate || tileZoomChanged) {
            this._tileZoom = tileZoom;
            if (this._abortLoading) {
              this._abortLoading();
            }
            this._updateLevels();
            this._resetGrid();
            if (tileZoom !== void 0) {
              this._update(center);
            }
            if (!noPrune) {
              this._pruneTiles();
            }
            this._noPrune = !!noPrune;
          }
          this._setZoomTransforms(center, zoom2);
        },
        _setZoomTransforms: function(center, zoom2) {
          for (var i in this._levels) {
            this._setZoomTransform(this._levels[i], center, zoom2);
          }
        },
        _setZoomTransform: function(level, center, zoom2) {
          var scale2 = this._map.getZoomScale(zoom2, level.zoom), translate = level.origin.multiplyBy(scale2).subtract(this._map._getNewPixelOrigin(center, zoom2)).round();
          if (Browser.any3d) {
            setTransform(level.el, translate, scale2);
          } else {
            setPosition(level.el, translate);
          }
        },
        _resetGrid: function() {
          var map3 = this._map, crs = map3.options.crs, tileSize = this._tileSize = this.getTileSize(), tileZoom = this._tileZoom;
          var bounds = this._map.getPixelWorldBounds(this._tileZoom);
          if (bounds) {
            this._globalTileRange = this._pxBoundsToTileRange(bounds);
          }
          this._wrapX = crs.wrapLng && !this.options.noWrap && [
            Math.floor(map3.project([0, crs.wrapLng[0]], tileZoom).x / tileSize.x),
            Math.ceil(map3.project([0, crs.wrapLng[1]], tileZoom).x / tileSize.y)
          ];
          this._wrapY = crs.wrapLat && !this.options.noWrap && [
            Math.floor(map3.project([crs.wrapLat[0], 0], tileZoom).y / tileSize.x),
            Math.ceil(map3.project([crs.wrapLat[1], 0], tileZoom).y / tileSize.y)
          ];
        },
        _onMoveEnd: function() {
          if (!this._map || this._map._animatingZoom) {
            return;
          }
          this._update();
        },
        _getTiledPixelBounds: function(center) {
          var map3 = this._map, mapZoom = map3._animatingZoom ? Math.max(map3._animateToZoom, map3.getZoom()) : map3.getZoom(), scale2 = map3.getZoomScale(mapZoom, this._tileZoom), pixelCenter = map3.project(center, this._tileZoom).floor(), halfSize = map3.getSize().divideBy(scale2 * 2);
          return new Bounds(pixelCenter.subtract(halfSize), pixelCenter.add(halfSize));
        },
        // Private method to load tiles in the grid's active zoom level according to map bounds
        _update: function(center) {
          var map3 = this._map;
          if (!map3) {
            return;
          }
          var zoom2 = this._clampZoom(map3.getZoom());
          if (center === void 0) {
            center = map3.getCenter();
          }
          if (this._tileZoom === void 0) {
            return;
          }
          var pixelBounds = this._getTiledPixelBounds(center), tileRange = this._pxBoundsToTileRange(pixelBounds), tileCenter = tileRange.getCenter(), queue = [], margin = this.options.keepBuffer, noPruneRange = new Bounds(
            tileRange.getBottomLeft().subtract([margin, -margin]),
            tileRange.getTopRight().add([margin, -margin])
          );
          if (!(isFinite(tileRange.min.x) && isFinite(tileRange.min.y) && isFinite(tileRange.max.x) && isFinite(tileRange.max.y))) {
            throw new Error("Attempted to load an infinite number of tiles");
          }
          for (var key in this._tiles) {
            var c = this._tiles[key].coords;
            if (c.z !== this._tileZoom || !noPruneRange.contains(new Point(c.x, c.y))) {
              this._tiles[key].current = false;
            }
          }
          if (Math.abs(zoom2 - this._tileZoom) > 1) {
            this._setView(center, zoom2);
            return;
          }
          for (var j = tileRange.min.y; j <= tileRange.max.y; j++) {
            for (var i = tileRange.min.x; i <= tileRange.max.x; i++) {
              var coords = new Point(i, j);
              coords.z = this._tileZoom;
              if (!this._isValidTile(coords)) {
                continue;
              }
              var tile = this._tiles[this._tileCoordsToKey(coords)];
              if (tile) {
                tile.current = true;
              } else {
                queue.push(coords);
              }
            }
          }
          queue.sort(function(a, b) {
            return a.distanceTo(tileCenter) - b.distanceTo(tileCenter);
          });
          if (queue.length !== 0) {
            if (!this._loading) {
              this._loading = true;
              this.fire("loading");
            }
            var fragment = document.createDocumentFragment();
            for (i = 0; i < queue.length; i++) {
              this._addTile(queue[i], fragment);
            }
            this._level.el.appendChild(fragment);
          }
        },
        _isValidTile: function(coords) {
          var crs = this._map.options.crs;
          if (!crs.infinite) {
            var bounds = this._globalTileRange;
            if (!crs.wrapLng && (coords.x < bounds.min.x || coords.x > bounds.max.x) || !crs.wrapLat && (coords.y < bounds.min.y || coords.y > bounds.max.y)) {
              return false;
            }
          }
          if (!this.options.bounds) {
            return true;
          }
          var tileBounds = this._tileCoordsToBounds(coords);
          return toLatLngBounds(this.options.bounds).overlaps(tileBounds);
        },
        _keyToBounds: function(key) {
          return this._tileCoordsToBounds(this._keyToTileCoords(key));
        },
        _tileCoordsToNwSe: function(coords) {
          var map3 = this._map, tileSize = this.getTileSize(), nwPoint = coords.scaleBy(tileSize), sePoint = nwPoint.add(tileSize), nw = map3.unproject(nwPoint, coords.z), se = map3.unproject(sePoint, coords.z);
          return [nw, se];
        },
        // converts tile coordinates to its geographical bounds
        _tileCoordsToBounds: function(coords) {
          var bp = this._tileCoordsToNwSe(coords), bounds = new LatLngBounds(bp[0], bp[1]);
          if (!this.options.noWrap) {
            bounds = this._map.wrapLatLngBounds(bounds);
          }
          return bounds;
        },
        // converts tile coordinates to key for the tile cache
        _tileCoordsToKey: function(coords) {
          return coords.x + ":" + coords.y + ":" + coords.z;
        },
        // converts tile cache key to coordinates
        _keyToTileCoords: function(key) {
          var k = key.split(":"), coords = new Point(+k[0], +k[1]);
          coords.z = +k[2];
          return coords;
        },
        _removeTile: function(key) {
          var tile = this._tiles[key];
          if (!tile) {
            return;
          }
          remove(tile.el);
          delete this._tiles[key];
          this.fire("tileunload", {
            tile: tile.el,
            coords: this._keyToTileCoords(key)
          });
        },
        _initTile: function(tile) {
          addClass(tile, "leaflet-tile");
          var tileSize = this.getTileSize();
          tile.style.width = tileSize.x + "px";
          tile.style.height = tileSize.y + "px";
          tile.onselectstart = falseFn;
          tile.onmousemove = falseFn;
          if (Browser.ielt9 && this.options.opacity < 1) {
            setOpacity(tile, this.options.opacity);
          }
        },
        _addTile: function(coords, container) {
          var tilePos = this._getTilePos(coords), key = this._tileCoordsToKey(coords);
          var tile = this.createTile(this._wrapCoords(coords), bind(this._tileReady, this, coords));
          this._initTile(tile);
          if (this.createTile.length < 2) {
            requestAnimFrame(bind(this._tileReady, this, coords, null, tile));
          }
          setPosition(tile, tilePos);
          this._tiles[key] = {
            el: tile,
            coords,
            current: true
          };
          container.appendChild(tile);
          this.fire("tileloadstart", {
            tile,
            coords
          });
        },
        _tileReady: function(coords, err, tile) {
          if (err) {
            this.fire("tileerror", {
              error: err,
              tile,
              coords
            });
          }
          var key = this._tileCoordsToKey(coords);
          tile = this._tiles[key];
          if (!tile) {
            return;
          }
          tile.loaded = +/* @__PURE__ */ new Date();
          if (this._map._fadeAnimated) {
            setOpacity(tile.el, 0);
            cancelAnimFrame(this._fadeFrame);
            this._fadeFrame = requestAnimFrame(this._updateOpacity, this);
          } else {
            tile.active = true;
            this._pruneTiles();
          }
          if (!err) {
            addClass(tile.el, "leaflet-tile-loaded");
            this.fire("tileload", {
              tile: tile.el,
              coords
            });
          }
          if (this._noTilesToLoad()) {
            this._loading = false;
            this.fire("load");
            if (Browser.ielt9 || !this._map._fadeAnimated) {
              requestAnimFrame(this._pruneTiles, this);
            } else {
              setTimeout(bind(this._pruneTiles, this), 250);
            }
          }
        },
        _getTilePos: function(coords) {
          return coords.scaleBy(this.getTileSize()).subtract(this._level.origin);
        },
        _wrapCoords: function(coords) {
          var newCoords = new Point(
            this._wrapX ? wrapNum(coords.x, this._wrapX) : coords.x,
            this._wrapY ? wrapNum(coords.y, this._wrapY) : coords.y
          );
          newCoords.z = coords.z;
          return newCoords;
        },
        _pxBoundsToTileRange: function(bounds) {
          var tileSize = this.getTileSize();
          return new Bounds(
            bounds.min.unscaleBy(tileSize).floor(),
            bounds.max.unscaleBy(tileSize).ceil().subtract([1, 1])
          );
        },
        _noTilesToLoad: function() {
          for (var key in this._tiles) {
            if (!this._tiles[key].loaded) {
              return false;
            }
          }
          return true;
        }
      });
      function gridLayer(options) {
        return new GridLayer(options);
      }
      var TileLayer = GridLayer.extend({
        // @section
        // @aka TileLayer options
        options: {
          // @option minZoom: Number = 0
          // The minimum zoom level down to which this layer will be displayed (inclusive).
          minZoom: 0,
          // @option maxZoom: Number = 18
          // The maximum zoom level up to which this layer will be displayed (inclusive).
          maxZoom: 18,
          // @option subdomains: String|String[] = 'abc'
          // Subdomains of the tile service. Can be passed in the form of one string (where each letter is a subdomain name) or an array of strings.
          subdomains: "abc",
          // @option errorTileUrl: String = ''
          // URL to the tile image to show in place of the tile that failed to load.
          errorTileUrl: "",
          // @option zoomOffset: Number = 0
          // The zoom number used in tile URLs will be offset with this value.
          zoomOffset: 0,
          // @option tms: Boolean = false
          // If `true`, inverses Y axis numbering for tiles (turn this on for [TMS](https://en.wikipedia.org/wiki/Tile_Map_Service) services).
          tms: false,
          // @option zoomReverse: Boolean = false
          // If set to true, the zoom number used in tile URLs will be reversed (`maxZoom - zoom` instead of `zoom`)
          zoomReverse: false,
          // @option detectRetina: Boolean = false
          // If `true` and user is on a retina display, it will request four tiles of half the specified size and a bigger zoom level in place of one to utilize the high resolution.
          detectRetina: false,
          // @option crossOrigin: Boolean|String = false
          // Whether the crossOrigin attribute will be added to the tiles.
          // If a String is provided, all tiles will have their crossOrigin attribute set to the String provided. This is needed if you want to access tile pixel data.
          // Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.
          crossOrigin: false,
          // @option referrerPolicy: Boolean|String = false
          // Whether the referrerPolicy attribute will be added to the tiles.
          // If a String is provided, all tiles will have their referrerPolicy attribute set to the String provided.
          // This may be needed if your map's rendering context has a strict default but your tile provider expects a valid referrer
          // (e.g. to validate an API token).
          // Refer to [HTMLImageElement.referrerPolicy](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/referrerPolicy) for valid String values.
          referrerPolicy: false
        },
        initialize: function(url, options) {
          this._url = url;
          options = setOptions(this, options);
          if (options.detectRetina && Browser.retina && options.maxZoom > 0) {
            options.tileSize = Math.floor(options.tileSize / 2);
            if (!options.zoomReverse) {
              options.zoomOffset++;
              options.maxZoom = Math.max(options.minZoom, options.maxZoom - 1);
            } else {
              options.zoomOffset--;
              options.minZoom = Math.min(options.maxZoom, options.minZoom + 1);
            }
            options.minZoom = Math.max(0, options.minZoom);
          } else if (!options.zoomReverse) {
            options.maxZoom = Math.max(options.minZoom, options.maxZoom);
          } else {
            options.minZoom = Math.min(options.maxZoom, options.minZoom);
          }
          if (typeof options.subdomains === "string") {
            options.subdomains = options.subdomains.split("");
          }
          this.on("tileunload", this._onTileRemove);
        },
        // @method setUrl(url: String, noRedraw?: Boolean): this
        // Updates the layer's URL template and redraws it (unless `noRedraw` is set to `true`).
        // If the URL does not change, the layer will not be redrawn unless
        // the noRedraw parameter is set to false.
        setUrl: function(url, noRedraw) {
          if (this._url === url && noRedraw === void 0) {
            noRedraw = true;
          }
          this._url = url;
          if (!noRedraw) {
            this.redraw();
          }
          return this;
        },
        // @method createTile(coords: Object, done?: Function): HTMLElement
        // Called only internally, overrides GridLayer's [`createTile()`](#gridlayer-createtile)
        // to return an `<img>` HTML element with the appropriate image URL given `coords`. The `done`
        // callback is called when the tile has been loaded.
        createTile: function(coords, done) {
          var tile = document.createElement("img");
          on(tile, "load", bind(this._tileOnLoad, this, done, tile));
          on(tile, "error", bind(this._tileOnError, this, done, tile));
          if (this.options.crossOrigin || this.options.crossOrigin === "") {
            tile.crossOrigin = this.options.crossOrigin === true ? "" : this.options.crossOrigin;
          }
          if (typeof this.options.referrerPolicy === "string") {
            tile.referrerPolicy = this.options.referrerPolicy;
          }
          tile.alt = "";
          tile.src = this.getTileUrl(coords);
          return tile;
        },
        // @section Extension methods
        // @uninheritable
        // Layers extending `TileLayer` might reimplement the following method.
        // @method getTileUrl(coords: Object): String
        // Called only internally, returns the URL for a tile given its coordinates.
        // Classes extending `TileLayer` can override this function to provide custom tile URL naming schemes.
        getTileUrl: function(coords) {
          var data = {
            r: Browser.retina ? "@2x" : "",
            s: this._getSubdomain(coords),
            x: coords.x,
            y: coords.y,
            z: this._getZoomForUrl()
          };
          if (this._map && !this._map.options.crs.infinite) {
            var invertedY = this._globalTileRange.max.y - coords.y;
            if (this.options.tms) {
              data["y"] = invertedY;
            }
            data["-y"] = invertedY;
          }
          return template(this._url, extend(data, this.options));
        },
        _tileOnLoad: function(done, tile) {
          if (Browser.ielt9) {
            setTimeout(bind(done, this, null, tile), 0);
          } else {
            done(null, tile);
          }
        },
        _tileOnError: function(done, tile, e) {
          var errorUrl = this.options.errorTileUrl;
          if (errorUrl && tile.getAttribute("src") !== errorUrl) {
            tile.src = errorUrl;
          }
          done(e, tile);
        },
        _onTileRemove: function(e) {
          e.tile.onload = null;
        },
        _getZoomForUrl: function() {
          var zoom2 = this._tileZoom, maxZoom = this.options.maxZoom, zoomReverse = this.options.zoomReverse, zoomOffset = this.options.zoomOffset;
          if (zoomReverse) {
            zoom2 = maxZoom - zoom2;
          }
          return zoom2 + zoomOffset;
        },
        _getSubdomain: function(tilePoint) {
          var index2 = Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;
          return this.options.subdomains[index2];
        },
        // stops loading all tiles in the background layer
        _abortLoading: function() {
          var i, tile;
          for (i in this._tiles) {
            if (this._tiles[i].coords.z !== this._tileZoom) {
              tile = this._tiles[i].el;
              tile.onload = falseFn;
              tile.onerror = falseFn;
              if (!tile.complete) {
                tile.src = emptyImageUrl;
                var coords = this._tiles[i].coords;
                remove(tile);
                delete this._tiles[i];
                this.fire("tileabort", {
                  tile,
                  coords
                });
              }
            }
          }
        },
        _removeTile: function(key) {
          var tile = this._tiles[key];
          if (!tile) {
            return;
          }
          tile.el.setAttribute("src", emptyImageUrl);
          return GridLayer.prototype._removeTile.call(this, key);
        },
        _tileReady: function(coords, err, tile) {
          if (!this._map || tile && tile.getAttribute("src") === emptyImageUrl) {
            return;
          }
          return GridLayer.prototype._tileReady.call(this, coords, err, tile);
        }
      });
      function tileLayer2(url, options) {
        return new TileLayer(url, options);
      }
      var TileLayerWMS = TileLayer.extend({
        // @section
        // @aka TileLayer.WMS options
        // If any custom options not documented here are used, they will be sent to the
        // WMS server as extra parameters in each request URL. This can be useful for
        // [non-standard vendor WMS parameters](https://docs.geoserver.org/stable/en/user/services/wms/vendor.html).
        defaultWmsParams: {
          service: "WMS",
          request: "GetMap",
          // @option layers: String = ''
          // **(required)** Comma-separated list of WMS layers to show.
          layers: "",
          // @option styles: String = ''
          // Comma-separated list of WMS styles.
          styles: "",
          // @option format: String = 'image/jpeg'
          // WMS image format (use `'image/png'` for layers with transparency).
          format: "image/jpeg",
          // @option transparent: Boolean = false
          // If `true`, the WMS service will return images with transparency.
          transparent: false,
          // @option version: String = '1.1.1'
          // Version of the WMS service to use
          version: "1.1.1"
        },
        options: {
          // @option crs: CRS = null
          // Coordinate Reference System to use for the WMS requests, defaults to
          // map CRS. Don't change this if you're not sure what it means.
          crs: null,
          // @option uppercase: Boolean = false
          // If `true`, WMS request parameter keys will be uppercase.
          uppercase: false
        },
        initialize: function(url, options) {
          this._url = url;
          var wmsParams = extend({}, this.defaultWmsParams);
          for (var i in options) {
            if (!(i in this.options)) {
              wmsParams[i] = options[i];
            }
          }
          options = setOptions(this, options);
          var realRetina = options.detectRetina && Browser.retina ? 2 : 1;
          var tileSize = this.getTileSize();
          wmsParams.width = tileSize.x * realRetina;
          wmsParams.height = tileSize.y * realRetina;
          this.wmsParams = wmsParams;
        },
        onAdd: function(map3) {
          this._crs = this.options.crs || map3.options.crs;
          this._wmsVersion = parseFloat(this.wmsParams.version);
          var projectionKey = this._wmsVersion >= 1.3 ? "crs" : "srs";
          this.wmsParams[projectionKey] = this._crs.code;
          TileLayer.prototype.onAdd.call(this, map3);
        },
        getTileUrl: function(coords) {
          var tileBounds = this._tileCoordsToNwSe(coords), crs = this._crs, bounds = toBounds(crs.project(tileBounds[0]), crs.project(tileBounds[1])), min = bounds.min, max = bounds.max, bbox = (this._wmsVersion >= 1.3 && this._crs === EPSG4326 ? [min.y, min.x, max.y, max.x] : [min.x, min.y, max.x, max.y]).join(","), url = TileLayer.prototype.getTileUrl.call(this, coords);
          return url + getParamString(this.wmsParams, url, this.options.uppercase) + (this.options.uppercase ? "&BBOX=" : "&bbox=") + bbox;
        },
        // @method setParams(params: Object, noRedraw?: Boolean): this
        // Merges an object with the new parameters and re-requests tiles on the current screen (unless `noRedraw` was set to true).
        setParams: function(params, noRedraw) {
          extend(this.wmsParams, params);
          if (!noRedraw) {
            this.redraw();
          }
          return this;
        }
      });
      function tileLayerWMS(url, options) {
        return new TileLayerWMS(url, options);
      }
      TileLayer.WMS = TileLayerWMS;
      tileLayer2.wms = tileLayerWMS;
      var Renderer = Layer.extend({
        // @section
        // @aka Renderer options
        options: {
          // @option padding: Number = 0.1
          // How much to extend the clip area around the map view (relative to its size)
          // e.g. 0.1 would be 10% of map view in each direction
          padding: 0.1
        },
        initialize: function(options) {
          setOptions(this, options);
          stamp(this);
          this._layers = this._layers || {};
        },
        onAdd: function() {
          if (!this._container) {
            this._initContainer();
            addClass(this._container, "leaflet-zoom-animated");
          }
          this.getPane().appendChild(this._container);
          this._update();
          this.on("update", this._updatePaths, this);
        },
        onRemove: function() {
          this.off("update", this._updatePaths, this);
          this._destroyContainer();
        },
        getEvents: function() {
          var events = {
            viewreset: this._reset,
            zoom: this._onZoom,
            moveend: this._update,
            zoomend: this._onZoomEnd
          };
          if (this._zoomAnimated) {
            events.zoomanim = this._onAnimZoom;
          }
          return events;
        },
        _onAnimZoom: function(ev) {
          this._updateTransform(ev.center, ev.zoom);
        },
        _onZoom: function() {
          this._updateTransform(this._map.getCenter(), this._map.getZoom());
        },
        _updateTransform: function(center, zoom2) {
          var scale2 = this._map.getZoomScale(zoom2, this._zoom), viewHalf = this._map.getSize().multiplyBy(0.5 + this.options.padding), currentCenterPoint = this._map.project(this._center, zoom2), topLeftOffset = viewHalf.multiplyBy(-scale2).add(currentCenterPoint).subtract(this._map._getNewPixelOrigin(center, zoom2));
          if (Browser.any3d) {
            setTransform(this._container, topLeftOffset, scale2);
          } else {
            setPosition(this._container, topLeftOffset);
          }
        },
        _reset: function() {
          this._update();
          this._updateTransform(this._center, this._zoom);
          for (var id in this._layers) {
            this._layers[id]._reset();
          }
        },
        _onZoomEnd: function() {
          for (var id in this._layers) {
            this._layers[id]._project();
          }
        },
        _updatePaths: function() {
          for (var id in this._layers) {
            this._layers[id]._update();
          }
        },
        _update: function() {
          var p = this.options.padding, size = this._map.getSize(), min = this._map.containerPointToLayerPoint(size.multiplyBy(-p)).round();
          this._bounds = new Bounds(min, min.add(size.multiplyBy(1 + p * 2)).round());
          this._center = this._map.getCenter();
          this._zoom = this._map.getZoom();
        }
      });
      var Canvas = Renderer.extend({
        // @section
        // @aka Canvas options
        options: {
          // @option tolerance: Number = 0
          // How much to extend the click tolerance around a path/object on the map.
          tolerance: 0
        },
        getEvents: function() {
          var events = Renderer.prototype.getEvents.call(this);
          events.viewprereset = this._onViewPreReset;
          return events;
        },
        _onViewPreReset: function() {
          this._postponeUpdatePaths = true;
        },
        onAdd: function() {
          Renderer.prototype.onAdd.call(this);
          this._draw();
        },
        _initContainer: function() {
          var container = this._container = document.createElement("canvas");
          on(container, "mousemove", this._onMouseMove, this);
          on(container, "click dblclick mousedown mouseup contextmenu", this._onClick, this);
          on(container, "mouseout", this._handleMouseOut, this);
          container["_leaflet_disable_events"] = true;
          this._ctx = container.getContext("2d");
        },
        _destroyContainer: function() {
          cancelAnimFrame(this._redrawRequest);
          delete this._ctx;
          remove(this._container);
          off(this._container);
          delete this._container;
        },
        _updatePaths: function() {
          if (this._postponeUpdatePaths) {
            return;
          }
          var layer;
          this._redrawBounds = null;
          for (var id in this._layers) {
            layer = this._layers[id];
            layer._update();
          }
          this._redraw();
        },
        _update: function() {
          if (this._map._animatingZoom && this._bounds) {
            return;
          }
          Renderer.prototype._update.call(this);
          var b = this._bounds, container = this._container, size = b.getSize(), m = Browser.retina ? 2 : 1;
          setPosition(container, b.min);
          container.width = m * size.x;
          container.height = m * size.y;
          container.style.width = size.x + "px";
          container.style.height = size.y + "px";
          if (Browser.retina) {
            this._ctx.scale(2, 2);
          }
          this._ctx.translate(-b.min.x, -b.min.y);
          this.fire("update");
        },
        _reset: function() {
          Renderer.prototype._reset.call(this);
          if (this._postponeUpdatePaths) {
            this._postponeUpdatePaths = false;
            this._updatePaths();
          }
        },
        _initPath: function(layer) {
          this._updateDashArray(layer);
          this._layers[stamp(layer)] = layer;
          var order = layer._order = {
            layer,
            prev: this._drawLast,
            next: null
          };
          if (this._drawLast) {
            this._drawLast.next = order;
          }
          this._drawLast = order;
          this._drawFirst = this._drawFirst || this._drawLast;
        },
        _addPath: function(layer) {
          this._requestRedraw(layer);
        },
        _removePath: function(layer) {
          var order = layer._order;
          var next = order.next;
          var prev = order.prev;
          if (next) {
            next.prev = prev;
          } else {
            this._drawLast = prev;
          }
          if (prev) {
            prev.next = next;
          } else {
            this._drawFirst = next;
          }
          delete layer._order;
          delete this._layers[stamp(layer)];
          this._requestRedraw(layer);
        },
        _updatePath: function(layer) {
          this._extendRedrawBounds(layer);
          layer._project();
          layer._update();
          this._requestRedraw(layer);
        },
        _updateStyle: function(layer) {
          this._updateDashArray(layer);
          this._requestRedraw(layer);
        },
        _updateDashArray: function(layer) {
          if (typeof layer.options.dashArray === "string") {
            var parts = layer.options.dashArray.split(/[, ]+/), dashArray = [], dashValue, i;
            for (i = 0; i < parts.length; i++) {
              dashValue = Number(parts[i]);
              if (isNaN(dashValue)) {
                return;
              }
              dashArray.push(dashValue);
            }
            layer.options._dashArray = dashArray;
          } else {
            layer.options._dashArray = layer.options.dashArray;
          }
        },
        _requestRedraw: function(layer) {
          if (!this._map) {
            return;
          }
          this._extendRedrawBounds(layer);
          this._redrawRequest = this._redrawRequest || requestAnimFrame(this._redraw, this);
        },
        _extendRedrawBounds: function(layer) {
          if (layer._pxBounds) {
            var padding = (layer.options.weight || 0) + 1;
            this._redrawBounds = this._redrawBounds || new Bounds();
            this._redrawBounds.extend(layer._pxBounds.min.subtract([padding, padding]));
            this._redrawBounds.extend(layer._pxBounds.max.add([padding, padding]));
          }
        },
        _redraw: function() {
          this._redrawRequest = null;
          if (this._redrawBounds) {
            this._redrawBounds.min._floor();
            this._redrawBounds.max._ceil();
          }
          this._clear();
          this._draw();
          this._redrawBounds = null;
        },
        _clear: function() {
          var bounds = this._redrawBounds;
          if (bounds) {
            var size = bounds.getSize();
            this._ctx.clearRect(bounds.min.x, bounds.min.y, size.x, size.y);
          } else {
            this._ctx.save();
            this._ctx.setTransform(1, 0, 0, 1, 0, 0);
            this._ctx.clearRect(0, 0, this._container.width, this._container.height);
            this._ctx.restore();
          }
        },
        _draw: function() {
          var layer, bounds = this._redrawBounds;
          this._ctx.save();
          if (bounds) {
            var size = bounds.getSize();
            this._ctx.beginPath();
            this._ctx.rect(bounds.min.x, bounds.min.y, size.x, size.y);
            this._ctx.clip();
          }
          this._drawing = true;
          for (var order = this._drawFirst; order; order = order.next) {
            layer = order.layer;
            if (!bounds || layer._pxBounds && layer._pxBounds.intersects(bounds)) {
              layer._updatePath();
            }
          }
          this._drawing = false;
          this._ctx.restore();
        },
        _updatePoly: function(layer, closed) {
          if (!this._drawing) {
            return;
          }
          var i, j, len2, p, parts = layer._parts, len = parts.length, ctx = this._ctx;
          if (!len) {
            return;
          }
          ctx.beginPath();
          for (i = 0; i < len; i++) {
            for (j = 0, len2 = parts[i].length; j < len2; j++) {
              p = parts[i][j];
              ctx[j ? "lineTo" : "moveTo"](p.x, p.y);
            }
            if (closed) {
              ctx.closePath();
            }
          }
          this._fillStroke(ctx, layer);
        },
        _updateCircle: function(layer) {
          if (!this._drawing || layer._empty()) {
            return;
          }
          var p = layer._point, ctx = this._ctx, r = Math.max(Math.round(layer._radius), 1), s = (Math.max(Math.round(layer._radiusY), 1) || r) / r;
          if (s !== 1) {
            ctx.save();
            ctx.scale(1, s);
          }
          ctx.beginPath();
          ctx.arc(p.x, p.y / s, r, 0, Math.PI * 2, false);
          if (s !== 1) {
            ctx.restore();
          }
          this._fillStroke(ctx, layer);
        },
        _fillStroke: function(ctx, layer) {
          var options = layer.options;
          if (options.fill) {
            ctx.globalAlpha = options.fillOpacity;
            ctx.fillStyle = options.fillColor || options.color;
            ctx.fill(options.fillRule || "evenodd");
          }
          if (options.stroke && options.weight !== 0) {
            if (ctx.setLineDash) {
              ctx.setLineDash(layer.options && layer.options._dashArray || []);
            }
            ctx.globalAlpha = options.opacity;
            ctx.lineWidth = options.weight;
            ctx.strokeStyle = options.color;
            ctx.lineCap = options.lineCap;
            ctx.lineJoin = options.lineJoin;
            ctx.stroke();
          }
        },
        // Canvas obviously doesn't have mouse events for individual drawn objects,
        // so we emulate that by calculating what's under the mouse on mousemove/click manually
        _onClick: function(e) {
          var point = this._map.mouseEventToLayerPoint(e), layer, clickedLayer;
          for (var order = this._drawFirst; order; order = order.next) {
            layer = order.layer;
            if (layer.options.interactive && layer._containsPoint(point)) {
              if (!(e.type === "click" || e.type === "preclick") || !this._map._draggableMoved(layer)) {
                clickedLayer = layer;
              }
            }
          }
          this._fireEvent(clickedLayer ? [clickedLayer] : false, e);
        },
        _onMouseMove: function(e) {
          if (!this._map || this._map.dragging.moving() || this._map._animatingZoom) {
            return;
          }
          var point = this._map.mouseEventToLayerPoint(e);
          this._handleMouseHover(e, point);
        },
        _handleMouseOut: function(e) {
          var layer = this._hoveredLayer;
          if (layer) {
            removeClass(this._container, "leaflet-interactive");
            this._fireEvent([layer], e, "mouseout");
            this._hoveredLayer = null;
            this._mouseHoverThrottled = false;
          }
        },
        _handleMouseHover: function(e, point) {
          if (this._mouseHoverThrottled) {
            return;
          }
          var layer, candidateHoveredLayer;
          for (var order = this._drawFirst; order; order = order.next) {
            layer = order.layer;
            if (layer.options.interactive && layer._containsPoint(point)) {
              candidateHoveredLayer = layer;
            }
          }
          if (candidateHoveredLayer !== this._hoveredLayer) {
            this._handleMouseOut(e);
            if (candidateHoveredLayer) {
              addClass(this._container, "leaflet-interactive");
              this._fireEvent([candidateHoveredLayer], e, "mouseover");
              this._hoveredLayer = candidateHoveredLayer;
            }
          }
          this._fireEvent(this._hoveredLayer ? [this._hoveredLayer] : false, e);
          this._mouseHoverThrottled = true;
          setTimeout(bind(function() {
            this._mouseHoverThrottled = false;
          }, this), 32);
        },
        _fireEvent: function(layers2, e, type) {
          this._map._fireDOMEvent(e, type || e.type, layers2);
        },
        _bringToFront: function(layer) {
          var order = layer._order;
          if (!order) {
            return;
          }
          var next = order.next;
          var prev = order.prev;
          if (next) {
            next.prev = prev;
          } else {
            return;
          }
          if (prev) {
            prev.next = next;
          } else if (next) {
            this._drawFirst = next;
          }
          order.prev = this._drawLast;
          this._drawLast.next = order;
          order.next = null;
          this._drawLast = order;
          this._requestRedraw(layer);
        },
        _bringToBack: function(layer) {
          var order = layer._order;
          if (!order) {
            return;
          }
          var next = order.next;
          var prev = order.prev;
          if (prev) {
            prev.next = next;
          } else {
            return;
          }
          if (next) {
            next.prev = prev;
          } else if (prev) {
            this._drawLast = prev;
          }
          order.prev = null;
          order.next = this._drawFirst;
          this._drawFirst.prev = order;
          this._drawFirst = order;
          this._requestRedraw(layer);
        }
      });
      function canvas(options) {
        return Browser.canvas ? new Canvas(options) : null;
      }
      var vmlCreate = function() {
        try {
          document.namespaces.add("lvml", "urn:schemas-microsoft-com:vml");
          return function(name) {
            return document.createElement("<lvml:" + name + ' class="lvml">');
          };
        } catch (e) {
        }
        return function(name) {
          return document.createElement("<" + name + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">');
        };
      }();
      var vmlMixin = {
        _initContainer: function() {
          this._container = create$1("div", "leaflet-vml-container");
        },
        _update: function() {
          if (this._map._animatingZoom) {
            return;
          }
          Renderer.prototype._update.call(this);
          this.fire("update");
        },
        _initPath: function(layer) {
          var container = layer._container = vmlCreate("shape");
          addClass(container, "leaflet-vml-shape " + (this.options.className || ""));
          container.coordsize = "1 1";
          layer._path = vmlCreate("path");
          container.appendChild(layer._path);
          this._updateStyle(layer);
          this._layers[stamp(layer)] = layer;
        },
        _addPath: function(layer) {
          var container = layer._container;
          this._container.appendChild(container);
          if (layer.options.interactive) {
            layer.addInteractiveTarget(container);
          }
        },
        _removePath: function(layer) {
          var container = layer._container;
          remove(container);
          layer.removeInteractiveTarget(container);
          delete this._layers[stamp(layer)];
        },
        _updateStyle: function(layer) {
          var stroke = layer._stroke, fill = layer._fill, options = layer.options, container = layer._container;
          container.stroked = !!options.stroke;
          container.filled = !!options.fill;
          if (options.stroke) {
            if (!stroke) {
              stroke = layer._stroke = vmlCreate("stroke");
            }
            container.appendChild(stroke);
            stroke.weight = options.weight + "px";
            stroke.color = options.color;
            stroke.opacity = options.opacity;
            if (options.dashArray) {
              stroke.dashStyle = isArray(options.dashArray) ? options.dashArray.join(" ") : options.dashArray.replace(/( *, *)/g, " ");
            } else {
              stroke.dashStyle = "";
            }
            stroke.endcap = options.lineCap.replace("butt", "flat");
            stroke.joinstyle = options.lineJoin;
          } else if (stroke) {
            container.removeChild(stroke);
            layer._stroke = null;
          }
          if (options.fill) {
            if (!fill) {
              fill = layer._fill = vmlCreate("fill");
            }
            container.appendChild(fill);
            fill.color = options.fillColor || options.color;
            fill.opacity = options.fillOpacity;
          } else if (fill) {
            container.removeChild(fill);
            layer._fill = null;
          }
        },
        _updateCircle: function(layer) {
          var p = layer._point.round(), r = Math.round(layer._radius), r2 = Math.round(layer._radiusY || r);
          this._setPath(layer, layer._empty() ? "M0 0" : "AL " + p.x + "," + p.y + " " + r + "," + r2 + " 0," + 65535 * 360);
        },
        _setPath: function(layer, path) {
          layer._path.v = path;
        },
        _bringToFront: function(layer) {
          toFront(layer._container);
        },
        _bringToBack: function(layer) {
          toBack(layer._container);
        }
      };
      var create = Browser.vml ? vmlCreate : svgCreate;
      var SVG = Renderer.extend({
        _initContainer: function() {
          this._container = create("svg");
          this._container.setAttribute("pointer-events", "none");
          this._rootGroup = create("g");
          this._container.appendChild(this._rootGroup);
        },
        _destroyContainer: function() {
          remove(this._container);
          off(this._container);
          delete this._container;
          delete this._rootGroup;
          delete this._svgSize;
        },
        _update: function() {
          if (this._map._animatingZoom && this._bounds) {
            return;
          }
          Renderer.prototype._update.call(this);
          var b = this._bounds, size = b.getSize(), container = this._container;
          if (!this._svgSize || !this._svgSize.equals(size)) {
            this._svgSize = size;
            container.setAttribute("width", size.x);
            container.setAttribute("height", size.y);
          }
          setPosition(container, b.min);
          container.setAttribute("viewBox", [b.min.x, b.min.y, size.x, size.y].join(" "));
          this.fire("update");
        },
        // methods below are called by vector layers implementations
        _initPath: function(layer) {
          var path = layer._path = create("path");
          if (layer.options.className) {
            addClass(path, layer.options.className);
          }
          if (layer.options.interactive) {
            addClass(path, "leaflet-interactive");
          }
          this._updateStyle(layer);
          this._layers[stamp(layer)] = layer;
        },
        _addPath: function(layer) {
          if (!this._rootGroup) {
            this._initContainer();
          }
          this._rootGroup.appendChild(layer._path);
          layer.addInteractiveTarget(layer._path);
        },
        _removePath: function(layer) {
          remove(layer._path);
          layer.removeInteractiveTarget(layer._path);
          delete this._layers[stamp(layer)];
        },
        _updatePath: function(layer) {
          layer._project();
          layer._update();
        },
        _updateStyle: function(layer) {
          var path = layer._path, options = layer.options;
          if (!path) {
            return;
          }
          if (options.stroke) {
            path.setAttribute("stroke", options.color);
            path.setAttribute("stroke-opacity", options.opacity);
            path.setAttribute("stroke-width", options.weight);
            path.setAttribute("stroke-linecap", options.lineCap);
            path.setAttribute("stroke-linejoin", options.lineJoin);
            if (options.dashArray) {
              path.setAttribute("stroke-dasharray", options.dashArray);
            } else {
              path.removeAttribute("stroke-dasharray");
            }
            if (options.dashOffset) {
              path.setAttribute("stroke-dashoffset", options.dashOffset);
            } else {
              path.removeAttribute("stroke-dashoffset");
            }
          } else {
            path.setAttribute("stroke", "none");
          }
          if (options.fill) {
            path.setAttribute("fill", options.fillColor || options.color);
            path.setAttribute("fill-opacity", options.fillOpacity);
            path.setAttribute("fill-rule", options.fillRule || "evenodd");
          } else {
            path.setAttribute("fill", "none");
          }
        },
        _updatePoly: function(layer, closed) {
          this._setPath(layer, pointsToPath(layer._parts, closed));
        },
        _updateCircle: function(layer) {
          var p = layer._point, r = Math.max(Math.round(layer._radius), 1), r2 = Math.max(Math.round(layer._radiusY), 1) || r, arc = "a" + r + "," + r2 + " 0 1,0 ";
          var d = layer._empty() ? "M0 0" : "M" + (p.x - r) + "," + p.y + arc + r * 2 + ",0 " + arc + -r * 2 + ",0 ";
          this._setPath(layer, d);
        },
        _setPath: function(layer, path) {
          layer._path.setAttribute("d", path);
        },
        // SVG does not have the concept of zIndex so we resort to changing the DOM order of elements
        _bringToFront: function(layer) {
          toFront(layer._path);
        },
        _bringToBack: function(layer) {
          toBack(layer._path);
        }
      });
      if (Browser.vml) {
        SVG.include(vmlMixin);
      }
      function svg(options) {
        return Browser.svg || Browser.vml ? new SVG(options) : null;
      }
      Map2.include({
        // @namespace Map; @method getRenderer(layer: Path): Renderer
        // Returns the instance of `Renderer` that should be used to render the given
        // `Path`. It will ensure that the `renderer` options of the map and paths
        // are respected, and that the renderers do exist on the map.
        getRenderer: function(layer) {
          var renderer = layer.options.renderer || this._getPaneRenderer(layer.options.pane) || this.options.renderer || this._renderer;
          if (!renderer) {
            renderer = this._renderer = this._createRenderer();
          }
          if (!this.hasLayer(renderer)) {
            this.addLayer(renderer);
          }
          return renderer;
        },
        _getPaneRenderer: function(name) {
          if (name === "overlayPane" || name === void 0) {
            return false;
          }
          var renderer = this._paneRenderers[name];
          if (renderer === void 0) {
            renderer = this._createRenderer({ pane: name });
            this._paneRenderers[name] = renderer;
          }
          return renderer;
        },
        _createRenderer: function(options) {
          return this.options.preferCanvas && canvas(options) || svg(options);
        }
      });
      var Rectangle = Polygon.extend({
        initialize: function(latLngBounds2, options) {
          Polygon.prototype.initialize.call(this, this._boundsToLatLngs(latLngBounds2), options);
        },
        // @method setBounds(latLngBounds: LatLngBounds): this
        // Redraws the rectangle with the passed bounds.
        setBounds: function(latLngBounds2) {
          return this.setLatLngs(this._boundsToLatLngs(latLngBounds2));
        },
        _boundsToLatLngs: function(latLngBounds2) {
          latLngBounds2 = toLatLngBounds(latLngBounds2);
          return [
            latLngBounds2.getSouthWest(),
            latLngBounds2.getNorthWest(),
            latLngBounds2.getNorthEast(),
            latLngBounds2.getSouthEast()
          ];
        }
      });
      function rectangle(latLngBounds2, options) {
        return new Rectangle(latLngBounds2, options);
      }
      SVG.create = create;
      SVG.pointsToPath = pointsToPath;
      GeoJSON.geometryToLayer = geometryToLayer;
      GeoJSON.coordsToLatLng = coordsToLatLng;
      GeoJSON.coordsToLatLngs = coordsToLatLngs;
      GeoJSON.latLngToCoords = latLngToCoords;
      GeoJSON.latLngsToCoords = latLngsToCoords;
      GeoJSON.getFeature = getFeature;
      GeoJSON.asFeature = asFeature;
      Map2.mergeOptions({
        // @option boxZoom: Boolean = true
        // Whether the map can be zoomed to a rectangular area specified by
        // dragging the mouse while pressing the shift key.
        boxZoom: true
      });
      var BoxZoom = Handler.extend({
        initialize: function(map3) {
          this._map = map3;
          this._container = map3._container;
          this._pane = map3._panes.overlayPane;
          this._resetStateTimeout = 0;
          map3.on("unload", this._destroy, this);
        },
        addHooks: function() {
          on(this._container, "mousedown", this._onMouseDown, this);
        },
        removeHooks: function() {
          off(this._container, "mousedown", this._onMouseDown, this);
        },
        moved: function() {
          return this._moved;
        },
        _destroy: function() {
          remove(this._pane);
          delete this._pane;
        },
        _resetState: function() {
          this._resetStateTimeout = 0;
          this._moved = false;
        },
        _clearDeferredResetState: function() {
          if (this._resetStateTimeout !== 0) {
            clearTimeout(this._resetStateTimeout);
            this._resetStateTimeout = 0;
          }
        },
        _onMouseDown: function(e) {
          if (!e.shiftKey || e.which !== 1 && e.button !== 1) {
            return false;
          }
          this._clearDeferredResetState();
          this._resetState();
          disableTextSelection();
          disableImageDrag();
          this._startPoint = this._map.mouseEventToContainerPoint(e);
          on(document, {
            contextmenu: stop,
            mousemove: this._onMouseMove,
            mouseup: this._onMouseUp,
            keydown: this._onKeyDown
          }, this);
        },
        _onMouseMove: function(e) {
          if (!this._moved) {
            this._moved = true;
            this._box = create$1("div", "leaflet-zoom-box", this._container);
            addClass(this._container, "leaflet-crosshair");
            this._map.fire("boxzoomstart");
          }
          this._point = this._map.mouseEventToContainerPoint(e);
          var bounds = new Bounds(this._point, this._startPoint), size = bounds.getSize();
          setPosition(this._box, bounds.min);
          this._box.style.width = size.x + "px";
          this._box.style.height = size.y + "px";
        },
        _finish: function() {
          if (this._moved) {
            remove(this._box);
            removeClass(this._container, "leaflet-crosshair");
          }
          enableTextSelection();
          enableImageDrag();
          off(document, {
            contextmenu: stop,
            mousemove: this._onMouseMove,
            mouseup: this._onMouseUp,
            keydown: this._onKeyDown
          }, this);
        },
        _onMouseUp: function(e) {
          if (e.which !== 1 && e.button !== 1) {
            return;
          }
          this._finish();
          if (!this._moved) {
            return;
          }
          this._clearDeferredResetState();
          this._resetStateTimeout = setTimeout(bind(this._resetState, this), 0);
          var bounds = new LatLngBounds(
            this._map.containerPointToLatLng(this._startPoint),
            this._map.containerPointToLatLng(this._point)
          );
          this._map.fitBounds(bounds).fire("boxzoomend", { boxZoomBounds: bounds });
        },
        _onKeyDown: function(e) {
          if (e.keyCode === 27) {
            this._finish();
            this._clearDeferredResetState();
            this._resetState();
          }
        }
      });
      Map2.addInitHook("addHandler", "boxZoom", BoxZoom);
      Map2.mergeOptions({
        // @option doubleClickZoom: Boolean|String = true
        // Whether the map can be zoomed in by double clicking on it and
        // zoomed out by double clicking while holding shift. If passed
        // `'center'`, double-click zoom will zoom to the center of the
        //  view regardless of where the mouse was.
        doubleClickZoom: true
      });
      var DoubleClickZoom = Handler.extend({
        addHooks: function() {
          this._map.on("dblclick", this._onDoubleClick, this);
        },
        removeHooks: function() {
          this._map.off("dblclick", this._onDoubleClick, this);
        },
        _onDoubleClick: function(e) {
          var map3 = this._map, oldZoom = map3.getZoom(), delta = map3.options.zoomDelta, zoom2 = e.originalEvent.shiftKey ? oldZoom - delta : oldZoom + delta;
          if (map3.options.doubleClickZoom === "center") {
            map3.setZoom(zoom2);
          } else {
            map3.setZoomAround(e.containerPoint, zoom2);
          }
        }
      });
      Map2.addInitHook("addHandler", "doubleClickZoom", DoubleClickZoom);
      Map2.mergeOptions({
        // @option dragging: Boolean = true
        // Whether the map is draggable with mouse/touch or not.
        dragging: true,
        // @section Panning Inertia Options
        // @option inertia: Boolean = *
        // If enabled, panning of the map will have an inertia effect where
        // the map builds momentum while dragging and continues moving in
        // the same direction for some time. Feels especially nice on touch
        // devices. Enabled by default.
        inertia: true,
        // @option inertiaDeceleration: Number = 3000
        // The rate with which the inertial movement slows down, in pixels/second².
        inertiaDeceleration: 3400,
        // px/s^2
        // @option inertiaMaxSpeed: Number = Infinity
        // Max speed of the inertial movement, in pixels/second.
        inertiaMaxSpeed: Infinity,
        // px/s
        // @option easeLinearity: Number = 0.2
        easeLinearity: 0.2,
        // TODO refactor, move to CRS
        // @option worldCopyJump: Boolean = false
        // With this option enabled, the map tracks when you pan to another "copy"
        // of the world and seamlessly jumps to the original one so that all overlays
        // like markers and vector layers are still visible.
        worldCopyJump: false,
        // @option maxBoundsViscosity: Number = 0.0
        // If `maxBounds` is set, this option will control how solid the bounds
        // are when dragging the map around. The default value of `0.0` allows the
        // user to drag outside the bounds at normal speed, higher values will
        // slow down map dragging outside bounds, and `1.0` makes the bounds fully
        // solid, preventing the user from dragging outside the bounds.
        maxBoundsViscosity: 0
      });
      var Drag = Handler.extend({
        addHooks: function() {
          if (!this._draggable) {
            var map3 = this._map;
            this._draggable = new Draggable(map3._mapPane, map3._container);
            this._draggable.on({
              dragstart: this._onDragStart,
              drag: this._onDrag,
              dragend: this._onDragEnd
            }, this);
            this._draggable.on("predrag", this._onPreDragLimit, this);
            if (map3.options.worldCopyJump) {
              this._draggable.on("predrag", this._onPreDragWrap, this);
              map3.on("zoomend", this._onZoomEnd, this);
              map3.whenReady(this._onZoomEnd, this);
            }
          }
          addClass(this._map._container, "leaflet-grab leaflet-touch-drag");
          this._draggable.enable();
          this._positions = [];
          this._times = [];
        },
        removeHooks: function() {
          removeClass(this._map._container, "leaflet-grab");
          removeClass(this._map._container, "leaflet-touch-drag");
          this._draggable.disable();
        },
        moved: function() {
          return this._draggable && this._draggable._moved;
        },
        moving: function() {
          return this._draggable && this._draggable._moving;
        },
        _onDragStart: function() {
          var map3 = this._map;
          map3._stop();
          if (this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {
            var bounds = toLatLngBounds(this._map.options.maxBounds);
            this._offsetLimit = toBounds(
              this._map.latLngToContainerPoint(bounds.getNorthWest()).multiplyBy(-1),
              this._map.latLngToContainerPoint(bounds.getSouthEast()).multiplyBy(-1).add(this._map.getSize())
            );
            this._viscosity = Math.min(1, Math.max(0, this._map.options.maxBoundsViscosity));
          } else {
            this._offsetLimit = null;
          }
          map3.fire("movestart").fire("dragstart");
          if (map3.options.inertia) {
            this._positions = [];
            this._times = [];
          }
        },
        _onDrag: function(e) {
          if (this._map.options.inertia) {
            var time = this._lastTime = +/* @__PURE__ */ new Date(), pos = this._lastPos = this._draggable._absPos || this._draggable._newPos;
            this._positions.push(pos);
            this._times.push(time);
            this._prunePositions(time);
          }
          this._map.fire("move", e).fire("drag", e);
        },
        _prunePositions: function(time) {
          while (this._positions.length > 1 && time - this._times[0] > 50) {
            this._positions.shift();
            this._times.shift();
          }
        },
        _onZoomEnd: function() {
          var pxCenter = this._map.getSize().divideBy(2), pxWorldCenter = this._map.latLngToLayerPoint([0, 0]);
          this._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;
          this._worldWidth = this._map.getPixelWorldBounds().getSize().x;
        },
        _viscousLimit: function(value, threshold) {
          return value - (value - threshold) * this._viscosity;
        },
        _onPreDragLimit: function() {
          if (!this._viscosity || !this._offsetLimit) {
            return;
          }
          var offset = this._draggable._newPos.subtract(this._draggable._startPos);
          var limit = this._offsetLimit;
          if (offset.x < limit.min.x) {
            offset.x = this._viscousLimit(offset.x, limit.min.x);
          }
          if (offset.y < limit.min.y) {
            offset.y = this._viscousLimit(offset.y, limit.min.y);
          }
          if (offset.x > limit.max.x) {
            offset.x = this._viscousLimit(offset.x, limit.max.x);
          }
          if (offset.y > limit.max.y) {
            offset.y = this._viscousLimit(offset.y, limit.max.y);
          }
          this._draggable._newPos = this._draggable._startPos.add(offset);
        },
        _onPreDragWrap: function() {
          var worldWidth = this._worldWidth, halfWidth = Math.round(worldWidth / 2), dx = this._initialWorldOffset, x = this._draggable._newPos.x, newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx, newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx, newX = Math.abs(newX1 + dx) < Math.abs(newX2 + dx) ? newX1 : newX2;
          this._draggable._absPos = this._draggable._newPos.clone();
          this._draggable._newPos.x = newX;
        },
        _onDragEnd: function(e) {
          var map3 = this._map, options = map3.options, noInertia = !options.inertia || e.noInertia || this._times.length < 2;
          map3.fire("dragend", e);
          if (noInertia) {
            map3.fire("moveend");
          } else {
            this._prunePositions(+/* @__PURE__ */ new Date());
            var direction = this._lastPos.subtract(this._positions[0]), duration = (this._lastTime - this._times[0]) / 1e3, ease = options.easeLinearity, speedVector = direction.multiplyBy(ease / duration), speed = speedVector.distanceTo([0, 0]), limitedSpeed = Math.min(options.inertiaMaxSpeed, speed), limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed), decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease), offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();
            if (!offset.x && !offset.y) {
              map3.fire("moveend");
            } else {
              offset = map3._limitOffset(offset, map3.options.maxBounds);
              requestAnimFrame(function() {
                map3.panBy(offset, {
                  duration: decelerationDuration,
                  easeLinearity: ease,
                  noMoveStart: true,
                  animate: true
                });
              });
            }
          }
        }
      });
      Map2.addInitHook("addHandler", "dragging", Drag);
      Map2.mergeOptions({
        // @option keyboard: Boolean = true
        // Makes the map focusable and allows users to navigate the map with keyboard
        // arrows and `+`/`-` keys.
        keyboard: true,
        // @option keyboardPanDelta: Number = 80
        // Amount of pixels to pan when pressing an arrow key.
        keyboardPanDelta: 80
      });
      var Keyboard = Handler.extend({
        keyCodes: {
          left: [37],
          right: [39],
          down: [40],
          up: [38],
          zoomIn: [187, 107, 61, 171],
          zoomOut: [189, 109, 54, 173]
        },
        initialize: function(map3) {
          this._map = map3;
          this._setPanDelta(map3.options.keyboardPanDelta);
          this._setZoomDelta(map3.options.zoomDelta);
        },
        addHooks: function() {
          var container = this._map._container;
          if (container.tabIndex <= 0) {
            container.tabIndex = "0";
          }
          on(container, {
            focus: this._onFocus,
            blur: this._onBlur,
            mousedown: this._onMouseDown
          }, this);
          this._map.on({
            focus: this._addHooks,
            blur: this._removeHooks
          }, this);
        },
        removeHooks: function() {
          this._removeHooks();
          off(this._map._container, {
            focus: this._onFocus,
            blur: this._onBlur,
            mousedown: this._onMouseDown
          }, this);
          this._map.off({
            focus: this._addHooks,
            blur: this._removeHooks
          }, this);
        },
        _onMouseDown: function() {
          if (this._focused) {
            return;
          }
          var body = document.body, docEl = document.documentElement, top = body.scrollTop || docEl.scrollTop, left = body.scrollLeft || docEl.scrollLeft;
          this._map._container.focus();
          window.scrollTo(left, top);
        },
        _onFocus: function() {
          this._focused = true;
          this._map.fire("focus");
        },
        _onBlur: function() {
          this._focused = false;
          this._map.fire("blur");
        },
        _setPanDelta: function(panDelta) {
          var keys = this._panKeys = {}, codes = this.keyCodes, i, len;
          for (i = 0, len = codes.left.length; i < len; i++) {
            keys[codes.left[i]] = [-1 * panDelta, 0];
          }
          for (i = 0, len = codes.right.length; i < len; i++) {
            keys[codes.right[i]] = [panDelta, 0];
          }
          for (i = 0, len = codes.down.length; i < len; i++) {
            keys[codes.down[i]] = [0, panDelta];
          }
          for (i = 0, len = codes.up.length; i < len; i++) {
            keys[codes.up[i]] = [0, -1 * panDelta];
          }
        },
        _setZoomDelta: function(zoomDelta) {
          var keys = this._zoomKeys = {}, codes = this.keyCodes, i, len;
          for (i = 0, len = codes.zoomIn.length; i < len; i++) {
            keys[codes.zoomIn[i]] = zoomDelta;
          }
          for (i = 0, len = codes.zoomOut.length; i < len; i++) {
            keys[codes.zoomOut[i]] = -zoomDelta;
          }
        },
        _addHooks: function() {
          on(document, "keydown", this._onKeyDown, this);
        },
        _removeHooks: function() {
          off(document, "keydown", this._onKeyDown, this);
        },
        _onKeyDown: function(e) {
          if (e.altKey || e.ctrlKey || e.metaKey) {
            return;
          }
          var key = e.keyCode, map3 = this._map, offset;
          if (key in this._panKeys) {
            if (!map3._panAnim || !map3._panAnim._inProgress) {
              offset = this._panKeys[key];
              if (e.shiftKey) {
                offset = toPoint(offset).multiplyBy(3);
              }
              if (map3.options.maxBounds) {
                offset = map3._limitOffset(toPoint(offset), map3.options.maxBounds);
              }
              if (map3.options.worldCopyJump) {
                var newLatLng = map3.wrapLatLng(map3.unproject(map3.project(map3.getCenter()).add(offset)));
                map3.panTo(newLatLng);
              } else {
                map3.panBy(offset);
              }
            }
          } else if (key in this._zoomKeys) {
            map3.setZoom(map3.getZoom() + (e.shiftKey ? 3 : 1) * this._zoomKeys[key]);
          } else if (key === 27 && map3._popup && map3._popup.options.closeOnEscapeKey) {
            map3.closePopup();
          } else {
            return;
          }
          stop(e);
        }
      });
      Map2.addInitHook("addHandler", "keyboard", Keyboard);
      Map2.mergeOptions({
        // @section Mouse wheel options
        // @option scrollWheelZoom: Boolean|String = true
        // Whether the map can be zoomed by using the mouse wheel. If passed `'center'`,
        // it will zoom to the center of the view regardless of where the mouse was.
        scrollWheelZoom: true,
        // @option wheelDebounceTime: Number = 40
        // Limits the rate at which a wheel can fire (in milliseconds). By default
        // user can't zoom via wheel more often than once per 40 ms.
        wheelDebounceTime: 40,
        // @option wheelPxPerZoomLevel: Number = 60
        // How many scroll pixels (as reported by [L.DomEvent.getWheelDelta](#domevent-getwheeldelta))
        // mean a change of one full zoom level. Smaller values will make wheel-zooming
        // faster (and vice versa).
        wheelPxPerZoomLevel: 60
      });
      var ScrollWheelZoom = Handler.extend({
        addHooks: function() {
          on(this._map._container, "wheel", this._onWheelScroll, this);
          this._delta = 0;
        },
        removeHooks: function() {
          off(this._map._container, "wheel", this._onWheelScroll, this);
        },
        _onWheelScroll: function(e) {
          var delta = getWheelDelta(e);
          var debounce = this._map.options.wheelDebounceTime;
          this._delta += delta;
          this._lastMousePos = this._map.mouseEventToContainerPoint(e);
          if (!this._startTime) {
            this._startTime = +/* @__PURE__ */ new Date();
          }
          var left = Math.max(debounce - (+/* @__PURE__ */ new Date() - this._startTime), 0);
          clearTimeout(this._timer);
          this._timer = setTimeout(bind(this._performZoom, this), left);
          stop(e);
        },
        _performZoom: function() {
          var map3 = this._map, zoom2 = map3.getZoom(), snap = this._map.options.zoomSnap || 0;
          map3._stop();
          var d2 = this._delta / (this._map.options.wheelPxPerZoomLevel * 4), d3 = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(d2)))) / Math.LN2, d4 = snap ? Math.ceil(d3 / snap) * snap : d3, delta = map3._limitZoom(zoom2 + (this._delta > 0 ? d4 : -d4)) - zoom2;
          this._delta = 0;
          this._startTime = null;
          if (!delta) {
            return;
          }
          if (map3.options.scrollWheelZoom === "center") {
            map3.setZoom(zoom2 + delta);
          } else {
            map3.setZoomAround(this._lastMousePos, zoom2 + delta);
          }
        }
      });
      Map2.addInitHook("addHandler", "scrollWheelZoom", ScrollWheelZoom);
      var tapHoldDelay = 600;
      Map2.mergeOptions({
        // @section Touch interaction options
        // @option tapHold: Boolean
        // Enables simulation of `contextmenu` event, default is `true` for mobile Safari.
        tapHold: Browser.touchNative && Browser.safari && Browser.mobile,
        // @option tapTolerance: Number = 15
        // The max number of pixels a user can shift his finger during touch
        // for it to be considered a valid tap.
        tapTolerance: 15
      });
      var TapHold = Handler.extend({
        addHooks: function() {
          on(this._map._container, "touchstart", this._onDown, this);
        },
        removeHooks: function() {
          off(this._map._container, "touchstart", this._onDown, this);
        },
        _onDown: function(e) {
          clearTimeout(this._holdTimeout);
          if (e.touches.length !== 1) {
            return;
          }
          var first = e.touches[0];
          this._startPos = this._newPos = new Point(first.clientX, first.clientY);
          this._holdTimeout = setTimeout(bind(function() {
            this._cancel();
            if (!this._isTapValid()) {
              return;
            }
            on(document, "touchend", preventDefault);
            on(document, "touchend touchcancel", this._cancelClickPrevent);
            this._simulateEvent("contextmenu", first);
          }, this), tapHoldDelay);
          on(document, "touchend touchcancel contextmenu", this._cancel, this);
          on(document, "touchmove", this._onMove, this);
        },
        _cancelClickPrevent: function cancelClickPrevent() {
          off(document, "touchend", preventDefault);
          off(document, "touchend touchcancel", cancelClickPrevent);
        },
        _cancel: function() {
          clearTimeout(this._holdTimeout);
          off(document, "touchend touchcancel contextmenu", this._cancel, this);
          off(document, "touchmove", this._onMove, this);
        },
        _onMove: function(e) {
          var first = e.touches[0];
          this._newPos = new Point(first.clientX, first.clientY);
        },
        _isTapValid: function() {
          return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;
        },
        _simulateEvent: function(type, e) {
          var simulatedEvent = new MouseEvent(type, {
            bubbles: true,
            cancelable: true,
            view: window,
            // detail: 1,
            screenX: e.screenX,
            screenY: e.screenY,
            clientX: e.clientX,
            clientY: e.clientY
            // button: 2,
            // buttons: 2
          });
          simulatedEvent._simulated = true;
          e.target.dispatchEvent(simulatedEvent);
        }
      });
      Map2.addInitHook("addHandler", "tapHold", TapHold);
      Map2.mergeOptions({
        // @section Touch interaction options
        // @option touchZoom: Boolean|String = *
        // Whether the map can be zoomed by touch-dragging with two fingers. If
        // passed `'center'`, it will zoom to the center of the view regardless of
        // where the touch events (fingers) were. Enabled for touch-capable web
        // browsers.
        touchZoom: Browser.touch,
        // @option bounceAtZoomLimits: Boolean = true
        // Set it to false if you don't want the map to zoom beyond min/max zoom
        // and then bounce back when pinch-zooming.
        bounceAtZoomLimits: true
      });
      var TouchZoom = Handler.extend({
        addHooks: function() {
          addClass(this._map._container, "leaflet-touch-zoom");
          on(this._map._container, "touchstart", this._onTouchStart, this);
        },
        removeHooks: function() {
          removeClass(this._map._container, "leaflet-touch-zoom");
          off(this._map._container, "touchstart", this._onTouchStart, this);
        },
        _onTouchStart: function(e) {
          var map3 = this._map;
          if (!e.touches || e.touches.length !== 2 || map3._animatingZoom || this._zooming) {
            return;
          }
          var p1 = map3.mouseEventToContainerPoint(e.touches[0]), p2 = map3.mouseEventToContainerPoint(e.touches[1]);
          this._centerPoint = map3.getSize()._divideBy(2);
          this._startLatLng = map3.containerPointToLatLng(this._centerPoint);
          if (map3.options.touchZoom !== "center") {
            this._pinchStartLatLng = map3.containerPointToLatLng(p1.add(p2)._divideBy(2));
          }
          this._startDist = p1.distanceTo(p2);
          this._startZoom = map3.getZoom();
          this._moved = false;
          this._zooming = true;
          map3._stop();
          on(document, "touchmove", this._onTouchMove, this);
          on(document, "touchend touchcancel", this._onTouchEnd, this);
          preventDefault(e);
        },
        _onTouchMove: function(e) {
          if (!e.touches || e.touches.length !== 2 || !this._zooming) {
            return;
          }
          var map3 = this._map, p1 = map3.mouseEventToContainerPoint(e.touches[0]), p2 = map3.mouseEventToContainerPoint(e.touches[1]), scale2 = p1.distanceTo(p2) / this._startDist;
          this._zoom = map3.getScaleZoom(scale2, this._startZoom);
          if (!map3.options.bounceAtZoomLimits && (this._zoom < map3.getMinZoom() && scale2 < 1 || this._zoom > map3.getMaxZoom() && scale2 > 1)) {
            this._zoom = map3._limitZoom(this._zoom);
          }
          if (map3.options.touchZoom === "center") {
            this._center = this._startLatLng;
            if (scale2 === 1) {
              return;
            }
          } else {
            var delta = p1._add(p2)._divideBy(2)._subtract(this._centerPoint);
            if (scale2 === 1 && delta.x === 0 && delta.y === 0) {
              return;
            }
            this._center = map3.unproject(map3.project(this._pinchStartLatLng, this._zoom).subtract(delta), this._zoom);
          }
          if (!this._moved) {
            map3._moveStart(true, false);
            this._moved = true;
          }
          cancelAnimFrame(this._animRequest);
          var moveFn = bind(map3._move, map3, this._center, this._zoom, { pinch: true, round: false }, void 0);
          this._animRequest = requestAnimFrame(moveFn, this, true);
          preventDefault(e);
        },
        _onTouchEnd: function() {
          if (!this._moved || !this._zooming) {
            this._zooming = false;
            return;
          }
          this._zooming = false;
          cancelAnimFrame(this._animRequest);
          off(document, "touchmove", this._onTouchMove, this);
          off(document, "touchend touchcancel", this._onTouchEnd, this);
          if (this._map.options.zoomAnimation) {
            this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), true, this._map.options.zoomSnap);
          } else {
            this._map._resetView(this._center, this._map._limitZoom(this._zoom));
          }
        }
      });
      Map2.addInitHook("addHandler", "touchZoom", TouchZoom);
      Map2.BoxZoom = BoxZoom;
      Map2.DoubleClickZoom = DoubleClickZoom;
      Map2.Drag = Drag;
      Map2.Keyboard = Keyboard;
      Map2.ScrollWheelZoom = ScrollWheelZoom;
      Map2.TapHold = TapHold;
      Map2.TouchZoom = TouchZoom;
      exports2.Bounds = Bounds;
      exports2.Browser = Browser;
      exports2.CRS = CRS;
      exports2.Canvas = Canvas;
      exports2.Circle = Circle;
      exports2.CircleMarker = CircleMarker;
      exports2.Class = Class;
      exports2.Control = Control;
      exports2.DivIcon = DivIcon;
      exports2.DivOverlay = DivOverlay;
      exports2.DomEvent = DomEvent;
      exports2.DomUtil = DomUtil;
      exports2.Draggable = Draggable;
      exports2.Evented = Evented;
      exports2.FeatureGroup = FeatureGroup2;
      exports2.GeoJSON = GeoJSON;
      exports2.GridLayer = GridLayer;
      exports2.Handler = Handler;
      exports2.Icon = Icon;
      exports2.ImageOverlay = ImageOverlay;
      exports2.LatLng = LatLng2;
      exports2.LatLngBounds = LatLngBounds;
      exports2.Layer = Layer;
      exports2.LayerGroup = LayerGroup;
      exports2.LineUtil = LineUtil;
      exports2.Map = Map2;
      exports2.Marker = Marker;
      exports2.Mixin = Mixin;
      exports2.Path = Path;
      exports2.Point = Point;
      exports2.PolyUtil = PolyUtil;
      exports2.Polygon = Polygon;
      exports2.Polyline = Polyline;
      exports2.Popup = Popup;
      exports2.PosAnimation = PosAnimation;
      exports2.Projection = index;
      exports2.Rectangle = Rectangle;
      exports2.Renderer = Renderer;
      exports2.SVG = SVG;
      exports2.SVGOverlay = SVGOverlay;
      exports2.TileLayer = TileLayer;
      exports2.Tooltip = Tooltip;
      exports2.Transformation = Transformation;
      exports2.Util = Util;
      exports2.VideoOverlay = VideoOverlay;
      exports2.bind = bind;
      exports2.bounds = toBounds;
      exports2.canvas = canvas;
      exports2.circle = circle2;
      exports2.circleMarker = circleMarker2;
      exports2.control = control;
      exports2.divIcon = divIcon2;
      exports2.extend = extend;
      exports2.featureGroup = featureGroup;
      exports2.geoJSON = geoJSON2;
      exports2.geoJson = geoJson;
      exports2.gridLayer = gridLayer;
      exports2.icon = icon;
      exports2.imageOverlay = imageOverlay;
      exports2.latLng = toLatLng;
      exports2.latLngBounds = toLatLngBounds;
      exports2.layerGroup = layerGroup;
      exports2.map = createMap;
      exports2.marker = marker2;
      exports2.point = toPoint;
      exports2.polygon = polygon;
      exports2.polyline = polyline;
      exports2.popup = popup;
      exports2.rectangle = rectangle;
      exports2.setOptions = setOptions;
      exports2.stamp = stamp;
      exports2.svg = svg;
      exports2.svgOverlay = svgOverlay;
      exports2.tileLayer = tileLayer2;
      exports2.tooltip = tooltip;
      exports2.transformation = toTransformation;
      exports2.version = version;
      exports2.videoOverlay = videoOverlay;
      var oldL = window.L;
      exports2.noConflict = function() {
        window.L = oldL;
        return this;
      };
      window.L = exports2;
    });
  }
});

// resources/js/index.js
var LF = __toESM(require_leaflet_src(), 1);

// node_modules/leaflet-fullscreen/dist/Leaflet.fullscreen.js
L.Control.Fullscreen = L.Control.extend({
  options: {
    position: "topleft",
    title: {
      "false": "View Fullscreen",
      "true": "Exit Fullscreen"
    }
  },
  onAdd: function(map3) {
    var container = L.DomUtil.create("div", "leaflet-control-fullscreen leaflet-bar leaflet-control");
    this.link = L.DomUtil.create("a", "leaflet-control-fullscreen-button leaflet-bar-part", container);
    this.link.href = "#";
    this._map = map3;
    this._map.on("fullscreenchange", this._toggleTitle, this);
    this._toggleTitle();
    L.DomEvent.on(this.link, "click", this._click, this);
    return container;
  },
  _click: function(e) {
    L.DomEvent.stopPropagation(e);
    L.DomEvent.preventDefault(e);
    this._map.toggleFullscreen(this.options);
  },
  _toggleTitle: function() {
    this.link.title = this.options.title[this._map.isFullscreen()];
  }
});
L.Map.include({
  isFullscreen: function() {
    return this._isFullscreen || false;
  },
  toggleFullscreen: function(options) {
    var container = this.getContainer();
    if (this.isFullscreen()) {
      if (options && options.pseudoFullscreen) {
        this._disablePseudoFullscreen(container);
      } else if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.mozCancelFullScreen) {
        document.mozCancelFullScreen();
      } else if (document.webkitCancelFullScreen) {
        document.webkitCancelFullScreen();
      } else if (document.msExitFullscreen) {
        document.msExitFullscreen();
      } else {
        this._disablePseudoFullscreen(container);
      }
    } else {
      if (options && options.pseudoFullscreen) {
        this._enablePseudoFullscreen(container);
      } else if (container.requestFullscreen) {
        container.requestFullscreen();
      } else if (container.mozRequestFullScreen) {
        container.mozRequestFullScreen();
      } else if (container.webkitRequestFullscreen) {
        container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
      } else if (container.msRequestFullscreen) {
        container.msRequestFullscreen();
      } else {
        this._enablePseudoFullscreen(container);
      }
    }
  },
  _enablePseudoFullscreen: function(container) {
    L.DomUtil.addClass(container, "leaflet-pseudo-fullscreen");
    this._setFullscreen(true);
    this.fire("fullscreenchange");
  },
  _disablePseudoFullscreen: function(container) {
    L.DomUtil.removeClass(container, "leaflet-pseudo-fullscreen");
    this._setFullscreen(false);
    this.fire("fullscreenchange");
  },
  _setFullscreen: function(fullscreen) {
    this._isFullscreen = fullscreen;
    var container = this.getContainer();
    if (fullscreen) {
      L.DomUtil.addClass(container, "leaflet-fullscreen-on");
    } else {
      L.DomUtil.removeClass(container, "leaflet-fullscreen-on");
    }
    this.invalidateSize();
  },
  _onFullscreenChange: function(e) {
    var fullscreenElement = document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement;
    if (fullscreenElement === this.getContainer() && !this._isFullscreen) {
      this._setFullscreen(true);
      this.fire("fullscreenchange");
    } else if (fullscreenElement !== this.getContainer() && this._isFullscreen) {
      this._setFullscreen(false);
      this.fire("fullscreenchange");
    }
  }
});
L.Map.mergeOptions({
  fullscreenControl: false
});
L.Map.addInitHook(function() {
  if (this.options.fullscreenControl) {
    this.fullscreenControl = new L.Control.Fullscreen(this.options.fullscreenControl);
    this.addControl(this.fullscreenControl);
  }
  var fullscreenchange;
  if ("onfullscreenchange" in document) {
    fullscreenchange = "fullscreenchange";
  } else if ("onmozfullscreenchange" in document) {
    fullscreenchange = "mozfullscreenchange";
  } else if ("onwebkitfullscreenchange" in document) {
    fullscreenchange = "webkitfullscreenchange";
  } else if ("onmsfullscreenchange" in document) {
    fullscreenchange = "MSFullscreenChange";
  }
  if (fullscreenchange) {
    var onFullscreenChange = L.bind(this._onFullscreenChange, this);
    this.whenReady(function() {
      L.DomEvent.on(document, fullscreenchange, onFullscreenChange);
    });
    this.on("unload", function() {
      L.DomEvent.off(document, fullscreenchange, onFullscreenChange);
    });
  }
});
L.control.fullscreen = function(options) {
  return new L.Control.Fullscreen(options);
};

// node_modules/@geoman-io/leaflet-geoman-free/dist/leaflet-geoman.js
(() => {
  var _a2, _b;
  var Wl = Object.create;
  var lr = Object.defineProperty;
  var Ql = Object.getOwnPropertyDescriptor;
  var th = Object.getOwnPropertyNames;
  var eh = Object.getPrototypeOf, ih = Object.prototype.hasOwnProperty;
  var S = (t, e) => () => (e || t((e = { exports: {} }).exports, e), e.exports);
  var rh = (t, e, i, r) => {
    if (e && typeof e == "object" || typeof e == "function")
      for (let n of th(e))
        !ih.call(t, n) && n !== i && lr(t, n, { get: () => e[n], enumerable: !(r = Ql(e, n)) || r.enumerable });
    return t;
  };
  var xt = (t, e, i) => (i = t != null ? Wl(eh(t)) : {}, rh(e || !t || !t.__esModule ? lr(i, "default", { value: t, enumerable: true }) : i, t));
  var cr = S((w_, ur) => {
    function sh() {
      this.__data__ = [], this.size = 0;
    }
    ur.exports = sh;
  });
  var he = S((C_, pr) => {
    function ah(t, e) {
      return t === e || t !== t && e !== e;
    }
    pr.exports = ah;
  });
  var ue = S((E_, fr) => {
    var oh = he();
    function lh(t, e) {
      for (var i = t.length; i--; )
        if (oh(t[i][0], e))
          return i;
      return -1;
    }
    fr.exports = lh;
  });
  var gr = S((P_, dr) => {
    var hh = ue(), uh = Array.prototype, ch = uh.splice;
    function ph(t) {
      var e = this.__data__, i = hh(e, t);
      if (i < 0)
        return false;
      var r = e.length - 1;
      return i == r ? e.pop() : ch.call(e, i, 1), --this.size, true;
    }
    dr.exports = ph;
  });
  var _r = S((S_, mr) => {
    var fh = ue();
    function dh(t) {
      var e = this.__data__, i = fh(e, t);
      return i < 0 ? void 0 : e[i][1];
    }
    mr.exports = dh;
  });
  var Lr = S((B_, yr) => {
    var gh = ue();
    function mh(t) {
      return gh(this.__data__, t) > -1;
    }
    yr.exports = mh;
  });
  var vr = S((T_, br) => {
    var _h = ue();
    function yh(t, e) {
      var i = this.__data__, r = _h(i, t);
      return r < 0 ? (++this.size, i.push([t, e])) : i[r][1] = e, this;
    }
    br.exports = yh;
  });
  var ce = S((R_, kr) => {
    var Lh = cr(), bh = gr(), vh = _r(), kh = Lr(), Mh = vr();
    function Kt(t) {
      var e = -1, i = t == null ? 0 : t.length;
      for (this.clear(); ++e < i; ) {
        var r = t[e];
        this.set(r[0], r[1]);
      }
    }
    Kt.prototype.clear = Lh;
    Kt.prototype.delete = bh;
    Kt.prototype.get = vh;
    Kt.prototype.has = kh;
    Kt.prototype.set = Mh;
    kr.exports = Kt;
  });
  var xr = S((D_, Mr) => {
    var xh = ce();
    function wh() {
      this.__data__ = new xh(), this.size = 0;
    }
    Mr.exports = wh;
  });
  var Cr = S((O_, wr) => {
    function Ch(t) {
      var e = this.__data__, i = e.delete(t);
      return this.size = e.size, i;
    }
    wr.exports = Ch;
  });
  var Pr = S((A_, Er) => {
    function Eh(t) {
      return this.__data__.get(t);
    }
    Er.exports = Eh;
  });
  var Br = S((I_, Sr) => {
    function Ph(t) {
      return this.__data__.has(t);
    }
    Sr.exports = Ph;
  });
  var oi = S((G_, Tr) => {
    var Sh = typeof global == "object" && global && global.Object === Object && global;
    Tr.exports = Sh;
  });
  var Gt = S((q_, Rr) => {
    var Bh = oi(), Th = typeof self == "object" && self && self.Object === Object && self, Rh = Bh || Th || Function("return this")();
    Rr.exports = Rh;
  });
  var Oe = S((N_, Dr) => {
    var Dh = Gt(), Oh = Dh.Symbol;
    Dr.exports = Oh;
  });
  var Gr = S((z_, Ir) => {
    var Or = Oe(), Ar = Object.prototype, Ah = Ar.hasOwnProperty, Ih = Ar.toString, pe = Or ? Or.toStringTag : void 0;
    function Gh(t) {
      var e = Ah.call(t, pe), i = t[pe];
      try {
        t[pe] = void 0;
        var r = true;
      } catch {
      }
      var n = Ih.call(t);
      return r && (e ? t[pe] = i : delete t[pe]), n;
    }
    Ir.exports = Gh;
  });
  var Nr = S((F_, qr) => {
    var qh = Object.prototype, Nh = qh.toString;
    function zh(t) {
      return Nh.call(t);
    }
    qr.exports = zh;
  });
  var Ht = S((V_, Vr) => {
    var zr = Oe(), Fh = Gr(), Vh = Nr(), Uh = "[object Null]", jh = "[object Undefined]", Fr = zr ? zr.toStringTag : void 0;
    function Kh(t) {
      return t == null ? t === void 0 ? jh : Uh : Fr && Fr in Object(t) ? Fh(t) : Vh(t);
    }
    Vr.exports = Kh;
  });
  var Bt = S((U_, Ur) => {
    function Hh(t) {
      var e = typeof t;
      return t != null && (e == "object" || e == "function");
    }
    Ur.exports = Hh;
  });
  var Ae = S((j_, jr) => {
    var Xh = Ht(), Yh = Bt(), Jh = "[object AsyncFunction]", $h = "[object Function]", Zh = "[object GeneratorFunction]", Wh = "[object Proxy]";
    function Qh(t) {
      if (!Yh(t))
        return false;
      var e = Xh(t);
      return e == $h || e == Zh || e == Jh || e == Wh;
    }
    jr.exports = Qh;
  });
  var Hr = S((K_, Kr) => {
    var tu = Gt(), eu = tu["__core-js_shared__"];
    Kr.exports = eu;
  });
  var Jr = S((H_, Yr) => {
    var li = Hr(), Xr = function() {
      var t = /[^.]+$/.exec(li && li.keys && li.keys.IE_PROTO || "");
      return t ? "Symbol(src)_1." + t : "";
    }();
    function iu(t) {
      return !!Xr && Xr in t;
    }
    Yr.exports = iu;
  });
  var Zr = S((X_, $r) => {
    var ru = Function.prototype, nu = ru.toString;
    function su(t) {
      if (t != null) {
        try {
          return nu.call(t);
        } catch {
        }
        try {
          return t + "";
        } catch {
        }
      }
      return "";
    }
    $r.exports = su;
  });
  var Qr = S((Y_, Wr) => {
    var au = Ae(), ou = Jr(), lu = Bt(), hu = Zr(), uu = /[\\^$.*+?()[\]{}|]/g, cu = /^\[object .+?Constructor\]$/, pu = Function.prototype, fu = Object.prototype, du = pu.toString, gu = fu.hasOwnProperty, mu = RegExp("^" + du.call(gu).replace(uu, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
    function _u(t) {
      if (!lu(t) || ou(t))
        return false;
      var e = au(t) ? mu : cu;
      return e.test(hu(t));
    }
    Wr.exports = _u;
  });
  var en = S((J_, tn) => {
    function yu(t, e) {
      return t?.[e];
    }
    tn.exports = yu;
  });
  var Ie = S(($_, rn) => {
    var Lu = Qr(), bu = en();
    function vu(t, e) {
      var i = bu(t, e);
      return Lu(i) ? i : void 0;
    }
    rn.exports = vu;
  });
  var hi = S((Z_, nn) => {
    var ku = Ie(), Mu = Gt(), xu = ku(Mu, "Map");
    nn.exports = xu;
  });
  var fe = S((W_, sn) => {
    var wu = Ie(), Cu = wu(Object, "create");
    sn.exports = Cu;
  });
  var ln = S((Q_, on) => {
    var an = fe();
    function Eu() {
      this.__data__ = an ? an(null) : {}, this.size = 0;
    }
    on.exports = Eu;
  });
  var un = S((ty, hn) => {
    function Pu(t) {
      var e = this.has(t) && delete this.__data__[t];
      return this.size -= e ? 1 : 0, e;
    }
    hn.exports = Pu;
  });
  var pn = S((ey, cn) => {
    var Su = fe(), Bu = "__lodash_hash_undefined__", Tu = Object.prototype, Ru = Tu.hasOwnProperty;
    function Du(t) {
      var e = this.__data__;
      if (Su) {
        var i = e[t];
        return i === Bu ? void 0 : i;
      }
      return Ru.call(e, t) ? e[t] : void 0;
    }
    cn.exports = Du;
  });
  var dn = S((iy, fn) => {
    var Ou = fe(), Au = Object.prototype, Iu = Au.hasOwnProperty;
    function Gu(t) {
      var e = this.__data__;
      return Ou ? e[t] !== void 0 : Iu.call(e, t);
    }
    fn.exports = Gu;
  });
  var mn = S((ry, gn) => {
    var qu = fe(), Nu = "__lodash_hash_undefined__";
    function zu(t, e) {
      var i = this.__data__;
      return this.size += this.has(t) ? 0 : 1, i[t] = qu && e === void 0 ? Nu : e, this;
    }
    gn.exports = zu;
  });
  var yn = S((ny, _n) => {
    var Fu = ln(), Vu = un(), Uu = pn(), ju = dn(), Ku = mn();
    function Xt(t) {
      var e = -1, i = t == null ? 0 : t.length;
      for (this.clear(); ++e < i; ) {
        var r = t[e];
        this.set(r[0], r[1]);
      }
    }
    Xt.prototype.clear = Fu;
    Xt.prototype.delete = Vu;
    Xt.prototype.get = Uu;
    Xt.prototype.has = ju;
    Xt.prototype.set = Ku;
    _n.exports = Xt;
  });
  var vn = S((sy, bn) => {
    var Ln = yn(), Hu = ce(), Xu = hi();
    function Yu() {
      this.size = 0, this.__data__ = { hash: new Ln(), map: new (Xu || Hu)(), string: new Ln() };
    }
    bn.exports = Yu;
  });
  var Mn = S((ay, kn) => {
    function Ju(t) {
      var e = typeof t;
      return e == "string" || e == "number" || e == "symbol" || e == "boolean" ? t !== "__proto__" : t === null;
    }
    kn.exports = Ju;
  });
  var de = S((oy, xn) => {
    var $u = Mn();
    function Zu(t, e) {
      var i = t.__data__;
      return $u(e) ? i[typeof e == "string" ? "string" : "hash"] : i.map;
    }
    xn.exports = Zu;
  });
  var Cn = S((ly, wn) => {
    var Wu = de();
    function Qu(t) {
      var e = Wu(this, t).delete(t);
      return this.size -= e ? 1 : 0, e;
    }
    wn.exports = Qu;
  });
  var Pn = S((hy, En) => {
    var tc = de();
    function ec(t) {
      return tc(this, t).get(t);
    }
    En.exports = ec;
  });
  var Bn = S((uy, Sn) => {
    var ic = de();
    function rc(t) {
      return ic(this, t).has(t);
    }
    Sn.exports = rc;
  });
  var Rn = S((cy, Tn) => {
    var nc = de();
    function sc(t, e) {
      var i = nc(this, t), r = i.size;
      return i.set(t, e), this.size += i.size == r ? 0 : 1, this;
    }
    Tn.exports = sc;
  });
  var ui = S((py, Dn) => {
    var ac = vn(), oc = Cn(), lc = Pn(), hc = Bn(), uc = Rn();
    function Yt(t) {
      var e = -1, i = t == null ? 0 : t.length;
      for (this.clear(); ++e < i; ) {
        var r = t[e];
        this.set(r[0], r[1]);
      }
    }
    Yt.prototype.clear = ac;
    Yt.prototype.delete = oc;
    Yt.prototype.get = lc;
    Yt.prototype.has = hc;
    Yt.prototype.set = uc;
    Dn.exports = Yt;
  });
  var An = S((fy, On) => {
    var cc = ce(), pc = hi(), fc = ui(), dc = 200;
    function gc(t, e) {
      var i = this.__data__;
      if (i instanceof cc) {
        var r = i.__data__;
        if (!pc || r.length < dc - 1)
          return r.push([t, e]), this.size = ++i.size, this;
        i = this.__data__ = new fc(r);
      }
      return i.set(t, e), this.size = i.size, this;
    }
    On.exports = gc;
  });
  var Gn = S((dy, In) => {
    var mc = ce(), _c = xr(), yc = Cr(), Lc = Pr(), bc = Br(), vc = An();
    function Jt(t) {
      var e = this.__data__ = new mc(t);
      this.size = e.size;
    }
    Jt.prototype.clear = _c;
    Jt.prototype.delete = yc;
    Jt.prototype.get = Lc;
    Jt.prototype.has = bc;
    Jt.prototype.set = vc;
    In.exports = Jt;
  });
  var ci = S((gy, qn) => {
    var kc = Ie(), Mc = function() {
      try {
        var t = kc(Object, "defineProperty");
        return t({}, "", {}), t;
      } catch {
      }
    }();
    qn.exports = Mc;
  });
  var Ge = S((my, zn) => {
    var Nn = ci();
    function xc(t, e, i) {
      e == "__proto__" && Nn ? Nn(t, e, { configurable: true, enumerable: true, value: i, writable: true }) : t[e] = i;
    }
    zn.exports = xc;
  });
  var pi = S((_y, Fn) => {
    var wc = Ge(), Cc = he();
    function Ec(t, e, i) {
      (i !== void 0 && !Cc(t[e], i) || i === void 0 && !(e in t)) && wc(t, e, i);
    }
    Fn.exports = Ec;
  });
  var Un = S((yy, Vn) => {
    function Pc(t) {
      return function(e, i, r) {
        for (var n = -1, s = Object(e), a = r(e), o = a.length; o--; ) {
          var l = a[t ? o : ++n];
          if (i(s[l], l, s) === false)
            break;
        }
        return e;
      };
    }
    Vn.exports = Pc;
  });
  var Kn = S((Ly, jn) => {
    var Sc = Un(), Bc = Sc();
    jn.exports = Bc;
  });
  var $n = S((ge, $t) => {
    var Tc = Gt(), Jn = typeof ge == "object" && ge && !ge.nodeType && ge, Hn = Jn && typeof $t == "object" && $t && !$t.nodeType && $t, Rc = Hn && Hn.exports === Jn, Xn = Rc ? Tc.Buffer : void 0, Yn = Xn ? Xn.allocUnsafe : void 0;
    function Dc(t, e) {
      if (e)
        return t.slice();
      var i = t.length, r = Yn ? Yn(i) : new t.constructor(i);
      return t.copy(r), r;
    }
    $t.exports = Dc;
  });
  var Wn = S((by, Zn) => {
    var Oc = Gt(), Ac = Oc.Uint8Array;
    Zn.exports = Ac;
  });
  var es = S((vy, ts) => {
    var Qn = Wn();
    function Ic(t) {
      var e = new t.constructor(t.byteLength);
      return new Qn(e).set(new Qn(t)), e;
    }
    ts.exports = Ic;
  });
  var rs = S((ky, is) => {
    var Gc = es();
    function qc(t, e) {
      var i = e ? Gc(t.buffer) : t.buffer;
      return new t.constructor(i, t.byteOffset, t.length);
    }
    is.exports = qc;
  });
  var ss = S((My, ns) => {
    function Nc(t, e) {
      var i = -1, r = t.length;
      for (e || (e = Array(r)); ++i < r; )
        e[i] = t[i];
      return e;
    }
    ns.exports = Nc;
  });
  var ls = S((xy, os) => {
    var zc = Bt(), as = Object.create, Fc = /* @__PURE__ */ function() {
      function t() {
      }
      return function(e) {
        if (!zc(e))
          return {};
        if (as)
          return as(e);
        t.prototype = e;
        var i = new t();
        return t.prototype = void 0, i;
      };
    }();
    os.exports = Fc;
  });
  var us = S((wy, hs) => {
    function Vc(t, e) {
      return function(i) {
        return t(e(i));
      };
    }
    hs.exports = Vc;
  });
  var fi = S((Cy, cs) => {
    var Uc = us(), jc = Uc(Object.getPrototypeOf, Object);
    cs.exports = jc;
  });
  var di = S((Ey, ps) => {
    var Kc = Object.prototype;
    function Hc(t) {
      var e = t && t.constructor, i = typeof e == "function" && e.prototype || Kc;
      return t === i;
    }
    ps.exports = Hc;
  });
  var ds = S((Py, fs) => {
    var Xc = ls(), Yc = fi(), Jc = di();
    function $c(t) {
      return typeof t.constructor == "function" && !Jc(t) ? Xc(Yc(t)) : {};
    }
    fs.exports = $c;
  });
  var qt = S((Sy, gs) => {
    function Zc(t) {
      return t != null && typeof t == "object";
    }
    gs.exports = Zc;
  });
  var _s = S((By, ms) => {
    var Wc = Ht(), Qc = qt(), tp = "[object Arguments]";
    function ep(t) {
      return Qc(t) && Wc(t) == tp;
    }
    ms.exports = ep;
  });
  var gi = S((Ty, bs) => {
    var ys = _s(), ip = qt(), Ls = Object.prototype, rp = Ls.hasOwnProperty, np = Ls.propertyIsEnumerable, sp = ys(/* @__PURE__ */ function() {
      return arguments;
    }()) ? ys : function(t) {
      return ip(t) && rp.call(t, "callee") && !np.call(t, "callee");
    };
    bs.exports = sp;
  });
  var Zt = S((Ry, vs) => {
    var ap = Array.isArray;
    vs.exports = ap;
  });
  var mi = S((Dy, ks) => {
    var op = 9007199254740991;
    function lp(t) {
      return typeof t == "number" && t > -1 && t % 1 == 0 && t <= op;
    }
    ks.exports = lp;
  });
  var qe = S((Oy, Ms) => {
    var hp = Ae(), up = mi();
    function cp(t) {
      return t != null && up(t.length) && !hp(t);
    }
    Ms.exports = cp;
  });
  var ws = S((Ay, xs) => {
    var pp = qe(), fp = qt();
    function dp(t) {
      return fp(t) && pp(t);
    }
    xs.exports = dp;
  });
  var Es = S((Iy, Cs) => {
    function gp() {
      return false;
    }
    Cs.exports = gp;
  });
  var _i = S((me, Wt) => {
    var mp = Gt(), _p = Es(), Bs = typeof me == "object" && me && !me.nodeType && me, Ps = Bs && typeof Wt == "object" && Wt && !Wt.nodeType && Wt, yp = Ps && Ps.exports === Bs, Ss = yp ? mp.Buffer : void 0, Lp = Ss ? Ss.isBuffer : void 0, bp = Lp || _p;
    Wt.exports = bp;
  });
  var Ds = S((Gy, Rs) => {
    var vp = Ht(), kp = fi(), Mp = qt(), xp = "[object Object]", wp = Function.prototype, Cp = Object.prototype, Ts = wp.toString, Ep = Cp.hasOwnProperty, Pp = Ts.call(Object);
    function Sp(t) {
      if (!Mp(t) || vp(t) != xp)
        return false;
      var e = kp(t);
      if (e === null)
        return true;
      var i = Ep.call(e, "constructor") && e.constructor;
      return typeof i == "function" && i instanceof i && Ts.call(i) == Pp;
    }
    Rs.exports = Sp;
  });
  var As = S((qy, Os) => {
    var Bp = Ht(), Tp = mi(), Rp = qt(), Dp = "[object Arguments]", Op = "[object Array]", Ap = "[object Boolean]", Ip = "[object Date]", Gp = "[object Error]", qp = "[object Function]", Np = "[object Map]", zp = "[object Number]", Fp = "[object Object]", Vp = "[object RegExp]", Up = "[object Set]", jp = "[object String]", Kp = "[object WeakMap]", Hp = "[object ArrayBuffer]", Xp = "[object DataView]", Yp = "[object Float32Array]", Jp = "[object Float64Array]", $p = "[object Int8Array]", Zp = "[object Int16Array]", Wp = "[object Int32Array]", Qp = "[object Uint8Array]", tf = "[object Uint8ClampedArray]", ef = "[object Uint16Array]", rf = "[object Uint32Array]", Y = {};
    Y[Yp] = Y[Jp] = Y[$p] = Y[Zp] = Y[Wp] = Y[Qp] = Y[tf] = Y[ef] = Y[rf] = true;
    Y[Dp] = Y[Op] = Y[Hp] = Y[Ap] = Y[Xp] = Y[Ip] = Y[Gp] = Y[qp] = Y[Np] = Y[zp] = Y[Fp] = Y[Vp] = Y[Up] = Y[jp] = Y[Kp] = false;
    function nf(t) {
      return Rp(t) && Tp(t.length) && !!Y[Bp(t)];
    }
    Os.exports = nf;
  });
  var Gs = S((Ny, Is) => {
    function sf(t) {
      return function(e) {
        return t(e);
      };
    }
    Is.exports = sf;
  });
  var Ns = S((_e, Qt) => {
    var af = oi(), qs = typeof _e == "object" && _e && !_e.nodeType && _e, ye = qs && typeof Qt == "object" && Qt && !Qt.nodeType && Qt, of = ye && ye.exports === qs, yi = of && af.process, lf = function() {
      try {
        var t = ye && ye.require && ye.require("util").types;
        return t || yi && yi.binding && yi.binding("util");
      } catch {
      }
    }();
    Qt.exports = lf;
  });
  var Li = S((zy, Vs) => {
    var hf = As(), uf = Gs(), zs = Ns(), Fs = zs && zs.isTypedArray, cf = Fs ? uf(Fs) : hf;
    Vs.exports = cf;
  });
  var bi = S((Fy, Us) => {
    function pf(t, e) {
      if (!(e === "constructor" && typeof t[e] == "function") && e != "__proto__")
        return t[e];
    }
    Us.exports = pf;
  });
  var Ks = S((Vy, js) => {
    var ff = Ge(), df = he(), gf = Object.prototype, mf = gf.hasOwnProperty;
    function _f(t, e, i) {
      var r = t[e];
      (!(mf.call(t, e) && df(r, i)) || i === void 0 && !(e in t)) && ff(t, e, i);
    }
    js.exports = _f;
  });
  var Xs = S((Uy, Hs) => {
    var yf = Ks(), Lf = Ge();
    function bf(t, e, i, r) {
      var n = !i;
      i || (i = {});
      for (var s = -1, a = e.length; ++s < a; ) {
        var o = e[s], l = r ? r(i[o], t[o], o, i, t) : void 0;
        l === void 0 && (l = t[o]), n ? Lf(i, o, l) : yf(i, o, l);
      }
      return i;
    }
    Hs.exports = bf;
  });
  var Js = S((jy, Ys) => {
    function vf(t, e) {
      for (var i = -1, r = Array(t); ++i < t; )
        r[i] = e(i);
      return r;
    }
    Ys.exports = vf;
  });
  var vi = S((Ky, $s) => {
    var kf = 9007199254740991, Mf = /^(?:0|[1-9]\d*)$/;
    function xf(t, e) {
      var i = typeof t;
      return e = e ?? kf, !!e && (i == "number" || i != "symbol" && Mf.test(t)) && t > -1 && t % 1 == 0 && t < e;
    }
    $s.exports = xf;
  });
  var Ws = S((Hy, Zs) => {
    var wf = Js(), Cf = gi(), Ef = Zt(), Pf = _i(), Sf = vi(), Bf = Li(), Tf = Object.prototype, Rf = Tf.hasOwnProperty;
    function Df(t, e) {
      var i = Ef(t), r = !i && Cf(t), n = !i && !r && Pf(t), s = !i && !r && !n && Bf(t), a = i || r || n || s, o = a ? wf(t.length, String) : [], l = o.length;
      for (var u in t)
        (e || Rf.call(t, u)) && !(a && (u == "length" || n && (u == "offset" || u == "parent") || s && (u == "buffer" || u == "byteLength" || u == "byteOffset") || Sf(u, l))) && o.push(u);
      return o;
    }
    Zs.exports = Df;
  });
  var ta = S((Xy, Qs) => {
    function Of(t) {
      var e = [];
      if (t != null)
        for (var i in Object(t))
          e.push(i);
      return e;
    }
    Qs.exports = Of;
  });
  var ia = S((Yy, ea) => {
    var Af = Bt(), If = di(), Gf = ta(), qf = Object.prototype, Nf = qf.hasOwnProperty;
    function zf(t) {
      if (!Af(t))
        return Gf(t);
      var e = If(t), i = [];
      for (var r in t)
        r == "constructor" && (e || !Nf.call(t, r)) || i.push(r);
      return i;
    }
    ea.exports = zf;
  });
  var ki = S((Jy, ra) => {
    var Ff = Ws(), Vf = ia(), Uf = qe();
    function jf(t) {
      return Uf(t) ? Ff(t, true) : Vf(t);
    }
    ra.exports = jf;
  });
  var sa = S(($y, na) => {
    var Kf = Xs(), Hf = ki();
    function Xf(t) {
      return Kf(t, Hf(t));
    }
    na.exports = Xf;
  });
  var ca = S((Zy, ua) => {
    var aa = pi(), Yf = $n(), Jf = rs(), $f = ss(), Zf = ds(), oa = gi(), la = Zt(), Wf = ws(), Qf = _i(), td = Ae(), ed = Bt(), id = Ds(), rd = Li(), ha = bi(), nd = sa();
    function sd(t, e, i, r, n, s, a) {
      var o = ha(t, i), l = ha(e, i), u = a.get(l);
      if (u) {
        aa(t, i, u);
        return;
      }
      var f = s ? s(o, l, i + "", t, e, a) : void 0, d = f === void 0;
      if (d) {
        var P = la(l), E = !P && Qf(l), T = !P && !E && rd(l);
        f = l, P || E || T ? la(o) ? f = o : Wf(o) ? f = $f(o) : E ? (d = false, f = Yf(l, true)) : T ? (d = false, f = Jf(l, true)) : f = [] : id(l) || oa(l) ? (f = o, oa(o) ? f = nd(o) : (!ed(o) || td(o)) && (f = Zf(l))) : d = false;
      }
      d && (a.set(l, f), n(f, l, r, s, a), a.delete(l)), aa(t, i, f);
    }
    ua.exports = sd;
  });
  var da = S((Wy, fa) => {
    var ad = Gn(), od = pi(), ld = Kn(), hd = ca(), ud = Bt(), cd = ki(), pd = bi();
    function pa(t, e, i, r, n) {
      t !== e && ld(e, function(s, a) {
        if (n || (n = new ad()), ud(s))
          hd(t, e, a, i, pa, r, n);
        else {
          var o = r ? r(pd(t, a), s, a + "", t, e, n) : void 0;
          o === void 0 && (o = s), od(t, a, o);
        }
      }, cd);
    }
    fa.exports = pa;
  });
  var Mi = S((Qy, ga) => {
    function fd(t) {
      return t;
    }
    ga.exports = fd;
  });
  var _a = S((tL, ma) => {
    function dd(t, e, i) {
      switch (i.length) {
        case 0:
          return t.call(e);
        case 1:
          return t.call(e, i[0]);
        case 2:
          return t.call(e, i[0], i[1]);
        case 3:
          return t.call(e, i[0], i[1], i[2]);
      }
      return t.apply(e, i);
    }
    ma.exports = dd;
  });
  var ba = S((eL, La) => {
    var gd = _a(), ya = Math.max;
    function md(t, e, i) {
      return e = ya(e === void 0 ? t.length - 1 : e, 0), function() {
        for (var r = arguments, n = -1, s = ya(r.length - e, 0), a = Array(s); ++n < s; )
          a[n] = r[e + n];
        n = -1;
        for (var o = Array(e + 1); ++n < e; )
          o[n] = r[n];
        return o[e] = i(a), gd(t, this, o);
      };
    }
    La.exports = md;
  });
  var ka = S((iL, va) => {
    function _d(t) {
      return function() {
        return t;
      };
    }
    va.exports = _d;
  });
  var wa = S((rL, xa) => {
    var yd = ka(), Ma = ci(), Ld = Mi(), bd = Ma ? function(t, e) {
      return Ma(t, "toString", { configurable: true, enumerable: false, value: yd(e), writable: true });
    } : Ld;
    xa.exports = bd;
  });
  var Ea = S((nL, Ca) => {
    var vd = 800, kd = 16, Md = Date.now;
    function xd(t) {
      var e = 0, i = 0;
      return function() {
        var r = Md(), n = kd - (r - i);
        if (i = r, n > 0) {
          if (++e >= vd)
            return arguments[0];
        } else
          e = 0;
        return t.apply(void 0, arguments);
      };
    }
    Ca.exports = xd;
  });
  var Sa = S((sL, Pa) => {
    var wd = wa(), Cd = Ea(), Ed = Cd(wd);
    Pa.exports = Ed;
  });
  var Ta = S((aL, Ba) => {
    var Pd = Mi(), Sd = ba(), Bd = Sa();
    function Td(t, e) {
      return Bd(Sd(t, e, Pd), t + "");
    }
    Ba.exports = Td;
  });
  var Da = S((oL, Ra) => {
    var Rd = he(), Dd = qe(), Od = vi(), Ad = Bt();
    function Id(t, e, i) {
      if (!Ad(i))
        return false;
      var r = typeof e;
      return (r == "number" ? Dd(i) && Od(e, i.length) : r == "string" && e in i) ? Rd(i[e], t) : false;
    }
    Ra.exports = Id;
  });
  var Aa = S((lL, Oa) => {
    var Gd = Ta(), qd = Da();
    function Nd(t) {
      return Gd(function(e, i) {
        var r = -1, n = i.length, s = n > 1 ? i[n - 1] : void 0, a = n > 2 ? i[2] : void 0;
        for (s = t.length > 3 && typeof s == "function" ? (n--, s) : void 0, a && qd(i[0], i[1], a) && (s = n < 3 ? void 0 : s, n = 1), e = Object(e); ++r < n; ) {
          var o = i[r];
          o && t(e, o, r, s);
        }
        return e;
      });
    }
    Oa.exports = Nd;
  });
  var Ne = S((hL, Ia) => {
    var zd = da(), Fd = Aa(), Vd = Fd(function(t, e, i) {
      zd(t, e, i);
    });
    Ia.exports = Vd;
  });
  var ze = S((_b2, _o) => {
    var kg = Ht(), Mg = qt(), xg = "[object Symbol]";
    function wg(t) {
      return typeof t == "symbol" || Mg(t) && kg(t) == xg;
    }
    _o.exports = wg;
  });
  var Lo = S((yb, yo) => {
    var Cg = Zt(), Eg = ze(), Pg = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Sg = /^\w*$/;
    function Bg(t, e) {
      if (Cg(t))
        return false;
      var i = typeof t;
      return i == "number" || i == "symbol" || i == "boolean" || t == null || Eg(t) ? true : Sg.test(t) || !Pg.test(t) || e != null && t in Object(e);
    }
    yo.exports = Bg;
  });
  var ko = S((Lb, vo) => {
    var bo = ui(), Tg = "Expected a function";
    function xi(t, e) {
      if (typeof t != "function" || e != null && typeof e != "function")
        throw new TypeError(Tg);
      var i = function() {
        var r = arguments, n = e ? e.apply(this, r) : r[0], s = i.cache;
        if (s.has(n))
          return s.get(n);
        var a = t.apply(this, r);
        return i.cache = s.set(n, a) || s, a;
      };
      return i.cache = new (xi.Cache || bo)(), i;
    }
    xi.Cache = bo;
    vo.exports = xi;
  });
  var xo = S((bb, Mo) => {
    var Rg = ko(), Dg = 500;
    function Og(t) {
      var e = Rg(t, function(r) {
        return i.size === Dg && i.clear(), r;
      }), i = e.cache;
      return e;
    }
    Mo.exports = Og;
  });
  var Co = S((vb, wo) => {
    var Ag = xo(), Ig = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, Gg = /\\(\\)?/g, qg = Ag(function(t) {
      var e = [];
      return t.charCodeAt(0) === 46 && e.push(""), t.replace(Ig, function(i, r, n, s) {
        e.push(n ? s.replace(Gg, "$1") : r || i);
      }), e;
    });
    wo.exports = qg;
  });
  var Po = S((kb, Eo) => {
    function Ng(t, e) {
      for (var i = -1, r = t == null ? 0 : t.length, n = Array(r); ++i < r; )
        n[i] = e(t[i], i, t);
      return n;
    }
    Eo.exports = Ng;
  });
  var Oo = S((Mb, Do) => {
    var So = Oe(), zg = Po(), Fg = Zt(), Vg = ze(), Ug = 1 / 0, Bo = So ? So.prototype : void 0, To = Bo ? Bo.toString : void 0;
    function Ro(t) {
      if (typeof t == "string")
        return t;
      if (Fg(t))
        return zg(t, Ro) + "";
      if (Vg(t))
        return To ? To.call(t) : "";
      var e = t + "";
      return e == "0" && 1 / t == -Ug ? "-0" : e;
    }
    Do.exports = Ro;
  });
  var Io = S((xb, Ao) => {
    var jg = Oo();
    function Kg(t) {
      return t == null ? "" : jg(t);
    }
    Ao.exports = Kg;
  });
  var qo = S((wb, Go) => {
    var Hg = Zt(), Xg = Lo(), Yg = Co(), Jg = Io();
    function $g(t, e) {
      return Hg(t) ? t : Xg(t, e) ? [t] : Yg(Jg(t));
    }
    Go.exports = $g;
  });
  var zo = S((Cb, No) => {
    var Zg = ze(), Wg = 1 / 0;
    function Qg(t) {
      if (typeof t == "string" || Zg(t))
        return t;
      var e = t + "";
      return e == "0" && 1 / t == -Wg ? "-0" : e;
    }
    No.exports = Qg;
  });
  var Vo = S((Eb, Fo) => {
    var tm = qo(), em = zo();
    function im(t, e) {
      e = tm(e, t);
      for (var i = 0, r = e.length; t != null && i < r; )
        t = t[em(e[i++])];
      return i && i == r ? t : void 0;
    }
    Fo.exports = im;
  });
  var Le = S((Pb, Uo) => {
    var rm = Vo();
    function nm(t, e, i) {
      var r = t == null ? void 0 : rm(t, e);
      return r === void 0 ? i : r;
    }
    Uo.exports = nm;
  });
  var Qo = S((Ti, Ri) => {
    (function(t, e) {
      typeof Ti == "object" && typeof Ri < "u" ? Ri.exports = e() : typeof define == "function" && define.amd ? define(e) : (t = t || self).RBush = e();
    })(Ti, function() {
      "use strict";
      function t(_, x, b, R, D) {
        (function O(A, q, h, c, p) {
          for (; c > h; ) {
            if (c - h > 600) {
              var y = c - h + 1, g = q - h + 1, k = Math.log(y), C = 0.5 * Math.exp(2 * k / 3), m = 0.5 * Math.sqrt(k * C * (y - C) / y) * (g - y / 2 < 0 ? -1 : 1), v = Math.max(h, Math.floor(q - g * C / y + m)), w = Math.min(c, Math.floor(q + (y - g) * C / y + m));
              O(A, q, v, w, p);
            }
            var M = A[q], B = h, I = c;
            for (e(A, h, q), p(A[c], M) > 0 && e(A, h, c); B < I; ) {
              for (e(A, B, I), B++, I--; p(A[B], M) < 0; )
                B++;
              for (; p(A[I], M) > 0; )
                I--;
            }
            p(A[h], M) === 0 ? e(A, h, I) : e(A, ++I, c), I <= q && (h = I + 1), q <= I && (c = I - 1);
          }
        })(_, x, b || 0, R || _.length - 1, D || i);
      }
      function e(_, x, b) {
        var R = _[x];
        _[x] = _[b], _[b] = R;
      }
      function i(_, x) {
        return _ < x ? -1 : _ > x ? 1 : 0;
      }
      var r = function(_) {
        _ === void 0 && (_ = 9), this._maxEntries = Math.max(4, _), this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries)), this.clear();
      };
      function n(_, x, b) {
        if (!b)
          return x.indexOf(_);
        for (var R = 0; R < x.length; R++)
          if (b(_, x[R]))
            return R;
        return -1;
      }
      function s(_, x) {
        a(_, 0, _.children.length, x, _);
      }
      function a(_, x, b, R, D) {
        D || (D = T(null)), D.minX = 1 / 0, D.minY = 1 / 0, D.maxX = -1 / 0, D.maxY = -1 / 0;
        for (var O = x; O < b; O++) {
          var A = _.children[O];
          o(D, _.leaf ? R(A) : A);
        }
        return D;
      }
      function o(_, x) {
        return _.minX = Math.min(_.minX, x.minX), _.minY = Math.min(_.minY, x.minY), _.maxX = Math.max(_.maxX, x.maxX), _.maxY = Math.max(_.maxY, x.maxY), _;
      }
      function l(_, x) {
        return _.minX - x.minX;
      }
      function u(_, x) {
        return _.minY - x.minY;
      }
      function f(_) {
        return (_.maxX - _.minX) * (_.maxY - _.minY);
      }
      function d(_) {
        return _.maxX - _.minX + (_.maxY - _.minY);
      }
      function P(_, x) {
        return _.minX <= x.minX && _.minY <= x.minY && x.maxX <= _.maxX && x.maxY <= _.maxY;
      }
      function E(_, x) {
        return x.minX <= _.maxX && x.minY <= _.maxY && x.maxX >= _.minX && x.maxY >= _.minY;
      }
      function T(_) {
        return { children: _, height: 1, leaf: true, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 };
      }
      function G(_, x, b, R, D) {
        for (var O = [x, b]; O.length; )
          if (!((b = O.pop()) - (x = O.pop()) <= R)) {
            var A = x + Math.ceil((b - x) / R / 2) * R;
            t(_, A, x, b, D), O.push(x, A, A, b);
          }
      }
      return r.prototype.all = function() {
        return this._all(this.data, []);
      }, r.prototype.search = function(_) {
        var x = this.data, b = [];
        if (!E(_, x))
          return b;
        for (var R = this.toBBox, D = []; x; ) {
          for (var O = 0; O < x.children.length; O++) {
            var A = x.children[O], q = x.leaf ? R(A) : A;
            E(_, q) && (x.leaf ? b.push(A) : P(_, q) ? this._all(A, b) : D.push(A));
          }
          x = D.pop();
        }
        return b;
      }, r.prototype.collides = function(_) {
        var x = this.data;
        if (!E(_, x))
          return false;
        for (var b = []; x; ) {
          for (var R = 0; R < x.children.length; R++) {
            var D = x.children[R], O = x.leaf ? this.toBBox(D) : D;
            if (E(_, O)) {
              if (x.leaf || P(_, O))
                return true;
              b.push(D);
            }
          }
          x = b.pop();
        }
        return false;
      }, r.prototype.load = function(_) {
        if (!_ || !_.length)
          return this;
        if (_.length < this._minEntries) {
          for (var x = 0; x < _.length; x++)
            this.insert(_[x]);
          return this;
        }
        var b = this._build(_.slice(), 0, _.length - 1, 0);
        if (this.data.children.length)
          if (this.data.height === b.height)
            this._splitRoot(this.data, b);
          else {
            if (this.data.height < b.height) {
              var R = this.data;
              this.data = b, b = R;
            }
            this._insert(b, this.data.height - b.height - 1, true);
          }
        else
          this.data = b;
        return this;
      }, r.prototype.insert = function(_) {
        return _ && this._insert(_, this.data.height - 1), this;
      }, r.prototype.clear = function() {
        return this.data = T([]), this;
      }, r.prototype.remove = function(_, x) {
        if (!_)
          return this;
        for (var b, R, D, O = this.data, A = this.toBBox(_), q = [], h = []; O || q.length; ) {
          if (O || (O = q.pop(), R = q[q.length - 1], b = h.pop(), D = true), O.leaf) {
            var c = n(_, O.children, x);
            if (c !== -1)
              return O.children.splice(c, 1), q.push(O), this._condense(q), this;
          }
          D || O.leaf || !P(O, A) ? R ? (b++, O = R.children[b], D = false) : O = null : (q.push(O), h.push(b), b = 0, R = O, O = O.children[0]);
        }
        return this;
      }, r.prototype.toBBox = function(_) {
        return _;
      }, r.prototype.compareMinX = function(_, x) {
        return _.minX - x.minX;
      }, r.prototype.compareMinY = function(_, x) {
        return _.minY - x.minY;
      }, r.prototype.toJSON = function() {
        return this.data;
      }, r.prototype.fromJSON = function(_) {
        return this.data = _, this;
      }, r.prototype._all = function(_, x) {
        for (var b = []; _; )
          _.leaf ? x.push.apply(x, _.children) : b.push.apply(b, _.children), _ = b.pop();
        return x;
      }, r.prototype._build = function(_, x, b, R) {
        var D, O = b - x + 1, A = this._maxEntries;
        if (O <= A)
          return s(D = T(_.slice(x, b + 1)), this.toBBox), D;
        R || (R = Math.ceil(Math.log(O) / Math.log(A)), A = Math.ceil(O / Math.pow(A, R - 1))), (D = T([])).leaf = false, D.height = R;
        var q = Math.ceil(O / A), h = q * Math.ceil(Math.sqrt(A));
        G(_, x, b, h, this.compareMinX);
        for (var c = x; c <= b; c += h) {
          var p = Math.min(c + h - 1, b);
          G(_, c, p, q, this.compareMinY);
          for (var y = c; y <= p; y += q) {
            var g = Math.min(y + q - 1, p);
            D.children.push(this._build(_, y, g, R - 1));
          }
        }
        return s(D, this.toBBox), D;
      }, r.prototype._chooseSubtree = function(_, x, b, R) {
        for (; R.push(x), !x.leaf && R.length - 1 !== b; ) {
          for (var D = 1 / 0, O = 1 / 0, A = void 0, q = 0; q < x.children.length; q++) {
            var h = x.children[q], c = f(h), p = (y = _, g = h, (Math.max(g.maxX, y.maxX) - Math.min(g.minX, y.minX)) * (Math.max(g.maxY, y.maxY) - Math.min(g.minY, y.minY)) - c);
            p < O ? (O = p, D = c < D ? c : D, A = h) : p === O && c < D && (D = c, A = h);
          }
          x = A || x.children[0];
        }
        var y, g;
        return x;
      }, r.prototype._insert = function(_, x, b) {
        var R = b ? _ : this.toBBox(_), D = [], O = this._chooseSubtree(R, this.data, x, D);
        for (O.children.push(_), o(O, R); x >= 0 && D[x].children.length > this._maxEntries; )
          this._split(D, x), x--;
        this._adjustParentBBoxes(R, D, x);
      }, r.prototype._split = function(_, x) {
        var b = _[x], R = b.children.length, D = this._minEntries;
        this._chooseSplitAxis(b, D, R);
        var O = this._chooseSplitIndex(b, D, R), A = T(b.children.splice(O, b.children.length - O));
        A.height = b.height, A.leaf = b.leaf, s(b, this.toBBox), s(A, this.toBBox), x ? _[x - 1].children.push(A) : this._splitRoot(b, A);
      }, r.prototype._splitRoot = function(_, x) {
        this.data = T([_, x]), this.data.height = _.height + 1, this.data.leaf = false, s(this.data, this.toBBox);
      }, r.prototype._chooseSplitIndex = function(_, x, b) {
        for (var R, D, O, A, q, h, c, p = 1 / 0, y = 1 / 0, g = x; g <= b - x; g++) {
          var k = a(_, 0, g, this.toBBox), C = a(_, g, b, this.toBBox), m = (D = k, O = C, A = void 0, q = void 0, h = void 0, c = void 0, A = Math.max(D.minX, O.minX), q = Math.max(D.minY, O.minY), h = Math.min(D.maxX, O.maxX), c = Math.min(D.maxY, O.maxY), Math.max(0, h - A) * Math.max(0, c - q)), v = f(k) + f(C);
          m < p ? (p = m, R = g, y = v < y ? v : y) : m === p && v < y && (y = v, R = g);
        }
        return R || b - x;
      }, r.prototype._chooseSplitAxis = function(_, x, b) {
        var R = _.leaf ? this.compareMinX : l, D = _.leaf ? this.compareMinY : u;
        this._allDistMargin(_, x, b, R) < this._allDistMargin(_, x, b, D) && _.children.sort(R);
      }, r.prototype._allDistMargin = function(_, x, b, R) {
        _.children.sort(R);
        for (var D = this.toBBox, O = a(_, 0, x, D), A = a(_, b - x, b, D), q = d(O) + d(A), h = x; h < b - x; h++) {
          var c = _.children[h];
          o(O, _.leaf ? D(c) : c), q += d(O);
        }
        for (var p = b - x - 1; p >= x; p--) {
          var y = _.children[p];
          o(A, _.leaf ? D(y) : y), q += d(A);
        }
        return q;
      }, r.prototype._adjustParentBBoxes = function(_, x, b) {
        for (var R = b; R >= 0; R--)
          o(x[R], _);
      }, r.prototype._condense = function(_) {
        for (var x = _.length - 1, b = void 0; x >= 0; x--)
          _[x].children.length === 0 ? x > 0 ? (b = _[x - 1].children).splice(b.indexOf(_[x]), 1) : this.clear() : s(_[x], this.toBBox);
      }, r;
    });
  });
  var Gi = S((z) => {
    "use strict";
    Object.defineProperty(z, "__esModule", { value: true });
    z.earthRadius = 63710088e-1;
    z.factors = { centimeters: z.earthRadius * 100, centimetres: z.earthRadius * 100, degrees: z.earthRadius / 111325, feet: z.earthRadius * 3.28084, inches: z.earthRadius * 39.37, kilometers: z.earthRadius / 1e3, kilometres: z.earthRadius / 1e3, meters: z.earthRadius, metres: z.earthRadius, miles: z.earthRadius / 1609.344, millimeters: z.earthRadius * 1e3, millimetres: z.earthRadius * 1e3, nauticalmiles: z.earthRadius / 1852, radians: 1, yards: z.earthRadius * 1.0936 };
    z.unitsFactors = { centimeters: 100, centimetres: 100, degrees: 1 / 111325, feet: 3.28084, inches: 39.37, kilometers: 1 / 1e3, kilometres: 1 / 1e3, meters: 1, metres: 1, miles: 1 / 1609.344, millimeters: 1e3, millimetres: 1e3, nauticalmiles: 1 / 1852, radians: 1 / z.earthRadius, yards: 1.0936133 };
    z.areaFactors = { acres: 247105e-9, centimeters: 1e4, centimetres: 1e4, feet: 10.763910417, hectares: 1e-4, inches: 1550.003100006, kilometers: 1e-6, kilometres: 1e-6, meters: 1, metres: 1, miles: 386e-9, millimeters: 1e6, millimetres: 1e6, yards: 1.195990046 };
    function Ot(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "Feature" };
      return (i.id === 0 || i.id) && (r.id = i.id), i.bbox && (r.bbox = i.bbox), r.properties = e || {}, r.geometry = t, r;
    }
    z.feature = Ot;
    function ym(t, e, i) {
      switch (i === void 0 && (i = {}), t) {
        case "Point":
          return Di(e).geometry;
        case "LineString":
          return Ai(e).geometry;
        case "Polygon":
          return Oi(e).geometry;
        case "MultiPoint":
          return el(e).geometry;
        case "MultiLineString":
          return tl(e).geometry;
        case "MultiPolygon":
          return il(e).geometry;
        default:
          throw new Error(t + " is invalid");
      }
    }
    z.geometry = ym;
    function Di(t, e, i) {
      if (i === void 0 && (i = {}), !t)
        throw new Error("coordinates is required");
      if (!Array.isArray(t))
        throw new Error("coordinates must be an Array");
      if (t.length < 2)
        throw new Error("coordinates must be at least 2 numbers long");
      if (!Ve(t[0]) || !Ve(t[1]))
        throw new Error("coordinates must contain numbers");
      var r = { type: "Point", coordinates: t };
      return Ot(r, e, i);
    }
    z.point = Di;
    function Lm(t, e, i) {
      return i === void 0 && (i = {}), Ue(t.map(function(r) {
        return Di(r, e);
      }), i);
    }
    z.points = Lm;
    function Oi(t, e, i) {
      i === void 0 && (i = {});
      for (var r = 0, n = t; r < n.length; r++) {
        var s = n[r];
        if (s.length < 4)
          throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");
        for (var a = 0; a < s[s.length - 1].length; a++)
          if (s[s.length - 1][a] !== s[0][a])
            throw new Error("First and last Position are not equivalent.");
      }
      var o = { type: "Polygon", coordinates: t };
      return Ot(o, e, i);
    }
    z.polygon = Oi;
    function bm(t, e, i) {
      return i === void 0 && (i = {}), Ue(t.map(function(r) {
        return Oi(r, e);
      }), i);
    }
    z.polygons = bm;
    function Ai(t, e, i) {
      if (i === void 0 && (i = {}), t.length < 2)
        throw new Error("coordinates must be an array of two or more positions");
      var r = { type: "LineString", coordinates: t };
      return Ot(r, e, i);
    }
    z.lineString = Ai;
    function vm(t, e, i) {
      return i === void 0 && (i = {}), Ue(t.map(function(r) {
        return Ai(r, e);
      }), i);
    }
    z.lineStrings = vm;
    function Ue(t, e) {
      e === void 0 && (e = {});
      var i = { type: "FeatureCollection" };
      return e.id && (i.id = e.id), e.bbox && (i.bbox = e.bbox), i.features = t, i;
    }
    z.featureCollection = Ue;
    function tl(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "MultiLineString", coordinates: t };
      return Ot(r, e, i);
    }
    z.multiLineString = tl;
    function el(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "MultiPoint", coordinates: t };
      return Ot(r, e, i);
    }
    z.multiPoint = el;
    function il(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "MultiPolygon", coordinates: t };
      return Ot(r, e, i);
    }
    z.multiPolygon = il;
    function km(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "GeometryCollection", geometries: t };
      return Ot(r, e, i);
    }
    z.geometryCollection = km;
    function Mm(t, e) {
      if (e === void 0 && (e = 0), e && !(e >= 0))
        throw new Error("precision must be a positive number");
      var i = Math.pow(10, e || 0);
      return Math.round(t * i) / i;
    }
    z.round = Mm;
    function rl(t, e) {
      e === void 0 && (e = "kilometers");
      var i = z.factors[e];
      if (!i)
        throw new Error(e + " units is invalid");
      return t * i;
    }
    z.radiansToLength = rl;
    function Ii(t, e) {
      e === void 0 && (e = "kilometers");
      var i = z.factors[e];
      if (!i)
        throw new Error(e + " units is invalid");
      return t / i;
    }
    z.lengthToRadians = Ii;
    function xm(t, e) {
      return nl(Ii(t, e));
    }
    z.lengthToDegrees = xm;
    function wm(t) {
      var e = t % 360;
      return e < 0 && (e += 360), e;
    }
    z.bearingToAzimuth = wm;
    function nl(t) {
      var e = t % (2 * Math.PI);
      return e * 180 / Math.PI;
    }
    z.radiansToDegrees = nl;
    function Cm(t) {
      var e = t % 360;
      return e * Math.PI / 180;
    }
    z.degreesToRadians = Cm;
    function Em(t, e, i) {
      if (e === void 0 && (e = "kilometers"), i === void 0 && (i = "kilometers"), !(t >= 0))
        throw new Error("length must be a positive number");
      return rl(Ii(t, e), i);
    }
    z.convertLength = Em;
    function Pm(t, e, i) {
      if (e === void 0 && (e = "meters"), i === void 0 && (i = "kilometers"), !(t >= 0))
        throw new Error("area must be a positive number");
      var r = z.areaFactors[e];
      if (!r)
        throw new Error("invalid original units");
      var n = z.areaFactors[i];
      if (!n)
        throw new Error("invalid final units");
      return t / r * n;
    }
    z.convertArea = Pm;
    function Ve(t) {
      return !isNaN(t) && t !== null && !Array.isArray(t);
    }
    z.isNumber = Ve;
    function Sm(t) {
      return !!t && t.constructor === Object;
    }
    z.isObject = Sm;
    function Bm(t) {
      if (!t)
        throw new Error("bbox is required");
      if (!Array.isArray(t))
        throw new Error("bbox must be an Array");
      if (t.length !== 4 && t.length !== 6)
        throw new Error("bbox must be an Array of 4 or 6 numbers");
      t.forEach(function(e) {
        if (!Ve(e))
          throw new Error("bbox must only contain numbers");
      });
    }
    z.validateBBox = Bm;
    function Tm(t) {
      if (!t)
        throw new Error("id is required");
      if (["string", "number"].indexOf(typeof t) === -1)
        throw new Error("id must be a number or a string");
    }
    z.validateId = Tm;
  });
  var Ni = S((Q) => {
    "use strict";
    Object.defineProperty(Q, "__esModule", { value: true });
    var nt = Gi();
    function Ce(t, e, i) {
      if (t !== null)
        for (var r, n, s, a, o, l, u, f = 0, d = 0, P, E = t.type, T = E === "FeatureCollection", G = E === "Feature", _ = T ? t.features.length : 1, x = 0; x < _; x++) {
          u = T ? t.features[x].geometry : G ? t.geometry : t, P = u ? u.type === "GeometryCollection" : false, o = P ? u.geometries.length : 1;
          for (var b = 0; b < o; b++) {
            var R = 0, D = 0;
            if (a = P ? u.geometries[b] : u, a !== null) {
              l = a.coordinates;
              var O = a.type;
              switch (f = i && (O === "Polygon" || O === "MultiPolygon") ? 1 : 0, O) {
                case null:
                  break;
                case "Point":
                  if (e(l, d, x, R, D) === false)
                    return false;
                  d++, R++;
                  break;
                case "LineString":
                case "MultiPoint":
                  for (r = 0; r < l.length; r++) {
                    if (e(l[r], d, x, R, D) === false)
                      return false;
                    d++, O === "MultiPoint" && R++;
                  }
                  O === "LineString" && R++;
                  break;
                case "Polygon":
                case "MultiLineString":
                  for (r = 0; r < l.length; r++) {
                    for (n = 0; n < l[r].length - f; n++) {
                      if (e(l[r][n], d, x, R, D) === false)
                        return false;
                      d++;
                    }
                    O === "MultiLineString" && R++, O === "Polygon" && D++;
                  }
                  O === "Polygon" && R++;
                  break;
                case "MultiPolygon":
                  for (r = 0; r < l.length; r++) {
                    for (D = 0, n = 0; n < l[r].length; n++) {
                      for (s = 0; s < l[r][n].length - f; s++) {
                        if (e(l[r][n][s], d, x, R, D) === false)
                          return false;
                        d++;
                      }
                      D++;
                    }
                    R++;
                  }
                  break;
                case "GeometryCollection":
                  for (r = 0; r < a.geometries.length; r++)
                    if (Ce(a.geometries[r], e, i) === false)
                      return false;
                  break;
                default:
                  throw new Error("Unknown Geometry Type");
              }
            }
          }
        }
    }
    function Rm(t, e, i, r) {
      var n = i;
      return Ce(t, function(s, a, o, l, u) {
        a === 0 && i === void 0 ? n = s : n = e(n, s, a, o, l, u);
      }, r), n;
    }
    function sl(t, e) {
      var i;
      switch (t.type) {
        case "FeatureCollection":
          for (i = 0; i < t.features.length && e(t.features[i].properties, i) !== false; i++)
            ;
          break;
        case "Feature":
          e(t.properties, 0);
          break;
      }
    }
    function Dm(t, e, i) {
      var r = i;
      return sl(t, function(n, s) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s);
      }), r;
    }
    function al(t, e) {
      if (t.type === "Feature")
        e(t, 0);
      else if (t.type === "FeatureCollection")
        for (var i = 0; i < t.features.length && e(t.features[i], i) !== false; i++)
          ;
    }
    function Om(t, e, i) {
      var r = i;
      return al(t, function(n, s) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s);
      }), r;
    }
    function Am(t) {
      var e = [];
      return Ce(t, function(i) {
        e.push(i);
      }), e;
    }
    function qi(t, e) {
      var i, r, n, s, a, o, l, u, f, d, P = 0, E = t.type === "FeatureCollection", T = t.type === "Feature", G = E ? t.features.length : 1;
      for (i = 0; i < G; i++) {
        for (o = E ? t.features[i].geometry : T ? t.geometry : t, u = E ? t.features[i].properties : T ? t.properties : {}, f = E ? t.features[i].bbox : T ? t.bbox : void 0, d = E ? t.features[i].id : T ? t.id : void 0, l = o ? o.type === "GeometryCollection" : false, a = l ? o.geometries.length : 1, n = 0; n < a; n++) {
          if (s = l ? o.geometries[n] : o, s === null) {
            if (e(null, P, u, f, d) === false)
              return false;
            continue;
          }
          switch (s.type) {
            case "Point":
            case "LineString":
            case "MultiPoint":
            case "Polygon":
            case "MultiLineString":
            case "MultiPolygon": {
              if (e(s, P, u, f, d) === false)
                return false;
              break;
            }
            case "GeometryCollection": {
              for (r = 0; r < s.geometries.length; r++)
                if (e(s.geometries[r], P, u, f, d) === false)
                  return false;
              break;
            }
            default:
              throw new Error("Unknown Geometry Type");
          }
        }
        P++;
      }
    }
    function Im(t, e, i) {
      var r = i;
      return qi(t, function(n, s, a, o, l) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s, a, o, l);
      }), r;
    }
    function je(t, e) {
      qi(t, function(i, r, n, s, a) {
        var o = i === null ? null : i.type;
        switch (o) {
          case null:
          case "Point":
          case "LineString":
          case "Polygon":
            return e(nt.feature(i, n, { bbox: s, id: a }), r, 0) === false ? false : void 0;
        }
        var l;
        switch (o) {
          case "MultiPoint":
            l = "Point";
            break;
          case "MultiLineString":
            l = "LineString";
            break;
          case "MultiPolygon":
            l = "Polygon";
            break;
        }
        for (var u = 0; u < i.coordinates.length; u++) {
          var f = i.coordinates[u], d = { type: l, coordinates: f };
          if (e(nt.feature(d, n), r, u) === false)
            return false;
        }
      });
    }
    function Gm(t, e, i) {
      var r = i;
      return je(t, function(n, s, a) {
        s === 0 && a === 0 && i === void 0 ? r = n : r = e(r, n, s, a);
      }), r;
    }
    function ol(t, e) {
      je(t, function(i, r, n) {
        var s = 0;
        if (i.geometry) {
          var a = i.geometry.type;
          if (!(a === "Point" || a === "MultiPoint")) {
            var o, l = 0, u = 0, f = 0;
            if (Ce(i, function(d, P, E, T, G) {
              if (o === void 0 || r > l || T > u || G > f) {
                o = d, l = r, u = T, f = G, s = 0;
                return;
              }
              var _ = nt.lineString([o, d], i.properties);
              if (e(_, r, n, G, s) === false)
                return false;
              s++, o = d;
            }) === false)
              return false;
          }
        }
      });
    }
    function qm(t, e, i) {
      var r = i, n = false;
      return ol(t, function(s, a, o, l, u) {
        n === false && i === void 0 ? r = s : r = e(r, s, a, o, l, u), n = true;
      }), r;
    }
    function ll(t, e) {
      if (!t)
        throw new Error("geojson is required");
      je(t, function(i, r, n) {
        if (i.geometry !== null) {
          var s = i.geometry.type, a = i.geometry.coordinates;
          switch (s) {
            case "LineString":
              if (e(i, r, n, 0, 0) === false)
                return false;
              break;
            case "Polygon":
              for (var o = 0; o < a.length; o++)
                if (e(nt.lineString(a[o], i.properties), r, n, o) === false)
                  return false;
              break;
          }
        }
      });
    }
    function Nm(t, e, i) {
      var r = i;
      return ll(t, function(n, s, a, o) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s, a, o);
      }), r;
    }
    function zm(t, e) {
      if (e = e || {}, !nt.isObject(e))
        throw new Error("options is invalid");
      var i = e.featureIndex || 0, r = e.multiFeatureIndex || 0, n = e.geometryIndex || 0, s = e.segmentIndex || 0, a = e.properties, o;
      switch (t.type) {
        case "FeatureCollection":
          i < 0 && (i = t.features.length + i), a = a || t.features[i].properties, o = t.features[i].geometry;
          break;
        case "Feature":
          a = a || t.properties, o = t.geometry;
          break;
        case "Point":
        case "MultiPoint":
          return null;
        case "LineString":
        case "Polygon":
        case "MultiLineString":
        case "MultiPolygon":
          o = t;
          break;
        default:
          throw new Error("geojson is invalid");
      }
      if (o === null)
        return null;
      var l = o.coordinates;
      switch (o.type) {
        case "Point":
        case "MultiPoint":
          return null;
        case "LineString":
          return s < 0 && (s = l.length + s - 1), nt.lineString([l[s], l[s + 1]], a, e);
        case "Polygon":
          return n < 0 && (n = l.length + n), s < 0 && (s = l[n].length + s - 1), nt.lineString([l[n][s], l[n][s + 1]], a, e);
        case "MultiLineString":
          return r < 0 && (r = l.length + r), s < 0 && (s = l[r].length + s - 1), nt.lineString([l[r][s], l[r][s + 1]], a, e);
        case "MultiPolygon":
          return r < 0 && (r = l.length + r), n < 0 && (n = l[r].length + n), s < 0 && (s = l[r][n].length - s - 1), nt.lineString([l[r][n][s], l[r][n][s + 1]], a, e);
      }
      throw new Error("geojson is invalid");
    }
    function Fm(t, e) {
      if (e = e || {}, !nt.isObject(e))
        throw new Error("options is invalid");
      var i = e.featureIndex || 0, r = e.multiFeatureIndex || 0, n = e.geometryIndex || 0, s = e.coordIndex || 0, a = e.properties, o;
      switch (t.type) {
        case "FeatureCollection":
          i < 0 && (i = t.features.length + i), a = a || t.features[i].properties, o = t.features[i].geometry;
          break;
        case "Feature":
          a = a || t.properties, o = t.geometry;
          break;
        case "Point":
        case "MultiPoint":
          return null;
        case "LineString":
        case "Polygon":
        case "MultiLineString":
        case "MultiPolygon":
          o = t;
          break;
        default:
          throw new Error("geojson is invalid");
      }
      if (o === null)
        return null;
      var l = o.coordinates;
      switch (o.type) {
        case "Point":
          return nt.point(l, a, e);
        case "MultiPoint":
          return r < 0 && (r = l.length + r), nt.point(l[r], a, e);
        case "LineString":
          return s < 0 && (s = l.length + s), nt.point(l[s], a, e);
        case "Polygon":
          return n < 0 && (n = l.length + n), s < 0 && (s = l[n].length + s), nt.point(l[n][s], a, e);
        case "MultiLineString":
          return r < 0 && (r = l.length + r), s < 0 && (s = l[r].length + s), nt.point(l[r][s], a, e);
        case "MultiPolygon":
          return r < 0 && (r = l.length + r), n < 0 && (n = l[r].length + n), s < 0 && (s = l[r][n].length - s), nt.point(l[r][n][s], a, e);
      }
      throw new Error("geojson is invalid");
    }
    Q.coordAll = Am;
    Q.coordEach = Ce;
    Q.coordReduce = Rm;
    Q.featureEach = al;
    Q.featureReduce = Om;
    Q.findPoint = Fm;
    Q.findSegment = zm;
    Q.flattenEach = je;
    Q.flattenReduce = Gm;
    Q.geomEach = qi;
    Q.geomReduce = Im;
    Q.lineEach = ll;
    Q.lineReduce = Nm;
    Q.propEach = sl;
    Q.propReduce = Dm;
    Q.segmentEach = ol;
    Q.segmentReduce = qm;
  });
  var hl = S((Fi) => {
    "use strict";
    Object.defineProperty(Fi, "__esModule", { value: true });
    var Vm = Ni();
    function zi(t) {
      var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
      return Vm.coordEach(t, function(i) {
        e[0] > i[0] && (e[0] = i[0]), e[1] > i[1] && (e[1] = i[1]), e[2] < i[0] && (e[2] = i[0]), e[3] < i[1] && (e[3] = i[1]);
      }), e;
    }
    zi.default = zi;
    Fi.default = zi;
  });
  var Ui = S((Ev, Vi) => {
    var kt = Qo(), cl = Gi(), pl = Ni(), re = hl().default, Um = pl.featureEach, wv = pl.coordEach, Cv = cl.polygon, ul = cl.featureCollection;
    function fl(t) {
      var e = new kt(t);
      return e.insert = function(i) {
        if (i.type !== "Feature")
          throw new Error("invalid feature");
        return i.bbox = i.bbox ? i.bbox : re(i), kt.prototype.insert.call(this, i);
      }, e.load = function(i) {
        var r = [];
        return Array.isArray(i) ? i.forEach(function(n) {
          if (n.type !== "Feature")
            throw new Error("invalid features");
          n.bbox = n.bbox ? n.bbox : re(n), r.push(n);
        }) : Um(i, function(n) {
          if (n.type !== "Feature")
            throw new Error("invalid features");
          n.bbox = n.bbox ? n.bbox : re(n), r.push(n);
        }), kt.prototype.load.call(this, r);
      }, e.remove = function(i, r) {
        if (i.type !== "Feature")
          throw new Error("invalid feature");
        return i.bbox = i.bbox ? i.bbox : re(i), kt.prototype.remove.call(this, i, r);
      }, e.clear = function() {
        return kt.prototype.clear.call(this);
      }, e.search = function(i) {
        var r = kt.prototype.search.call(this, this.toBBox(i));
        return ul(r);
      }, e.collides = function(i) {
        return kt.prototype.collides.call(this, this.toBBox(i));
      }, e.all = function() {
        var i = kt.prototype.all.call(this);
        return ul(i);
      }, e.toJSON = function() {
        return kt.prototype.toJSON.call(this);
      }, e.fromJSON = function(i) {
        return kt.prototype.fromJSON.call(this, i);
      }, e.toBBox = function(i) {
        var r;
        if (i.bbox)
          r = i.bbox;
        else if (Array.isArray(i) && i.length === 4)
          r = i;
        else if (Array.isArray(i) && i.length === 6)
          r = [i[0], i[1], i[3], i[4]];
        else if (i.type === "Feature")
          r = re(i);
        else if (i.type === "FeatureCollection")
          r = re(i);
        else
          throw new Error("invalid geojson");
        return { minX: r[0], minY: r[1], maxX: r[2], maxY: r[3] };
      }, e;
    }
    Vi.exports = fl;
    Vi.exports.default = fl;
  });
  Array.prototype.findIndex = Array.prototype.findIndex || function(t) {
    if (this === null)
      throw new TypeError("Array.prototype.findIndex called on null or undefined");
    if (typeof t != "function")
      throw new TypeError("callback must be a function");
    for (var e = Object(this), i = e.length >>> 0, r = arguments[1], n = 0; n < i; n++)
      if (t.call(r, e[n], n, e))
        return n;
    return -1;
  };
  Array.prototype.find = Array.prototype.find || function(t) {
    if (this === null)
      throw new TypeError("Array.prototype.find called on null or undefined");
    if (typeof t != "function")
      throw new TypeError("callback must be a function");
    for (var e = Object(this), i = e.length >>> 0, r = arguments[1], n = 0; n < i; n++) {
      var s = e[n];
      if (t.call(r, s, n, e))
        return s;
    }
  };
  typeof Object.assign != "function" && (Object.assign = function(t) {
    "use strict";
    if (t == null)
      throw new TypeError("Cannot convert undefined or null to object");
    t = Object(t);
    for (var e = 1; e < arguments.length; e++) {
      var i = arguments[e];
      if (i != null)
        for (var r in i)
          Object.prototype.hasOwnProperty.call(i, r) && (t[r] = i[r]);
    }
    return t;
  });
  (function(t) {
    t.forEach(function(e) {
      e.hasOwnProperty("remove") || Object.defineProperty(e, "remove", { configurable: true, enumerable: true, writable: true, value: function() {
        this.parentNode.removeChild(this);
      } });
    });
  })([Element.prototype, CharacterData.prototype, DocumentType.prototype]);
  Array.prototype.includes || Object.defineProperty(Array.prototype, "includes", { value: function(t, e) {
    if (this == null)
      throw new TypeError('"this" is null or not defined');
    var i = Object(this), r = i.length >>> 0;
    if (r === 0)
      return false;
    var n = e | 0, s = Math.max(n >= 0 ? n : r - Math.abs(n), 0);
    function a(o, l) {
      return o === l || typeof o == "number" && typeof l == "number" && isNaN(o) && isNaN(l);
    }
    for (; s < r; ) {
      if (a(i[s], t))
        return true;
      s++;
    }
    return false;
  } });
  var hr = { name: "@geoman-io/leaflet-geoman-free", version: "2.17.0", description: "A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0", keywords: ["leaflet", "geoman", "polygon management", "geometry editing", "map data", "map overlay", "polygon", "geojson", "leaflet-draw", "data-field-geojson", "ui-leaflet-draw"], files: ["dist"], main: "dist/leaflet-geoman.js", types: "dist/leaflet-geoman.d.ts", dependencies: { "@turf/boolean-contains": "^6.5.0", "@turf/kinks": "^6.5.0", "@turf/line-intersect": "^6.5.0", "@turf/line-split": "^6.5.0", lodash: "4.17.21", "polyclip-ts": "^0.16.5" }, devDependencies: { "@types/leaflet": "^1.7.9", "cross-env": "^7.0.3", cypress: "6.9.1", "cypress-wait-until": "1.7.1", esbuild: "^0.20.0", eslint: "8.56.0", "eslint-config-airbnb-base": "15.0.0", "eslint-config-prettier": "9.1.0", "eslint-plugin-cypress": "2.15.1", "eslint-plugin-import": "2.29.1", husky: "^9.0.7", leaflet: "1.9.3", "lint-staged": "^15.2.1", prettier: "3.2.4", "prosthetic-hand": "1.3.1", "ts-node": "^10.9.2" }, peerDependencies: { leaflet: "^1.2.0" }, scripts: { start: "pnpm run dev", dev: "cross-env DEV=true ts-node bundle.mjs", build: "ts-node bundle.mjs", test: "cypress run", cypress: "cypress open", prepare: "pnpm run build && husky", "eslint-check": "eslint --print-config . | eslint-config-prettier-check", eslint: 'eslint "{src,cypress,demo}/**/*.js" --fix ', prettier: 'prettier --write "{src,cypress,demo}/**/*.{js,css}" --log-level=warn', lint: "pnpm run eslint && pnpm run prettier" }, repository: { type: "git", url: "git://github.com/geoman-io/leaflet-geoman.git" }, author: { name: "Geoman.io", email: "sales@geoman.io", url: "http://geoman.io" }, license: "MIT", bugs: { url: "https://github.com/geoman-io/leaflet-geoman/issues" }, homepage: "https://geoman.io", prettier: { trailingComma: "es5", tabWidth: 2, semi: true, singleQuote: true }, "lint-staged": { "*.js": 'eslint "{src,cypress,demo}/**/*.js" --fix', "*.{js,css,md}": 'prettier --write "{src,cypress,demo}/**/*.{js,css}"' } };
  var Pi = xt(Ne());
  var Ga = { tooltips: { placeMarker: "Click to place marker", firstVertex: "Click to place first vertex", continueLine: "Click to continue drawing", finishLine: "Click any existing marker to finish", finishPoly: "Click first marker to finish", finishRect: "Click to finish", startCircle: "Click to place circle center", finishCircle: "Click to finish circle", placeCircleMarker: "Click to place circle marker", placeText: "Click to place text", selectFirstLayerFor: "Select first layer for {action}", selectSecondLayerFor: "Select second layer for {action}" }, actions: { finish: "Finish", cancel: "Cancel", removeLastVertex: "Remove Last Vertex" }, buttonTitles: { drawMarkerButton: "Draw Marker", drawPolyButton: "Draw Polygons", drawLineButton: "Draw Polyline", drawCircleButton: "Draw Circle", drawRectButton: "Draw Rectangle", editButton: "Edit Layers", dragButton: "Drag Layers", cutButton: "Cut Layers", deleteButton: "Remove Layers", drawCircleMarkerButton: "Draw Circle Marker", snappingButton: "Snap dragged marker to other layers and vertices", pinningButton: "Pin shared vertices together", rotateButton: "Rotate Layers", drawTextButton: "Draw Text", scaleButton: "Scale Layers", autoTracingButton: "Auto trace Line", snapGuidesButton: "Show SnapGuides", unionButton: "Union layers", differenceButton: "Subtract layers" }, measurements: { totalLength: "Length", segmentLength: "Segment length", area: "Area", radius: "Radius", perimeter: "Perimeter", height: "Height", width: "Width", coordinates: "Position", coordinatesMarker: "Position Marker" } };
  var qa = { tooltips: { placeMarker: "Platziere den Marker mit Klick", firstVertex: "Platziere den ersten Marker mit Klick", continueLine: "Klicke, um weiter zu zeichnen", finishLine: "Beende mit Klick auf existierenden Marker", finishPoly: "Beende mit Klick auf ersten Marker", finishRect: "Beende mit Klick", startCircle: "Platziere das Kreiszentrum mit Klick", finishCircle: "Beende den Kreis mit Klick", placeCircleMarker: "Platziere den Kreismarker mit Klick", placeText: "Platziere den Text mit Klick" }, actions: { finish: "Beenden", cancel: "Abbrechen", removeLastVertex: "Letzten Vertex l\xF6schen" }, buttonTitles: { drawMarkerButton: "Marker zeichnen", drawPolyButton: "Polygon zeichnen", drawLineButton: "Polyline zeichnen", drawCircleButton: "Kreis zeichnen", drawRectButton: "Rechteck zeichnen", editButton: "Layer editieren", dragButton: "Layer bewegen", cutButton: "Layer schneiden", deleteButton: "Layer l\xF6schen", drawCircleMarkerButton: "Kreismarker zeichnen", snappingButton: "Bewegter Layer an andere Layer oder Vertexe einhacken", pinningButton: "Vertexe an der gleichen Position verkn\xFCpfen", rotateButton: "Layer drehen", drawTextButton: "Text zeichnen", scaleButton: "Layer skalieren", autoTracingButton: "Linie automatisch nachzeichen" }, measurements: { totalLength: "L\xE4nge", segmentLength: "Segment L\xE4nge", area: "Fl\xE4che", radius: "Radius", perimeter: "Umfang", height: "H\xF6he", width: "Breite", coordinates: "Position", coordinatesMarker: "Position Marker" } };
  var Na = { tooltips: { placeMarker: "Clicca per posizionare un Marker", firstVertex: "Clicca per posizionare il primo vertice", continueLine: "Clicca per continuare a disegnare", finishLine: "Clicca qualsiasi marker esistente per terminare", finishPoly: "Clicca il primo marker per terminare", finishRect: "Clicca per terminare", startCircle: "Clicca per posizionare il punto centrale del cerchio", finishCircle: "Clicca per terminare il cerchio", placeCircleMarker: "Clicca per posizionare un Marker del cherchio" }, actions: { finish: "Termina", cancel: "Annulla", removeLastVertex: "Rimuovi l'ultimo vertice" }, buttonTitles: { drawMarkerButton: "Disegna Marker", drawPolyButton: "Disegna Poligoni", drawLineButton: "Disegna Polilinea", drawCircleButton: "Disegna Cerchio", drawRectButton: "Disegna Rettangolo", editButton: "Modifica Livelli", dragButton: "Sposta Livelli", cutButton: "Ritaglia Livelli", deleteButton: "Elimina Livelli", drawCircleMarkerButton: "Disegna Marker del Cerchio", snappingButton: "Snap ha trascinato il pennarello su altri strati e vertici", pinningButton: "Pin condiviso vertici insieme", rotateButton: "Ruota livello" } };
  var za = { tooltips: { placeMarker: "Klik untuk menempatkan marker", firstVertex: "Klik untuk menempatkan vertex pertama", continueLine: "Klik untuk meneruskan digitasi", finishLine: "Klik pada sembarang marker yang ada untuk mengakhiri", finishPoly: "Klik marker pertama untuk mengakhiri", finishRect: "Klik untuk mengakhiri", startCircle: "Klik untuk menempatkan titik pusat lingkaran", finishCircle: "Klik untuk mengakhiri lingkaran", placeCircleMarker: "Klik untuk menempatkan penanda lingkarann" }, actions: { finish: "Selesai", cancel: "Batal", removeLastVertex: "Hilangkan Vertex Terakhir" }, buttonTitles: { drawMarkerButton: "Digitasi Marker", drawPolyButton: "Digitasi Polygon", drawLineButton: "Digitasi Polyline", drawCircleButton: "Digitasi Lingkaran", drawRectButton: "Digitasi Segi Empat", editButton: "Edit Layer", dragButton: "Geser Layer", cutButton: "Potong Layer", deleteButton: "Hilangkan Layer", drawCircleMarkerButton: "Digitasi Penanda Lingkaran", snappingButton: "Jepretkan penanda yang ditarik ke lapisan dan simpul lain", pinningButton: "Sematkan simpul bersama bersama", rotateButton: "Putar lapisan" } };
  var Fa = { tooltips: { placeMarker: "Adaug\u0103 un punct", firstVertex: "Apas\u0103 aici pentru a ad\u0103uga primul Vertex", continueLine: "Apas\u0103 aici pentru a continua desenul", finishLine: "Apas\u0103 pe orice obiect pentru a finisa desenul", finishPoly: "Apas\u0103 pe primul obiect pentru a finisa", finishRect: "Apas\u0103 pentru a finisa", startCircle: "Apas\u0103 pentru a desena un cerc", finishCircle: "Apas\u0103 pentru a finisa un cerc", placeCircleMarker: "Adaug\u0103 un punct" }, actions: { finish: "Termin\u0103", cancel: "Anuleaz\u0103", removeLastVertex: "\u0218terge ultimul Vertex" }, buttonTitles: { drawMarkerButton: "Adaug\u0103 o bulin\u0103", drawPolyButton: "Deseneaz\u0103 un poligon", drawLineButton: "Deseneaz\u0103 o linie", drawCircleButton: "Deseneaz\u0103 un cerc", drawRectButton: "Deseneaz\u0103 un dreptunghi", editButton: "Editeaz\u0103 straturile", dragButton: "Mut\u0103 straturile", cutButton: "Taie straturile", deleteButton: "\u0218terge straturile", drawCircleMarkerButton: "Deseneaz\u0103 marcatorul cercului", snappingButton: "Fixa\u021Bi marcatorul glisat pe alte straturi \u0219i v\xE2rfuri", pinningButton: "Fixa\u021Bi v\xE2rfurile partajate \xEEmpreun\u0103", rotateButton: "Roti\u021Bi stratul" } };
  var Va = { tooltips: { placeMarker: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440", firstVertex: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442", continueLine: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435", finishLine: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043B\u044E\u0431\u043E\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F", finishPoly: "\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0432\u0443\u044E \u0442\u043E\u0447\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C", finishRect: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C", startCircle: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0442\u0440 \u043A\u0440\u0443\u0433\u0430", finishCircle: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441", placeCircleMarker: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440" }, actions: { finish: "\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C", cancel: "\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C", removeLastVertex: "\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435" }, buttonTitles: { drawMarkerButton: "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440", drawPolyButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0438\u0433\u043E\u043D", drawLineButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0438\u0432\u0443\u044E", drawCircleButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0443\u0433", drawRectButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A", editButton: "\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u043E\u0439", dragButton: "\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0441\u043B\u043E\u0439", cutButton: "\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C \u0441\u043B\u043E\u0439", deleteButton: "\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u043E\u0439", drawCircleMarkerButton: "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440", snappingButton: "\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u043A \u0434\u0440\u0443\u0433\u0438\u043C \u0441\u043B\u043E\u044F\u043C \u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0430\u043C", pinningButton: "\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u043E\u0431\u0449\u0438\u0435 \u0442\u043E\u0447\u043A\u0438 \u0432\u043C\u0435\u0441\u0442\u0435", rotateButton: "\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u0441\u043B\u043E\u044F" } };
  var Ua = { tooltips: { placeMarker: "Presiona para colocar un marcador", firstVertex: "Presiona para colocar el primer v\xE9rtice", continueLine: "Presiona para continuar dibujando", finishLine: "Presiona cualquier marcador existente para finalizar", finishPoly: "Presiona el primer marcador para finalizar", finishRect: "Presiona para finalizar", startCircle: "Presiona para colocar el centro del c\xEDrculo", finishCircle: "Presiona para finalizar el c\xEDrculo", placeCircleMarker: "Presiona para colocar un marcador de c\xEDrculo" }, actions: { finish: "Finalizar", cancel: "Cancelar", removeLastVertex: "Eliminar \xFAltimo v\xE9rtice" }, buttonTitles: { drawMarkerButton: "Dibujar Marcador", drawPolyButton: "Dibujar Pol\xEDgono", drawLineButton: "Dibujar L\xEDnea", drawCircleButton: "Dibujar C\xEDrculo", drawRectButton: "Dibujar Rect\xE1ngulo", editButton: "Editar Capas", dragButton: "Arrastrar Capas", cutButton: "Cortar Capas", deleteButton: "Eliminar Capas", drawCircleMarkerButton: "Dibujar Marcador de C\xEDrculo", snappingButton: "El marcador de Snap arrastrado a otras capas y v\xE9rtices", pinningButton: "Fijar juntos los v\xE9rtices compartidos", rotateButton: "Rotar capa" } };
  var ja = { tooltips: { placeMarker: "Klik om een marker te plaatsen", firstVertex: "Klik om het eerste punt te plaatsen", continueLine: "Klik om te blijven tekenen", finishLine: "Klik op een bestaand punt om te be\xEBindigen", finishPoly: "Klik op het eerst punt om te be\xEBindigen", finishRect: "Klik om te be\xEBindigen", startCircle: "Klik om het middelpunt te plaatsen", finishCircle: "Klik om de cirkel te be\xEBindigen", placeCircleMarker: "Klik om een marker te plaatsen" }, actions: { finish: "Bewaar", cancel: "Annuleer", removeLastVertex: "Verwijder laatste punt" }, buttonTitles: { drawMarkerButton: "Plaats Marker", drawPolyButton: "Teken een vlak", drawLineButton: "Teken een lijn", drawCircleButton: "Teken een cirkel", drawRectButton: "Teken een vierkant", editButton: "Bewerk", dragButton: "Verplaats", cutButton: "Knip", deleteButton: "Verwijder", drawCircleMarkerButton: "Plaats Marker", snappingButton: "Snap gesleepte marker naar andere lagen en hoekpunten", pinningButton: "Speld gedeelde hoekpunten samen", rotateButton: "Laag roteren" } };
  var Ka = { tooltips: { placeMarker: "Cliquez pour placer un marqueur", firstVertex: "Cliquez pour placer le premier sommet", continueLine: "Cliquez pour continuer \xE0 dessiner", finishLine: "Cliquez sur n'importe quel marqueur pour terminer", finishPoly: "Cliquez sur le premier marqueur pour terminer", finishRect: "Cliquez pour terminer", startCircle: "Cliquez pour placer le centre du cercle", finishCircle: "Cliquez pour finir le cercle", placeCircleMarker: "Cliquez pour placer le marqueur circulaire" }, actions: { finish: "Terminer", cancel: "Annuler", removeLastVertex: "Retirer le dernier sommet" }, buttonTitles: { drawMarkerButton: "Placer des marqueurs", drawPolyButton: "Dessiner des polygones", drawLineButton: "Dessiner des polylignes", drawCircleButton: "Dessiner un cercle", drawRectButton: "Dessiner un rectangle", editButton: "\xC9diter des calques", dragButton: "D\xE9placer des calques", cutButton: "Couper des calques", deleteButton: "Supprimer des calques", drawCircleMarkerButton: "Dessiner un marqueur circulaire", snappingButton: "Glisser le marqueur vers d'autres couches et sommets", pinningButton: "\xC9pingler ensemble les sommets partag\xE9s", rotateButton: "Tourner des calques" } };
  var Ha = { tooltips: { placeMarker: "\u5355\u51FB\u653E\u7F6E\u6807\u8BB0", firstVertex: "\u5355\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9", continueLine: "\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236", finishLine: "\u5355\u51FB\u4EFB\u4F55\u5B58\u5728\u7684\u6807\u8BB0\u4EE5\u5B8C\u6210", finishPoly: "\u5355\u51FB\u7B2C\u4E00\u4E2A\u6807\u8BB0\u4EE5\u5B8C\u6210", finishRect: "\u5355\u51FB\u5B8C\u6210", startCircle: "\u5355\u51FB\u653E\u7F6E\u5706\u5FC3", finishCircle: "\u5355\u51FB\u5B8C\u6210\u5706\u5F62", placeCircleMarker: "\u70B9\u51FB\u653E\u7F6E\u5706\u5F62\u6807\u8BB0" }, actions: { finish: "\u5B8C\u6210", cancel: "\u53D6\u6D88", removeLastVertex: "\u79FB\u9664\u6700\u540E\u7684\u9876\u70B9" }, buttonTitles: { drawMarkerButton: "\u7ED8\u5236\u6807\u8BB0", drawPolyButton: "\u7ED8\u5236\u591A\u8FB9\u5F62", drawLineButton: "\u7ED8\u5236\u7EBF\u6BB5", drawCircleButton: "\u7ED8\u5236\u5706\u5F62", drawRectButton: "\u7ED8\u5236\u957F\u65B9\u5F62", editButton: "\u7F16\u8F91\u56FE\u5C42", dragButton: "\u62D6\u62FD\u56FE\u5C42", cutButton: "\u526A\u5207\u56FE\u5C42", deleteButton: "\u5220\u9664\u56FE\u5C42", drawCircleMarkerButton: "\u753B\u5706\u5708\u6807\u8BB0", snappingButton: "\u5C06\u62D6\u52A8\u7684\u6807\u8BB0\u6355\u6349\u5230\u5176\u4ED6\u56FE\u5C42\u548C\u9876\u70B9", pinningButton: "\u5C06\u5171\u4EAB\u9876\u70B9\u56FA\u5B9A\u5728\u4E00\u8D77", rotateButton: "\u65CB\u8F6C\u56FE\u5C42" } };
  var Xa = { tooltips: { placeMarker: "\u55AE\u64CA\u653E\u7F6E\u6A19\u8A18", firstVertex: "\u55AE\u64CA\u653E\u7F6E\u7B2C\u4E00\u500B\u9802\u9EDE", continueLine: "\u55AE\u64CA\u7E7C\u7E8C\u7E6A\u88FD", finishLine: "\u55AE\u64CA\u4EFB\u4F55\u5B58\u5728\u7684\u6A19\u8A18\u4EE5\u5B8C\u6210", finishPoly: "\u55AE\u64CA\u7B2C\u4E00\u500B\u6A19\u8A18\u4EE5\u5B8C\u6210", finishRect: "\u55AE\u64CA\u5B8C\u6210", startCircle: "\u55AE\u64CA\u653E\u7F6E\u5713\u5FC3", finishCircle: "\u55AE\u64CA\u5B8C\u6210\u5713\u5F62", placeCircleMarker: "\u9EDE\u64CA\u653E\u7F6E\u5713\u5F62\u6A19\u8A18" }, actions: { finish: "\u5B8C\u6210", cancel: "\u53D6\u6D88", removeLastVertex: "\u79FB\u9664\u6700\u5F8C\u4E00\u500B\u9802\u9EDE" }, buttonTitles: { drawMarkerButton: "\u653E\u7F6E\u6A19\u8A18", drawPolyButton: "\u7E6A\u88FD\u591A\u908A\u5F62", drawLineButton: "\u7E6A\u88FD\u7DDA\u6BB5", drawCircleButton: "\u7E6A\u88FD\u5713\u5F62", drawRectButton: "\u7E6A\u88FD\u65B9\u5F62", editButton: "\u7DE8\u8F2F\u5716\u5F62", dragButton: "\u79FB\u52D5\u5716\u5F62", cutButton: "\u88C1\u5207\u5716\u5F62", deleteButton: "\u522A\u9664\u5716\u5F62", drawCircleMarkerButton: "\u756B\u5713\u5708\u6A19\u8A18", snappingButton: "\u5C07\u62D6\u52D5\u7684\u6A19\u8A18\u5C0D\u9F4A\u5230\u5176\u4ED6\u5716\u5C64\u548C\u9802\u9EDE", pinningButton: "\u5C07\u5171\u4EAB\u9802\u9EDE\u56FA\u5B9A\u5728\u4E00\u8D77", rotateButton: "\u65CB\u8F49\u5716\u5F62" } };
  var Ya = { tooltips: { placeMarker: "Clique para posicionar o marcador", firstVertex: "Clique para posicionar o primeiro v\xE9rtice", continueLine: "Clique para continuar desenhando", finishLine: "Clique em qualquer marcador existente para finalizar", finishPoly: "Clique no primeiro marcador para finalizar", finishRect: "Clique para finalizar", startCircle: "Clique para posicionar o centro do c\xEDrculo", finishCircle: "Clique para finalizar o c\xEDrculo", placeCircleMarker: "Clique para posicionar o marcador circular", placeText: "Clique para inserir texto" }, actions: { finish: "Finalizar", cancel: "Cancelar", removeLastVertex: "Remover \xFAltimo v\xE9rtice" }, buttonTitles: { drawMarkerButton: "Desenhar Marcador", drawPolyButton: "Desenhar Pol\xEDgonos", drawLineButton: "Desenhar Linha Poligonal", drawCircleButton: "Desenhar C\xEDrculo", drawRectButton: "Desenhar Ret\xE2ngulo", editButton: "Editar Camadas", dragButton: "Arrastar Camadas", cutButton: "Recortar Camadas", deleteButton: "Remover Camadas", drawCircleMarkerButton: "Desenhar Marcador de C\xEDrculo", snappingButton: "Ajustar marcador arrastado a outras camadas e v\xE9rtices", pinningButton: "Unir v\xE9rtices compartilhados", rotateButton: "Rotacionar Camadas", drawTextButton: "Desenhar Texto", scaleButton: "Redimensionar Camadas", autoTracingButton: "Tra\xE7ado Autom\xE1tico de Linha" }, measurements: { totalLength: "Comprimento", segmentLength: "Comprimento do Segmento", area: "\xC1rea", radius: "Raio", perimeter: "Per\xEDmetro", height: "Altura", width: "Largura", coordinates: "Posi\xE7\xE3o", coordinatesMarker: "Marcador de Posi\xE7\xE3o" } };
  var Ja = { tooltips: { placeMarker: "Clique para colocar marcador", firstVertex: "Clique para colocar primeiro v\xE9rtice", continueLine: "Clique para continuar a desenhar", finishLine: "Clique num marcador existente para terminar", finishPoly: "Clique no primeiro marcador para terminar", finishRect: "Clique para terminar", startCircle: "Clique para colocar o centro do c\xEDrculo", finishCircle: "Clique para terminar o c\xEDrculo", placeCircleMarker: "Clique para colocar marcador de c\xEDrculo", placeText: "Clique para colocar texto" }, actions: { finish: "Terminar", cancel: "Cancelar", removeLastVertex: "Remover \xDAltimo V\xE9rtice" }, buttonTitles: { drawMarkerButton: "Desenhar Marcador", drawPolyButton: "Desenhar Pol\xEDgonos", drawLineButton: "Desenhar Polilinha", drawCircleButton: "Desenhar C\xEDrculo", drawRectButton: "Desenhar Ret\xE2ngulo", editButton: "Editar Camadas", dragButton: "Arrastar Camadas", cutButton: "Cortar Camadas", deleteButton: "Remover Camadas", drawCircleMarkerButton: "Desenhar Marcador de C\xEDrculo", snappingButton: "Ajustar marcador arrastado a outras camadas e v\xE9rtices", pinningButton: "Unir v\xE9rtices partilhados", rotateButton: "Rodar Camadas", drawTextButton: "Desenhar Texto", scaleButton: "Escalar Camadas", autoTracingButton: "Tra\xE7ado Autom\xE1tico de Linha" }, measurements: { totalLength: "Comprimento", segmentLength: "Comprimento do Segmento", area: "\xC1rea", radius: "Raio", perimeter: "Per\xEDmetro", height: "Altura", width: "Largura", coordinates: "Posi\xE7\xE3o", coordinatesMarker: "Marcador de Posi\xE7\xE3o" } };
  var $a = { tooltips: { placeMarker: "Kliknij, aby umie\u015Bci\u0107 znacznik", firstVertex: "Kliknij, aby umie\u015Bci\u0107 pierwszy wierzcho\u0142ek", continueLine: "Kliknij, aby kontynuowa\u0107 rysowanie", finishLine: "Kliknij dowolny istniej\u0105cy znacznik, aby zako\u0144czy\u0107", finishPoly: "Kliknij pierwszy znacznik, aby zako\u0144czy\u0107", finishRect: "Kliknij, aby zako\u0144czy\u0107", startCircle: "Kliknij, aby umie\u015Bci\u0107 \u015Brodek okr\u0119gu", finishCircle: "Kliknij, aby zako\u0144czy\u0107 okr\u0105g", placeCircleMarker: "Kliknij, aby umie\u015Bci\u0107 znacznik okr\u0119gu", placeText: "Kliknij, aby umie\u015Bci\u0107 tekst" }, actions: { finish: "Zako\u0144cz", cancel: "Anuluj", removeLastVertex: "Usu\u0144 ostatni wierzcho\u0142ek" }, buttonTitles: { drawMarkerButton: "Rysuj znacznik", drawPolyButton: "Rysuj wielok\u0105t", drawLineButton: "Rysuj lini\u0119", drawCircleButton: "Rysuj okr\u0105g", drawRectButton: "Rysuj prostok\u0105t", editButton: "Edytuj warstwy", dragButton: "Przeci\u0105gnij warstwy", cutButton: "Wytnij warstwy", deleteButton: "Usu\u0144 warstwy", drawCircleMarkerButton: "Rysuj znacznik okr\u0105g\u0142y", snappingButton: "Przyci\u0105gnij przenoszony znacznik do innych warstw i wierzcho\u0142k\xF3w", pinningButton: "Przypnij wsp\xF3lne wierzcho\u0142ki razem", rotateButton: "Obr\xF3\u0107 warstwy", drawTextButton: "Rysuj tekst", scaleButton: "Skaluj warstwy", autoTracingButton: "Automatyczne \u015Bledzenie linii" }, measurements: { totalLength: "D\u0142ugo\u015B\u0107", segmentLength: "D\u0142ugo\u015B\u0107 odcinka", area: "Obszar", radius: "Promie\u0144", perimeter: "Obw\xF3d", height: "Wysoko\u015B\u0107", width: "Szeroko\u015B\u0107", coordinates: "Pozycja", coordinatesMarker: "Znacznik pozycji" } };
  var Za = { tooltips: { placeMarker: "Klicka f\xF6r att placera mark\xF6r", firstVertex: "Klicka f\xF6r att placera f\xF6rsta h\xF6rnet", continueLine: "Klicka f\xF6r att forts\xE4tta rita", finishLine: "Klicka p\xE5 en existerande punkt f\xF6r att slutf\xF6ra", finishPoly: "Klicka p\xE5 den f\xF6rsta punkten f\xF6r att slutf\xF6ra", finishRect: "Klicka f\xF6r att slutf\xF6ra", startCircle: "Klicka f\xF6r att placera cirkelns centrum", finishCircle: "Klicka f\xF6r att slutf\xF6ra cirkeln", placeCircleMarker: "Klicka f\xF6r att placera cirkelmark\xF6r" }, actions: { finish: "Slutf\xF6r", cancel: "Avbryt", removeLastVertex: "Ta bort sista h\xF6rnet" }, buttonTitles: { drawMarkerButton: "Rita Mark\xF6r", drawPolyButton: "Rita Polygoner", drawLineButton: "Rita Linje", drawCircleButton: "Rita Cirkel", drawRectButton: "Rita Rektangel", editButton: "Redigera Lager", dragButton: "Dra Lager", cutButton: "Klipp i Lager", deleteButton: "Ta bort Lager", drawCircleMarkerButton: "Rita Cirkelmark\xF6r", snappingButton: "Sn\xE4pp dra mark\xF6ren till andra lager och h\xF6rn", pinningButton: "F\xE4st delade h\xF6rn tillsammans", rotateButton: "Rotera lagret" } };
  var Wa = { tooltips: { placeMarker: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7", firstVertex: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF", continueLine: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C7\u03B5\u03B4\u03B9\u03AC\u03B6\u03B5\u03C4\u03B5", finishLine: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03B5 \u03BF\u03C0\u03BF\u03B9\u03BF\u03BD\u03B4\u03AE\u03C0\u03BF\u03C4\u03B5 \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03BD \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03C9\u03B8\u03B5\u03AF", finishPoly: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5", finishRect: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5", startCircle: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03BA\u03AD\u03BD\u03C4\u03C1\u03BF \u039A\u03CD\u03BA\u03BB\u03BF\u03C5", finishCircle: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u039A\u03CD\u03BA\u03BB\u03BF", placeCircleMarker: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03CC \u0394\u03B5\u03AF\u03BA\u03C4\u03B7" }, actions: { finish: "\u03A4\u03AD\u03BB\u03BF\u03C2", cancel: "\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7", removeLastVertex: "\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u03C4\u03B5\u03BB\u03B5\u03C5\u03C4\u03B1\u03AF\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5" }, buttonTitles: { drawMarkerButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7", drawPolyButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u03A0\u03BF\u03BB\u03C5\u03B3\u03CE\u03BD\u03BF\u03C5", drawLineButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0393\u03C1\u03B1\u03BC\u03BC\u03AE\u03C2", drawCircleButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03CD\u03BA\u03BB\u03BF\u03C5", drawRectButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039F\u03C1\u03B8\u03BF\u03B3\u03C9\u03BD\u03AF\u03BF\u03C5", editButton: "\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", dragButton: "\u039C\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", cutButton: "\u0391\u03C0\u03BF\u03BA\u03BF\u03C0\u03AE \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", deleteButton: "\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", drawCircleMarkerButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03BF\u03CD \u0394\u03B5\u03AF\u03BA\u03C4\u03B7", snappingButton: "\u03A0\u03C1\u03BF\u03C3\u03BA\u03CC\u03BB\u03BB\u03B7\u03C3\u03B7 \u03C4\u03BF\u03C5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC\u03C2 \u03C3\u03B5 \u03AC\u03BB\u03BB\u03B1 \u0395\u03C0\u03AF\u03C0\u03B5\u03B4\u03B1 \u03BA\u03B1\u03B9 \u039A\u03BF\u03C1\u03C5\u03C6\u03AD\u03C2", pinningButton: "\u03A0\u03B5\u03C1\u03B9\u03BA\u03BF\u03C0\u03AE \u03BA\u03BF\u03B9\u03BD\u03CE\u03BD \u03BA\u03BF\u03C1\u03C5\u03C6\u03CE\u03BD \u03BC\u03B1\u03B6\u03AF", rotateButton: "\u03A0\u03B5\u03C1\u03B9\u03C3\u03C4\u03C1\u03AD\u03C8\u03C4\u03B5 \u03C4\u03BF \u03C3\u03C4\u03C1\u03CE\u03BC\u03B1" } };
  var Qa = { tooltips: { placeMarker: "Kattintson a jel\xF6l\u0151 elhelyez\xE9s\xE9hez", firstVertex: "Kattintson az els\u0151 pont elhelyez\xE9s\xE9hez", continueLine: "Kattintson a k\xF6vetkez\u0151 pont elhelyez\xE9s\xE9hez", finishLine: "A befejez\xE9shez kattintson egy megl\xE9v\u0151 pontra", finishPoly: "A befejez\xE9shez kattintson az els\u0151 pontra", finishRect: "Kattintson a befejez\xE9shez", startCircle: "Kattintson a k\xF6r k\xF6z\xE9ppontj\xE1nak elhelyez\xE9s\xE9hez", finishCircle: "Kattintson a k\xF6r befejez\xE9s\xE9hez", placeCircleMarker: "Kattintson a k\xF6rjel\xF6l\u0151 elhelyez\xE9s\xE9hez" }, actions: { finish: "Befejez\xE9s", cancel: "M\xE9gse", removeLastVertex: "Utols\xF3 pont elt\xE1vol\xEDt\xE1sa" }, buttonTitles: { drawMarkerButton: "Jel\xF6l\u0151 rajzol\xE1sa", drawPolyButton: "Poligon rajzol\xE1sa", drawLineButton: "Vonal rajzol\xE1sa", drawCircleButton: "K\xF6r rajzol\xE1sa", drawRectButton: "N\xE9gyzet rajzol\xE1sa", editButton: "Elemek szerkeszt\xE9se", dragButton: "Elemek mozgat\xE1sa", cutButton: "Elemek v\xE1g\xE1sa", deleteButton: "Elemek t\xF6rl\xE9se", drawCircleMarkerButton: "K\xF6r jel\xF6l\u0151 rajzol\xE1sa", snappingButton: "Kapcsolja a jel\xF6lt\u0151t m\xE1sik elemhez vagy ponthoz", pinningButton: "K\xF6z\xF6s pontok \xF6sszek\xF6t\xE9se", rotateButton: "F\xF3lia elforgat\xE1sa" } };
  var to = { tooltips: { placeMarker: "Tryk for at placere en mark\xF8r", firstVertex: "Tryk for at placere det f\xF8rste punkt", continueLine: "Tryk for at forts\xE6tte linjen", finishLine: "Tryk p\xE5 et eksisterende punkt for at afslutte", finishPoly: "Tryk p\xE5 det f\xF8rste punkt for at afslutte", finishRect: "Tryk for at afslutte", startCircle: "Tryk for at placere cirklens center", finishCircle: "Tryk for at afslutte cirklen", placeCircleMarker: "Tryk for at placere en cirkelmark\xF8r" }, actions: { finish: "Afslut", cancel: "Afbryd", removeLastVertex: "Fjern sidste punkt" }, buttonTitles: { drawMarkerButton: "Placer mark\xF8r", drawPolyButton: "Tegn polygon", drawLineButton: "Tegn linje", drawCircleButton: "Tegn cirkel", drawRectButton: "Tegn firkant", editButton: "Rediger", dragButton: "Tr\xE6k", cutButton: "Klip", deleteButton: "Fjern", drawCircleMarkerButton: "Tegn cirkelmark\xF8r", snappingButton: "Fastg\xF8r trukket mark\xF8r til andre elementer", pinningButton: "Sammenl\xE6g delte elementer", rotateButton: "Roter laget" } };
  var eo = { tooltips: { placeMarker: "Klikk for \xE5 plassere punkt", firstVertex: "Klikk for \xE5 plassere f\xF8rste punkt", continueLine: "Klikk for \xE5 tegne videre", finishLine: "Klikk p\xE5 et eksisterende punkt for \xE5 fullf\xF8re", finishPoly: "Klikk f\xF8rste punkt for \xE5 fullf\xF8re", finishRect: "Klikk for \xE5 fullf\xF8re", startCircle: "Klikk for \xE5 sette sirkel midtpunkt", finishCircle: "Klikk for \xE5 fullf\xF8re sirkel", placeCircleMarker: "Klikk for \xE5 plassere sirkel", placeText: "Klikk for \xE5 plassere tekst" }, actions: { finish: "Fullf\xF8r", cancel: "Kanseller", removeLastVertex: "Fjern forrige punkt" }, buttonTitles: { drawMarkerButton: "Tegn punkt", drawPolyButton: "Tegn flate", drawLineButton: "Tegn linje", drawCircleButton: "Tegn sirkel", drawRectButton: "Tegn rektangel", editButton: "Rediger objekter", dragButton: "Dra objekter", cutButton: "Kutt objekter", deleteButton: "Fjern objekter", drawCircleMarkerButton: "Tegn sirkel-punkt", snappingButton: "Fest dratt punkt til andre objekter og punkt", pinningButton: "Pin delte punkter sammen", rotateButton: "Rot\xE9r objekter", drawTextButton: "Tegn tekst", scaleButton: "Skal\xE9r objekter", autoTracingButton: "Automatisk sporing av linje" }, measurements: { totalLength: "Lengde", segmentLength: "Segmentlengde", area: "Omr\xE5de", radius: "Radius", perimeter: "Omriss", height: "H\xF8yde", width: "Bredde", coordinates: "Posisjon", coordinatesMarker: "Posisjonsmark\xF8r" } };
  var io = { tooltips: { placeMarker: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u062C\u0627\u0646\u0645\u0627\u06CC\u06CC \u0646\u0634\u0627\u0646", firstVertex: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0627\u0648\u0644\u06CC\u0646 \u0631\u0623\u0633", continueLine: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0627\u062F\u0627\u0645\u0647 \u0631\u0633\u0645", finishLine: "\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062C\u0648\u062F \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646", finishPoly: "\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0627\u0648\u0644\u06CC\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646", finishRect: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646", startCircle: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0645\u0631\u06A9\u0632 \u062F\u0627\u06CC\u0631\u0647", finishCircle: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646 \u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647", placeCircleMarker: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647", placeText: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0646\u0648\u0634\u062A\u0646 \u0645\u062A\u0646" }, actions: { finish: "\u067E\u0627\u06CC\u0627\u0646", cancel: "\u0644\u0641\u0648", removeLastVertex: "\u062D\u0630\u0641 \u0622\u062E\u0631\u06CC\u0646 \u0631\u0623\u0633" }, buttonTitles: { drawMarkerButton: "\u062F\u0631\u062C \u0646\u0634\u0627\u0646", drawPolyButton: "\u0631\u0633\u0645 \u0686\u0646\u062F\u0636\u0644\u0639\u06CC", drawLineButton: "\u0631\u0633\u0645 \u062E\u0637", drawCircleButton: "\u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647", drawRectButton: "\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06CC", editButton: "\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", dragButton: "\u062C\u0627\u0628\u062C\u0627\u06CC\u06CC \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", cutButton: "\u0628\u0631\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", deleteButton: "\u062D\u0630\u0641 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", drawCircleMarkerButton: "\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647", snappingButton: "\u0646\u0634\u0627\u0646\u06AF\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062F\u06CC\u06AF\u0631 \u0628\u06A9\u0634\u06CC\u062F", pinningButton: "\u0631\u0626\u0648\u0633 \u0645\u0634\u062A\u0631\u06A9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067E\u06CC\u0646 \u06A9\u0646\u06CC\u062F", rotateButton: "\u0686\u0631\u062E\u0634 \u0644\u0627\u06CC\u0647", drawTextButton: "\u0631\u0633\u0645 \u0645\u062A\u0646", scaleButton: "\u0645\u0642\u06CC\u0627\u0633\u200C\u06AF\u0630\u0627\u0631\u06CC", autoTracingButton: "\u0631\u062F\u06CC\u0627\u0628 \u062E\u0648\u062F\u06A9\u0627\u0631" }, measurements: { totalLength: "\u0637\u0648\u0644", segmentLength: "\u0637\u0648\u0644 \u0628\u062E\u0634", area: "\u0646\u0627\u062D\u06CC\u0647", radius: "\u0634\u0639\u0627\u0639", perimeter: "\u0645\u062D\u06CC\u0637", height: "\u0627\u0631\u062A\u0641\u0627\u0639", width: "\u0639\u0631\u0636", coordinates: "\u0645\u0648\u0642\u0639\u06CC\u062A", coordinatesMarker: "\u0645\u0648\u0642\u0639\u06CC\u062A \u0646\u0634\u0627\u0646" } };
  var ro = { tooltips: { placeMarker: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440", firstVertex: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043D\u0443", continueLine: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043C\u0430\u043B\u044E\u0432\u0430\u0442\u0438", finishLine: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u0439 \u0456\u0441\u043D\u0443\u044E\u0447\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044F", finishPoly: "\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u0435\u0440\u0448\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438", finishRect: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438", startCircle: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u0446\u0435\u043D\u0442\u0440 \u043A\u043E\u043B\u0430", finishCircle: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043A\u043E\u043B\u043E", placeCircleMarker: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440" }, actions: { finish: "\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438", cancel: "\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438", removeLastVertex: "\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044E \u0432\u0435\u0440\u0448\u0438\u043D\u0443" }, buttonTitles: { drawMarkerButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440", drawPolyButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u043B\u0456\u0433\u043E\u043D", drawLineButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0438\u0432\u0443", drawCircleButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u043B\u043E", drawRectButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A", editButton: "\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438", dragButton: "\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438", cutButton: "\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438", deleteButton: "\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0448\u0430\u0440\u0438", drawCircleMarkerButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440", snappingButton: "\u041F\u0440\u0438\u0432\u2019\u044F\u0437\u0430\u0442\u0438 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0443\u0442\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043E \u0456\u043D\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043D", pinningButton: "\u0417\u0432'\u044F\u0437\u0430\u0442\u0438 \u0441\u043F\u0456\u043B\u044C\u043D\u0456 \u0432\u0435\u0440\u0448\u0438\u043D\u0438 \u0440\u0430\u0437\u043E\u043C", rotateButton: "\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0448\u0430\u0440" } };
  var no = { tooltips: { placeMarker: "\u0130\u015Faret\xE7i yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n", firstVertex: "\u0130lk tepe noktas\u0131n\u0131 yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n", continueLine: "\xC7izime devam etmek i\xE7in t\u0131klay\u0131n", finishLine: "Bitirmek i\xE7in mevcut herhangi bir i\u015Faret\xE7iyi t\u0131klay\u0131n", finishPoly: "Bitirmek i\xE7in ilk i\u015Faret\xE7iyi t\u0131klay\u0131n", finishRect: "Bitirmek i\xE7in t\u0131klay\u0131n", startCircle: "Daire merkezine yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n", finishCircle: "Daireyi bitirmek i\xE7in t\u0131klay\u0131n", placeCircleMarker: "Daire i\u015Faret\xE7isi yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n" }, actions: { finish: "Bitir", cancel: "\u0130ptal", removeLastVertex: "Son k\xF6\u015Feyi kald\u0131r" }, buttonTitles: { drawMarkerButton: "\xC7izim \u0130\u015Faret\xE7isi", drawPolyButton: "\xC7okgenler \xE7iz", drawLineButton: "\xC7oklu \xE7izgi \xE7iz", drawCircleButton: "\xC7ember \xE7iz", drawRectButton: "Dikd\xF6rtgen \xE7iz", editButton: "Katmanlar\u0131 d\xFCzenle", dragButton: "Katmanlar\u0131 s\xFCr\xFCkle", cutButton: "Katmanlar\u0131 kes", deleteButton: "Katmanlar\u0131 kald\u0131r", drawCircleMarkerButton: "Daire i\u015Faret\xE7isi \xE7iz", snappingButton: "S\xFCr\xFCklenen i\u015Faret\xE7iyi di\u011Fer katmanlara ve k\xF6\u015Felere yap\u0131\u015Ft\u0131r", pinningButton: "Payla\u015F\u0131lan k\xF6\u015Feleri birbirine sabitle", rotateButton: "Katman\u0131 d\xF6nd\xFCr" } };
  var so = { tooltips: { placeMarker: "Kliknut\xEDm vytvo\u0159\xEDte zna\u010Dku", firstVertex: "Kliknut\xEDm vytvo\u0159\xEDte prvn\xED objekt", continueLine: "Kliknut\xEDm pokra\u010Dujte v kreslen\xED", finishLine: "Kliknut\xED na libovolnou existuj\xEDc\xED zna\u010Dku pro dokon\u010Den\xED", finishPoly: "Vyberte prvn\xED bod pro dokon\u010Den\xED", finishRect: "Klikn\u011Bte pro dokon\u010Den\xED", startCircle: "Kliknut\xEDm p\u0159idejte st\u0159ed kruhu", finishCircle: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441", placeCircleMarker: "Kliknut\xEDm nastavte polom\u011Br" }, actions: { finish: "Dokon\u010Dit", cancel: "Zru\u0161it", removeLastVertex: "Zru\u0161it posledn\xED akci" }, buttonTitles: { drawMarkerButton: "P\u0159idat zna\u010Dku", drawPolyButton: "Nakreslit polygon", drawLineButton: "Nakreslit k\u0159ivku", drawCircleButton: "Nakreslit kruh", drawRectButton: "Nakreslit obd\xE9ln\xEDk", editButton: "Upravit vrstvu", dragButton: "P\u0159eneste vrstvu", cutButton: "Vyjmout vrstvu", deleteButton: "Smazat vrstvu", drawCircleMarkerButton: "P\u0159idat kruhovou zna\u010Dku", snappingButton: "Nav\xE1zat ta\u017Enou zna\u010Dku k dal\u0161\xEDm vrstv\xE1m a vrchol\u016Fm", pinningButton: "Spojit spole\u010Dn\xE9 body dohromady", rotateButton: "Oto\u010Dte vrstvu" } };
  var ao = { tooltips: { placeMarker: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E", firstVertex: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u6700\u521D\u306E\u9802\u70B9\u3092\u914D\u7F6E", continueLine: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u63CF\u753B\u3092\u7D9A\u3051\u308B", finishLine: "\u4EFB\u610F\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86", finishPoly: "\u6700\u521D\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86", finishRect: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86", startCircle: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u4E2D\u5FC3\u3092\u914D\u7F6E", finishCircle: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u63CF\u753B\u3092\u7D42\u4E86", placeCircleMarker: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E", placeText: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30C6\u30AD\u30B9\u30C8\u3092\u914D\u7F6E" }, actions: { finish: "\u7D42\u4E86", cancel: "\u30AD\u30E3\u30F3\u30BB\u30EB", removeLastVertex: "\u6700\u5F8C\u306E\u9802\u70B9\u3092\u524A\u9664" }, buttonTitles: { drawMarkerButton: "\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B", drawPolyButton: "\u30DD\u30EA\u30B4\u30F3\u3092\u63CF\u753B", drawLineButton: "\u6298\u308C\u7DDA\u3092\u63CF\u753B", drawCircleButton: "\u5186\u3092\u63CF\u753B", drawRectButton: "\u77E9\u5F62\u3092\u63CF\u753B", editButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u7DE8\u96C6", dragButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u30C9\u30E9\u30C3\u30B0", cutButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u5207\u308A\u53D6\u308A", deleteButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u524A\u9664", drawCircleMarkerButton: "\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B", snappingButton: "\u30C9\u30E9\u30C3\u30B0\u3057\u305F\u30DE\u30FC\u30AB\u30FC\u3092\u4ED6\u306E\u30EC\u30A4\u30E4\u30FC\u3084\u9802\u70B9\u306B\u30B9\u30CA\u30C3\u30D7\u3059\u308B", pinningButton: "\u5171\u6709\u3059\u308B\u9802\u70B9\u3092\u540C\u6642\u306B\u52D5\u304B\u3059", rotateButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u56DE\u8EE2", drawTextButton: "\u30C6\u30AD\u30B9\u30C8\u3092\u63CF\u753B" } };
  var oo = { tooltips: { placeMarker: "Klikkaa asettaaksesi merkin", firstVertex: "Klikkaa asettaakseni ensimm\xE4isen osuuden", continueLine: "Klikkaa jatkaaksesi piirt\xE4mist\xE4", finishLine: "Klikkaa olemassa olevaa merkki\xE4 lopettaaksesi", finishPoly: "Klikkaa ensimm\xE4ist\xE4 merkki\xE4 lopettaaksesi", finishRect: "Klikkaa lopettaaksesi", startCircle: "Klikkaa asettaaksesi ympyr\xE4n keskipisteen", finishCircle: "Klikkaa lopettaaksesi ympyr\xE4n", placeCircleMarker: "Klikkaa asettaaksesi ympyr\xE4merkin", placeText: "Klikkaa asettaaksesi tekstin" }, actions: { finish: "Valmis", cancel: "Peruuta", removeLastVertex: "Poista viimeinen osuus" }, buttonTitles: { drawMarkerButton: "Piirr\xE4 merkkej\xE4", drawPolyButton: "Piirr\xE4 monikulmioita", drawLineButton: "Piirr\xE4 viivoja", drawCircleButton: "Piirr\xE4 ympyr\xE4", drawRectButton: "Piirr\xE4 neliskulmioita", editButton: "Muokkaa", dragButton: "Siirr\xE4", cutButton: "Leikkaa", deleteButton: "Poista", drawCircleMarkerButton: "Piirr\xE4 ympyr\xE4merkki", snappingButton: "Kiinnit\xE4 siirrett\xE4v\xE4 merkki toisiin muotoihin", pinningButton: "Kiinnit\xE4 jaetut muodot yhteen", rotateButton: "K\xE4\xE4nn\xE4", drawTextButton: "Piirr\xE4 teksti\xE4" } };
  var lo = { tooltips: { placeMarker: "\uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694", firstVertex: "\uCCAB\uBC88\uC9F8 \uAF2D\uC9C0\uC810 \uC704\uCE58\uC744 \uD074\uB9AD\uD558\uC138\uC694", continueLine: "\uACC4\uC18D \uADF8\uB9AC\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694", finishLine: "\uB05D\uB0B4\uB824\uBA74 \uAE30\uC874 \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694", finishPoly: "\uB05D\uB0B4\uB824\uBA74 \uCC98\uC74C \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694", finishRect: "\uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694", startCircle: "\uC6D0\uC758 \uC911\uC2EC\uC774 \uB420 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694", finishCircle: "\uC6D0\uC744 \uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694", placeCircleMarker: "\uC6D0 \uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694", placeText: "\uD14D\uC2A4\uD2B8 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694" }, actions: { finish: "\uB05D\uB0B4\uAE30", cancel: "\uCDE8\uC18C", removeLastVertex: "\uB9C8\uC9C0\uB9C9 \uAF2D\uC9C0\uC810 \uC81C\uAC70" }, buttonTitles: { drawMarkerButton: "\uB9C8\uCEE4 \uADF8\uB9AC\uAE30", drawPolyButton: "\uB2E4\uAC01\uD615 \uADF8\uB9AC\uAE30", drawLineButton: "\uB2E4\uAC01\uC120 \uADF8\uB9AC\uAE30", drawCircleButton: "\uC6D0 \uADF8\uB9AC\uAE30", drawRectButton: "\uC9C1\uC0AC\uAC01\uD615 \uADF8\uB9AC\uAE30", editButton: "\uB808\uC774\uC5B4 \uD3B8\uC9D1\uD558\uAE30", dragButton: "\uB808\uC774\uC5B4 \uB04C\uAE30", cutButton: "\uB808\uC774\uC5B4 \uC790\uB974\uAE30", deleteButton: "\uB808\uC774\uC5B4 \uC81C\uAC70\uD558\uAE30", drawCircleMarkerButton: "\uC6D0 \uB9C8\uCEE4 \uADF8\uB9AC\uAE30", snappingButton: "\uC7A1\uC544\uB048 \uB9C8\uCEE4\uB97C \uB2E4\uB978 \uB808\uC774\uC5B4 \uBC0F \uAF2D\uC9C0\uC810\uC5D0 \uB4E4\uB7EC\uBD99\uAC8C \uD558\uAE30", pinningButton: "\uACF5\uC720 \uAF2D\uC9C0\uC810\uC744 \uD568\uAED8 \uCC0D\uAE30", rotateButton: "\uB808\uC774\uC5B4 \uD68C\uC804\uD558\uAE30", drawTextButton: "\uD14D\uC2A4\uD2B8 \uADF8\uB9AC\uAE30" } };
  var ho = { tooltips: { placeMarker: "\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", firstVertex: "\u0411\u0438\u0440\u0438\u043D\u0447\u0438 \u0447\u043E\u043A\u0443\u043D\u0443 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", continueLine: "\u0421\u04AF\u0440\u04E9\u0442 \u0442\u0430\u0440\u0442\u0443\u0443\u043D\u0443 \u0443\u043B\u0430\u043D\u0442\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishLine: "\u0410\u044F\u043A\u0442\u043E\u043E \u04AF\u0447\u04AF\u043D \u0443\u0447\u0443\u0440\u0434\u0430\u0433\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishPoly: "\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0438\u0440\u0438\u043D\u0447\u0438 \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishRect: "\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", startCircle: "\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B\u043D \u0431\u043E\u0440\u0431\u043E\u0440\u0443\u043D \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishCircle: "\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B \u0431\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", placeCircleMarker: "\u0422\u0435\u0433\u0435\u0440\u0435\u043A \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", placeText: "\u0422\u0435\u043A\u0441\u0442\u0442\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437" }, actions: { finish: "\u0410\u044F\u0433\u044B", cancel: "\u0416\u043E\u043A \u043A\u044B\u043B\u0443\u0443", removeLastVertex: "\u0410\u043A\u044B\u0440\u043A\u044B \u0447\u043E\u043A\u0443\u043D\u0443 \u04E9\u0447\u04AF\u0440\u04AF\u04AF" }, buttonTitles: { drawMarkerButton: "\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443", drawPolyButton: "\u041F\u043E\u043B\u0438\u0433\u043E\u043D \u0447\u0438\u0437\u0443\u0443", drawLineButton: "\u041F\u043E\u043B\u0438\u043B\u0438\u043D\u0438\u044F \u0447\u0438\u0437\u0443\u0443", drawCircleButton: "\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u0447\u0438\u0437\u0443\u0443", drawRectButton: "\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A \u0447\u0438\u0437\u0443\u0443", editButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u0442\u04AF\u0437\u04E9\u0442\u04AF\u04AF", dragButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u043A\u0430\u0440\u0430\u043F \u0441\u04AF\u0439\u043B\u04E9\u04AF", cutButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u0431\u0430\u0448\u044B\u043D \u043A\u0435\u0441\u04AF\u04AF", deleteButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0447\u04AF\u0440\u04AF\u04AF", drawCircleMarkerButton: "\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443", snappingButton: "\u0411\u0430\u0448\u043A\u0430 \u0441\u043B\u043E\u043E\u043F\u0442\u043E\u0440\u0434\u0443\u043D \u0436\u0430\u043D\u0430 \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438\u043D \u0430\u0440\u0430\u0441\u044B\u043D\u0430 \u0447\u0435\u043A\u0438\u043B\u0434\u04E9\u04E9", pinningButton: "\u0411\u04E9\u043B\u04AF\u0448\u043A\u04E9\u043D \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438 \u0431\u0438\u0440\u0433\u0435 \u0442\u0443\u0442\u0443\u0448\u0442\u0443\u0440\u0443\u0443", rotateButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF", drawTextButton: "\u0422\u0435\u043A\u0441\u0442 \u0447\u0438\u0437\u0443\u0443", scaleButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u043B\u0447\u04E9\u043C\u04AF\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF", autoTracingButton: "\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0442\u044B\u043A \u0442\u0438\u0437\u043C\u0435\u0433\u0438 \u0447\u0438\u0437\u0443\u0443" }, measurements: { totalLength: "\u0423\u0437\u0443\u043D\u0434\u0443\u043A", segmentLength: "\u0421\u0435\u0433\u043C\u0435\u043D\u0442 \u0443\u0437\u0443\u043D\u0434\u0443\u0433\u0443", area: "\u0410\u0439\u043C\u0430\u043A", radius: "\u0420\u0430\u0434\u0438\u0443\u0441", perimeter: "\u041F\u0435\u0440\u0438\u043C\u0435\u0442\u0440", height: "\u0414\u0438\u0430\u043C\u0435\u0442\u0440", width: "\u041A\u0435\u043D\u0447\u0438\u043B\u0438\u043A", coordinates: "\u041A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440", coordinatesMarker: "\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438\u043D \u043A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440\u044B" } };
  var Nt = { en: Ga, de: qa, it: Na, id: za, ro: Fa, ru: Va, es: Ua, nl: ja, fr: Ka, pt_br: Ya, pt_pt: Ja, zh: Ha, zh_tw: Xa, pl: $a, sv: Za, el: Wa, hu: Qa, da: to, no: eo, fa: io, ua: ro, tr: no, cz: so, ja: ao, fi: oo, ko: lo, ky: ho };
  var mg = { _globalEditModeEnabled: false, enableGlobalEditMode(t) {
    let e = { ...t };
    this._globalEditModeEnabled = true, this.Toolbar.toggleButton("editMode", this.globalEditModeEnabled()), L.PM.Utils.findLayers(this.map).forEach((r) => {
      this._isRelevantForEdit(r) && r.pm.enable(e);
    }), this.throttledReInitEdit || (this.throttledReInitEdit = L.Util.throttle(this.handleLayerAdditionInGlobalEditMode, 100, this)), this._addedLayersEdit = {}, this.map.on("layeradd", this._layerAddedEdit, this), this.map.on("layeradd", this.throttledReInitEdit, this), this._fireGlobalEditModeToggled(true);
  }, disableGlobalEditMode() {
    this._globalEditModeEnabled = false, L.PM.Utils.findLayers(this.map).forEach((e) => {
      e.pm.disable();
    }), this.map.off("layeradd", this._layerAddedEdit, this), this.map.off("layeradd", this.throttledReInitEdit, this), this.Toolbar.toggleButton("editMode", this.globalEditModeEnabled()), this._fireGlobalEditModeToggled(false);
  }, globalEditEnabled() {
    return this.globalEditModeEnabled();
  }, globalEditModeEnabled() {
    return this._globalEditModeEnabled;
  }, toggleGlobalEditMode(t = this.globalOptions) {
    this.globalEditModeEnabled() ? this.disableGlobalEditMode() : this.enableGlobalEditMode(t);
  }, handleLayerAdditionInGlobalEditMode() {
    let t = this._addedLayersEdit;
    if (this._addedLayersEdit = {}, this.globalEditModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForEdit(i) && i.pm.enable({ ...this.globalOptions });
      }
  }, _layerAddedEdit({ layer: t }) {
    this._addedLayersEdit[L.stamp(t)] = t;
  }, _isRelevantForEdit(t) {
    return t.pm && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.allowEditing;
  } }, uo = mg;
  var _g = { _globalDragModeEnabled: false, enableGlobalDragMode() {
    let t = L.PM.Utils.findLayers(this.map);
    this._globalDragModeEnabled = true, this._addedLayersDrag = {}, t.forEach((e) => {
      this._isRelevantForDrag(e) && e.pm.enableLayerDrag();
    }), this.throttledReInitDrag || (this.throttledReInitDrag = L.Util.throttle(this.reinitGlobalDragMode, 100, this)), this.map.on("layeradd", this._layerAddedDrag, this), this.map.on("layeradd", this.throttledReInitDrag, this), this.Toolbar.toggleButton("dragMode", this.globalDragModeEnabled()), this._fireGlobalDragModeToggled(true);
  }, disableGlobalDragMode() {
    let t = L.PM.Utils.findLayers(this.map);
    this._globalDragModeEnabled = false, t.forEach((e) => {
      e.pm.disableLayerDrag();
    }), this.map.off("layeradd", this._layerAddedDrag, this), this.map.off("layeradd", this.throttledReInitDrag, this), this.Toolbar.toggleButton("dragMode", this.globalDragModeEnabled()), this._fireGlobalDragModeToggled(false);
  }, globalDragModeEnabled() {
    return !!this._globalDragModeEnabled;
  }, toggleGlobalDragMode() {
    this.globalDragModeEnabled() ? this.disableGlobalDragMode() : this.enableGlobalDragMode();
  }, reinitGlobalDragMode() {
    let t = this._addedLayersDrag;
    if (this._addedLayersDrag = {}, this.globalDragModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForDrag(i) && i.pm.enableLayerDrag();
      }
  }, _layerAddedDrag({ layer: t }) {
    this._addedLayersDrag[L.stamp(t)] = t;
  }, _isRelevantForDrag(t) {
    return t.pm && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.draggable;
  } }, co = _g;
  var yg = { _globalRemovalModeEnabled: false, enableGlobalRemovalMode() {
    this._globalRemovalModeEnabled = true, this.map.eachLayer((t) => {
      this._isRelevantForRemoval(t) && (t.pm.enabled() && t.pm.disable(), t.on("click", this.removeLayer, this));
    }), this.throttledReInitRemoval || (this.throttledReInitRemoval = L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode, 100, this)), this._addedLayersRemoval = {}, this.map.on("layeradd", this._layerAddedRemoval, this), this.map.on("layeradd", this.throttledReInitRemoval, this), this.Toolbar.toggleButton("removalMode", this.globalRemovalModeEnabled()), this._fireGlobalRemovalModeToggled(true);
  }, disableGlobalRemovalMode() {
    this._globalRemovalModeEnabled = false, this.map.eachLayer((t) => {
      t.off("click", this.removeLayer, this);
    }), this.map.off("layeradd", this._layerAddedRemoval, this), this.map.off("layeradd", this.throttledReInitRemoval, this), this.Toolbar.toggleButton("removalMode", this.globalRemovalModeEnabled()), this._fireGlobalRemovalModeToggled(false);
  }, globalRemovalEnabled() {
    return this.globalRemovalModeEnabled();
  }, globalRemovalModeEnabled() {
    return !!this._globalRemovalModeEnabled;
  }, toggleGlobalRemovalMode() {
    this.globalRemovalModeEnabled() ? this.disableGlobalRemovalMode() : this.enableGlobalRemovalMode();
  }, removeLayer(t) {
    let e = t.target;
    this._isRelevantForRemoval(e) && !e.pm.dragging() && (e.removeFrom(this.map.pm._getContainingLayer()), e.remove(), e instanceof L.LayerGroup ? (this._fireRemoveLayerGroup(e), this._fireRemoveLayerGroup(this.map, e)) : (e.pm._fireRemove(e), e.pm._fireRemove(this.map, e)));
  }, _isRelevantForRemoval(t) {
    return t.pm && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.allowRemoval;
  }, handleLayerAdditionInGlobalRemovalMode() {
    let t = this._addedLayersRemoval;
    if (this._addedLayersRemoval = {}, this.globalRemovalModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForRemoval(i) && (i.pm.enabled() && i.pm.disable(), i.on("click", this.removeLayer, this));
      }
  }, _layerAddedRemoval({ layer: t }) {
    this._addedLayersRemoval[L.stamp(t)] = t;
  } }, po = yg;
  var Lg = { _globalRotateModeEnabled: false, enableGlobalRotateMode() {
    this._globalRotateModeEnabled = true, L.PM.Utils.findLayers(this.map).filter((e) => e instanceof L.Polyline).forEach((e) => {
      this._isRelevantForRotate(e) && e.pm.enableRotate();
    }), this.throttledReInitRotate || (this.throttledReInitRotate = L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode, 100, this)), this._addedLayersRotate = {}, this.map.on("layeradd", this._layerAddedRotate, this), this.map.on("layeradd", this.throttledReInitRotate, this), this.Toolbar.toggleButton("rotateMode", this.globalRotateModeEnabled()), this._fireGlobalRotateModeToggled();
  }, disableGlobalRotateMode() {
    this._globalRotateModeEnabled = false, L.PM.Utils.findLayers(this.map).filter((e) => e instanceof L.Polyline).forEach((e) => {
      e.pm.disableRotate();
    }), this.map.off("layeradd", this._layerAddedRotate, this), this.map.off("layeradd", this.throttledReInitRotate, this), this.Toolbar.toggleButton("rotateMode", this.globalRotateModeEnabled()), this._fireGlobalRotateModeToggled();
  }, globalRotateModeEnabled() {
    return !!this._globalRotateModeEnabled;
  }, toggleGlobalRotateMode() {
    this.globalRotateModeEnabled() ? this.disableGlobalRotateMode() : this.enableGlobalRotateMode();
  }, _isRelevantForRotate(t) {
    return t.pm && t instanceof L.Polyline && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.allowRotation;
  }, handleLayerAdditionInGlobalRotateMode() {
    let t = this._addedLayersRotate;
    if (this._addedLayersRotate = {}, this.globalRotateModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForRemoval(i) && i.pm.enableRotate();
      }
  }, _layerAddedRotate({ layer: t }) {
    this._addedLayersRotate[L.stamp(t)] = t;
  } }, fo = Lg;
  var go = xt(Ne()), bg = { _fireDrawStart(t = "Draw", e = {}) {
    this.__fire(this._map, "pm:drawstart", { shape: this._shape, workingLayer: this._layer }, t, e);
  }, _fireDrawEnd(t = "Draw", e = {}) {
    this.__fire(this._map, "pm:drawend", { shape: this._shape }, t, e);
  }, _fireCreate(t, e = "Draw", i = {}) {
    this.__fire(this._map, "pm:create", { shape: this._shape, marker: t, layer: t }, e, i);
  }, _fireCenterPlaced(t = "Draw", e = {}) {
    let i = t === "Draw" ? this._layer : void 0, r = t !== "Draw" ? this._layer : void 0;
    this.__fire(this._layer, "pm:centerplaced", { shape: this._shape, workingLayer: i, layer: r, latlng: this._layer.getLatLng() }, t, e);
  }, _fireCut(t, e, i, r = "Draw", n = {}) {
    this.__fire(t, "pm:cut", { shape: this._shape, layer: e, originalLayer: i }, r, n);
  }, _fireEdit(t = this._layer, e = "Edit", i = {}) {
    this.__fire(t, "pm:edit", { layer: this._layer, shape: this.getShape() }, e, i);
  }, _fireEnable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:enable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDisable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:disable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireUpdate(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:update", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireMarkerDragStart(t, e = void 0, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:markerdragstart", { layer: this._layer, markerEvent: t, shape: this.getShape(), indexPath: e }, i, r);
  }, _fireMarkerDrag(t, e = void 0, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:markerdrag", { layer: this._layer, markerEvent: t, shape: this.getShape(), indexPath: e }, i, r);
  }, _fireMarkerDragEnd(t, e = void 0, i = void 0, r = "Edit", n = {}) {
    this.__fire(this._layer, "pm:markerdragend", { layer: this._layer, markerEvent: t, shape: this.getShape(), indexPath: e, intersectionReset: i }, r, n);
  }, _fireDragStart(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragstart", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDrag(t, e = "Edit", i = {}) {
    this.__fire(this._layer, "pm:drag", { ...t, shape: this.getShape() }, e, i);
  }, _fireDragEnd(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragend", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDragEnable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragenable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDragDisable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragdisable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireRemove(t, e = t, i = "Edit", r = {}) {
    this.__fire(t, "pm:remove", { layer: e, shape: this.getShape() }, i, r);
  }, _fireVertexAdded(t, e, i, r = "Edit", n = {}) {
    this.__fire(this._layer, "pm:vertexadded", { layer: this._layer, workingLayer: this._layer, marker: t, indexPath: e, latlng: i, shape: this.getShape() }, r, n);
  }, _fireVertexRemoved(t, e, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:vertexremoved", { layer: this._layer, marker: t, indexPath: e, shape: this.getShape() }, i, r);
  }, _fireVertexClick(t, e, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:vertexclick", { layer: this._layer, markerEvent: t, indexPath: e, shape: this.getShape() }, i, r);
  }, _fireIntersect(t, e = this._layer, i = "Edit", r = {}) {
    this.__fire(e, "pm:intersect", { layer: this._layer, intersection: t, shape: this.getShape() }, i, r);
  }, _fireLayerReset(t, e, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:layerreset", { layer: this._layer, markerEvent: t, indexPath: e, shape: this.getShape() }, i, r);
  }, _fireChange(t, e = "Edit", i = {}) {
    this.__fire(this._layer, "pm:change", { layer: this._layer, latlngs: t, shape: this.getShape() }, e, i);
  }, _fireTextChange(t, e = "Edit", i = {}) {
    this.__fire(this._layer, "pm:textchange", { layer: this._layer, text: t, shape: this.getShape() }, e, i);
  }, _fireTextFocus(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:textfocus", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireTextBlur(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:textblur", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireSnapDrag(t, e, i = "Snapping", r = {}) {
    this.__fire(t, "pm:snapdrag", e, i, r);
  }, _fireSnap(t, e, i = "Snapping", r = {}) {
    this.__fire(t, "pm:snap", e, i, r);
  }, _fireUnsnap(t, e, i = "Snapping", r = {}) {
    this.__fire(t, "pm:unsnap", e, i, r);
  }, _fireRotationEnable(t, e, i = "Rotation", r = {}) {
    this.__fire(t, "pm:rotateenable", { layer: this._layer, helpLayer: this._rotatePoly, shape: this.getShape() }, i, r);
  }, _fireRotationDisable(t, e = "Rotation", i = {}) {
    this.__fire(t, "pm:rotatedisable", { layer: this._layer, shape: this.getShape() }, e, i);
  }, _fireRotationStart(t, e, i = "Rotation", r = {}) {
    this.__fire(t, "pm:rotatestart", { layer: this._rotationLayer, helpLayer: this._layer, startAngle: this._startAngle, originLatLngs: e }, i, r);
  }, _fireRotation(t, e, i, r = this._rotationLayer, n = "Rotation", s = {}) {
    this.__fire(t, "pm:rotate", { layer: r, helpLayer: this._layer, startAngle: this._startAngle, angle: r.pm.getAngle(), angleDiff: e, oldLatLngs: i, newLatLngs: r.getLatLngs() }, n, s);
  }, _fireRotationEnd(t, e, i, r = "Rotation", n = {}) {
    this.__fire(t, "pm:rotateend", { layer: this._rotationLayer, helpLayer: this._layer, startAngle: e, angle: this._rotationLayer.pm.getAngle(), originLatLngs: i, newLatLngs: this._rotationLayer.getLatLngs() }, r, n);
  }, _fireActionClick(t, e, i, r = "Toolbar", n = {}) {
    this.__fire(this._map, "pm:actionclick", { text: t.text, action: t, btnName: e, button: i }, r, n);
  }, _fireButtonClick(t, e, i = "Toolbar", r = {}) {
    this.__fire(this._map, "pm:buttonclick", { btnName: t, button: e }, i, r);
  }, _fireLangChange(t, e, i, r, n = "Global", s = {}) {
    this.__fire(this.map, "pm:langchange", { oldLang: t, activeLang: e, fallback: i, translations: r }, n, s);
  }, _fireGlobalDragModeToggled(t, e = "Global", i = {}) {
    this.__fire(this.map, "pm:globaldragmodetoggled", { enabled: t, map: this.map }, e, i);
  }, _fireGlobalEditModeToggled(t, e = "Global", i = {}) {
    this.__fire(this.map, "pm:globaleditmodetoggled", { enabled: t, map: this.map }, e, i);
  }, _fireGlobalRemovalModeToggled(t, e = "Global", i = {}) {
    this.__fire(this.map, "pm:globalremovalmodetoggled", { enabled: t, map: this.map }, e, i);
  }, _fireGlobalCutModeToggled(t = "Global", e = {}) {
    this.__fire(this._map, "pm:globalcutmodetoggled", { enabled: !!this._enabled, map: this._map }, t, e);
  }, _fireGlobalDrawModeToggled(t = "Global", e = {}) {
    this.__fire(this._map, "pm:globaldrawmodetoggled", { enabled: this._enabled, shape: this._shape, map: this._map }, t, e);
  }, _fireGlobalRotateModeToggled(t = "Global", e = {}) {
    this.__fire(this.map, "pm:globalrotatemodetoggled", { enabled: this.globalRotateModeEnabled(), map: this.map }, t, e);
  }, _fireRemoveLayerGroup(t, e = t, i = "Edit", r = {}) {
    this.__fire(t, "pm:remove", { layer: e, shape: void 0 }, i, r);
  }, _fireKeyeventEvent(t, e, i, r = "Global", n = {}) {
    this.__fire(this.map, "pm:keyevent", { event: t, eventType: e, focusOn: i }, r, n);
  }, __fire(t, e, i, r, n = {}) {
    i = (0, go.default)(i, n, { source: r }), L.PM.Utils._fireEvent(t, e, i);
  } }, Tt = bg;
  var vg = () => ({ _lastEvents: { keydown: void 0, keyup: void 0, current: void 0 }, _initKeyListener(t) {
    this.map = t, L.DomEvent.on(document, "keydown keyup", this._onKeyListener, this), L.DomEvent.on(window, "blur", this._onBlur, this), t.once("unload", this._unbindKeyListenerEvents, this);
  }, _unbindKeyListenerEvents() {
    L.DomEvent.off(document, "keydown keyup", this._onKeyListener, this), L.DomEvent.off(window, "blur", this._onBlur, this);
  }, _onKeyListener(t) {
    let e = "document";
    this.map.getContainer().contains(t.target) && (e = "map");
    let i = { event: t, eventType: t.type, focusOn: e };
    this._lastEvents[t.type] = i, this._lastEvents.current = i, this.map.pm._fireKeyeventEvent(t, t.type, e);
  }, _onBlur(t) {
    t.altKey = false;
    let e = { event: t, eventType: t.type, focusOn: "document" };
    this._lastEvents[t.type] = e, this._lastEvents.current = e;
  }, getLastKeyEvent(t = "current") {
    return this._lastEvents[t];
  }, isShiftKeyPressed() {
    return this._lastEvents.current?.event.shiftKey;
  }, isAltKeyPressed() {
    return this._lastEvents.current?.event.altKey;
  }, isCtrlKeyPressed() {
    return this._lastEvents.current?.event.ctrlKey;
  }, isMetaKeyPressed() {
    return this._lastEvents.current?.event.metaKey;
  }, getPressedKey() {
    return this._lastEvents.current?.event.key;
  } }), mo = vg;
  var wi = xt(Le());
  function V(t) {
    let e = L.PM.activeLang;
    return (0, wi.default)(Nt[e], t) || (0, wi.default)(Nt.en, t) || t;
  }
  function be(t) {
    for (let e = 0; e < t.length; e += 1) {
      let i = t[e];
      if (Array.isArray(i)) {
        if (be(i))
          return true;
      } else if (i != null && i !== "")
        return true;
    }
    return false;
  }
  function ve(t) {
    return t.reduce((e, i) => {
      if (i.length !== 0) {
        let r = Array.isArray(i) ? ve(i) : i;
        Array.isArray(r) ? r.length !== 0 && e.push(r) : e.push(r);
      }
      return e;
    }, []);
  }
  function sm(t, e, i) {
    let r = { a: L.CRS.Earth.R, b: 63567523142e-4, f: 0.0033528106647474805 }, { a: n, b: s, f: a } = r, o = t.lng, l = t.lat, u = i, f = Math.PI, d = e * f / 180, P = Math.sin(d), E = Math.cos(d), T = (1 - a) * Math.tan(l * f / 180), G = 1 / Math.sqrt(1 + T * T), _ = T * G, x = Math.atan2(T, E), b = G * P, R = 1 - b * b, D = R * (n * n - s * s) / (s * s), O = 1 + D / 16384 * (4096 + D * (-768 + D * (320 - 175 * D))), A = D / 1024 * (256 + D * (-128 + D * (74 - 47 * D))), q = u / (s * O), h = 2 * Math.PI, c, p, y;
    for (; Math.abs(q - h) > 1e-12; ) {
      c = Math.cos(2 * x + q), p = Math.sin(q), y = Math.cos(q);
      let B = A * p * (c + A / 4 * (y * (-1 + 2 * c * c) - A / 6 * c * (-3 + 4 * p * p) * (-3 + 4 * c * c)));
      h = q, q = u / (s * O) + B;
    }
    let g = _ * p - G * y * E, k = Math.atan2(_ * y + G * p * E, (1 - a) * Math.sqrt(b * b + g * g)), C = Math.atan2(p * P, G * y - _ * p * E), m = a / 16 * R * (4 + a * (4 - 3 * R)), v = C - (1 - m) * a * b * (q + m * p * (c + m * y * (-1 + 2 * c * c))), w = o + v * 180 / f, M = k * 180 / f;
    return L.latLng(w, M);
  }
  function Ci(t, e, i, r, n = true) {
    let s, a, o, l = [];
    for (let u = 0; u < i; u += 1) {
      if (n)
        s = u * 360 / i + r, a = sm(t, s, e), o = L.latLng(a.lng, a.lat);
      else {
        let f = t.lat + Math.cos(2 * u * Math.PI / i) * e, d = t.lng + Math.sin(2 * u * Math.PI / i) * e;
        o = L.latLng(f, d);
      }
      l.push(o);
    }
    return l;
  }
  function am(t, e, i) {
    e = (e + 360) % 360;
    let r = Math.PI / 180, n = 180 / Math.PI, { R: s } = L.CRS.Earth, a = t.lng * r, o = t.lat * r, l = e * r, u = Math.sin(o), f = Math.cos(o), d = Math.cos(i / s), P = Math.sin(i / s), E = Math.asin(u * d + f * P * Math.cos(l)), T = a + Math.atan2(Math.sin(l) * P * f, d - u * Math.sin(E));
    T *= n;
    let G = T - 360, _ = T < -180 ? T + 360 : T;
    return T = T > 180 ? G : _, L.latLng([E * n, T]);
  }
  function ke(t, e, i) {
    let r = t.latLngToContainerPoint(e), n = t.latLngToContainerPoint(i), s = Math.atan2(n.y - r.y, n.x - r.x) * 180 / Math.PI + 90;
    return s += s < 0 ? 360 : 0, s;
  }
  function te(t, e, i, r) {
    let n = ke(t, e, i);
    return am(e, n, r);
  }
  function jo(t, e, i = "asc") {
    if (!e || Object.keys(e).length === 0)
      return (l, u) => l - u;
    let r = Object.keys(e), n, s = r.length - 1, a = {};
    for (; s >= 0; )
      n = r[s], a[n.toLowerCase()] = e[n], s -= 1;
    function o(l) {
      if (l instanceof L.Marker)
        return "Marker";
      if (l instanceof L.Circle)
        return "Circle";
      if (l instanceof L.CircleMarker)
        return "CircleMarker";
      if (l instanceof L.Rectangle)
        return "Rectangle";
      if (l instanceof L.Polygon)
        return "Polygon";
      if (l instanceof L.Polyline)
        return "Line";
    }
    return (l, u) => {
      let f, d;
      if (t === "instanceofShape") {
        if (f = o(l.layer).toLowerCase(), d = o(u.layer).toLowerCase(), !f || !d)
          return 0;
      } else {
        if (!l.hasOwnProperty(t) || !u.hasOwnProperty(t))
          return 0;
        f = l[t].toLowerCase(), d = u[t].toLowerCase();
      }
      let P = f in a ? a[f] : Number.MAX_SAFE_INTEGER, E = d in a ? a[d] : Number.MAX_SAFE_INTEGER, T = 0;
      return P < E ? T = -1 : P > E && (T = 1), i === "desc" ? T * -1 : T;
    };
  }
  function vt(t, e = t.getLatLngs()) {
    return t instanceof L.Polygon ? L.polygon(e).getLatLngs() : L.polyline(e).getLatLngs();
  }
  function Ei(t, e) {
    if (e.options.crs?.projection?.MAX_LATITUDE) {
      let i = e.options.crs?.projection?.MAX_LATITUDE;
      t.lat = Math.max(Math.min(i, t.lat), -i);
    }
    return t;
  }
  function Rt(t) {
    return t.options.renderer || t._map && (t._map._getPaneRenderer(t.options.pane) || t._map.options.renderer || t._map._renderer) || t._renderer;
  }
  var om = L.Class.extend({ includes: [uo, co, po, fo, Tt], initialize(t) {
    this.map = t, this.Draw = new L.PM.Draw(t), this.Toolbar = new L.PM.Toolbar(t), this.Keyboard = mo(), this.globalOptions = { snappable: true, layerGroup: void 0, snappingOrder: ["Marker", "CircleMarker", "Circle", "Line", "Polygon", "Rectangle"], panes: { vertexPane: "markerPane", layerPane: "overlayPane", markerPane: "markerPane" }, draggable: true }, this.Keyboard._initKeyListener(t);
  }, setLang(t = "en", e, i = "en") {
    let r = L.PM.activeLang;
    e && (Nt[t] = (0, Pi.default)(Nt[i], e)), L.PM.activeLang = t, this.map.pm.Toolbar.reinit(), this._fireLangChange(r, t, i, Nt[t]);
  }, addControls(t) {
    this.Toolbar.addControls(t);
  }, removeControls() {
    this.Toolbar.removeControls();
  }, toggleControls() {
    this.Toolbar.toggleControls();
  }, controlsVisible() {
    return this.Toolbar.isVisible;
  }, enableDraw(t = "Polygon", e) {
    t === "Poly" && (t = "Polygon"), this.Draw.enable(t, e);
  }, disableDraw(t = "Polygon") {
    t === "Poly" && (t = "Polygon"), this.Draw.disable(t);
  }, setPathOptions(t, e = {}) {
    let i = e.ignoreShapes || [], r = e.merge || false;
    this.map.pm.Draw.shapes.forEach((n) => {
      i.indexOf(n) === -1 && this.map.pm.Draw[n].setPathOptions(t, r);
    });
  }, getGlobalOptions() {
    return this.globalOptions;
  }, setGlobalOptions(t) {
    let e = (0, Pi.default)(this.globalOptions, t);
    e.editable && (e.resizeableCircleMarker = e.editable, delete e.editable);
    let i = false;
    this.map.pm.Draw.CircleMarker.enabled() && !!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker != !!e.resizeableCircleMarker && (this.map.pm.Draw.CircleMarker.disable(), i = true);
    let r = false;
    this.map.pm.Draw.Circle.enabled() && !!this.map.pm.Draw.Circle.options.resizableCircle != !!e.resizableCircle && (this.map.pm.Draw.Circle.disable(), r = true), this.map.pm.Draw.shapes.forEach((s) => {
      this.map.pm.Draw[s].setOptions(e);
    }), i && this.map.pm.Draw.CircleMarker.enable(), r && this.map.pm.Draw.Circle.enable(), L.PM.Utils.findLayers(this.map).forEach((s) => {
      s.pm.setOptions(e);
    }), this.map.fire("pm:globaloptionschanged"), this.globalOptions = e, this.applyGlobalOptions();
  }, applyGlobalOptions() {
    L.PM.Utils.findLayers(this.map).forEach((e) => {
      e.pm.enabled() && e.pm.applyOptions();
    });
  }, globalDrawModeEnabled() {
    return !!this.Draw.getActiveShape();
  }, globalCutModeEnabled() {
    return !!this.Draw.Cut.enabled();
  }, enableGlobalCutMode(t) {
    return this.Draw.Cut.enable(t);
  }, toggleGlobalCutMode(t) {
    return this.Draw.Cut.toggle(t);
  }, disableGlobalCutMode() {
    return this.Draw.Cut.disable();
  }, getGeomanLayers(t = false) {
    let e = L.PM.Utils.findLayers(this.map);
    if (!t)
      return e;
    let i = L.featureGroup();
    return i._pmTempLayer = true, e.forEach((r) => {
      i.addLayer(r);
    }), i;
  }, getGeomanDrawLayers(t = false) {
    let e = L.PM.Utils.findLayers(this.map).filter((r) => r._drawnByGeoman === true);
    if (!t)
      return e;
    let i = L.featureGroup();
    return i._pmTempLayer = true, e.forEach((r) => {
      i.addLayer(r);
    }), i;
  }, _getContainingLayer() {
    return this.globalOptions.layerGroup && this.globalOptions.layerGroup instanceof L.LayerGroup ? this.globalOptions.layerGroup : this.map;
  }, _isCRSSimple() {
    return this.map.options.crs === L.CRS.Simple;
  }, _touchEventCounter: 0, _addTouchEvents(t) {
    this._touchEventCounter === 0 && (L.DomEvent.on(t, "touchmove", this._canvasTouchMove, this), L.DomEvent.on(t, "touchstart touchend touchcancel", this._canvasTouchClick, this)), this._touchEventCounter += 1;
  }, _removeTouchEvents(t) {
    this._touchEventCounter === 1 && (L.DomEvent.off(t, "touchmove", this._canvasTouchMove, this), L.DomEvent.off(t, "touchstart touchend touchcancel", this._canvasTouchClick, this)), this._touchEventCounter = this._touchEventCounter <= 1 ? 0 : this._touchEventCounter - 1;
  }, _canvasTouchMove(t) {
    Rt(this.map)._onMouseMove(this._createMouseEvent("mousemove", t));
  }, _canvasTouchClick(t) {
    let e = "";
    t.type === "touchstart" || t.type === "pointerdown" ? e = "mousedown" : (t.type === "touchend" || t.type === "pointerup" || t.type === "touchcancel" || t.type === "pointercancel") && (e = "mouseup"), e && Rt(this.map)._onClick(this._createMouseEvent(e, t));
  }, _createMouseEvent(t, e) {
    let i, r = e.touches[0] || e.changedTouches[0];
    try {
      i = new MouseEvent(t, { bubbles: e.bubbles, cancelable: e.cancelable, view: e.view, detail: r.detail, screenX: r.screenX, screenY: r.screenY, clientX: r.clientX, clientY: r.clientY, ctrlKey: e.ctrlKey, altKey: e.altKey, shiftKey: e.shiftKey, metaKey: e.metaKey, button: e.button, relatedTarget: e.relatedTarget });
    } catch {
      i = document.createEvent("MouseEvents"), i.initMouseEvent(t, e.bubbles, e.cancelable, e.view, r.detail, r.screenX, r.screenY, r.clientX, r.clientY, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);
    }
    return i;
  } }), Ko = om;
  var lm = L.Control.extend({ includes: [Tt], options: { position: "topleft", disableByOtherButtons: true }, initialize(t) {
    this._button = L.Util.extend({}, this.options, t);
  }, onAdd(t) {
    return this._map = t, this._map.pm.Toolbar.options.oneBlock ? this._container = this._map.pm.Toolbar._createContainer(this.options.position) : this._button.tool === "edit" ? this._container = this._map.pm.Toolbar.editContainer : this._button.tool === "options" ? this._container = this._map.pm.Toolbar.optionsContainer : this._button.tool === "custom" ? this._container = this._map.pm.Toolbar.customContainer : this._container = this._map.pm.Toolbar.drawContainer, this._renderButton(), this._container;
  }, _renderButton() {
    let t = this.buttonsDomNode;
    this.buttonsDomNode = this._makeButton(this._button), t ? t.replaceWith(this.buttonsDomNode) : this._container.appendChild(this.buttonsDomNode);
  }, onRemove() {
    return this.buttonsDomNode.remove(), this._container;
  }, getText() {
    return this._button.text;
  }, getIconUrl() {
    return this._button.iconUrl;
  }, destroy() {
    this._button = {}, this._update();
  }, toggle(t) {
    return typeof t == "boolean" ? this._button.toggleStatus = t : this._button.toggleStatus = !this._button.toggleStatus, this._applyStyleClasses(), this._button.toggleStatus;
  }, toggled() {
    return this._button.toggleStatus;
  }, onCreate() {
    this.toggle(false);
  }, disable() {
    this.toggle(false), this._button.disabled = true, this._updateDisabled();
  }, enable() {
    this._button.disabled = false, this._updateDisabled();
  }, _triggerClick(t) {
    t && t.preventDefault(), !this._button.disabled && (this._button.onClick(t, { button: this, event: t }), this._clicked(t), this._button.afterClick(t, { button: this, event: t }));
  }, _makeButton(t) {
    let e = this.options.position.indexOf("right") > -1 ? "pos-right" : "", i = L.DomUtil.create("div", `button-container  ${e}`, this._container);
    t.title && i.setAttribute("title", t.title);
    let r = L.DomUtil.create("a", "leaflet-buttons-control-button", i);
    r.setAttribute("role", "button"), r.setAttribute("tabindex", "0"), r.href = "#";
    let n = L.DomUtil.create("div", `leaflet-pm-actions-container ${e}`, i), s = t.actions, a = { cancel: { text: V("actions.cancel"), title: V("actions.cancel"), onClick() {
      this._triggerClick();
    } }, finishMode: { text: V("actions.finish"), title: V("actions.finish"), onClick() {
      this._triggerClick();
    } }, removeLastVertex: { text: V("actions.removeLastVertex"), title: V("actions.removeLastVertex"), onClick() {
      this._map.pm.Draw[t.jsClass]._removeLastVertex();
    } }, finish: { text: V("actions.finish"), title: V("actions.finish"), onClick(l) {
      this._map.pm.Draw[t.jsClass]._finishShape(l);
    } } };
    s.forEach((l) => {
      let u = typeof l == "string" ? l : l.name, f;
      if (a[u])
        f = a[u];
      else if (l.text)
        f = l;
      else
        return;
      let d = L.DomUtil.create("a", `leaflet-pm-action ${e} action-${u}`, n);
      if (d.setAttribute("role", "button"), d.setAttribute("tabindex", "0"), d.href = "#", f.title && (d.title = f.title), d.innerHTML = f.text, L.DomEvent.disableClickPropagation(d), L.DomEvent.on(d, "click", L.DomEvent.stop), !t.disabled && f.onClick) {
        let P = (E) => {
          E.preventDefault();
          let T = "", { buttons: G } = this._map.pm.Toolbar;
          for (let _ in G)
            if (G[_]._button === t) {
              T = _;
              break;
            }
          this._fireActionClick(f, T, t);
        };
        L.DomEvent.addListener(d, "click", P, this), L.DomEvent.addListener(d, "click", f.onClick, this);
      }
    }), t.toggleStatus && L.DomUtil.addClass(i, "active");
    let o = L.DomUtil.create("div", "control-icon", r);
    return t.iconUrl && o.setAttribute("src", t.iconUrl), t.className && L.DomUtil.addClass(o, t.className), L.DomEvent.disableClickPropagation(r), L.DomEvent.on(r, "click", L.DomEvent.stop), t.disabled || (L.DomEvent.addListener(r, "click", this._onBtnClick, this), L.DomEvent.addListener(r, "click", this._triggerClick, this)), t.disabled && (L.DomUtil.addClass(r, "pm-disabled"), r.setAttribute("aria-disabled", "true")), i;
  }, _applyStyleClasses() {
    this._container && (!this._button.toggleStatus || this._button.cssToggle === false ? (L.DomUtil.removeClass(this.buttonsDomNode, "active"), L.DomUtil.removeClass(this._container, "activeChild")) : (L.DomUtil.addClass(this.buttonsDomNode, "active"), L.DomUtil.addClass(this._container, "activeChild")));
  }, _onBtnClick() {
    if (this._button.disabled)
      return;
    this._button.disableOtherButtons && this._map.pm.Toolbar.triggerClickOnToggledButtons(this);
    let t = "", { buttons: e } = this._map.pm.Toolbar;
    for (let i in e)
      if (e[i]._button === this._button) {
        t = i;
        break;
      }
    this._fireButtonClick(t, this._button);
  }, _clicked() {
    this._button.doToggle && this.toggle();
  }, _updateDisabled() {
    if (!this._container)
      return;
    let t = "pm-disabled", e = this.buttonsDomNode.children[0];
    this._button.disabled ? (L.DomUtil.addClass(e, t), e.setAttribute("aria-disabled", "true")) : (L.DomUtil.removeClass(e, t), e.setAttribute("aria-disabled", "false"));
  } }), Ho = lm;
  L.Control.PMButton = Ho;
  var hm = L.Class.extend({ options: { drawMarker: true, drawRectangle: true, drawPolyline: true, drawPolygon: true, drawCircle: true, drawCircleMarker: true, drawText: true, editMode: true, dragMode: true, cutPolygon: true, removalMode: true, rotateMode: true, snappingOption: true, drawControls: true, editControls: true, optionsControls: true, customControls: true, oneBlock: false, position: "topleft", positions: { draw: "", edit: "", options: "", custom: "" } }, customButtons: [], initialize(t) {
    this.customButtons = [], this.options.positions = { draw: "", edit: "", options: "", custom: "" }, this.init(t);
  }, reinit() {
    let t = this.isVisible;
    this.removeControls(), this._defineButtons(), t && this.addControls();
  }, init(t) {
    this.map = t, this.buttons = {}, this.isVisible = false, this.drawContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"), this.editContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"), this.optionsContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"), this.customContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"), this._defineButtons();
  }, _createContainer(t) {
    let e = `${t}Container`;
    return this[e] || (this[e] = L.DomUtil.create("div", `leaflet-pm-toolbar leaflet-pm-${t} leaflet-bar leaflet-control`)), this[e];
  }, getButtons() {
    return this.buttons;
  }, addControls(t = this.options) {
    typeof t.editPolygon < "u" && (t.editMode = t.editPolygon), typeof t.deleteLayer < "u" && (t.removalMode = t.deleteLayer), L.Util.setOptions(this, t), this.applyIconStyle(), this.isVisible = true, this._showHideButtons();
  }, applyIconStyle() {
    let t = this.getButtons(), e = { geomanIcons: { drawMarker: "control-icon leaflet-pm-icon-marker", drawPolyline: "control-icon leaflet-pm-icon-polyline", drawRectangle: "control-icon leaflet-pm-icon-rectangle", drawPolygon: "control-icon leaflet-pm-icon-polygon", drawCircle: "control-icon leaflet-pm-icon-circle", drawCircleMarker: "control-icon leaflet-pm-icon-circle-marker", editMode: "control-icon leaflet-pm-icon-edit", dragMode: "control-icon leaflet-pm-icon-drag", cutPolygon: "control-icon leaflet-pm-icon-cut", removalMode: "control-icon leaflet-pm-icon-delete", drawText: "control-icon leaflet-pm-icon-text" } };
    for (let i in t) {
      let r = t[i];
      L.Util.setOptions(r, { className: e.geomanIcons[i] });
    }
  }, removeControls() {
    let t = this.getButtons();
    for (let e in t)
      t[e].remove();
    this.isVisible = false;
  }, toggleControls(t = this.options) {
    this.isVisible ? this.removeControls() : this.addControls(t);
  }, _addButton(t, e) {
    return this.buttons[t] = e, this.options[t] = !!this.options[t] || false, this.buttons[t];
  }, triggerClickOnToggledButtons(t) {
    for (let e in this.buttons) {
      let i = this.buttons[e];
      i._button.disableByOtherButtons && i !== t && i.toggled() && i._triggerClick();
    }
  }, toggleButton(t, e, i = true) {
    return t === "editPolygon" && (t = "editMode"), t === "deleteLayer" && (t = "removalMode"), i && this.triggerClickOnToggledButtons(this.buttons[t]), this.buttons[t] ? this.buttons[t].toggle(e) : false;
  }, _defineButtons() {
    let t = { className: "control-icon leaflet-pm-icon-marker", title: V("buttonTitles.drawMarkerButton"), jsClass: "Marker", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, e = { title: V("buttonTitles.drawPolyButton"), className: "control-icon leaflet-pm-icon-polygon", jsClass: "Polygon", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["finish", "removeLastVertex", "cancel"] }, i = { className: "control-icon leaflet-pm-icon-polyline", title: V("buttonTitles.drawLineButton"), jsClass: "Line", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["finish", "removeLastVertex", "cancel"] }, r = { title: V("buttonTitles.drawCircleButton"), className: "control-icon leaflet-pm-icon-circle", jsClass: "Circle", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, n = { title: V("buttonTitles.drawCircleMarkerButton"), className: "control-icon leaflet-pm-icon-circle-marker", jsClass: "CircleMarker", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, s = { title: V("buttonTitles.drawRectButton"), className: "control-icon leaflet-pm-icon-rectangle", jsClass: "Rectangle", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, a = { title: V("buttonTitles.editButton"), className: "control-icon leaflet-pm-icon-edit", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalEditMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, o = { title: V("buttonTitles.dragButton"), className: "control-icon leaflet-pm-icon-drag", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalDragMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, l = { title: V("buttonTitles.cutButton"), className: "control-icon leaflet-pm-icon-cut", jsClass: "Cut", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle({ snappable: true, cursorMarker: true, allowSelfIntersection: false });
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finish", "removeLastVertex", "cancel"] }, u = { title: V("buttonTitles.deleteButton"), className: "control-icon leaflet-pm-icon-delete", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalRemovalMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, f = { title: V("buttonTitles.rotateButton"), className: "control-icon leaflet-pm-icon-rotate", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalRotateMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, d = { className: "control-icon leaflet-pm-icon-text", title: V("buttonTitles.drawTextButton"), jsClass: "Text", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] };
    this._addButton("drawMarker", new L.Control.PMButton(t)), this._addButton("drawPolyline", new L.Control.PMButton(i)), this._addButton("drawRectangle", new L.Control.PMButton(s)), this._addButton("drawPolygon", new L.Control.PMButton(e)), this._addButton("drawCircle", new L.Control.PMButton(r)), this._addButton("drawCircleMarker", new L.Control.PMButton(n)), this._addButton("drawText", new L.Control.PMButton(d)), this._addButton("editMode", new L.Control.PMButton(a)), this._addButton("dragMode", new L.Control.PMButton(o)), this._addButton("cutPolygon", new L.Control.PMButton(l)), this._addButton("removalMode", new L.Control.PMButton(u)), this._addButton("rotateMode", new L.Control.PMButton(f));
  }, _showHideButtons() {
    if (!this.isVisible)
      return;
    this.removeControls(), this.isVisible = true;
    let t = this.getButtons(), e = [];
    this.options.drawControls === false && (e = e.concat(Object.keys(t).filter((i) => !t[i]._button.tool))), this.options.editControls === false && (e = e.concat(Object.keys(t).filter((i) => t[i]._button.tool === "edit"))), this.options.optionsControls === false && (e = e.concat(Object.keys(t).filter((i) => t[i]._button.tool === "options"))), this.options.customControls === false && (e = e.concat(Object.keys(t).filter((i) => t[i]._button.tool === "custom")));
    for (let i in t)
      if (this.options[i] && e.indexOf(i) === -1) {
        let r = t[i]._button.tool;
        r || (r = "draw"), t[i].setPosition(this._getBtnPosition(r)), t[i].addTo(this.map);
      }
  }, _getBtnPosition(t) {
    return this.options.positions && this.options.positions[t] ? this.options.positions[t] : this.options.position;
  }, setBlockPosition(t, e) {
    this.options.positions[t] = e, this._showHideButtons(), this.changeControlOrder();
  }, getBlockPositions() {
    return this.options.positions;
  }, copyDrawControl(t, e) {
    if (e)
      typeof e != "object" && (e = { name: e });
    else
      throw new TypeError("Button has no name");
    let i = this._btnNameMapping(t);
    if (!e.name)
      throw new TypeError("Button has no name");
    if (this.buttons[e.name])
      throw new TypeError("Button with this name already exists");
    let r = this.map.pm.Draw.createNewDrawInstance(e.name, i);
    e = { ...this.buttons[i]._button, ...e };
    let s = this.createCustomControl(e);
    return { drawInstance: r, control: s };
  }, createCustomControl(t) {
    if (!t.name)
      throw new TypeError("Button has no name");
    if (this.buttons[t.name])
      throw new TypeError("Button with this name already exists");
    t.onClick || (t.onClick = () => {
    }), t.afterClick || (t.afterClick = () => {
    }), t.toggle !== false && (t.toggle = true), t.block && (t.block = t.block.toLowerCase()), (!t.block || t.block === "draw") && (t.block = ""), t.className ? t.className.indexOf("control-icon") === -1 && (t.className = `control-icon ${t.className}`) : t.className = "control-icon";
    let e = { tool: t.block, className: t.className, title: t.title || "", jsClass: t.name, onClick: t.onClick, afterClick: t.afterClick, doToggle: t.toggle, toggleStatus: false, disableOtherButtons: t.disableOtherButtons ?? true, disableByOtherButtons: t.disableByOtherButtons ?? true, cssToggle: t.toggle, position: this.options.position, actions: t.actions || [], disabled: !!t.disabled };
    this.options[t.name] !== false && (this.options[t.name] = true);
    let i = this._addButton(t.name, new L.Control.PMButton(e));
    return this.changeControlOrder(), i;
  }, controlExists(t) {
    return !!this.getButton(t);
  }, getButton(t) {
    return this.getButtons()[t];
  }, getButtonsInBlock(t) {
    let e = {};
    if (t)
      for (let i in this.getButtons()) {
        let r = this.getButtons()[i];
        (r._button.tool === t || t === "draw" && !r._button.tool) && (e[i] = r);
      }
    return e;
  }, changeControlOrder(t = []) {
    let e = this._shapeMapping(), i = [];
    t.forEach((u) => {
      e[u] ? i.push(e[u]) : i.push(u);
    });
    let r = this.getButtons(), n = {};
    i.forEach((u) => {
      r[u] && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => !r[u]._button.tool).forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => r[u]._button.tool === "edit").forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => r[u]._button.tool === "options").forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => r[u]._button.tool === "custom").forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), this.map.pm.Toolbar.buttons = n, this._showHideButtons();
  }, getControlOrder() {
    let t = this.getButtons(), e = [];
    for (let i in t)
      e.push(i);
    return e;
  }, changeActionsOfControl(t, e) {
    let i = this._btnNameMapping(t);
    if (!i)
      throw new TypeError("No name passed");
    if (!e)
      throw new TypeError("No actions passed");
    if (!this.buttons[i])
      throw new TypeError("Button with this name not exists");
    this.buttons[i]._button.actions = e, this.changeControlOrder();
  }, setButtonDisabled(t, e) {
    let i = this._btnNameMapping(t);
    e ? this.buttons[i].disable() : this.buttons[i].enable();
  }, _shapeMapping() {
    return { Marker: "drawMarker", Circle: "drawCircle", Polygon: "drawPolygon", Rectangle: "drawRectangle", Polyline: "drawPolyline", Line: "drawPolyline", CircleMarker: "drawCircleMarker", Edit: "editMode", Drag: "dragMode", Cut: "cutPolygon", Removal: "removalMode", Rotate: "rotateMode", Text: "drawText" };
  }, _btnNameMapping(t) {
    let e = this._shapeMapping();
    return e[t] ? e[t] : t;
  } }), Xo = hm;
  var Yo = xt(Ne());
  var um = { _initSnappableMarkers() {
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, this._assignEvents(this._markers), this._layer.off("pm:dragstart", this._unsnap, this), this._layer.on("pm:dragstart", this._unsnap, this);
  }, _disableSnapping() {
    this._layer.off("pm:dragstart", this._unsnap, this);
  }, _assignEvents(t) {
    t.forEach((e) => {
      if (Array.isArray(e)) {
        this._assignEvents(e);
        return;
      }
      e.off("drag", this._handleSnapping, this), e.on("drag", this._handleSnapping, this), e.off("dragend", this._cleanupSnapping, this), e.on("dragend", this._cleanupSnapping, this);
    });
  }, _cleanupSnapping(t) {
    if (t) {
      let e = t.target;
      e._snapped = false;
    }
    delete this._snapList, this.throttledList && (this._map.off("layeradd", this.throttledList, this), this.throttledList = void 0), this._map.off("layerremove", this._handleSnapLayerRemoval, this), this.debugIndicatorLines && this.debugIndicatorLines.forEach((e) => {
      e.remove();
    });
  }, _handleThrottleSnapping() {
    this.throttledList && this._createSnapList();
  }, _handleSnapping(t) {
    let e = t.target;
    if (e._snapped = false, this.throttledList || (this.throttledList = L.Util.throttle(this._handleThrottleSnapping, 100, this)), t?.originalEvent?.altKey || this._map?.pm?.Keyboard.isAltKeyPressed() || (this._snapList === void 0 && (this._createSnapList(), this._map.off("layeradd", this.throttledList, this), this._map.on("layeradd", this.throttledList, this)), this._snapList.length <= 0))
      return false;
    let i = this._calcClosestLayer(e.getLatLng(), this._snapList);
    if (Object.keys(i).length === 0)
      return false;
    let r = i.layer instanceof L.Marker || i.layer instanceof L.CircleMarker || !this.options.snapSegment, n;
    r ? n = i.latlng : n = this._checkPrioritiySnapping(i);
    let s = this.options.snapDistance, a = { marker: e, shape: this._shape, snapLatLng: n, segment: i.segment, layer: this._layer, workingLayer: this._layer, layerInteractedWith: i.layer, distance: i.distance };
    if (this._fireSnapDrag(a.marker, a), this._fireSnapDrag(this._layer, a), i.distance < s) {
      e._orgLatLng = e.getLatLng(), e.setLatLng(n), e._snapped = true, e._snapInfo = a;
      let o = () => {
        this._snapLatLng = n, this._fireSnap(e, a), this._fireSnap(this._layer, a);
      }, l = this._snapLatLng || {}, u = n || {};
      (l.lat !== u.lat || l.lng !== u.lng) && o();
    } else
      this._snapLatLng && (this._unsnap(a), e._snapped = false, e._snapInfo = void 0, this._fireUnsnap(a.marker, a), this._fireUnsnap(this._layer, a));
    return true;
  }, _createSnapList() {
    let t = [], e = [], i = this._map;
    i.off("layerremove", this._handleSnapLayerRemoval, this), i.on("layerremove", this._handleSnapLayerRemoval, this), i.eachLayer((r) => {
      if ((r instanceof L.Polyline || r instanceof L.Marker || r instanceof L.CircleMarker || r instanceof L.ImageOverlay) && r.options.snapIgnore !== true) {
        if (r.options.snapIgnore === void 0 && (!L.PM.optIn && r.options.pmIgnore === true || L.PM.optIn && r.options.pmIgnore !== false))
          return;
        (r instanceof L.Circle || r instanceof L.CircleMarker) && r.pm && r.pm._hiddenPolyCircle ? t.push(r.pm._hiddenPolyCircle) : r instanceof L.ImageOverlay && (r = L.rectangle(r.getBounds())), t.push(r);
        let n = L.polyline([], { color: "red", pmIgnore: true });
        n._pmTempLayer = true, e.push(n), (r instanceof L.Circle || r instanceof L.CircleMarker) && e.push(n);
      }
    }), t = t.filter((r) => this._layer !== r), t = t.filter((r) => r._latlng || r._latlngs && be(r._latlngs)), t = t.filter((r) => !r._pmTempLayer), this._otherSnapLayers ? (this._otherSnapLayers.forEach(() => {
      let r = L.polyline([], { color: "red", pmIgnore: true });
      r._pmTempLayer = true, e.push(r);
    }), this._snapList = t.concat(this._otherSnapLayers)) : this._snapList = t, this.debugIndicatorLines = e;
  }, _handleSnapLayerRemoval({ layer: t }) {
    if (!t._leaflet_id)
      return;
    let e = this._snapList.findIndex((i) => i._leaflet_id === t._leaflet_id);
    e > -1 && this._snapList.splice(e, 1);
  }, _calcClosestLayer(t, e) {
    return this._calcClosestLayers(t, e, 1)[0];
  }, _calcClosestLayers(t, e, i = 1) {
    let r = [], n = {};
    e.forEach((a, o) => {
      if (a._parentCopy && a._parentCopy === this._layer)
        return;
      let l = this._calcLayerDistances(t, a);
      if (l.distance = Math.floor(l.distance), this.debugIndicatorLines) {
        if (!this.debugIndicatorLines[o]) {
          let u = L.polyline([], { color: "red", pmIgnore: true });
          u._pmTempLayer = true, this.debugIndicatorLines[o] = u;
        }
        this.debugIndicatorLines[o].setLatLngs([t, l.latlng]);
      }
      i === 1 && (n.distance === void 0 || l.distance - 5 <= n.distance) ? (l.distance + 5 < n.distance && (r = []), n = l, n.layer = a, r.push(n)) : i !== 1 && (n = {}, n = l, n.layer = a, r.push(n));
    }), i !== 1 && (r = r.sort((a, o) => a.distance - o.distance)), i === -1 && (i = r.length);
    let s = this._getClosestLayerByPriority(r, i);
    return L.Util.isArray(s) ? s : [s];
  }, _calcLayerDistances(t, e) {
    let i = this._map, r = e instanceof L.Marker || e instanceof L.CircleMarker, n = e instanceof L.Polygon, s = t;
    if (r) {
      let a = e.getLatLng();
      return { latlng: { ...a }, distance: this._getDistance(i, a, s) };
    }
    return this._calcLatLngDistances(s, e.getLatLngs(), i, n);
  }, _calcLatLngDistances(t, e, i, r = false) {
    let n, s, a, o = (l) => {
      l.forEach((u, f) => {
        if (Array.isArray(u)) {
          o(u);
          return;
        }
        if (this.options.snapSegment) {
          let d = u, P;
          r ? P = f + 1 === l.length ? 0 : f + 1 : P = f + 1 === l.length ? void 0 : f + 1;
          let E = l[P];
          if (E) {
            let T = this._getDistanceToSegment(i, t, d, E);
            (s === void 0 || T < s) && (s = T, a = [d, E]);
          }
        } else {
          let d = this._getDistance(i, t, u);
          (s === void 0 || d < s) && (s = d, n = u);
        }
      });
    };
    return o(e), this.options.snapSegment ? { latlng: { ...this._getClosestPointOnSegment(i, t, a[0], a[1]) }, segment: a, distance: s } : { latlng: n, distance: s };
  }, _getClosestLayerByPriority(t, e = 1) {
    t = t.sort((a, o) => a._leaflet_id - o._leaflet_id);
    let i = ["Marker", "CircleMarker", "Circle", "Line", "Polygon", "Rectangle"], r = this._map.pm.globalOptions.snappingOrder || [], n = 0, s = {};
    return r.concat(i).forEach((a) => {
      s[a] || (n += 1, s[a] = n);
    }), t.sort(jo("instanceofShape", s)), e === 1 ? t[0] || {} : t.slice(0, e);
  }, _checkPrioritiySnapping(t) {
    let e = this._map, i = t.segment[0], r = t.segment[1], n = t.latlng, s = this._getDistance(e, i, n), a = this._getDistance(e, r, n), o = s < a ? i : r, l = s < a ? s : a;
    if (this.options.snapMiddle) {
      let d = L.PM.Utils.calcMiddleLatLng(e, i, r), P = this._getDistance(e, d, n);
      P < s && P < a && (o = d, l = P);
    }
    let u = this.options.snapDistance, f;
    return l < u ? f = o : f = n, { ...f };
  }, _unsnap() {
    delete this._snapLatLng;
  }, _getClosestPointOnSegment(t, e, i, r) {
    let n = t.getMaxZoom();
    n === 1 / 0 && (n = t.getZoom());
    let s = t.project(e, n), a = t.project(i, n), o = t.project(r, n), l = L.LineUtil.closestPointOnSegment(s, a, o);
    return t.unproject(l, n);
  }, _getDistanceToSegment(t, e, i, r) {
    let n = t.latLngToLayerPoint(e), s = t.latLngToLayerPoint(i), a = t.latLngToLayerPoint(r);
    return L.LineUtil.pointToSegmentDistance(n, s, a);
  }, _getDistance(t, e, i) {
    return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(i));
  } }, Fe = um;
  var cm = L.Class.extend({ includes: [Fe, Tt], options: { snappable: true, snapDistance: 20, snapMiddle: false, allowSelfIntersection: true, tooltips: true, templineStyle: {}, hintlineStyle: { color: "#3388ff", dashArray: "5,5" }, pathOptions: null, cursorMarker: true, finishOn: null, markerStyle: { draggable: true, icon: L.icon() }, hideMiddleMarkers: false, minRadiusCircle: null, maxRadiusCircle: null, minRadiusCircleMarker: null, maxRadiusCircleMarker: null, resizeableCircleMarker: false, resizableCircle: true, markerEditable: true, continueDrawing: false, snapSegment: true, requireSnapToFinish: false, rectangleAngle: 0 }, setOptions(t) {
    L.Util.setOptions(this, t), this.setStyle(this.options);
  }, setStyle() {
  }, getOptions() {
    return this.options;
  }, initialize(t) {
    let e = new L.Icon.Default();
    e.options.tooltipAnchor = [0, 0], this.options.markerStyle.icon = e, this._map = t, this.shapes = ["Marker", "CircleMarker", "Line", "Polygon", "Rectangle", "Circle", "Cut", "Text"], this.shapes.forEach((i) => {
      this[i] = new L.PM.Draw[i](this._map);
    }), this.Marker.setOptions({ continueDrawing: true }), this.CircleMarker.setOptions({ continueDrawing: true });
  }, setPathOptions(t, e = false) {
    e ? this.options.pathOptions = (0, Yo.default)(this.options.pathOptions, t) : this.options.pathOptions = t;
  }, getShapes() {
    return this.shapes;
  }, getShape() {
    return this._shape;
  }, enable(t, e) {
    if (!t)
      throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);
    this.disable(), this[t].enable(e);
  }, disable() {
    this.shapes.forEach((t) => {
      this[t].disable();
    });
  }, addControls() {
    this.shapes.forEach((t) => {
      this[t].addButton();
    });
  }, getActiveShape() {
    let t;
    return this.shapes.forEach((e) => {
      this[e]._enabled && (t = e);
    }), t;
  }, _setGlobalDrawMode() {
    this._shape === "Cut" ? this._fireGlobalCutModeToggled() : this._fireGlobalDrawModeToggled();
    let t = [];
    this._map.eachLayer((e) => {
      (e instanceof L.Polyline || e instanceof L.Marker || e instanceof L.Circle || e instanceof L.CircleMarker || e instanceof L.ImageOverlay) && (e._pmTempLayer || t.push(e));
    }), this._enabled ? t.forEach((e) => {
      L.PM.Utils.disablePopup(e);
    }) : t.forEach((e) => {
      L.PM.Utils.enablePopup(e);
    });
  }, createNewDrawInstance(t, e) {
    let i = this._getShapeFromBtnName(e);
    if (this[t])
      throw new TypeError("Draw Type already exists");
    if (!L.PM.Draw[i])
      throw new TypeError(`There is no class L.PM.Draw.${i}`);
    return this[t] = new L.PM.Draw[i](this._map), this[t].toolbarButtonName = t, this[t]._shape = t, this.shapes.push(t), this[e] && this[t].setOptions(this[e].options), this[t].setOptions(this[t].options), this[t];
  }, _getShapeFromBtnName(t) {
    let e = { drawMarker: "Marker", drawCircle: "Circle", drawPolygon: "Polygon", drawPolyline: "Line", drawRectangle: "Rectangle", drawCircleMarker: "CircleMarker", editMode: "Edit", dragMode: "Drag", cutPolygon: "Cut", removalMode: "Removal", rotateMode: "Rotate", drawText: "Text" };
    return e[t] ? e[t] : this[t] ? this[t]._shape : t;
  }, _finishLayer(t) {
    t.pm && (t.pm.setOptions(this.options), t.pm._shape = this._shape, t.pm._map = this._map), this._addDrawnLayerProp(t);
  }, _addDrawnLayerProp(t) {
    t._drawnByGeoman = true;
  }, _setPane(t, e) {
    e === "layerPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.layerPane || "overlayPane" : e === "vertexPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.vertexPane || "markerPane" : e === "markerPane" && (t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.markerPane || "markerPane");
  }, _isFirstLayer() {
    return (this._map || this._layer._map).pm.getGeomanLayers().length === 0;
  } }), X = cm;
  X.Marker = X.extend({ initialize(t) {
    this._map = t, this._shape = "Marker", this.toolbarButtonName = "drawMarker";
  }, enable(t) {
    L.Util.setOptions(this, t), this._enabled = true, this._map.getContainer().classList.add("geoman-draw-cursor"), this._map.on("click", this._createMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._hintMarker = L.marker(this._map.getCenter(), this.options.markerStyle), this._setPane(this._hintMarker, "markerPane"), this._hintMarker._pmTempLayer = true, this._hintMarker.addTo(this._map), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.placeMarker"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._layer = this._hintMarker, this._map.on("mousemove", this._syncHintMarker, this), this.options.markerEditable && this._map.eachLayer((e) => {
      this.isRelevantMarker(e) && e.pm.enable();
    }), this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("click", this._createMarker, this), this._hintMarker.remove(), this._map.off("mousemove", this._syncHintMarker, this), this._map.eachLayer((t) => {
      this.isRelevantMarker(t) && t.pm.disable();
    }), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, isRelevantMarker(t) {
    return t instanceof L.Marker && t.pm && !t._pmTempLayer && !t.pm._initTextMarker;
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let e = t;
      e.target = this._hintMarker, this._handleSnapping(e);
    }
    this._fireChange(this._hintMarker.getLatLng(), "Draw");
  }, _createMarker(t) {
    if (!t.latlng || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = new L.Marker(e, this.options.markerStyle);
    this._setPane(i, "markerPane"), this._finishLayer(i), i.pm || (i.options.draggable = false), i.addTo(this._map.pm._getContainingLayer()), i.pm && this.options.markerEditable ? i.pm.enable() : i.dragging && i.dragging.disable(), this._fireCreate(i), this._cleanupSnapping(), this.options.continueDrawing || this.disable();
  }, setStyle() {
    this.options.markerStyle?.icon && this._hintMarker?.setIcon(this.options.markerStyle.icon);
  } });
  var at = 63710088e-1, Jo = { centimeters: at * 100, centimetres: at * 100, degrees: at / 111325, feet: at * 3.28084, inches: at * 39.37, kilometers: at / 1e3, kilometres: at / 1e3, meters: at, metres: at, miles: at / 1609.344, millimeters: at * 1e3, millimetres: at * 1e3, nauticalmiles: at / 1852, radians: 1, yards: at * 1.0936 }, Qb = { centimeters: 100, centimetres: 100, degrees: 1 / 111325, feet: 3.28084, inches: 39.37, kilometers: 1 / 1e3, kilometres: 1 / 1e3, meters: 1, metres: 1, miles: 1 / 1609.344, millimeters: 1e3, millimetres: 1e3, nauticalmiles: 1 / 1852, radians: 1 / at, yards: 1.0936133 };
  function Dt(t, e, i) {
    i === void 0 && (i = {});
    var r = { type: "Feature" };
    return (i.id === 0 || i.id) && (r.id = i.id), i.bbox && (r.bbox = i.bbox), r.properties = e || {}, r.geometry = t, r;
  }
  function _t(t, e, i) {
    if (i === void 0 && (i = {}), !t)
      throw new Error("coordinates is required");
    if (!Array.isArray(t))
      throw new Error("coordinates must be an Array");
    if (t.length < 2)
      throw new Error("coordinates must be at least 2 numbers long");
    if (!Si(t[0]) || !Si(t[1]))
      throw new Error("coordinates must contain numbers");
    var r = { type: "Point", coordinates: t };
    return Dt(r, e, i);
  }
  function wt(t, e, i) {
    if (i === void 0 && (i = {}), t.length < 2)
      throw new Error("coordinates must be an array of two or more positions");
    var r = { type: "LineString", coordinates: t };
    return Dt(r, e, i);
  }
  function yt(t, e) {
    e === void 0 && (e = {});
    var i = { type: "FeatureCollection" };
    return e.id && (i.id = e.id), e.bbox && (i.bbox = e.bbox), i.features = t, i;
  }
  function $o(t, e) {
    e === void 0 && (e = "kilometers");
    var i = Jo[e];
    if (!i)
      throw new Error(e + " units is invalid");
    return t * i;
  }
  function Zo(t, e) {
    e === void 0 && (e = "kilometers");
    var i = Jo[e];
    if (!i)
      throw new Error(e + " units is invalid");
    return t / i;
  }
  function Me(t) {
    var e = t % (2 * Math.PI);
    return e * 180 / Math.PI;
  }
  function lt(t) {
    var e = t % 360;
    return e * Math.PI / 180;
  }
  function Si(t) {
    return !isNaN(t) && t !== null && !Array.isArray(t);
  }
  function zt(t) {
    var e, i, r = { type: "FeatureCollection", features: [] };
    if (t.type === "Feature" ? i = t.geometry : i = t, i.type === "LineString")
      e = [i.coordinates];
    else if (i.type === "MultiLineString")
      e = i.coordinates;
    else if (i.type === "MultiPolygon")
      e = [].concat.apply([], i.coordinates);
    else if (i.type === "Polygon")
      e = i.coordinates;
    else
      throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");
    return e.forEach(function(n) {
      e.forEach(function(s) {
        for (var a = 0; a < n.length - 1; a++)
          for (var o = a; o < s.length - 1; o++)
            if (!(n === s && (Math.abs(a - o) === 1 || a === 0 && o === n.length - 2 && n[a][0] === n[n.length - 1][0] && n[a][1] === n[n.length - 1][1]))) {
              var l = pm(n[a][0], n[a][1], n[a + 1][0], n[a + 1][1], s[o][0], s[o][1], s[o + 1][0], s[o + 1][1]);
              l && r.features.push(_t([l[0], l[1]]));
            }
      });
    }), r;
  }
  function pm(t, e, i, r, n, s, a, o) {
    var l, u, f, d, P, E = { x: null, y: null, onLine1: false, onLine2: false };
    return l = (o - s) * (i - t) - (a - n) * (r - e), l === 0 ? E.x !== null && E.y !== null ? E : false : (u = e - s, f = t - n, d = (a - n) * u - (o - s) * f, P = (i - t) * u - (r - e) * f, u = d / l, f = P / l, E.x = t + u * (i - t), E.y = e + u * (r - e), u >= 0 && u <= 1 && (E.onLine1 = true), f >= 0 && f <= 1 && (E.onLine2 = true), E.onLine1 && E.onLine2 ? [E.x, E.y] : false);
  }
  X.Line = X.extend({ initialize(t) {
    this._map = t, this._shape = "Line", this.toolbarButtonName = "drawPolyline", this._doesSelfIntersect = false;
  }, enable(t) {
    L.Util.setOptions(this, t), this._enabled = true, this._markers = [], this._layerGroup = new L.FeatureGroup(), this._layerGroup._pmTempLayer = true, this._layerGroup.addTo(this._map), this._layer = L.polyline([], { ...this.options.templineStyle, pmIgnore: false }), this._setPane(this._layer, "layerPane"), this._layer._pmTempLayer = true, this._layerGroup.addLayer(this._layer), this._hintline = L.polyline([], this.options.hintlineStyle), this._setPane(this._hintline, "layerPane"), this._hintline._pmTempLayer = true, this._layerGroup.addLayer(this._hintline), this._hintMarker = L.marker(this._map.getCenter(), { interactive: false, zIndexOffset: 100, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._layerGroup.addLayer(this._hintMarker), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.firstVertex"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._map.getContainer().classList.add("geoman-draw-cursor"), this._map.on("click", this._createVertex, this), this.options.finishOn && this.options.finishOn !== "snap" && this._map.on(this.options.finishOn, this._finishShape, this), this.options.finishOn === "dblclick" && (this.tempMapDoubleClickZoomState = this._map.doubleClickZoom._enabled, this.tempMapDoubleClickZoomState && this._map.doubleClickZoom.disable()), this._map.on("mousemove", this._syncHintMarker, this), this._hintMarker.on("move", this._syncHintLine, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._otherSnapLayers = [], this.isRed = false, this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("click", this._createVertex, this), this._map.off("mousemove", this._syncHintMarker, this), this.options.finishOn && this.options.finishOn !== "snap" && this._map.off(this.options.finishOn, this._finishShape, this), this.tempMapDoubleClickZoomState && this._map.doubleClickZoom.enable(), this._map.removeLayer(this._layerGroup), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _syncHintLine() {
    let t = this._layer.getLatLngs();
    if (t.length > 0) {
      let e = t[t.length - 1];
      this._hintline.setLatLngs([e, this._hintMarker.getLatLng()]);
    }
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let i = t;
      i.target = this._hintMarker, this._handleSnapping(i);
    }
    this.options.allowSelfIntersection || this._handleSelfIntersection(true, this._hintMarker.getLatLng());
    let e = this._layer._defaultShape().slice();
    e.push(this._hintMarker.getLatLng()), this._change(e);
  }, hasSelfIntersection() {
    return zt(this._layer.toGeoJSON(15)).features.length > 0;
  }, _handleSelfIntersection(t, e) {
    let i = L.polyline(this._layer.getLatLngs());
    t && (e || (e = this._hintMarker.getLatLng()), i.addLatLng(e));
    let r = zt(i.toGeoJSON(15));
    this._doesSelfIntersect = r.features.length > 0, this._doesSelfIntersect ? this.isRed || (this.isRed = true, this._hintline.setStyle({ color: "#f00000ff" }), this._fireIntersect(r, this._map, "Draw")) : this._hintline.isEmpty() || (this.isRed = false, this._hintline.setStyle(this.options.hintlineStyle));
  }, _createVertex(t) {
    if (!this.options.allowSelfIntersection && (this._handleSelfIntersection(true, t.latlng), this._doesSelfIntersect))
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = this._layer.getLatLngs(), r = i[i.length - 1];
    if (e.equals(i[0]) || i.length > 0 && e.equals(r)) {
      this._finishShape();
      return;
    }
    this._layer._latlngInfo = this._layer._latlngInfo || [], this._layer._latlngInfo.push({ latlng: e, snapInfo: this._hintMarker._snapInfo }), this._layer.addLatLng(e);
    let n = this._createMarker(e);
    this._setTooltipText(), this._setHintLineAfterNewVertex(e), this._fireVertexAdded(n, void 0, e, "Draw"), this._change(this._layer.getLatLngs()), this.options.finishOn === "snap" && this._hintMarker._snapped && this._finishShape(t);
  }, _setHintLineAfterNewVertex(t) {
    this._hintline.setLatLngs([t, t]);
  }, _removeLastVertex() {
    let t = this._markers;
    if (t.length <= 1) {
      this.disable();
      return;
    }
    let e = this._layer.getLatLngs(), i = t[t.length - 1], { indexPath: r } = L.PM.Utils.findDeepMarkerIndex(t, i);
    t.pop(), this._layerGroup.removeLayer(i);
    let n = t[t.length - 1], s = e.indexOf(n.getLatLng());
    e = e.slice(0, s + 1), this._layer.setLatLngs(e), this._layer._latlngInfo.pop(), this._syncHintLine(), this._setTooltipText(), this._fireVertexRemoved(i, r, "Draw"), this._change(this._layer.getLatLngs());
  }, _finishShape() {
    if (!this.options.allowSelfIntersection && (this._handleSelfIntersection(false), this._doesSelfIntersect) || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    let t = this._layer.getLatLngs();
    if (t.length <= 1)
      return;
    let e = L.polyline(t, this.options.pathOptions);
    this._setPane(e, "layerPane"), this._finishLayer(e), e.addTo(this._map.pm._getContainingLayer()), this._fireCreate(e), this.options.snappable && this._cleanupSnapping(), this.disable(), this.options.continueDrawing && this.enable();
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: false, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._pmTempLayer = true, this._layerGroup.addLayer(e), this._markers.push(e), e.on("click", this._finishShape, this), e;
  }, _setTooltipText() {
    let { length: t } = this._layer.getLatLngs().flat(), e = "";
    t <= 1 ? e = V("tooltips.continueLine") : e = V("tooltips.finishLine"), this._hintMarker.setTooltipContent(e);
  }, _change(t) {
    this._fireChange(t, "Draw");
  }, setStyle() {
    this._layer?.setStyle(this.options.templineStyle), this._hintline?.setStyle(this.options.hintlineStyle);
  } });
  X.Polygon = X.Line.extend({ initialize(t) {
    this._map = t, this._shape = "Polygon", this.toolbarButtonName = "drawPolygon";
  }, enable(t) {
    L.PM.Draw.Line.prototype.enable.call(this, t), this._layer.pm._shape = "Polygon";
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: false, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._pmTempLayer = true, this._layerGroup.addLayer(e), this._markers.push(e), this._layer.getLatLngs().flat().length === 1 ? (e.on("click", this._finishShape, this), this._tempSnapLayerIndex = this._otherSnapLayers.push(e) - 1, this.options.snappable && this._cleanupSnapping()) : e.on("click", () => 1), e;
  }, _setTooltipText() {
    let { length: t } = this._layer.getLatLngs().flat(), e = "";
    t <= 2 ? e = V("tooltips.continueLine") : e = V("tooltips.finishPoly"), this._hintMarker.setTooltipContent(e);
  }, _finishShape() {
    if (!this.options.allowSelfIntersection && (this._handleSelfIntersection(true, this._layer.getLatLngs()[0]), this._doesSelfIntersect) || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    let t = this._layer.getLatLngs();
    if (t.length <= 2)
      return;
    let e = L.polygon(t, this.options.pathOptions);
    this._setPane(e, "layerPane"), this._finishLayer(e), e.addTo(this._map.pm._getContainingLayer()), this._fireCreate(e), this._cleanupSnapping(), this._otherSnapLayers.splice(this._tempSnapLayerIndex, 1), delete this._tempSnapLayerIndex, this.disable(), this.options.continueDrawing && this.enable();
  } });
  X.Rectangle = X.extend({ initialize(t) {
    this._map = t, this._shape = "Rectangle", this.toolbarButtonName = "drawRectangle";
  }, enable(t) {
    if (L.Util.setOptions(this, t), this._enabled = true, this._layerGroup = new L.FeatureGroup(), this._layerGroup._pmTempLayer = true, this._layerGroup.addTo(this._map), this._layer = L.rectangle([[0, 0], [0, 0]], this.options.pathOptions), this._setPane(this._layer, "layerPane"), this._layer._pmTempLayer = true, this._startMarker = L.marker(this._map.getCenter(), { icon: L.divIcon({ className: "marker-icon rect-start-marker" }), draggable: false, zIndexOffset: -100, opacity: this.options.cursorMarker ? 1 : 0 }), this._setPane(this._startMarker, "vertexPane"), this._startMarker._pmTempLayer = true, this._layerGroup.addLayer(this._startMarker), this._hintMarker = L.marker(this._map.getCenter(), { zIndexOffset: 150, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._layerGroup.addLayer(this._hintMarker), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.firstVertex"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this.options.cursorMarker) {
      this._styleMarkers = [];
      for (let e = 0; e < 2; e += 1) {
        let i = L.marker(this._map.getCenter(), { icon: L.divIcon({ className: "marker-icon rect-style-marker" }), draggable: false, zIndexOffset: 100 });
        this._setPane(i, "vertexPane"), i._pmTempLayer = true, this._layerGroup.addLayer(i), this._styleMarkers.push(i);
      }
    }
    this._map.getContainer().classList.add("geoman-draw-cursor"), this._map.on("click", this._placeStartingMarkers, this), this._map.on("mousemove", this._syncHintMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._otherSnapLayers = [], this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("click", this._finishShape, this), this._map.off("click", this._placeStartingMarkers, this), this._map.off("mousemove", this._syncHintMarker, this), this._map.removeLayer(this._layerGroup), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _placeStartingMarkers(t) {
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng();
    L.DomUtil.addClass(this._startMarker._icon, "visible"), this._startMarker.setLatLng(e), this.options.cursorMarker && this._styleMarkers && this._styleMarkers.forEach((i) => {
      L.DomUtil.addClass(i._icon, "visible"), i.setLatLng(e);
    }), this._map.off("click", this._placeStartingMarkers, this), this._map.on("click", this._finishShape, this), this._hintMarker.setTooltipContent(V("tooltips.finishRect")), this._setRectangleOrigin();
  }, _setRectangleOrigin() {
    let t = this._startMarker.getLatLng();
    t && (this._layerGroup.addLayer(this._layer), this._layer.setLatLngs([t, t]), this._hintMarker.on("move", this._syncRectangleSize, this));
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let i = t;
      i.target = this._hintMarker, this._handleSnapping(i);
    }
    let e = this._layerGroup && this._layerGroup.hasLayer(this._layer) ? this._layer.getLatLngs() : [this._hintMarker.getLatLng()];
    this._fireChange(e, "Draw");
  }, _syncRectangleSize() {
    let t = Ei(this._startMarker.getLatLng(), this._map), e = Ei(this._hintMarker.getLatLng(), this._map), i = L.PM.Utils._getRotatedRectangle(t, e, this.options.rectangleAngle || 0, this._map);
    if (this._layer.setLatLngs(i), this.options.cursorMarker && this._styleMarkers) {
      let r = [];
      i.forEach((n) => {
        !n.equals(t, 1e-8) && !n.equals(e, 1e-8) && r.push(n);
      }), r.forEach((n, s) => {
        try {
          this._styleMarkers[s].setLatLng(n);
        } catch {
        }
      });
    }
  }, _findCorners() {
    let t = this._layer.getLatLngs()[0];
    return L.PM.Utils._getRotatedRectangle(t[0], t[2], this.options.rectangleAngle || 0, this._map);
  }, _finishShape(t) {
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = this._startMarker.getLatLng();
    if (this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer() || i.equals(e))
      return;
    let r = L.rectangle([i, e], this.options.pathOptions);
    if (this.options.rectangleAngle) {
      let n = L.PM.Utils._getRotatedRectangle(i, e, this.options.rectangleAngle || 0, this._map);
      r.setLatLngs(n), r.pm && r.pm._setAngle(this.options.rectangleAngle || 0);
    }
    this._setPane(r, "layerPane"), this._finishLayer(r), r.addTo(this._map.pm._getContainingLayer()), this._fireCreate(r), this.disable(), this.options.continueDrawing && this.enable();
  }, setStyle() {
    this._layer?.setStyle(this.options.pathOptions);
  } });
  X.CircleMarker = X.extend({ initialize(t) {
    this._map = t, this._shape = "CircleMarker", this.toolbarButtonName = "drawCircleMarker", this._layerIsDragging = false, this._BaseCircleClass = L.CircleMarker, this._minRadiusOption = "minRadiusCircleMarker", this._maxRadiusOption = "maxRadiusCircleMarker", this._editableOption = "resizeableCircleMarker", this._defaultRadius = 10;
  }, enable(t) {
    if (L.Util.setOptions(this, t), this.options.editable && (this.options.resizeableCircleMarker = this.options.editable, delete this.options.editable), this._enabled = true, this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._map.getContainer().classList.add("geoman-draw-cursor"), this.options[this._editableOption]) {
      let e = {};
      L.extend(e, this.options.templineStyle), e.radius = 0, this._layerGroup = new L.FeatureGroup(), this._layerGroup._pmTempLayer = true, this._layerGroup.addTo(this._map), this._layer = new this._BaseCircleClass(this._map.getCenter(), e), this._setPane(this._layer, "layerPane"), this._layer._pmTempLayer = true, this._centerMarker = L.marker(this._map.getCenter(), { icon: L.divIcon({ className: "marker-icon" }), draggable: false, zIndexOffset: 100 }), this._setPane(this._centerMarker, "vertexPane"), this._centerMarker._pmTempLayer = true, this._hintMarker = L.marker(this._map.getCenter(), { zIndexOffset: 110, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._layerGroup.addLayer(this._hintMarker), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.startCircle"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._hintline = L.polyline([], this.options.hintlineStyle), this._setPane(this._hintline, "layerPane"), this._hintline._pmTempLayer = true, this._layerGroup.addLayer(this._hintline), this._map.on("click", this._placeCenterMarker, this);
    } else
      this._map.on("click", this._createMarker, this), this._hintMarker = new this._BaseCircleClass(this._map.getCenter(), { radius: this._defaultRadius, ...this.options.templineStyle }), this._setPane(this._hintMarker, "layerPane"), this._hintMarker._pmTempLayer = true, this._hintMarker.addTo(this._map), this._layer = this._hintMarker, this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.placeCircleMarker"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip();
    this._map.on("mousemove", this._syncHintMarker, this), this._extendingEnable(), this._otherSnapLayers = [], this._fireDrawStart(), this._setGlobalDrawMode();
  }, _extendingEnable() {
    !this.options[this._editableOption] && this.options.markerEditable && this._map.eachLayer((t) => {
      this.isRelevantMarker(t) && t.pm.enable();
    }), this._layer.bringToBack();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this.options[this._editableOption] ? (this._map.off("click", this._finishShape, this), this._map.off("click", this._placeCenterMarker, this), this._map.removeLayer(this._layerGroup)) : (this._map.off("click", this._createMarker, this), this._extendingDisable(), this._hintMarker.remove()), this._map.off("mousemove", this._syncHintMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, _extendingDisable() {
    this._map.eachLayer((t) => {
      this.isRelevantMarker(t) && t.pm.disable();
    });
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _placeCenterMarker(t) {
    this._layerGroup.addLayer(this._layer), this._layerGroup.addLayer(this._centerMarker), this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng();
    this._layerGroup.addLayer(this._layer), this._centerMarker.setLatLng(e), this._map.off("click", this._placeCenterMarker, this), this._map.on("click", this._finishShape, this), this._placeCircleCenter();
  }, _placeCircleCenter() {
    let t = this._centerMarker.getLatLng();
    t && (this._layer.setLatLng(t), this._hintMarker.on("move", this._syncHintLine, this), this._hintMarker.on("move", this._syncCircleRadius, this), this._hintMarker.setTooltipContent(V("tooltips.finishCircle")), this._fireCenterPlaced(), this._fireChange(this._layer.getLatLng(), "Draw"));
  }, _syncHintLine() {
    let t = this._centerMarker.getLatLng(), e = this._getNewDestinationOfHintMarker();
    this._hintline.setLatLngs([t, e]);
  }, _syncCircleRadius() {
    let t = this._centerMarker.getLatLng(), e = this._hintMarker.getLatLng(), i = this._distanceCalculation(t, e);
    this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._layer.setRadius(this.options[this._minRadiusOption]) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] ? this._layer.setRadius(this.options[this._maxRadiusOption]) : this._layer.setRadius(i);
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()), this.options.snappable) {
      let i = t;
      i.target = this._hintMarker, this._handleSnapping(i);
    }
    this._handleHintMarkerSnapping();
    let e = this._layerGroup && this._layerGroup.hasLayer(this._centerMarker) ? this._centerMarker.getLatLng() : this._hintMarker.getLatLng();
    this._fireChange(e, "Draw");
  }, isRelevantMarker(t) {
    return t instanceof L.CircleMarker && !(t instanceof L.Circle) && t.pm && !t._pmTempLayer;
  }, _createMarker(t) {
    if (this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer() || !t.latlng || this._layerIsDragging)
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = new this._BaseCircleClass(e, { radius: this._defaultRadius, ...this.options.pathOptions });
    this._setPane(i, "layerPane"), this._finishLayer(i), i.addTo(this._map.pm._getContainingLayer()), this._extendingCreateMarker(i), this._fireCreate(i), this._cleanupSnapping(), this.options.continueDrawing || this.disable();
  }, _extendingCreateMarker(t) {
    t.pm && this.options.markerEditable && t.pm.enable();
  }, _finishShape(t) {
    if (this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._centerMarker.getLatLng(), i = this._defaultRadius;
    if (this.options[this._editableOption]) {
      let s = this._hintMarker.getLatLng();
      i = this._distanceCalculation(e, s), this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? i = this.options[this._minRadiusOption] : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && (i = this.options[this._maxRadiusOption]);
    }
    let r = { ...this.options.pathOptions, radius: i }, n = new this._BaseCircleClass(e, r);
    this._setPane(n, "layerPane"), this._finishLayer(n), n.addTo(this._map.pm._getContainingLayer()), n.pm && n.pm._updateHiddenPolyCircle(), this._fireCreate(n), this.disable(), this.options.continueDrawing && this.enable();
  }, _getNewDestinationOfHintMarker() {
    let t = this._hintMarker.getLatLng();
    if (this.options[this._editableOption]) {
      if (!this._layerGroup.hasLayer(this._centerMarker))
        return t;
      let e = this._centerMarker.getLatLng(), i = this._distanceCalculation(e, t);
      this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? t = te(this._map, e, t, this._getMinDistanceInMeter()) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && (t = te(this._map, e, t, this._getMaxDistanceInMeter()));
    }
    return t;
  }, _getMinDistanceInMeter() {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption], this._map, this._centerMarker.getLatLng());
  }, _getMaxDistanceInMeter() {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption], this._map, this._centerMarker.getLatLng());
  }, _handleHintMarkerSnapping() {
    if (this.options[this._editableOption]) {
      if (this._hintMarker._snapped) {
        let t = this._centerMarker.getLatLng(), e = this._hintMarker.getLatLng(), i = this._distanceCalculation(t, e);
        this._layerGroup.hasLayer(this._centerMarker) && (this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._hintMarker.setLatLng(this._hintMarker._orgLatLng) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && this._hintMarker.setLatLng(this._hintMarker._orgLatLng));
      }
      this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker());
    }
  }, setStyle() {
    let t = {};
    L.extend(t, this.options.templineStyle), this.options[this._editableOption] && (t.radius = 0), this._layer?.setStyle(t), this._hintline?.setStyle(this.options.hintlineStyle);
  }, _distanceCalculation(t, e) {
    return this._map.project(t).distanceTo(this._map.project(e));
  } });
  X.Circle = X.CircleMarker.extend({ initialize(t) {
    this._map = t, this._shape = "Circle", this.toolbarButtonName = "drawCircle", this._BaseCircleClass = L.Circle, this._minRadiusOption = "minRadiusCircle", this._maxRadiusOption = "maxRadiusCircle", this._editableOption = "resizableCircle", this._defaultRadius = 100;
  }, _extendingEnable() {
  }, _extendingDisable() {
  }, _extendingCreateMarker() {
  }, isRelevantMarker() {
  }, _getMinDistanceInMeter() {
    return this.options[this._minRadiusOption];
  }, _getMaxDistanceInMeter() {
    return this.options[this._maxRadiusOption];
  }, _distanceCalculation(t, e) {
    return this._map.distance(t, e);
  } });
  function rt(t) {
    if (!t)
      throw new Error("coord is required");
    if (!Array.isArray(t)) {
      if (t.type === "Feature" && t.geometry !== null && t.geometry.type === "Point")
        return t.geometry.coordinates;
      if (t.type === "Point")
        return t.coordinates;
    }
    if (Array.isArray(t) && t.length >= 2 && !Array.isArray(t[0]) && !Array.isArray(t[1]))
      return t;
    throw new Error("coord must be GeoJSON Point or an Array of numbers");
  }
  function ot(t) {
    if (Array.isArray(t))
      return t;
    if (t.type === "Feature") {
      if (t.geometry !== null)
        return t.geometry.coordinates;
    } else if (t.coordinates)
      return t.coordinates;
    throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array");
  }
  function ee(t) {
    return t.type === "Feature" ? t.geometry : t;
  }
  function Bi(t, e) {
    return t.type === "FeatureCollection" ? "FeatureCollection" : t.type === "GeometryCollection" ? "GeometryCollection" : t.type === "Feature" && t.geometry !== null ? t.geometry.type : t.type;
  }
  function xe(t, e, i) {
    if (t !== null)
      for (var r, n, s, a, o, l, u, f = 0, d = 0, P, E = t.type, T = E === "FeatureCollection", G = E === "Feature", _ = T ? t.features.length : 1, x = 0; x < _; x++) {
        u = T ? t.features[x].geometry : G ? t.geometry : t, P = u ? u.type === "GeometryCollection" : false, o = P ? u.geometries.length : 1;
        for (var b = 0; b < o; b++) {
          var R = 0, D = 0;
          if (a = P ? u.geometries[b] : u, a !== null) {
            l = a.coordinates;
            var O = a.type;
            switch (f = i && (O === "Polygon" || O === "MultiPolygon") ? 1 : 0, O) {
              case null:
                break;
              case "Point":
                if (e(l, d, x, R, D) === false)
                  return false;
                d++, R++;
                break;
              case "LineString":
              case "MultiPoint":
                for (r = 0; r < l.length; r++) {
                  if (e(l[r], d, x, R, D) === false)
                    return false;
                  d++, O === "MultiPoint" && R++;
                }
                O === "LineString" && R++;
                break;
              case "Polygon":
              case "MultiLineString":
                for (r = 0; r < l.length; r++) {
                  for (n = 0; n < l[r].length - f; n++) {
                    if (e(l[r][n], d, x, R, D) === false)
                      return false;
                    d++;
                  }
                  O === "MultiLineString" && R++, O === "Polygon" && D++;
                }
                O === "Polygon" && R++;
                break;
              case "MultiPolygon":
                for (r = 0; r < l.length; r++) {
                  for (D = 0, n = 0; n < l[r].length; n++) {
                    for (s = 0; s < l[r][n].length - f; s++) {
                      if (e(l[r][n][s], d, x, R, D) === false)
                        return false;
                      d++;
                    }
                    D++;
                  }
                  R++;
                }
                break;
              case "GeometryCollection":
                for (r = 0; r < a.geometries.length; r++)
                  if (xe(a.geometries[r], e, i) === false)
                    return false;
                break;
              default:
                throw new Error("Unknown Geometry Type");
            }
          }
        }
      }
  }
  function Ft(t, e) {
    if (t.type === "Feature")
      e(t, 0);
    else if (t.type === "FeatureCollection")
      for (var i = 0; i < t.features.length && e(t.features[i], i) !== false; i++)
        ;
  }
  function Wo(t, e, i) {
    var r = i;
    return Ft(t, function(n, s) {
      s === 0 && i === void 0 ? r = n : r = e(r, n, s);
    }), r;
  }
  function fm(t, e) {
    var i, r, n, s, a, o, l, u, f, d, P = 0, E = t.type === "FeatureCollection", T = t.type === "Feature", G = E ? t.features.length : 1;
    for (i = 0; i < G; i++) {
      for (o = E ? t.features[i].geometry : T ? t.geometry : t, u = E ? t.features[i].properties : T ? t.properties : {}, f = E ? t.features[i].bbox : T ? t.bbox : void 0, d = E ? t.features[i].id : T ? t.id : void 0, l = o ? o.type === "GeometryCollection" : false, a = l ? o.geometries.length : 1, n = 0; n < a; n++) {
        if (s = l ? o.geometries[n] : o, s === null) {
          if (e(null, P, u, f, d) === false)
            return false;
          continue;
        }
        switch (s.type) {
          case "Point":
          case "LineString":
          case "MultiPoint":
          case "Polygon":
          case "MultiLineString":
          case "MultiPolygon": {
            if (e(s, P, u, f, d) === false)
              return false;
            break;
          }
          case "GeometryCollection": {
            for (r = 0; r < s.geometries.length; r++)
              if (e(s.geometries[r], P, u, f, d) === false)
                return false;
            break;
          }
          default:
            throw new Error("Unknown Geometry Type");
        }
      }
      P++;
    }
  }
  function ie(t, e) {
    fm(t, function(i, r, n, s, a) {
      var o = i === null ? null : i.type;
      switch (o) {
        case null:
        case "Point":
        case "LineString":
        case "Polygon":
          return e(Dt(i, n, { bbox: s, id: a }), r, 0) === false ? false : void 0;
      }
      var l;
      switch (o) {
        case "MultiPoint":
          l = "Point";
          break;
        case "MultiLineString":
          l = "LineString";
          break;
        case "MultiPolygon":
          l = "Polygon";
          break;
      }
      for (var u = 0; u < i.coordinates.length; u++) {
        var f = i.coordinates[u], d = { type: l, coordinates: f };
        if (e(Dt(d, n), r, u) === false)
          return false;
      }
    });
  }
  function dm(t) {
    if (!t)
      throw new Error("geojson is required");
    var e = [];
    return ie(t, function(i) {
      gm(i, e);
    }), yt(e);
  }
  function gm(t, e) {
    var i = [], r = t.geometry;
    if (r !== null) {
      switch (r.type) {
        case "Polygon":
          i = ot(r);
          break;
        case "LineString":
          i = [ot(r)];
      }
      i.forEach(function(n) {
        var s = mm(n, t.properties);
        s.forEach(function(a) {
          a.id = e.length, e.push(a);
        });
      });
    }
  }
  function mm(t, e) {
    var i = [];
    return t.reduce(function(r, n) {
      var s = wt([r, n], e);
      return s.bbox = _m(r, n), i.push(s), n;
    }), i;
  }
  function _m(t, e) {
    var i = t[0], r = t[1], n = e[0], s = e[1], a = i < n ? i : n, o = r < s ? r : s, l = i > n ? i : n, u = r > s ? r : s;
    return [a, o, l, u];
  }
  var we = dm;
  var gl = xt(Ui(), 1);
  function jm(t, e) {
    var i = {}, r = [];
    if (t.type === "LineString" && (t = Dt(t)), e.type === "LineString" && (e = Dt(e)), t.type === "Feature" && e.type === "Feature" && t.geometry !== null && e.geometry !== null && t.geometry.type === "LineString" && e.geometry.type === "LineString" && t.geometry.coordinates.length === 2 && e.geometry.coordinates.length === 2) {
      var n = dl(t, e);
      return n && r.push(n), yt(r);
    }
    var s = (0, gl.default)();
    return s.load(we(e)), Ft(we(t), function(a) {
      Ft(s.search(a), function(o) {
        var l = dl(a, o);
        if (l) {
          var u = ot(l).join(",");
          i[u] || (i[u] = true, r.push(l));
        }
      });
    }), yt(r);
  }
  function dl(t, e) {
    var i = ot(t), r = ot(e);
    if (i.length !== 2)
      throw new Error("<intersects> line1 must only contain 2 coordinates");
    if (r.length !== 2)
      throw new Error("<intersects> line2 must only contain 2 coordinates");
    var n = i[0][0], s = i[0][1], a = i[1][0], o = i[1][1], l = r[0][0], u = r[0][1], f = r[1][0], d = r[1][1], P = (d - u) * (a - n) - (f - l) * (o - s), E = (f - l) * (s - u) - (d - u) * (n - l), T = (a - n) * (s - u) - (o - s) * (n - l);
    if (P === 0)
      return null;
    var G = E / P, _ = T / P;
    if (G >= 0 && G <= 1 && _ >= 0 && _ <= 1) {
      var x = n + G * (a - n), b = s + G * (o - s);
      return _t([x, b]);
    }
    return null;
  }
  var pt = jm;
  var Xi = xt(Ui(), 1);
  function Km(t, e, i) {
    i === void 0 && (i = {});
    var r = rt(t), n = rt(e), s = lt(n[1] - r[1]), a = lt(n[0] - r[0]), o = lt(r[1]), l = lt(n[1]), u = Math.pow(Math.sin(s / 2), 2) + Math.pow(Math.sin(a / 2), 2) * Math.cos(o) * Math.cos(l);
    return $o(2 * Math.atan2(Math.sqrt(u), Math.sqrt(1 - u)), i.units);
  }
  var Ct = Km;
  function Hm(t) {
    var e = t[0], i = t[1], r = t[2], n = t[3], s = Ct(t.slice(0, 2), [r, i]), a = Ct(t.slice(0, 2), [e, n]);
    if (s >= a) {
      var o = (i + n) / 2;
      return [e, o - (r - e) / 2, r, o + (r - e) / 2];
    } else {
      var l = (e + r) / 2;
      return [l - (n - i) / 2, i, l + (n - i) / 2, n];
    }
  }
  var ml = Hm;
  function ji(t) {
    var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
    return xe(t, function(i) {
      e[0] > i[0] && (e[0] = i[0]), e[1] > i[1] && (e[1] = i[1]), e[2] < i[0] && (e[2] = i[0]), e[3] < i[1] && (e[3] = i[1]);
    }), e;
  }
  ji.default = ji;
  var Vt = ji;
  function Xm(t, e) {
    e === void 0 && (e = {});
    var i = e.precision, r = e.coordinates, n = e.mutate;
    if (i = i == null || isNaN(i) ? 6 : i, r = r == null || isNaN(r) ? 3 : r, !t)
      throw new Error("<geojson> is required");
    if (typeof i != "number")
      throw new Error("<precision> must be a number");
    if (typeof r != "number")
      throw new Error("<coordinates> must be a number");
    (n === false || n === void 0) && (t = JSON.parse(JSON.stringify(t)));
    var s = Math.pow(10, i);
    return xe(t, function(a) {
      Ym(a, s, r);
    }), t;
  }
  function Ym(t, e, i) {
    t.length > i && t.splice(i, t.length);
    for (var r = 0; r < t.length; r++)
      t[r] = Math.round(t[r] * e) / e;
    return t;
  }
  var _l = Xm;
  function Ke(t, e, i) {
    if (i === void 0 && (i = {}), i.final === true)
      return Jm(t, e);
    var r = rt(t), n = rt(e), s = lt(r[0]), a = lt(n[0]), o = lt(r[1]), l = lt(n[1]), u = Math.sin(a - s) * Math.cos(l), f = Math.cos(o) * Math.sin(l) - Math.sin(o) * Math.cos(l) * Math.cos(a - s);
    return Me(Math.atan2(u, f));
  }
  function Jm(t, e) {
    var i = Ke(e, t);
    return i = (i + 180) % 360, i;
  }
  function He(t, e, i, r) {
    r === void 0 && (r = {});
    var n = rt(t), s = lt(n[0]), a = lt(n[1]), o = lt(i), l = Zo(e, r.units), u = Math.asin(Math.sin(a) * Math.cos(l) + Math.cos(a) * Math.sin(l) * Math.cos(o)), f = s + Math.atan2(Math.sin(o) * Math.sin(l) * Math.cos(a), Math.cos(l) - Math.sin(a) * Math.sin(u)), d = Me(f), P = Me(u);
    return _t([d, P], r.properties);
  }
  function $m(t, e, i) {
    i === void 0 && (i = {});
    var r = _t([1 / 0, 1 / 0], { dist: 1 / 0 }), n = 0;
    return ie(t, function(s) {
      for (var a = ot(s), o = 0; o < a.length - 1; o++) {
        var l = _t(a[o]);
        l.properties.dist = Ct(e, l, i);
        var u = _t(a[o + 1]);
        u.properties.dist = Ct(e, u, i);
        var f = Ct(l, u, i), d = Math.max(l.properties.dist, u.properties.dist), P = Ke(l, u), E = He(e, d, P + 90, i), T = He(e, d, P - 90, i), G = pt(wt([E.geometry.coordinates, T.geometry.coordinates]), wt([l.geometry.coordinates, u.geometry.coordinates])), _ = null;
        G.features.length > 0 && (_ = G.features[0], _.properties.dist = Ct(e, _, i), _.properties.location = n + Ct(l, _, i)), l.properties.dist < r.properties.dist && (r = l, r.properties.index = o, r.properties.location = n), u.properties.dist < r.properties.dist && (r = u, r.properties.index = o + 1, r.properties.location = n + f), _ && _.properties.dist < r.properties.dist && (r = _, r.properties.index = o), n += f;
      }
    }), r;
  }
  var yl = $m;
  function Zm(t, e) {
    if (!t)
      throw new Error("line is required");
    if (!e)
      throw new Error("splitter is required");
    var i = Bi(t), r = Bi(e);
    if (i !== "LineString")
      throw new Error("line must be LineString");
    if (r === "FeatureCollection")
      throw new Error("splitter cannot be a FeatureCollection");
    if (r === "GeometryCollection")
      throw new Error("splitter cannot be a GeometryCollection");
    var n = _l(e, { precision: 7 });
    switch (r) {
      case "Point":
        return Hi(t, n);
      case "MultiPoint":
        return Ll(t, n);
      case "LineString":
      case "MultiLineString":
      case "Polygon":
      case "MultiPolygon":
        return Ll(t, pt(t, n));
    }
  }
  function Ll(t, e) {
    var i = [], r = (0, Xi.default)();
    return ie(e, function(n) {
      if (i.forEach(function(o, l) {
        o.id = l;
      }), !i.length)
        i = Hi(t, n).features, i.forEach(function(o) {
          o.bbox || (o.bbox = ml(Vt(o)));
        }), r.load(yt(i));
      else {
        var s = r.search(n);
        if (s.features.length) {
          var a = bl(n, s);
          i = i.filter(function(o) {
            return o.id !== a.id;
          }), r.remove(a), Ft(Hi(a, n), function(o) {
            i.push(o), r.insert(o);
          });
        }
      }
    }), yt(i);
  }
  function Hi(t, e) {
    var i = [], r = ot(t)[0], n = ot(t)[t.geometry.coordinates.length - 1];
    if (Ki(r, rt(e)) || Ki(n, rt(e)))
      return yt([t]);
    var s = (0, Xi.default)(), a = we(t);
    s.load(a);
    var o = s.search(e);
    if (!o.features.length)
      return yt([t]);
    var l = bl(e, o), u = [r], f = Wo(a, function(d, P, E) {
      var T = ot(P)[1], G = rt(e);
      return E === l.id ? (d.push(G), i.push(wt(d)), Ki(G, T) ? [G] : [G, T]) : (d.push(T), d);
    }, u);
    return f.length > 1 && i.push(wt(f)), yt(i);
  }
  function bl(t, e) {
    if (!e.features.length)
      throw new Error("lines must contain features");
    if (e.features.length === 1)
      return e.features[0];
    var i, r = 1 / 0;
    return Ft(e, function(n) {
      var s = yl(n, t), a = s.properties.dist;
      a < r && (i = n, r = a);
    }), i;
  }
  function Ki(t, e) {
    return t[0] === e[0] && t[1] === e[1];
  }
  var vl = Zm;
  function ne(t, e, i) {
    if (i === void 0 && (i = {}), !t)
      throw new Error("point is required");
    if (!e)
      throw new Error("polygon is required");
    var r = rt(t), n = ee(e), s = n.type, a = e.bbox, o = n.coordinates;
    if (a && Wm(r, a) === false)
      return false;
    s === "Polygon" && (o = [o]);
    for (var l = false, u = 0; u < o.length && !l; u++)
      if (kl(r, o[u][0], i.ignoreBoundary)) {
        for (var f = false, d = 1; d < o[u].length && !f; )
          kl(r, o[u][d], !i.ignoreBoundary) && (f = true), d++;
        f || (l = true);
      }
    return l;
  }
  function kl(t, e, i) {
    var r = false;
    e[0][0] === e[e.length - 1][0] && e[0][1] === e[e.length - 1][1] && (e = e.slice(0, e.length - 1));
    for (var n = 0, s = e.length - 1; n < e.length; s = n++) {
      var a = e[n][0], o = e[n][1], l = e[s][0], u = e[s][1], f = t[1] * (a - l) + o * (l - t[0]) + u * (t[0] - a) === 0 && (a - t[0]) * (l - t[0]) <= 0 && (o - t[1]) * (u - t[1]) <= 0;
      if (f)
        return !i;
      var d = o > t[1] != u > t[1] && t[0] < (l - a) * (t[1] - o) / (u - o) + a;
      d && (r = !r);
    }
    return r;
  }
  function Wm(t, e) {
    return e[0] <= t[0] && e[1] <= t[1] && e[2] >= t[0] && e[3] >= t[1];
  }
  function Qm(t, e, i) {
    i === void 0 && (i = {});
    for (var r = rt(t), n = ot(e), s = 0; s < n.length - 1; s++) {
      var a = false;
      if (i.ignoreEndVertices && (s === 0 && (a = "start"), s === n.length - 2 && (a = "end"), s === 0 && s + 1 === n.length - 1 && (a = "both")), t_(n[s], n[s + 1], r, a, typeof i.epsilon > "u" ? null : i.epsilon))
        return true;
    }
    return false;
  }
  function t_(t, e, i, r, n) {
    var s = i[0], a = i[1], o = t[0], l = t[1], u = e[0], f = e[1], d = i[0] - o, P = i[1] - l, E = u - o, T = f - l, G = d * T - P * E;
    if (n !== null) {
      if (Math.abs(G) > n)
        return false;
    } else if (G !== 0)
      return false;
    if (r) {
      if (r === "start")
        return Math.abs(E) >= Math.abs(T) ? E > 0 ? o < s && s <= u : u <= s && s < o : T > 0 ? l < a && a <= f : f <= a && a < l;
      if (r === "end")
        return Math.abs(E) >= Math.abs(T) ? E > 0 ? o <= s && s < u : u < s && s <= o : T > 0 ? l <= a && a < f : f < a && a <= l;
      if (r === "both")
        return Math.abs(E) >= Math.abs(T) ? E > 0 ? o < s && s < u : u < s && s < o : T > 0 ? l < a && a < f : f < a && a < l;
    } else
      return Math.abs(E) >= Math.abs(T) ? E > 0 ? o <= s && s <= u : u <= s && s <= o : T > 0 ? l <= a && a <= f : f <= a && a <= l;
    return false;
  }
  var se = Qm;
  function Yi(t, e) {
    var i = ee(t), r = ee(e), n = i.type, s = r.type, a = i.coordinates, o = r.coordinates;
    switch (n) {
      case "Point":
        switch (s) {
          case "Point":
            return Ji(a, o);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      case "MultiPoint":
        switch (s) {
          case "Point":
            return e_(i, r);
          case "MultiPoint":
            return i_(i, r);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      case "LineString":
        switch (s) {
          case "Point":
            return se(r, i, { ignoreEndVertices: true });
          case "LineString":
            return s_(i, r);
          case "MultiPoint":
            return r_(i, r);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      case "Polygon":
        switch (s) {
          case "Point":
            return ne(r, i, { ignoreBoundary: true });
          case "LineString":
            return a_(i, r);
          case "Polygon":
            return o_(i, r);
          case "MultiPoint":
            return n_(i, r);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      default:
        throw new Error("feature1 " + n + " geometry not supported");
    }
  }
  function e_(t, e) {
    var i, r = false;
    for (i = 0; i < t.coordinates.length; i++)
      if (Ji(t.coordinates[i], e.coordinates)) {
        r = true;
        break;
      }
    return r;
  }
  function i_(t, e) {
    for (var i = 0, r = e.coordinates; i < r.length; i++) {
      for (var n = r[i], s = false, a = 0, o = t.coordinates; a < o.length; a++) {
        var l = o[a];
        if (Ji(n, l)) {
          s = true;
          break;
        }
      }
      if (!s)
        return false;
    }
    return true;
  }
  function r_(t, e) {
    for (var i = false, r = 0, n = e.coordinates; r < n.length; r++) {
      var s = n[r];
      if (se(s, t, { ignoreEndVertices: true }) && (i = true), !se(s, t))
        return false;
    }
    return !!i;
  }
  function n_(t, e) {
    for (var i = 0, r = e.coordinates; i < r.length; i++) {
      var n = r[i];
      if (!ne(n, t, { ignoreBoundary: true }))
        return false;
    }
    return true;
  }
  function s_(t, e) {
    for (var i = false, r = 0, n = e.coordinates; r < n.length; r++) {
      var s = n[r];
      if (se({ type: "Point", coordinates: s }, t, { ignoreEndVertices: true }) && (i = true), !se({ type: "Point", coordinates: s }, t, { ignoreEndVertices: false }))
        return false;
    }
    return i;
  }
  function a_(t, e) {
    var i = false, r = 0, n = Vt(t), s = Vt(e);
    if (!Ml(n, s))
      return false;
    for (r; r < e.coordinates.length - 1; r++) {
      var a = l_(e.coordinates[r], e.coordinates[r + 1]);
      if (ne({ type: "Point", coordinates: a }, t, { ignoreBoundary: true })) {
        i = true;
        break;
      }
    }
    return i;
  }
  function o_(t, e) {
    if (t.type === "Feature" && t.geometry === null || e.type === "Feature" && e.geometry === null)
      return false;
    var i = Vt(t), r = Vt(e);
    if (!Ml(i, r))
      return false;
    for (var n = ee(e).coordinates, s = 0, a = n; s < a.length; s++)
      for (var o = a[s], l = 0, u = o; l < u.length; l++) {
        var f = u[l];
        if (!ne(f, t))
          return false;
      }
    return true;
  }
  function Ml(t, e) {
    return !(t[0] > e[0] || t[2] < e[2] || t[1] > e[1] || t[3] < e[3]);
  }
  function Ji(t, e) {
    return t[0] === e[0] && t[1] === e[1];
  }
  function l_(t, e) {
    return [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2];
  }
  var Kl = xt(Le());
  var Xe = (t) => () => t;
  var Ee = (t) => {
    let e = t ? (i, r) => r.minus(i).abs().isLessThanOrEqualTo(t) : Xe(false);
    return (i, r) => e(i, r) ? 0 : i.comparedTo(r);
  };
  function xl(t) {
    let e = t ? (i, r, n, s, a) => i.exponentiatedBy(2).isLessThanOrEqualTo(s.minus(r).exponentiatedBy(2).plus(a.minus(n).exponentiatedBy(2)).times(t)) : Xe(false);
    return (i, r, n) => {
      let s = i.x, a = i.y, o = n.x, l = n.y, u = a.minus(l).times(r.x.minus(o)).minus(s.minus(o).times(r.y.minus(l)));
      return e(u, s, a, o, l) ? 0 : u.comparedTo(0);
    };
  }
  var h_ = /^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i, $i = Math.ceil, dt = Math.floor, ht = "[BigNumber Error] ", wl = ht + "Number primitive has more than 15 significant digits: ", Lt = 1e14, F = 14, Zi = 9007199254740991, Wi = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13], At = 1e7, tt = 1e9;
  function Cl(t) {
    var e, i, r, n = b.prototype = { constructor: b, toString: null, valueOf: null }, s = new b(1), a = 20, o = 4, l = -7, u = 21, f = -1e7, d = 1e7, P = false, E = 1, T = 0, G = { prefix: "", groupSize: 3, secondaryGroupSize: 0, groupSeparator: ",", decimalSeparator: ".", fractionGroupSize: 0, fractionGroupSeparator: "\xA0", suffix: "" }, _ = "0123456789abcdefghijklmnopqrstuvwxyz", x = true;
    function b(h, c) {
      var p, y, g, k, C, m, v, w, M = this;
      if (!(M instanceof b))
        return new b(h, c);
      if (c == null) {
        if (h && h._isBigNumber === true) {
          M.s = h.s, !h.c || h.e > d ? M.c = M.e = null : h.e < f ? M.c = [M.e = 0] : (M.e = h.e, M.c = h.c.slice());
          return;
        }
        if ((m = typeof h == "number") && h * 0 == 0) {
          if (M.s = 1 / h < 0 ? (h = -h, -1) : 1, h === ~~h) {
            for (k = 0, C = h; C >= 10; C /= 10, k++)
              ;
            k > d ? M.c = M.e = null : (M.e = k, M.c = [h]);
            return;
          }
          w = String(h);
        } else {
          if (!h_.test(w = String(h)))
            return r(M, w, m);
          M.s = w.charCodeAt(0) == 45 ? (w = w.slice(1), -1) : 1;
        }
        (k = w.indexOf(".")) > -1 && (w = w.replace(".", "")), (C = w.search(/e/i)) > 0 ? (k < 0 && (k = C), k += +w.slice(C + 1), w = w.substring(0, C)) : k < 0 && (k = w.length);
      } else {
        if (J(c, 2, _.length, "Base"), c == 10 && x)
          return M = new b(h), A(M, a + M.e + 1, o);
        if (w = String(h), m = typeof h == "number") {
          if (h * 0 != 0)
            return r(M, w, m, c);
          if (M.s = 1 / h < 0 ? (w = w.slice(1), -1) : 1, b.DEBUG && w.replace(/^0\.0*|\./, "").length > 15)
            throw Error(wl + h);
        } else
          M.s = w.charCodeAt(0) === 45 ? (w = w.slice(1), -1) : 1;
        for (p = _.slice(0, c), k = C = 0, v = w.length; C < v; C++)
          if (p.indexOf(y = w.charAt(C)) < 0) {
            if (y == ".") {
              if (C > k) {
                k = v;
                continue;
              }
            } else if (!g && (w == w.toUpperCase() && (w = w.toLowerCase()) || w == w.toLowerCase() && (w = w.toUpperCase()))) {
              g = true, C = -1, k = 0;
              continue;
            }
            return r(M, String(h), m, c);
          }
        m = false, w = i(w, c, 10, M.s), (k = w.indexOf(".")) > -1 ? w = w.replace(".", "") : k = w.length;
      }
      for (C = 0; w.charCodeAt(C) === 48; C++)
        ;
      for (v = w.length; w.charCodeAt(--v) === 48; )
        ;
      if (w = w.slice(C, ++v)) {
        if (v -= C, m && b.DEBUG && v > 15 && (h > Zi || h !== dt(h)))
          throw Error(wl + M.s * h);
        if ((k = k - C - 1) > d)
          M.c = M.e = null;
        else if (k < f)
          M.c = [M.e = 0];
        else {
          if (M.e = k, M.c = [], C = (k + 1) % F, k < 0 && (C += F), C < v) {
            for (C && M.c.push(+w.slice(0, C)), v -= F; C < v; )
              M.c.push(+w.slice(C, C += F));
            C = F - (w = w.slice(C)).length;
          } else
            C -= v;
          for (; C--; w += "0")
            ;
          M.c.push(+w);
        }
      } else
        M.c = [M.e = 0];
    }
    b.clone = Cl, b.ROUND_UP = 0, b.ROUND_DOWN = 1, b.ROUND_CEIL = 2, b.ROUND_FLOOR = 3, b.ROUND_HALF_UP = 4, b.ROUND_HALF_DOWN = 5, b.ROUND_HALF_EVEN = 6, b.ROUND_HALF_CEIL = 7, b.ROUND_HALF_FLOOR = 8, b.EUCLID = 9, b.config = b.set = function(h) {
      var c, p;
      if (h != null)
        if (typeof h == "object") {
          if (h.hasOwnProperty(c = "DECIMAL_PLACES") && (p = h[c], J(p, 0, tt, c), a = p), h.hasOwnProperty(c = "ROUNDING_MODE") && (p = h[c], J(p, 0, 8, c), o = p), h.hasOwnProperty(c = "EXPONENTIAL_AT") && (p = h[c], p && p.pop ? (J(p[0], -tt, 0, c), J(p[1], 0, tt, c), l = p[0], u = p[1]) : (J(p, -tt, tt, c), l = -(u = p < 0 ? -p : p))), h.hasOwnProperty(c = "RANGE"))
            if (p = h[c], p && p.pop)
              J(p[0], -tt, -1, c), J(p[1], 1, tt, c), f = p[0], d = p[1];
            else if (J(p, -tt, tt, c), p)
              f = -(d = p < 0 ? -p : p);
            else
              throw Error(ht + c + " cannot be zero: " + p);
          if (h.hasOwnProperty(c = "CRYPTO"))
            if (p = h[c], p === !!p)
              if (p)
                if (typeof crypto < "u" && crypto && (crypto.getRandomValues || crypto.randomBytes))
                  P = p;
                else
                  throw P = !p, Error(ht + "crypto unavailable");
              else
                P = p;
            else
              throw Error(ht + c + " not true or false: " + p);
          if (h.hasOwnProperty(c = "MODULO_MODE") && (p = h[c], J(p, 0, 9, c), E = p), h.hasOwnProperty(c = "POW_PRECISION") && (p = h[c], J(p, 0, tt, c), T = p), h.hasOwnProperty(c = "FORMAT"))
            if (p = h[c], typeof p == "object")
              G = p;
            else
              throw Error(ht + c + " not an object: " + p);
          if (h.hasOwnProperty(c = "ALPHABET"))
            if (p = h[c], typeof p == "string" && !/^.?$|[+\-.\s]|(.).*\1/.test(p))
              x = p.slice(0, 10) == "0123456789", _ = p;
            else
              throw Error(ht + c + " invalid: " + p);
        } else
          throw Error(ht + "Object expected: " + h);
      return { DECIMAL_PLACES: a, ROUNDING_MODE: o, EXPONENTIAL_AT: [l, u], RANGE: [f, d], CRYPTO: P, MODULO_MODE: E, POW_PRECISION: T, FORMAT: G, ALPHABET: _ };
    }, b.isBigNumber = function(h) {
      if (!h || h._isBigNumber !== true)
        return false;
      if (!b.DEBUG)
        return true;
      var c, p, y = h.c, g = h.e, k = h.s;
      t:
        if ({}.toString.call(y) == "[object Array]") {
          if ((k === 1 || k === -1) && g >= -tt && g <= tt && g === dt(g)) {
            if (y[0] === 0) {
              if (g === 0 && y.length === 1)
                return true;
              break t;
            }
            if (c = (g + 1) % F, c < 1 && (c += F), String(y[0]).length == c) {
              for (c = 0; c < y.length; c++)
                if (p = y[c], p < 0 || p >= Lt || p !== dt(p))
                  break t;
              if (p !== 0)
                return true;
            }
          }
        } else if (y === null && g === null && (k === null || k === 1 || k === -1))
          return true;
      throw Error(ht + "Invalid BigNumber: " + h);
    }, b.maximum = b.max = function() {
      return D(arguments, -1);
    }, b.minimum = b.min = function() {
      return D(arguments, 1);
    }, b.random = function() {
      var h = 9007199254740992, c = Math.random() * h & 2097151 ? function() {
        return dt(Math.random() * h);
      } : function() {
        return (Math.random() * 1073741824 | 0) * 8388608 + (Math.random() * 8388608 | 0);
      };
      return function(p) {
        var y, g, k, C, m, v = 0, w = [], M = new b(s);
        if (p == null ? p = a : J(p, 0, tt), C = $i(p / F), P)
          if (crypto.getRandomValues) {
            for (y = crypto.getRandomValues(new Uint32Array(C *= 2)); v < C; )
              m = y[v] * 131072 + (y[v + 1] >>> 11), m >= 9e15 ? (g = crypto.getRandomValues(new Uint32Array(2)), y[v] = g[0], y[v + 1] = g[1]) : (w.push(m % 1e14), v += 2);
            v = C / 2;
          } else if (crypto.randomBytes) {
            for (y = crypto.randomBytes(C *= 7); v < C; )
              m = (y[v] & 31) * 281474976710656 + y[v + 1] * 1099511627776 + y[v + 2] * 4294967296 + y[v + 3] * 16777216 + (y[v + 4] << 16) + (y[v + 5] << 8) + y[v + 6], m >= 9e15 ? crypto.randomBytes(7).copy(y, v) : (w.push(m % 1e14), v += 7);
            v = C / 7;
          } else
            throw P = false, Error(ht + "crypto unavailable");
        if (!P)
          for (; v < C; )
            m = c(), m < 9e15 && (w[v++] = m % 1e14);
        for (C = w[--v], p %= F, C && p && (m = Wi[F - p], w[v] = dt(C / m) * m); w[v] === 0; w.pop(), v--)
          ;
        if (v < 0)
          w = [k = 0];
        else {
          for (k = -1; w[0] === 0; w.splice(0, 1), k -= F)
            ;
          for (v = 1, m = w[0]; m >= 10; m /= 10, v++)
            ;
          v < F && (k -= F - v);
        }
        return M.e = k, M.c = w, M;
      };
    }(), b.sum = function() {
      for (var h = 1, c = arguments, p = new b(c[0]); h < c.length; )
        p = p.plus(c[h++]);
      return p;
    }, i = /* @__PURE__ */ function() {
      var h = "0123456789";
      function c(p, y, g, k) {
        for (var C, m = [0], v, w = 0, M = p.length; w < M; ) {
          for (v = m.length; v--; m[v] *= y)
            ;
          for (m[0] += k.indexOf(p.charAt(w++)), C = 0; C < m.length; C++)
            m[C] > g - 1 && (m[C + 1] == null && (m[C + 1] = 0), m[C + 1] += m[C] / g | 0, m[C] %= g);
        }
        return m.reverse();
      }
      return function(p, y, g, k, C) {
        var m, v, w, M, B, I, N, j, $ = p.indexOf("."), W = a, U = o;
        for ($ >= 0 && (M = T, T = 0, p = p.replace(".", ""), j = new b(y), I = j.pow(p.length - $), T = M, j.c = c(Et(ft(I.c), I.e, "0"), 10, g, h), j.e = j.c.length), N = c(p, y, g, C ? (m = _, h) : (m = h, _)), w = M = N.length; N[--M] == 0; N.pop())
          ;
        if (!N[0])
          return m.charAt(0);
        if ($ < 0 ? --w : (I.c = N, I.e = w, I.s = k, I = e(I, j, W, U, g), N = I.c, B = I.r, w = I.e), v = w + W + 1, $ = N[v], M = g / 2, B = B || v < 0 || N[v + 1] != null, B = U < 4 ? ($ != null || B) && (U == 0 || U == (I.s < 0 ? 3 : 2)) : $ > M || $ == M && (U == 4 || B || U == 6 && N[v - 1] & 1 || U == (I.s < 0 ? 8 : 7)), v < 1 || !N[0])
          p = B ? Et(m.charAt(1), -W, m.charAt(0)) : m.charAt(0);
        else {
          if (N.length = v, B)
            for (--g; ++N[--v] > g; )
              N[v] = 0, v || (++w, N = [1].concat(N));
          for (M = N.length; !N[--M]; )
            ;
          for ($ = 0, p = ""; $ <= M; p += m.charAt(N[$++]))
            ;
          p = Et(p, w, m.charAt(0));
        }
        return p;
      };
    }(), e = /* @__PURE__ */ function() {
      function h(y, g, k) {
        var C, m, v, w, M = 0, B = y.length, I = g % At, N = g / At | 0;
        for (y = y.slice(); B--; )
          v = y[B] % At, w = y[B] / At | 0, C = N * v + w * I, m = I * v + C % At * At + M, M = (m / k | 0) + (C / At | 0) + N * w, y[B] = m % k;
        return M && (y = [M].concat(y)), y;
      }
      function c(y, g, k, C) {
        var m, v;
        if (k != C)
          v = k > C ? 1 : -1;
        else
          for (m = v = 0; m < k; m++)
            if (y[m] != g[m]) {
              v = y[m] > g[m] ? 1 : -1;
              break;
            }
        return v;
      }
      function p(y, g, k, C) {
        for (var m = 0; k--; )
          y[k] -= m, m = y[k] < g[k] ? 1 : 0, y[k] = m * C + y[k] - g[k];
        for (; !y[0] && y.length > 1; y.splice(0, 1))
          ;
      }
      return function(y, g, k, C, m) {
        var v, w, M, B, I, N, j, $, W, U, K, it, De, si, ai, bt, le, ct = y.s == g.s ? 1 : -1, st = y.c, Z = g.c;
        if (!st || !st[0] || !Z || !Z[0])
          return new b(!y.s || !g.s || (st ? Z && st[0] == Z[0] : !Z) ? NaN : st && st[0] == 0 || !Z ? ct * 0 : ct / 0);
        for ($ = new b(ct), W = $.c = [], w = y.e - g.e, ct = k + w + 1, m || (m = Lt, w = gt(y.e / F) - gt(g.e / F), ct = ct / F | 0), M = 0; Z[M] == (st[M] || 0); M++)
          ;
        if (Z[M] > (st[M] || 0) && w--, ct < 0)
          W.push(1), B = true;
        else {
          for (si = st.length, bt = Z.length, M = 0, ct += 2, I = dt(m / (Z[0] + 1)), I > 1 && (Z = h(Z, I, m), st = h(st, I, m), bt = Z.length, si = st.length), De = bt, U = st.slice(0, bt), K = U.length; K < bt; U[K++] = 0)
            ;
          le = Z.slice(), le = [0].concat(le), ai = Z[0], Z[1] >= m / 2 && ai++;
          do {
            if (I = 0, v = c(Z, U, bt, K), v < 0) {
              if (it = U[0], bt != K && (it = it * m + (U[1] || 0)), I = dt(it / ai), I > 1)
                for (I >= m && (I = m - 1), N = h(Z, I, m), j = N.length, K = U.length; c(N, U, j, K) == 1; )
                  I--, p(N, bt < j ? le : Z, j, m), j = N.length, v = 1;
              else
                I == 0 && (v = I = 1), N = Z.slice(), j = N.length;
              if (j < K && (N = [0].concat(N)), p(U, N, K, m), K = U.length, v == -1)
                for (; c(Z, U, bt, K) < 1; )
                  I++, p(U, bt < K ? le : Z, K, m), K = U.length;
            } else
              v === 0 && (I++, U = [0]);
            W[M++] = I, U[0] ? U[K++] = st[De] || 0 : (U = [st[De]], K = 1);
          } while ((De++ < si || U[0] != null) && ct--);
          B = U[0] != null, W[0] || W.splice(0, 1);
        }
        if (m == Lt) {
          for (M = 1, ct = W[0]; ct >= 10; ct /= 10, M++)
            ;
          A($, k + ($.e = M + w * F - 1) + 1, C, B);
        } else
          $.e = w, $.r = +B;
        return $;
      };
    }();
    function R(h, c, p, y) {
      var g, k, C, m, v;
      if (p == null ? p = o : J(p, 0, 8), !h.c)
        return h.toString();
      if (g = h.c[0], C = h.e, c == null)
        v = ft(h.c), v = y == 1 || y == 2 && (C <= l || C >= u) ? Je(v, C) : Et(v, C, "0");
      else if (h = A(new b(h), c, p), k = h.e, v = ft(h.c), m = v.length, y == 1 || y == 2 && (c <= k || k <= l)) {
        for (; m < c; v += "0", m++)
          ;
        v = Je(v, k);
      } else if (c -= C, v = Et(v, k, "0"), k + 1 > m) {
        if (--c > 0)
          for (v += "."; c--; v += "0")
            ;
      } else if (c += k - m, c > 0)
        for (k + 1 == m && (v += "."); c--; v += "0")
          ;
      return h.s < 0 && g ? "-" + v : v;
    }
    function D(h, c) {
      for (var p, y, g = 1, k = new b(h[0]); g < h.length; g++)
        y = new b(h[g]), (!y.s || (p = Ut(k, y)) === c || p === 0 && k.s === c) && (k = y);
      return k;
    }
    function O(h, c, p) {
      for (var y = 1, g = c.length; !c[--g]; c.pop())
        ;
      for (g = c[0]; g >= 10; g /= 10, y++)
        ;
      return (p = y + p * F - 1) > d ? h.c = h.e = null : p < f ? h.c = [h.e = 0] : (h.e = p, h.c = c), h;
    }
    r = /* @__PURE__ */ function() {
      var h = /^(-?)0([xbo])(?=\w[\w.]*$)/i, c = /^([^.]+)\.$/, p = /^\.([^.]+)$/, y = /^-?(Infinity|NaN)$/, g = /^\s*\+(?=[\w.])|^\s+|\s+$/g;
      return function(k, C, m, v) {
        var w, M = m ? C : C.replace(g, "");
        if (y.test(M))
          k.s = isNaN(M) ? null : M < 0 ? -1 : 1;
        else {
          if (!m && (M = M.replace(h, function(B, I, N) {
            return w = (N = N.toLowerCase()) == "x" ? 16 : N == "b" ? 2 : 8, !v || v == w ? I : B;
          }), v && (w = v, M = M.replace(c, "$1").replace(p, "0.$1")), C != M))
            return new b(M, w);
          if (b.DEBUG)
            throw Error(ht + "Not a" + (v ? " base " + v : "") + " number: " + C);
          k.s = null;
        }
        k.c = k.e = null;
      };
    }();
    function A(h, c, p, y) {
      var g, k, C, m, v, w, M, B = h.c, I = Wi;
      if (B) {
        t: {
          for (g = 1, m = B[0]; m >= 10; m /= 10, g++)
            ;
          if (k = c - g, k < 0)
            k += F, C = c, v = B[w = 0], M = dt(v / I[g - C - 1] % 10);
          else if (w = $i((k + 1) / F), w >= B.length)
            if (y) {
              for (; B.length <= w; B.push(0))
                ;
              v = M = 0, g = 1, k %= F, C = k - F + 1;
            } else
              break t;
          else {
            for (v = m = B[w], g = 1; m >= 10; m /= 10, g++)
              ;
            k %= F, C = k - F + g, M = C < 0 ? 0 : dt(v / I[g - C - 1] % 10);
          }
          if (y = y || c < 0 || B[w + 1] != null || (C < 0 ? v : v % I[g - C - 1]), y = p < 4 ? (M || y) && (p == 0 || p == (h.s < 0 ? 3 : 2)) : M > 5 || M == 5 && (p == 4 || y || p == 6 && (k > 0 ? C > 0 ? v / I[g - C] : 0 : B[w - 1]) % 10 & 1 || p == (h.s < 0 ? 8 : 7)), c < 1 || !B[0])
            return B.length = 0, y ? (c -= h.e + 1, B[0] = I[(F - c % F) % F], h.e = -c || 0) : B[0] = h.e = 0, h;
          if (k == 0 ? (B.length = w, m = 1, w--) : (B.length = w + 1, m = I[F - k], B[w] = C > 0 ? dt(v / I[g - C] % I[C]) * m : 0), y)
            for (; ; )
              if (w == 0) {
                for (k = 1, C = B[0]; C >= 10; C /= 10, k++)
                  ;
                for (C = B[0] += m, m = 1; C >= 10; C /= 10, m++)
                  ;
                k != m && (h.e++, B[0] == Lt && (B[0] = 1));
                break;
              } else {
                if (B[w] += m, B[w] != Lt)
                  break;
                B[w--] = 0, m = 1;
              }
          for (k = B.length; B[--k] === 0; B.pop())
            ;
        }
        h.e > d ? h.c = h.e = null : h.e < f && (h.c = [h.e = 0]);
      }
      return h;
    }
    function q(h) {
      var c, p = h.e;
      return p === null ? h.toString() : (c = ft(h.c), c = p <= l || p >= u ? Je(c, p) : Et(c, p, "0"), h.s < 0 ? "-" + c : c);
    }
    return n.absoluteValue = n.abs = function() {
      var h = new b(this);
      return h.s < 0 && (h.s = 1), h;
    }, n.comparedTo = function(h, c) {
      return Ut(this, new b(h, c));
    }, n.decimalPlaces = n.dp = function(h, c) {
      var p, y, g, k = this;
      if (h != null)
        return J(h, 0, tt), c == null ? c = o : J(c, 0, 8), A(new b(k), h + k.e + 1, c);
      if (!(p = k.c))
        return null;
      if (y = ((g = p.length - 1) - gt(this.e / F)) * F, g = p[g])
        for (; g % 10 == 0; g /= 10, y--)
          ;
      return y < 0 && (y = 0), y;
    }, n.dividedBy = n.div = function(h, c) {
      return e(this, new b(h, c), a, o);
    }, n.dividedToIntegerBy = n.idiv = function(h, c) {
      return e(this, new b(h, c), 0, 1);
    }, n.exponentiatedBy = n.pow = function(h, c) {
      var p, y, g, k, C, m, v, w, M, B = this;
      if (h = new b(h), h.c && !h.isInteger())
        throw Error(ht + "Exponent not an integer: " + q(h));
      if (c != null && (c = new b(c)), m = h.e > 14, !B.c || !B.c[0] || B.c[0] == 1 && !B.e && B.c.length == 1 || !h.c || !h.c[0])
        return M = new b(Math.pow(+q(B), m ? h.s * (2 - Ye(h)) : +q(h))), c ? M.mod(c) : M;
      if (v = h.s < 0, c) {
        if (c.c ? !c.c[0] : !c.s)
          return new b(NaN);
        y = !v && B.isInteger() && c.isInteger(), y && (B = B.mod(c));
      } else {
        if (h.e > 9 && (B.e > 0 || B.e < -1 || (B.e == 0 ? B.c[0] > 1 || m && B.c[1] >= 24e7 : B.c[0] < 8e13 || m && B.c[0] <= 9999975e7)))
          return k = B.s < 0 && Ye(h) ? -0 : 0, B.e > -1 && (k = 1 / k), new b(v ? 1 / k : k);
        T && (k = $i(T / F + 2));
      }
      for (m ? (p = new b(0.5), v && (h.s = 1), w = Ye(h)) : (g = Math.abs(+q(h)), w = g % 2), M = new b(s); ; ) {
        if (w) {
          if (M = M.times(B), !M.c)
            break;
          k ? M.c.length > k && (M.c.length = k) : y && (M = M.mod(c));
        }
        if (g) {
          if (g = dt(g / 2), g === 0)
            break;
          w = g % 2;
        } else if (h = h.times(p), A(h, h.e + 1, 1), h.e > 14)
          w = Ye(h);
        else {
          if (g = +q(h), g === 0)
            break;
          w = g % 2;
        }
        B = B.times(B), k ? B.c && B.c.length > k && (B.c.length = k) : y && (B = B.mod(c));
      }
      return y ? M : (v && (M = s.div(M)), c ? M.mod(c) : k ? A(M, T, o, C) : M);
    }, n.integerValue = function(h) {
      var c = new b(this);
      return h == null ? h = o : J(h, 0, 8), A(c, c.e + 1, h);
    }, n.isEqualTo = n.eq = function(h, c) {
      return Ut(this, new b(h, c)) === 0;
    }, n.isFinite = function() {
      return !!this.c;
    }, n.isGreaterThan = n.gt = function(h, c) {
      return Ut(this, new b(h, c)) > 0;
    }, n.isGreaterThanOrEqualTo = n.gte = function(h, c) {
      return (c = Ut(this, new b(h, c))) === 1 || c === 0;
    }, n.isInteger = function() {
      return !!this.c && gt(this.e / F) > this.c.length - 2;
    }, n.isLessThan = n.lt = function(h, c) {
      return Ut(this, new b(h, c)) < 0;
    }, n.isLessThanOrEqualTo = n.lte = function(h, c) {
      return (c = Ut(this, new b(h, c))) === -1 || c === 0;
    }, n.isNaN = function() {
      return !this.s;
    }, n.isNegative = function() {
      return this.s < 0;
    }, n.isPositive = function() {
      return this.s > 0;
    }, n.isZero = function() {
      return !!this.c && this.c[0] == 0;
    }, n.minus = function(h, c) {
      var p, y, g, k, C = this, m = C.s;
      if (h = new b(h, c), c = h.s, !m || !c)
        return new b(NaN);
      if (m != c)
        return h.s = -c, C.plus(h);
      var v = C.e / F, w = h.e / F, M = C.c, B = h.c;
      if (!v || !w) {
        if (!M || !B)
          return M ? (h.s = -c, h) : new b(B ? C : NaN);
        if (!M[0] || !B[0])
          return B[0] ? (h.s = -c, h) : new b(M[0] ? C : o == 3 ? -0 : 0);
      }
      if (v = gt(v), w = gt(w), M = M.slice(), m = v - w) {
        for ((k = m < 0) ? (m = -m, g = M) : (w = v, g = B), g.reverse(), c = m; c--; g.push(0))
          ;
        g.reverse();
      } else
        for (y = (k = (m = M.length) < (c = B.length)) ? m : c, m = c = 0; c < y; c++)
          if (M[c] != B[c]) {
            k = M[c] < B[c];
            break;
          }
      if (k && (g = M, M = B, B = g, h.s = -h.s), c = (y = B.length) - (p = M.length), c > 0)
        for (; c--; M[p++] = 0)
          ;
      for (c = Lt - 1; y > m; ) {
        if (M[--y] < B[y]) {
          for (p = y; p && !M[--p]; M[p] = c)
            ;
          --M[p], M[y] += Lt;
        }
        M[y] -= B[y];
      }
      for (; M[0] == 0; M.splice(0, 1), --w)
        ;
      return M[0] ? O(h, M, w) : (h.s = o == 3 ? -1 : 1, h.c = [h.e = 0], h);
    }, n.modulo = n.mod = function(h, c) {
      var p, y, g = this;
      return h = new b(h, c), !g.c || !h.s || h.c && !h.c[0] ? new b(NaN) : !h.c || g.c && !g.c[0] ? new b(g) : (E == 9 ? (y = h.s, h.s = 1, p = e(g, h, 0, 3), h.s = y, p.s *= y) : p = e(g, h, 0, E), h = g.minus(p.times(h)), !h.c[0] && E == 1 && (h.s = g.s), h);
    }, n.multipliedBy = n.times = function(h, c) {
      var p, y, g, k, C, m, v, w, M, B, I, N, j, $, W, U = this, K = U.c, it = (h = new b(h, c)).c;
      if (!K || !it || !K[0] || !it[0])
        return !U.s || !h.s || K && !K[0] && !it || it && !it[0] && !K ? h.c = h.e = h.s = null : (h.s *= U.s, !K || !it ? h.c = h.e = null : (h.c = [0], h.e = 0)), h;
      for (y = gt(U.e / F) + gt(h.e / F), h.s *= U.s, v = K.length, B = it.length, v < B && (j = K, K = it, it = j, g = v, v = B, B = g), g = v + B, j = []; g--; j.push(0))
        ;
      for ($ = Lt, W = At, g = B; --g >= 0; ) {
        for (p = 0, I = it[g] % W, N = it[g] / W | 0, C = v, k = g + C; k > g; )
          w = K[--C] % W, M = K[C] / W | 0, m = N * w + M * I, w = I * w + m % W * W + j[k] + p, p = (w / $ | 0) + (m / W | 0) + N * M, j[k--] = w % $;
        j[k] = p;
      }
      return p ? ++y : j.splice(0, 1), O(h, j, y);
    }, n.negated = function() {
      var h = new b(this);
      return h.s = -h.s || null, h;
    }, n.plus = function(h, c) {
      var p, y = this, g = y.s;
      if (h = new b(h, c), c = h.s, !g || !c)
        return new b(NaN);
      if (g != c)
        return h.s = -c, y.minus(h);
      var k = y.e / F, C = h.e / F, m = y.c, v = h.c;
      if (!k || !C) {
        if (!m || !v)
          return new b(g / 0);
        if (!m[0] || !v[0])
          return v[0] ? h : new b(m[0] ? y : g * 0);
      }
      if (k = gt(k), C = gt(C), m = m.slice(), g = k - C) {
        for (g > 0 ? (C = k, p = v) : (g = -g, p = m), p.reverse(); g--; p.push(0))
          ;
        p.reverse();
      }
      for (g = m.length, c = v.length, g - c < 0 && (p = v, v = m, m = p, c = g), g = 0; c; )
        g = (m[--c] = m[c] + v[c] + g) / Lt | 0, m[c] = Lt === m[c] ? 0 : m[c] % Lt;
      return g && (m = [g].concat(m), ++C), O(h, m, C);
    }, n.precision = n.sd = function(h, c) {
      var p, y, g, k = this;
      if (h != null && h !== !!h)
        return J(h, 1, tt), c == null ? c = o : J(c, 0, 8), A(new b(k), h, c);
      if (!(p = k.c))
        return null;
      if (g = p.length - 1, y = g * F + 1, g = p[g]) {
        for (; g % 10 == 0; g /= 10, y--)
          ;
        for (g = p[0]; g >= 10; g /= 10, y++)
          ;
      }
      return h && k.e + 1 > y && (y = k.e + 1), y;
    }, n.shiftedBy = function(h) {
      return J(h, -Zi, Zi), this.times("1e" + h);
    }, n.squareRoot = n.sqrt = function() {
      var h, c, p, y, g, k = this, C = k.c, m = k.s, v = k.e, w = a + 4, M = new b("0.5");
      if (m !== 1 || !C || !C[0])
        return new b(!m || m < 0 && (!C || C[0]) ? NaN : C ? k : 1 / 0);
      if (m = Math.sqrt(+q(k)), m == 0 || m == 1 / 0 ? (c = ft(C), (c.length + v) % 2 == 0 && (c += "0"), m = Math.sqrt(+c), v = gt((v + 1) / 2) - (v < 0 || v % 2), m == 1 / 0 ? c = "5e" + v : (c = m.toExponential(), c = c.slice(0, c.indexOf("e") + 1) + v), p = new b(c)) : p = new b(m + ""), p.c[0]) {
        for (v = p.e, m = v + w, m < 3 && (m = 0); ; )
          if (g = p, p = M.times(g.plus(e(k, g, w, 1))), ft(g.c).slice(0, m) === (c = ft(p.c)).slice(0, m))
            if (p.e < v && --m, c = c.slice(m - 3, m + 1), c == "9999" || !y && c == "4999") {
              if (!y && (A(g, g.e + a + 2, 0), g.times(g).eq(k))) {
                p = g;
                break;
              }
              w += 4, m += 4, y = 1;
            } else {
              (!+c || !+c.slice(1) && c.charAt(0) == "5") && (A(p, p.e + a + 2, 1), h = !p.times(p).eq(k));
              break;
            }
      }
      return A(p, p.e + a + 1, o, h);
    }, n.toExponential = function(h, c) {
      return h != null && (J(h, 0, tt), h++), R(this, h, c, 1);
    }, n.toFixed = function(h, c) {
      return h != null && (J(h, 0, tt), h = h + this.e + 1), R(this, h, c);
    }, n.toFormat = function(h, c, p) {
      var y, g = this;
      if (p == null)
        h != null && c && typeof c == "object" ? (p = c, c = null) : h && typeof h == "object" ? (p = h, h = c = null) : p = G;
      else if (typeof p != "object")
        throw Error(ht + "Argument not an object: " + p);
      if (y = g.toFixed(h, c), g.c) {
        var k, C = y.split("."), m = +p.groupSize, v = +p.secondaryGroupSize, w = p.groupSeparator || "", M = C[0], B = C[1], I = g.s < 0, N = I ? M.slice(1) : M, j = N.length;
        if (v && (k = m, m = v, v = k, j -= k), m > 0 && j > 0) {
          for (k = j % m || m, M = N.substr(0, k); k < j; k += m)
            M += w + N.substr(k, m);
          v > 0 && (M += w + N.slice(k)), I && (M = "-" + M);
        }
        y = B ? M + (p.decimalSeparator || "") + ((v = +p.fractionGroupSize) ? B.replace(new RegExp("\\d{" + v + "}\\B", "g"), "$&" + (p.fractionGroupSeparator || "")) : B) : M;
      }
      return (p.prefix || "") + y + (p.suffix || "");
    }, n.toFraction = function(h) {
      var c, p, y, g, k, C, m, v, w, M, B, I, N = this, j = N.c;
      if (h != null && (m = new b(h), !m.isInteger() && (m.c || m.s !== 1) || m.lt(s)))
        throw Error(ht + "Argument " + (m.isInteger() ? "out of range: " : "not an integer: ") + q(m));
      if (!j)
        return new b(N);
      for (c = new b(s), w = p = new b(s), y = v = new b(s), I = ft(j), k = c.e = I.length - N.e - 1, c.c[0] = Wi[(C = k % F) < 0 ? F + C : C], h = !h || m.comparedTo(c) > 0 ? k > 0 ? c : w : m, C = d, d = 1 / 0, m = new b(I), v.c[0] = 0; M = e(m, c, 0, 1), g = p.plus(M.times(y)), g.comparedTo(h) != 1; )
        p = y, y = g, w = v.plus(M.times(g = w)), v = g, c = m.minus(M.times(g = c)), m = g;
      return g = e(h.minus(p), y, 0, 1), v = v.plus(g.times(w)), p = p.plus(g.times(y)), v.s = w.s = N.s, k = k * 2, B = e(w, y, k, o).minus(N).abs().comparedTo(e(v, p, k, o).minus(N).abs()) < 1 ? [w, y] : [v, p], d = C, B;
    }, n.toNumber = function() {
      return +q(this);
    }, n.toPrecision = function(h, c) {
      return h != null && J(h, 1, tt), R(this, h, c, 2);
    }, n.toString = function(h) {
      var c, p = this, y = p.s, g = p.e;
      return g === null ? y ? (c = "Infinity", y < 0 && (c = "-" + c)) : c = "NaN" : (h == null ? c = g <= l || g >= u ? Je(ft(p.c), g) : Et(ft(p.c), g, "0") : h === 10 && x ? (p = A(new b(p), a + g + 1, o), c = Et(ft(p.c), p.e, "0")) : (J(h, 2, _.length, "Base"), c = i(Et(ft(p.c), g, "0"), 10, h, y, true)), y < 0 && p.c[0] && (c = "-" + c)), c;
    }, n.valueOf = n.toJSON = function() {
      return q(this);
    }, n._isBigNumber = true, n[Symbol.toStringTag] = "BigNumber", n[Symbol.for("nodejs.util.inspect.custom")] = n.valueOf, t != null && b.set(t), b;
  }
  function gt(t) {
    var e = t | 0;
    return t > 0 || t === e ? e : e - 1;
  }
  function ft(t) {
    for (var e, i, r = 1, n = t.length, s = t[0] + ""; r < n; ) {
      for (e = t[r++] + "", i = F - e.length; i--; e = "0" + e)
        ;
      s += e;
    }
    for (n = s.length; s.charCodeAt(--n) === 48; )
      ;
    return s.slice(0, n + 1 || 1);
  }
  function Ut(t, e) {
    var i, r, n = t.c, s = e.c, a = t.s, o = e.s, l = t.e, u = e.e;
    if (!a || !o)
      return null;
    if (i = n && !n[0], r = s && !s[0], i || r)
      return i ? r ? 0 : -o : a;
    if (a != o)
      return a;
    if (i = a < 0, r = l == u, !n || !s)
      return r ? 0 : !n ^ i ? 1 : -1;
    if (!r)
      return l > u ^ i ? 1 : -1;
    for (o = (l = n.length) < (u = s.length) ? l : u, a = 0; a < o; a++)
      if (n[a] != s[a])
        return n[a] > s[a] ^ i ? 1 : -1;
    return l == u ? 0 : l > u ^ i ? 1 : -1;
  }
  function J(t, e, i, r) {
    if (t < e || t > i || t !== dt(t))
      throw Error(ht + (r || "Argument") + (typeof t == "number" ? t < e || t > i ? " out of range: " : " not an integer: " : " not a primitive number: ") + String(t));
  }
  function Ye(t) {
    var e = t.c.length - 1;
    return gt(t.e / F) == e && t.c[e] % 2 != 0;
  }
  function Je(t, e) {
    return (t.length > 1 ? t.charAt(0) + "." + t.slice(1) : t) + (e < 0 ? "e" : "e+") + e;
  }
  function Et(t, e, i) {
    var r, n;
    if (e < 0) {
      for (n = i + "."; ++e; n += i)
        ;
      t = n + t;
    } else if (r = t.length, ++e > r) {
      for (n = i, e -= r; --e; n += i)
        ;
      t += n;
    } else
      e < r && (t = t.slice(0, e) + "." + t.slice(e));
    return t;
  }
  var u_ = Cl(), mt = u_;
  var Qi = class {
    constructor(e) {
      __publicField(this, "key");
      __publicField(this, "left", null);
      __publicField(this, "right", null);
      this.key = e;
    }
  }, jt = class extends Qi {
    constructor(e) {
      super(e);
    }
  };
  var tr = class {
    constructor() {
      __publicField(this, "size", 0);
      __publicField(this, "modificationCount", 0);
      __publicField(this, "splayCount", 0);
    }
    splay(e) {
      let i = this.root;
      if (i == null)
        return this.compare(e, e), -1;
      let r = null, n = null, s = null, a = null, o = i, l = this.compare, u;
      for (; ; )
        if (u = l(o.key, e), u > 0) {
          let f = o.left;
          if (f == null || (u = l(f.key, e), u > 0 && (o.left = f.right, f.right = o, o = f, f = o.left, f == null)))
            break;
          r == null ? n = o : r.left = o, r = o, o = f;
        } else if (u < 0) {
          let f = o.right;
          if (f == null || (u = l(f.key, e), u < 0 && (o.right = f.left, f.left = o, o = f, f = o.right, f == null)))
            break;
          s == null ? a = o : s.right = o, s = o, o = f;
        } else
          break;
      return s != null && (s.right = o.left, o.left = a), r != null && (r.left = o.right, o.right = n), this.root !== o && (this.root = o, this.splayCount++), u;
    }
    splayMin(e) {
      let i = e, r = i.left;
      for (; r != null; ) {
        let n = r;
        i.left = n.right, n.right = i, i = n, r = i.left;
      }
      return i;
    }
    splayMax(e) {
      let i = e, r = i.right;
      for (; r != null; ) {
        let n = r;
        i.right = n.left, n.left = i, i = n, r = i.right;
      }
      return i;
    }
    _delete(e) {
      if (this.root == null || this.splay(e) != 0)
        return null;
      let r = this.root, n = r, s = r.left;
      if (this.size--, s == null)
        this.root = r.right;
      else {
        let a = r.right;
        r = this.splayMax(s), r.right = a, this.root = r;
      }
      return this.modificationCount++, n;
    }
    addNewRoot(e, i) {
      this.size++, this.modificationCount++;
      let r = this.root;
      if (r == null) {
        this.root = e;
        return;
      }
      i < 0 ? (e.left = r, e.right = r.right, r.right = null) : (e.right = r, e.left = r.left, r.left = null), this.root = e;
    }
    _first() {
      let e = this.root;
      return e == null ? null : (this.root = this.splayMin(e), this.root);
    }
    _last() {
      let e = this.root;
      return e == null ? null : (this.root = this.splayMax(e), this.root);
    }
    clear() {
      this.root = null, this.size = 0, this.modificationCount++;
    }
    has(e) {
      return this.validKey(e) && this.splay(e) == 0;
    }
    defaultCompare() {
      return (e, i) => e < i ? -1 : e > i ? 1 : 0;
    }
    wrap() {
      return { getRoot: () => this.root, setRoot: (e) => {
        this.root = e;
      }, getSize: () => this.size, getModificationCount: () => this.modificationCount, getSplayCount: () => this.splayCount, setSplayCount: (e) => {
        this.splayCount = e;
      }, splay: (e) => this.splay(e), has: (e) => this.has(e) };
    }
  };
  var Pt = (_b = class extends tr {
    constructor(e, i) {
      super();
      __publicField(this, "root", null);
      __publicField(this, "compare");
      __publicField(this, "validKey");
      __publicField(this, _a2, "[object Set]");
      this.compare = e ?? this.defaultCompare(), this.validKey = i ?? ((r) => r != null && r != null);
    }
    delete(e) {
      return this.validKey(e) ? this._delete(e) != null : false;
    }
    deleteAll(e) {
      for (let i of e)
        this.delete(i);
    }
    forEach(e) {
      let i = this[Symbol.iterator](), r;
      for (; r = i.next(), !r.done; )
        e(r.value, r.value, this);
    }
    add(e) {
      let i = this.splay(e);
      return i != 0 && this.addNewRoot(new jt(e), i), this;
    }
    addAndReturn(e) {
      let i = this.splay(e);
      return i != 0 && this.addNewRoot(new jt(e), i), this.root.key;
    }
    addAll(e) {
      for (let i of e)
        this.add(i);
    }
    isEmpty() {
      return this.root == null;
    }
    isNotEmpty() {
      return this.root != null;
    }
    single() {
      if (this.size == 0)
        throw "Bad state: No element";
      if (this.size > 1)
        throw "Bad state: Too many element";
      return this.root.key;
    }
    first() {
      if (this.size == 0)
        throw "Bad state: No element";
      return this._first().key;
    }
    last() {
      if (this.size == 0)
        throw "Bad state: No element";
      return this._last().key;
    }
    lastBefore(e) {
      if (e == null)
        throw "Invalid arguments(s)";
      if (this.root == null)
        return null;
      if (this.splay(e) < 0)
        return this.root.key;
      let r = this.root.left;
      if (r == null)
        return null;
      let n = r.right;
      for (; n != null; )
        r = n, n = r.right;
      return r.key;
    }
    firstAfter(e) {
      if (e == null)
        throw "Invalid arguments(s)";
      if (this.root == null)
        return null;
      if (this.splay(e) > 0)
        return this.root.key;
      let r = this.root.right;
      if (r == null)
        return null;
      let n = r.left;
      for (; n != null; )
        r = n, n = r.left;
      return r.key;
    }
    retainAll(e) {
      let i = new _b(this.compare, this.validKey), r = this.modificationCount;
      for (let n of e) {
        if (r != this.modificationCount)
          throw "Concurrent modification during iteration.";
        this.validKey(n) && this.splay(n) == 0 && i.add(this.root.key);
      }
      i.size != this.size && (this.root = i.root, this.size = i.size, this.modificationCount++);
    }
    lookup(e) {
      return !this.validKey(e) || this.splay(e) != 0 ? null : this.root.key;
    }
    intersection(e) {
      let i = new _b(this.compare, this.validKey);
      for (let r of this)
        e.has(r) && i.add(r);
      return i;
    }
    difference(e) {
      let i = new _b(this.compare, this.validKey);
      for (let r of this)
        e.has(r) || i.add(r);
      return i;
    }
    union(e) {
      let i = this.clone();
      return i.addAll(e), i;
    }
    clone() {
      let e = new _b(this.compare, this.validKey);
      return e.size = this.size, e.root = this.copyNode(this.root), e;
    }
    copyNode(e) {
      if (e == null)
        return null;
      function i(n, s) {
        let a, o;
        do {
          if (a = n.left, o = n.right, a != null) {
            let l = new jt(a.key);
            s.left = l, i(a, l);
          }
          if (o != null) {
            let l = new jt(o.key);
            s.right = l, n = o, s = l;
          }
        } while (o != null);
      }
      let r = new jt(e.key);
      return i(e, r), r;
    }
    toSet() {
      return this.clone();
    }
    entries() {
      return new ir(this.wrap());
    }
    keys() {
      return this[Symbol.iterator]();
    }
    values() {
      return this[Symbol.iterator]();
    }
    [Symbol.iterator]() {
      return new er(this.wrap());
    }
  }, _a2 = Symbol.toStringTag, _b), $e = class {
    constructor(e) {
      __publicField(this, "tree");
      __publicField(this, "path", new Array());
      __publicField(this, "modificationCount", null);
      __publicField(this, "splayCount");
      this.tree = e, this.splayCount = e.getSplayCount();
    }
    [Symbol.iterator]() {
      return this;
    }
    next() {
      return this.moveNext() ? { done: false, value: this.current() } : { done: true, value: null };
    }
    current() {
      if (!this.path.length)
        return null;
      let e = this.path[this.path.length - 1];
      return this.getValue(e);
    }
    rebuildPath(e) {
      this.path.splice(0, this.path.length), this.tree.splay(e), this.path.push(this.tree.getRoot()), this.splayCount = this.tree.getSplayCount();
    }
    findLeftMostDescendent(e) {
      for (; e != null; )
        this.path.push(e), e = e.left;
    }
    moveNext() {
      if (this.modificationCount != this.tree.getModificationCount()) {
        if (this.modificationCount == null) {
          this.modificationCount = this.tree.getModificationCount();
          let r = this.tree.getRoot();
          for (; r != null; )
            this.path.push(r), r = r.left;
          return this.path.length > 0;
        }
        throw "Concurrent modification during iteration.";
      }
      if (!this.path.length)
        return false;
      this.splayCount != this.tree.getSplayCount() && this.rebuildPath(this.path[this.path.length - 1].key);
      let e = this.path[this.path.length - 1], i = e.right;
      if (i != null) {
        for (; i != null; )
          this.path.push(i), i = i.left;
        return true;
      }
      for (this.path.pop(); this.path.length && this.path[this.path.length - 1].right === e; )
        e = this.path.pop();
      return this.path.length > 0;
    }
  }, er = class extends $e {
    getValue(e) {
      return e.key;
    }
  }, ir = class extends $e {
    getValue(e) {
      return [e.key, e.key];
    }
  };
  var El = (t) => t;
  var Pl = (t) => {
    if (t) {
      let e = new Pt(Ee(t)), i = new Pt(Ee(t)), r = (s, a) => a.addAndReturn(s), n = (s) => ({ x: r(s.x, e), y: r(s.y, i) });
      return n({ x: new mt(0), y: new mt(0) }), n;
    }
    return El;
  };
  var rr = (t) => ({ set: (e) => {
    ut = rr(e);
  }, reset: () => rr(t), compare: Ee(t), snap: Pl(t), orient: xl(t) }), ut = rr();
  var ae = (t, e) => t.ll.x.isLessThanOrEqualTo(e.x) && e.x.isLessThanOrEqualTo(t.ur.x) && t.ll.y.isLessThanOrEqualTo(e.y) && e.y.isLessThanOrEqualTo(t.ur.y), Pe = (t, e) => {
    if (e.ur.x.isLessThan(t.ll.x) || t.ur.x.isLessThan(e.ll.x) || e.ur.y.isLessThan(t.ll.y) || t.ur.y.isLessThan(e.ll.y))
      return null;
    let i = t.ll.x.isLessThan(e.ll.x) ? e.ll.x : t.ll.x, r = t.ur.x.isLessThan(e.ur.x) ? t.ur.x : e.ur.x, n = t.ll.y.isLessThan(e.ll.y) ? e.ll.y : t.ll.y, s = t.ur.y.isLessThan(e.ur.y) ? t.ur.y : e.ur.y;
    return { ll: { x: i, y: n }, ur: { x: r, y: s } };
  };
  var Ze = (t, e) => t.x.times(e.y).minus(t.y.times(e.x)), Tl = (t, e) => t.x.times(e.x).plus(t.y.times(e.y)), We = (t) => Tl(t, t).sqrt(), Rl = (t, e, i) => {
    let r = { x: e.x.minus(t.x), y: e.y.minus(t.y) }, n = { x: i.x.minus(t.x), y: i.y.minus(t.y) };
    return Ze(n, r).div(We(n)).div(We(r));
  }, Dl = (t, e, i) => {
    let r = { x: e.x.minus(t.x), y: e.y.minus(t.y) }, n = { x: i.x.minus(t.x), y: i.y.minus(t.y) };
    return Tl(n, r).div(We(n)).div(We(r));
  }, Sl = (t, e, i) => e.y.isZero() ? null : { x: t.x.plus(e.x.div(e.y).times(i.minus(t.y))), y: i }, Bl = (t, e, i) => e.x.isZero() ? null : { x: i, y: t.y.plus(e.y.div(e.x).times(i.minus(t.x))) }, Ol = (t, e, i, r) => {
    if (e.x.isZero())
      return Bl(i, r, t.x);
    if (r.x.isZero())
      return Bl(t, e, i.x);
    if (e.y.isZero())
      return Sl(i, r, t.y);
    if (r.y.isZero())
      return Sl(t, e, i.y);
    let n = Ze(e, r);
    if (n.isZero())
      return null;
    let s = { x: i.x.minus(t.x), y: i.y.minus(t.y) }, a = Ze(s, e).div(n), o = Ze(s, r).div(n), l = t.x.plus(o.times(e.x)), u = i.x.plus(a.times(r.x)), f = t.y.plus(o.times(e.y)), d = i.y.plus(a.times(r.y)), P = l.plus(u).div(2), E = f.plus(d).div(2);
    return { x: P, y: E };
  };
  var et = class t {
    constructor(e, i) {
      __publicField(this, "point");
      __publicField(this, "isLeft");
      __publicField(this, "segment");
      __publicField(this, "otherSE");
      __publicField(this, "consumedBy");
      e.events === void 0 ? e.events = [this] : e.events.push(this), this.point = e, this.isLeft = i;
    }
    static compare(e, i) {
      let r = t.comparePoints(e.point, i.point);
      return r !== 0 ? r : (e.point !== i.point && e.link(i), e.isLeft !== i.isLeft ? e.isLeft ? 1 : -1 : Mt.compare(e.segment, i.segment));
    }
    static comparePoints(e, i) {
      return e.x.isLessThan(i.x) ? -1 : e.x.isGreaterThan(i.x) ? 1 : e.y.isLessThan(i.y) ? -1 : e.y.isGreaterThan(i.y) ? 1 : 0;
    }
    link(e) {
      if (e.point === this.point)
        throw new Error("Tried to link already linked events");
      let i = e.point.events;
      for (let r = 0, n = i.length; r < n; r++) {
        let s = i[r];
        this.point.events.push(s), s.point = this.point;
      }
      this.checkForConsuming();
    }
    checkForConsuming() {
      let e = this.point.events.length;
      for (let i = 0; i < e; i++) {
        let r = this.point.events[i];
        if (r.segment.consumedBy === void 0)
          for (let n = i + 1; n < e; n++) {
            let s = this.point.events[n];
            s.consumedBy === void 0 && r.otherSE.point.events === s.otherSE.point.events && r.segment.consume(s.segment);
          }
      }
    }
    getAvailableLinkedEvents() {
      let e = [];
      for (let i = 0, r = this.point.events.length; i < r; i++) {
        let n = this.point.events[i];
        n !== this && !n.segment.ringOut && n.segment.isInResult() && e.push(n);
      }
      return e;
    }
    getLeftmostComparator(e) {
      let i = /* @__PURE__ */ new Map(), r = (n) => {
        let s = n.otherSE;
        i.set(n, { sine: Rl(this.point, e.point, s.point), cosine: Dl(this.point, e.point, s.point) });
      };
      return (n, s) => {
        i.has(n) || r(n), i.has(s) || r(s);
        let { sine: a, cosine: o } = i.get(n), { sine: l, cosine: u } = i.get(s);
        return a.isGreaterThanOrEqualTo(0) && l.isGreaterThanOrEqualTo(0) ? o.isLessThan(u) ? 1 : o.isGreaterThan(u) ? -1 : 0 : a.isLessThan(0) && l.isLessThan(0) ? o.isLessThan(u) ? -1 : o.isGreaterThan(u) ? 1 : 0 : l.isLessThan(a) ? -1 : l.isGreaterThan(a) ? 1 : 0;
      };
    }
  };
  var c_ = 0, Mt = class t {
    constructor(e, i, r, n) {
      __publicField(this, "id");
      __publicField(this, "leftSE");
      __publicField(this, "rightSE");
      __publicField(this, "rings");
      __publicField(this, "windings");
      __publicField(this, "ringOut");
      __publicField(this, "consumedBy");
      __publicField(this, "prev");
      __publicField(this, "_prevInResult");
      __publicField(this, "_beforeState");
      __publicField(this, "_afterState");
      __publicField(this, "_isInResult");
      this.id = ++c_, this.leftSE = e, e.segment = this, e.otherSE = i, this.rightSE = i, i.segment = this, i.otherSE = e, this.rings = r, this.windings = n;
    }
    static compare(e, i) {
      let r = e.leftSE.point.x, n = i.leftSE.point.x, s = e.rightSE.point.x, a = i.rightSE.point.x;
      if (a.isLessThan(r))
        return 1;
      if (s.isLessThan(n))
        return -1;
      let o = e.leftSE.point.y, l = i.leftSE.point.y, u = e.rightSE.point.y, f = i.rightSE.point.y;
      if (r.isLessThan(n)) {
        if (l.isLessThan(o) && l.isLessThan(u))
          return 1;
        if (l.isGreaterThan(o) && l.isGreaterThan(u))
          return -1;
        let d = e.comparePoint(i.leftSE.point);
        if (d < 0)
          return 1;
        if (d > 0)
          return -1;
        let P = i.comparePoint(e.rightSE.point);
        return P !== 0 ? P : -1;
      }
      if (r.isGreaterThan(n)) {
        if (o.isLessThan(l) && o.isLessThan(f))
          return -1;
        if (o.isGreaterThan(l) && o.isGreaterThan(f))
          return 1;
        let d = i.comparePoint(e.leftSE.point);
        if (d !== 0)
          return d;
        let P = e.comparePoint(i.rightSE.point);
        return P < 0 ? 1 : P > 0 ? -1 : 1;
      }
      if (o.isLessThan(l))
        return -1;
      if (o.isGreaterThan(l))
        return 1;
      if (s.isLessThan(a)) {
        let d = i.comparePoint(e.rightSE.point);
        if (d !== 0)
          return d;
      }
      if (s.isGreaterThan(a)) {
        let d = e.comparePoint(i.rightSE.point);
        if (d < 0)
          return 1;
        if (d > 0)
          return -1;
      }
      if (!s.eq(a)) {
        let d = u.minus(o), P = s.minus(r), E = f.minus(l), T = a.minus(n);
        if (d.isGreaterThan(P) && E.isLessThan(T))
          return 1;
        if (d.isLessThan(P) && E.isGreaterThan(T))
          return -1;
      }
      return s.isGreaterThan(a) ? 1 : s.isLessThan(a) || u.isLessThan(f) ? -1 : u.isGreaterThan(f) ? 1 : e.id < i.id ? -1 : e.id > i.id ? 1 : 0;
    }
    static fromRing(e, i, r) {
      let n, s, a, o = et.comparePoints(e, i);
      if (o < 0)
        n = e, s = i, a = 1;
      else if (o > 0)
        n = i, s = e, a = -1;
      else
        throw new Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);
      let l = new et(n, true), u = new et(s, false);
      return new t(l, u, [r], [a]);
    }
    replaceRightSE(e) {
      this.rightSE = e, this.rightSE.segment = this, this.rightSE.otherSE = this.leftSE, this.leftSE.otherSE = this.rightSE;
    }
    bbox() {
      let e = this.leftSE.point.y, i = this.rightSE.point.y;
      return { ll: { x: this.leftSE.point.x, y: e.isLessThan(i) ? e : i }, ur: { x: this.rightSE.point.x, y: e.isGreaterThan(i) ? e : i } };
    }
    vector() {
      return { x: this.rightSE.point.x.minus(this.leftSE.point.x), y: this.rightSE.point.y.minus(this.leftSE.point.y) };
    }
    isAnEndpoint(e) {
      return e.x.eq(this.leftSE.point.x) && e.y.eq(this.leftSE.point.y) || e.x.eq(this.rightSE.point.x) && e.y.eq(this.rightSE.point.y);
    }
    comparePoint(e) {
      return ut.orient(this.leftSE.point, e, this.rightSE.point);
    }
    getIntersection(e) {
      let i = this.bbox(), r = e.bbox(), n = Pe(i, r);
      if (n === null)
        return null;
      let s = this.leftSE.point, a = this.rightSE.point, o = e.leftSE.point, l = e.rightSE.point, u = ae(i, o) && this.comparePoint(o) === 0, f = ae(r, s) && e.comparePoint(s) === 0, d = ae(i, l) && this.comparePoint(l) === 0, P = ae(r, a) && e.comparePoint(a) === 0;
      if (f && u)
        return P && !d ? a : !P && d ? l : null;
      if (f)
        return d && s.x.eq(l.x) && s.y.eq(l.y) ? null : s;
      if (u)
        return P && a.x.eq(o.x) && a.y.eq(o.y) ? null : o;
      if (P && d)
        return null;
      if (P)
        return a;
      if (d)
        return l;
      let E = Ol(s, this.vector(), o, e.vector());
      return E === null || !ae(n, E) ? null : ut.snap(E);
    }
    split(e) {
      let i = [], r = e.events !== void 0, n = new et(e, true), s = new et(e, false), a = this.rightSE;
      this.replaceRightSE(s), i.push(s), i.push(n);
      let o = new t(n, a, this.rings.slice(), this.windings.slice());
      return et.comparePoints(o.leftSE.point, o.rightSE.point) > 0 && o.swapEvents(), et.comparePoints(this.leftSE.point, this.rightSE.point) > 0 && this.swapEvents(), r && (n.checkForConsuming(), s.checkForConsuming()), i;
    }
    swapEvents() {
      let e = this.rightSE;
      this.rightSE = this.leftSE, this.leftSE = e, this.leftSE.isLeft = true, this.rightSE.isLeft = false;
      for (let i = 0, r = this.windings.length; i < r; i++)
        this.windings[i] *= -1;
    }
    consume(e) {
      let i = this, r = e;
      for (; i.consumedBy; )
        i = i.consumedBy;
      for (; r.consumedBy; )
        r = r.consumedBy;
      let n = t.compare(i, r);
      if (n !== 0) {
        if (n > 0) {
          let s = i;
          i = r, r = s;
        }
        if (i.prev === r) {
          let s = i;
          i = r, r = s;
        }
        for (let s = 0, a = r.rings.length; s < a; s++) {
          let o = r.rings[s], l = r.windings[s], u = i.rings.indexOf(o);
          u === -1 ? (i.rings.push(o), i.windings.push(l)) : i.windings[u] += l;
        }
        r.rings = null, r.windings = null, r.consumedBy = i, r.leftSE.consumedBy = i.leftSE, r.rightSE.consumedBy = i.rightSE;
      }
    }
    prevInResult() {
      return this._prevInResult !== void 0 ? this._prevInResult : (this.prev ? this.prev.isInResult() ? this._prevInResult = this.prev : this._prevInResult = this.prev.prevInResult() : this._prevInResult = null, this._prevInResult);
    }
    beforeState() {
      if (this._beforeState !== void 0)
        return this._beforeState;
      if (!this.prev)
        this._beforeState = { rings: [], windings: [], multiPolys: [] };
      else {
        let e = this.prev.consumedBy || this.prev;
        this._beforeState = e.afterState();
      }
      return this._beforeState;
    }
    afterState() {
      if (this._afterState !== void 0)
        return this._afterState;
      let e = this.beforeState();
      this._afterState = { rings: e.rings.slice(0), windings: e.windings.slice(0), multiPolys: [] };
      let i = this._afterState.rings, r = this._afterState.windings, n = this._afterState.multiPolys;
      for (let o = 0, l = this.rings.length; o < l; o++) {
        let u = this.rings[o], f = this.windings[o], d = i.indexOf(u);
        d === -1 ? (i.push(u), r.push(f)) : r[d] += f;
      }
      let s = [], a = [];
      for (let o = 0, l = i.length; o < l; o++) {
        if (r[o] === 0)
          continue;
        let u = i[o], f = u.poly;
        if (a.indexOf(f) === -1)
          if (u.isExterior)
            s.push(f);
          else {
            a.indexOf(f) === -1 && a.push(f);
            let d = s.indexOf(u.poly);
            d !== -1 && s.splice(d, 1);
          }
      }
      for (let o = 0, l = s.length; o < l; o++) {
        let u = s[o].multiPoly;
        n.indexOf(u) === -1 && n.push(u);
      }
      return this._afterState;
    }
    isInResult() {
      if (this.consumedBy)
        return false;
      if (this._isInResult !== void 0)
        return this._isInResult;
      let e = this.beforeState().multiPolys, i = this.afterState().multiPolys;
      switch (oe.type) {
        case "union": {
          let r = e.length === 0, n = i.length === 0;
          this._isInResult = r !== n;
          break;
        }
        case "intersection": {
          let r, n;
          e.length < i.length ? (r = e.length, n = i.length) : (r = i.length, n = e.length), this._isInResult = n === oe.numMultiPolys && r < n;
          break;
        }
        case "xor": {
          let r = Math.abs(e.length - i.length);
          this._isInResult = r % 2 === 1;
          break;
        }
        case "difference": {
          let r = (n) => n.length === 1 && n[0].isSubject;
          this._isInResult = r(e) !== r(i);
          break;
        }
      }
      return this._isInResult;
    }
  };
  var Qe = class {
    constructor(e, i, r) {
      __publicField(this, "poly");
      __publicField(this, "isExterior");
      __publicField(this, "segments");
      __publicField(this, "bbox");
      if (!Array.isArray(e) || e.length === 0)
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      if (this.poly = i, this.isExterior = r, this.segments = [], typeof e[0][0] != "number" || typeof e[0][1] != "number")
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      let n = ut.snap({ x: new mt(e[0][0]), y: new mt(e[0][1]) });
      this.bbox = { ll: { x: n.x, y: n.y }, ur: { x: n.x, y: n.y } };
      let s = n;
      for (let a = 1, o = e.length; a < o; a++) {
        if (typeof e[a][0] != "number" || typeof e[a][1] != "number")
          throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
        let l = ut.snap({ x: new mt(e[a][0]), y: new mt(e[a][1]) });
        l.x.eq(s.x) && l.y.eq(s.y) || (this.segments.push(Mt.fromRing(s, l, this)), l.x.isLessThan(this.bbox.ll.x) && (this.bbox.ll.x = l.x), l.y.isLessThan(this.bbox.ll.y) && (this.bbox.ll.y = l.y), l.x.isGreaterThan(this.bbox.ur.x) && (this.bbox.ur.x = l.x), l.y.isGreaterThan(this.bbox.ur.y) && (this.bbox.ur.y = l.y), s = l);
      }
      (!n.x.eq(s.x) || !n.y.eq(s.y)) && this.segments.push(Mt.fromRing(s, n, this));
    }
    getSweepEvents() {
      let e = [];
      for (let i = 0, r = this.segments.length; i < r; i++) {
        let n = this.segments[i];
        e.push(n.leftSE), e.push(n.rightSE);
      }
      return e;
    }
  }, nr = class {
    constructor(e, i) {
      __publicField(this, "multiPoly");
      __publicField(this, "exteriorRing");
      __publicField(this, "interiorRings");
      __publicField(this, "bbox");
      if (!Array.isArray(e))
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      this.exteriorRing = new Qe(e[0], this, true), this.bbox = { ll: { x: this.exteriorRing.bbox.ll.x, y: this.exteriorRing.bbox.ll.y }, ur: { x: this.exteriorRing.bbox.ur.x, y: this.exteriorRing.bbox.ur.y } }, this.interiorRings = [];
      for (let r = 1, n = e.length; r < n; r++) {
        let s = new Qe(e[r], this, false);
        s.bbox.ll.x.isLessThan(this.bbox.ll.x) && (this.bbox.ll.x = s.bbox.ll.x), s.bbox.ll.y.isLessThan(this.bbox.ll.y) && (this.bbox.ll.y = s.bbox.ll.y), s.bbox.ur.x.isGreaterThan(this.bbox.ur.x) && (this.bbox.ur.x = s.bbox.ur.x), s.bbox.ur.y.isGreaterThan(this.bbox.ur.y) && (this.bbox.ur.y = s.bbox.ur.y), this.interiorRings.push(s);
      }
      this.multiPoly = i;
    }
    getSweepEvents() {
      let e = this.exteriorRing.getSweepEvents();
      for (let i = 0, r = this.interiorRings.length; i < r; i++) {
        let n = this.interiorRings[i].getSweepEvents();
        for (let s = 0, a = n.length; s < a; s++)
          e.push(n[s]);
      }
      return e;
    }
  }, Se = class {
    constructor(e, i) {
      __publicField(this, "isSubject");
      __publicField(this, "polys");
      __publicField(this, "bbox");
      if (!Array.isArray(e))
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      try {
        typeof e[0][0][0] == "number" && (e = [e]);
      } catch {
      }
      this.polys = [], this.bbox = { ll: { x: new mt(Number.POSITIVE_INFINITY), y: new mt(Number.POSITIVE_INFINITY) }, ur: { x: new mt(Number.NEGATIVE_INFINITY), y: new mt(Number.NEGATIVE_INFINITY) } };
      for (let r = 0, n = e.length; r < n; r++) {
        let s = new nr(e[r], this);
        s.bbox.ll.x.isLessThan(this.bbox.ll.x) && (this.bbox.ll.x = s.bbox.ll.x), s.bbox.ll.y.isLessThan(this.bbox.ll.y) && (this.bbox.ll.y = s.bbox.ll.y), s.bbox.ur.x.isGreaterThan(this.bbox.ur.x) && (this.bbox.ur.x = s.bbox.ur.x), s.bbox.ur.y.isGreaterThan(this.bbox.ur.y) && (this.bbox.ur.y = s.bbox.ur.y), this.polys.push(s);
      }
      this.isSubject = i;
    }
    getSweepEvents() {
      let e = [];
      for (let i = 0, r = this.polys.length; i < r; i++) {
        let n = this.polys[i].getSweepEvents();
        for (let s = 0, a = n.length; s < a; s++)
          e.push(n[s]);
      }
      return e;
    }
  };
  var ti = class t {
    constructor(e) {
      __publicField(this, "events");
      __publicField(this, "poly");
      __publicField(this, "_isExteriorRing");
      __publicField(this, "_enclosingRing");
      this.events = e;
      for (let i = 0, r = e.length; i < r; i++)
        e[i].segment.ringOut = this;
      this.poly = null;
    }
    static factory(e) {
      let i = [];
      for (let r = 0, n = e.length; r < n; r++) {
        let s = e[r];
        if (!s.isInResult() || s.ringOut)
          continue;
        let a = null, o = s.leftSE, l = s.rightSE, u = [o], f = o.point, d = [];
        for (; a = o, o = l, u.push(o), o.point !== f; )
          for (; ; ) {
            let P = o.getAvailableLinkedEvents();
            if (P.length === 0) {
              let G = u[0].point, _ = u[u.length - 1].point;
              throw new Error(`Unable to complete output ring starting at [${G.x}, ${G.y}]. Last matching segment found ends at [${_.x}, ${_.y}].`);
            }
            if (P.length === 1) {
              l = P[0].otherSE;
              break;
            }
            let E = null;
            for (let G = 0, _ = d.length; G < _; G++)
              if (d[G].point === o.point) {
                E = G;
                break;
              }
            if (E !== null) {
              let G = d.splice(E)[0], _ = u.splice(G.index);
              _.unshift(_[0].otherSE), i.push(new t(_.reverse()));
              continue;
            }
            d.push({ index: u.length, point: o.point });
            let T = o.getLeftmostComparator(a);
            l = P.sort(T)[0].otherSE;
            break;
          }
        i.push(new t(u));
      }
      return i;
    }
    getGeom() {
      let e = this.events[0].point, i = [e];
      for (let u = 1, f = this.events.length - 1; u < f; u++) {
        let d = this.events[u].point, P = this.events[u + 1].point;
        ut.orient(d, e, P) !== 0 && (i.push(d), e = d);
      }
      if (i.length === 1)
        return null;
      let r = i[0], n = i[1];
      ut.orient(r, e, n) === 0 && i.shift(), i.push(i[0]);
      let s = this.isExteriorRing() ? 1 : -1, a = this.isExteriorRing() ? 0 : i.length - 1, o = this.isExteriorRing() ? i.length : -1, l = [];
      for (let u = a; u != o; u += s)
        l.push([i[u].x.toNumber(), i[u].y.toNumber()]);
      return l;
    }
    isExteriorRing() {
      if (this._isExteriorRing === void 0) {
        let e = this.enclosingRing();
        this._isExteriorRing = e ? !e.isExteriorRing() : true;
      }
      return this._isExteriorRing;
    }
    enclosingRing() {
      return this._enclosingRing === void 0 && (this._enclosingRing = this._calcEnclosingRing()), this._enclosingRing;
    }
    _calcEnclosingRing() {
      let e = this.events[0];
      for (let n = 1, s = this.events.length; n < s; n++) {
        let a = this.events[n];
        et.compare(e, a) > 0 && (e = a);
      }
      let i = e.segment.prevInResult(), r = i ? i.prevInResult() : null;
      for (; ; ) {
        if (!i)
          return null;
        if (!r)
          return i.ringOut;
        if (r.ringOut !== i.ringOut)
          return r.ringOut?.enclosingRing() !== i.ringOut ? i.ringOut : i.ringOut?.enclosingRing();
        i = r.prevInResult(), r = i ? i.prevInResult() : null;
      }
    }
  }, ei = class {
    constructor(e) {
      __publicField(this, "exteriorRing");
      __publicField(this, "interiorRings");
      this.exteriorRing = e, e.poly = this, this.interiorRings = [];
    }
    addInterior(e) {
      this.interiorRings.push(e), e.poly = this;
    }
    getGeom() {
      let e = this.exteriorRing.getGeom();
      if (e === null)
        return null;
      let i = [e];
      for (let r = 0, n = this.interiorRings.length; r < n; r++) {
        let s = this.interiorRings[r].getGeom();
        s !== null && i.push(s);
      }
      return i;
    }
  }, ii = class {
    constructor(e) {
      __publicField(this, "rings");
      __publicField(this, "polys");
      this.rings = e, this.polys = this._composePolys(e);
    }
    getGeom() {
      let e = [];
      for (let i = 0, r = this.polys.length; i < r; i++) {
        let n = this.polys[i].getGeom();
        n !== null && e.push(n);
      }
      return e;
    }
    _composePolys(e) {
      let i = [];
      for (let r = 0, n = e.length; r < n; r++) {
        let s = e[r];
        if (!s.poly)
          if (s.isExteriorRing())
            i.push(new ei(s));
          else {
            let a = s.enclosingRing();
            a?.poly || i.push(new ei(a)), a?.poly?.addInterior(s);
          }
      }
      return i;
    }
  };
  var Be = class {
    constructor(e, i = Mt.compare) {
      __publicField(this, "queue");
      __publicField(this, "tree");
      __publicField(this, "segments");
      this.queue = e, this.tree = new Pt(i), this.segments = [];
    }
    process(e) {
      let i = e.segment, r = [];
      if (e.consumedBy)
        return e.isLeft ? this.queue.delete(e.otherSE) : this.tree.delete(i), r;
      e.isLeft && this.tree.add(i);
      let n = i, s = i;
      do
        n = this.tree.lastBefore(n);
      while (n != null && n.consumedBy != null);
      do
        s = this.tree.firstAfter(s);
      while (s != null && s.consumedBy != null);
      if (e.isLeft) {
        let a = null;
        if (n) {
          let l = n.getIntersection(i);
          if (l !== null && (i.isAnEndpoint(l) || (a = l), !n.isAnEndpoint(l))) {
            let u = this._splitSafely(n, l);
            for (let f = 0, d = u.length; f < d; f++)
              r.push(u[f]);
          }
        }
        let o = null;
        if (s) {
          let l = s.getIntersection(i);
          if (l !== null && (i.isAnEndpoint(l) || (o = l), !s.isAnEndpoint(l))) {
            let u = this._splitSafely(s, l);
            for (let f = 0, d = u.length; f < d; f++)
              r.push(u[f]);
          }
        }
        if (a !== null || o !== null) {
          let l = null;
          a === null ? l = o : o === null ? l = a : l = et.comparePoints(a, o) <= 0 ? a : o, this.queue.delete(i.rightSE), r.push(i.rightSE);
          let u = i.split(l);
          for (let f = 0, d = u.length; f < d; f++)
            r.push(u[f]);
        }
        r.length > 0 ? (this.tree.delete(i), r.push(e)) : (this.segments.push(i), i.prev = n);
      } else {
        if (n && s) {
          let a = n.getIntersection(s);
          if (a !== null) {
            if (!n.isAnEndpoint(a)) {
              let o = this._splitSafely(n, a);
              for (let l = 0, u = o.length; l < u; l++)
                r.push(o[l]);
            }
            if (!s.isAnEndpoint(a)) {
              let o = this._splitSafely(s, a);
              for (let l = 0, u = o.length; l < u; l++)
                r.push(o[l]);
            }
          }
        }
        this.tree.delete(i);
      }
      return r;
    }
    _splitSafely(e, i) {
      this.tree.delete(e);
      let r = e.rightSE;
      this.queue.delete(r);
      let n = e.split(i);
      return n.push(r), e.consumedBy === void 0 && this.tree.add(e), n;
    }
  };
  var sr = class {
    constructor() {
      __publicField(this, "type");
      __publicField(this, "numMultiPolys");
    }
    run(e, i, r) {
      Te.type = e;
      let n = [new Se(i, true)];
      for (let f = 0, d = r.length; f < d; f++)
        n.push(new Se(r[f], false));
      if (Te.numMultiPolys = n.length, Te.type === "difference") {
        let f = n[0], d = 1;
        for (; d < n.length; )
          Pe(n[d].bbox, f.bbox) !== null ? d++ : n.splice(d, 1);
      }
      if (Te.type === "intersection")
        for (let f = 0, d = n.length; f < d; f++) {
          let P = n[f];
          for (let E = f + 1, T = n.length; E < T; E++)
            if (Pe(P.bbox, n[E].bbox) === null)
              return [];
        }
      let s = new Pt(et.compare);
      for (let f = 0, d = n.length; f < d; f++) {
        let P = n[f].getSweepEvents();
        for (let E = 0, T = P.length; E < T; E++)
          s.add(P[E]);
      }
      let a = new Be(s), o = null;
      for (s.size != 0 && (o = s.first(), s.delete(o)); o; ) {
        let f = a.process(o);
        for (let d = 0, P = f.length; d < P; d++) {
          let E = f[d];
          E.consumedBy === void 0 && s.add(E);
        }
        s.size != 0 ? (o = s.first(), s.delete(o)) : o = null;
      }
      ut.reset();
      let l = ti.factory(a.segments);
      return new ii(l).getGeom();
    }
  }, Te = new sr(), oe = Te;
  var Al = (t, ...e) => oe.run("intersection", t, e);
  var Il = (t, ...e) => oe.run("difference", t, e), pM = ut.set;
  function ni(t) {
    let e = { type: "Feature" };
    return e.geometry = t, e;
  }
  function ri(t) {
    return t.type === "Feature" ? t.geometry : t;
  }
  function Gl(t) {
    return t && t.geometry && t.geometry.coordinates ? t.geometry.coordinates : t;
  }
  function g_(t) {
    return ni({ type: "LineString", coordinates: t });
  }
  function m_(t) {
    return ni({ type: "MultiLineString", coordinates: t });
  }
  function ql(t) {
    return ni({ type: "Polygon", coordinates: t });
  }
  function Nl(t) {
    return ni({ type: "MultiPolygon", coordinates: t });
  }
  function zl(t, e) {
    let i = ri(t), r = ri(e), n = Al(i.coordinates, r.coordinates);
    return n.length === 0 ? null : n.length === 1 ? ql(n[0]) : Nl(n);
  }
  function Fl(t, e) {
    let i = ri(t), r = ri(e), n = Il(i.coordinates, r.coordinates);
    return n.length === 0 ? null : n.length === 1 ? ql(n[0]) : Nl(n);
  }
  function Vl(t) {
    return Array.isArray(t) ? 1 + Vl(t[0]) : -1;
  }
  function Ul(t) {
    t instanceof L.Polyline && (t = t.toGeoJSON(15));
    let e = Gl(t), i = Vl(e), r = [];
    return i > 1 ? e.forEach((n) => {
      r.push(g_(n));
    }) : r.push(t), r;
  }
  function jl(t) {
    let e = [];
    return t.eachLayer((i) => {
      e.push(Gl(i.toGeoJSON(15)));
    }), m_(e);
  }
  X.Cut = X.Polygon.extend({ initialize(t) {
    this._map = t, this._shape = "Cut", this.toolbarButtonName = "cutPolygon";
  }, _finishShape() {
    if (this._editedLayers = [], !this.options.allowSelfIntersection && (this._handleSelfIntersection(true, this._layer.getLatLngs()[0]), this._doesSelfIntersect) || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    let t = this._layer.getLatLngs();
    if (t.length <= 2)
      return;
    let e = L.polygon(t, this.options.pathOptions);
    e._latlngInfos = this._layer._latlngInfo, this.cut(e), this._cleanupSnapping(), this._otherSnapLayers.splice(this._tempSnapLayerIndex, 1), delete this._tempSnapLayerIndex, this._editedLayers.forEach(({ layer: i, originalLayer: r }) => {
      this._fireCut(r, i, r), this._fireCut(this._map, i, r), r.pm._fireEdit();
    }), this._editedLayers = [], this.disable(), this.options.continueDrawing && this.enable();
  }, cut(t) {
    let e = this._map._layers, i = t._latlngInfos || [];
    Object.keys(e).map((n) => e[n]).filter((n) => n.pm).filter((n) => !n._pmTempLayer).filter((n) => !L.PM.optIn && !n.options.pmIgnore || L.PM.optIn && n.options.pmIgnore === false).filter((n) => n instanceof L.Polyline).filter((n) => n !== t).filter((n) => n.pm.options.allowCutting).filter((n) => this.options.layersToCut && L.Util.isArray(this.options.layersToCut) && this.options.layersToCut.length > 0 ? this.options.layersToCut.indexOf(n) > -1 : true).filter((n) => !this._layerGroup.hasLayer(n)).filter((n) => {
      try {
        let s = !!pt(t.toGeoJSON(15), n.toGeoJSON(15)).features.length > 0;
        return s || n instanceof L.Polyline && !(n instanceof L.Polygon) ? s : !!zl(t.toGeoJSON(15), n.toGeoJSON(15));
      } catch {
        return n instanceof L.Polygon && console.error("You can't cut polygons with self-intersections"), false;
      }
    }).forEach((n) => {
      let s;
      if (n instanceof L.Polygon) {
        s = L.polygon(n.getLatLngs());
        let u = s.getLatLngs();
        i.forEach((f) => {
          if (f && f.snapInfo) {
            let { latlng: d } = f, P = this._calcClosestLayer(d, [s]);
            if (P && P.segment && P.distance < this.options.snapDistance) {
              let { segment: E } = P;
              if (E && E.length === 2) {
                let { indexPath: T, parentPath: G, newIndex: _ } = L.PM.Utils._getIndexFromSegment(u, E);
                (T.length > 1 ? (0, Kl.default)(u, G) : u).splice(_, 0, d);
              }
            }
          }
        });
      } else
        s = n;
      let a = this._cutLayer(t, s), o = L.geoJSON(a, n.options);
      o.getLayers().length === 1 && ([o] = o.getLayers()), this._setPane(o, "layerPane");
      let l = o.addTo(this._map.pm._getContainingLayer());
      if (l.pm.enable(n.pm.options), l.pm.disable(), n._pmTempLayer = true, t._pmTempLayer = true, n.remove(), n.removeFrom(this._map.pm._getContainingLayer()), t.remove(), t.removeFrom(this._map.pm._getContainingLayer()), l.getLayers && l.getLayers().length === 0 && this._map.pm.removeLayer({ target: l }), l instanceof L.LayerGroup ? (l.eachLayer((u) => {
        this._addDrawnLayerProp(u);
      }), this._addDrawnLayerProp(l)) : this._addDrawnLayerProp(l), this.options.layersToCut && L.Util.isArray(this.options.layersToCut) && this.options.layersToCut.length > 0) {
        let u = this.options.layersToCut.indexOf(n);
        u > -1 && this.options.layersToCut.splice(u, 1);
      }
      this._editedLayers.push({ layer: l, originalLayer: n });
    });
  }, _cutLayer(t, e) {
    let i = L.geoJSON(), r;
    if (e instanceof L.Polygon)
      r = Fl(e.toGeoJSON(15), t.toGeoJSON(15));
    else {
      let n = Ul(e);
      n.forEach((s) => {
        let a = vl(s, t.toGeoJSON(15)), o;
        a && a.features.length > 0 ? o = L.geoJSON(a) : o = L.geoJSON(s), o.getLayers().forEach((l) => {
          Yi(t.toGeoJSON(15), l.toGeoJSON(15)) || l.addTo(i);
        });
      }), n.length > 1 ? r = jl(i) : r = i.toGeoJSON(15);
    }
    return r;
  }, _change: L.Util.falseFn });
  X.Text = X.extend({ initialize(t) {
    this._map = t, this._shape = "Text", this.toolbarButtonName = "drawText";
  }, enable(t) {
    L.Util.setOptions(this, t), this._enabled = true, this._map.on("click", this._createMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._hintMarker = L.marker(this._map.getCenter(), { interactive: false, zIndexOffset: 100, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._hintMarker.addTo(this._map), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.placeText"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._layer = this._hintMarker, this._map.on("mousemove", this._syncHintMarker, this), this._map.getContainer().classList.add("geoman-draw-cursor"), this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.off("click", this._createMarker, this), this._hintMarker?.remove(), this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("mousemove", this._syncHintMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let e = t;
      e.target = this._hintMarker, this._handleSnapping(e);
    }
  }, _createMarker(t) {
    if (!t.latlng || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng();
    if (this.textArea = this._createTextArea(), this.options.textOptions?.className) {
      let n = this.options.textOptions.className.split(" ");
      this.textArea.classList.add(...n);
    }
    let i = this._createTextIcon(this.textArea), r = new L.Marker(e, { textMarker: true, _textMarkerOverPM: true, icon: i });
    if (this._setPane(r, "markerPane"), this._finishLayer(r), r.pm || (r.options.draggable = false), r.addTo(this._map.pm._getContainingLayer()), r.pm) {
      r.pm.textArea = this.textArea, L.setOptions(r.pm, { removeIfEmpty: this.options.textOptions?.removeIfEmpty ?? true });
      let n = this.options.textOptions?.focusAfterDraw ?? true;
      r.pm._createTextMarker(n), this.options.textOptions?.text && r.pm.setText(this.options.textOptions.text);
    }
    this._fireCreate(r), this._cleanupSnapping(), this.disable(), this.options.continueDrawing && this.enable();
  }, _createTextArea() {
    let t = document.createElement("textarea");
    return t.readOnly = true, t.classList.add("pm-textarea", "pm-disabled"), t;
  }, _createTextIcon(t) {
    return L.divIcon({ className: "pm-text-marker", html: t });
  } });
  var __ = { enableLayerDrag() {
    if (!this.options.draggable || !this._layer._map)
      return;
    this.disable(), this._layerDragEnabled = true, this._map || (this._map = this._layer._map), (this._layer instanceof L.Marker || this._layer instanceof L.ImageOverlay) && L.DomEvent.on(this._getDOMElem(), "dragstart", this._stopDOMImageDrag), this._layer.dragging && this._layer.dragging.disable(), this._tempDragCoord = null, Rt(this._layer) instanceof L.Canvas ? (this._layer.on("mouseout", this.removeDraggingClass, this), this._layer.on("mouseover", this.addDraggingClass, this)) : this.addDraggingClass(), this._originalMapDragState = this._layer._map.dragging._enabled, this._safeToCacheDragState = true;
    let t = this._getDOMElem();
    t && (Rt(this._layer) instanceof L.Canvas ? (this._layer.on("touchstart mousedown", this._dragMixinOnMouseDown, this), this._map.pm._addTouchEvents(t)) : L.DomEvent.on(t, "touchstart mousedown", this._simulateMouseDownEvent, this)), this._fireDragEnable();
  }, disableLayerDrag() {
    this._layerDragEnabled = false, Rt(this._layer) instanceof L.Canvas ? (this._layer.off("mouseout", this.removeDraggingClass, this), this._layer.off("mouseover", this.addDraggingClass, this)) : this.removeDraggingClass(), this._originalMapDragState && this._dragging && this._map.dragging.enable(), this._safeToCacheDragState = false, this._layer.dragging && this._layer.dragging.disable();
    let t = this._getDOMElem();
    t && (Rt(this._layer) instanceof L.Canvas ? (this._layer.off("touchstart mousedown", this._dragMixinOnMouseDown, this), this._map.pm._removeTouchEvents(t)) : L.DomEvent.off(t, "touchstart mousedown", this._simulateMouseDownEvent, this)), this._layerDragged && this._fireUpdate(), this._layerDragged = false, this._fireDragDisable();
  }, dragging() {
    return this._dragging;
  }, layerDragEnabled() {
    return !!this._layerDragEnabled;
  }, _simulateMouseDownEvent(t) {
    let e = t.touches ? t.touches[0] : t, i = { originalEvent: e, target: this._layer };
    return i.containerPoint = this._map.mouseEventToContainerPoint(e), i.latlng = this._map.containerPointToLatLng(i.containerPoint), this._dragMixinOnMouseDown(i), false;
  }, _simulateMouseMoveEvent(t) {
    let e = t.touches ? t.touches[0] : t, i = { originalEvent: e, target: this._layer };
    return i.containerPoint = this._map.mouseEventToContainerPoint(e), i.latlng = this._map.containerPointToLatLng(i.containerPoint), this._dragMixinOnMouseMove(i), false;
  }, _simulateMouseUpEvent(t) {
    let i = { originalEvent: t.touches ? t.touches[0] : t, target: this._layer };
    return t.type.indexOf("touch") === -1 && (i.containerPoint = this._map.mouseEventToContainerPoint(t), i.latlng = this._map.containerPointToLatLng(i.containerPoint)), this._dragMixinOnMouseUp(i), false;
  }, _dragMixinOnMouseDown(t) {
    if (t.originalEvent.button > 0)
      return;
    this._overwriteEventIfItComesFromMarker(t);
    let e = t._fromLayerSync, i = this._syncLayers("_dragMixinOnMouseDown", t);
    if (this._layer instanceof L.Marker && (this.options.snappable && !e && !i ? this._initSnappableMarkers() : this._disableSnapping()), this._layer instanceof L.CircleMarker) {
      let r = "resizeableCircleMarker";
      this._layer instanceof L.Circle && (r = "resizableCircle"), this.options.snappable && !e && !i ? this._layer.pm.options[r] || this._initSnappableMarkersDrag() : this._layer.pm.options[r] ? this._layer.pm._disableSnapping() : this._layer.pm._disableSnappingDrag();
    }
    this._safeToCacheDragState && (this._originalMapDragState = this._layer._map.dragging._enabled, this._safeToCacheDragState = false), this._tempDragCoord = t.latlng, L.DomEvent.on(this._map.getContainer(), "touchend mouseup", this._simulateMouseUpEvent, this), L.DomEvent.on(this._map.getContainer(), "touchmove mousemove", this._simulateMouseMoveEvent, this);
  }, _dragMixinOnMouseMove(t) {
    this._overwriteEventIfItComesFromMarker(t);
    let e = this._getDOMElem();
    this._syncLayers("_dragMixinOnMouseMove", t), this._dragging || (this._dragging = true, L.DomUtil.addClass(e, "leaflet-pm-dragging"), this._layer instanceof L.Marker || this._layer.bringToFront(), this._originalMapDragState && this._map.dragging.disable(), this._fireDragStart()), this._tempDragCoord || (this._tempDragCoord = t.latlng), this._onLayerDrag(t), this._layer instanceof L.CircleMarker && this._layer.pm._updateHiddenPolyCircle();
  }, _dragMixinOnMouseUp(t) {
    let e = this._getDOMElem();
    return this._syncLayers("_dragMixinOnMouseUp", t), this._originalMapDragState && this._map.dragging.enable(), this._safeToCacheDragState = true, L.DomEvent.off(this._map.getContainer(), "touchmove mousemove", this._simulateMouseMoveEvent, this), L.DomEvent.off(this._map.getContainer(), "touchend mouseup", this._simulateMouseUpEvent, this), this._dragging ? (this._layer instanceof L.CircleMarker && this._layer.pm._updateHiddenPolyCircle(), this._layerDragged = true, window.setTimeout(() => {
      this._dragging = false, e && L.DomUtil.removeClass(e, "leaflet-pm-dragging"), this._fireDragEnd(), this._fireEdit(), this._layerEdited = true;
    }, 10), true) : false;
  }, _onLayerDrag(t) {
    let { latlng: e } = t, i = { lat: e.lat - this._tempDragCoord.lat, lng: e.lng - this._tempDragCoord.lng }, r = (n) => n.map((s) => {
      if (Array.isArray(s))
        return r(s);
      let a = { lat: s.lat + i.lat, lng: s.lng + i.lng };
      return (s.alt || s.alt === 0) && (a.alt = s.alt), a;
    });
    if (this._layer instanceof L.Circle && this._layer.options.resizableCircle || this._layer instanceof L.CircleMarker && this._layer.options.resizeableCircleMarker) {
      let n = r([this._layer.getLatLng()]);
      this._layer.setLatLng(n[0]), this._fireChange(this._layer.getLatLng(), "Edit");
    } else if (this._layer instanceof L.CircleMarker || this._layer instanceof L.Marker) {
      let n = this._layer.getLatLng();
      this._layer._snapped && (n = this._layer._orgLatLng);
      let s = r([n]);
      this._layer.setLatLng(s[0]), this._fireChange(this._layer.getLatLng(), "Edit");
    } else if (this._layer instanceof L.ImageOverlay) {
      let n = r([this._layer.getBounds().getNorthWest(), this._layer.getBounds().getSouthEast()]);
      this._layer.setBounds(n), this._fireChange(this._layer.getBounds(), "Edit");
    } else {
      let n = r(this._layer.getLatLngs());
      this._layer.setLatLngs(n), this._fireChange(this._layer.getLatLngs(), "Edit");
    }
    this._tempDragCoord = e, t.layer = this._layer, this._fireDrag(t);
  }, addDraggingClass() {
    let t = this._getDOMElem();
    t && L.DomUtil.addClass(t, "leaflet-pm-draggable");
  }, removeDraggingClass() {
    let t = this._getDOMElem();
    t && L.DomUtil.removeClass(t, "leaflet-pm-draggable");
  }, _getDOMElem() {
    let t = null;
    return this._layer._path ? t = this._layer._path : this._layer._renderer && this._layer._renderer._container ? t = this._layer._renderer._container : this._layer._image ? t = this._layer._image : this._layer._icon && (t = this._layer._icon), t;
  }, _overwriteEventIfItComesFromMarker(t) {
    t.target.getLatLng && (!t.target._radius || t.target._radius <= 10) && (t.containerPoint = this._map.mouseEventToContainerPoint(t.originalEvent), t.latlng = this._map.containerPointToLatLng(t.containerPoint));
  }, _syncLayers(t, e) {
    if (this.enabled())
      return false;
    if (!e._fromLayerSync && this._layer === e.target && this.options.syncLayersOnDrag) {
      e._fromLayerSync = true;
      let i = [];
      if (L.Util.isArray(this.options.syncLayersOnDrag))
        i = this.options.syncLayersOnDrag, this.options.syncLayersOnDrag.forEach((r) => {
          r instanceof L.LayerGroup && (i = i.concat(r.pm.getLayers(true)));
        });
      else if (this.options.syncLayersOnDrag === true && this._parentLayerGroup)
        for (let r in this._parentLayerGroup) {
          let n = this._parentLayerGroup[r];
          n.pm && (i = n.pm.getLayers(true));
        }
      return L.Util.isArray(i) && i.length > 0 && (i = i.filter((r) => !!r.pm).filter((r) => !!r.pm.options.draggable), i.forEach((r) => {
        r !== this._layer && r.pm[t] && (r._snapped = false, r.pm[t](e));
      })), i.length > 0;
    }
    return false;
  }, _stopDOMImageDrag(t) {
    return t.preventDefault(), false;
  } }, Hl = __;
  var Xl = xt(Le());
  function y_(t, e, i, r) {
    return i.unproject(e.transform(i.project(t, r)), r);
  }
  function ar(t, e, i) {
    let r = i.getMaxZoom();
    if (r === 1 / 0 && (r = i.getZoom()), L.Util.isArray(t)) {
      let n = [];
      return t.forEach((s) => {
        n.push(ar(s, e, i));
      }), n;
    }
    return t instanceof L.LatLng ? y_(t, e, i, r) : null;
  }
  function It(t, e) {
    e instanceof L.Layer && (e = e.getLatLng());
    let i = t.getMaxZoom();
    return i === 1 / 0 && (i = t.getZoom()), t.project(e, i);
  }
  function Re(t, e) {
    let i = t.getMaxZoom();
    return i === 1 / 0 && (i = t.getZoom()), t.unproject(e, i);
  }
  var L_ = { _onRotateStart(t) {
    this._preventRenderingMarkers(true), this._rotationOriginLatLng = this._getRotationCenter().clone(), this._rotationOriginPoint = It(this._map, this._rotationOriginLatLng), this._rotationStartPoint = It(this._map, t.target.getLatLng()), this._initialRotateLatLng = vt(this._layer), this._startAngle = this.getAngle();
    let e = vt(this._rotationLayer, this._rotationLayer.pm._rotateOrgLatLng);
    this._fireRotationStart(this._rotationLayer, e), this._fireRotationStart(this._map, e);
  }, _onRotate(t) {
    let e = It(this._map, t.target.getLatLng()), i = this._rotationStartPoint, r = this._rotationOriginPoint, n = Math.atan2(e.y - r.y, e.x - r.x) - Math.atan2(i.y - r.y, i.x - r.x);
    this._layer.setLatLngs(this._rotateLayer(n, this._initialRotateLatLng, this._rotationOriginLatLng, L.PM.Matrix.init(), this._map));
    let s = this;
    function a(f, d = [], P = -1) {
      if (P > -1 && d.push(P), L.Util.isArray(f[0]))
        f.forEach((E, T) => a(E, d.slice(), T));
      else {
        let E = (0, Xl.default)(s._markers, d);
        f.forEach((T, G) => {
          E[G].setLatLng(T);
        });
      }
    }
    a(this._layer.getLatLngs());
    let o = vt(this._rotationLayer);
    this._rotationLayer.setLatLngs(this._rotateLayer(n, this._rotationLayer.pm._rotateOrgLatLng, this._rotationOriginLatLng, L.PM.Matrix.init(), this._map));
    let l = n * 180 / Math.PI;
    l = l < 0 ? l + 360 : l;
    let u = l + this._startAngle;
    this._setAngle(u), this._rotationLayer.pm._setAngle(u), this._fireRotation(this._rotationLayer, l, o), this._fireRotation(this._map, l, o), this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(), "Rotation");
  }, _onRotateEnd() {
    let t = this._startAngle;
    delete this._rotationOriginLatLng, delete this._rotationOriginPoint, delete this._rotationStartPoint, delete this._initialRotateLatLng, delete this._startAngle;
    let e = vt(this._rotationLayer, this._rotationLayer.pm._rotateOrgLatLng);
    this._rotationLayer.pm._rotateOrgLatLng = vt(this._rotationLayer), this._fireRotationEnd(this._rotationLayer, t, e), this._fireRotationEnd(this._map, t, e), this._rotationLayer.pm._fireEdit(this._rotationLayer, "Rotation"), this._preventRenderingMarkers(false), this._layerRotated = true;
  }, _rotateLayer(t, e, i, r, n) {
    let s = It(n, i);
    return this._matrix = r.clone().rotate(t, s).flip(), ar(e, this._matrix, n);
  }, _setAngle(t) {
    t = t < 0 ? t + 360 : t, this._angle = t % 360;
  }, _getRotationCenter() {
    if (this._rotationCenter)
      return this._rotationCenter;
    let t = L.polygon(this._layer.getLatLngs(), { stroke: false, fill: false, pmIgnore: true }).addTo(this._layer._map), e = t.getCenter();
    return t.removeFrom(this._layer._map), e;
  }, enableRotate() {
    if (!this.options.allowRotation) {
      this.disableRotate();
      return;
    }
    this.rotateEnabled() && this.disableRotate(), this._layer instanceof L.Rectangle && this._angle === void 0 && this.setInitAngle(ke(this._layer._map, this._layer.getLatLngs()[0][0], this._layer.getLatLngs()[0][1]) || 0);
    let t = { fill: false, stroke: false, pmIgnore: false, snapIgnore: true };
    this._rotatePoly = L.polygon(this._layer.getLatLngs(), t), this._rotatePoly._pmTempLayer = true, this._rotatePoly.addTo(this._layer._map), this._rotatePoly.pm._setAngle(this.getAngle()), this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()), this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()), this._rotatePoly.pm.setOptions({ rotate: true, snappable: false, hideMiddleMarkers: true }), this._rotatePoly.pm._rotationLayer = this._layer, this._rotatePoly.pm.enable(), this._rotateOrgLatLng = vt(this._layer), this._rotateEnabled = true, this._layer.on("remove", this.disableRotate, this), this._fireRotationEnable(this._layer), this._fireRotationEnable(this._layer._map);
  }, disableRotate() {
    this.rotateEnabled() && (this._rotatePoly.pm._layerRotated && this._fireUpdate(), this._rotatePoly.pm._layerRotated = false, this._rotatePoly.pm.disable(), this._rotatePoly.remove(), this._rotatePoly.pm.setOptions({ rotate: false }), this._rotatePoly = void 0, this._rotateOrgLatLng = void 0, this._layer.off("remove", this.disableRotate, this), this._rotateEnabled = false, this._fireRotationDisable(this._layer), this._fireRotationDisable(this._layer._map));
  }, rotateEnabled() {
    return !!this._rotateEnabled;
  }, rotateLayer(t) {
    let e = this.getAngle(), i = this._layer.getLatLngs(), r = t * (Math.PI / 180);
    this._layer.setLatLngs(this._rotateLayer(r, this._layer.getLatLngs(), this._getRotationCenter(), L.PM.Matrix.init(), this._layer._map)), this._rotateOrgLatLng = L.polygon(this._layer.getLatLngs()).getLatLngs(), this._setAngle(this.getAngle() + t), this.rotateEnabled() && this._rotatePoly && this._rotatePoly.pm.enabled() && (this._rotatePoly.setLatLngs(this._rotateLayer(r, this._rotatePoly.getLatLngs(), this._getRotationCenter(), L.PM.Matrix.init(), this._rotatePoly._map)), this._rotatePoly.pm._initMarkers());
    let n = this.getAngle() - e;
    n = n < 0 ? n + 360 : n, this._startAngle = e, this._fireRotation(this._layer, n, i, this._layer), this._fireRotation(this._map || this._layer._map, n, i, this._layer), delete this._startAngle, this._fireChange(this._layer.getLatLngs(), "Rotation");
  }, rotateLayerToAngle(t) {
    let e = t - this.getAngle();
    this.rotateLayer(e);
  }, getAngle() {
    return this._angle || 0;
  }, setInitAngle(t) {
    this._setAngle(t);
  }, getRotationCenter() {
    return this._getRotationCenter();
  }, setRotationCenter(t) {
    this._rotationCenter = t, this._rotatePoly && this._rotatePoly.pm.setRotationCenter(t);
  } }, Yl = L_;
  var b_ = L.Class.extend({ includes: [Hl, Fe, Yl, Tt], options: { snappable: true, snapDistance: 20, allowSelfIntersection: true, allowSelfIntersectionEdit: false, preventMarkerRemoval: false, removeLayerBelowMinVertexCount: true, limitMarkersToCount: -1, hideMiddleMarkers: false, snapSegment: true, syncLayersOnDrag: false, draggable: true, allowEditing: true, allowRemoval: true, allowCutting: true, allowRotation: true, addVertexOn: "click", removeVertexOn: "contextmenu", removeVertexValidation: void 0, addVertexValidation: void 0, moveVertexValidation: void 0, resizeableCircleMarker: false, resizableCircle: true }, setOptions(t) {
    L.Util.setOptions(this, t);
  }, getOptions() {
    return this.options;
  }, applyOptions() {
  }, isPolygon() {
    return this._layer instanceof L.Polygon;
  }, getShape() {
    return this._shape;
  }, _setPane(t, e) {
    e === "layerPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.layerPane || "overlayPane" : e === "vertexPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.vertexPane || "markerPane" : e === "markerPane" && (t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.markerPane || "markerPane");
  }, remove() {
    (this._map || this._layer._map).pm.removeLayer({ target: this._layer });
  }, _vertexValidation(t, e) {
    let i = e.target, r = { layer: this._layer, marker: i, event: e }, n = "";
    return t === "move" ? n = "moveVertexValidation" : t === "add" ? n = "addVertexValidation" : t === "remove" && (n = "removeVertexValidation"), this.options[n] && typeof this.options[n] == "function" && !this.options[n](r) ? (t === "move" && (i._cancelDragEventChain = i.getLatLng()), false) : (i._cancelDragEventChain = null, true);
  }, _vertexValidationDrag(t) {
    return t._cancelDragEventChain ? (t._latlng = t._cancelDragEventChain, t.update(), false) : true;
  }, _vertexValidationDragEnd(t) {
    return t._cancelDragEventChain ? (t._cancelDragEventChain = null, false) : true;
  } }), H = b_;
  H.LayerGroup = L.Class.extend({ initialize(t) {
    this._layerGroup = t, this._layers = this.getLayers(), this._getMap(), this._layers.forEach((r) => this._initLayer(r));
    let e = (r) => {
      if (r.layer._pmTempLayer)
        return;
      this._layers = this.getLayers();
      let n = this._layers.filter((s) => !s.pm._parentLayerGroup || !(this._layerGroup._leaflet_id in s.pm._parentLayerGroup));
      n.forEach((s) => {
        this._initLayer(s);
      }), n.length > 0 && this._getMap() && this._getMap().pm.globalEditModeEnabled() && this.enabled() && this.enable(this.getOptions());
    };
    this._layerGroup.on("layeradd", L.Util.throttle(e, 100, this), this), this._layerGroup.on("layerremove", (r) => {
      this._removeLayerFromGroup(r.target);
    }, this);
    let i = (r) => {
      r.target._pmTempLayer || (this._layers = this.getLayers());
    };
    this._layerGroup.on("layerremove", L.Util.throttle(i, 100, this), this);
  }, enable(t, e = []) {
    e.length === 0 && (this._layers = this.getLayers()), this._options = t, this._layers.forEach((i) => {
      i instanceof L.LayerGroup ? e.indexOf(i._leaflet_id) === -1 && (e.push(i._leaflet_id), i.pm.enable(t, e)) : i.pm.enable(t);
    });
  }, disable(t = []) {
    t.length === 0 && (this._layers = this.getLayers()), this._layers.forEach((e) => {
      e instanceof L.LayerGroup ? t.indexOf(e._leaflet_id) === -1 && (t.push(e._leaflet_id), e.pm.disable(t)) : e.pm.disable();
    });
  }, enabled(t = []) {
    return t.length === 0 && (this._layers = this.getLayers()), !!this._layers.find((i) => i instanceof L.LayerGroup ? t.indexOf(i._leaflet_id) === -1 ? (t.push(i._leaflet_id), i.pm.enabled(t)) : false : i.pm.enabled());
  }, toggleEdit(t, e = []) {
    e.length === 0 && (this._layers = this.getLayers()), this._options = t, this._layers.forEach((i) => {
      i instanceof L.LayerGroup ? e.indexOf(i._leaflet_id) === -1 && (e.push(i._leaflet_id), i.pm.toggleEdit(t, e)) : i.pm.toggleEdit(t);
    });
  }, _initLayer(t) {
    let e = L.Util.stamp(this._layerGroup);
    t.pm._parentLayerGroup || (t.pm._parentLayerGroup = {}), t.pm._parentLayerGroup[e] = this._layerGroup;
  }, _removeLayerFromGroup(t) {
    if (t.pm && t.pm._layerGroup) {
      let e = L.Util.stamp(this._layerGroup);
      delete t.pm._layerGroup[e];
    }
  }, dragging() {
    return this._layers = this.getLayers(), this._layers ? !!this._layers.find((e) => e.pm.dragging()) : false;
  }, getOptions() {
    return this.options;
  }, _getMap() {
    return this._map || this._layers.find((t) => !!t._map)?._map || null;
  }, getLayers(t = false, e = true, i = true, r = []) {
    let n = [];
    return t ? this._layerGroup.getLayers().forEach((s) => {
      n.push(s), s instanceof L.LayerGroup && r.indexOf(s._leaflet_id) === -1 && (r.push(s._leaflet_id), n = n.concat(s.pm.getLayers(true, true, true, r)));
    }) : n = this._layerGroup.getLayers(), i && (n = n.filter((s) => !(s instanceof L.LayerGroup))), e && (n = n.filter((s) => !!s.pm), n = n.filter((s) => !s._pmTempLayer), n = n.filter((s) => !L.PM.optIn && !s.options.pmIgnore || L.PM.optIn && s.options.pmIgnore === false)), n;
  }, setOptions(t, e = []) {
    e.length === 0 && (this._layers = this.getLayers()), this.options = t, this._layers.forEach((i) => {
      i.pm && (i instanceof L.LayerGroup ? e.indexOf(i._leaflet_id) === -1 && (e.push(i._leaflet_id), i.pm.setOptions(t, e)) : i.pm.setOptions(t));
    });
  } });
  H.Marker = H.extend({ _shape: "Marker", initialize(t) {
    this._layer = t, this._enabled = false, this._layer.on("dragend", this._onDragEnd, this);
  }, enable(t = { draggable: true }) {
    if (L.Util.setOptions(this, t), !this.options.allowEditing || !this._layer._map) {
      this.disable();
      return;
    }
    this._map = this._layer._map, this.enabled() && this.disable(), this.applyOptions(), this._layer.on("remove", this.disable, this), this._enabled = true, this._fireEnable();
  }, disable() {
    this.enabled() && (this.disableLayerDrag(), this._layer.off("remove", this.disable, this), this._layer.off("contextmenu", this._removeMarker, this), this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable(), this._enabled = false);
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping(), this.options.draggable ? this.enableLayerDrag() : this.disableLayerDrag(), this.options.preventMarkerRemoval || this._layer.on("contextmenu", this._removeMarker, this);
  }, _removeMarker(t) {
    let e = t.target;
    e.remove(), this._fireRemove(e), this._fireRemove(this._map, e);
  }, _onDragEnd() {
    this._fireEdit(), this._layerEdited = true;
  }, _initSnappableMarkers() {
    let t = this._layer;
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, t.off("pm:drag", this._handleSnapping, this), t.on("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.on("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this), t.on("pm:dragstart", this._unsnap, this);
  }, _disableSnapping() {
    let t = this._layer;
    t.off("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this);
  } });
  var St = xt(Le());
  var v_ = { filterMarkerGroup() {
    this.markerCache = [], this.createCache(), this._layer.on("pm:edit", this.createCache, this), this.applyLimitFilters({}), this.throttledApplyLimitFilters || (this.throttledApplyLimitFilters = L.Util.throttle(this.applyLimitFilters, 100, this)), this._layer.on("pm:disable", this._removeMarkerLimitEvents, this), this._layer.on("remove", this._removeMarkerLimitEvents, this), this.options.limitMarkersToCount > -1 && (this._layer.on("pm:vertexremoved", this._initMarkers, this), this._map.on("mousemove", this.throttledApplyLimitFilters, this));
  }, _removeMarkerLimitEvents() {
    this._map.off("mousemove", this.throttledApplyLimitFilters, this), this._layer.off("pm:edit", this.createCache, this), this._layer.off("pm:disable", this._removeMarkerLimitEvents, this), this._layer.off("pm:vertexremoved", this._initMarkers, this);
  }, createCache() {
    let t = [...this._markerGroup.getLayers(), ...this.markerCache];
    this.markerCache = t.filter((e, i, r) => r.indexOf(e) === i);
  }, _removeFromCache(t) {
    let e = this.markerCache.indexOf(t);
    e > -1 && this.markerCache.splice(e, 1);
  }, renderLimits(t) {
    this.markerCache.forEach((e) => {
      t.includes(e) ? this._markerGroup.addLayer(e) : this._markerGroup.removeLayer(e);
    });
  }, applyLimitFilters({ latlng: t = { lat: 0, lng: 0 } }) {
    if (this._preventRenderMarkers)
      return;
    let i = [...this._filterClosestMarkers(t)];
    this.renderLimits(i);
  }, _filterClosestMarkers(t) {
    let e = [...this.markerCache], i = this.options.limitMarkersToCount;
    return i === -1 ? e : (e.sort((n, s) => {
      let a = n._latlng.distanceTo(t), o = s._latlng.distanceTo(t);
      return a - o;
    }), e.filter((n, s) => i > -1 ? s < i : true));
  }, _preventRenderMarkers: false, _preventRenderingMarkers(t) {
    this._preventRenderMarkers = !!t;
  } }, Jl = v_;
  H.Line = H.extend({ includes: [Jl], _shape: "Line", initialize(t) {
    this._layer = t, this._enabled = false;
  }, enable(t) {
    if (L.Util.setOptions(this, t), this._map = this._layer._map, !!this._map) {
      if (!this.options.allowEditing) {
        this.disable();
        return;
      }
      this.enabled() && this.disable(), this._enabled = true, this._initMarkers(), this.applyOptions(), this._layer.on("remove", this.disable, this), this.options.allowSelfIntersection || this._layer.on("pm:vertexremoved", this._handleSelfIntersectionOnVertexRemoval, this), this.options.allowSelfIntersection ? this.cachedColor = void 0 : (this._layer.options.color !== "#f00000ff" ? (this.cachedColor = this._layer.options.color, this.isRed = false) : this.isRed = true, this._handleLayerStyle()), this._fireEnable();
    }
  }, disable() {
    if (!this.enabled() || this._dragging)
      return;
    this._enabled = false, this._markerGroup.clearLayers(), this._markerGroup.removeFrom(this._map), this._layer.off("remove", this.disable, this), this.options.allowSelfIntersection || this._layer.off("pm:vertexremoved", this._handleSelfIntersectionOnVertexRemoval, this);
    let t = this._layer._path ? this._layer._path : this._layer._renderer._container;
    L.DomUtil.removeClass(t, "leaflet-pm-draggable"), this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable();
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    return this.enabled() ? this.disable() : this.enable(t), this.enabled();
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping();
  }, _initMarkers() {
    let t = this._map, e = this._layer.getLatLngs();
    this._markerGroup && this._markerGroup.clearLayers(), this._markerGroup = new L.FeatureGroup(), this._markerGroup._pmTempLayer = true;
    let i = (r) => {
      if (Array.isArray(r[0]))
        return r.map(i, this);
      let n = r.map(this._createMarker, this);
      return this.options.hideMiddleMarkers !== true && r.map((s, a) => {
        let o = this.isPolygon() ? (a + 1) % r.length : a + 1;
        return this._createMiddleMarker(n[a], n[o]);
      }), n;
    };
    this._markers = i(e), this.filterMarkerGroup(), t.addLayer(this._markerGroup);
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: true, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._pmTempLayer = true, this.options.rotate ? (e.on("dragstart", this._onRotateStart, this), e.on("drag", this._onRotate, this), e.on("dragend", this._onRotateEnd, this)) : (e.on("click", this._onVertexClick, this), e.on("dragstart", this._onMarkerDragStart, this), e.on("move", this._onMarkerDrag, this), e.on("dragend", this._onMarkerDragEnd, this), this.options.preventMarkerRemoval || e.on(this.options.removeVertexOn, this._removeMarker, this)), this._markerGroup.addLayer(e), e;
  }, _createMiddleMarker(t, e) {
    if (!t || !e)
      return false;
    let i = L.PM.Utils.calcMiddleLatLng(this._map, t.getLatLng(), e.getLatLng()), r = this._createMarker(i), n = L.divIcon({ className: "marker-icon marker-icon-middle" });
    return r.setIcon(n), r.leftM = t, r.rightM = e, t._middleMarkerNext = r, e._middleMarkerPrev = r, r.on(this.options.addVertexOn, this._onMiddleMarkerClick, this), r.on("movestart", this._onMiddleMarkerMoveStart, this), r;
  }, _onMiddleMarkerClick(t) {
    let e = t.target;
    if (!this._vertexValidation("add", t))
      return;
    let i = L.divIcon({ className: "marker-icon" });
    e.setIcon(i), this._addMarker(e, e.leftM, e.rightM);
  }, _onMiddleMarkerMoveStart(t) {
    let e = t.target;
    if (e.on("moveend", this._onMiddleMarkerMoveEnd, this), !this._vertexValidation("add", t)) {
      e.on("move", this._onMiddleMarkerMovePrevent, this);
      return;
    }
    e._dragging = true, this._addMarker(e, e.leftM, e.rightM);
  }, _onMiddleMarkerMovePrevent(t) {
    let e = t.target;
    this._vertexValidationDrag(e);
  }, _onMiddleMarkerMoveEnd(t) {
    let e = t.target;
    if (e.off("move", this._onMiddleMarkerMovePrevent, this), e.off("moveend", this._onMiddleMarkerMoveEnd, this), !this._vertexValidationDragEnd(e))
      return;
    let i = L.divIcon({ className: "marker-icon" });
    e.setIcon(i), setTimeout(() => {
      delete e._dragging;
    }, 100);
  }, _addMarker(t, e, i) {
    t.off("movestart", this._onMiddleMarkerMoveStart, this), t.off(this.options.addVertexOn, this._onMiddleMarkerClick, this);
    let r = t.getLatLng(), n = this._layer._latlngs;
    delete t.leftM, delete t.rightM;
    let { indexPath: s, index: a, parentPath: o } = L.PM.Utils.findDeepMarkerIndex(this._markers, e), l = s.length > 1 ? (0, St.default)(n, o) : n, u = s.length > 1 ? (0, St.default)(this._markers, o) : this._markers;
    l.splice(a + 1, 0, r), u.splice(a + 1, 0, t), this._layer.setLatLngs(n), this.options.hideMiddleMarkers !== true && (this._createMiddleMarker(e, t), this._createMiddleMarker(t, i)), this._fireEdit(), this._layerEdited = true, this._fireChange(this._layer.getLatLngs(), "Edit"), this._fireVertexAdded(t, L.PM.Utils.findDeepMarkerIndex(this._markers, t).indexPath, r), this.options.snappable && this._initSnappableMarkers();
  }, hasSelfIntersection() {
    return zt(this._layer.toGeoJSON(15)).features.length > 0;
  }, _handleSelfIntersectionOnVertexRemoval() {
    this._handleLayerStyle(true) && (this._layer.setLatLngs(this._coordsBeforeEdit), this._coordsBeforeEdit = null, this._initMarkers());
  }, _handleLayerStyle(t) {
    let e = this._layer, i, r;
    if (this.options.allowSelfIntersection ? i = false : (r = zt(this._layer.toGeoJSON(15)), i = r.features.length > 0), i) {
      if (!this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this._updateDisabledMarkerStyle(this._markers, true), this.isRed)
        return i;
      t ? this._flashLayer() : (e.setStyle({ color: "#f00000ff" }), this.isRed = true), this._fireIntersect(r);
    } else
      e.setStyle({ color: this.cachedColor }), this.isRed = false, !this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this._updateDisabledMarkerStyle(this._markers, false);
    return i;
  }, _flashLayer() {
    this.cachedColor || (this.cachedColor = this._layer.options.color), this._layer.setStyle({ color: "#f00000ff" }), this.isRed = true, window.setTimeout(() => {
      this._layer.setStyle({ color: this.cachedColor }), this.isRed = false;
    }, 200);
  }, _updateDisabledMarkerStyle(t, e) {
    t.forEach((i) => {
      Array.isArray(i) ? this._updateDisabledMarkerStyle(i, e) : i._icon && (e && !this._checkMarkerAllowedToDrag(i) ? L.DomUtil.addClass(i._icon, "vertexmarker-disabled") : L.DomUtil.removeClass(i._icon, "vertexmarker-disabled"));
    });
  }, _removeMarker(t) {
    let e = t.target;
    if (!this._vertexValidation("remove", t))
      return;
    this.options.allowSelfIntersection || (this._coordsBeforeEdit = vt(this._layer, this._layer.getLatLngs()));
    let i = this._layer.getLatLngs(), { indexPath: r, index: n, parentPath: s } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    if (!r)
      return;
    let a = r.length > 1 ? (0, St.default)(i, s) : i, o = r.length > 1 ? (0, St.default)(this._markers, s) : this._markers;
    if (!this.options.removeLayerBelowMinVertexCount && (a.length <= 2 || this.isPolygon() && a.length <= 3)) {
      this._flashLayer();
      return;
    }
    a.splice(n, 1), this._layer.setLatLngs(i), this.isPolygon() && a.length <= 2 && a.splice(0, a.length);
    let l = false;
    if (a.length <= 1 && (a.splice(0, a.length), s.length > 1 && r.length > 1 && (i = ve(i)), this._layer.setLatLngs(i), this._initMarkers(), l = true), be(i) || this._layer.remove(), i = ve(i), this._layer.setLatLngs(i), this._markers = ve(this._markers), !l && (o = r.length > 1 ? (0, St.default)(this._markers, s) : this._markers, e._middleMarkerPrev && (this._markerGroup.removeLayer(e._middleMarkerPrev), this._removeFromCache(e._middleMarkerPrev)), e._middleMarkerNext && (this._markerGroup.removeLayer(e._middleMarkerNext), this._removeFromCache(e._middleMarkerNext)), this._markerGroup.removeLayer(e), this._removeFromCache(e), o)) {
      let u, f;
      if (this.isPolygon() ? (u = (n + 1) % o.length, f = (n + (o.length - 1)) % o.length) : (f = n - 1 < 0 ? void 0 : n - 1, u = n + 1 >= o.length ? void 0 : n + 1), u !== f) {
        let d = o[f], P = o[u];
        this.options.hideMiddleMarkers !== true && this._createMiddleMarker(d, P);
      }
      o.splice(n, 1);
    }
    this._fireEdit(), this._layerEdited = true, this._fireVertexRemoved(e, r), this._fireChange(this._layer.getLatLngs(), "Edit");
  }, updatePolygonCoordsFromMarkerDrag(t) {
    let e = this._layer.getLatLngs(), i = t.getLatLng(), { indexPath: r, index: n, parentPath: s } = L.PM.Utils.findDeepMarkerIndex(this._markers, t);
    (r.length > 1 ? (0, St.default)(e, s) : e).splice(n, 1, i), this._layer.setLatLngs(e);
  }, _getNeighborMarkers(t) {
    let { indexPath: e, index: i, parentPath: r } = L.PM.Utils.findDeepMarkerIndex(this._markers, t), n = e.length > 1 ? (0, St.default)(this._markers, r) : this._markers, s = (i + 1) % n.length, a = (i + (n.length - 1)) % n.length, o = n[a], l = n[s];
    return { prevMarker: o, nextMarker: l };
  }, _checkMarkerAllowedToDrag(t) {
    let { prevMarker: e, nextMarker: i } = this._getNeighborMarkers(t), r = L.polyline([e.getLatLng(), t.getLatLng()]), n = L.polyline([t.getLatLng(), i.getLatLng()]), s = pt(this._layer.toGeoJSON(15), r.toGeoJSON(15)).features.length, a = pt(this._layer.toGeoJSON(15), n.toGeoJSON(15)).features.length;
    return t.getLatLng() === this._markers[0][0].getLatLng() ? a += 1 : t.getLatLng() === this._markers[0][this._markers[0].length - 1].getLatLng() && (s += 1), !(s <= 2 && a <= 2);
  }, _onMarkerDragStart(t) {
    let e = t.target;
    if (this.cachedColor || (this.cachedColor = this._layer.options.color), !this._vertexValidation("move", t))
      return;
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDragStart(t, i), this.options.allowSelfIntersection || (this._coordsBeforeEdit = vt(this._layer, this._layer.getLatLngs())), !this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this.hasSelfIntersection() ? this._markerAllowedToDrag = this._checkMarkerAllowedToDrag(e) : this._markerAllowedToDrag = null;
  }, _onMarkerDrag(t) {
    let e = t.target;
    if (!this._vertexValidationDrag(e))
      return;
    let { indexPath: i, index: r, parentPath: n } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    if (!i)
      return;
    if (!this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this.hasSelfIntersection() && this._markerAllowedToDrag === false) {
      this._layer.setLatLngs(this._coordsBeforeEdit), this._initMarkers(), this._handleLayerStyle();
      return;
    }
    this.updatePolygonCoordsFromMarkerDrag(e);
    let s = i.length > 1 ? (0, St.default)(this._markers, n) : this._markers, a = (r + 1) % s.length, o = (r + (s.length - 1)) % s.length, l = e.getLatLng(), u = s[o].getLatLng(), f = s[a].getLatLng();
    if (e._middleMarkerNext) {
      let d = L.PM.Utils.calcMiddleLatLng(this._map, l, f);
      e._middleMarkerNext.setLatLng(d);
    }
    if (e._middleMarkerPrev) {
      let d = L.PM.Utils.calcMiddleLatLng(this._map, l, u);
      e._middleMarkerPrev.setLatLng(d);
    }
    this.options.allowSelfIntersection || this._handleLayerStyle(), this._fireMarkerDrag(t, i), this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _onMarkerDragEnd(t) {
    let e = t.target;
    if (!this._vertexValidationDragEnd(e))
      return;
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e), r = this.hasSelfIntersection();
    r && this.options.allowSelfIntersectionEdit && this._markerAllowedToDrag && (r = false);
    let n = !this.options.allowSelfIntersection && r;
    if (this._fireMarkerDragEnd(t, i, n), n) {
      this._layer.setLatLngs(this._coordsBeforeEdit), this._coordsBeforeEdit = null, this._initMarkers(), this.options.snappable && this._initSnappableMarkers(), this._handleLayerStyle(), this._fireLayerReset(t, i);
      return;
    }
    !this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this._handleLayerStyle(), this._fireEdit(), this._layerEdited = true, this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _onVertexClick(t) {
    let e = t.target;
    if (e._dragging)
      return;
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireVertexClick(t, i);
  } });
  H.Polygon = H.Line.extend({ _shape: "Polygon", _checkMarkerAllowedToDrag(t) {
    let { prevMarker: e, nextMarker: i } = this._getNeighborMarkers(t), r = L.polyline([e.getLatLng(), t.getLatLng()]), n = L.polyline([t.getLatLng(), i.getLatLng()]), s = pt(this._layer.toGeoJSON(15), r.toGeoJSON(15)).features.length, a = pt(this._layer.toGeoJSON(15), n.toGeoJSON(15)).features.length;
    return !(s <= 2 && a <= 2);
  } });
  H.Rectangle = H.Polygon.extend({ _shape: "Rectangle", _initMarkers() {
    let t = this._map, e = this._findCorners();
    this._markerGroup && this._markerGroup.clearLayers(), this._markerGroup = new L.FeatureGroup(), this._markerGroup._pmTempLayer = true, t.addLayer(this._markerGroup), this._markers = [], this._markers[0] = e.map(this._createMarker, this), [this._cornerMarkers] = this._markers, this._layer.getLatLngs()[0].forEach((i, r) => {
      let n = this._cornerMarkers.find((s) => s._index === r);
      n && n.setLatLng(i);
    });
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping(), this._addMarkerEvents();
  }, _createMarker(t, e) {
    let i = new L.Marker(t, { draggable: true, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(i, "vertexPane"), i._origLatLng = t, i._index = e, i._pmTempLayer = true, i.on("click", this._onVertexClick, this), this._markerGroup.addLayer(i), i;
  }, _addMarkerEvents() {
    this._markers[0].forEach((t) => {
      t.on("dragstart", this._onMarkerDragStart, this), t.on("drag", this._onMarkerDrag, this), t.on("dragend", this._onMarkerDragEnd, this), this.options.preventMarkerRemoval || t.on("contextmenu", this._removeMarker, this);
    });
  }, _removeMarker() {
    return null;
  }, _onMarkerDragStart(t) {
    if (!this._vertexValidation("move", t))
      return;
    let e = t.target, i = this._cornerMarkers;
    e._oppositeCornerLatLng = i.find((n) => n._index === (e._index + 2) % 4).getLatLng(), e._snapped = false;
    let { indexPath: r } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDragStart(t, r);
  }, _onMarkerDrag(t) {
    let e = t.target;
    if (!this._vertexValidationDrag(e) || e._index === void 0)
      return;
    this._adjustRectangleForMarkerMove(e);
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDrag(t, i), this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _onMarkerDragEnd(t) {
    let e = t.target;
    if (!this._vertexValidationDragEnd(e))
      return;
    this._cornerMarkers.forEach((r) => {
      delete r._oppositeCornerLatLng;
    });
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDragEnd(t, i), this._fireEdit(), this._layerEdited = true, this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _adjustRectangleForMarkerMove(t) {
    L.extend(t._origLatLng, t._latlng);
    let e = L.PM.Utils._getRotatedRectangle(t.getLatLng(), t._oppositeCornerLatLng, this.getAngle(), this._map);
    this._layer.setLatLngs(e), this._adjustAllMarkers(), this._layer.redraw();
  }, _adjustAllMarkers() {
    let t = this._layer.getLatLngs()[0];
    t && t.length !== 4 && t.length > 0 ? (t.forEach((i, r) => {
      this._cornerMarkers[r].setLatLng(i);
    }), this._cornerMarkers.slice(t.length).forEach((i) => {
      i.setLatLng(t[0]);
    })) : !t || !t.length ? console.error("The layer has no LatLngs") : this._cornerMarkers.forEach((e) => {
      e.setLatLng(t[e._index]);
    });
  }, _findCorners() {
    this._angle === void 0 && this.setInitAngle(ke(this._map, this._layer.getLatLngs()[0][0], this._layer.getLatLngs()[0][1]) || 0);
    let t = this._layer.getLatLngs()[0];
    return L.PM.Utils._getRotatedRectangle(t[0], t[2], this.getAngle(), this._map || this);
  } });
  H.CircleMarker = H.extend({ _shape: "CircleMarker", initialize(t) {
    this._layer = t, this._enabled = false, this._minRadiusOption = "minRadiusCircleMarker", this._maxRadiusOption = "maxRadiusCircleMarker", this._editableOption = "resizeableCircleMarker", this._updateHiddenPolyCircle();
  }, enable(t = { draggable: true, snappable: true }) {
    if (L.Util.setOptions(this, t), this.options.editable && (this.options.resizeableCircleMarker = this.options.editable, delete this.options.editable), !this.options.allowEditing || !this._layer._map) {
      this.disable();
      return;
    }
    this._map = this._layer._map, this.enabled() && this.disable(), this.applyOptions(), this._layer.on("remove", this.disable, this), this._enabled = true, this._extendingEnable(), this._updateHiddenPolyCircle(), this._fireEnable();
  }, _extendingEnable() {
    this._layer.on("pm:dragstart", this._onDragStart, this), this._layer.on("pm:drag", this._onMarkerDrag, this), this._layer.on("pm:dragend", this._onMarkerDragEnd, this);
  }, disable() {
    this.dragging() || (this._map || (this._map = this._layer._map), this._map && this.enabled() && (this.layerDragEnabled() && this.disableLayerDrag(), this.options[this._editableOption] ? (this._helperLayers && this._helperLayers.clearLayers(), this._map.off("move", this._syncMarkers, this), this._outerMarker.off("drag", this._handleOuterMarkerSnapping, this)) : this._map.off("move", this._updateHiddenPolyCircle, this), this._extendingDisable(), this._layer.off("remove", this.disable, this), this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable(), this._enabled = false));
  }, _extendingDisable() {
    this._layer.off("contextmenu", this._removeMarker, this);
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, applyOptions() {
    this.options[this._editableOption] ? (this._initMarkers(), this._map.on("move", this._syncMarkers, this), this.options.snappable ? (this._initSnappableMarkers(), this._outerMarker.on("drag", this._handleOuterMarkerSnapping, this), this._outerMarker.on("move", this._syncHintLine, this), this._outerMarker.on("move", this._syncCircleRadius, this), this._centerMarker.on("move", this._moveCircle, this)) : this._disableSnapping()) : (this.options.draggable && this.enableLayerDrag(), this._map.on("move", this._updateHiddenPolyCircle, this), this.options.snappable ? this._initSnappableMarkersDrag() : this._disableSnappingDrag()), this._extendingApplyOptions();
  }, _extendingApplyOptions() {
    this.options.preventMarkerRemoval || this._layer.on("contextmenu", this._removeMarker, this);
  }, _initMarkers() {
    let t = this._map;
    this._helperLayers && this._helperLayers.clearLayers(), this._helperLayers = new L.FeatureGroup(), this._helperLayers._pmTempLayer = true, this._helperLayers.addTo(t);
    let e = this._layer.getLatLng(), i = this._layer._radius, r = this._getLatLngOnCircle(e, i);
    this._centerMarker = this._createCenterMarker(e), this._outerMarker = this._createOuterMarker(r), this._markers = [this._centerMarker, this._outerMarker], this._createHintLine(this._centerMarker, this._outerMarker);
  }, _getLatLngOnCircle(t, e) {
    let i = this._map.project(t), r = L.point(i.x + e, i.y);
    return this._map.unproject(r);
  }, _createHintLine(t, e) {
    let i = t.getLatLng(), r = e.getLatLng();
    this._hintline = L.polyline([i, r], this.options.hintlineStyle), this._setPane(this._hintline, "layerPane"), this._hintline._pmTempLayer = true, this._helperLayers.addLayer(this._hintline);
  }, _createCenterMarker(t) {
    let e = this._createMarker(t);
    return this.options.draggable ? L.DomUtil.addClass(e._icon, "leaflet-pm-draggable") : e.dragging.disable(), e;
  }, _createOuterMarker(t) {
    let e = this._createMarker(t);
    return e.on("drag", this._resizeCircle, this), e;
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: true, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._origLatLng = t, e._pmTempLayer = true, e.on("dragstart", this._onMarkerDragStart, this), e.on("drag", this._onMarkerDrag, this), e.on("dragend", this._onMarkerDragEnd, this), e.on("click", this._onVertexClick, this), this._helperLayers.addLayer(e), e;
  }, _moveCircle(t) {
    if (t.target._cancelDragEventChain)
      return;
    let i = this._centerMarker.getLatLng();
    this._layer.setLatLng(i);
    let r = this._layer._radius, n = this._getLatLngOnCircle(i, r);
    this._outerMarker._latlng = n, this._outerMarker.update(), this._syncHintLine(), this._updateHiddenPolyCircle(), this._fireCenterPlaced("Edit"), this._fireChange(this._layer.getLatLng(), "Edit");
  }, _syncMarkers() {
    let t = this._layer.getLatLng(), e = this._layer._radius, i = this._getLatLngOnCircle(t, e);
    this._outerMarker.setLatLng(i), this._centerMarker.setLatLng(t), this._syncHintLine(), this._updateHiddenPolyCircle();
  }, _resizeCircle() {
    this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()), this._syncHintLine(), this._syncCircleRadius();
  }, _syncCircleRadius() {
    let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng(), i = this._distanceCalculation(t, e);
    this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._layer.setRadius(this.options[this._minRadiusOption]) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] ? this._layer.setRadius(this.options[this._maxRadiusOption]) : this._layer.setRadius(i), this._updateHiddenPolyCircle(), this._fireChange(this._layer.getLatLng(), "Edit");
  }, _syncHintLine() {
    let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng();
    this._hintline.setLatLngs([t, e]);
  }, _removeMarker() {
    this.options[this._editableOption] && this.disable(), this._layer.remove(), this._fireRemove(this._layer), this._fireRemove(this._map, this._layer);
  }, _onDragStart() {
    this._map.pm.Draw.CircleMarker._layerIsDragging = true;
  }, _onMarkerDragStart(t) {
    this._vertexValidation("move", t) && this._fireMarkerDragStart(t);
  }, _onMarkerDrag(t) {
    let e = t.target;
    e instanceof L.Marker && !this._vertexValidationDrag(e) || this._fireMarkerDrag(t);
  }, _onMarkerDragEnd(t) {
    this._extedingMarkerDragEnd();
    let e = t.target;
    this._vertexValidationDragEnd(e) && (this.options[this._editableOption] && (this._fireEdit(), this._layerEdited = true), this._fireMarkerDragEnd(t));
  }, _extedingMarkerDragEnd() {
    this._map.pm.Draw.CircleMarker._layerIsDragging = false;
  }, _initSnappableMarkersDrag() {
    let t = this._layer;
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, t.off("pm:drag", this._handleSnapping, this), t.on("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.on("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this), t.on("pm:dragstart", this._unsnap, this);
  }, _disableSnappingDrag() {
    let t = this._layer;
    t.off("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this);
  }, _updateHiddenPolyCircle() {
    let t = this._layer._map || this._map;
    if (t) {
      let e = L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(), t, this._layer.getLatLng()), i = L.circle(this._layer.getLatLng(), this._layer.options);
      i.setRadius(e);
      let r = t && t.pm._isCRSSimple();
      this._hiddenPolyCircle ? this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(i, 200, !r).getLatLngs()) : this._hiddenPolyCircle = L.PM.Utils.circleToPolygon(i, 200, !r), this._hiddenPolyCircle._parentCopy || (this._hiddenPolyCircle._parentCopy = this._layer);
    }
  }, _getNewDestinationOfOuterMarker() {
    let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng(), i = this._distanceCalculation(t, e);
    return this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? e = te(this._map, t, e, this._getMinDistanceInMeter(t)) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && (e = te(this._map, t, e, this._getMaxDistanceInMeter(t))), e;
  }, _handleOuterMarkerSnapping() {
    if (this._outerMarker._snapped) {
      let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng(), i = this._distanceCalculation(t, e);
      this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._outerMarker.setLatLng(this._outerMarker._orgLatLng) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && this._outerMarker.setLatLng(this._outerMarker._orgLatLng);
    }
    this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker());
  }, _distanceCalculation(t, e) {
    return this._map.project(t).distanceTo(this._map.project(e));
  }, _getMinDistanceInMeter(t) {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption], this._map, t);
  }, _getMaxDistanceInMeter(t) {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption], this._map, t);
  }, _onVertexClick(t) {
    t.target._dragging || this._fireVertexClick(t, void 0);
  } });
  H.Circle = H.CircleMarker.extend({ _shape: "Circle", initialize(t) {
    this._layer = t, this._enabled = false, this._minRadiusOption = "minRadiusCircle", this._maxRadiusOption = "maxRadiusCircle", this._editableOption = "resizableCircle", this._updateHiddenPolyCircle();
  }, enable(t) {
    L.PM.Edit.CircleMarker.prototype.enable.call(this, t || {});
  }, _extendingEnable() {
  }, _extendingDisable() {
    this._layer.off("remove", this.disable, this);
    let t = this._layer._path ? this._layer._path : this._layer._renderer._container;
    L.DomUtil.removeClass(t, "leaflet-pm-draggable");
  }, _extendingApplyOptions() {
  }, _syncMarkers() {
  }, _removeMarker() {
  }, _onDragStart() {
  }, _extedingMarkerDragEnd() {
  }, _updateHiddenPolyCircle() {
    let t = this._map && this._map.pm._isCRSSimple();
    this._hiddenPolyCircle ? this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer, 200, !t).getLatLngs()) : this._hiddenPolyCircle = L.PM.Utils.circleToPolygon(this._layer, 200, !t), this._hiddenPolyCircle._parentCopy || (this._hiddenPolyCircle._parentCopy = this._layer);
  }, _distanceCalculation(t, e) {
    return this._map.distance(t, e);
  }, _getMinDistanceInMeter() {
    return this.options[this._minRadiusOption];
  }, _getMaxDistanceInMeter() {
    return this.options[this._maxRadiusOption];
  }, _onVertexClick(t) {
    t.target._dragging || this._fireVertexClick(t, void 0);
  } });
  H.ImageOverlay = H.extend({ _shape: "ImageOverlay", initialize(t) {
    this._layer = t, this._enabled = false;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, enabled() {
    return this._enabled;
  }, enable(t = { draggable: true, snappable: true }) {
    if (L.Util.setOptions(this, t), this._map = this._layer._map, !!this._map) {
      if (!this.options.allowEditing) {
        this.disable();
        return;
      }
      this.enabled() || this.disable(), this.enableLayerDrag(), this._layer.on("remove", this.disable, this), this._enabled = true, this._otherSnapLayers = this._findCorners(), this._fireEnable();
    }
  }, disable() {
    this._dragging || (this._map || (this._map = this._layer._map), this.disableLayerDrag(), this._layer.off("remove", this.disable, this), this.enabled() || (this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable()), this._enabled = false);
  }, _findCorners() {
    let t = this._layer.getBounds(), e = t.getNorthWest(), i = t.getNorthEast(), r = t.getSouthEast(), n = t.getSouthWest();
    return [e, i, r, n];
  } });
  H.Text = H.extend({ _shape: "Text", initialize(t) {
    this._layer = t, this._enabled = false;
  }, enable(t) {
    if (L.Util.setOptions(this, t), !!this.textArea) {
      if (!this.options.allowEditing || !this._layer._map) {
        this.disable();
        return;
      }
      this._map = this._layer._map, this.enabled() && this.disable(), this.applyOptions(), this._safeToCacheDragState = true, this._focusChange(), this.textArea.readOnly = false, this.textArea.classList.remove("pm-disabled"), this._layer.on("remove", this.disable, this), L.DomEvent.on(this.textArea, "input", this._autoResize, this), L.DomEvent.on(this.textArea, "focus", this._focusChange, this), L.DomEvent.on(this.textArea, "blur", this._focusChange, this), this._layer.on("dblclick", L.DomEvent.stop), L.DomEvent.off(this.textArea, "mousedown", this._preventTextSelection), this._enabled = true, this._fireEnable();
    }
  }, disable() {
    if (!this.enabled())
      return;
    this._layer.off("remove", this.disable, this), L.DomEvent.off(this.textArea, "input", this._autoResize, this), L.DomEvent.off(this.textArea, "focus", this._focusChange, this), L.DomEvent.off(this.textArea, "blur", this._focusChange, this), L.DomEvent.off(document, "click", this._documentClick, this), this._focusChange(), this.textArea.readOnly = true, this.textArea.classList.add("pm-disabled");
    let t = document.activeElement;
    this.textArea.focus(), this.textArea.selectionStart = 0, this.textArea.selectionEnd = 0, L.DomEvent.on(this.textArea, "mousedown", this._preventTextSelection), t.focus(), this._disableOnBlurActive = false, this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable(), this._enabled = false;
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping();
  }, _initSnappableMarkers() {
    let t = this._layer;
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, t.off("pm:drag", this._handleSnapping, this), t.on("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.on("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this), t.on("pm:dragstart", this._unsnap, this);
  }, _disableSnapping() {
    let t = this._layer;
    t.off("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this);
  }, _autoResize() {
    this.textArea.style.height = "1px", this.textArea.style.width = "1px";
    let t = this.textArea.scrollHeight > 21 ? this.textArea.scrollHeight : 21, e = this.textArea.scrollWidth > 16 ? this.textArea.scrollWidth : 16;
    this.textArea.style.height = `${t}px`, this.textArea.style.width = `${e}px`, this._layer.options.text = this.getText(), this._fireTextChange(this.getText());
  }, _disableOnBlur() {
    this._disableOnBlurActive = true, setTimeout(() => {
      this.enabled() && L.DomEvent.on(document, "click", this._documentClick, this);
    }, 100);
  }, _documentClick(t) {
    t.target !== this.textArea && (this.disable(), !this.getText() && this.options.removeIfEmpty && this.remove());
  }, _focusChange(t = {}) {
    let e = this._hasFocus;
    this._hasFocus = t.type === "focus", !e != !this._hasFocus && (this._hasFocus ? (this._applyFocus(), this._focusText = this.getText(), this._fireTextFocus()) : (this._removeFocus(), this._fireTextBlur(), this._focusText !== this.getText() && (this._fireEdit(), this._layerEdited = true)));
  }, _applyFocus() {
    this.textArea.classList.add("pm-hasfocus"), this._map.dragging && (this._safeToCacheDragState && (this._originalMapDragState = this._map.dragging._enabled, this._safeToCacheDragState = false), this._map.dragging.disable());
  }, _removeFocus() {
    this._map.dragging && (this._originalMapDragState && this._map.dragging.enable(), this._safeToCacheDragState = true), this.textArea.classList.remove("pm-hasfocus");
  }, focus() {
    if (!this.enabled())
      throw new TypeError("Layer is not enabled");
    this.textArea.focus();
  }, blur() {
    if (!this.enabled())
      throw new TypeError("Layer is not enabled");
    this.textArea.blur(), this._disableOnBlurActive && this.disable();
  }, hasFocus() {
    return this._hasFocus;
  }, getElement() {
    return this.textArea;
  }, setText(t) {
    this.textArea.value = t, this._autoResize();
  }, getText() {
    return this.textArea.value;
  }, _initTextMarker() {
    if (this.textArea = L.PM.Draw.Text.prototype._createTextArea.call(this), this.options.className) {
      let e = this.options.className.split(" ");
      this.textArea.classList.add(...e);
    }
    let t = L.PM.Draw.Text.prototype._createTextIcon.call(this, this.textArea);
    this._layer.setIcon(t), this._layer.once("add", this._createTextMarker, this);
  }, _createTextMarker(t = false) {
    this._layer.off("add", this._createTextMarker, this), this._layer.getElement().tabIndex = -1, this.textArea.wrap = "off", this.textArea.style.overflow = "hidden", this.textArea.style.height = L.DomUtil.getStyle(this.textArea, "font-size"), this.textArea.style.width = "1px", this._layer.options.text && this.setText(this._layer.options.text), this._autoResize(), t === true && (this.enable(), this.focus(), this._disableOnBlur());
  }, _preventTextSelection(t) {
    t.preventDefault();
  } });
  var or = function(e, i, r, n, s, a) {
    this._matrix = [e, i, r, n, s, a];
  };
  or.init = () => new L.PM.Matrix(1, 0, 0, 1, 0, 0);
  or.prototype = { transform(t) {
    return this._transform(t.clone());
  }, _transform(t) {
    let e = this._matrix, { x: i, y: r } = t;
    return t.x = e[0] * i + e[1] * r + e[4], t.y = e[2] * i + e[3] * r + e[5], t;
  }, untransform(t) {
    let e = this._matrix;
    return new L.Point((t.x / e[0] - e[4]) / e[0], (t.y / e[2] - e[5]) / e[2]);
  }, clone() {
    let t = this._matrix;
    return new L.PM.Matrix(t[0], t[1], t[2], t[3], t[4], t[5]);
  }, translate(t) {
    if (t === void 0)
      return new L.Point(this._matrix[4], this._matrix[5]);
    let e, i;
    return typeof t == "number" ? (e = t, i = t) : (e = t.x, i = t.y), this._add(1, 0, 0, 1, e, i);
  }, scale(t, e) {
    if (t === void 0)
      return new L.Point(this._matrix[0], this._matrix[3]);
    let i, r;
    return e = e || L.point(0, 0), typeof t == "number" ? (i = t, r = t) : (i = t.x, r = t.y), this._add(i, 0, 0, r, e.x, e.y)._add(1, 0, 0, 1, -e.x, -e.y);
  }, rotate(t, e) {
    let i = Math.cos(t), r = Math.sin(t);
    return e = e || new L.Point(0, 0), this._add(i, r, -r, i, e.x, e.y)._add(1, 0, 0, 1, -e.x, -e.y);
  }, flip() {
    return this._matrix[1] *= -1, this._matrix[2] *= -1, this;
  }, _add(t, e, i, r, n, s) {
    let a = [[], [], []], o = this._matrix, l = [[o[0], o[2], o[4]], [o[1], o[3], o[5]], [0, 0, 1]], u = [[t, i, n], [e, r, s], [0, 0, 1]], f;
    t && t instanceof L.PM.Matrix && (o = t._matrix, u = [[o[0], o[2], o[4]], [o[1], o[3], o[5]], [0, 0, 1]]);
    for (let d = 0; d < 3; d += 1)
      for (let P = 0; P < 3; P += 1) {
        f = 0;
        for (let E = 0; E < 3; E += 1)
          f += l[d][E] * u[E][P];
        a[d][P] = f;
      }
    return this._matrix = [a[0][0], a[1][0], a[0][1], a[1][1], a[0][2], a[1][2]], this;
  } };
  var $l = or;
  var k_ = { calcMiddleLatLng(t, e, i) {
    let r = t.project(e), n = t.project(i);
    return t.unproject(r._add(n)._divideBy(2));
  }, findLayers(t) {
    let e = [];
    return t.eachLayer((i) => {
      (i instanceof L.Polyline || i instanceof L.Marker || i instanceof L.Circle || i instanceof L.CircleMarker || i instanceof L.ImageOverlay) && e.push(i);
    }), e = e.filter((i) => !!i.pm), e = e.filter((i) => !i._pmTempLayer), e = e.filter((i) => !L.PM.optIn && !i.options.pmIgnore || L.PM.optIn && i.options.pmIgnore === false), e;
  }, circleToPolygon(t, e = 60, i = true) {
    let r = t.getLatLng(), n = t.getRadius(), s = Ci(r, n, e, 0, i), a = [];
    for (let o = 0; o < s.length; o += 1) {
      let l = [s[o].lat, s[o].lng];
      a.push(l);
    }
    return L.polygon(a, t.options);
  }, disablePopup(t) {
    t.getPopup() && (t._tempPopupCopy = t.getPopup(), t.unbindPopup());
  }, enablePopup(t) {
    t._tempPopupCopy && (t.bindPopup(t._tempPopupCopy), delete t._tempPopupCopy);
  }, _fireEvent(t, e, i, r = false) {
    t.fire(e, i, r);
    let { groups: n } = this.getAllParentGroups(t);
    n.forEach((s) => {
      s.fire(e, i, r);
    });
  }, getAllParentGroups(t) {
    let e = [], i = [], r = (n) => {
      for (let s in n._eventParents)
        if (e.indexOf(s) === -1) {
          e.push(s);
          let a = n._eventParents[s];
          i.push(a), r(a);
        }
    };
    return !t._pmLastGroupFetch || !t._pmLastGroupFetch.time || (/* @__PURE__ */ new Date()).getTime() - t._pmLastGroupFetch.time > 1e3 ? (r(t), t._pmLastGroupFetch = { time: (/* @__PURE__ */ new Date()).getTime(), groups: i, groupIds: e }, { groupIds: e, groups: i }) : { groups: t._pmLastGroupFetch.groups, groupIds: t._pmLastGroupFetch.groupIds };
  }, createGeodesicPolygon: Ci, getTranslation: V, findDeepCoordIndex(t, e, i = true) {
    let r, n = (a) => (o, l) => {
      let u = a.concat(l);
      if (i) {
        if (o.lat && o.lat === e.lat && o.lng === e.lng)
          return r = u, true;
      } else if (o.lat && L.latLng(o).equals(e))
        return r = u, true;
      return Array.isArray(o) && o.some(n(u));
    };
    t.some(n([]));
    let s = {};
    return r && (s = { indexPath: r, index: r[r.length - 1], parentPath: r.slice(0, r.length - 1) }), s;
  }, findDeepMarkerIndex(t, e) {
    let i, r = (s) => (a, o) => {
      let l = s.concat(o);
      return a._leaflet_id === e._leaflet_id ? (i = l, true) : Array.isArray(a) && a.some(r(l));
    };
    t.some(r([]));
    let n = {};
    return i && (n = { indexPath: i, index: i[i.length - 1], parentPath: i.slice(0, i.length - 1) }), n;
  }, _getIndexFromSegment(t, e) {
    if (e && e.length === 2) {
      let i = this.findDeepCoordIndex(t, e[0]), r = this.findDeepCoordIndex(t, e[1]), n = Math.max(i.index, r.index);
      return (i.index === 0 || r.index === 0) && n !== 1 && (n += 1), { indexA: i, indexB: r, newIndex: n, indexPath: i.indexPath, parentPath: i.parentPath };
    }
    return null;
  }, _getRotatedRectangle(t, e, i, r) {
    let n = It(r, t), s = It(r, e), a = i * Math.PI / 180, o = Math.cos(a), l = Math.sin(a), u = (s.x - n.x) * o + (s.y - n.y) * l, f = (s.y - n.y) * o - (s.x - n.x) * l, d = u * o + n.x, P = u * l + n.y, E = -f * l + n.x, T = f * o + n.y, G = Re(r, n), _ = Re(r, { x: d, y: P }), x = Re(r, s), b = Re(r, { x: E, y: T });
    return [G, _, x, b];
  }, pxRadiusToMeterRadius(t, e, i) {
    let r = e.project(i), n = L.point(r.x + t, r.y);
    return e.distance(e.unproject(n), i);
  } }, Zl = k_;
  L.PM = L.PM || { version: hr.version, Map: Ko, Toolbar: Xo, Draw: X, Edit: H, Utils: Zl, Matrix: $l, activeLang: "en", optIn: false, initialize(t) {
    this.addInitHooks(t);
  }, setOptIn(t) {
    this.optIn = !!t;
  }, addInitHooks() {
    function t() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Map(this)) : this.options.pmIgnore || (this.pm = new L.PM.Map(this)), this.pm && this.pm.setGlobalOptions({});
    }
    L.Map.addInitHook(t);
    function e() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.LayerGroup(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.LayerGroup(this));
    }
    L.LayerGroup.addInitHook(e);
    function i() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.options.textMarker ? (this.pm = new L.PM.Edit.Text(this), this.options._textMarkerOverPM || this.pm._initTextMarker(), delete this.options._textMarkerOverPM) : this.pm = new L.PM.Edit.Marker(this)) : this.options.pmIgnore || (this.options.textMarker ? (this.pm = new L.PM.Edit.Text(this), this.options._textMarkerOverPM || this.pm._initTextMarker(), delete this.options._textMarkerOverPM) : this.pm = new L.PM.Edit.Marker(this));
    }
    L.Marker.addInitHook(i);
    function r() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.CircleMarker(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.CircleMarker(this));
    }
    L.CircleMarker.addInitHook(r);
    function n() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Line(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Line(this));
    }
    L.Polyline.addInitHook(n);
    function s() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Polygon(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Polygon(this));
    }
    L.Polygon.addInitHook(s);
    function a() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Rectangle(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Rectangle(this));
    }
    L.Rectangle.addInitHook(a);
    function o() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Circle(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Circle(this));
    }
    L.Circle.addInitHook(o);
    function l() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.ImageOverlay(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.ImageOverlay(this));
    }
    L.ImageOverlay.addInitHook(l);
  }, reInitLayer(t) {
    t instanceof L.LayerGroup && t.eachLayer((e) => {
      this.reInitLayer(e);
    }), t.pm || L.PM.optIn && t.options.pmIgnore !== false || t.options.pmIgnore || (t instanceof L.Map ? t.pm = new L.PM.Map(t) : t instanceof L.Marker ? t.options.textMarker ? (t.pm = new L.PM.Edit.Text(t), t.pm._initTextMarker(), t.pm._createTextMarker(false)) : t.pm = new L.PM.Edit.Marker(t) : t instanceof L.Circle ? t.pm = new L.PM.Edit.Circle(t) : t instanceof L.CircleMarker ? t.pm = new L.PM.Edit.CircleMarker(t) : t instanceof L.Rectangle ? t.pm = new L.PM.Edit.Rectangle(t) : t instanceof L.Polygon ? t.pm = new L.PM.Edit.Polygon(t) : t instanceof L.Polyline ? t.pm = new L.PM.Edit.Line(t) : t instanceof L.LayerGroup ? t.pm = new L.PM.Edit.LayerGroup(t) : t instanceof L.ImageOverlay && (t.pm = new L.PM.Edit.ImageOverlay(t)));
  } };
  L.version === "1.7.1" && L.Canvas.include({ _onClick(t) {
    let e = this._map.mouseEventToLayerPoint(t), i, r;
    for (let n = this._drawFirst; n; n = n.next)
      i = n.layer, i.options.interactive && i._containsPoint(e) && (!(t.type === "click" || t.type === "preclick") || !this._map._draggableMoved(i)) && (r = i);
    r && (L.DomEvent.fakeStop(t), this._fireEvent([r], t));
  } });
  L.PM.initialize();
})();

// resources/js/index.js
document.addEventListener("DOMContentLoaded", () => {
  const mapPicker = ($wire, config, state) => {
    return {
      map: null,
      tile: null,
      marker: null,
      rangeCircle: null,
      drawItems: null,
      rangeSelectField: null,
      formRestorationHiddenInput: null,
      createMap: function(el) {
        const that = this;
        this.map = LF.map(el, config.controls);
        if (config.bounds) {
          let southWest = LF.latLng(config.bounds.sw.lat, config.bounds.sw.lng);
          let northEast = LF.latLng(config.bounds.ne.lat, config.bounds.ne.lng);
          let bounds = LF.latLngBounds(southWest, northEast);
          this.map.setMaxBounds(bounds);
          this.map.fitBounds(bounds);
          this.map.on("drag", function() {
            map.panInsideBounds(bounds, { animate: false });
          });
        }
        this.map.on("load", () => {
          setTimeout(() => this.map.invalidateSize(true), 0);
          if (config.showMarker) {
            if (!config.clickable) {
              this.marker.setLatLng(this.map.getCenter());
            }
          }
        });
        if (!config.draggable) {
          this.map.dragging.disable();
        }
        if (config.clickable) {
          this.map.on("click", function(e) {
            that.setCoordinates(e.latlng);
          });
        }
        this.tile = LF.tileLayer(config.tilesUrl, {
          attribution: config.attribution,
          minZoom: config.minZoom,
          maxZoom: config.maxZoom,
          tileSize: config.tileSize,
          zoomOffset: config.zoomOffset,
          detectRetina: config.detectRetina
        }).addTo(this.map);
        if (config.showMarker) {
          const markerColor = config.markerColor || "#3b82f6";
          const svgIcon = LF.divIcon({
            html: `<svg xmlns="http://www.w3.org/2000/svg" class="map-icon" fill="${markerColor}" width="36" height="36" viewBox="0 0 24 24"><path d="M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z"/></svg>`,
            className: "",
            iconSize: [36, 36],
            iconAnchor: [18, 36]
          });
          this.marker = LF.marker(this.getCoordinates(), {
            icon: svgIcon,
            draggable: false,
            autoPan: true
          }).addTo(this.map);
          this.setMarkerRange();
          if (!config.clickable) {
            this.map.on("move", () => this.setCoordinates(this.map.getCenter()));
          }
        }
        if (!config.clickable) {
          this.map.on("moveend", () => setTimeout(() => this.updateLocation(), 500));
        }
        this.map.on("locationfound", function() {
          that.map.setZoom(config.controls.zoom);
        });
        let location = this.getCoordinates();
        if (!location.lat && !location.lng) {
          this.map.locate({
            setView: true,
            maxZoom: config.controls.maxZoom,
            enableHighAccuracy: true,
            watch: false
          });
        } else {
          this.map.setView(new LF.LatLng(location.lat, location.lng));
        }
        if (config.showMyLocationButton) {
          this.addLocationButton();
        }
        if (config.liveLocation.send && config.liveLocation.realtime) {
          setInterval(() => {
            this.fetchCurrentLocation();
          }, config.liveLocation.miliseconds);
        }
        this.map.on("zoomend", function(event) {
          that.setFormRestorationState(false, that.map.getZoom());
        });
        if (config.geoMan.show) {
          this.map.pm.addControls({
            position: config.geoMan.position,
            drawCircleMarker: config.geoMan.drawCircleMarker,
            rotateMode: config.geoMan.rotateMode,
            drawMarker: config.geoMan.drawMarker,
            drawPolygon: config.geoMan.drawPolygon,
            drawPolyline: config.geoMan.drawPolyline,
            drawCircle: config.geoMan.drawCircle,
            editMode: config.geoMan.editMode,
            dragMode: config.geoMan.dragMode,
            cutPolygon: config.geoMan.cutPolygon,
            editPolygon: config.geoMan.editPolygon,
            deleteLayer: config.geoMan.deleteLayer
          });
          this.drawItems = new LF.FeatureGroup().addTo(this.map);
          this.map.on("pm:create", (e) => {
            if (e.layer && e.layer.pm) {
              e.layer.pm.enable();
              this.drawItems.addLayer(e.layer);
              this.updateGeoJson();
            }
          });
          this.map.on("pm:edit", () => {
            this.updateGeoJson();
          });
          this.map.on("pm:remove", (e) => {
            try {
              this.drawItems.removeLayer(e.layer);
              this.updateGeoJson();
            } catch (error) {
              console.error("Error during removal of layer:", error);
            }
          });
          const existingGeoJson = this.getGeoJson();
          if (existingGeoJson) {
            this.drawItems = LF.geoJSON(existingGeoJson, {
              pointToLayer: (feature, latlng) => {
                return LF.circleMarker(latlng, {
                  radius: 15,
                  color: "#3388ff",
                  fillColor: "#3388ff",
                  fillOpacity: 0.6
                });
              },
              style: function(feature) {
                if (feature.geometry.type === "Polygon") {
                  return {
                    color: config.geoMan.color || "#3388ff",
                    fillColor: config.geoMan.filledColor || "blue",
                    weight: 2,
                    fillOpacity: 0.4
                  };
                }
              },
              onEachFeature: (feature, layer) => {
                if (feature.geometry.type === "Polygon") {
                  layer.bindPopup("Polygon Area");
                } else if (feature.geometry.type === "Point") {
                  layer.bindPopup("Point Location");
                }
                if (config.geoMan.editable) {
                  if (feature.geometry.type === "Polygon") {
                    layer.pm.enable({
                      allowSelfIntersection: false
                    });
                  } else if (feature.geometry.type === "Point") {
                    layer.pm.enable({
                      draggable: true
                    });
                  }
                }
                layer.on("pm:edit", () => {
                  this.updateGeoJson();
                });
              }
            }).addTo(this.map);
            if (config.geoMan.editable) {
              this.drawItems.eachLayer((layer) => {
                layer.pm.enable({
                  allowSelfIntersection: false
                });
              });
            }
            this.map.fitBounds(this.drawItems.getBounds());
          }
        }
      },
      initFormRestoration: function() {
        this.formRestorationHiddenInput = document.getElementById(config.statePath + "_fmrest");
        window.addEventListener("pageshow", (event) => {
          let restoredState = this.getFormRestorationState();
          if (restoredState) {
            let coords = new LF.LatLng(restoredState.lat, restoredState.lng);
            config.zoom = restoredState.zoom;
            config.controls.zoom = restoredState.zoom;
            this.setCoordinates(coords);
          }
        });
      },
      setFormRestorationState: function(coords, zoom) {
        if (!coords) {
          coords = this.getFormRestorationState();
          if (!coords) {
            coords = this.getCoordinates();
          }
        }
        if (this.map) {
          if (!zoom) {
            coords.zoom = this.map.getZoom();
          } else {
            coords.zoom = zoom;
          }
        }
        this.formRestorationHiddenInput.value = JSON.stringify(coords);
      },
      getFormRestorationState: function() {
        if (this.formRestorationHiddenInput.value)
          return JSON.parse(this.formRestorationHiddenInput.value);
        return false;
      },
      updateGeoJson: function() {
        try {
          const geoJsonData = this.drawItems.toGeoJSON();
          if (typeof geoJsonData !== "object") {
            console.error("GeoJSON data is not an object:", geoJsonData);
            return;
          }
          $wire.set(config.statePath, {
            ...$wire.get(config.statePath),
            geojson: geoJsonData
          }, true);
        } catch (error) {
          console.error("Error updating GeoJSON:", error);
        }
      },
      getGeoJson: function() {
        const state2 = $wire.get(config.statePath) ?? {};
        return state2.geojson;
      },
      updateLocation: function() {
        let oldCoordinates = this.getCoordinates();
        let currentCoordinates = this.map.getCenter();
        if (config.clickable)
          currentCoordinates = this.marker.getLatLng();
        if (oldCoordinates.lng !== currentCoordinates.lng || oldCoordinates.lat !== currentCoordinates.lat) {
          this.setCoordinates(currentCoordinates);
        }
      },
      removeMap: function(el) {
        if (this.marker) {
          this.marker.remove();
          this.marker = null;
        }
        this.tile.remove();
        this.tile = null;
        this.map.off();
        this.map.remove();
        this.map = null;
      },
      getCoordinates: function() {
        let location = $wire.get(config.statePath) ?? {};
        const hasValidCoordinates = location.hasOwnProperty("lat") && location.hasOwnProperty("lng") && location.lat !== null && location.lng !== null;
        if (!hasValidCoordinates) {
          location = {
            lat: config.default.lat,
            lng: config.default.lng
          };
        }
        return location;
      },
      setCoordinates: function(coords) {
        this.setFormRestorationState(coords);
        $wire.set(config.statePath, {
          ...$wire.get(config.statePath),
          lat: coords.lat,
          lng: coords.lng
        }, false);
        if (config.liveLocation.send) {
          $wire.$refresh();
        }
        this.updateMarker();
        return coords;
      },
      attach: function(el) {
        this.createMap(el);
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.intersectionRatio > 0) {
              if (!this.map)
                this.createMap(el);
            } else {
              this.removeMap(el);
            }
          });
        }, {
          root: null,
          rootMargin: "0px",
          threshold: 1
        });
        observer.observe(el);
      },
      fetchCurrentLocation: function() {
        if ("geolocation" in navigator) {
          navigator.geolocation.getCurrentPosition(async (position) => {
            const currentPosition = new LF.LatLng(position.coords.latitude, position.coords.longitude);
            await this.map.flyTo(currentPosition);
            this.updateLocation();
            this.updateMarker();
          }, (error) => {
            console.error("Error fetching current location:", error);
          });
        } else {
          alert("Geolocation is not supported by this browser.");
        }
      },
      addLocationButton: function() {
        const locationButton = document.createElement("button");
        locationButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 0C8.25 0 5 3.25 5 7c0 5.25 7 13 7 13s7-7.75 7-13c0-3.75-3.25-7-7-7zm0 10c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm0-5c-1.11 0-2 .89-2 2s.89 2 2 2 2-.89 2-2-.89-2-2-2z"/></svg>';
        locationButton.type = "button";
        locationButton.classList.add("map-location-button");
        locationButton.onclick = () => this.fetchCurrentLocation();
        this.map.getContainer().appendChild(locationButton);
      },
      setMarkerRange: function() {
        if (config.clickable && !this.marker)
          return;
        if (!this.rangeSelectField)
          return;
        distance = parseInt(this.rangeSelectField.value || 0);
        if (this.rangeCircle) {
          this.rangeCircle.setLatLng(this.getCoordinates()).setRadius(distance);
        } else {
          this.rangeCircle = LF.circle(this.getCoordinates(), {
            color: "blue",
            fillColor: "#f03",
            fillOpacity: 0.5,
            radius: distance
            // The radius in meters
          }).addTo(this.map);
        }
      },
      init: function() {
        this.$wire = $wire;
        this.config = config;
        this.state = state;
        this.rangeSelectField = document.getElementById(config.rangeSelectField);
        this.initFormRestoration();
        let that = this;
        if (this.rangeSelectField) {
          this.rangeSelectField.addEventListener("change", function() {
            that.updateMarker();
          });
        }
        $wire.on("refreshMap", this.refreshMap.bind(this));
      },
      updateMarker: function() {
        if (config.showMarker && this.marker) {
          this.marker.setLatLng(this.getCoordinates());
          this.setMarkerRange();
          setTimeout(() => this.updateLocation(), 500);
        }
      },
      refreshMap: function() {
        this.map.flyTo(this.getCoordinates());
        this.updateMarker();
      }
    };
  };
  window.mapPicker = mapPicker;
  window.dispatchEvent(new CustomEvent("map-script-loaded"));
});
/*! Bundled license information:

leaflet/dist/leaflet-src.js:
  (* @preserve
   * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
   * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvcmUvVXRpbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29yZS9DbGFzcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29yZS9FdmVudHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlb21ldHJ5L1BvaW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW9tZXRyeS9Cb3VuZHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9MYXRMbmdCb3VuZHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9MYXRMbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9jcnMvQ1JTLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW8vY3JzL0NSUy5FYXJ0aC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL3Byb2plY3Rpb24vUHJvamVjdGlvbi5TcGhlcmljYWxNZXJjYXRvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvbWV0cnkvVHJhbnNmb3JtYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9jcnMvQ1JTLkVQU0czODU3LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci92ZWN0b3IvU1ZHLlV0aWwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvcmUvQnJvd3Nlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZG9tL0RvbUV2ZW50LlBvaW50ZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9Eb21FdmVudC5Eb3VibGVUYXAuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9Eb21VdGlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9kb20vRG9tRXZlbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9Qb3NBbmltYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9NYXAuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvbnRyb2wvQ29udHJvbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29udHJvbC9Db250cm9sLkxheWVycy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29udHJvbC9Db250cm9sLlpvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvbnRyb2wvQ29udHJvbC5TY2FsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29udHJvbC9Db250cm9sLkF0dHJpYnV0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9jb250cm9sL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9jb3JlL0hhbmRsZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvcmUvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9EcmFnZ2FibGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlb21ldHJ5L1BvbHlVdGlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW9tZXRyeS9MaW5lVXRpbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL3Byb2plY3Rpb24vUHJvamVjdGlvbi5Mb25MYXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9wcm9qZWN0aW9uL1Byb2plY3Rpb24uTWVyY2F0b3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9wcm9qZWN0aW9uL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW8vY3JzL0NSUy5FUFNHMzM5NS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL2Nycy9DUlMuRVBTRzQzMjYuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9jcnMvQ1JTLlNpbXBsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL2Nycy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvTGF5ZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0xheWVyR3JvdXAuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0ZlYXR1cmVHcm91cC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvbWFya2VyL0ljb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL21hcmtlci9JY29uLkRlZmF1bHQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL21hcmtlci9NYXJrZXIuRHJhZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvbWFya2VyL01hcmtlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1BhdGguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9DaXJjbGVNYXJrZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9DaXJjbGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9Qb2x5bGluZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1BvbHlnb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0dlb0pTT04uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0ltYWdlT3ZlcmxheS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvVmlkZW9PdmVybGF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9TVkdPdmVybGF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9EaXZPdmVybGF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9Qb3B1cC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvVG9vbHRpcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvbWFya2VyL0Rpdkljb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL21hcmtlci9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdGlsZS9HcmlkTGF5ZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3RpbGUvVGlsZUxheWVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci90aWxlL1RpbGVMYXllci5XTVMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3RpbGUvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9SZW5kZXJlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL0NhbnZhcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1NWRy5WTUwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9TVkcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9SZW5kZXJlci5nZXRSZW5kZXJlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1JlY3RhbmdsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbWFwL2hhbmRsZXIvTWFwLkJveFpvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5Eb3VibGVDbGlja1pvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5EcmFnLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9tYXAvaGFuZGxlci9NYXAuS2V5Ym9hcmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5TY3JvbGxXaGVlbFpvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5UYXBIb2xkLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9tYXAvaGFuZGxlci9NYXAuVG91Y2hab29tLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9tYXAvaW5kZXguanMiLCAiLi4vanMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQtZnVsbHNjcmVlbi9kaXN0L0xlYWZsZXQuZnVsbHNjcmVlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVDbGVhci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2VxLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc29jSW5kZXhPZi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVEZWxldGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlR2V0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZUhhcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVTZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fTGlzdENhY2hlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0YWNrQ2xlYXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tEZWxldGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tHZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tIYXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1N5bWJvbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fb2JqZWN0VG9TdHJpbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldFRhZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNGdW5jdGlvbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3JlSnNEYXRhLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzTWFza2VkLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3RvU291cmNlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc05hdGl2ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRWYWx1ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXROYXRpdmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25hdGl2ZUNyZWF0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoQ2xlYXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaERlbGV0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoR2V0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc2hIYXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaFNldC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19IYXNoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlQ2xlYXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNLZXlhYmxlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldE1hcERhdGEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVEZWxldGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVHZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVIYXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVTZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwQ2FjaGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tTZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3RhY2suanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZGVmaW5lUHJvcGVydHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUFzc2lnblZhbHVlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc2lnbk1lcmdlVmFsdWUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fY3JlYXRlQmFzZUZvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlRm9yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nsb25lQnVmZmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1VpbnQ4QXJyYXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fY2xvbmVBcnJheUJ1ZmZlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19jbG9uZVR5cGVkQXJyYXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29weUFycmF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VDcmVhdGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fb3ZlckFyZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNQcm90b3R5cGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faW5pdENsb25lT2JqZWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc0FyZ3VtZW50cy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJndW1lbnRzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzTGVuZ3RoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheUxpa2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5TGlrZU9iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL3N0dWJGYWxzZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQnVmZmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNUeXBlZEFycmF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VVbmFyeS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19ub2RlVXRpbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzVHlwZWRBcnJheS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19zYWZlR2V0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc2lnblZhbHVlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvcHlPYmplY3QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVRpbWVzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzSW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlMaWtlS2V5cy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19uYXRpdmVLZXlzSW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUtleXNJbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2tleXNJbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL3RvUGxhaW5PYmplY3QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZU1lcmdlRGVlcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlTWVyZ2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9pZGVudGl0eS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19hcHBseS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyUmVzdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2NvbnN0YW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VTZXRUb1N0cmluZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19zaG9ydE91dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRUb1N0cmluZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUmVzdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0l0ZXJhdGVlQ2FsbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19jcmVhdGVBc3NpZ25lci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL21lcmdlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNTeW1ib2wuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNLZXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9tZW1vaXplLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21lbW9pemVDYXBwZWQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RyaW5nVG9QYXRoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FycmF5TWFwLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VUb1N0cmluZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL3RvU3RyaW5nLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nhc3RQYXRoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3RvS2V5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VHZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9nZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vcmJ1c2hAMy4wLjEvbm9kZV9tb2R1bGVzL3JidXNoL3JidXNoLm1pbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitoZWxwZXJzQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9oZWxwZXJzL2Rpc3QvanMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrbWV0YUA2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvbWV0YS9kaXN0L2pzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2Jib3hANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Jib3gvZGlzdC9qcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9nZW9qc29uLXJidXNoQDMuMi4wL25vZGVfbW9kdWxlcy9nZW9qc29uLXJidXNoL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL3BvbHlmaWxscy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3BhY2thZ2UuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9MLlBNLk1hcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2VuLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9kZS5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvaXQuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2lkLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9yby5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvcnUuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2VzLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9ubC5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvZnIuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL3poLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy96aF90dy5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvcHRfYnIuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL3B0X3B0Lmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9wbC5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvc3YuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2VsLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9odS5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvZGEuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL25vLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9mYS5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvdWEuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL3RyLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9jei5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvamEuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2ZpLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9rby5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMva3kuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9Nb2Rlcy9Nb2RlLkVkaXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvTWl4aW5zL01vZGVzL01vZGUuRHJhZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvTW9kZXMvTW9kZS5SZW1vdmFsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9Nb2Rlcy9Nb2RlLlJvdGF0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvRXZlbnRzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9LZXlib2FyZC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9oZWxwZXJzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL1Rvb2xiYXIvTC5Db250cm9scy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9Ub29sYmFyL0wuUE0uVG9vbGJhci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvU25hcHBpbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRHJhdy9MLlBNLkRyYXcuTWFya2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2hlbHBlcnNANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2hlbHBlcnMvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitraW5rc0A2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYva2lua3MvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5MaW5lLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0RyYXcvTC5QTS5EcmF3LlBvbHlnb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRHJhdy9MLlBNLkRyYXcuUmVjdGFuZ2xlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0RyYXcvTC5QTS5EcmF3LkNpcmNsZU1hcmtlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5DaXJjbGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYraW52YXJpYW50QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9pbnZhcmlhbnQvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZittZXRhQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9tZXRhL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrbGluZS1zZWdtZW50QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9saW5lLXNlZ21lbnQvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitsaW5lLWludGVyc2VjdEA2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvbGluZS1pbnRlcnNlY3QvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitsaW5lLXNwbGl0QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9saW5lLXNwbGl0L2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrZGlzdGFuY2VANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Rpc3RhbmNlL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrc3F1YXJlQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9zcXVhcmUvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitiYm94QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9iYm94L2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrdHJ1bmNhdGVANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL3RydW5jYXRlL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrYmVhcmluZ0A2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvYmVhcmluZy9kaXN0L2VzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2Rlc3RpbmF0aW9uQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9kZXN0aW5hdGlvbi9kaXN0L2VzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK25lYXJlc3QtcG9pbnQtb24tbGluZUA2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvbmVhcmVzdC1wb2ludC1vbi1saW5lL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrYm9vbGVhbi1wb2ludC1pbi1wb2x5Z29uQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9ib29sZWFuLXBvaW50LWluLXBvbHlnb24vZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitib29sZWFuLXBvaW50LW9uLWxpbmVANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Jvb2xlYW4tcG9pbnQtb24tbGluZS9kaXN0L2VzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2Jvb2xlYW4tY29udGFpbnNANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Jvb2xlYW4tY29udGFpbnMvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5DdXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vcG9seWNsaXAtdHNAMC4xNi41L25vZGVfbW9kdWxlcy9wb2x5Y2xpcC10cy9kaXN0L2NvbnN0YW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9jb21wYXJlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9vcmllbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vYmlnbnVtYmVyLmpzQDkuMS4yL25vZGVfbW9kdWxlcy9iaWdudW1iZXIuanMvYmlnbnVtYmVyLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9zcGxheXRyZWUtdHNAMS4wLjEvbm9kZV9tb2R1bGVzL3NwbGF5dHJlZS10cy9kaXN0L2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9pZGVudGl0eS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3Qvc25hcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3QvcHJlY2lzaW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9iYm94LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC92ZWN0b3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vcG9seWNsaXAtdHNAMC4xNi41L25vZGVfbW9kdWxlcy9wb2x5Y2xpcC10cy9kaXN0L3N3ZWVwLWV2ZW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9zZWdtZW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9nZW9tLWluLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9nZW9tLW91dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3Qvc3dlZXAtbGluZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3Qvb3BlcmF0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9oZWxwZXJzL3R1cmZIZWxwZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRHJhdy9MLlBNLkRyYXcuVGV4dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvRHJhZ2dpbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvTWl4aW5zL1JvdGF0aW5nLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL2hlbHBlcnMvTW9kZUhlbHBlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5MYXllckdyb3VwLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0VkaXQvTC5QTS5FZGl0Lk1hcmtlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5MaW5lLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9NYXJrZXJMaW1pdHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRWRpdC9MLlBNLkVkaXQuUG9seWdvbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5SZWN0YW5nbGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRWRpdC9MLlBNLkVkaXQuQ2lyY2xlTWFya2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0VkaXQvTC5QTS5FZGl0LkNpcmNsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5JbWFnZU92ZXJsYXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRWRpdC9MLlBNLkVkaXQuVGV4dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9oZWxwZXJzL01hdHJpeC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9MLlBNLlV0aWxzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0wuUE0uanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qXHJcbiAqIEBuYW1lc3BhY2UgVXRpbFxyXG4gKlxyXG4gKiBWYXJpb3VzIHV0aWxpdHkgZnVuY3Rpb25zLCB1c2VkIGJ5IExlYWZsZXQgaW50ZXJuYWxseS5cclxuICovXHJcblxyXG4vLyBAZnVuY3Rpb24gZXh0ZW5kKGRlc3Q6IE9iamVjdCwgc3JjPzogT2JqZWN0KTogT2JqZWN0XHJcbi8vIE1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgYHNyY2Agb2JqZWN0IChvciBtdWx0aXBsZSBvYmplY3RzKSBpbnRvIGBkZXN0YCBvYmplY3QgYW5kIHJldHVybnMgdGhlIGxhdHRlci4gSGFzIGFuIGBMLmV4dGVuZGAgc2hvcnRjdXQuXHJcbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoZGVzdCkge1xyXG5cdHZhciBpLCBqLCBsZW4sIHNyYztcclxuXHJcblx0Zm9yIChqID0gMSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XHJcblx0XHRzcmMgPSBhcmd1bWVudHNbal07XHJcblx0XHRmb3IgKGkgaW4gc3JjKSB7XHJcblx0XHRcdGRlc3RbaV0gPSBzcmNbaV07XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBkZXN0O1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gY3JlYXRlKHByb3RvOiBPYmplY3QsIHByb3BlcnRpZXM/OiBPYmplY3QpOiBPYmplY3RcclxuLy8gQ29tcGF0aWJpbGl0eSBwb2x5ZmlsbCBmb3IgW09iamVjdC5jcmVhdGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGUpXHJcbmV4cG9ydCB2YXIgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCAoZnVuY3Rpb24gKCkge1xyXG5cdGZ1bmN0aW9uIEYoKSB7fVxyXG5cdHJldHVybiBmdW5jdGlvbiAocHJvdG8pIHtcclxuXHRcdEYucHJvdG90eXBlID0gcHJvdG87XHJcblx0XHRyZXR1cm4gbmV3IEYoKTtcclxuXHR9O1xyXG59KSgpO1xyXG5cclxuLy8gQGZ1bmN0aW9uIGJpbmQoZm46IEZ1bmN0aW9uLCDigKYpOiBGdW5jdGlvblxyXG4vLyBSZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIGJvdW5kIHRvIHRoZSBhcmd1bWVudHMgcGFzc2VkLCBsaWtlIFtGdW5jdGlvbi5wcm90b3R5cGUuYmluZF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vYmluZCkuXHJcbi8vIEhhcyBhIGBMLmJpbmQoKWAgc2hvcnRjdXQuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaW5kKGZuLCBvYmopIHtcclxuXHR2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XHJcblxyXG5cdGlmIChmbi5iaW5kKSB7XHJcblx0XHRyZXR1cm4gZm4uYmluZC5hcHBseShmbiwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcclxuXHR9XHJcblxyXG5cdHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIGZuLmFwcGx5KG9iaiwgYXJncy5sZW5ndGggPyBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpIDogYXJndW1lbnRzKTtcclxuXHR9O1xyXG59XHJcblxyXG4vLyBAcHJvcGVydHkgbGFzdElkOiBOdW1iZXJcclxuLy8gTGFzdCB1bmlxdWUgSUQgdXNlZCBieSBbYHN0YW1wKClgXSgjdXRpbC1zdGFtcClcclxuZXhwb3J0IHZhciBsYXN0SWQgPSAwO1xyXG5cclxuLy8gQGZ1bmN0aW9uIHN0YW1wKG9iajogT2JqZWN0KTogTnVtYmVyXHJcbi8vIFJldHVybnMgdGhlIHVuaXF1ZSBJRCBvZiBhbiBvYmplY3QsIGFzc2lnbmluZyBpdCBvbmUgaWYgaXQgZG9lc24ndCBoYXZlIGl0LlxyXG5leHBvcnQgZnVuY3Rpb24gc3RhbXAob2JqKSB7XHJcblx0aWYgKCEoJ19sZWFmbGV0X2lkJyBpbiBvYmopKSB7XHJcblx0XHRvYmpbJ19sZWFmbGV0X2lkJ10gPSArK2xhc3RJZDtcclxuXHR9XHJcblx0cmV0dXJuIG9iai5fbGVhZmxldF9pZDtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHRocm90dGxlKGZuOiBGdW5jdGlvbiwgdGltZTogTnVtYmVyLCBjb250ZXh0OiBPYmplY3QpOiBGdW5jdGlvblxyXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggZXhlY3V0ZXMgZnVuY3Rpb24gYGZuYCB3aXRoIHRoZSBnaXZlbiBzY29wZSBgY29udGV4dGBcclxuLy8gKHNvIHRoYXQgdGhlIGB0aGlzYCBrZXl3b3JkIHJlZmVycyB0byBgY29udGV4dGAgaW5zaWRlIGBmbmAncyBjb2RlKS4gVGhlIGZ1bmN0aW9uXHJcbi8vIGBmbmAgd2lsbCBiZSBjYWxsZWQgbm8gbW9yZSB0aGFuIG9uZSB0aW1lIHBlciBnaXZlbiBhbW91bnQgb2YgYHRpbWVgLiBUaGUgYXJndW1lbnRzXHJcbi8vIHJlY2VpdmVkIGJ5IHRoZSBib3VuZCBmdW5jdGlvbiB3aWxsIGJlIGFueSBhcmd1bWVudHMgcGFzc2VkIHdoZW4gYmluZGluZyB0aGVcclxuLy8gZnVuY3Rpb24sIGZvbGxvd2VkIGJ5IGFueSBhcmd1bWVudHMgcGFzc2VkIHdoZW4gaW52b2tpbmcgdGhlIGJvdW5kIGZ1bmN0aW9uLlxyXG4vLyBIYXMgYW4gYEwudGhyb3R0bGVgIHNob3J0Y3V0LlxyXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGUoZm4sIHRpbWUsIGNvbnRleHQpIHtcclxuXHR2YXIgbG9jaywgYXJncywgd3JhcHBlckZuLCBsYXRlcjtcclxuXHJcblx0bGF0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyByZXNldCBsb2NrIGFuZCBjYWxsIGlmIHF1ZXVlZFxyXG5cdFx0bG9jayA9IGZhbHNlO1xyXG5cdFx0aWYgKGFyZ3MpIHtcclxuXHRcdFx0d3JhcHBlckZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG5cdFx0XHRhcmdzID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0d3JhcHBlckZuID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKGxvY2spIHtcclxuXHRcdFx0Ly8gY2FsbGVkIHRvbyBzb29uLCBxdWV1ZSB0byBjYWxsIGxhdGVyXHJcblx0XHRcdGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gY2FsbCBhbmQgbG9jayB1bnRpbCBsYXRlclxyXG5cdFx0XHRmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KGxhdGVyLCB0aW1lKTtcclxuXHRcdFx0bG9jayA9IHRydWU7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIHdyYXBwZXJGbjtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHdyYXBOdW0obnVtOiBOdW1iZXIsIHJhbmdlOiBOdW1iZXJbXSwgaW5jbHVkZU1heD86IEJvb2xlYW4pOiBOdW1iZXJcclxuLy8gUmV0dXJucyB0aGUgbnVtYmVyIGBudW1gIG1vZHVsbyBgcmFuZ2VgIGluIHN1Y2ggYSB3YXkgc28gaXQgbGllcyB3aXRoaW5cclxuLy8gYHJhbmdlWzBdYCBhbmQgYHJhbmdlWzFdYC4gVGhlIHJldHVybmVkIHZhbHVlIHdpbGwgYmUgYWx3YXlzIHNtYWxsZXIgdGhhblxyXG4vLyBgcmFuZ2VbMV1gIHVubGVzcyBgaW5jbHVkZU1heGAgaXMgc2V0IHRvIGB0cnVlYC5cclxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBOdW0oeCwgcmFuZ2UsIGluY2x1ZGVNYXgpIHtcclxuXHR2YXIgbWF4ID0gcmFuZ2VbMV0sXHJcblx0ICAgIG1pbiA9IHJhbmdlWzBdLFxyXG5cdCAgICBkID0gbWF4IC0gbWluO1xyXG5cdHJldHVybiB4ID09PSBtYXggJiYgaW5jbHVkZU1heCA/IHggOiAoKHggLSBtaW4pICUgZCArIGQpICUgZCArIG1pbjtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGZhbHNlRm4oKTogRnVuY3Rpb25cclxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGFsd2F5cyByZXR1cm5zIGBmYWxzZWAuXHJcbmV4cG9ydCBmdW5jdGlvbiBmYWxzZUZuKCkgeyByZXR1cm4gZmFsc2U7IH1cclxuXHJcbi8vIEBmdW5jdGlvbiBmb3JtYXROdW0obnVtOiBOdW1iZXIsIHByZWNpc2lvbj86IE51bWJlcnxmYWxzZSk6IE51bWJlclxyXG4vLyBSZXR1cm5zIHRoZSBudW1iZXIgYG51bWAgcm91bmRlZCB3aXRoIHNwZWNpZmllZCBgcHJlY2lzaW9uYC5cclxuLy8gVGhlIGRlZmF1bHQgYHByZWNpc2lvbmAgdmFsdWUgaXMgNiBkZWNpbWFsIHBsYWNlcy5cclxuLy8gYGZhbHNlYCBjYW4gYmUgcGFzc2VkIHRvIHNraXAgYW55IHByb2Nlc3NpbmcgKGNhbiBiZSB1c2VmdWwgdG8gYXZvaWQgcm91bmQtb2ZmIGVycm9ycykuXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXROdW0obnVtLCBwcmVjaXNpb24pIHtcclxuXHRpZiAocHJlY2lzaW9uID09PSBmYWxzZSkgeyByZXR1cm4gbnVtOyB9XHJcblx0dmFyIHBvdyA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24gPT09IHVuZGVmaW5lZCA/IDYgOiBwcmVjaXNpb24pO1xyXG5cdHJldHVybiBNYXRoLnJvdW5kKG51bSAqIHBvdykgLyBwb3c7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiB0cmltKHN0cjogU3RyaW5nKTogU3RyaW5nXHJcbi8vIENvbXBhdGliaWxpdHkgcG9seWZpbGwgZm9yIFtTdHJpbmcucHJvdG90eXBlLnRyaW1dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9UcmltKVxyXG5leHBvcnQgZnVuY3Rpb24gdHJpbShzdHIpIHtcclxuXHRyZXR1cm4gc3RyLnRyaW0gPyBzdHIudHJpbSgpIDogc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHNwbGl0V29yZHMoc3RyOiBTdHJpbmcpOiBTdHJpbmdbXVxyXG4vLyBUcmltcyBhbmQgc3BsaXRzIHRoZSBzdHJpbmcgb24gd2hpdGVzcGFjZSBhbmQgcmV0dXJucyB0aGUgYXJyYXkgb2YgcGFydHMuXHJcbmV4cG9ydCBmdW5jdGlvbiBzcGxpdFdvcmRzKHN0cikge1xyXG5cdHJldHVybiB0cmltKHN0cikuc3BsaXQoL1xccysvKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHNldE9wdGlvbnMob2JqOiBPYmplY3QsIG9wdGlvbnM6IE9iamVjdCk6IE9iamVjdFxyXG4vLyBNZXJnZXMgdGhlIGdpdmVuIHByb3BlcnRpZXMgdG8gdGhlIGBvcHRpb25zYCBvZiB0aGUgYG9iamAgb2JqZWN0LCByZXR1cm5pbmcgdGhlIHJlc3VsdGluZyBvcHRpb25zLiBTZWUgYENsYXNzIG9wdGlvbnNgLiBIYXMgYW4gYEwuc2V0T3B0aW9uc2Agc2hvcnRjdXQuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRPcHRpb25zKG9iaiwgb3B0aW9ucykge1xyXG5cdGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgJ29wdGlvbnMnKSkge1xyXG5cdFx0b2JqLm9wdGlvbnMgPSBvYmoub3B0aW9ucyA/IGNyZWF0ZShvYmoub3B0aW9ucykgOiB7fTtcclxuXHR9XHJcblx0Zm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XHJcblx0XHRvYmoub3B0aW9uc1tpXSA9IG9wdGlvbnNbaV07XHJcblx0fVxyXG5cdHJldHVybiBvYmoub3B0aW9ucztcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGdldFBhcmFtU3RyaW5nKG9iajogT2JqZWN0LCBleGlzdGluZ1VybD86IFN0cmluZywgdXBwZXJjYXNlPzogQm9vbGVhbik6IFN0cmluZ1xyXG4vLyBDb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIHBhcmFtZXRlciBVUkwgc3RyaW5nLCBlLmcuIGB7YTogXCJmb29cIiwgYjogXCJiYXJcIn1gXHJcbi8vIHRyYW5zbGF0ZXMgdG8gYCc/YT1mb28mYj1iYXInYC4gSWYgYGV4aXN0aW5nVXJsYCBpcyBzZXQsIHRoZSBwYXJhbWV0ZXJzIHdpbGxcclxuLy8gYmUgYXBwZW5kZWQgYXQgdGhlIGVuZC4gSWYgYHVwcGVyY2FzZWAgaXMgYHRydWVgLCB0aGUgcGFyYW1ldGVyIG5hbWVzIHdpbGxcclxuLy8gYmUgdXBwZXJjYXNlZCAoZS5nLiBgJz9BPWZvbyZCPWJhcidgKVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyYW1TdHJpbmcob2JqLCBleGlzdGluZ1VybCwgdXBwZXJjYXNlKSB7XHJcblx0dmFyIHBhcmFtcyA9IFtdO1xyXG5cdGZvciAodmFyIGkgaW4gb2JqKSB7XHJcblx0XHRwYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQodXBwZXJjYXNlID8gaS50b1VwcGVyQ2FzZSgpIDogaSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW2ldKSk7XHJcblx0fVxyXG5cdHJldHVybiAoKCFleGlzdGluZ1VybCB8fCBleGlzdGluZ1VybC5pbmRleE9mKCc/JykgPT09IC0xKSA/ICc/JyA6ICcmJykgKyBwYXJhbXMuam9pbignJicpO1xyXG59XHJcblxyXG52YXIgdGVtcGxhdGVSZSA9IC9cXHsgKihbXFx3XyAtXSspICpcXH0vZztcclxuXHJcbi8vIEBmdW5jdGlvbiB0ZW1wbGF0ZShzdHI6IFN0cmluZywgZGF0YTogT2JqZWN0KTogU3RyaW5nXHJcbi8vIFNpbXBsZSB0ZW1wbGF0aW5nIGZhY2lsaXR5LCBhY2NlcHRzIGEgdGVtcGxhdGUgc3RyaW5nIG9mIHRoZSBmb3JtIGAnSGVsbG8ge2F9LCB7Yn0nYFxyXG4vLyBhbmQgYSBkYXRhIG9iamVjdCBsaWtlIGB7YTogJ2ZvbycsIGI6ICdiYXInfWAsIHJldHVybnMgZXZhbHVhdGVkIHN0cmluZ1xyXG4vLyBgKCdIZWxsbyBmb28sIGJhcicpYC4gWW91IGNhbiBhbHNvIHNwZWNpZnkgZnVuY3Rpb25zIGluc3RlYWQgb2Ygc3RyaW5ncyBmb3JcclxuLy8gZGF0YSB2YWx1ZXMg4oCUIHRoZXkgd2lsbCBiZSBldmFsdWF0ZWQgcGFzc2luZyBgZGF0YWAgYXMgYW4gYXJndW1lbnQuXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZShzdHIsIGRhdGEpIHtcclxuXHRyZXR1cm4gc3RyLnJlcGxhY2UodGVtcGxhdGVSZSwgZnVuY3Rpb24gKHN0ciwga2V5KSB7XHJcblx0XHR2YXIgdmFsdWUgPSBkYXRhW2tleV07XHJcblxyXG5cdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdObyB2YWx1ZSBwcm92aWRlZCBmb3IgdmFyaWFibGUgJyArIHN0cik7XHJcblxyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0dmFsdWUgPSB2YWx1ZShkYXRhKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB2YWx1ZTtcclxuXHR9KTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGlzQXJyYXkob2JqKTogQm9vbGVhblxyXG4vLyBDb21wYXRpYmlsaXR5IHBvbHlmaWxsIGZvciBbQXJyYXkuaXNBcnJheV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaXNBcnJheSlcclxuZXhwb3J0IHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAob2JqKSB7XHJcblx0cmV0dXJuIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJyk7XHJcbn07XHJcblxyXG4vLyBAZnVuY3Rpb24gaW5kZXhPZihhcnJheTogQXJyYXksIGVsOiBPYmplY3QpOiBOdW1iZXJcclxuLy8gQ29tcGF0aWJpbGl0eSBwb2x5ZmlsbCBmb3IgW0FycmF5LnByb3RvdHlwZS5pbmRleE9mXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmRleE9mKVxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgZWwpIHtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAoYXJyYXlbaV0gPT09IGVsKSB7IHJldHVybiBpOyB9XHJcblx0fVxyXG5cdHJldHVybiAtMTtcclxufVxyXG5cclxuLy8gQHByb3BlcnR5IGVtcHR5SW1hZ2VVcmw6IFN0cmluZ1xyXG4vLyBEYXRhIFVSSSBzdHJpbmcgY29udGFpbmluZyBhIGJhc2U2NC1lbmNvZGVkIGVtcHR5IEdJRiBpbWFnZS5cclxuLy8gVXNlZCBhcyBhIGhhY2sgdG8gZnJlZSBtZW1vcnkgZnJvbSB1bnVzZWQgaW1hZ2VzIG9uIFdlYktpdC1wb3dlcmVkXHJcbi8vIG1vYmlsZSBkZXZpY2VzIChieSBzZXR0aW5nIGltYWdlIGBzcmNgIHRvIHRoaXMgc3RyaW5nKS5cclxuZXhwb3J0IHZhciBlbXB0eUltYWdlVXJsID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUQvQUN3QUFBQUFBUUFCQUFBQ0FEcz0nO1xyXG5cclxuLy8gaW5zcGlyZWQgYnkgaHR0cHM6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXHJcblxyXG5mdW5jdGlvbiBnZXRQcmVmaXhlZChuYW1lKSB7XHJcblx0cmV0dXJuIHdpbmRvd1snd2Via2l0JyArIG5hbWVdIHx8IHdpbmRvd1snbW96JyArIG5hbWVdIHx8IHdpbmRvd1snbXMnICsgbmFtZV07XHJcbn1cclxuXHJcbnZhciBsYXN0VGltZSA9IDA7XHJcblxyXG4vLyBmYWxsYmFjayBmb3IgSUUgNy04XHJcbmZ1bmN0aW9uIHRpbWVvdXREZWZlcihmbikge1xyXG5cdHZhciB0aW1lID0gK25ldyBEYXRlKCksXHJcblx0ICAgIHRpbWVUb0NhbGwgPSBNYXRoLm1heCgwLCAxNiAtICh0aW1lIC0gbGFzdFRpbWUpKTtcclxuXHJcblx0bGFzdFRpbWUgPSB0aW1lICsgdGltZVRvQ2FsbDtcclxuXHRyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZm4sIHRpbWVUb0NhbGwpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIHJlcXVlc3RGbiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZ2V0UHJlZml4ZWQoJ1JlcXVlc3RBbmltYXRpb25GcmFtZScpIHx8IHRpbWVvdXREZWZlcjtcclxuZXhwb3J0IHZhciBjYW5jZWxGbiA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCBnZXRQcmVmaXhlZCgnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnKSB8fFxyXG5cdFx0Z2V0UHJlZml4ZWQoJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZScpIHx8IGZ1bmN0aW9uIChpZCkgeyB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTsgfTtcclxuXHJcbi8vIEBmdW5jdGlvbiByZXF1ZXN0QW5pbUZyYW1lKGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCwgaW1tZWRpYXRlPzogQm9vbGVhbik6IE51bWJlclxyXG4vLyBTY2hlZHVsZXMgYGZuYCB0byBiZSBleGVjdXRlZCB3aGVuIHRoZSBicm93c2VyIHJlcGFpbnRzLiBgZm5gIGlzIGJvdW5kIHRvXHJcbi8vIGBjb250ZXh0YCBpZiBnaXZlbi4gV2hlbiBgaW1tZWRpYXRlYCBpcyBzZXQsIGBmbmAgaXMgY2FsbGVkIGltbWVkaWF0ZWx5IGlmXHJcbi8vIHRoZSBicm93c2VyIGRvZXNuJ3QgaGF2ZSBuYXRpdmUgc3VwcG9ydCBmb3JcclxuLy8gW2B3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL3dpbmRvdy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLFxyXG4vLyBvdGhlcndpc2UgaXQncyBkZWxheWVkLiBSZXR1cm5zIGEgcmVxdWVzdCBJRCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3RBbmltRnJhbWUoZm4sIGNvbnRleHQsIGltbWVkaWF0ZSkge1xyXG5cdGlmIChpbW1lZGlhdGUgJiYgcmVxdWVzdEZuID09PSB0aW1lb3V0RGVmZXIpIHtcclxuXHRcdGZuLmNhbGwoY29udGV4dCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiByZXF1ZXN0Rm4uY2FsbCh3aW5kb3csIGJpbmQoZm4sIGNvbnRleHQpKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBjYW5jZWxBbmltRnJhbWUoaWQ6IE51bWJlcik6IHVuZGVmaW5lZFxyXG4vLyBDYW5jZWxzIGEgcHJldmlvdXMgYHJlcXVlc3RBbmltRnJhbWVgLiBTZWUgYWxzbyBbd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvd2luZG93L2NhbmNlbEFuaW1hdGlvbkZyYW1lKS5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbEFuaW1GcmFtZShpZCkge1xyXG5cdGlmIChpZCkge1xyXG5cdFx0Y2FuY2VsRm4uY2FsbCh3aW5kb3csIGlkKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi9VdGlsJztcclxuXHJcbi8vIEBjbGFzcyBDbGFzc1xyXG4vLyBAYWthIEwuQ2xhc3NcclxuXHJcbi8vIEBzZWN0aW9uXHJcbi8vIEB1bmluaGVyaXRhYmxlXHJcblxyXG4vLyBUaGFua3MgdG8gSm9obiBSZXNpZyBhbmQgRGVhbiBFZHdhcmRzIGZvciBpbnNwaXJhdGlvbiFcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDbGFzcygpIHt9XHJcblxyXG5DbGFzcy5leHRlbmQgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGV4dGVuZChwcm9wczogT2JqZWN0KTogRnVuY3Rpb25cclxuXHQvLyBbRXh0ZW5kcyB0aGUgY3VycmVudCBjbGFzc10oI2NsYXNzLWluaGVyaXRhbmNlKSBnaXZlbiB0aGUgcHJvcGVydGllcyB0byBiZSBpbmNsdWRlZC5cclxuXHQvLyBSZXR1cm5zIGEgSmF2YXNjcmlwdCBmdW5jdGlvbiB0aGF0IGlzIGEgY2xhc3MgY29uc3RydWN0b3IgKHRvIGJlIGNhbGxlZCB3aXRoIGBuZXdgKS5cclxuXHR2YXIgTmV3Q2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMpO1xyXG5cclxuXHRcdC8vIGNhbGwgdGhlIGNvbnN0cnVjdG9yXHJcblx0XHRpZiAodGhpcy5pbml0aWFsaXplKSB7XHJcblx0XHRcdHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNhbGwgYWxsIGNvbnN0cnVjdG9yIGhvb2tzXHJcblx0XHR0aGlzLmNhbGxJbml0SG9va3MoKTtcclxuXHR9O1xyXG5cclxuXHR2YXIgcGFyZW50UHJvdG8gPSBOZXdDbGFzcy5fX3N1cGVyX18gPSB0aGlzLnByb3RvdHlwZTtcclxuXHJcblx0dmFyIHByb3RvID0gVXRpbC5jcmVhdGUocGFyZW50UHJvdG8pO1xyXG5cdHByb3RvLmNvbnN0cnVjdG9yID0gTmV3Q2xhc3M7XHJcblxyXG5cdE5ld0NsYXNzLnByb3RvdHlwZSA9IHByb3RvO1xyXG5cclxuXHQvLyBpbmhlcml0IHBhcmVudCdzIHN0YXRpY3NcclxuXHRmb3IgKHZhciBpIGluIHRoaXMpIHtcclxuXHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywgaSkgJiYgaSAhPT0gJ3Byb3RvdHlwZScgJiYgaSAhPT0gJ19fc3VwZXJfXycpIHtcclxuXHRcdFx0TmV3Q2xhc3NbaV0gPSB0aGlzW2ldO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gbWl4IHN0YXRpYyBwcm9wZXJ0aWVzIGludG8gdGhlIGNsYXNzXHJcblx0aWYgKHByb3BzLnN0YXRpY3MpIHtcclxuXHRcdFV0aWwuZXh0ZW5kKE5ld0NsYXNzLCBwcm9wcy5zdGF0aWNzKTtcclxuXHR9XHJcblxyXG5cdC8vIG1peCBpbmNsdWRlcyBpbnRvIHRoZSBwcm90b3R5cGVcclxuXHRpZiAocHJvcHMuaW5jbHVkZXMpIHtcclxuXHRcdGNoZWNrRGVwcmVjYXRlZE1peGluRXZlbnRzKHByb3BzLmluY2x1ZGVzKTtcclxuXHRcdFV0aWwuZXh0ZW5kLmFwcGx5KG51bGwsIFtwcm90b10uY29uY2F0KHByb3BzLmluY2x1ZGVzKSk7XHJcblx0fVxyXG5cclxuXHQvLyBtaXggZ2l2ZW4gcHJvcGVydGllcyBpbnRvIHRoZSBwcm90b3R5cGVcclxuXHRVdGlsLmV4dGVuZChwcm90bywgcHJvcHMpO1xyXG5cdGRlbGV0ZSBwcm90by5zdGF0aWNzO1xyXG5cdGRlbGV0ZSBwcm90by5pbmNsdWRlcztcclxuXHJcblx0Ly8gbWVyZ2Ugb3B0aW9uc1xyXG5cdGlmIChwcm90by5vcHRpb25zKSB7XHJcblx0XHRwcm90by5vcHRpb25zID0gcGFyZW50UHJvdG8ub3B0aW9ucyA/IFV0aWwuY3JlYXRlKHBhcmVudFByb3RvLm9wdGlvbnMpIDoge307XHJcblx0XHRVdGlsLmV4dGVuZChwcm90by5vcHRpb25zLCBwcm9wcy5vcHRpb25zKTtcclxuXHR9XHJcblxyXG5cdHByb3RvLl9pbml0SG9va3MgPSBbXTtcclxuXHJcblx0Ly8gYWRkIG1ldGhvZCBmb3IgY2FsbGluZyBhbGwgaG9va3NcclxuXHRwcm90by5jYWxsSW5pdEhvb2tzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdGlmICh0aGlzLl9pbml0SG9va3NDYWxsZWQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0aWYgKHBhcmVudFByb3RvLmNhbGxJbml0SG9va3MpIHtcclxuXHRcdFx0cGFyZW50UHJvdG8uY2FsbEluaXRIb29rcy5jYWxsKHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2luaXRIb29rc0NhbGxlZCA9IHRydWU7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHByb3RvLl9pbml0SG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0cHJvdG8uX2luaXRIb29rc1tpXS5jYWxsKHRoaXMpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdHJldHVybiBOZXdDbGFzcztcclxufTtcclxuXHJcblxyXG4vLyBAZnVuY3Rpb24gaW5jbHVkZShwcm9wZXJ0aWVzOiBPYmplY3QpOiB0aGlzXHJcbi8vIFtJbmNsdWRlcyBhIG1peGluXSgjY2xhc3MtaW5jbHVkZXMpIGludG8gdGhlIGN1cnJlbnQgY2xhc3MuXHJcbkNsYXNzLmluY2x1ZGUgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuXHR2YXIgcGFyZW50T3B0aW9ucyA9IHRoaXMucHJvdG90eXBlLm9wdGlvbnM7XHJcblx0VXRpbC5leHRlbmQodGhpcy5wcm90b3R5cGUsIHByb3BzKTtcclxuXHRpZiAocHJvcHMub3B0aW9ucykge1xyXG5cdFx0dGhpcy5wcm90b3R5cGUub3B0aW9ucyA9IHBhcmVudE9wdGlvbnM7XHJcblx0XHR0aGlzLm1lcmdlT3B0aW9ucyhwcm9wcy5vcHRpb25zKTtcclxuXHR9XHJcblx0cmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vLyBAZnVuY3Rpb24gbWVyZ2VPcHRpb25zKG9wdGlvbnM6IE9iamVjdCk6IHRoaXNcclxuLy8gW01lcmdlcyBgb3B0aW9uc2BdKCNjbGFzcy1vcHRpb25zKSBpbnRvIHRoZSBkZWZhdWx0cyBvZiB0aGUgY2xhc3MuXHJcbkNsYXNzLm1lcmdlT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0VXRpbC5leHRlbmQodGhpcy5wcm90b3R5cGUub3B0aW9ucywgb3B0aW9ucyk7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vLyBAZnVuY3Rpb24gYWRkSW5pdEhvb2soZm46IEZ1bmN0aW9uKTogdGhpc1xyXG4vLyBBZGRzIGEgW2NvbnN0cnVjdG9yIGhvb2tdKCNjbGFzcy1jb25zdHJ1Y3Rvci1ob29rcykgdG8gdGhlIGNsYXNzLlxyXG5DbGFzcy5hZGRJbml0SG9vayA9IGZ1bmN0aW9uIChmbikgeyAvLyAoRnVuY3Rpb24pIHx8IChTdHJpbmcsIGFyZ3MuLi4pXHJcblx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cclxuXHR2YXIgaW5pdCA9IHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyA/IGZuIDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpc1tmbl0uYXBwbHkodGhpcywgYXJncyk7XHJcblx0fTtcclxuXHJcblx0dGhpcy5wcm90b3R5cGUuX2luaXRIb29rcyA9IHRoaXMucHJvdG90eXBlLl9pbml0SG9va3MgfHwgW107XHJcblx0dGhpcy5wcm90b3R5cGUuX2luaXRIb29rcy5wdXNoKGluaXQpO1xyXG5cdHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gY2hlY2tEZXByZWNhdGVkTWl4aW5FdmVudHMoaW5jbHVkZXMpIHtcclxuXHQvKiBnbG9iYWwgTDogdHJ1ZSAqL1xyXG5cdGlmICh0eXBlb2YgTCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUwgfHwgIUwuTWl4aW4pIHsgcmV0dXJuOyB9XHJcblxyXG5cdGluY2x1ZGVzID0gVXRpbC5pc0FycmF5KGluY2x1ZGVzKSA/IGluY2x1ZGVzIDogW2luY2x1ZGVzXTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBpbmNsdWRlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKGluY2x1ZGVzW2ldID09PSBMLk1peGluLkV2ZW50cykge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ0RlcHJlY2F0ZWQgaW5jbHVkZSBvZiBMLk1peGluLkV2ZW50czogJyArXHJcblx0XHRcdFx0J3RoaXMgcHJvcGVydHkgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZSByZWxlYXNlcywgJyArXHJcblx0XHRcdFx0J3BsZWFzZSBpbmhlcml0IGZyb20gTC5FdmVudGVkIGluc3RlYWQuJywgbmV3IEVycm9yKCkuc3RhY2spO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHtDbGFzc30gZnJvbSAnLi9DbGFzcyc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBFdmVudGVkXHJcbiAqIEBha2EgTC5FdmVudGVkXHJcbiAqIEBpbmhlcml0cyBDbGFzc1xyXG4gKlxyXG4gKiBBIHNldCBvZiBtZXRob2RzIHNoYXJlZCBiZXR3ZWVuIGV2ZW50LXBvd2VyZWQgY2xhc3NlcyAobGlrZSBgTWFwYCBhbmQgYE1hcmtlcmApLiBHZW5lcmFsbHksIGV2ZW50cyBhbGxvdyB5b3UgdG8gZXhlY3V0ZSBzb21lIGZ1bmN0aW9uIHdoZW4gc29tZXRoaW5nIGhhcHBlbnMgd2l0aCBhbiBvYmplY3QgKGUuZy4gdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSBtYXAsIGNhdXNpbmcgdGhlIG1hcCB0byBmaXJlIGAnY2xpY2snYCBldmVudCkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIG1hcC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAqIFx0YWxlcnQoZS5sYXRsbmcpO1xyXG4gKiB9ICk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBMZWFmbGV0IGRlYWxzIHdpdGggZXZlbnQgbGlzdGVuZXJzIGJ5IHJlZmVyZW5jZSwgc28gaWYgeW91IHdhbnQgdG8gYWRkIGEgbGlzdGVuZXIgYW5kIHRoZW4gcmVtb3ZlIGl0LCBkZWZpbmUgaXQgYXMgYSBmdW5jdGlvbjpcclxuICpcclxuICogYGBganNcclxuICogZnVuY3Rpb24gb25DbGljayhlKSB7IC4uLiB9XHJcbiAqXHJcbiAqIG1hcC5vbignY2xpY2snLCBvbkNsaWNrKTtcclxuICogbWFwLm9mZignY2xpY2snLCBvbkNsaWNrKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBFdmVudHMgPSB7XHJcblx0LyogQG1ldGhvZCBvbih0eXBlOiBTdHJpbmcsIGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuXHQgKiBBZGRzIGEgbGlzdGVuZXIgZnVuY3Rpb24gKGBmbmApIHRvIGEgcGFydGljdWxhciBldmVudCB0eXBlIG9mIHRoZSBvYmplY3QuIFlvdSBjYW4gb3B0aW9uYWxseSBzcGVjaWZ5IHRoZSBjb250ZXh0IG9mIHRoZSBsaXN0ZW5lciAob2JqZWN0IHRoZSB0aGlzIGtleXdvcmQgd2lsbCBwb2ludCB0bykuIFlvdSBjYW4gYWxzbyBwYXNzIHNldmVyYWwgc3BhY2Utc2VwYXJhdGVkIHR5cGVzIChlLmcuIGAnY2xpY2sgZGJsY2xpY2snYCkuXHJcblx0ICpcclxuXHQgKiBAYWx0ZXJuYXRpdmVcclxuXHQgKiBAbWV0aG9kIG9uKGV2ZW50TWFwOiBPYmplY3QpOiB0aGlzXHJcblx0ICogQWRkcyBhIHNldCBvZiB0eXBlL2xpc3RlbmVyIHBhaXJzLCBlLmcuIGB7Y2xpY2s6IG9uQ2xpY2ssIG1vdXNlbW92ZTogb25Nb3VzZU1vdmV9YFxyXG5cdCAqL1xyXG5cdG9uOiBmdW5jdGlvbiAodHlwZXMsIGZuLCBjb250ZXh0KSB7XHJcblxyXG5cdFx0Ly8gdHlwZXMgY2FuIGJlIGEgbWFwIG9mIHR5cGVzL2hhbmRsZXJzXHJcblx0XHRpZiAodHlwZW9mIHR5cGVzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRmb3IgKHZhciB0eXBlIGluIHR5cGVzKSB7XHJcblx0XHRcdFx0Ly8gd2UgZG9uJ3QgcHJvY2VzcyBzcGFjZS1zZXBhcmF0ZWQgZXZlbnRzIGhlcmUgZm9yIHBlcmZvcm1hbmNlO1xyXG5cdFx0XHRcdC8vIGl0J3MgYSBob3QgcGF0aCBzaW5jZSBMYXllciB1c2VzIHRoZSBvbihvYmopIHN5bnRheFxyXG5cdFx0XHRcdHRoaXMuX29uKHR5cGUsIHR5cGVzW3R5cGVdLCBmbik7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyB0eXBlcyBjYW4gYmUgYSBzdHJpbmcgb2Ygc3BhY2Utc2VwYXJhdGVkIHdvcmRzXHJcblx0XHRcdHR5cGVzID0gVXRpbC5zcGxpdFdvcmRzKHR5cGVzKTtcclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSB0eXBlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdHRoaXMuX29uKHR5cGVzW2ldLCBmbiwgY29udGV4dCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvKiBAbWV0aG9kIG9mZih0eXBlOiBTdHJpbmcsIGZuPzogRnVuY3Rpb24sIGNvbnRleHQ/OiBPYmplY3QpOiB0aGlzXHJcblx0ICogUmVtb3ZlcyBhIHByZXZpb3VzbHkgYWRkZWQgbGlzdGVuZXIgZnVuY3Rpb24uIElmIG5vIGZ1bmN0aW9uIGlzIHNwZWNpZmllZCwgaXQgd2lsbCByZW1vdmUgYWxsIHRoZSBsaXN0ZW5lcnMgb2YgdGhhdCBwYXJ0aWN1bGFyIGV2ZW50IGZyb20gdGhlIG9iamVjdC4gTm90ZSB0aGF0IGlmIHlvdSBwYXNzZWQgYSBjdXN0b20gY29udGV4dCB0byBgb25gLCB5b3UgbXVzdCBwYXNzIHRoZSBzYW1lIGNvbnRleHQgdG8gYG9mZmAgaW4gb3JkZXIgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lci5cclxuXHQgKlxyXG5cdCAqIEBhbHRlcm5hdGl2ZVxyXG5cdCAqIEBtZXRob2Qgb2ZmKGV2ZW50TWFwOiBPYmplY3QpOiB0aGlzXHJcblx0ICogUmVtb3ZlcyBhIHNldCBvZiB0eXBlL2xpc3RlbmVyIHBhaXJzLlxyXG5cdCAqXHJcblx0ICogQGFsdGVybmF0aXZlXHJcblx0ICogQG1ldGhvZCBvZmY6IHRoaXNcclxuXHQgKiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgdG8gYWxsIGV2ZW50cyBvbiB0aGUgb2JqZWN0LiBUaGlzIGluY2x1ZGVzIGltcGxpY2l0bHkgYXR0YWNoZWQgZXZlbnRzLlxyXG5cdCAqL1xyXG5cdG9mZjogZnVuY3Rpb24gKHR5cGVzLCBmbiwgY29udGV4dCkge1xyXG5cclxuXHRcdGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG5cdFx0XHQvLyBjbGVhciBhbGwgbGlzdGVuZXJzIGlmIGNhbGxlZCB3aXRob3V0IGFyZ3VtZW50c1xyXG5cdFx0XHRkZWxldGUgdGhpcy5fZXZlbnRzO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIHR5cGVzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRmb3IgKHZhciB0eXBlIGluIHR5cGVzKSB7XHJcblx0XHRcdFx0dGhpcy5fb2ZmKHR5cGUsIHR5cGVzW3R5cGVdLCBmbik7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0eXBlcyA9IFV0aWwuc3BsaXRXb3Jkcyh0eXBlcyk7XHJcblxyXG5cdFx0XHR2YXIgcmVtb3ZlQWxsID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHR5cGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKHJlbW92ZUFsbCkge1xyXG5cdFx0XHRcdFx0dGhpcy5fb2ZmKHR5cGVzW2ldKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5fb2ZmKHR5cGVzW2ldLCBmbiwgY29udGV4dCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gYXR0YWNoIGxpc3RlbmVyICh3aXRob3V0IHN5bnRhY3RpYyBzdWdhciBub3cpXHJcblx0X29uOiBmdW5jdGlvbiAodHlwZSwgZm4sIGNvbnRleHQsIF9vbmNlKSB7XHJcblx0XHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdGNvbnNvbGUud2Fybignd3JvbmcgbGlzdGVuZXIgdHlwZTogJyArIHR5cGVvZiBmbik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjaGVjayBpZiBmbiBhbHJlYWR5IHRoZXJlXHJcblx0XHRpZiAodGhpcy5fbGlzdGVucyh0eXBlLCBmbiwgY29udGV4dCkgIT09IGZhbHNlKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY29udGV4dCA9PT0gdGhpcykge1xyXG5cdFx0XHQvLyBMZXNzIG1lbW9yeSBmb290cHJpbnQuXHJcblx0XHRcdGNvbnRleHQgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG5ld0xpc3RlbmVyID0ge2ZuOiBmbiwgY3R4OiBjb250ZXh0fTtcclxuXHRcdGlmIChfb25jZSkge1xyXG5cdFx0XHRuZXdMaXN0ZW5lci5vbmNlID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XHJcblx0XHR0aGlzLl9ldmVudHNbdHlwZV0gPSB0aGlzLl9ldmVudHNbdHlwZV0gfHwgW107XHJcblx0XHR0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChuZXdMaXN0ZW5lcik7XHJcblx0fSxcclxuXHJcblx0X29mZjogZnVuY3Rpb24gKHR5cGUsIGZuLCBjb250ZXh0KSB7XHJcblx0XHR2YXIgbGlzdGVuZXJzLFxyXG5cdFx0ICAgIGksXHJcblx0XHQgICAgbGVuO1xyXG5cclxuXHRcdGlmICghdGhpcy5fZXZlbnRzKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0XHRpZiAoIWxpc3RlbmVycykge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHsgLy8gcmVtb3ZlIGFsbFxyXG5cdFx0XHRpZiAodGhpcy5fZmlyaW5nQ291bnQpIHtcclxuXHRcdFx0XHQvLyBTZXQgYWxsIHJlbW92ZWQgbGlzdGVuZXJzIHRvIG5vb3BcclxuXHRcdFx0XHQvLyBzbyB0aGV5IGFyZSBub3QgY2FsbGVkIGlmIHJlbW92ZSBoYXBwZW5zIGluIGZpcmVcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHRcdGxpc3RlbmVyc1tpXS5mbiA9IFV0aWwuZmFsc2VGbjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gY2xlYXIgYWxsIGxpc3RlbmVycyBmb3IgYSB0eXBlIGlmIGZ1bmN0aW9uIGlzbid0IHNwZWNpZmllZFxyXG5cdFx0XHRkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ3dyb25nIGxpc3RlbmVyIHR5cGU6ICcgKyB0eXBlb2YgZm4pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZmluZCBmbiBhbmQgcmVtb3ZlIGl0XHJcblx0XHR2YXIgaW5kZXggPSB0aGlzLl9saXN0ZW5zKHR5cGUsIGZuLCBjb250ZXh0KTtcclxuXHRcdGlmIChpbmRleCAhPT0gZmFsc2UpIHtcclxuXHRcdFx0dmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2luZGV4XTtcclxuXHRcdFx0aWYgKHRoaXMuX2ZpcmluZ0NvdW50KSB7XHJcblx0XHRcdFx0Ly8gc2V0IHRoZSByZW1vdmVkIGxpc3RlbmVyIHRvIG5vb3Agc28gdGhhdCdzIG5vdCBjYWxsZWQgaWYgcmVtb3ZlIGhhcHBlbnMgaW4gZmlyZVxyXG5cdFx0XHRcdGxpc3RlbmVyLmZuID0gVXRpbC5mYWxzZUZuO1xyXG5cclxuXHRcdFx0XHQvKiBjb3B5IGFycmF5IGluIGNhc2UgZXZlbnRzIGFyZSBiZWluZyBmaXJlZCAqL1xyXG5cdFx0XHRcdHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZmlyZSh0eXBlOiBTdHJpbmcsIGRhdGE/OiBPYmplY3QsIHByb3BhZ2F0ZT86IEJvb2xlYW4pOiB0aGlzXHJcblx0Ly8gRmlyZXMgYW4gZXZlbnQgb2YgdGhlIHNwZWNpZmllZCB0eXBlLiBZb3UgY2FuIG9wdGlvbmFsbHkgcHJvdmlkZSBhIGRhdGFcclxuXHQvLyBvYmplY3Qg4oCUIHRoZSBmaXJzdCBhcmd1bWVudCBvZiB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gd2lsbCBjb250YWluIGl0c1xyXG5cdC8vIHByb3BlcnRpZXMuIFRoZSBldmVudCBjYW4gb3B0aW9uYWxseSBiZSBwcm9wYWdhdGVkIHRvIGV2ZW50IHBhcmVudHMuXHJcblx0ZmlyZTogZnVuY3Rpb24gKHR5cGUsIGRhdGEsIHByb3BhZ2F0ZSkge1xyXG5cdFx0aWYgKCF0aGlzLmxpc3RlbnModHlwZSwgcHJvcGFnYXRlKSkgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdHZhciBldmVudCA9IFV0aWwuZXh0ZW5kKHt9LCBkYXRhLCB7XHJcblx0XHRcdHR5cGU6IHR5cGUsXHJcblx0XHRcdHRhcmdldDogdGhpcyxcclxuXHRcdFx0c291cmNlVGFyZ2V0OiBkYXRhICYmIGRhdGEuc291cmNlVGFyZ2V0IHx8IHRoaXNcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmICh0aGlzLl9ldmVudHMpIHtcclxuXHRcdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuXHRcdFx0aWYgKGxpc3RlbmVycykge1xyXG5cdFx0XHRcdHRoaXMuX2ZpcmluZ0NvdW50ID0gKHRoaXMuX2ZpcmluZ0NvdW50ICsgMSkgfHwgMTtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0XHR2YXIgbCA9IGxpc3RlbmVyc1tpXTtcclxuXHRcdFx0XHRcdC8vIG9mZiBvdmVyd3JpdGVzIGwuZm4sIHNvIHdlIG5lZWQgdG8gY29weSBmbiB0byBhIHZhclxyXG5cdFx0XHRcdFx0dmFyIGZuID0gbC5mbjtcclxuXHRcdFx0XHRcdGlmIChsLm9uY2UpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5vZmYodHlwZSwgZm4sIGwuY3R4KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGZuLmNhbGwobC5jdHggfHwgdGhpcywgZXZlbnQpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dGhpcy5fZmlyaW5nQ291bnQtLTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChwcm9wYWdhdGUpIHtcclxuXHRcdFx0Ly8gcHJvcGFnYXRlIHRoZSBldmVudCB0byBwYXJlbnRzIChzZXQgd2l0aCBhZGRFdmVudFBhcmVudClcclxuXHRcdFx0dGhpcy5fcHJvcGFnYXRlRXZlbnQoZXZlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgbGlzdGVucyh0eXBlOiBTdHJpbmcsIHByb3BhZ2F0ZT86IEJvb2xlYW4pOiBCb29sZWFuXHJcblx0Ly8gQG1ldGhvZCBsaXN0ZW5zKHR5cGU6IFN0cmluZywgZm46IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0LCBwcm9wYWdhdGU/OiBCb29sZWFuKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIGEgcGFydGljdWxhciBldmVudCB0eXBlIGhhcyBhbnkgbGlzdGVuZXJzIGF0dGFjaGVkIHRvIGl0LlxyXG5cdC8vIFRoZSB2ZXJpZmljYXRpb24gY2FuIG9wdGlvbmFsbHkgYmUgcHJvcGFnYXRlZCwgaXQgd2lsbCByZXR1cm4gYHRydWVgIGlmIHBhcmVudHMgaGF2ZSB0aGUgbGlzdGVuZXIgYXR0YWNoZWQgdG8gaXQuXHJcblx0bGlzdGVuczogZnVuY3Rpb24gKHR5cGUsIGZuLCBjb250ZXh0LCBwcm9wYWdhdGUpIHtcclxuXHRcdGlmICh0eXBlb2YgdHlwZSAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdcInN0cmluZ1wiIHR5cGUgYXJndW1lbnQgZXhwZWN0ZWQnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyB3ZSBkb24ndCBvdmVyd3JpdGUgdGhlIGlucHV0IGBmbmAgdmFsdWUsIGJlY2F1c2Ugd2UgbmVlZCB0byB1c2UgaXQgZm9yIHByb3BhZ2F0aW9uXHJcblx0XHR2YXIgX2ZuID0gZm47XHJcblx0XHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdHByb3BhZ2F0ZSA9ICEhZm47XHJcblx0XHRcdF9mbiA9IHVuZGVmaW5lZDtcclxuXHRcdFx0Y29udGV4dCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuXHRcdGlmIChsaXN0ZW5lcnMgJiYgbGlzdGVuZXJzLmxlbmd0aCkge1xyXG5cdFx0XHRpZiAodGhpcy5fbGlzdGVucyh0eXBlLCBfZm4sIGNvbnRleHQpICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHByb3BhZ2F0ZSkge1xyXG5cdFx0XHQvLyBhbHNvIGNoZWNrIHBhcmVudHMgZm9yIGxpc3RlbmVycyBpZiBldmVudCBwcm9wYWdhdGVzXHJcblx0XHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2V2ZW50UGFyZW50cykge1xyXG5cdFx0XHRcdGlmICh0aGlzLl9ldmVudFBhcmVudHNbaWRdLmxpc3RlbnModHlwZSwgZm4sIGNvbnRleHQsIHByb3BhZ2F0ZSkpIHsgcmV0dXJuIHRydWU7IH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0sXHJcblxyXG5cdC8vIHJldHVybnMgdGhlIGluZGV4IChudW1iZXIpIG9yIGZhbHNlXHJcblx0X2xpc3RlbnM6IGZ1bmN0aW9uICh0eXBlLCBmbiwgY29udGV4dCkge1xyXG5cdFx0aWYgKCF0aGlzLl9ldmVudHMpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV0gfHwgW107XHJcblx0XHRpZiAoIWZuKSB7XHJcblx0XHRcdHJldHVybiAhIWxpc3RlbmVycy5sZW5ndGg7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvbnRleHQgPT09IHRoaXMpIHtcclxuXHRcdFx0Ly8gTGVzcyBtZW1vcnkgZm9vdHByaW50LlxyXG5cdFx0XHRjb250ZXh0ID0gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0aWYgKGxpc3RlbmVyc1tpXS5mbiA9PT0gZm4gJiYgbGlzdGVuZXJzW2ldLmN0eCA9PT0gY29udGV4dCkge1xyXG5cdFx0XHRcdHJldHVybiBpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgb25jZSjigKYpOiB0aGlzXHJcblx0Ly8gQmVoYXZlcyBhcyBbYG9uKOKApilgXSgjZXZlbnRlZC1vbiksIGV4Y2VwdCB0aGUgbGlzdGVuZXIgd2lsbCBvbmx5IGdldCBmaXJlZCBvbmNlIGFuZCB0aGVuIHJlbW92ZWQuXHJcblx0b25jZTogZnVuY3Rpb24gKHR5cGVzLCBmbiwgY29udGV4dCkge1xyXG5cclxuXHRcdC8vIHR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xyXG5cdFx0aWYgKHR5cGVvZiB0eXBlcyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Zm9yICh2YXIgdHlwZSBpbiB0eXBlcykge1xyXG5cdFx0XHRcdC8vIHdlIGRvbid0IHByb2Nlc3Mgc3BhY2Utc2VwYXJhdGVkIGV2ZW50cyBoZXJlIGZvciBwZXJmb3JtYW5jZTtcclxuXHRcdFx0XHQvLyBpdCdzIGEgaG90IHBhdGggc2luY2UgTGF5ZXIgdXNlcyB0aGUgb24ob2JqKSBzeW50YXhcclxuXHRcdFx0XHR0aGlzLl9vbih0eXBlLCB0eXBlc1t0eXBlXSwgZm4sIHRydWUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gdHlwZXMgY2FuIGJlIGEgc3RyaW5nIG9mIHNwYWNlLXNlcGFyYXRlZCB3b3Jkc1xyXG5cdFx0XHR0eXBlcyA9IFV0aWwuc3BsaXRXb3Jkcyh0eXBlcyk7XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gdHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHR0aGlzLl9vbih0eXBlc1tpXSwgZm4sIGNvbnRleHQsIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBhZGRFdmVudFBhcmVudChvYmo6IEV2ZW50ZWQpOiB0aGlzXHJcblx0Ly8gQWRkcyBhbiBldmVudCBwYXJlbnQgLSBhbiBgRXZlbnRlZGAgdGhhdCB3aWxsIHJlY2VpdmUgcHJvcGFnYXRlZCBldmVudHNcclxuXHRhZGRFdmVudFBhcmVudDogZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0dGhpcy5fZXZlbnRQYXJlbnRzID0gdGhpcy5fZXZlbnRQYXJlbnRzIHx8IHt9O1xyXG5cdFx0dGhpcy5fZXZlbnRQYXJlbnRzW1V0aWwuc3RhbXAob2JqKV0gPSBvYmo7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZUV2ZW50UGFyZW50KG9iajogRXZlbnRlZCk6IHRoaXNcclxuXHQvLyBSZW1vdmVzIGFuIGV2ZW50IHBhcmVudCwgc28gaXQgd2lsbCBzdG9wIHJlY2VpdmluZyBwcm9wYWdhdGVkIGV2ZW50c1xyXG5cdHJlbW92ZUV2ZW50UGFyZW50OiBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHRpZiAodGhpcy5fZXZlbnRQYXJlbnRzKSB7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLl9ldmVudFBhcmVudHNbVXRpbC5zdGFtcChvYmopXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9wcm9wYWdhdGVFdmVudDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2V2ZW50UGFyZW50cykge1xyXG5cdFx0XHR0aGlzLl9ldmVudFBhcmVudHNbaWRdLmZpcmUoZS50eXBlLCBVdGlsLmV4dGVuZCh7XHJcblx0XHRcdFx0bGF5ZXI6IGUudGFyZ2V0LFxyXG5cdFx0XHRcdHByb3BhZ2F0ZWRGcm9tOiBlLnRhcmdldFxyXG5cdFx0XHR9LCBlKSwgdHJ1ZSk7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuLy8gYWxpYXNlczsgd2Ugc2hvdWxkIGRpdGNoIHRob3NlIGV2ZW50dWFsbHlcclxuXHJcbi8vIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lcijigKYpOiB0aGlzXHJcbi8vIEFsaWFzIHRvIFtgb24o4oCmKWBdKCNldmVudGVkLW9uKVxyXG5FdmVudHMuYWRkRXZlbnRMaXN0ZW5lciA9IEV2ZW50cy5vbjtcclxuXHJcbi8vIEBtZXRob2QgcmVtb3ZlRXZlbnRMaXN0ZW5lcijigKYpOiB0aGlzXHJcbi8vIEFsaWFzIHRvIFtgb2ZmKOKApilgXSgjZXZlbnRlZC1vZmYpXHJcblxyXG4vLyBAbWV0aG9kIGNsZWFyQWxsRXZlbnRMaXN0ZW5lcnMo4oCmKTogdGhpc1xyXG4vLyBBbGlhcyB0byBbYG9mZigpYF0oI2V2ZW50ZWQtb2ZmKVxyXG5FdmVudHMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IEV2ZW50cy5jbGVhckFsbEV2ZW50TGlzdGVuZXJzID0gRXZlbnRzLm9mZjtcclxuXHJcbi8vIEBtZXRob2QgYWRkT25lVGltZUV2ZW50TGlzdGVuZXIo4oCmKTogdGhpc1xyXG4vLyBBbGlhcyB0byBbYG9uY2Uo4oCmKWBdKCNldmVudGVkLW9uY2UpXHJcbkV2ZW50cy5hZGRPbmVUaW1lRXZlbnRMaXN0ZW5lciA9IEV2ZW50cy5vbmNlO1xyXG5cclxuLy8gQG1ldGhvZCBmaXJlRXZlbnQo4oCmKTogdGhpc1xyXG4vLyBBbGlhcyB0byBbYGZpcmUo4oCmKWBdKCNldmVudGVkLWZpcmUpXHJcbkV2ZW50cy5maXJlRXZlbnQgPSBFdmVudHMuZmlyZTtcclxuXHJcbi8vIEBtZXRob2QgaGFzRXZlbnRMaXN0ZW5lcnMo4oCmKTogQm9vbGVhblxyXG4vLyBBbGlhcyB0byBbYGxpc3RlbnMo4oCmKWBdKCNldmVudGVkLWxpc3RlbnMpXHJcbkV2ZW50cy5oYXNFdmVudExpc3RlbmVycyA9IEV2ZW50cy5saXN0ZW5zO1xyXG5cclxuZXhwb3J0IHZhciBFdmVudGVkID0gQ2xhc3MuZXh0ZW5kKEV2ZW50cyk7XHJcbiIsICJpbXBvcnQge2lzQXJyYXksIGZvcm1hdE51bX0gZnJvbSAnLi4vY29yZS9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBQb2ludFxyXG4gKiBAYWthIEwuUG9pbnRcclxuICpcclxuICogUmVwcmVzZW50cyBhIHBvaW50IHdpdGggYHhgIGFuZCBgeWAgY29vcmRpbmF0ZXMgaW4gcGl4ZWxzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgcG9pbnQgPSBMLnBvaW50KDIwMCwgMzAwKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEFsbCBMZWFmbGV0IG1ldGhvZHMgYW5kIG9wdGlvbnMgdGhhdCBhY2NlcHQgYFBvaW50YCBvYmplY3RzIGFsc28gYWNjZXB0IHRoZW0gaW4gYSBzaW1wbGUgQXJyYXkgZm9ybSAodW5sZXNzIG5vdGVkIG90aGVyd2lzZSksIHNvIHRoZXNlIGxpbmVzIGFyZSBlcXVpdmFsZW50OlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBtYXAucGFuQnkoWzIwMCwgMzAwXSk7XHJcbiAqIG1hcC5wYW5CeShMLnBvaW50KDIwMCwgMzAwKSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgYFBvaW50YCBkb2VzIG5vdCBpbmhlcml0IGZyb20gTGVhZmxldCdzIGBDbGFzc2Agb2JqZWN0LFxyXG4gKiB3aGljaCBtZWFucyBuZXcgY2xhc3NlcyBjYW4ndCBpbmhlcml0IGZyb20gaXQsIGFuZCBuZXcgbWV0aG9kc1xyXG4gKiBjYW4ndCBiZSBhZGRlZCB0byBpdCB3aXRoIHRoZSBgaW5jbHVkZWAgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFBvaW50KHgsIHksIHJvdW5kKSB7XHJcblx0Ly8gQHByb3BlcnR5IHg6IE51bWJlcjsgVGhlIGB4YCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxyXG5cdHRoaXMueCA9IChyb3VuZCA/IE1hdGgucm91bmQoeCkgOiB4KTtcclxuXHQvLyBAcHJvcGVydHkgeTogTnVtYmVyOyBUaGUgYHlgIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XHJcblx0dGhpcy55ID0gKHJvdW5kID8gTWF0aC5yb3VuZCh5KSA6IHkpO1xyXG59XHJcblxyXG52YXIgdHJ1bmMgPSBNYXRoLnRydW5jIHx8IGZ1bmN0aW9uICh2KSB7XHJcblx0cmV0dXJuIHYgPiAwID8gTWF0aC5mbG9vcih2KSA6IE1hdGguY2VpbCh2KTtcclxufTtcclxuXHJcblBvaW50LnByb3RvdHlwZSA9IHtcclxuXHJcblx0Ly8gQG1ldGhvZCBjbG9uZSgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IHBvaW50LlxyXG5cdGNsb25lOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZChvdGhlclBvaW50OiBQb2ludCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGFkZGl0aW9uIG9mIHRoZSBjdXJyZW50IGFuZCB0aGUgZ2l2ZW4gcG9pbnRzLlxyXG5cdGFkZDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHQvLyBub24tZGVzdHJ1Y3RpdmUsIHJldHVybnMgYSBuZXcgcG9pbnRcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX2FkZCh0b1BvaW50KHBvaW50KSk7XHJcblx0fSxcclxuXHJcblx0X2FkZDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHQvLyBkZXN0cnVjdGl2ZSwgdXNlZCBkaXJlY3RseSBmb3IgcGVyZm9ybWFuY2UgaW4gc2l0dWF0aW9ucyB3aGVyZSBpdCdzIHNhZmUgdG8gbW9kaWZ5IGV4aXN0aW5nIHBvaW50XHJcblx0XHR0aGlzLnggKz0gcG9pbnQueDtcclxuXHRcdHRoaXMueSArPSBwb2ludC55O1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzdWJ0cmFjdChvdGhlclBvaW50OiBQb2ludCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHN1YnRyYWN0aW9uIG9mIHRoZSBnaXZlbiBwb2ludCBmcm9tIHRoZSBjdXJyZW50LlxyXG5cdHN1YnRyYWN0OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX3N1YnRyYWN0KHRvUG9pbnQocG9pbnQpKTtcclxuXHR9LFxyXG5cclxuXHRfc3VidHJhY3Q6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0dGhpcy54IC09IHBvaW50Lng7XHJcblx0XHR0aGlzLnkgLT0gcG9pbnQueTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZGl2aWRlQnkobnVtOiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBkaXZpc2lvbiBvZiB0aGUgY3VycmVudCBwb2ludCBieSB0aGUgZ2l2ZW4gbnVtYmVyLlxyXG5cdGRpdmlkZUJ5OiBmdW5jdGlvbiAobnVtKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZpZGVCeShudW0pO1xyXG5cdH0sXHJcblxyXG5cdF9kaXZpZGVCeTogZnVuY3Rpb24gKG51bSkge1xyXG5cdFx0dGhpcy54IC89IG51bTtcclxuXHRcdHRoaXMueSAvPSBudW07XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG11bHRpcGx5QnkobnVtOiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBtdWx0aXBsaWNhdGlvbiBvZiB0aGUgY3VycmVudCBwb2ludCBieSB0aGUgZ2l2ZW4gbnVtYmVyLlxyXG5cdG11bHRpcGx5Qnk6IGZ1bmN0aW9uIChudW0pIHtcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX211bHRpcGx5QnkobnVtKTtcclxuXHR9LFxyXG5cclxuXHRfbXVsdGlwbHlCeTogZnVuY3Rpb24gKG51bSkge1xyXG5cdFx0dGhpcy54ICo9IG51bTtcclxuXHRcdHRoaXMueSAqPSBudW07XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNjYWxlQnkoc2NhbGU6IFBvaW50KTogUG9pbnRcclxuXHQvLyBNdWx0aXBseSBlYWNoIGNvb3JkaW5hdGUgb2YgdGhlIGN1cnJlbnQgcG9pbnQgYnkgZWFjaCBjb29yZGluYXRlIG9mXHJcblx0Ly8gYHNjYWxlYC4gSW4gbGluZWFyIGFsZ2VicmEgdGVybXMsIG11bHRpcGx5IHRoZSBwb2ludCBieSB0aGVcclxuXHQvLyBbc2NhbGluZyBtYXRyaXhdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NjYWxpbmdfJTI4Z2VvbWV0cnklMjkjTWF0cml4X3JlcHJlc2VudGF0aW9uKVxyXG5cdC8vIGRlZmluZWQgYnkgYHNjYWxlYC5cclxuXHRzY2FsZUJ5OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHJldHVybiBuZXcgUG9pbnQodGhpcy54ICogcG9pbnQueCwgdGhpcy55ICogcG9pbnQueSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB1bnNjYWxlQnkoc2NhbGU6IFBvaW50KTogUG9pbnRcclxuXHQvLyBJbnZlcnNlIG9mIGBzY2FsZUJ5YC4gRGl2aWRlIGVhY2ggY29vcmRpbmF0ZSBvZiB0aGUgY3VycmVudCBwb2ludCBieVxyXG5cdC8vIGVhY2ggY29vcmRpbmF0ZSBvZiBgc2NhbGVgLlxyXG5cdHVuc2NhbGVCeTogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KHRoaXMueCAvIHBvaW50LngsIHRoaXMueSAvIHBvaW50LnkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgcm91bmQoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgY3VycmVudCBwb2ludCB3aXRoIHJvdW5kZWQgY29vcmRpbmF0ZXMuXHJcblx0cm91bmQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCk7XHJcblx0fSxcclxuXHJcblx0X3JvdW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7XHJcblx0XHR0aGlzLnkgPSBNYXRoLnJvdW5kKHRoaXMueSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGZsb29yKCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgcG9pbnQgd2l0aCBmbG9vcmVkIGNvb3JkaW5hdGVzIChyb3VuZGVkIGRvd24pLlxyXG5cdGZsb29yOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9mbG9vcigpO1xyXG5cdH0sXHJcblxyXG5cdF9mbG9vcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy54ID0gTWF0aC5mbG9vcih0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5mbG9vcih0aGlzLnkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjZWlsKCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgcG9pbnQgd2l0aCBjZWlsZWQgY29vcmRpbmF0ZXMgKHJvdW5kZWQgdXApLlxyXG5cdGNlaWw6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX2NlaWwoKTtcclxuXHR9LFxyXG5cclxuXHRfY2VpbDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy54ID0gTWF0aC5jZWlsKHRoaXMueCk7XHJcblx0XHR0aGlzLnkgPSBNYXRoLmNlaWwodGhpcy55KTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdHJ1bmMoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgY3VycmVudCBwb2ludCB3aXRoIHRydW5jYXRlZCBjb29yZGluYXRlcyAocm91bmRlZCB0b3dhcmRzIHplcm8pLlxyXG5cdHRydW5jOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl90cnVuYygpO1xyXG5cdH0sXHJcblxyXG5cdF90cnVuYzogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy54ID0gdHJ1bmModGhpcy54KTtcclxuXHRcdHRoaXMueSA9IHRydW5jKHRoaXMueSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc3RhbmNlVG8ob3RoZXJQb2ludDogUG9pbnQpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBjYXJ0ZXNpYW4gZGlzdGFuY2UgYmV0d2VlbiB0aGUgY3VycmVudCBhbmQgdGhlIGdpdmVuIHBvaW50cy5cclxuXHRkaXN0YW5jZVRvOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHBvaW50ID0gdG9Qb2ludChwb2ludCk7XHJcblxyXG5cdFx0dmFyIHggPSBwb2ludC54IC0gdGhpcy54LFxyXG5cdFx0ICAgIHkgPSBwb2ludC55IC0gdGhpcy55O1xyXG5cclxuXHRcdHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBlcXVhbHMob3RoZXJQb2ludDogUG9pbnQpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIHBvaW50IGhhcyB0aGUgc2FtZSBjb29yZGluYXRlcy5cclxuXHRlcXVhbHM6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0cG9pbnQgPSB0b1BvaW50KHBvaW50KTtcclxuXHJcblx0XHRyZXR1cm4gcG9pbnQueCA9PT0gdGhpcy54ICYmXHJcblx0XHQgICAgICAgcG9pbnQueSA9PT0gdGhpcy55O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMob3RoZXJQb2ludDogUG9pbnQpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgYm90aCBjb29yZGluYXRlcyBvZiB0aGUgZ2l2ZW4gcG9pbnQgYXJlIGxlc3MgdGhhbiB0aGUgY29ycmVzcG9uZGluZyBjdXJyZW50IHBvaW50IGNvb3JkaW5hdGVzIChpbiBhYnNvbHV0ZSB2YWx1ZXMpLlxyXG5cdGNvbnRhaW5zOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHBvaW50ID0gdG9Qb2ludChwb2ludCk7XHJcblxyXG5cdFx0cmV0dXJuIE1hdGguYWJzKHBvaW50LngpIDw9IE1hdGguYWJzKHRoaXMueCkgJiZcclxuXHRcdCAgICAgICBNYXRoLmFicyhwb2ludC55KSA8PSBNYXRoLmFicyh0aGlzLnkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdG9TdHJpbmcoKTogU3RyaW5nXHJcblx0Ly8gUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcG9pbnQgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cclxuXHR0b1N0cmluZzogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICdQb2ludCgnICtcclxuXHRcdCAgICAgICAgZm9ybWF0TnVtKHRoaXMueCkgKyAnLCAnICtcclxuXHRcdCAgICAgICAgZm9ybWF0TnVtKHRoaXMueSkgKyAnKSc7XHJcblx0fVxyXG59O1xyXG5cclxuLy8gQGZhY3RvcnkgTC5wb2ludCh4OiBOdW1iZXIsIHk6IE51bWJlciwgcm91bmQ/OiBCb29sZWFuKVxyXG4vLyBDcmVhdGVzIGEgUG9pbnQgb2JqZWN0IHdpdGggdGhlIGdpdmVuIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzLiBJZiBvcHRpb25hbCBgcm91bmRgIGlzIHNldCB0byB0cnVlLCByb3VuZHMgdGhlIGB4YCBhbmQgYHlgIHZhbHVlcy5cclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZmFjdG9yeSBMLnBvaW50KGNvb3JkczogTnVtYmVyW10pXHJcbi8vIEV4cGVjdHMgYW4gYXJyYXkgb2YgdGhlIGZvcm0gYFt4LCB5XWAgaW5zdGVhZC5cclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZmFjdG9yeSBMLnBvaW50KGNvb3JkczogT2JqZWN0KVxyXG4vLyBFeHBlY3RzIGEgcGxhaW4gb2JqZWN0IG9mIHRoZSBmb3JtIGB7eDogTnVtYmVyLCB5OiBOdW1iZXJ9YCBpbnN0ZWFkLlxyXG5leHBvcnQgZnVuY3Rpb24gdG9Qb2ludCh4LCB5LCByb3VuZCkge1xyXG5cdGlmICh4IGluc3RhbmNlb2YgUG9pbnQpIHtcclxuXHRcdHJldHVybiB4O1xyXG5cdH1cclxuXHRpZiAoaXNBcnJheSh4KSkge1xyXG5cdFx0cmV0dXJuIG5ldyBQb2ludCh4WzBdLCB4WzFdKTtcclxuXHR9XHJcblx0aWYgKHggPT09IHVuZGVmaW5lZCB8fCB4ID09PSBudWxsKSB7XHJcblx0XHRyZXR1cm4geDtcclxuXHR9XHJcblx0aWYgKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiAneCcgaW4geCAmJiAneScgaW4geCkge1xyXG5cdFx0cmV0dXJuIG5ldyBQb2ludCh4LngsIHgueSk7XHJcblx0fVxyXG5cdHJldHVybiBuZXcgUG9pbnQoeCwgeSwgcm91bmQpO1xyXG59XHJcbiIsICJpbXBvcnQge1BvaW50LCB0b1BvaW50fSBmcm9tICcuL1BvaW50JztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBCb3VuZHNcclxuICogQGFrYSBMLkJvdW5kc1xyXG4gKlxyXG4gKiBSZXByZXNlbnRzIGEgcmVjdGFuZ3VsYXIgYXJlYSBpbiBwaXhlbCBjb29yZGluYXRlcy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIHAxID0gTC5wb2ludCgxMCwgMTApLFxyXG4gKiBwMiA9IEwucG9pbnQoNDAsIDYwKSxcclxuICogYm91bmRzID0gTC5ib3VuZHMocDEsIHAyKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEFsbCBMZWFmbGV0IG1ldGhvZHMgdGhhdCBhY2NlcHQgYEJvdW5kc2Agb2JqZWN0cyBhbHNvIGFjY2VwdCB0aGVtIGluIGEgc2ltcGxlIEFycmF5IGZvcm0gKHVubGVzcyBub3RlZCBvdGhlcndpc2UpLCBzbyB0aGUgYm91bmRzIGV4YW1wbGUgYWJvdmUgY2FuIGJlIHBhc3NlZCBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIG90aGVyQm91bmRzLmludGVyc2VjdHMoW1sxMCwgMTBdLCBbNDAsIDYwXV0pO1xyXG4gKiBgYGBcclxuICpcclxuICogTm90ZSB0aGF0IGBCb3VuZHNgIGRvZXMgbm90IGluaGVyaXQgZnJvbSBMZWFmbGV0J3MgYENsYXNzYCBvYmplY3QsXHJcbiAqIHdoaWNoIG1lYW5zIG5ldyBjbGFzc2VzIGNhbid0IGluaGVyaXQgZnJvbSBpdCwgYW5kIG5ldyBtZXRob2RzXHJcbiAqIGNhbid0IGJlIGFkZGVkIHRvIGl0IHdpdGggdGhlIGBpbmNsdWRlYCBmdW5jdGlvbi5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQm91bmRzKGEsIGIpIHtcclxuXHRpZiAoIWEpIHsgcmV0dXJuOyB9XHJcblxyXG5cdHZhciBwb2ludHMgPSBiID8gW2EsIGJdIDogYTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHBvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0dGhpcy5leHRlbmQocG9pbnRzW2ldKTtcclxuXHR9XHJcbn1cclxuXHJcbkJvdW5kcy5wcm90b3R5cGUgPSB7XHJcblx0Ly8gQG1ldGhvZCBleHRlbmQocG9pbnQ6IFBvaW50KTogdGhpc1xyXG5cdC8vIEV4dGVuZHMgdGhlIGJvdW5kcyB0byBjb250YWluIHRoZSBnaXZlbiBwb2ludC5cclxuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQG1ldGhvZCBleHRlbmQob3RoZXJCb3VuZHM6IEJvdW5kcyk6IHRoaXNcclxuXHQvLyBFeHRlbmQgdGhlIGJvdW5kcyB0byBjb250YWluIHRoZSBnaXZlbiBib3VuZHNcclxuXHRleHRlbmQ6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHZhciBtaW4yLCBtYXgyO1xyXG5cdFx0aWYgKCFvYmopIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHRpZiAob2JqIGluc3RhbmNlb2YgUG9pbnQgfHwgdHlwZW9mIG9ialswXSA9PT0gJ251bWJlcicgfHwgJ3gnIGluIG9iaikge1xyXG5cdFx0XHRtaW4yID0gbWF4MiA9IHRvUG9pbnQob2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG9iaiA9IHRvQm91bmRzKG9iaik7XHJcblx0XHRcdG1pbjIgPSBvYmoubWluO1xyXG5cdFx0XHRtYXgyID0gb2JqLm1heDtcclxuXHJcblx0XHRcdGlmICghbWluMiB8fCAhbWF4MikgeyByZXR1cm4gdGhpczsgfVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBwcm9wZXJ0eSBtaW46IFBvaW50XHJcblx0XHQvLyBUaGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGUuXHJcblx0XHQvLyBAcHJvcGVydHkgbWF4OiBQb2ludFxyXG5cdFx0Ly8gVGhlIGJvdHRvbSByaWdodCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZS5cclxuXHRcdGlmICghdGhpcy5taW4gJiYgIXRoaXMubWF4KSB7XHJcblx0XHRcdHRoaXMubWluID0gbWluMi5jbG9uZSgpO1xyXG5cdFx0XHR0aGlzLm1heCA9IG1heDIuY2xvbmUoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMubWluLnggPSBNYXRoLm1pbihtaW4yLngsIHRoaXMubWluLngpO1xyXG5cdFx0XHR0aGlzLm1heC54ID0gTWF0aC5tYXgobWF4Mi54LCB0aGlzLm1heC54KTtcclxuXHRcdFx0dGhpcy5taW4ueSA9IE1hdGgubWluKG1pbjIueSwgdGhpcy5taW4ueSk7XHJcblx0XHRcdHRoaXMubWF4LnkgPSBNYXRoLm1heChtYXgyLnksIHRoaXMubWF4LnkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRDZW50ZXIocm91bmQ/OiBCb29sZWFuKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBjZW50ZXIgcG9pbnQgb2YgdGhlIGJvdW5kcy5cclxuXHRnZXRDZW50ZXI6IGZ1bmN0aW9uIChyb3VuZCkge1xyXG5cdFx0cmV0dXJuIHRvUG9pbnQoXHJcblx0XHQgICAgICAgICh0aGlzLm1pbi54ICsgdGhpcy5tYXgueCkgLyAyLFxyXG5cdFx0ICAgICAgICAodGhpcy5taW4ueSArIHRoaXMubWF4LnkpIC8gMiwgcm91bmQpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Qm90dG9tTGVmdCgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIGJvdHRvbS1sZWZ0IHBvaW50IG9mIHRoZSBib3VuZHMuXHJcblx0Z2V0Qm90dG9tTGVmdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRvUG9pbnQodGhpcy5taW4ueCwgdGhpcy5tYXgueSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRUb3BSaWdodCgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHRvcC1yaWdodCBwb2ludCBvZiB0aGUgYm91bmRzLlxyXG5cdGdldFRvcFJpZ2h0OiBmdW5jdGlvbiAoKSB7IC8vIC0+IFBvaW50XHJcblx0XHRyZXR1cm4gdG9Qb2ludCh0aGlzLm1heC54LCB0aGlzLm1pbi55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFRvcExlZnQoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSB0b3AtbGVmdCBwb2ludCBvZiB0aGUgYm91bmRzIChpLmUuIFtgdGhpcy5taW5gXSgjYm91bmRzLW1pbikpLlxyXG5cdGdldFRvcExlZnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm1pbjsgLy8gbGVmdCwgdG9wXHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRCb3R0b21SaWdodCgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIGJvdHRvbS1yaWdodCBwb2ludCBvZiB0aGUgYm91bmRzIChpLmUuIFtgdGhpcy5tYXhgXSgjYm91bmRzLW1heCkpLlxyXG5cdGdldEJvdHRvbVJpZ2h0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYXg7IC8vIHJpZ2h0LCBib3R0b21cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFNpemUoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBzaXplIG9mIHRoZSBnaXZlbiBib3VuZHNcclxuXHRnZXRTaXplOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYXguc3VidHJhY3QodGhpcy5taW4pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMob3RoZXJCb3VuZHM6IEJvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIGNvbnRhaW5zIHRoZSBnaXZlbiBvbmUuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQG1ldGhvZCBjb250YWlucyhwb2ludDogUG9pbnQpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBjb250YWlucyB0aGUgZ2l2ZW4gcG9pbnQuXHJcblx0Y29udGFpbnM6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHZhciBtaW4sIG1heDtcclxuXHJcblx0XHRpZiAodHlwZW9mIG9ialswXSA9PT0gJ251bWJlcicgfHwgb2JqIGluc3RhbmNlb2YgUG9pbnQpIHtcclxuXHRcdFx0b2JqID0gdG9Qb2ludChvYmopO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b2JqID0gdG9Cb3VuZHMob2JqKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAob2JqIGluc3RhbmNlb2YgQm91bmRzKSB7XHJcblx0XHRcdG1pbiA9IG9iai5taW47XHJcblx0XHRcdG1heCA9IG9iai5tYXg7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRtaW4gPSBtYXggPSBvYmo7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIChtaW4ueCA+PSB0aGlzLm1pbi54KSAmJlxyXG5cdFx0ICAgICAgIChtYXgueCA8PSB0aGlzLm1heC54KSAmJlxyXG5cdFx0ICAgICAgIChtaW4ueSA+PSB0aGlzLm1pbi55KSAmJlxyXG5cdFx0ICAgICAgIChtYXgueSA8PSB0aGlzLm1heC55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGludGVyc2VjdHMob3RoZXJCb3VuZHM6IEJvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIGludGVyc2VjdHMgdGhlIGdpdmVuIGJvdW5kcy4gVHdvIGJvdW5kc1xyXG5cdC8vIGludGVyc2VjdCBpZiB0aGV5IGhhdmUgYXQgbGVhc3Qgb25lIHBvaW50IGluIGNvbW1vbi5cclxuXHRpbnRlcnNlY3RzOiBmdW5jdGlvbiAoYm91bmRzKSB7IC8vIChCb3VuZHMpIC0+IEJvb2xlYW5cclxuXHRcdGJvdW5kcyA9IHRvQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0dmFyIG1pbiA9IHRoaXMubWluLFxyXG5cdFx0ICAgIG1heCA9IHRoaXMubWF4LFxyXG5cdFx0ICAgIG1pbjIgPSBib3VuZHMubWluLFxyXG5cdFx0ICAgIG1heDIgPSBib3VuZHMubWF4LFxyXG5cdFx0ICAgIHhJbnRlcnNlY3RzID0gKG1heDIueCA+PSBtaW4ueCkgJiYgKG1pbjIueCA8PSBtYXgueCksXHJcblx0XHQgICAgeUludGVyc2VjdHMgPSAobWF4Mi55ID49IG1pbi55KSAmJiAobWluMi55IDw9IG1heC55KTtcclxuXHJcblx0XHRyZXR1cm4geEludGVyc2VjdHMgJiYgeUludGVyc2VjdHM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBvdmVybGFwcyhvdGhlckJvdW5kczogQm91bmRzKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgb3ZlcmxhcHMgdGhlIGdpdmVuIGJvdW5kcy4gVHdvIGJvdW5kc1xyXG5cdC8vIG92ZXJsYXAgaWYgdGhlaXIgaW50ZXJzZWN0aW9uIGlzIGFuIGFyZWEuXHJcblx0b3ZlcmxhcHM6IGZ1bmN0aW9uIChib3VuZHMpIHsgLy8gKEJvdW5kcykgLT4gQm9vbGVhblxyXG5cdFx0Ym91bmRzID0gdG9Cb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHR2YXIgbWluID0gdGhpcy5taW4sXHJcblx0XHQgICAgbWF4ID0gdGhpcy5tYXgsXHJcblx0XHQgICAgbWluMiA9IGJvdW5kcy5taW4sXHJcblx0XHQgICAgbWF4MiA9IGJvdW5kcy5tYXgsXHJcblx0XHQgICAgeE92ZXJsYXBzID0gKG1heDIueCA+IG1pbi54KSAmJiAobWluMi54IDwgbWF4LngpLFxyXG5cdFx0ICAgIHlPdmVybGFwcyA9IChtYXgyLnkgPiBtaW4ueSkgJiYgKG1pbjIueSA8IG1heC55KTtcclxuXHJcblx0XHRyZXR1cm4geE92ZXJsYXBzICYmIHlPdmVybGFwcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGlzVmFsaWQoKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBib3VuZHMgYXJlIHByb3Blcmx5IGluaXRpYWxpemVkLlxyXG5cdGlzVmFsaWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAhISh0aGlzLm1pbiAmJiB0aGlzLm1heCk7XHJcblx0fSxcclxuXHJcblxyXG5cdC8vIEBtZXRob2QgcGFkKGJ1ZmZlclJhdGlvOiBOdW1iZXIpOiBCb3VuZHNcclxuXHQvLyBSZXR1cm5zIGJvdW5kcyBjcmVhdGVkIGJ5IGV4dGVuZGluZyBvciByZXRyYWN0aW5nIHRoZSBjdXJyZW50IGJvdW5kcyBieSBhIGdpdmVuIHJhdGlvIGluIGVhY2ggZGlyZWN0aW9uLlxyXG5cdC8vIEZvciBleGFtcGxlLCBhIHJhdGlvIG9mIDAuNSBleHRlbmRzIHRoZSBib3VuZHMgYnkgNTAlIGluIGVhY2ggZGlyZWN0aW9uLlxyXG5cdC8vIE5lZ2F0aXZlIHZhbHVlcyB3aWxsIHJldHJhY3QgdGhlIGJvdW5kcy5cclxuXHRwYWQ6IGZ1bmN0aW9uIChidWZmZXJSYXRpbykge1xyXG5cdFx0dmFyIG1pbiA9IHRoaXMubWluLFxyXG5cdFx0bWF4ID0gdGhpcy5tYXgsXHJcblx0XHRoZWlnaHRCdWZmZXIgPSBNYXRoLmFicyhtaW4ueCAtIG1heC54KSAqIGJ1ZmZlclJhdGlvLFxyXG5cdFx0d2lkdGhCdWZmZXIgPSBNYXRoLmFicyhtaW4ueSAtIG1heC55KSAqIGJ1ZmZlclJhdGlvO1xyXG5cclxuXHJcblx0XHRyZXR1cm4gdG9Cb3VuZHMoXHJcblx0XHRcdHRvUG9pbnQobWluLnggLSBoZWlnaHRCdWZmZXIsIG1pbi55IC0gd2lkdGhCdWZmZXIpLFxyXG5cdFx0XHR0b1BvaW50KG1heC54ICsgaGVpZ2h0QnVmZmVyLCBtYXgueSArIHdpZHRoQnVmZmVyKSk7XHJcblx0fSxcclxuXHJcblxyXG5cdC8vIEBtZXRob2QgZXF1YWxzKG90aGVyQm91bmRzOiBCb3VuZHMpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBib3VuZHMuXHJcblx0ZXF1YWxzOiBmdW5jdGlvbiAoYm91bmRzKSB7XHJcblx0XHRpZiAoIWJvdW5kcykgeyByZXR1cm4gZmFsc2U7IH1cclxuXHJcblx0XHRib3VuZHMgPSB0b0JvdW5kcyhib3VuZHMpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLm1pbi5lcXVhbHMoYm91bmRzLmdldFRvcExlZnQoKSkgJiZcclxuXHRcdFx0dGhpcy5tYXguZXF1YWxzKGJvdW5kcy5nZXRCb3R0b21SaWdodCgpKTtcclxuXHR9LFxyXG59O1xyXG5cclxuXHJcbi8vIEBmYWN0b3J5IEwuYm91bmRzKGNvcm5lcjE6IFBvaW50LCBjb3JuZXIyOiBQb2ludClcclxuLy8gQ3JlYXRlcyBhIEJvdW5kcyBvYmplY3QgZnJvbSB0d28gY29ybmVycyBjb29yZGluYXRlIHBhaXJzLlxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC5ib3VuZHMocG9pbnRzOiBQb2ludFtdKVxyXG4vLyBDcmVhdGVzIGEgQm91bmRzIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBhcnJheSBvZiBwb2ludHMuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0JvdW5kcyhhLCBiKSB7XHJcblx0aWYgKCFhIHx8IGEgaW5zdGFuY2VvZiBCb3VuZHMpIHtcclxuXHRcdHJldHVybiBhO1xyXG5cdH1cclxuXHRyZXR1cm4gbmV3IEJvdW5kcyhhLCBiKTtcclxufVxyXG4iLCAiaW1wb3J0IHtMYXRMbmcsIHRvTGF0TG5nfSBmcm9tICcuL0xhdExuZyc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgTGF0TG5nQm91bmRzXHJcbiAqIEBha2EgTC5MYXRMbmdCb3VuZHNcclxuICpcclxuICogUmVwcmVzZW50cyBhIHJlY3Rhbmd1bGFyIGdlb2dyYXBoaWNhbCBhcmVhIG9uIGEgbWFwLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgY29ybmVyMSA9IEwubGF0TG5nKDQwLjcxMiwgLTc0LjIyNyksXHJcbiAqIGNvcm5lcjIgPSBMLmxhdExuZyg0MC43NzQsIC03NC4xMjUpLFxyXG4gKiBib3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhjb3JuZXIxLCBjb3JuZXIyKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEFsbCBMZWFmbGV0IG1ldGhvZHMgdGhhdCBhY2NlcHQgTGF0TG5nQm91bmRzIG9iamVjdHMgYWxzbyBhY2NlcHQgdGhlbSBpbiBhIHNpbXBsZSBBcnJheSBmb3JtICh1bmxlc3Mgbm90ZWQgb3RoZXJ3aXNlKSwgc28gdGhlIGJvdW5kcyBleGFtcGxlIGFib3ZlIGNhbiBiZSBwYXNzZWQgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBtYXAuZml0Qm91bmRzKFtcclxuICogXHRbNDAuNzEyLCAtNzQuMjI3XSxcclxuICogXHRbNDAuNzc0LCAtNzQuMTI1XVxyXG4gKiBdKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIENhdXRpb246IGlmIHRoZSBhcmVhIGNyb3NzZXMgdGhlIGFudGltZXJpZGlhbiAob2Z0ZW4gY29uZnVzZWQgd2l0aCB0aGUgSW50ZXJuYXRpb25hbCBEYXRlIExpbmUpLCB5b3UgbXVzdCBzcGVjaWZ5IGNvcm5lcnMgX291dHNpZGVfIHRoZSBbLTE4MCwgMTgwXSBkZWdyZWVzIGxvbmdpdHVkZSByYW5nZS5cclxuICpcclxuICogTm90ZSB0aGF0IGBMYXRMbmdCb3VuZHNgIGRvZXMgbm90IGluaGVyaXQgZnJvbSBMZWFmbGV0J3MgYENsYXNzYCBvYmplY3QsXHJcbiAqIHdoaWNoIG1lYW5zIG5ldyBjbGFzc2VzIGNhbid0IGluaGVyaXQgZnJvbSBpdCwgYW5kIG5ldyBtZXRob2RzXHJcbiAqIGNhbid0IGJlIGFkZGVkIHRvIGl0IHdpdGggdGhlIGBpbmNsdWRlYCBmdW5jdGlvbi5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTGF0TG5nQm91bmRzKGNvcm5lcjEsIGNvcm5lcjIpIHsgLy8gKExhdExuZywgTGF0TG5nKSBvciAoTGF0TG5nW10pXHJcblx0aWYgKCFjb3JuZXIxKSB7IHJldHVybjsgfVxyXG5cclxuXHR2YXIgbGF0bG5ncyA9IGNvcm5lcjIgPyBbY29ybmVyMSwgY29ybmVyMl0gOiBjb3JuZXIxO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGF0bG5ncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0dGhpcy5leHRlbmQobGF0bG5nc1tpXSk7XHJcblx0fVxyXG59XHJcblxyXG5MYXRMbmdCb3VuZHMucHJvdG90eXBlID0ge1xyXG5cclxuXHQvLyBAbWV0aG9kIGV4dGVuZChsYXRsbmc6IExhdExuZyk6IHRoaXNcclxuXHQvLyBFeHRlbmQgdGhlIGJvdW5kcyB0byBjb250YWluIHRoZSBnaXZlbiBwb2ludFxyXG5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIGV4dGVuZChvdGhlckJvdW5kczogTGF0TG5nQm91bmRzKTogdGhpc1xyXG5cdC8vIEV4dGVuZCB0aGUgYm91bmRzIHRvIGNvbnRhaW4gdGhlIGdpdmVuIGJvdW5kc1xyXG5cdGV4dGVuZDogZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0dmFyIHN3ID0gdGhpcy5fc291dGhXZXN0LFxyXG5cdFx0ICAgIG5lID0gdGhpcy5fbm9ydGhFYXN0LFxyXG5cdFx0ICAgIHN3MiwgbmUyO1xyXG5cclxuXHRcdGlmIChvYmogaW5zdGFuY2VvZiBMYXRMbmcpIHtcclxuXHRcdFx0c3cyID0gb2JqO1xyXG5cdFx0XHRuZTIgPSBvYmo7XHJcblxyXG5cdFx0fSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBMYXRMbmdCb3VuZHMpIHtcclxuXHRcdFx0c3cyID0gb2JqLl9zb3V0aFdlc3Q7XHJcblx0XHRcdG5lMiA9IG9iai5fbm9ydGhFYXN0O1xyXG5cclxuXHRcdFx0aWYgKCFzdzIgfHwgIW5lMikgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBvYmogPyB0aGlzLmV4dGVuZCh0b0xhdExuZyhvYmopIHx8IHRvTGF0TG5nQm91bmRzKG9iaikpIDogdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXN3ICYmICFuZSkge1xyXG5cdFx0XHR0aGlzLl9zb3V0aFdlc3QgPSBuZXcgTGF0TG5nKHN3Mi5sYXQsIHN3Mi5sbmcpO1xyXG5cdFx0XHR0aGlzLl9ub3J0aEVhc3QgPSBuZXcgTGF0TG5nKG5lMi5sYXQsIG5lMi5sbmcpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3cubGF0ID0gTWF0aC5taW4oc3cyLmxhdCwgc3cubGF0KTtcclxuXHRcdFx0c3cubG5nID0gTWF0aC5taW4oc3cyLmxuZywgc3cubG5nKTtcclxuXHRcdFx0bmUubGF0ID0gTWF0aC5tYXgobmUyLmxhdCwgbmUubGF0KTtcclxuXHRcdFx0bmUubG5nID0gTWF0aC5tYXgobmUyLmxuZywgbmUubG5nKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHBhZChidWZmZXJSYXRpbzogTnVtYmVyKTogTGF0TG5nQm91bmRzXHJcblx0Ly8gUmV0dXJucyBib3VuZHMgY3JlYXRlZCBieSBleHRlbmRpbmcgb3IgcmV0cmFjdGluZyB0aGUgY3VycmVudCBib3VuZHMgYnkgYSBnaXZlbiByYXRpbyBpbiBlYWNoIGRpcmVjdGlvbi5cclxuXHQvLyBGb3IgZXhhbXBsZSwgYSByYXRpbyBvZiAwLjUgZXh0ZW5kcyB0aGUgYm91bmRzIGJ5IDUwJSBpbiBlYWNoIGRpcmVjdGlvbi5cclxuXHQvLyBOZWdhdGl2ZSB2YWx1ZXMgd2lsbCByZXRyYWN0IHRoZSBib3VuZHMuXHJcblx0cGFkOiBmdW5jdGlvbiAoYnVmZmVyUmF0aW8pIHtcclxuXHRcdHZhciBzdyA9IHRoaXMuX3NvdXRoV2VzdCxcclxuXHRcdCAgICBuZSA9IHRoaXMuX25vcnRoRWFzdCxcclxuXHRcdCAgICBoZWlnaHRCdWZmZXIgPSBNYXRoLmFicyhzdy5sYXQgLSBuZS5sYXQpICogYnVmZmVyUmF0aW8sXHJcblx0XHQgICAgd2lkdGhCdWZmZXIgPSBNYXRoLmFicyhzdy5sbmcgLSBuZS5sbmcpICogYnVmZmVyUmF0aW87XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmdCb3VuZHMoXHJcblx0XHQgICAgICAgIG5ldyBMYXRMbmcoc3cubGF0IC0gaGVpZ2h0QnVmZmVyLCBzdy5sbmcgLSB3aWR0aEJ1ZmZlciksXHJcblx0XHQgICAgICAgIG5ldyBMYXRMbmcobmUubGF0ICsgaGVpZ2h0QnVmZmVyLCBuZS5sbmcgKyB3aWR0aEJ1ZmZlcikpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Q2VudGVyKCk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgdGhlIGNlbnRlciBwb2ludCBvZiB0aGUgYm91bmRzLlxyXG5cdGdldENlbnRlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmcoXHJcblx0XHQgICAgICAgICh0aGlzLl9zb3V0aFdlc3QubGF0ICsgdGhpcy5fbm9ydGhFYXN0LmxhdCkgLyAyLFxyXG5cdFx0ICAgICAgICAodGhpcy5fc291dGhXZXN0LmxuZyArIHRoaXMuX25vcnRoRWFzdC5sbmcpIC8gMik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRTb3V0aFdlc3QoKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyB0aGUgc291dGgtd2VzdCBwb2ludCBvZiB0aGUgYm91bmRzLlxyXG5cdGdldFNvdXRoV2VzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NvdXRoV2VzdDtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldE5vcnRoRWFzdCgpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBub3J0aC1lYXN0IHBvaW50IG9mIHRoZSBib3VuZHMuXHJcblx0Z2V0Tm9ydGhFYXN0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fbm9ydGhFYXN0O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Tm9ydGhXZXN0KCk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgdGhlIG5vcnRoLXdlc3QgcG9pbnQgb2YgdGhlIGJvdW5kcy5cclxuXHRnZXROb3J0aFdlc3Q6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKHRoaXMuZ2V0Tm9ydGgoKSwgdGhpcy5nZXRXZXN0KCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0U291dGhFYXN0KCk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgdGhlIHNvdXRoLWVhc3QgcG9pbnQgb2YgdGhlIGJvdW5kcy5cclxuXHRnZXRTb3V0aEVhc3Q6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKHRoaXMuZ2V0U291dGgoKSwgdGhpcy5nZXRFYXN0KCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0V2VzdCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSB3ZXN0IGxvbmdpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0V2VzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NvdXRoV2VzdC5sbmc7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRTb3V0aCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBzb3V0aCBsYXRpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0U291dGg6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9zb3V0aFdlc3QubGF0O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0RWFzdCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBlYXN0IGxvbmdpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0RWFzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX25vcnRoRWFzdC5sbmc7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXROb3J0aCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBub3J0aCBsYXRpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0Tm9ydGg6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9ub3J0aEVhc3QubGF0O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMob3RoZXJCb3VuZHM6IExhdExuZ0JvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIGNvbnRhaW5zIHRoZSBnaXZlbiBvbmUuXHJcblxyXG5cdC8vIEBhbHRlcm5hdGl2ZVxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMgKGxhdGxuZzogTGF0TG5nKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgY29udGFpbnMgdGhlIGdpdmVuIHBvaW50LlxyXG5cdGNvbnRhaW5zOiBmdW5jdGlvbiAob2JqKSB7IC8vIChMYXRMbmdCb3VuZHMpIG9yIChMYXRMbmcpIC0+IEJvb2xlYW5cclxuXHRcdGlmICh0eXBlb2Ygb2JqWzBdID09PSAnbnVtYmVyJyB8fCBvYmogaW5zdGFuY2VvZiBMYXRMbmcgfHwgJ2xhdCcgaW4gb2JqKSB7XHJcblx0XHRcdG9iaiA9IHRvTGF0TG5nKG9iaik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvYmogPSB0b0xhdExuZ0JvdW5kcyhvYmopO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBzdyA9IHRoaXMuX3NvdXRoV2VzdCxcclxuXHRcdCAgICBuZSA9IHRoaXMuX25vcnRoRWFzdCxcclxuXHRcdCAgICBzdzIsIG5lMjtcclxuXHJcblx0XHRpZiAob2JqIGluc3RhbmNlb2YgTGF0TG5nQm91bmRzKSB7XHJcblx0XHRcdHN3MiA9IG9iai5nZXRTb3V0aFdlc3QoKTtcclxuXHRcdFx0bmUyID0gb2JqLmdldE5vcnRoRWFzdCgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3cyID0gbmUyID0gb2JqO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAoc3cyLmxhdCA+PSBzdy5sYXQpICYmIChuZTIubGF0IDw9IG5lLmxhdCkgJiZcclxuXHRcdCAgICAgICAoc3cyLmxuZyA+PSBzdy5sbmcpICYmIChuZTIubG5nIDw9IG5lLmxuZyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpbnRlcnNlY3RzKG90aGVyQm91bmRzOiBMYXRMbmdCb3VuZHMpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBpbnRlcnNlY3RzIHRoZSBnaXZlbiBib3VuZHMuIFR3byBib3VuZHMgaW50ZXJzZWN0IGlmIHRoZXkgaGF2ZSBhdCBsZWFzdCBvbmUgcG9pbnQgaW4gY29tbW9uLlxyXG5cdGludGVyc2VjdHM6IGZ1bmN0aW9uIChib3VuZHMpIHtcclxuXHRcdGJvdW5kcyA9IHRvTGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0dmFyIHN3ID0gdGhpcy5fc291dGhXZXN0LFxyXG5cdFx0ICAgIG5lID0gdGhpcy5fbm9ydGhFYXN0LFxyXG5cdFx0ICAgIHN3MiA9IGJvdW5kcy5nZXRTb3V0aFdlc3QoKSxcclxuXHRcdCAgICBuZTIgPSBib3VuZHMuZ2V0Tm9ydGhFYXN0KCksXHJcblxyXG5cdFx0ICAgIGxhdEludGVyc2VjdHMgPSAobmUyLmxhdCA+PSBzdy5sYXQpICYmIChzdzIubGF0IDw9IG5lLmxhdCksXHJcblx0XHQgICAgbG5nSW50ZXJzZWN0cyA9IChuZTIubG5nID49IHN3LmxuZykgJiYgKHN3Mi5sbmcgPD0gbmUubG5nKTtcclxuXHJcblx0XHRyZXR1cm4gbGF0SW50ZXJzZWN0cyAmJiBsbmdJbnRlcnNlY3RzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgb3ZlcmxhcHMob3RoZXJCb3VuZHM6IExhdExuZ0JvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIG92ZXJsYXBzIHRoZSBnaXZlbiBib3VuZHMuIFR3byBib3VuZHMgb3ZlcmxhcCBpZiB0aGVpciBpbnRlcnNlY3Rpb24gaXMgYW4gYXJlYS5cclxuXHRvdmVybGFwczogZnVuY3Rpb24gKGJvdW5kcykge1xyXG5cdFx0Ym91bmRzID0gdG9MYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHR2YXIgc3cgPSB0aGlzLl9zb3V0aFdlc3QsXHJcblx0XHQgICAgbmUgPSB0aGlzLl9ub3J0aEVhc3QsXHJcblx0XHQgICAgc3cyID0gYm91bmRzLmdldFNvdXRoV2VzdCgpLFxyXG5cdFx0ICAgIG5lMiA9IGJvdW5kcy5nZXROb3J0aEVhc3QoKSxcclxuXHJcblx0XHQgICAgbGF0T3ZlcmxhcHMgPSAobmUyLmxhdCA+IHN3LmxhdCkgJiYgKHN3Mi5sYXQgPCBuZS5sYXQpLFxyXG5cdFx0ICAgIGxuZ092ZXJsYXBzID0gKG5lMi5sbmcgPiBzdy5sbmcpICYmIChzdzIubG5nIDwgbmUubG5nKTtcclxuXHJcblx0XHRyZXR1cm4gbGF0T3ZlcmxhcHMgJiYgbG5nT3ZlcmxhcHM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b0JCb3hTdHJpbmcoKTogU3RyaW5nXHJcblx0Ly8gUmV0dXJucyBhIHN0cmluZyB3aXRoIGJvdW5kaW5nIGJveCBjb29yZGluYXRlcyBpbiBhICdzb3V0aHdlc3RfbG5nLHNvdXRod2VzdF9sYXQsbm9ydGhlYXN0X2xuZyxub3J0aGVhc3RfbGF0JyBmb3JtYXQuIFVzZWZ1bCBmb3Igc2VuZGluZyByZXF1ZXN0cyB0byB3ZWIgc2VydmljZXMgdGhhdCByZXR1cm4gZ2VvIGRhdGEuXHJcblx0dG9CQm94U3RyaW5nOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gW3RoaXMuZ2V0V2VzdCgpLCB0aGlzLmdldFNvdXRoKCksIHRoaXMuZ2V0RWFzdCgpLCB0aGlzLmdldE5vcnRoKCldLmpvaW4oJywnKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGVxdWFscyhvdGhlckJvdW5kczogTGF0TG5nQm91bmRzLCBtYXhNYXJnaW4/OiBOdW1iZXIpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBpcyBlcXVpdmFsZW50ICh3aXRoaW4gYSBzbWFsbCBtYXJnaW4gb2YgZXJyb3IpIHRvIHRoZSBnaXZlbiBib3VuZHMuIFRoZSBtYXJnaW4gb2YgZXJyb3IgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBgbWF4TWFyZ2luYCB0byBhIHNtYWxsIG51bWJlci5cclxuXHRlcXVhbHM6IGZ1bmN0aW9uIChib3VuZHMsIG1heE1hcmdpbikge1xyXG5cdFx0aWYgKCFib3VuZHMpIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG5cdFx0Ym91bmRzID0gdG9MYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5fc291dGhXZXN0LmVxdWFscyhib3VuZHMuZ2V0U291dGhXZXN0KCksIG1heE1hcmdpbikgJiZcclxuXHRcdCAgICAgICB0aGlzLl9ub3J0aEVhc3QuZXF1YWxzKGJvdW5kcy5nZXROb3J0aEVhc3QoKSwgbWF4TWFyZ2luKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGlzVmFsaWQoKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBib3VuZHMgYXJlIHByb3Blcmx5IGluaXRpYWxpemVkLlxyXG5cdGlzVmFsaWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAhISh0aGlzLl9zb3V0aFdlc3QgJiYgdGhpcy5fbm9ydGhFYXN0KTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBUT0RPIEludGVybmF0aW9uYWwgZGF0ZSBsaW5lP1xyXG5cclxuLy8gQGZhY3RvcnkgTC5sYXRMbmdCb3VuZHMoY29ybmVyMTogTGF0TG5nLCBjb3JuZXIyOiBMYXRMbmcpXHJcbi8vIENyZWF0ZXMgYSBgTGF0TG5nQm91bmRzYCBvYmplY3QgYnkgZGVmaW5pbmcgdHdvIGRpYWdvbmFsbHkgb3Bwb3NpdGUgY29ybmVycyBvZiB0aGUgcmVjdGFuZ2xlLlxyXG5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmYWN0b3J5IEwubGF0TG5nQm91bmRzKGxhdGxuZ3M6IExhdExuZ1tdKVxyXG4vLyBDcmVhdGVzIGEgYExhdExuZ0JvdW5kc2Agb2JqZWN0IGRlZmluZWQgYnkgdGhlIGdlb2dyYXBoaWNhbCBwb2ludHMgaXQgY29udGFpbnMuIFZlcnkgdXNlZnVsIGZvciB6b29taW5nIHRoZSBtYXAgdG8gZml0IGEgcGFydGljdWxhciBzZXQgb2YgbG9jYXRpb25zIHdpdGggW2BmaXRCb3VuZHNgXSgjbWFwLWZpdGJvdW5kcykuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0xhdExuZ0JvdW5kcyhhLCBiKSB7XHJcblx0aWYgKGEgaW5zdGFuY2VvZiBMYXRMbmdCb3VuZHMpIHtcclxuXHRcdHJldHVybiBhO1xyXG5cdH1cclxuXHRyZXR1cm4gbmV3IExhdExuZ0JvdW5kcyhhLCBiKTtcclxufVxyXG4iLCAiaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge0VhcnRofSBmcm9tICcuL2Nycy9DUlMuRWFydGgnO1xyXG5pbXBvcnQge3RvTGF0TG5nQm91bmRzfSBmcm9tICcuL0xhdExuZ0JvdW5kcyc7XHJcblxyXG4vKiBAY2xhc3MgTGF0TG5nXHJcbiAqIEBha2EgTC5MYXRMbmdcclxuICpcclxuICogUmVwcmVzZW50cyBhIGdlb2dyYXBoaWNhbCBwb2ludCB3aXRoIGEgY2VydGFpbiBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBcclxuICogdmFyIGxhdGxuZyA9IEwubGF0TG5nKDUwLjUsIDMwLjUpO1xyXG4gKiBgYGBcclxuICpcclxuICogQWxsIExlYWZsZXQgbWV0aG9kcyB0aGF0IGFjY2VwdCBMYXRMbmcgb2JqZWN0cyBhbHNvIGFjY2VwdCB0aGVtIGluIGEgc2ltcGxlIEFycmF5IGZvcm0gYW5kIHNpbXBsZSBvYmplY3QgZm9ybSAodW5sZXNzIG5vdGVkIG90aGVyd2lzZSksIHNvIHRoZXNlIGxpbmVzIGFyZSBlcXVpdmFsZW50OlxyXG4gKlxyXG4gKiBgYGBcclxuICogbWFwLnBhblRvKFs1MCwgMzBdKTtcclxuICogbWFwLnBhblRvKHtsb246IDMwLCBsYXQ6IDUwfSk7XHJcbiAqIG1hcC5wYW5Ubyh7bGF0OiA1MCwgbG5nOiAzMH0pO1xyXG4gKiBtYXAucGFuVG8oTC5sYXRMbmcoNTAsIDMwKSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgYExhdExuZ2AgZG9lcyBub3QgaW5oZXJpdCBmcm9tIExlYWZsZXQncyBgQ2xhc3NgIG9iamVjdCxcclxuICogd2hpY2ggbWVhbnMgbmV3IGNsYXNzZXMgY2FuJ3QgaW5oZXJpdCBmcm9tIGl0LCBhbmQgbmV3IG1ldGhvZHNcclxuICogY2FuJ3QgYmUgYWRkZWQgdG8gaXQgd2l0aCB0aGUgYGluY2x1ZGVgIGZ1bmN0aW9uLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBMYXRMbmcobGF0LCBsbmcsIGFsdCkge1xyXG5cdGlmIChpc05hTihsYXQpIHx8IGlzTmFOKGxuZykpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBMYXRMbmcgb2JqZWN0OiAoJyArIGxhdCArICcsICcgKyBsbmcgKyAnKScpO1xyXG5cdH1cclxuXHJcblx0Ly8gQHByb3BlcnR5IGxhdDogTnVtYmVyXHJcblx0Ly8gTGF0aXR1ZGUgaW4gZGVncmVlc1xyXG5cdHRoaXMubGF0ID0gK2xhdDtcclxuXHJcblx0Ly8gQHByb3BlcnR5IGxuZzogTnVtYmVyXHJcblx0Ly8gTG9uZ2l0dWRlIGluIGRlZ3JlZXNcclxuXHR0aGlzLmxuZyA9ICtsbmc7XHJcblxyXG5cdC8vIEBwcm9wZXJ0eSBhbHQ6IE51bWJlclxyXG5cdC8vIEFsdGl0dWRlIGluIG1ldGVycyAob3B0aW9uYWwpXHJcblx0aWYgKGFsdCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHR0aGlzLmFsdCA9ICthbHQ7XHJcblx0fVxyXG59XHJcblxyXG5MYXRMbmcucHJvdG90eXBlID0ge1xyXG5cdC8vIEBtZXRob2QgZXF1YWxzKG90aGVyTGF0TG5nOiBMYXRMbmcsIG1heE1hcmdpbj86IE51bWJlcik6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gYExhdExuZ2AgcG9pbnQgaXMgYXQgdGhlIHNhbWUgcG9zaXRpb24gKHdpdGhpbiBhIHNtYWxsIG1hcmdpbiBvZiBlcnJvcikuIFRoZSBtYXJnaW4gb2YgZXJyb3IgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBgbWF4TWFyZ2luYCB0byBhIHNtYWxsIG51bWJlci5cclxuXHRlcXVhbHM6IGZ1bmN0aW9uIChvYmosIG1heE1hcmdpbikge1xyXG5cdFx0aWYgKCFvYmopIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG5cdFx0b2JqID0gdG9MYXRMbmcob2JqKTtcclxuXHJcblx0XHR2YXIgbWFyZ2luID0gTWF0aC5tYXgoXHJcblx0XHQgICAgICAgIE1hdGguYWJzKHRoaXMubGF0IC0gb2JqLmxhdCksXHJcblx0XHQgICAgICAgIE1hdGguYWJzKHRoaXMubG5nIC0gb2JqLmxuZykpO1xyXG5cclxuXHRcdHJldHVybiBtYXJnaW4gPD0gKG1heE1hcmdpbiA9PT0gdW5kZWZpbmVkID8gMS4wRS05IDogbWF4TWFyZ2luKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHRvU3RyaW5nKCk6IFN0cmluZ1xyXG5cdC8vIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBvaW50IChmb3IgZGVidWdnaW5nIHB1cnBvc2VzKS5cclxuXHR0b1N0cmluZzogZnVuY3Rpb24gKHByZWNpc2lvbikge1xyXG5cdFx0cmV0dXJuICdMYXRMbmcoJyArXHJcblx0XHQgICAgICAgIFV0aWwuZm9ybWF0TnVtKHRoaXMubGF0LCBwcmVjaXNpb24pICsgJywgJyArXHJcblx0XHQgICAgICAgIFV0aWwuZm9ybWF0TnVtKHRoaXMubG5nLCBwcmVjaXNpb24pICsgJyknO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZGlzdGFuY2VUbyhvdGhlckxhdExuZzogTGF0TG5nKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgZGlzdGFuY2UgKGluIG1ldGVycykgdG8gdGhlIGdpdmVuIGBMYXRMbmdgIGNhbGN1bGF0ZWQgdXNpbmcgdGhlIFtTcGhlcmljYWwgTGF3IG9mIENvc2luZXNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NwaGVyaWNhbF9sYXdfb2ZfY29zaW5lcykuXHJcblx0ZGlzdGFuY2VUbzogZnVuY3Rpb24gKG90aGVyKSB7XHJcblx0XHRyZXR1cm4gRWFydGguZGlzdGFuY2UodGhpcywgdG9MYXRMbmcob3RoZXIpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHdyYXAoKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyBhIG5ldyBgTGF0TG5nYCBvYmplY3Qgd2l0aCB0aGUgbG9uZ2l0dWRlIHdyYXBwZWQgc28gaXQncyBhbHdheXMgYmV0d2VlbiAtMTgwIGFuZCArMTgwIGRlZ3JlZXMuXHJcblx0d3JhcDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIEVhcnRoLndyYXBMYXRMbmcodGhpcyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b0JvdW5kcyhzaXplSW5NZXRlcnM6IE51bWJlcik6IExhdExuZ0JvdW5kc1xyXG5cdC8vIFJldHVybnMgYSBuZXcgYExhdExuZ0JvdW5kc2Agb2JqZWN0IGluIHdoaWNoIGVhY2ggYm91bmRhcnkgaXMgYHNpemVJbk1ldGVycy8yYCBtZXRlcnMgYXBhcnQgZnJvbSB0aGUgYExhdExuZ2AuXHJcblx0dG9Cb3VuZHM6IGZ1bmN0aW9uIChzaXplSW5NZXRlcnMpIHtcclxuXHRcdHZhciBsYXRBY2N1cmFjeSA9IDE4MCAqIHNpemVJbk1ldGVycyAvIDQwMDc1MDE3LFxyXG5cdFx0ICAgIGxuZ0FjY3VyYWN5ID0gbGF0QWNjdXJhY3kgLyBNYXRoLmNvcygoTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmxhdCk7XHJcblxyXG5cdFx0cmV0dXJuIHRvTGF0TG5nQm91bmRzKFxyXG5cdFx0ICAgICAgICBbdGhpcy5sYXQgLSBsYXRBY2N1cmFjeSwgdGhpcy5sbmcgLSBsbmdBY2N1cmFjeV0sXHJcblx0XHQgICAgICAgIFt0aGlzLmxhdCArIGxhdEFjY3VyYWN5LCB0aGlzLmxuZyArIGxuZ0FjY3VyYWN5XSk7XHJcblx0fSxcclxuXHJcblx0Y2xvbmU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKHRoaXMubGF0LCB0aGlzLmxuZywgdGhpcy5hbHQpO1xyXG5cdH1cclxufTtcclxuXHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC5sYXRMbmcobGF0aXR1ZGU6IE51bWJlciwgbG9uZ2l0dWRlOiBOdW1iZXIsIGFsdGl0dWRlPzogTnVtYmVyKTogTGF0TG5nXHJcbi8vIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGluZyBhIGdlb2dyYXBoaWNhbCBwb2ludCB3aXRoIHRoZSBnaXZlbiBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIChhbmQgb3B0aW9uYWxseSBhbHRpdHVkZSkuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC5sYXRMbmcoY29vcmRzOiBBcnJheSk6IExhdExuZ1xyXG4vLyBFeHBlY3RzIGFuIGFycmF5IG9mIHRoZSBmb3JtIGBbTnVtYmVyLCBOdW1iZXJdYCBvciBgW051bWJlciwgTnVtYmVyLCBOdW1iZXJdYCBpbnN0ZWFkLlxyXG5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmYWN0b3J5IEwubGF0TG5nKGNvb3JkczogT2JqZWN0KTogTGF0TG5nXHJcbi8vIEV4cGVjdHMgYW4gcGxhaW4gb2JqZWN0IG9mIHRoZSBmb3JtIGB7bGF0OiBOdW1iZXIsIGxuZzogTnVtYmVyfWAgb3IgYHtsYXQ6IE51bWJlciwgbG5nOiBOdW1iZXIsIGFsdDogTnVtYmVyfWAgaW5zdGVhZC5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0xhdExuZyhhLCBiLCBjKSB7XHJcblx0aWYgKGEgaW5zdGFuY2VvZiBMYXRMbmcpIHtcclxuXHRcdHJldHVybiBhO1xyXG5cdH1cclxuXHRpZiAoVXRpbC5pc0FycmF5KGEpICYmIHR5cGVvZiBhWzBdICE9PSAnb2JqZWN0Jykge1xyXG5cdFx0aWYgKGEubGVuZ3RoID09PSAzKSB7XHJcblx0XHRcdHJldHVybiBuZXcgTGF0TG5nKGFbMF0sIGFbMV0sIGFbMl0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGEubGVuZ3RoID09PSAyKSB7XHJcblx0XHRcdHJldHVybiBuZXcgTGF0TG5nKGFbMF0sIGFbMV0pO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdGlmIChhID09PSB1bmRlZmluZWQgfHwgYSA9PT0gbnVsbCkge1xyXG5cdFx0cmV0dXJuIGE7XHJcblx0fVxyXG5cdGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcgJiYgJ2xhdCcgaW4gYSkge1xyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmcoYS5sYXQsICdsbmcnIGluIGEgPyBhLmxuZyA6IGEubG9uLCBhLmFsdCk7XHJcblx0fVxyXG5cdGlmIChiID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHRyZXR1cm4gbmV3IExhdExuZyhhLCBiLCBjKTtcclxufVxyXG4iLCAiXHJcbmltcG9ydCB7Qm91bmRzfSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Cb3VuZHMnO1xyXG5pbXBvcnQge0xhdExuZ30gZnJvbSAnLi4vTGF0TG5nJztcclxuaW1wb3J0IHtMYXRMbmdCb3VuZHN9IGZyb20gJy4uL0xhdExuZ0JvdW5kcyc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgQ1JTXHJcbiAqIEBjcnMgTC5DUlMuQmFzZVxyXG4gKiBPYmplY3QgdGhhdCBkZWZpbmVzIGNvb3JkaW5hdGUgcmVmZXJlbmNlIHN5c3RlbXMgZm9yIHByb2plY3RpbmdcclxuICogZ2VvZ3JhcGhpY2FsIHBvaW50cyBpbnRvIHBpeGVsIChzY3JlZW4pIGNvb3JkaW5hdGVzIGFuZCBiYWNrIChhbmQgdG9cclxuICogY29vcmRpbmF0ZXMgaW4gb3RoZXIgdW5pdHMgZm9yIFtXTVNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dlYl9NYXBfU2VydmljZSkgc2VydmljZXMpLiBTZWVcclxuICogW3NwYXRpYWwgcmVmZXJlbmNlIHN5c3RlbV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3BhdGlhbF9yZWZlcmVuY2Vfc3lzdGVtKS5cclxuICpcclxuICogTGVhZmxldCBkZWZpbmVzIHRoZSBtb3N0IHVzdWFsIENSU3MgYnkgZGVmYXVsdC4gSWYgeW91IHdhbnQgdG8gdXNlIGFcclxuICogQ1JTIG5vdCBkZWZpbmVkIGJ5IGRlZmF1bHQsIHRha2UgYSBsb29rIGF0IHRoZVxyXG4gKiBbUHJvajRMZWFmbGV0XShodHRwczovL2dpdGh1Yi5jb20va2FydGVuYS9Qcm9qNExlYWZsZXQpIHBsdWdpbi5cclxuICpcclxuICogTm90ZSB0aGF0IHRoZSBDUlMgaW5zdGFuY2VzIGRvIG5vdCBpbmhlcml0IGZyb20gTGVhZmxldCdzIGBDbGFzc2Agb2JqZWN0LFxyXG4gKiBhbmQgY2FuJ3QgYmUgaW5zdGFudGlhdGVkLiBBbHNvLCBuZXcgY2xhc3NlcyBjYW4ndCBpbmhlcml0IGZyb20gdGhlbSxcclxuICogYW5kIG1ldGhvZHMgY2FuJ3QgYmUgYWRkZWQgdG8gdGhlbSB3aXRoIHRoZSBgaW5jbHVkZWAgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBDUlMgPSB7XHJcblx0Ly8gQG1ldGhvZCBsYXRMbmdUb1BvaW50KGxhdGxuZzogTGF0TG5nLCB6b29tOiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFByb2plY3RzIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyBpbnRvIHBpeGVsIGNvb3JkaW5hdGVzIGZvciBhIGdpdmVuIHpvb20uXHJcblx0bGF0TG5nVG9Qb2ludDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSkge1xyXG5cdFx0dmFyIHByb2plY3RlZFBvaW50ID0gdGhpcy5wcm9qZWN0aW9uLnByb2plY3QobGF0bG5nKSxcclxuXHRcdCAgICBzY2FsZSA9IHRoaXMuc2NhbGUoem9vbSk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudHJhbnNmb3JtYXRpb24uX3RyYW5zZm9ybShwcm9qZWN0ZWRQb2ludCwgc2NhbGUpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcG9pbnRUb0xhdExuZyhwb2ludDogUG9pbnQsIHpvb206IE51bWJlcik6IExhdExuZ1xyXG5cdC8vIFRoZSBpbnZlcnNlIG9mIGBsYXRMbmdUb1BvaW50YC4gUHJvamVjdHMgcGl4ZWwgY29vcmRpbmF0ZXMgb24gYSBnaXZlblxyXG5cdC8vIHpvb20gaW50byBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMuXHJcblx0cG9pbnRUb0xhdExuZzogZnVuY3Rpb24gKHBvaW50LCB6b29tKSB7XHJcblx0XHR2YXIgc2NhbGUgPSB0aGlzLnNjYWxlKHpvb20pLFxyXG5cdFx0ICAgIHVudHJhbnNmb3JtZWRQb2ludCA9IHRoaXMudHJhbnNmb3JtYXRpb24udW50cmFuc2Zvcm0ocG9pbnQsIHNjYWxlKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnVucHJvamVjdCh1bnRyYW5zZm9ybWVkUG9pbnQpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcHJvamVjdChsYXRsbmc6IExhdExuZyk6IFBvaW50XHJcblx0Ly8gUHJvamVjdHMgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIGludG8gY29vcmRpbmF0ZXMgaW4gdW5pdHMgYWNjZXB0ZWQgZm9yXHJcblx0Ly8gdGhpcyBDUlMgKGUuZy4gbWV0ZXJzIGZvciBFUFNHOjM4NTcsIGZvciBwYXNzaW5nIGl0IHRvIFdNUyBzZXJ2aWNlcykuXHJcblx0cHJvamVjdDogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJvamVjdGlvbi5wcm9qZWN0KGxhdGxuZyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB1bnByb2plY3QocG9pbnQ6IFBvaW50KTogTGF0TG5nXHJcblx0Ly8gR2l2ZW4gYSBwcm9qZWN0ZWQgY29vcmRpbmF0ZSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIExhdExuZy5cclxuXHQvLyBUaGUgaW52ZXJzZSBvZiBgcHJvamVjdGAuXHJcblx0dW5wcm9qZWN0OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHJldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KHBvaW50KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNjYWxlKHpvb206IE51bWJlcik6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIHNjYWxlIHVzZWQgd2hlbiB0cmFuc2Zvcm1pbmcgcHJvamVjdGVkIGNvb3JkaW5hdGVzIGludG9cclxuXHQvLyBwaXhlbCBjb29yZGluYXRlcyBmb3IgYSBwYXJ0aWN1bGFyIHpvb20uIEZvciBleGFtcGxlLCBpdCByZXR1cm5zXHJcblx0Ly8gYDI1NiAqIDJeem9vbWAgZm9yIE1lcmNhdG9yLWJhc2VkIENSUy5cclxuXHRzY2FsZTogZnVuY3Rpb24gKHpvb20pIHtcclxuXHRcdHJldHVybiAyNTYgKiBNYXRoLnBvdygyLCB6b29tKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHpvb20oc2NhbGU6IE51bWJlcik6IE51bWJlclxyXG5cdC8vIEludmVyc2Ugb2YgYHNjYWxlKClgLCByZXR1cm5zIHRoZSB6b29tIGxldmVsIGNvcnJlc3BvbmRpbmcgdG8gYSBzY2FsZVxyXG5cdC8vIGZhY3RvciBvZiBgc2NhbGVgLlxyXG5cdHpvb206IGZ1bmN0aW9uIChzY2FsZSkge1xyXG5cdFx0cmV0dXJuIE1hdGgubG9nKHNjYWxlIC8gMjU2KSAvIE1hdGguTE4yO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0UHJvamVjdGVkQm91bmRzKHpvb206IE51bWJlcik6IEJvdW5kc1xyXG5cdC8vIFJldHVybnMgdGhlIHByb2plY3Rpb24ncyBib3VuZHMgc2NhbGVkIGFuZCB0cmFuc2Zvcm1lZCBmb3IgdGhlIHByb3ZpZGVkIGB6b29tYC5cclxuXHRnZXRQcm9qZWN0ZWRCb3VuZHM6IGZ1bmN0aW9uICh6b29tKSB7XHJcblx0XHRpZiAodGhpcy5pbmZpbml0ZSkgeyByZXR1cm4gbnVsbDsgfVxyXG5cclxuXHRcdHZhciBiID0gdGhpcy5wcm9qZWN0aW9uLmJvdW5kcyxcclxuXHRcdCAgICBzID0gdGhpcy5zY2FsZSh6b29tKSxcclxuXHRcdCAgICBtaW4gPSB0aGlzLnRyYW5zZm9ybWF0aW9uLnRyYW5zZm9ybShiLm1pbiwgcyksXHJcblx0XHQgICAgbWF4ID0gdGhpcy50cmFuc2Zvcm1hdGlvbi50cmFuc2Zvcm0oYi5tYXgsIHMpO1xyXG5cclxuXHRcdHJldHVybiBuZXcgQm91bmRzKG1pbiwgbWF4KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc3RhbmNlKGxhdGxuZzE6IExhdExuZywgbGF0bG5nMjogTGF0TG5nKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzLlxyXG5cclxuXHQvLyBAcHJvcGVydHkgY29kZTogU3RyaW5nXHJcblx0Ly8gU3RhbmRhcmQgY29kZSBuYW1lIG9mIHRoZSBDUlMgcGFzc2VkIGludG8gV01TIHNlcnZpY2VzIChlLmcuIGAnRVBTRzozODU3J2ApXHJcblx0Ly9cclxuXHQvLyBAcHJvcGVydHkgd3JhcExuZzogTnVtYmVyW11cclxuXHQvLyBBbiBhcnJheSBvZiB0d28gbnVtYmVycyBkZWZpbmluZyB3aGV0aGVyIHRoZSBsb25naXR1ZGUgKGhvcml6b250YWwpIGNvb3JkaW5hdGVcclxuXHQvLyBheGlzIHdyYXBzIGFyb3VuZCBhIGdpdmVuIHJhbmdlIGFuZCBob3cuIERlZmF1bHRzIHRvIGBbLTE4MCwgMTgwXWAgaW4gbW9zdFxyXG5cdC8vIGdlb2dyYXBoaWNhbCBDUlNzLiBJZiBgdW5kZWZpbmVkYCwgdGhlIGxvbmdpdHVkZSBheGlzIGRvZXMgbm90IHdyYXAgYXJvdW5kLlxyXG5cdC8vXHJcblx0Ly8gQHByb3BlcnR5IHdyYXBMYXQ6IE51bWJlcltdXHJcblx0Ly8gTGlrZSBgd3JhcExuZ2AsIGJ1dCBmb3IgdGhlIGxhdGl0dWRlICh2ZXJ0aWNhbCkgYXhpcy5cclxuXHJcblx0Ly8gd3JhcExuZzogW21pbiwgbWF4XSxcclxuXHQvLyB3cmFwTGF0OiBbbWluLCBtYXhdLFxyXG5cclxuXHQvLyBAcHJvcGVydHkgaW5maW5pdGU6IEJvb2xlYW5cclxuXHQvLyBJZiB0cnVlLCB0aGUgY29vcmRpbmF0ZSBzcGFjZSB3aWxsIGJlIHVuYm91bmRlZCAoaW5maW5pdGUgaW4gYm90aCBheGVzKVxyXG5cdGluZmluaXRlOiBmYWxzZSxcclxuXHJcblx0Ly8gQG1ldGhvZCB3cmFwTGF0TG5nKGxhdGxuZzogTGF0TG5nKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyBhIGBMYXRMbmdgIHdoZXJlIGxhdCBhbmQgbG5nIGhhcyBiZWVuIHdyYXBwZWQgYWNjb3JkaW5nIHRvIHRoZVxyXG5cdC8vIENSUydzIGB3cmFwTGF0YCBhbmQgYHdyYXBMbmdgIHByb3BlcnRpZXMsIGlmIHRoZXkgYXJlIG91dHNpZGUgdGhlIENSUydzIGJvdW5kcy5cclxuXHR3cmFwTGF0TG5nOiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHR2YXIgbG5nID0gdGhpcy53cmFwTG5nID8gVXRpbC53cmFwTnVtKGxhdGxuZy5sbmcsIHRoaXMud3JhcExuZywgdHJ1ZSkgOiBsYXRsbmcubG5nLFxyXG5cdFx0ICAgIGxhdCA9IHRoaXMud3JhcExhdCA/IFV0aWwud3JhcE51bShsYXRsbmcubGF0LCB0aGlzLndyYXBMYXQsIHRydWUpIDogbGF0bG5nLmxhdCxcclxuXHRcdCAgICBhbHQgPSBsYXRsbmcuYWx0O1xyXG5cclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKGxhdCwgbG5nLCBhbHQpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgd3JhcExhdExuZ0JvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcyk6IExhdExuZ0JvdW5kc1xyXG5cdC8vIFJldHVybnMgYSBgTGF0TG5nQm91bmRzYCB3aXRoIHRoZSBzYW1lIHNpemUgYXMgdGhlIGdpdmVuIG9uZSwgZW5zdXJpbmdcclxuXHQvLyB0aGF0IGl0cyBjZW50ZXIgaXMgd2l0aGluIHRoZSBDUlMncyBib3VuZHMuXHJcblx0Ly8gT25seSBhY2NlcHRzIGFjdHVhbCBgTC5MYXRMbmdCb3VuZHNgIGluc3RhbmNlcywgbm90IGFycmF5cy5cclxuXHR3cmFwTGF0TG5nQm91bmRzOiBmdW5jdGlvbiAoYm91bmRzKSB7XHJcblx0XHR2YXIgY2VudGVyID0gYm91bmRzLmdldENlbnRlcigpLFxyXG5cdFx0ICAgIG5ld0NlbnRlciA9IHRoaXMud3JhcExhdExuZyhjZW50ZXIpLFxyXG5cdFx0ICAgIGxhdFNoaWZ0ID0gY2VudGVyLmxhdCAtIG5ld0NlbnRlci5sYXQsXHJcblx0XHQgICAgbG5nU2hpZnQgPSBjZW50ZXIubG5nIC0gbmV3Q2VudGVyLmxuZztcclxuXHJcblx0XHRpZiAobGF0U2hpZnQgPT09IDAgJiYgbG5nU2hpZnQgPT09IDApIHtcclxuXHRcdFx0cmV0dXJuIGJvdW5kcztcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgc3cgPSBib3VuZHMuZ2V0U291dGhXZXN0KCksXHJcblx0XHQgICAgbmUgPSBib3VuZHMuZ2V0Tm9ydGhFYXN0KCksXHJcblx0XHQgICAgbmV3U3cgPSBuZXcgTGF0TG5nKHN3LmxhdCAtIGxhdFNoaWZ0LCBzdy5sbmcgLSBsbmdTaGlmdCksXHJcblx0XHQgICAgbmV3TmUgPSBuZXcgTGF0TG5nKG5lLmxhdCAtIGxhdFNoaWZ0LCBuZS5sbmcgLSBsbmdTaGlmdCk7XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmdCb3VuZHMobmV3U3csIG5ld05lKTtcclxuXHR9XHJcbn07XHJcbiIsICJpbXBvcnQge0NSU30gZnJvbSAnLi9DUlMnO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuXG4vKlxuICogQG5hbWVzcGFjZSBDUlNcbiAqIEBjcnMgTC5DUlMuRWFydGhcbiAqXG4gKiBTZXJ2ZXMgYXMgdGhlIGJhc2UgZm9yIENSUyB0aGF0IGFyZSBnbG9iYWwgc3VjaCB0aGF0IHRoZXkgY292ZXIgdGhlIGVhcnRoLlxuICogQ2FuIG9ubHkgYmUgdXNlZCBhcyB0aGUgYmFzZSBmb3Igb3RoZXIgQ1JTIGFuZCBjYW5ub3QgYmUgdXNlZCBkaXJlY3RseSxcbiAqIHNpbmNlIGl0IGRvZXMgbm90IGhhdmUgYSBgY29kZWAsIGBwcm9qZWN0aW9uYCBvciBgdHJhbnNmb3JtYXRpb25gLiBgZGlzdGFuY2UoKWAgcmV0dXJuc1xuICogbWV0ZXJzLlxuICovXG5cbmV4cG9ydCB2YXIgRWFydGggPSBVdGlsLmV4dGVuZCh7fSwgQ1JTLCB7XG5cdHdyYXBMbmc6IFstMTgwLCAxODBdLFxuXG5cdC8vIE1lYW4gRWFydGggUmFkaXVzLCBhcyByZWNvbW1lbmRlZCBmb3IgdXNlIGJ5XG5cdC8vIHRoZSBJbnRlcm5hdGlvbmFsIFVuaW9uIG9mIEdlb2Rlc3kgYW5kIEdlb3BoeXNpY3MsXG5cdC8vIHNlZSBodHRwczovL3Jvc2V0dGFjb2RlLm9yZy93aWtpL0hhdmVyc2luZV9mb3JtdWxhXG5cdFI6IDYzNzEwMDAsXG5cblx0Ly8gZGlzdGFuY2UgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpY2FsIHBvaW50cyB1c2luZyBzcGhlcmljYWwgbGF3IG9mIGNvc2luZXMgYXBwcm94aW1hdGlvblxuXHRkaXN0YW5jZTogZnVuY3Rpb24gKGxhdGxuZzEsIGxhdGxuZzIpIHtcblx0XHR2YXIgcmFkID0gTWF0aC5QSSAvIDE4MCxcblx0XHQgICAgbGF0MSA9IGxhdGxuZzEubGF0ICogcmFkLFxuXHRcdCAgICBsYXQyID0gbGF0bG5nMi5sYXQgKiByYWQsXG5cdFx0ICAgIHNpbkRMYXQgPSBNYXRoLnNpbigobGF0bG5nMi5sYXQgLSBsYXRsbmcxLmxhdCkgKiByYWQgLyAyKSxcblx0XHQgICAgc2luRExvbiA9IE1hdGguc2luKChsYXRsbmcyLmxuZyAtIGxhdGxuZzEubG5nKSAqIHJhZCAvIDIpLFxuXHRcdCAgICBhID0gc2luRExhdCAqIHNpbkRMYXQgKyBNYXRoLmNvcyhsYXQxKSAqIE1hdGguY29zKGxhdDIpICogc2luRExvbiAqIHNpbkRMb24sXG5cdFx0ICAgIGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xuXHRcdHJldHVybiB0aGlzLlIgKiBjO1xuXHR9XG59KTtcbiIsICJpbXBvcnQge0xhdExuZ30gZnJvbSAnLi4vTGF0TG5nJztcclxuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XHJcbmltcG9ydCB7UG9pbnR9IGZyb20gJy4uLy4uL2dlb21ldHJ5L1BvaW50JztcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgUHJvamVjdGlvblxyXG4gKiBAcHJvamVjdGlvbiBMLlByb2plY3Rpb24uU3BoZXJpY2FsTWVyY2F0b3JcclxuICpcclxuICogU3BoZXJpY2FsIE1lcmNhdG9yIHByb2plY3Rpb24g4oCUIHRoZSBtb3N0IGNvbW1vbiBwcm9qZWN0aW9uIGZvciBvbmxpbmUgbWFwcyxcclxuICogdXNlZCBieSBhbG1vc3QgYWxsIGZyZWUgYW5kIGNvbW1lcmNpYWwgdGlsZSBwcm92aWRlcnMuIEFzc3VtZXMgdGhhdCBFYXJ0aCBpc1xyXG4gKiBhIHNwaGVyZS4gVXNlZCBieSB0aGUgYEVQU0c6Mzg1N2AgQ1JTLlxyXG4gKi9cclxuXHJcbnZhciBlYXJ0aFJhZGl1cyA9IDYzNzgxMzc7XHJcblxyXG5leHBvcnQgdmFyIFNwaGVyaWNhbE1lcmNhdG9yID0ge1xyXG5cclxuXHRSOiBlYXJ0aFJhZGl1cyxcclxuXHRNQVhfTEFUSVRVREU6IDg1LjA1MTEyODc3OTgsXHJcblxyXG5cdHByb2plY3Q6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHZhciBkID0gTWF0aC5QSSAvIDE4MCxcclxuXHRcdCAgICBtYXggPSB0aGlzLk1BWF9MQVRJVFVERSxcclxuXHRcdCAgICBsYXQgPSBNYXRoLm1heChNYXRoLm1pbihtYXgsIGxhdGxuZy5sYXQpLCAtbWF4KSxcclxuXHRcdCAgICBzaW4gPSBNYXRoLnNpbihsYXQgKiBkKTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KFxyXG5cdFx0XHR0aGlzLlIgKiBsYXRsbmcubG5nICogZCxcclxuXHRcdFx0dGhpcy5SICogTWF0aC5sb2coKDEgKyBzaW4pIC8gKDEgLSBzaW4pKSAvIDIpO1xyXG5cdH0sXHJcblxyXG5cdHVucHJvamVjdDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHR2YXIgZCA9IDE4MCAvIE1hdGguUEk7XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmcoXHJcblx0XHRcdCgyICogTWF0aC5hdGFuKE1hdGguZXhwKHBvaW50LnkgLyB0aGlzLlIpKSAtIChNYXRoLlBJIC8gMikpICogZCxcclxuXHRcdFx0cG9pbnQueCAqIGQgLyB0aGlzLlIpO1xyXG5cdH0sXHJcblxyXG5cdGJvdW5kczogKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBkID0gZWFydGhSYWRpdXMgKiBNYXRoLlBJO1xyXG5cdFx0cmV0dXJuIG5ldyBCb3VuZHMoWy1kLCAtZF0sIFtkLCBkXSk7XHJcblx0fSkoKVxyXG59O1xyXG4iLCAiaW1wb3J0IHtQb2ludH0gZnJvbSAnLi9Qb2ludCc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBUcmFuc2Zvcm1hdGlvblxyXG4gKiBAYWthIEwuVHJhbnNmb3JtYXRpb25cclxuICpcclxuICogUmVwcmVzZW50cyBhbiBhZmZpbmUgdHJhbnNmb3JtYXRpb246IGEgc2V0IG9mIGNvZWZmaWNpZW50cyBgYWAsIGBiYCwgYGNgLCBgZGBcclxuICogZm9yIHRyYW5zZm9ybWluZyBhIHBvaW50IG9mIGEgZm9ybSBgKHgsIHkpYCBpbnRvIGAoYSp4ICsgYiwgYyp5ICsgZClgIGFuZCBkb2luZ1xyXG4gKiB0aGUgcmV2ZXJzZS4gVXNlZCBieSBMZWFmbGV0IGluIGl0cyBwcm9qZWN0aW9ucyBjb2RlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgdHJhbnNmb3JtYXRpb24gPSBMLnRyYW5zZm9ybWF0aW9uKDIsIDUsIC0xLCAxMCksXHJcbiAqIFx0cCA9IEwucG9pbnQoMSwgMiksXHJcbiAqIFx0cDIgPSB0cmFuc2Zvcm1hdGlvbi50cmFuc2Zvcm0ocCksIC8vICBMLnBvaW50KDcsIDgpXHJcbiAqIFx0cDMgPSB0cmFuc2Zvcm1hdGlvbi51bnRyYW5zZm9ybShwMik7IC8vICBMLnBvaW50KDEsIDIpXHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcblxyXG4vLyBmYWN0b3J5IG5ldyBMLlRyYW5zZm9ybWF0aW9uKGE6IE51bWJlciwgYjogTnVtYmVyLCBjOiBOdW1iZXIsIGQ6IE51bWJlcilcclxuLy8gQ3JlYXRlcyBhIGBUcmFuc2Zvcm1hdGlvbmAgb2JqZWN0IHdpdGggdGhlIGdpdmVuIGNvZWZmaWNpZW50cy5cclxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zZm9ybWF0aW9uKGEsIGIsIGMsIGQpIHtcclxuXHRpZiAoVXRpbC5pc0FycmF5KGEpKSB7XHJcblx0XHQvLyB1c2UgYXJyYXkgcHJvcGVydGllc1xyXG5cdFx0dGhpcy5fYSA9IGFbMF07XHJcblx0XHR0aGlzLl9iID0gYVsxXTtcclxuXHRcdHRoaXMuX2MgPSBhWzJdO1xyXG5cdFx0dGhpcy5fZCA9IGFbM107XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cdHRoaXMuX2EgPSBhO1xyXG5cdHRoaXMuX2IgPSBiO1xyXG5cdHRoaXMuX2MgPSBjO1xyXG5cdHRoaXMuX2QgPSBkO1xyXG59XHJcblxyXG5UcmFuc2Zvcm1hdGlvbi5wcm90b3R5cGUgPSB7XHJcblx0Ly8gQG1ldGhvZCB0cmFuc2Zvcm0ocG9pbnQ6IFBvaW50LCBzY2FsZT86IE51bWJlcik6IFBvaW50XHJcblx0Ly8gUmV0dXJucyBhIHRyYW5zZm9ybWVkIHBvaW50LCBvcHRpb25hbGx5IG11bHRpcGxpZWQgYnkgdGhlIGdpdmVuIHNjYWxlLlxyXG5cdC8vIE9ubHkgYWNjZXB0cyBhY3R1YWwgYEwuUG9pbnRgIGluc3RhbmNlcywgbm90IGFycmF5cy5cclxuXHR0cmFuc2Zvcm06IGZ1bmN0aW9uIChwb2ludCwgc2NhbGUpIHsgLy8gKFBvaW50LCBOdW1iZXIpIC0+IFBvaW50XHJcblx0XHRyZXR1cm4gdGhpcy5fdHJhbnNmb3JtKHBvaW50LmNsb25lKCksIHNjYWxlKTtcclxuXHR9LFxyXG5cclxuXHQvLyBkZXN0cnVjdGl2ZSB0cmFuc2Zvcm0gKGZhc3RlcilcclxuXHRfdHJhbnNmb3JtOiBmdW5jdGlvbiAocG9pbnQsIHNjYWxlKSB7XHJcblx0XHRzY2FsZSA9IHNjYWxlIHx8IDE7XHJcblx0XHRwb2ludC54ID0gc2NhbGUgKiAodGhpcy5fYSAqIHBvaW50LnggKyB0aGlzLl9iKTtcclxuXHRcdHBvaW50LnkgPSBzY2FsZSAqICh0aGlzLl9jICogcG9pbnQueSArIHRoaXMuX2QpO1xyXG5cdFx0cmV0dXJuIHBvaW50O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdW50cmFuc2Zvcm0ocG9pbnQ6IFBvaW50LCBzY2FsZT86IE51bWJlcik6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgcmV2ZXJzZSB0cmFuc2Zvcm1hdGlvbiBvZiB0aGUgZ2l2ZW4gcG9pbnQsIG9wdGlvbmFsbHkgZGl2aWRlZFxyXG5cdC8vIGJ5IHRoZSBnaXZlbiBzY2FsZS4gT25seSBhY2NlcHRzIGFjdHVhbCBgTC5Qb2ludGAgaW5zdGFuY2VzLCBub3QgYXJyYXlzLlxyXG5cdHVudHJhbnNmb3JtOiBmdW5jdGlvbiAocG9pbnQsIHNjYWxlKSB7XHJcblx0XHRzY2FsZSA9IHNjYWxlIHx8IDE7XHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KFxyXG5cdFx0ICAgICAgICAocG9pbnQueCAvIHNjYWxlIC0gdGhpcy5fYikgLyB0aGlzLl9hLFxyXG5cdFx0ICAgICAgICAocG9pbnQueSAvIHNjYWxlIC0gdGhpcy5fZCkgLyB0aGlzLl9jKTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBmYWN0b3J5IEwudHJhbnNmb3JtYXRpb24oYTogTnVtYmVyLCBiOiBOdW1iZXIsIGM6IE51bWJlciwgZDogTnVtYmVyKVxyXG5cclxuLy8gQGZhY3RvcnkgTC50cmFuc2Zvcm1hdGlvbihhOiBOdW1iZXIsIGI6IE51bWJlciwgYzogTnVtYmVyLCBkOiBOdW1iZXIpXHJcbi8vIEluc3RhbnRpYXRlcyBhIFRyYW5zZm9ybWF0aW9uIG9iamVjdCB3aXRoIHRoZSBnaXZlbiBjb2VmZmljaWVudHMuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC50cmFuc2Zvcm1hdGlvbihjb2VmZmljaWVudHM6IEFycmF5KTogVHJhbnNmb3JtYXRpb25cclxuLy8gRXhwZWN0cyBhbiBjb2VmZmljaWVudHMgYXJyYXkgb2YgdGhlIGZvcm1cclxuLy8gYFthOiBOdW1iZXIsIGI6IE51bWJlciwgYzogTnVtYmVyLCBkOiBOdW1iZXJdYC5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b1RyYW5zZm9ybWF0aW9uKGEsIGIsIGMsIGQpIHtcclxuXHRyZXR1cm4gbmV3IFRyYW5zZm9ybWF0aW9uKGEsIGIsIGMsIGQpO1xyXG59XHJcbiIsICJpbXBvcnQge0VhcnRofSBmcm9tICcuL0NSUy5FYXJ0aCc7XHJcbmltcG9ydCB7U3BoZXJpY2FsTWVyY2F0b3J9IGZyb20gJy4uL3Byb2plY3Rpb24vUHJvamVjdGlvbi5TcGhlcmljYWxNZXJjYXRvcic7XHJcbmltcG9ydCB7dG9UcmFuc2Zvcm1hdGlvbn0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvVHJhbnNmb3JtYXRpb24nO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIENSU1xyXG4gKiBAY3JzIEwuQ1JTLkVQU0czODU3XHJcbiAqXHJcbiAqIFRoZSBtb3N0IGNvbW1vbiBDUlMgZm9yIG9ubGluZSBtYXBzLCB1c2VkIGJ5IGFsbW9zdCBhbGwgZnJlZSBhbmQgY29tbWVyY2lhbFxyXG4gKiB0aWxlIHByb3ZpZGVycy4gVXNlcyBTcGhlcmljYWwgTWVyY2F0b3IgcHJvamVjdGlvbi4gU2V0IGluIGJ5IGRlZmF1bHQgaW5cclxuICogTWFwJ3MgYGNyc2Agb3B0aW9uLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgRVBTRzM4NTcgPSBVdGlsLmV4dGVuZCh7fSwgRWFydGgsIHtcclxuXHRjb2RlOiAnRVBTRzozODU3JyxcclxuXHRwcm9qZWN0aW9uOiBTcGhlcmljYWxNZXJjYXRvcixcclxuXHJcblx0dHJhbnNmb3JtYXRpb246IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgc2NhbGUgPSAwLjUgLyAoTWF0aC5QSSAqIFNwaGVyaWNhbE1lcmNhdG9yLlIpO1xyXG5cdFx0cmV0dXJuIHRvVHJhbnNmb3JtYXRpb24oc2NhbGUsIDAuNSwgLXNjYWxlLCAwLjUpO1xyXG5cdH0oKSlcclxufSk7XHJcblxyXG5leHBvcnQgdmFyIEVQU0c5MDA5MTMgPSBVdGlsLmV4dGVuZCh7fSwgRVBTRzM4NTcsIHtcclxuXHRjb2RlOiAnRVBTRzo5MDA5MTMnXHJcbn0pO1xyXG4iLCAiaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcblxuLy8gQG5hbWVzcGFjZSBTVkc7IEBzZWN0aW9uXG4vLyBUaGVyZSBhcmUgc2V2ZXJhbCBzdGF0aWMgZnVuY3Rpb25zIHdoaWNoIGNhbiBiZSBjYWxsZWQgd2l0aG91dCBpbnN0YW50aWF0aW5nIEwuU1ZHOlxuXG4vLyBAZnVuY3Rpb24gY3JlYXRlKG5hbWU6IFN0cmluZyk6IFNWR0VsZW1lbnRcbi8vIFJldHVybnMgYSBpbnN0YW5jZSBvZiBbU1ZHRWxlbWVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1NWR0VsZW1lbnQpLFxuLy8gY29ycmVzcG9uZGluZyB0byB0aGUgY2xhc3MgbmFtZSBwYXNzZWQuIEZvciBleGFtcGxlLCB1c2luZyAnbGluZScgd2lsbCByZXR1cm5cbi8vIGFuIGluc3RhbmNlIG9mIFtTVkdMaW5lRWxlbWVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1NWR0xpbmVFbGVtZW50KS5cbmV4cG9ydCBmdW5jdGlvbiBzdmdDcmVhdGUobmFtZSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuXG4vLyBAZnVuY3Rpb24gcG9pbnRzVG9QYXRoKHJpbmdzOiBQb2ludFtdLCBjbG9zZWQ6IEJvb2xlYW4pOiBTdHJpbmdcbi8vIEdlbmVyYXRlcyBhIFNWRyBwYXRoIHN0cmluZyBmb3IgbXVsdGlwbGUgcmluZ3MsIHdpdGggZWFjaCByaW5nIHR1cm5pbmdcbi8vIGludG8gXCJNLi5MLi5MLi5cIiBpbnN0cnVjdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNUb1BhdGgocmluZ3MsIGNsb3NlZCkge1xuXHR2YXIgc3RyID0gJycsXG5cdGksIGosIGxlbiwgbGVuMiwgcG9pbnRzLCBwO1xuXG5cdGZvciAoaSA9IDAsIGxlbiA9IHJpbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0cG9pbnRzID0gcmluZ3NbaV07XG5cblx0XHRmb3IgKGogPSAwLCBsZW4yID0gcG9pbnRzLmxlbmd0aDsgaiA8IGxlbjI7IGorKykge1xuXHRcdFx0cCA9IHBvaW50c1tqXTtcblx0XHRcdHN0ciArPSAoaiA/ICdMJyA6ICdNJykgKyBwLnggKyAnICcgKyBwLnk7XG5cdFx0fVxuXG5cdFx0Ly8gY2xvc2VzIHRoZSByaW5nIGZvciBwb2x5Z29uczsgXCJ4XCIgaXMgVk1MIHN5bnRheFxuXHRcdHN0ciArPSBjbG9zZWQgPyAoQnJvd3Nlci5zdmcgPyAneicgOiAneCcpIDogJyc7XG5cdH1cblxuXHQvLyBTVkcgY29tcGxhaW5zIGFib3V0IGVtcHR5IHBhdGggc3RyaW5nc1xuXHRyZXR1cm4gc3RyIHx8ICdNMCAwJztcbn1cblxuXG5cblxuIiwgImltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi9VdGlsJztcclxuaW1wb3J0IHtzdmdDcmVhdGV9IGZyb20gJy4uL2xheWVyL3ZlY3Rvci9TVkcuVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIEJyb3dzZXJcclxuICogQGFrYSBMLkJyb3dzZXJcclxuICpcclxuICogQSBuYW1lc3BhY2Ugd2l0aCBzdGF0aWMgcHJvcGVydGllcyBmb3IgYnJvd3Nlci9mZWF0dXJlIGRldGVjdGlvbiB1c2VkIGJ5IExlYWZsZXQgaW50ZXJuYWxseS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogaWYgKEwuQnJvd3Nlci5pZWx0OSkge1xyXG4gKiAgIGFsZXJ0KCdVcGdyYWRlIHlvdXIgYnJvd3NlciwgZHVkZSEnKTtcclxuICogfVxyXG4gKiBgYGBcclxuICovXHJcblxyXG52YXIgc3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XHJcblxyXG4vLyBAcHJvcGVydHkgaWU6IEJvb2xlYW47IGB0cnVlYCBmb3IgYWxsIEludGVybmV0IEV4cGxvcmVyIHZlcnNpb25zIChub3QgRWRnZSkuXHJcbnZhciBpZSA9ICdBY3RpdmVYT2JqZWN0JyBpbiB3aW5kb3c7XHJcblxyXG4vLyBAcHJvcGVydHkgaWVsdDk6IEJvb2xlYW47IGB0cnVlYCBmb3IgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbnMgbGVzcyB0aGFuIDkuXHJcbnZhciBpZWx0OSA9IGllICYmICFkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyO1xyXG5cclxuLy8gQHByb3BlcnR5IGVkZ2U6IEJvb2xlYW47IGB0cnVlYCBmb3IgdGhlIEVkZ2Ugd2ViIGJyb3dzZXIuXHJcbnZhciBlZGdlID0gJ21zTGF1bmNoVXJpJyBpbiBuYXZpZ2F0b3IgJiYgISgnZG9jdW1lbnRNb2RlJyBpbiBkb2N1bWVudCk7XHJcblxyXG4vLyBAcHJvcGVydHkgd2Via2l0OiBCb29sZWFuO1xyXG4vLyBgdHJ1ZWAgZm9yIHdlYmtpdC1iYXNlZCBicm93c2VycyBsaWtlIENocm9tZSBhbmQgU2FmYXJpIChpbmNsdWRpbmcgbW9iaWxlIHZlcnNpb25zKS5cclxudmFyIHdlYmtpdCA9IHVzZXJBZ2VudENvbnRhaW5zKCd3ZWJraXQnKTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBhbmRyb2lkOiBCb29sZWFuXHJcbi8vICoqRGVwcmVjYXRlZC4qKiBgdHJ1ZWAgZm9yIGFueSBicm93c2VyIHJ1bm5pbmcgb24gYW4gQW5kcm9pZCBwbGF0Zm9ybS5cclxudmFyIGFuZHJvaWQgPSB1c2VyQWdlbnRDb250YWlucygnYW5kcm9pZCcpO1xyXG5cclxuLy8gQHByb3BlcnR5IGFuZHJvaWQyMzogQm9vbGVhbjsgKipEZXByZWNhdGVkLioqIGB0cnVlYCBmb3IgYnJvd3NlcnMgcnVubmluZyBvbiBBbmRyb2lkIDIgb3IgQW5kcm9pZCAzLlxyXG52YXIgYW5kcm9pZDIzID0gdXNlckFnZW50Q29udGFpbnMoJ2FuZHJvaWQgMicpIHx8IHVzZXJBZ2VudENvbnRhaW5zKCdhbmRyb2lkIDMnKTtcclxuXHJcbi8qIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTc5NjEyNjYgZm9yIGRldGFpbHMgb24gZGV0ZWN0aW5nIHN0b2NrIEFuZHJvaWQgKi9cclxudmFyIHdlYmtpdFZlciA9IHBhcnNlSW50KC9XZWJLaXRcXC8oWzAtOV0rKXwkLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpWzFdLCAxMCk7IC8vIGFsc28gbWF0Y2hlcyBBcHBsZVdlYktpdFxyXG4vLyBAcHJvcGVydHkgYW5kcm9pZFN0b2NrOiBCb29sZWFuOyAqKkRlcHJlY2F0ZWQuKiogYHRydWVgIGZvciB0aGUgQW5kcm9pZCBzdG9jayBicm93c2VyIChpLmUuIG5vdCBDaHJvbWUpXHJcbnZhciBhbmRyb2lkU3RvY2sgPSBhbmRyb2lkICYmIHVzZXJBZ2VudENvbnRhaW5zKCdHb29nbGUnKSAmJiB3ZWJraXRWZXIgPCA1MzcgJiYgISgnQXVkaW9Ob2RlJyBpbiB3aW5kb3cpO1xyXG5cclxuLy8gQHByb3BlcnR5IG9wZXJhOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIHRoZSBPcGVyYSBicm93c2VyXHJcbnZhciBvcGVyYSA9ICEhd2luZG93Lm9wZXJhO1xyXG5cclxuLy8gQHByb3BlcnR5IGNocm9tZTogQm9vbGVhbjsgYHRydWVgIGZvciB0aGUgQ2hyb21lIGJyb3dzZXIuXHJcbnZhciBjaHJvbWUgPSAhZWRnZSAmJiB1c2VyQWdlbnRDb250YWlucygnY2hyb21lJyk7XHJcblxyXG4vLyBAcHJvcGVydHkgZ2Vja286IEJvb2xlYW47IGB0cnVlYCBmb3IgZ2Vja28tYmFzZWQgYnJvd3NlcnMgbGlrZSBGaXJlZm94LlxyXG52YXIgZ2Vja28gPSB1c2VyQWdlbnRDb250YWlucygnZ2Vja28nKSAmJiAhd2Via2l0ICYmICFvcGVyYSAmJiAhaWU7XHJcblxyXG4vLyBAcHJvcGVydHkgc2FmYXJpOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIHRoZSBTYWZhcmkgYnJvd3Nlci5cclxudmFyIHNhZmFyaSA9ICFjaHJvbWUgJiYgdXNlckFnZW50Q29udGFpbnMoJ3NhZmFyaScpO1xyXG5cclxudmFyIHBoYW50b20gPSB1c2VyQWdlbnRDb250YWlucygncGhhbnRvbScpO1xyXG5cclxuLy8gQHByb3BlcnR5IG9wZXJhMTI6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciB0aGUgT3BlcmEgYnJvd3NlciBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zICh2ZXJzaW9uIDEyIG9yIGxhdGVyKS5cclxudmFyIG9wZXJhMTIgPSAnT1RyYW5zaXRpb24nIGluIHN0eWxlO1xyXG5cclxuLy8gQHByb3BlcnR5IHdpbjogQm9vbGVhbjsgYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgaXMgcnVubmluZyBpbiBhIFdpbmRvd3MgcGxhdGZvcm1cclxudmFyIHdpbiA9IG5hdmlnYXRvci5wbGF0Zm9ybS5pbmRleE9mKCdXaW4nKSA9PT0gMDtcclxuXHJcbi8vIEBwcm9wZXJ0eSBpZTNkOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIGFsbCBJbnRlcm5ldCBFeHBsb3JlciB2ZXJzaW9ucyBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zLlxyXG52YXIgaWUzZCA9IGllICYmICgndHJhbnNpdGlvbicgaW4gc3R5bGUpO1xyXG5cclxuLy8gQHByb3BlcnR5IHdlYmtpdDNkOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIHdlYmtpdC1iYXNlZCBicm93c2VycyBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zLlxyXG52YXIgd2Via2l0M2QgPSAoJ1dlYktpdENTU01hdHJpeCcgaW4gd2luZG93KSAmJiAoJ20xMScgaW4gbmV3IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgoKSkgJiYgIWFuZHJvaWQyMztcclxuXHJcbi8vIEBwcm9wZXJ0eSBnZWNrbzNkOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIGdlY2tvLWJhc2VkIGJyb3dzZXJzIHN1cHBvcnRpbmcgQ1NTIHRyYW5zZm9ybXMuXHJcbnZhciBnZWNrbzNkID0gJ01velBlcnNwZWN0aXZlJyBpbiBzdHlsZTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBhbnkzZDogQm9vbGVhblxyXG4vLyBgdHJ1ZWAgZm9yIGFsbCBicm93c2VycyBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zLlxyXG52YXIgYW55M2QgPSAhd2luZG93LkxfRElTQUJMRV8zRCAmJiAoaWUzZCB8fCB3ZWJraXQzZCB8fCBnZWNrbzNkKSAmJiAhb3BlcmExMiAmJiAhcGhhbnRvbTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBtb2JpbGU6IEJvb2xlYW47IGB0cnVlYCBmb3IgYWxsIGJyb3dzZXJzIHJ1bm5pbmcgaW4gYSBtb2JpbGUgZGV2aWNlLlxyXG52YXIgbW9iaWxlID0gdHlwZW9mIG9yaWVudGF0aW9uICE9PSAndW5kZWZpbmVkJyB8fCB1c2VyQWdlbnRDb250YWlucygnbW9iaWxlJyk7XHJcblxyXG4vLyBAcHJvcGVydHkgbW9iaWxlV2Via2l0OiBCb29sZWFuOyBgdHJ1ZWAgZm9yIGFsbCB3ZWJraXQtYmFzZWQgYnJvd3NlcnMgaW4gYSBtb2JpbGUgZGV2aWNlLlxyXG52YXIgbW9iaWxlV2Via2l0ID0gbW9iaWxlICYmIHdlYmtpdDtcclxuXHJcbi8vIEBwcm9wZXJ0eSBtb2JpbGVXZWJraXQzZDogQm9vbGVhblxyXG4vLyBgdHJ1ZWAgZm9yIGFsbCB3ZWJraXQtYmFzZWQgYnJvd3NlcnMgaW4gYSBtb2JpbGUgZGV2aWNlIHN1cHBvcnRpbmcgQ1NTIHRyYW5zZm9ybXMuXHJcbnZhciBtb2JpbGVXZWJraXQzZCA9IG1vYmlsZSAmJiB3ZWJraXQzZDtcclxuXHJcbi8vIEBwcm9wZXJ0eSBtc1BvaW50ZXI6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBicm93c2VycyBpbXBsZW1lbnRpbmcgdGhlIE1pY3Jvc29mdCB0b3VjaCBldmVudHMgbW9kZWwgKG5vdGFibHkgSUUxMCkuXHJcbnZhciBtc1BvaW50ZXIgPSAhd2luZG93LlBvaW50ZXJFdmVudCAmJiB3aW5kb3cuTVNQb2ludGVyRXZlbnQ7XHJcblxyXG4vLyBAcHJvcGVydHkgcG9pbnRlcjogQm9vbGVhblxyXG4vLyBgdHJ1ZWAgZm9yIGFsbCBicm93c2VycyBzdXBwb3J0aW5nIFtwb2ludGVyIGV2ZW50c10oaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9kbjQzMzI0NCUyOHY9dnMuODUlMjkuYXNweCkuXHJcbnZhciBwb2ludGVyID0gISEod2luZG93LlBvaW50ZXJFdmVudCB8fCBtc1BvaW50ZXIpO1xyXG5cclxuLy8gQHByb3BlcnR5IHRvdWNoTmF0aXZlOiBCb29sZWFuXHJcbi8vIGB0cnVlYCBmb3IgYWxsIGJyb3dzZXJzIHN1cHBvcnRpbmcgW3RvdWNoIGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1RvdWNoX2V2ZW50cykuXHJcbi8vICoqVGhpcyBkb2VzIG5vdCBuZWNlc3NhcmlseSBtZWFuKiogdGhhdCB0aGUgYnJvd3NlciBpcyBydW5uaW5nIGluIGEgY29tcHV0ZXIgd2l0aFxyXG4vLyBhIHRvdWNoc2NyZWVuLCBpdCBvbmx5IG1lYW5zIHRoYXQgdGhlIGJyb3dzZXIgaXMgY2FwYWJsZSBvZiB1bmRlcnN0YW5kaW5nXHJcbi8vIHRvdWNoIGV2ZW50cy5cclxudmFyIHRvdWNoTmF0aXZlID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8ICEhd2luZG93LlRvdWNoRXZlbnQ7XHJcblxyXG4vLyBAcHJvcGVydHkgdG91Y2g6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBhbGwgYnJvd3NlcnMgc3VwcG9ydGluZyBlaXRoZXIgW3RvdWNoXSgjYnJvd3Nlci10b3VjaCkgb3IgW3BvaW50ZXJdKCNicm93c2VyLXBvaW50ZXIpIGV2ZW50cy5cclxuLy8gTm90ZTogcG9pbnRlciBldmVudHMgd2lsbCBiZSBwcmVmZXJyZWQgKGlmIGF2YWlsYWJsZSksIGFuZCBwcm9jZXNzZWQgZm9yIGFsbCBgdG91Y2gqYCBsaXN0ZW5lcnMuXHJcbnZhciB0b3VjaCA9ICF3aW5kb3cuTF9OT19UT1VDSCAmJiAodG91Y2hOYXRpdmUgfHwgcG9pbnRlcik7XHJcblxyXG4vLyBAcHJvcGVydHkgbW9iaWxlT3BlcmE6IEJvb2xlYW47IGB0cnVlYCBmb3IgdGhlIE9wZXJhIGJyb3dzZXIgaW4gYSBtb2JpbGUgZGV2aWNlLlxyXG52YXIgbW9iaWxlT3BlcmEgPSBtb2JpbGUgJiYgb3BlcmE7XHJcblxyXG4vLyBAcHJvcGVydHkgbW9iaWxlR2Vja286IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBnZWNrby1iYXNlZCBicm93c2VycyBydW5uaW5nIGluIGEgbW9iaWxlIGRldmljZS5cclxudmFyIG1vYmlsZUdlY2tvID0gbW9iaWxlICYmIGdlY2tvO1xyXG5cclxuLy8gQHByb3BlcnR5IHJldGluYTogQm9vbGVhblxyXG4vLyBgdHJ1ZWAgZm9yIGJyb3dzZXJzIG9uIGEgaGlnaC1yZXNvbHV0aW9uIFwicmV0aW5hXCIgc2NyZWVuIG9yIG9uIGFueSBzY3JlZW4gd2hlbiBicm93c2VyJ3MgZGlzcGxheSB6b29tIGlzIG1vcmUgdGhhbiAxMDAlLlxyXG52YXIgcmV0aW5hID0gKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8ICh3aW5kb3cuc2NyZWVuLmRldmljZVhEUEkgLyB3aW5kb3cuc2NyZWVuLmxvZ2ljYWxYRFBJKSkgPiAxO1xyXG5cclxuLy8gQHByb3BlcnR5IHBhc3NpdmVFdmVudHM6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgcGFzc2l2ZSBldmVudHMuXHJcbnZhciBwYXNzaXZlRXZlbnRzID0gKGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgc3VwcG9ydHNQYXNzaXZlT3B0aW9uID0gZmFsc2U7XHJcblx0dHJ5IHtcclxuXHRcdHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2V0dGVyLXJldHVyblxyXG5cdFx0XHRcdHN1cHBvcnRzUGFzc2l2ZU9wdGlvbiA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3RQYXNzaXZlRXZlbnRTdXBwb3J0JywgVXRpbC5mYWxzZUZuLCBvcHRzKTtcclxuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0UGFzc2l2ZUV2ZW50U3VwcG9ydCcsIFV0aWwuZmFsc2VGbiwgb3B0cyk7XHJcblx0fSBjYXRjaCAoZSkge1xyXG5cdFx0Ly8gRXJyb3JzIGNhbiBzYWZlbHkgYmUgaWdub3JlZCBzaW5jZSB0aGlzIGlzIG9ubHkgYSBicm93c2VyIHN1cHBvcnQgdGVzdC5cclxuXHR9XHJcblx0cmV0dXJuIHN1cHBvcnRzUGFzc2l2ZU9wdGlvbjtcclxufSgpKTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBjYW52YXM6IEJvb2xlYW5cclxuLy8gYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgW2A8Y2FudmFzPmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJKS5cclxudmFyIGNhbnZhcyA9IChmdW5jdGlvbiAoKSB7XHJcblx0cmV0dXJuICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dDtcclxufSgpKTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBzdmc6IEJvb2xlYW5cclxuLy8gYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgW1NWR10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvU1ZHKS5cclxudmFyIHN2ZyA9ICEhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyAmJiBzdmdDcmVhdGUoJ3N2ZycpLmNyZWF0ZVNWR1JlY3QpO1xyXG5cclxudmFyIGlubGluZVN2ZyA9ICEhc3ZnICYmIChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdGRpdi5pbm5lckhUTUwgPSAnPHN2Zy8+JztcclxuXHRyZXR1cm4gKGRpdi5maXJzdENoaWxkICYmIGRpdi5maXJzdENoaWxkLm5hbWVzcGFjZVVSSSkgPT09ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbn0pKCk7XHJcblxyXG4vLyBAcHJvcGVydHkgdm1sOiBCb29sZWFuXHJcbi8vIGB0cnVlYCBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBbVk1MXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WZWN0b3JfTWFya3VwX0xhbmd1YWdlKS5cclxudmFyIHZtbCA9ICFzdmcgJiYgKGZ1bmN0aW9uICgpIHtcclxuXHR0cnkge1xyXG5cdFx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0ZGl2LmlubmVySFRNTCA9ICc8djpzaGFwZSBhZGo9XCIxXCIvPic7XHJcblxyXG5cdFx0dmFyIHNoYXBlID0gZGl2LmZpcnN0Q2hpbGQ7XHJcblx0XHRzaGFwZS5zdHlsZS5iZWhhdmlvciA9ICd1cmwoI2RlZmF1bHQjVk1MKSc7XHJcblxyXG5cdFx0cmV0dXJuIHNoYXBlICYmICh0eXBlb2Ygc2hhcGUuYWRqID09PSAnb2JqZWN0Jyk7XHJcblxyXG5cdH0gY2F0Y2ggKGUpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcbn0oKSk7XHJcblxyXG5cclxuLy8gQHByb3BlcnR5IG1hYzogQm9vbGVhbjsgYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgaXMgcnVubmluZyBpbiBhIE1hYyBwbGF0Zm9ybVxyXG52YXIgbWFjID0gbmF2aWdhdG9yLnBsYXRmb3JtLmluZGV4T2YoJ01hYycpID09PSAwO1xyXG5cclxuLy8gQHByb3BlcnR5IG1hYzogQm9vbGVhbjsgYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgaXMgcnVubmluZyBpbiBhIExpbnV4IHBsYXRmb3JtXHJcbnZhciBsaW51eCA9IG5hdmlnYXRvci5wbGF0Zm9ybS5pbmRleE9mKCdMaW51eCcpID09PSAwO1xyXG5cclxuZnVuY3Rpb24gdXNlckFnZW50Q29udGFpbnMoc3RyKSB7XHJcblx0cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN0cikgPj0gMDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHRpZTogaWUsXHJcblx0aWVsdDk6IGllbHQ5LFxyXG5cdGVkZ2U6IGVkZ2UsXHJcblx0d2Via2l0OiB3ZWJraXQsXHJcblx0YW5kcm9pZDogYW5kcm9pZCxcclxuXHRhbmRyb2lkMjM6IGFuZHJvaWQyMyxcclxuXHRhbmRyb2lkU3RvY2s6IGFuZHJvaWRTdG9jayxcclxuXHRvcGVyYTogb3BlcmEsXHJcblx0Y2hyb21lOiBjaHJvbWUsXHJcblx0Z2Vja286IGdlY2tvLFxyXG5cdHNhZmFyaTogc2FmYXJpLFxyXG5cdHBoYW50b206IHBoYW50b20sXHJcblx0b3BlcmExMjogb3BlcmExMixcclxuXHR3aW46IHdpbixcclxuXHRpZTNkOiBpZTNkLFxyXG5cdHdlYmtpdDNkOiB3ZWJraXQzZCxcclxuXHRnZWNrbzNkOiBnZWNrbzNkLFxyXG5cdGFueTNkOiBhbnkzZCxcclxuXHRtb2JpbGU6IG1vYmlsZSxcclxuXHRtb2JpbGVXZWJraXQ6IG1vYmlsZVdlYmtpdCxcclxuXHRtb2JpbGVXZWJraXQzZDogbW9iaWxlV2Via2l0M2QsXHJcblx0bXNQb2ludGVyOiBtc1BvaW50ZXIsXHJcblx0cG9pbnRlcjogcG9pbnRlcixcclxuXHR0b3VjaDogdG91Y2gsXHJcblx0dG91Y2hOYXRpdmU6IHRvdWNoTmF0aXZlLFxyXG5cdG1vYmlsZU9wZXJhOiBtb2JpbGVPcGVyYSxcclxuXHRtb2JpbGVHZWNrbzogbW9iaWxlR2Vja28sXHJcblx0cmV0aW5hOiByZXRpbmEsXHJcblx0cGFzc2l2ZUV2ZW50czogcGFzc2l2ZUV2ZW50cyxcclxuXHRjYW52YXM6IGNhbnZhcyxcclxuXHRzdmc6IHN2ZyxcclxuXHR2bWw6IHZtbCxcclxuXHRpbmxpbmVTdmc6IGlubGluZVN2ZyxcclxuXHRtYWM6IG1hYyxcclxuXHRsaW51eDogbGludXhcclxufTtcclxuIiwgImltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4vRG9tRXZlbnQnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vY29yZS9Ccm93c2VyJztcbmltcG9ydCB7ZmFsc2VGbn0gZnJvbSAnLi4vY29yZS9VdGlsJztcblxuLypcbiAqIEV4dGVuZHMgTC5Eb21FdmVudCB0byBwcm92aWRlIHRvdWNoIHN1cHBvcnQgZm9yIEludGVybmV0IEV4cGxvcmVyIGFuZCBXaW5kb3dzLWJhc2VkIGRldmljZXMuXG4gKi9cblxudmFyIFBPSU5URVJfRE9XTiA9ICAgQnJvd3Nlci5tc1BvaW50ZXIgPyAnTVNQb2ludGVyRG93bicgICA6ICdwb2ludGVyZG93bic7XG52YXIgUE9JTlRFUl9NT1ZFID0gICBCcm93c2VyLm1zUG9pbnRlciA/ICdNU1BvaW50ZXJNb3ZlJyAgIDogJ3BvaW50ZXJtb3ZlJztcbnZhciBQT0lOVEVSX1VQID0gICAgIEJyb3dzZXIubXNQb2ludGVyID8gJ01TUG9pbnRlclVwJyAgICAgOiAncG9pbnRlcnVwJztcbnZhciBQT0lOVEVSX0NBTkNFTCA9IEJyb3dzZXIubXNQb2ludGVyID8gJ01TUG9pbnRlckNhbmNlbCcgOiAncG9pbnRlcmNhbmNlbCc7XG52YXIgcEV2ZW50ID0ge1xuXHR0b3VjaHN0YXJ0ICA6IFBPSU5URVJfRE9XTixcblx0dG91Y2htb3ZlICAgOiBQT0lOVEVSX01PVkUsXG5cdHRvdWNoZW5kICAgIDogUE9JTlRFUl9VUCxcblx0dG91Y2hjYW5jZWwgOiBQT0lOVEVSX0NBTkNFTFxufTtcbnZhciBoYW5kbGUgPSB7XG5cdHRvdWNoc3RhcnQgIDogX29uUG9pbnRlclN0YXJ0LFxuXHR0b3VjaG1vdmUgICA6IF9oYW5kbGVQb2ludGVyLFxuXHR0b3VjaGVuZCAgICA6IF9oYW5kbGVQb2ludGVyLFxuXHR0b3VjaGNhbmNlbCA6IF9oYW5kbGVQb2ludGVyXG59O1xudmFyIF9wb2ludGVycyA9IHt9O1xudmFyIF9wb2ludGVyRG9jTGlzdGVuZXIgPSBmYWxzZTtcblxuLy8gUHJvdmlkZXMgYSB0b3VjaCBldmVudHMgd3JhcHBlciBmb3IgKG1zKXBvaW50ZXIgZXZlbnRzLlxuLy8gcmVmIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyBodHRwczovL3d3dy53My5vcmcvQnVncy9QdWJsaWMvc2hvd19idWcuY2dpP2lkPTIyODkwXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQb2ludGVyTGlzdGVuZXIob2JqLCB0eXBlLCBoYW5kbGVyKSB7XG5cdGlmICh0eXBlID09PSAndG91Y2hzdGFydCcpIHtcblx0XHRfYWRkUG9pbnRlckRvY0xpc3RlbmVyKCk7XG5cdH1cblx0aWYgKCFoYW5kbGVbdHlwZV0pIHtcblx0XHRjb25zb2xlLndhcm4oJ3dyb25nIGV2ZW50IHNwZWNpZmllZDonLCB0eXBlKTtcblx0XHRyZXR1cm4gZmFsc2VGbjtcblx0fVxuXHRoYW5kbGVyID0gaGFuZGxlW3R5cGVdLmJpbmQodGhpcywgaGFuZGxlcik7XG5cdG9iai5hZGRFdmVudExpc3RlbmVyKHBFdmVudFt0eXBlXSwgaGFuZGxlciwgZmFsc2UpO1xuXHRyZXR1cm4gaGFuZGxlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVBvaW50ZXJMaXN0ZW5lcihvYmosIHR5cGUsIGhhbmRsZXIpIHtcblx0aWYgKCFwRXZlbnRbdHlwZV0pIHtcblx0XHRjb25zb2xlLndhcm4oJ3dyb25nIGV2ZW50IHNwZWNpZmllZDonLCB0eXBlKTtcblx0XHRyZXR1cm47XG5cdH1cblx0b2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIocEV2ZW50W3R5cGVdLCBoYW5kbGVyLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIF9nbG9iYWxQb2ludGVyRG93bihlKSB7XG5cdF9wb2ludGVyc1tlLnBvaW50ZXJJZF0gPSBlO1xufVxuXG5mdW5jdGlvbiBfZ2xvYmFsUG9pbnRlck1vdmUoZSkge1xuXHRpZiAoX3BvaW50ZXJzW2UucG9pbnRlcklkXSkge1xuXHRcdF9wb2ludGVyc1tlLnBvaW50ZXJJZF0gPSBlO1xuXHR9XG59XG5cbmZ1bmN0aW9uIF9nbG9iYWxQb2ludGVyVXAoZSkge1xuXHRkZWxldGUgX3BvaW50ZXJzW2UucG9pbnRlcklkXTtcbn1cblxuZnVuY3Rpb24gX2FkZFBvaW50ZXJEb2NMaXN0ZW5lcigpIHtcblx0Ly8gbmVlZCB0byBrZWVwIHRyYWNrIG9mIHdoYXQgcG9pbnRlcnMgYW5kIGhvdyBtYW55IGFyZSBhY3RpdmUgdG8gcHJvdmlkZSBlLnRvdWNoZXMgZW11bGF0aW9uXG5cdGlmICghX3BvaW50ZXJEb2NMaXN0ZW5lcikge1xuXHRcdC8vIHdlIGxpc3RlbiBkb2N1bWVudCBhcyBhbnkgZHJhZ3MgdGhhdCBlbmQgYnkgbW92aW5nIHRoZSB0b3VjaCBvZmYgdGhlIHNjcmVlbiBnZXQgZmlyZWQgdGhlcmVcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFBPSU5URVJfRE9XTiwgX2dsb2JhbFBvaW50ZXJEb3duLCB0cnVlKTtcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFBPSU5URVJfTU9WRSwgX2dsb2JhbFBvaW50ZXJNb3ZlLCB0cnVlKTtcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFBPSU5URVJfVVAsIF9nbG9iYWxQb2ludGVyVXAsIHRydWUpO1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoUE9JTlRFUl9DQU5DRUwsIF9nbG9iYWxQb2ludGVyVXAsIHRydWUpO1xuXG5cdFx0X3BvaW50ZXJEb2NMaXN0ZW5lciA9IHRydWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gX2hhbmRsZVBvaW50ZXIoaGFuZGxlciwgZSkge1xuXHRpZiAoZS5wb2ludGVyVHlwZSA9PT0gKGUuTVNQT0lOVEVSX1RZUEVfTU9VU0UgfHwgJ21vdXNlJykpIHsgcmV0dXJuOyB9XG5cblx0ZS50b3VjaGVzID0gW107XG5cdGZvciAodmFyIGkgaW4gX3BvaW50ZXJzKSB7XG5cdFx0ZS50b3VjaGVzLnB1c2goX3BvaW50ZXJzW2ldKTtcblx0fVxuXHRlLmNoYW5nZWRUb3VjaGVzID0gW2VdO1xuXG5cdGhhbmRsZXIoZSk7XG59XG5cbmZ1bmN0aW9uIF9vblBvaW50ZXJTdGFydChoYW5kbGVyLCBlKSB7XG5cdC8vIElFMTAgc3BlY2lmaWM6IE1zVG91Y2ggbmVlZHMgcHJldmVudERlZmF1bHQuIFNlZSAjMjAwMFxuXHRpZiAoZS5NU1BPSU5URVJfVFlQRV9UT1VDSCAmJiBlLnBvaW50ZXJUeXBlID09PSBlLk1TUE9JTlRFUl9UWVBFX1RPVUNIKSB7XG5cdFx0RG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XG5cdH1cblx0X2hhbmRsZVBvaW50ZXIoaGFuZGxlciwgZSk7XG59XG4iLCAiaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi9Eb21FdmVudCc7XHJcblxyXG4vKlxyXG4gKiBFeHRlbmRzIHRoZSBldmVudCBoYW5kbGluZyBjb2RlIHdpdGggZG91YmxlIHRhcCBzdXBwb3J0IGZvciBtb2JpbGUgYnJvd3NlcnMuXHJcbiAqXHJcbiAqIE5vdGU6IGN1cnJlbnRseSBtb3N0IGJyb3dzZXJzIGZpcmUgbmF0aXZlIGRibGNsaWNrLCB3aXRoIG9ubHkgYSBmZXcgZXhjZXB0aW9uc1xyXG4gKiAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzcwMTIjaXNzdWVjb21tZW50LTU5NTA4NzM4NilcclxuICovXHJcblxyXG5mdW5jdGlvbiBtYWtlRGJsY2xpY2soZXZlbnQpIHtcclxuXHQvLyBpbiBtb2Rlcm4gYnJvd3NlcnMgYHR5cGVgIGNhbm5vdCBiZSBqdXN0IG92ZXJyaWRkZW46XHJcblx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvRXJyb3JzL0dldHRlcl9vbmx5XHJcblx0dmFyIG5ld0V2ZW50ID0ge30sXHJcblx0ICAgIHByb3AsIGk7XHJcblx0Zm9yIChpIGluIGV2ZW50KSB7XHJcblx0XHRwcm9wID0gZXZlbnRbaV07XHJcblx0XHRuZXdFdmVudFtpXSA9IHByb3AgJiYgcHJvcC5iaW5kID8gcHJvcC5iaW5kKGV2ZW50KSA6IHByb3A7XHJcblx0fVxyXG5cdGV2ZW50ID0gbmV3RXZlbnQ7XHJcblx0bmV3RXZlbnQudHlwZSA9ICdkYmxjbGljayc7XHJcblx0bmV3RXZlbnQuZGV0YWlsID0gMjtcclxuXHRuZXdFdmVudC5pc1RydXN0ZWQgPSBmYWxzZTtcclxuXHRuZXdFdmVudC5fc2ltdWxhdGVkID0gdHJ1ZTsgLy8gZm9yIGRlYnVnIHB1cnBvc2VzXHJcblx0cmV0dXJuIG5ld0V2ZW50O1xyXG59XHJcblxyXG52YXIgZGVsYXkgPSAyMDA7XHJcbmV4cG9ydCBmdW5jdGlvbiBhZGREb3VibGVUYXBMaXN0ZW5lcihvYmosIGhhbmRsZXIpIHtcclxuXHQvLyBNb3N0IGJyb3dzZXJzIGhhbmRsZSBkb3VibGUgdGFwIG5hdGl2ZWx5XHJcblx0b2JqLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgaGFuZGxlcik7XHJcblxyXG5cdC8vIE9uIHNvbWUgcGxhdGZvcm1zIHRoZSBicm93c2VyIGRvZXNuJ3QgZmlyZSBuYXRpdmUgZGJsY2xpY2tzIGZvciB0b3VjaCBldmVudHMuXHJcblx0Ly8gSXQgc2VlbXMgdGhhdCBpbiBhbGwgc3VjaCBjYXNlcyBgZGV0YWlsYCBwcm9wZXJ0eSBvZiBgY2xpY2tgIGV2ZW50IGlzIGFsd2F5cyBgMWAuXHJcblx0Ly8gU28gaGVyZSB3ZSByZWx5IG9uIHRoYXQgZmFjdCB0byBhdm9pZCBleGNlc3NpdmUgJ2RibGNsaWNrJyBzaW11bGF0aW9uIHdoZW4gbm90IG5lZWRlZC5cclxuXHR2YXIgbGFzdCA9IDAsXHJcblx0ICAgIGRldGFpbDtcclxuXHRmdW5jdGlvbiBzaW1EYmxjbGljayhlKSB7XHJcblx0XHRpZiAoZS5kZXRhaWwgIT09IDEpIHtcclxuXHRcdFx0ZGV0YWlsID0gZS5kZXRhaWw7IC8vIGtlZXAgaW4gc3luYyB0byBhdm9pZCBmYWxzZSBkYmxjbGljayBpbiBzb21lIGNhc2VzXHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fFxyXG5cdFx0XHQoZS5zb3VyY2VDYXBhYmlsaXRpZXMgJiYgIWUuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gV2hlbiBjbGlja2luZyBvbiBhbiA8aW5wdXQ+LCB0aGUgYnJvd3NlciBnZW5lcmF0ZXMgYSBjbGljayBvbiBpdHNcclxuXHRcdC8vIDxsYWJlbD4gKGFuZCB2aWNlIHZlcnNhKSB0cmlnZ2VyaW5nIHR3byBjbGlja3MgaW4gcXVpY2sgc3VjY2Vzc2lvbi5cclxuXHRcdC8vIFRoaXMgaWdub3JlcyBjbGlja3Mgb24gZWxlbWVudHMgd2hpY2ggYXJlIGEgbGFiZWwgd2l0aCBhICdmb3InXHJcblx0XHQvLyBhdHRyaWJ1dGUgKG9yIGNoaWxkcmVuIG9mIHN1Y2ggYSBsYWJlbCksIGJ1dCBub3QgY2hpbGRyZW4gb2ZcclxuXHRcdC8vIGEgPGlucHV0Pi5cclxuXHRcdHZhciBwYXRoID0gRG9tRXZlbnQuZ2V0UHJvcGFnYXRpb25QYXRoKGUpO1xyXG5cdFx0aWYgKHBhdGguc29tZShmdW5jdGlvbiAoZWwpIHtcclxuXHRcdFx0cmV0dXJuIGVsIGluc3RhbmNlb2YgSFRNTExhYmVsRWxlbWVudCAmJiBlbC5hdHRyaWJ1dGVzLmZvcjtcclxuXHRcdH0pICYmXHJcblx0XHRcdCFwYXRoLnNvbWUoZnVuY3Rpb24gKGVsKSB7XHJcblx0XHRcdFx0cmV0dXJuIChcclxuXHRcdFx0XHRcdGVsIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fFxyXG5cdFx0XHRcdFx0ZWwgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH0pXHJcblx0XHQpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG5cdFx0aWYgKG5vdyAtIGxhc3QgPD0gZGVsYXkpIHtcclxuXHRcdFx0ZGV0YWlsKys7XHJcblx0XHRcdGlmIChkZXRhaWwgPT09IDIpIHtcclxuXHRcdFx0XHRoYW5kbGVyKG1ha2VEYmxjbGljayhlKSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGRldGFpbCA9IDE7XHJcblx0XHR9XHJcblx0XHRsYXN0ID0gbm93O1xyXG5cdH1cclxuXHJcblx0b2JqLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2ltRGJsY2xpY2spO1xyXG5cclxuXHRyZXR1cm4ge1xyXG5cdFx0ZGJsY2xpY2s6IGhhbmRsZXIsXHJcblx0XHRzaW1EYmxjbGljazogc2ltRGJsY2xpY2tcclxuXHR9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRG91YmxlVGFwTGlzdGVuZXIob2JqLCBoYW5kbGVycykge1xyXG5cdG9iai5yZW1vdmVFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGhhbmRsZXJzLmRibGNsaWNrKTtcclxuXHRvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVycy5zaW1EYmxjbGljayk7XHJcbn1cclxuIiwgImltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4vRG9tRXZlbnQnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7UG9pbnR9IGZyb20gJy4uL2dlb21ldHJ5L1BvaW50JztcclxuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vY29yZS9Ccm93c2VyJztcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgRG9tVXRpbFxyXG4gKlxyXG4gKiBVdGlsaXR5IGZ1bmN0aW9ucyB0byB3b3JrIHdpdGggdGhlIFtET01dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9Eb2N1bWVudF9PYmplY3RfTW9kZWwpXHJcbiAqIHRyZWUsIHVzZWQgYnkgTGVhZmxldCBpbnRlcm5hbGx5LlxyXG4gKlxyXG4gKiBNb3N0IGZ1bmN0aW9ucyBleHBlY3Rpbmcgb3IgcmV0dXJuaW5nIGEgYEhUTUxFbGVtZW50YCBhbHNvIHdvcmsgZm9yXHJcbiAqIFNWRyBlbGVtZW50cy4gVGhlIG9ubHkgZGlmZmVyZW5jZSBpcyB0aGF0IGNsYXNzZXMgcmVmZXIgdG8gQ1NTIGNsYXNzZXNcclxuICogaW4gSFRNTCBhbmQgU1ZHIGNsYXNzZXMgaW4gU1ZHLlxyXG4gKi9cclxuXHJcblxyXG4vLyBAcHJvcGVydHkgVFJBTlNGT1JNOiBTdHJpbmdcclxuLy8gVmVuZG9yLXByZWZpeGVkIHRyYW5zZm9ybSBzdHlsZSBuYW1lIChlLmcuIGAnd2Via2l0VHJhbnNmb3JtJ2AgZm9yIFdlYktpdCkuXHJcbmV4cG9ydCB2YXIgVFJBTlNGT1JNID0gdGVzdFByb3AoXHJcblx0Wyd0cmFuc2Zvcm0nLCAnd2Via2l0VHJhbnNmb3JtJywgJ09UcmFuc2Zvcm0nLCAnTW96VHJhbnNmb3JtJywgJ21zVHJhbnNmb3JtJ10pO1xyXG5cclxuLy8gd2Via2l0VHJhbnNpdGlvbiBjb21lcyBmaXJzdCBiZWNhdXNlIHNvbWUgYnJvd3NlciB2ZXJzaW9ucyB0aGF0IGRyb3AgdmVuZG9yIHByZWZpeCBkb24ndCBkb1xyXG4vLyB0aGUgc2FtZSBmb3IgdGhlIHRyYW5zaXRpb25lbmQgZXZlbnQsIGluIHBhcnRpY3VsYXIgdGhlIEFuZHJvaWQgNC4xIHN0b2NrIGJyb3dzZXJcclxuXHJcbi8vIEBwcm9wZXJ0eSBUUkFOU0lUSU9OOiBTdHJpbmdcclxuLy8gVmVuZG9yLXByZWZpeGVkIHRyYW5zaXRpb24gc3R5bGUgbmFtZS5cclxuZXhwb3J0IHZhciBUUkFOU0lUSU9OID0gdGVzdFByb3AoXHJcblx0Wyd3ZWJraXRUcmFuc2l0aW9uJywgJ3RyYW5zaXRpb24nLCAnT1RyYW5zaXRpb24nLCAnTW96VHJhbnNpdGlvbicsICdtc1RyYW5zaXRpb24nXSk7XHJcblxyXG4vLyBAcHJvcGVydHkgVFJBTlNJVElPTl9FTkQ6IFN0cmluZ1xyXG4vLyBWZW5kb3ItcHJlZml4ZWQgdHJhbnNpdGlvbmVuZCBldmVudCBuYW1lLlxyXG5leHBvcnQgdmFyIFRSQU5TSVRJT05fRU5EID1cclxuXHRUUkFOU0lUSU9OID09PSAnd2Via2l0VHJhbnNpdGlvbicgfHwgVFJBTlNJVElPTiA9PT0gJ09UcmFuc2l0aW9uJyA/IFRSQU5TSVRJT04gKyAnRW5kJyA6ICd0cmFuc2l0aW9uZW5kJztcclxuXHJcblxyXG4vLyBAZnVuY3Rpb24gZ2V0KGlkOiBTdHJpbmd8SFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudFxyXG4vLyBSZXR1cm5zIGFuIGVsZW1lbnQgZ2l2ZW4gaXRzIERPTSBpZCwgb3IgcmV0dXJucyB0aGUgZWxlbWVudCBpdHNlbGZcclxuLy8gaWYgaXQgd2FzIHBhc3NlZCBkaXJlY3RseS5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldChpZCkge1xyXG5cdHJldHVybiB0eXBlb2YgaWQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIDogaWQ7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRTdHlsZShlbDogSFRNTEVsZW1lbnQsIHN0eWxlQXR0cmliOiBTdHJpbmcpOiBTdHJpbmdcclxuLy8gUmV0dXJucyB0aGUgdmFsdWUgZm9yIGEgY2VydGFpbiBzdHlsZSBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCxcclxuLy8gaW5jbHVkaW5nIGNvbXB1dGVkIHZhbHVlcyBvciB2YWx1ZXMgc2V0IHRocm91Z2ggQ1NTLlxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIHN0eWxlKSB7XHJcblx0dmFyIHZhbHVlID0gZWwuc3R5bGVbc3R5bGVdIHx8IChlbC5jdXJyZW50U3R5bGUgJiYgZWwuY3VycmVudFN0eWxlW3N0eWxlXSk7XHJcblxyXG5cdGlmICgoIXZhbHVlIHx8IHZhbHVlID09PSAnYXV0bycpICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3KSB7XHJcblx0XHR2YXIgY3NzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCk7XHJcblx0XHR2YWx1ZSA9IGNzcyA/IGNzc1tzdHlsZV0gOiBudWxsO1xyXG5cdH1cclxuXHRyZXR1cm4gdmFsdWUgPT09ICdhdXRvJyA/IG51bGwgOiB2YWx1ZTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGNyZWF0ZSh0YWdOYW1lOiBTdHJpbmcsIGNsYXNzTmFtZT86IFN0cmluZywgY29udGFpbmVyPzogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudFxyXG4vLyBDcmVhdGVzIGFuIEhUTUwgZWxlbWVudCB3aXRoIGB0YWdOYW1lYCwgc2V0cyBpdHMgY2xhc3MgdG8gYGNsYXNzTmFtZWAsIGFuZCBvcHRpb25hbGx5IGFwcGVuZHMgaXQgdG8gYGNvbnRhaW5lcmAgZWxlbWVudC5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSh0YWdOYW1lLCBjbGFzc05hbWUsIGNvbnRhaW5lcikge1xyXG5cdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XHJcblx0ZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8ICcnO1xyXG5cclxuXHRpZiAoY29udGFpbmVyKSB7XHJcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoZWwpO1xyXG5cdH1cclxuXHRyZXR1cm4gZWw7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiByZW1vdmUoZWw6IEhUTUxFbGVtZW50KVxyXG4vLyBSZW1vdmVzIGBlbGAgZnJvbSBpdHMgcGFyZW50IGVsZW1lbnRcclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShlbCkge1xyXG5cdHZhciBwYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xyXG5cdGlmIChwYXJlbnQpIHtcclxuXHRcdHBhcmVudC5yZW1vdmVDaGlsZChlbCk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gZW1wdHkoZWw6IEhUTUxFbGVtZW50KVxyXG4vLyBSZW1vdmVzIGFsbCBvZiBgZWxgJ3MgY2hpbGRyZW4gZWxlbWVudHMgZnJvbSBgZWxgXHJcbmV4cG9ydCBmdW5jdGlvbiBlbXB0eShlbCkge1xyXG5cdHdoaWxlIChlbC5maXJzdENoaWxkKSB7XHJcblx0XHRlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiB0b0Zyb250KGVsOiBIVE1MRWxlbWVudClcclxuLy8gTWFrZXMgYGVsYCB0aGUgbGFzdCBjaGlsZCBvZiBpdHMgcGFyZW50LCBzbyBpdCByZW5kZXJzIGluIGZyb250IG9mIHRoZSBvdGhlciBjaGlsZHJlbi5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvRnJvbnQoZWwpIHtcclxuXHR2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcclxuXHRpZiAocGFyZW50ICYmIHBhcmVudC5sYXN0Q2hpbGQgIT09IGVsKSB7XHJcblx0XHRwYXJlbnQuYXBwZW5kQ2hpbGQoZWwpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHRvQmFjayhlbDogSFRNTEVsZW1lbnQpXHJcbi8vIE1ha2VzIGBlbGAgdGhlIGZpcnN0IGNoaWxkIG9mIGl0cyBwYXJlbnQsIHNvIGl0IHJlbmRlcnMgYmVoaW5kIHRoZSBvdGhlciBjaGlsZHJlbi5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvQmFjayhlbCkge1xyXG5cdHZhciBwYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xyXG5cdGlmIChwYXJlbnQgJiYgcGFyZW50LmZpcnN0Q2hpbGQgIT09IGVsKSB7XHJcblx0XHRwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsLCBwYXJlbnQuZmlyc3RDaGlsZCk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gaGFzQ2xhc3MoZWw6IEhUTUxFbGVtZW50LCBuYW1lOiBTdHJpbmcpOiBCb29sZWFuXHJcbi8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlIGNvbnRhaW5zIGBuYW1lYC5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBuYW1lKSB7XHJcblx0aWYgKGVsLmNsYXNzTGlzdCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKG5hbWUpO1xyXG5cdH1cclxuXHR2YXIgY2xhc3NOYW1lID0gZ2V0Q2xhc3MoZWwpO1xyXG5cdHJldHVybiBjbGFzc05hbWUubGVuZ3RoID4gMCAmJiBuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgbmFtZSArICcoXFxcXHN8JCknKS50ZXN0KGNsYXNzTmFtZSk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBhZGRDbGFzcyhlbDogSFRNTEVsZW1lbnQsIG5hbWU6IFN0cmluZylcclxuLy8gQWRkcyBgbmFtZWAgdG8gdGhlIGVsZW1lbnQncyBjbGFzcyBhdHRyaWJ1dGUuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRDbGFzcyhlbCwgbmFtZSkge1xyXG5cdGlmIChlbC5jbGFzc0xpc3QgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0dmFyIGNsYXNzZXMgPSBVdGlsLnNwbGl0V29yZHMobmFtZSk7XHJcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gY2xhc3Nlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRlbC5jbGFzc0xpc3QuYWRkKGNsYXNzZXNbaV0pO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoIWhhc0NsYXNzKGVsLCBuYW1lKSkge1xyXG5cdFx0dmFyIGNsYXNzTmFtZSA9IGdldENsYXNzKGVsKTtcclxuXHRcdHNldENsYXNzKGVsLCAoY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJyAnIDogJycpICsgbmFtZSk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWw6IEhUTUxFbGVtZW50LCBuYW1lOiBTdHJpbmcpXHJcbi8vIFJlbW92ZXMgYG5hbWVgIGZyb20gdGhlIGVsZW1lbnQncyBjbGFzcyBhdHRyaWJ1dGUuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgbmFtZSkge1xyXG5cdGlmIChlbC5jbGFzc0xpc3QgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2V0Q2xhc3MoZWwsIFV0aWwudHJpbSgoJyAnICsgZ2V0Q2xhc3MoZWwpICsgJyAnKS5yZXBsYWNlKCcgJyArIG5hbWUgKyAnICcsICcgJykpKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBzZXRDbGFzcyhlbDogSFRNTEVsZW1lbnQsIG5hbWU6IFN0cmluZylcclxuLy8gU2V0cyB0aGUgZWxlbWVudCdzIGNsYXNzLlxyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q2xhc3MoZWwsIG5hbWUpIHtcclxuXHRpZiAoZWwuY2xhc3NOYW1lLmJhc2VWYWwgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0ZWwuY2xhc3NOYW1lID0gbmFtZTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gaW4gY2FzZSBvZiBTVkcgZWxlbWVudFxyXG5cdFx0ZWwuY2xhc3NOYW1lLmJhc2VWYWwgPSBuYW1lO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGdldENsYXNzKGVsOiBIVE1MRWxlbWVudCk6IFN0cmluZ1xyXG4vLyBSZXR1cm5zIHRoZSBlbGVtZW50J3MgY2xhc3MuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGFzcyhlbCkge1xyXG5cdC8vIENoZWNrIGlmIHRoZSBlbGVtZW50IGlzIGFuIFNWR0VsZW1lbnRJbnN0YW5jZSBhbmQgdXNlIHRoZSBjb3JyZXNwb25kaW5nRWxlbWVudCBpbnN0ZWFkXHJcblx0Ly8gKFJlcXVpcmVkIGZvciBsaW5rZWQgU1ZHIGVsZW1lbnRzIGluIElFMTEuKVxyXG5cdGlmIChlbC5jb3JyZXNwb25kaW5nRWxlbWVudCkge1xyXG5cdFx0ZWwgPSBlbC5jb3JyZXNwb25kaW5nRWxlbWVudDtcclxuXHR9XHJcblx0cmV0dXJuIGVsLmNsYXNzTmFtZS5iYXNlVmFsID09PSB1bmRlZmluZWQgPyBlbC5jbGFzc05hbWUgOiBlbC5jbGFzc05hbWUuYmFzZVZhbDtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHNldE9wYWNpdHkoZWw6IEhUTUxFbGVtZW50LCBvcGFjaXR5OiBOdW1iZXIpXHJcbi8vIFNldCB0aGUgb3BhY2l0eSBvZiBhbiBlbGVtZW50IChpbmNsdWRpbmcgb2xkIElFIHN1cHBvcnQpLlxyXG4vLyBgb3BhY2l0eWAgbXVzdCBiZSBhIG51bWJlciBmcm9tIGAwYCB0byBgMWAuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRPcGFjaXR5KGVsLCB2YWx1ZSkge1xyXG5cdGlmICgnb3BhY2l0eScgaW4gZWwuc3R5bGUpIHtcclxuXHRcdGVsLnN0eWxlLm9wYWNpdHkgPSB2YWx1ZTtcclxuXHR9IGVsc2UgaWYgKCdmaWx0ZXInIGluIGVsLnN0eWxlKSB7XHJcblx0XHRfc2V0T3BhY2l0eUlFKGVsLCB2YWx1ZSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBfc2V0T3BhY2l0eUlFKGVsLCB2YWx1ZSkge1xyXG5cdHZhciBmaWx0ZXIgPSBmYWxzZSxcclxuXHQgICAgZmlsdGVyTmFtZSA9ICdEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYSc7XHJcblxyXG5cdC8vIGZpbHRlcnMgY29sbGVjdGlvbiB0aHJvd3MgYW4gZXJyb3IgaWYgd2UgdHJ5IHRvIHJldHJpZXZlIGEgZmlsdGVyIHRoYXQgZG9lc24ndCBleGlzdFxyXG5cdHRyeSB7XHJcblx0XHRmaWx0ZXIgPSBlbC5maWx0ZXJzLml0ZW0oZmlsdGVyTmFtZSk7XHJcblx0fSBjYXRjaCAoZSkge1xyXG5cdFx0Ly8gZG9uJ3Qgc2V0IG9wYWNpdHkgdG8gMSBpZiB3ZSBoYXZlbid0IGFscmVhZHkgc2V0IGFuIG9wYWNpdHksXHJcblx0XHQvLyBpdCBpc24ndCBuZWVkZWQgYW5kIGJyZWFrcyB0cmFuc3BhcmVudCBwbmdzLlxyXG5cdFx0aWYgKHZhbHVlID09PSAxKSB7IHJldHVybjsgfVxyXG5cdH1cclxuXHJcblx0dmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlICogMTAwKTtcclxuXHJcblx0aWYgKGZpbHRlcikge1xyXG5cdFx0ZmlsdGVyLkVuYWJsZWQgPSAodmFsdWUgIT09IDEwMCk7XHJcblx0XHRmaWx0ZXIuT3BhY2l0eSA9IHZhbHVlO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlbC5zdHlsZS5maWx0ZXIgKz0gJyBwcm9naWQ6JyArIGZpbHRlck5hbWUgKyAnKG9wYWNpdHk9JyArIHZhbHVlICsgJyknO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHRlc3RQcm9wKHByb3BzOiBTdHJpbmdbXSk6IFN0cmluZ3xmYWxzZVxyXG4vLyBHb2VzIHRocm91Z2ggdGhlIGFycmF5IG9mIHN0eWxlIG5hbWVzIGFuZCByZXR1cm5zIHRoZSBmaXJzdCBuYW1lXHJcbi8vIHRoYXQgaXMgYSB2YWxpZCBzdHlsZSBuYW1lIGZvciBhbiBlbGVtZW50LiBJZiBubyBzdWNoIG5hbWUgaXMgZm91bmQsXHJcbi8vIGl0IHJldHVybnMgZmFsc2UuIFVzZWZ1bCBmb3IgdmVuZG9yLXByZWZpeGVkIHN0eWxlcyBsaWtlIGB0cmFuc2Zvcm1gLlxyXG5leHBvcnQgZnVuY3Rpb24gdGVzdFByb3AocHJvcHMpIHtcclxuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XHJcblxyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmIChwcm9wc1tpXSBpbiBzdHlsZSkge1xyXG5cdFx0XHRyZXR1cm4gcHJvcHNbaV07XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHNldFRyYW5zZm9ybShlbDogSFRNTEVsZW1lbnQsIG9mZnNldDogUG9pbnQsIHNjYWxlPzogTnVtYmVyKVxyXG4vLyBSZXNldHMgdGhlIDNEIENTUyB0cmFuc2Zvcm0gb2YgYGVsYCBzbyBpdCBpcyB0cmFuc2xhdGVkIGJ5IGBvZmZzZXRgIHBpeGVsc1xyXG4vLyBhbmQgb3B0aW9uYWxseSBzY2FsZWQgYnkgYHNjYWxlYC4gRG9lcyBub3QgaGF2ZSBhbiBlZmZlY3QgaWYgdGhlXHJcbi8vIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IDNEIENTUyB0cmFuc2Zvcm1zLlxyXG5leHBvcnQgZnVuY3Rpb24gc2V0VHJhbnNmb3JtKGVsLCBvZmZzZXQsIHNjYWxlKSB7XHJcblx0dmFyIHBvcyA9IG9mZnNldCB8fCBuZXcgUG9pbnQoMCwgMCk7XHJcblxyXG5cdGVsLnN0eWxlW1RSQU5TRk9STV0gPVxyXG5cdFx0KEJyb3dzZXIuaWUzZCA/XHJcblx0XHRcdCd0cmFuc2xhdGUoJyArIHBvcy54ICsgJ3B4LCcgKyBwb3MueSArICdweCknIDpcclxuXHRcdFx0J3RyYW5zbGF0ZTNkKCcgKyBwb3MueCArICdweCwnICsgcG9zLnkgKyAncHgsMCknKSArXHJcblx0XHQoc2NhbGUgPyAnIHNjYWxlKCcgKyBzY2FsZSArICcpJyA6ICcnKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHNldFBvc2l0aW9uKGVsOiBIVE1MRWxlbWVudCwgcG9zaXRpb246IFBvaW50KVxyXG4vLyBTZXRzIHRoZSBwb3NpdGlvbiBvZiBgZWxgIHRvIGNvb3JkaW5hdGVzIHNwZWNpZmllZCBieSBgcG9zaXRpb25gLFxyXG4vLyB1c2luZyBDU1MgdHJhbnNsYXRlIG9yIHRvcC9sZWZ0IHBvc2l0aW9uaW5nIGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlclxyXG4vLyAodXNlZCBieSBMZWFmbGV0IGludGVybmFsbHkgdG8gcG9zaXRpb24gaXRzIGxheWVycykuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRQb3NpdGlvbihlbCwgcG9pbnQpIHtcclxuXHJcblx0Lyplc2xpbnQtZGlzYWJsZSAqL1xyXG5cdGVsLl9sZWFmbGV0X3BvcyA9IHBvaW50O1xyXG5cdC8qIGVzbGludC1lbmFibGUgKi9cclxuXHJcblx0aWYgKEJyb3dzZXIuYW55M2QpIHtcclxuXHRcdHNldFRyYW5zZm9ybShlbCwgcG9pbnQpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlbC5zdHlsZS5sZWZ0ID0gcG9pbnQueCArICdweCc7XHJcblx0XHRlbC5zdHlsZS50b3AgPSBwb2ludC55ICsgJ3B4JztcclxuXHR9XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRQb3NpdGlvbihlbDogSFRNTEVsZW1lbnQpOiBQb2ludFxyXG4vLyBSZXR1cm5zIHRoZSBjb29yZGluYXRlcyBvZiBhbiBlbGVtZW50IHByZXZpb3VzbHkgcG9zaXRpb25lZCB3aXRoIHNldFBvc2l0aW9uLlxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zaXRpb24oZWwpIHtcclxuXHQvLyB0aGlzIG1ldGhvZCBpcyBvbmx5IHVzZWQgZm9yIGVsZW1lbnRzIHByZXZpb3VzbHkgcG9zaXRpb25lZCB1c2luZyBzZXRQb3NpdGlvbixcclxuXHQvLyBzbyBpdCdzIHNhZmUgdG8gY2FjaGUgdGhlIHBvc2l0aW9uIGZvciBwZXJmb3JtYW5jZVxyXG5cclxuXHRyZXR1cm4gZWwuX2xlYWZsZXRfcG9zIHx8IG5ldyBQb2ludCgwLCAwKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGRpc2FibGVUZXh0U2VsZWN0aW9uKClcclxuLy8gUHJldmVudHMgdGhlIHVzZXIgZnJvbSBnZW5lcmF0aW5nIGBzZWxlY3RzdGFydGAgRE9NIGV2ZW50cywgdXN1YWxseSBnZW5lcmF0ZWRcclxuLy8gd2hlbiB0aGUgdXNlciBkcmFncyB0aGUgbW91c2UgdGhyb3VnaCBhIHBhZ2Ugd2l0aCB0ZXh0LiBVc2VkIGludGVybmFsbHlcclxuLy8gYnkgTGVhZmxldCB0byBvdmVycmlkZSB0aGUgYmVoYXZpb3VyIG9mIGFueSBjbGljay1hbmQtZHJhZyBpbnRlcmFjdGlvbiBvblxyXG4vLyB0aGUgbWFwLiBBZmZlY3RzIGRyYWcgaW50ZXJhY3Rpb25zIG9uIHRoZSB3aG9sZSBkb2N1bWVudC5cclxuXHJcbi8vIEBmdW5jdGlvbiBlbmFibGVUZXh0U2VsZWN0aW9uKClcclxuLy8gQ2FuY2VscyB0aGUgZWZmZWN0cyBvZiBhIHByZXZpb3VzIFtgTC5Eb21VdGlsLmRpc2FibGVUZXh0U2VsZWN0aW9uYF0oI2RvbXV0aWwtZGlzYWJsZXRleHRzZWxlY3Rpb24pLlxyXG5leHBvcnQgdmFyIGRpc2FibGVUZXh0U2VsZWN0aW9uO1xyXG5leHBvcnQgdmFyIGVuYWJsZVRleHRTZWxlY3Rpb247XHJcbnZhciBfdXNlclNlbGVjdDtcclxuaWYgKCdvbnNlbGVjdHN0YXJ0JyBpbiBkb2N1bWVudCkge1xyXG5cdGRpc2FibGVUZXh0U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0RG9tRXZlbnQub24od2luZG93LCAnc2VsZWN0c3RhcnQnLCBEb21FdmVudC5wcmV2ZW50RGVmYXVsdCk7XHJcblx0fTtcclxuXHRlbmFibGVUZXh0U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0RG9tRXZlbnQub2ZmKHdpbmRvdywgJ3NlbGVjdHN0YXJ0JywgRG9tRXZlbnQucHJldmVudERlZmF1bHQpO1xyXG5cdH07XHJcbn0gZWxzZSB7XHJcblx0dmFyIHVzZXJTZWxlY3RQcm9wZXJ0eSA9IHRlc3RQcm9wKFxyXG5cdFx0Wyd1c2VyU2VsZWN0JywgJ1dlYmtpdFVzZXJTZWxlY3QnLCAnT1VzZXJTZWxlY3QnLCAnTW96VXNlclNlbGVjdCcsICdtc1VzZXJTZWxlY3QnXSk7XHJcblxyXG5cdGRpc2FibGVUZXh0U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHVzZXJTZWxlY3RQcm9wZXJ0eSkge1xyXG5cdFx0XHR2YXIgc3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XHJcblx0XHRcdF91c2VyU2VsZWN0ID0gc3R5bGVbdXNlclNlbGVjdFByb3BlcnR5XTtcclxuXHRcdFx0c3R5bGVbdXNlclNlbGVjdFByb3BlcnR5XSA9ICdub25lJztcclxuXHRcdH1cclxuXHR9O1xyXG5cdGVuYWJsZVRleHRTZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodXNlclNlbGVjdFByb3BlcnR5KSB7XHJcblx0XHRcdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZVt1c2VyU2VsZWN0UHJvcGVydHldID0gX3VzZXJTZWxlY3Q7XHJcblx0XHRcdF91c2VyU2VsZWN0ID0gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBkaXNhYmxlSW1hZ2VEcmFnKClcclxuLy8gQXMgW2BMLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb25gXSgjZG9tdXRpbC1kaXNhYmxldGV4dHNlbGVjdGlvbiksIGJ1dFxyXG4vLyBmb3IgYGRyYWdzdGFydGAgRE9NIGV2ZW50cywgdXN1YWxseSBnZW5lcmF0ZWQgd2hlbiB0aGUgdXNlciBkcmFncyBhbiBpbWFnZS5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVJbWFnZURyYWcoKSB7XHJcblx0RG9tRXZlbnQub24od2luZG93LCAnZHJhZ3N0YXJ0JywgRG9tRXZlbnQucHJldmVudERlZmF1bHQpO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gZW5hYmxlSW1hZ2VEcmFnKClcclxuLy8gQ2FuY2VscyB0aGUgZWZmZWN0cyBvZiBhIHByZXZpb3VzIFtgTC5Eb21VdGlsLmRpc2FibGVJbWFnZURyYWdgXSgjZG9tdXRpbC1kaXNhYmxldGV4dHNlbGVjdGlvbikuXHJcbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVJbWFnZURyYWcoKSB7XHJcblx0RG9tRXZlbnQub2ZmKHdpbmRvdywgJ2RyYWdzdGFydCcsIERvbUV2ZW50LnByZXZlbnREZWZhdWx0KTtcclxufVxyXG5cclxudmFyIF9vdXRsaW5lRWxlbWVudCwgX291dGxpbmVTdHlsZTtcclxuLy8gQGZ1bmN0aW9uIHByZXZlbnRPdXRsaW5lKGVsOiBIVE1MRWxlbWVudClcclxuLy8gTWFrZXMgdGhlIFtvdXRsaW5lXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9DU1Mvb3V0bGluZSlcclxuLy8gb2YgdGhlIGVsZW1lbnQgYGVsYCBpbnZpc2libGUuIFVzZWQgaW50ZXJuYWxseSBieSBMZWFmbGV0IHRvIHByZXZlbnRcclxuLy8gZm9jdXNhYmxlIGVsZW1lbnRzIGZyb20gZGlzcGxheWluZyBhbiBvdXRsaW5lIHdoZW4gdGhlIHVzZXIgcGVyZm9ybXMgYVxyXG4vLyBkcmFnIGludGVyYWN0aW9uIG9uIHRoZW0uXHJcbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50T3V0bGluZShlbGVtZW50KSB7XHJcblx0d2hpbGUgKGVsZW1lbnQudGFiSW5kZXggPT09IC0xKSB7XHJcblx0XHRlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG5cdH1cclxuXHRpZiAoIWVsZW1lbnQuc3R5bGUpIHsgcmV0dXJuOyB9XHJcblx0cmVzdG9yZU91dGxpbmUoKTtcclxuXHRfb3V0bGluZUVsZW1lbnQgPSBlbGVtZW50O1xyXG5cdF9vdXRsaW5lU3R5bGUgPSBlbGVtZW50LnN0eWxlLm91dGxpbmVTdHlsZTtcclxuXHRlbGVtZW50LnN0eWxlLm91dGxpbmVTdHlsZSA9ICdub25lJztcclxuXHREb21FdmVudC5vbih3aW5kb3csICdrZXlkb3duJywgcmVzdG9yZU91dGxpbmUpO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gcmVzdG9yZU91dGxpbmUoKVxyXG4vLyBDYW5jZWxzIHRoZSBlZmZlY3RzIG9mIGEgcHJldmlvdXMgW2BMLkRvbVV0aWwucHJldmVudE91dGxpbmVgXSgpLlxyXG5leHBvcnQgZnVuY3Rpb24gcmVzdG9yZU91dGxpbmUoKSB7XHJcblx0aWYgKCFfb3V0bGluZUVsZW1lbnQpIHsgcmV0dXJuOyB9XHJcblx0X291dGxpbmVFbGVtZW50LnN0eWxlLm91dGxpbmVTdHlsZSA9IF9vdXRsaW5lU3R5bGU7XHJcblx0X291dGxpbmVFbGVtZW50ID0gdW5kZWZpbmVkO1xyXG5cdF9vdXRsaW5lU3R5bGUgPSB1bmRlZmluZWQ7XHJcblx0RG9tRXZlbnQub2ZmKHdpbmRvdywgJ2tleWRvd24nLCByZXN0b3JlT3V0bGluZSk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRTaXplZFBhcmVudE5vZGUoZWw6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuLy8gRmluZHMgdGhlIGNsb3Nlc3QgcGFyZW50IG5vZGUgd2hpY2ggc2l6ZSAod2lkdGggYW5kIGhlaWdodCkgaXMgbm90IG51bGwuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTaXplZFBhcmVudE5vZGUoZWxlbWVudCkge1xyXG5cdGRvIHtcclxuXHRcdGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcblx0fSB3aGlsZSAoKCFlbGVtZW50Lm9mZnNldFdpZHRoIHx8ICFlbGVtZW50Lm9mZnNldEhlaWdodCkgJiYgZWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keSk7XHJcblx0cmV0dXJuIGVsZW1lbnQ7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRTY2FsZShlbDogSFRNTEVsZW1lbnQpOiBPYmplY3RcclxuLy8gQ29tcHV0ZXMgdGhlIENTUyBzY2FsZSBjdXJyZW50bHkgYXBwbGllZCBvbiB0aGUgZWxlbWVudC5cclxuLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgeGAgYW5kIGB5YCBtZW1iZXJzIGFzIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIHNjYWxlcyByZXNwZWN0aXZlbHksXHJcbi8vIGFuZCBgYm91bmRpbmdDbGllbnRSZWN0YCBhcyB0aGUgcmVzdWx0IG9mIFtgZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9nZXRCb3VuZGluZ0NsaWVudFJlY3QpLlxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGUoZWxlbWVudCkge1xyXG5cdHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8gUmVhZC1vbmx5IGluIG9sZCBicm93c2Vycy5cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdHg6IHJlY3Qud2lkdGggLyBlbGVtZW50Lm9mZnNldFdpZHRoIHx8IDEsXHJcblx0XHR5OiByZWN0LmhlaWdodCAvIGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDEsXHJcblx0XHRib3VuZGluZ0NsaWVudFJlY3Q6IHJlY3RcclxuXHR9O1xyXG59XHJcbiIsICJpbXBvcnQge1BvaW50fSBmcm9tICcuLi9nZW9tZXRyeS9Qb2ludCc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vY29yZS9Ccm93c2VyJztcclxuaW1wb3J0IHthZGRQb2ludGVyTGlzdGVuZXIsIHJlbW92ZVBvaW50ZXJMaXN0ZW5lcn0gZnJvbSAnLi9Eb21FdmVudC5Qb2ludGVyJztcclxuaW1wb3J0IHthZGREb3VibGVUYXBMaXN0ZW5lciwgcmVtb3ZlRG91YmxlVGFwTGlzdGVuZXJ9IGZyb20gJy4vRG9tRXZlbnQuRG91YmxlVGFwJztcclxuaW1wb3J0IHtnZXRTY2FsZX0gZnJvbSAnLi9Eb21VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgRG9tRXZlbnRcclxuICogVXRpbGl0eSBmdW5jdGlvbnMgdG8gd29yayB3aXRoIHRoZSBbRE9NIGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0V2ZW50KSwgdXNlZCBieSBMZWFmbGV0IGludGVybmFsbHkuXHJcbiAqL1xyXG5cclxuLy8gSW5zcGlyZWQgYnkgSm9obiBSZXNpZywgRGVhbiBFZHdhcmRzIGFuZCBZVUkgYWRkRXZlbnQgaW1wbGVtZW50YXRpb25zLlxyXG5cclxuLy8gQGZ1bmN0aW9uIG9uKGVsOiBIVE1MRWxlbWVudCwgdHlwZXM6IFN0cmluZywgZm46IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0KTogdGhpc1xyXG4vLyBBZGRzIGEgbGlzdGVuZXIgZnVuY3Rpb24gKGBmbmApIHRvIGEgcGFydGljdWxhciBET00gZXZlbnQgdHlwZSBvZiB0aGVcclxuLy8gZWxlbWVudCBgZWxgLiBZb3UgY2FuIG9wdGlvbmFsbHkgc3BlY2lmeSB0aGUgY29udGV4dCBvZiB0aGUgbGlzdGVuZXJcclxuLy8gKG9iamVjdCB0aGUgYHRoaXNgIGtleXdvcmQgd2lsbCBwb2ludCB0bykuIFlvdSBjYW4gYWxzbyBwYXNzIHNldmVyYWxcclxuLy8gc3BhY2Utc2VwYXJhdGVkIHR5cGVzIChlLmcuIGAnY2xpY2sgZGJsY2xpY2snYCkuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZ1bmN0aW9uIG9uKGVsOiBIVE1MRWxlbWVudCwgZXZlbnRNYXA6IE9iamVjdCwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuLy8gQWRkcyBhIHNldCBvZiB0eXBlL2xpc3RlbmVyIHBhaXJzLCBlLmcuIGB7Y2xpY2s6IG9uQ2xpY2ssIG1vdXNlbW92ZTogb25Nb3VzZU1vdmV9YFxyXG5leHBvcnQgZnVuY3Rpb24gb24ob2JqLCB0eXBlcywgZm4sIGNvbnRleHQpIHtcclxuXHJcblx0aWYgKHR5cGVzICYmIHR5cGVvZiB0eXBlcyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdGZvciAodmFyIHR5cGUgaW4gdHlwZXMpIHtcclxuXHRcdFx0YWRkT25lKG9iaiwgdHlwZSwgdHlwZXNbdHlwZV0sIGZuKTtcclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0dHlwZXMgPSBVdGlsLnNwbGl0V29yZHModHlwZXMpO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSB0eXBlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRhZGRPbmUob2JqLCB0eXBlc1tpXSwgZm4sIGNvbnRleHQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcbnZhciBldmVudHNLZXkgPSAnX2xlYWZsZXRfZXZlbnRzJztcclxuXHJcbi8vIEBmdW5jdGlvbiBvZmYoZWw6IEhUTUxFbGVtZW50LCB0eXBlczogU3RyaW5nLCBmbjogRnVuY3Rpb24sIGNvbnRleHQ/OiBPYmplY3QpOiB0aGlzXHJcbi8vIFJlbW92ZXMgYSBwcmV2aW91c2x5IGFkZGVkIGxpc3RlbmVyIGZ1bmN0aW9uLlxyXG4vLyBOb3RlIHRoYXQgaWYgeW91IHBhc3NlZCBhIGN1c3RvbSBjb250ZXh0IHRvIG9uLCB5b3UgbXVzdCBwYXNzIHRoZSBzYW1lXHJcbi8vIGNvbnRleHQgdG8gYG9mZmAgaW4gb3JkZXIgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lci5cclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZnVuY3Rpb24gb2ZmKGVsOiBIVE1MRWxlbWVudCwgZXZlbnRNYXA6IE9iamVjdCwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuLy8gUmVtb3ZlcyBhIHNldCBvZiB0eXBlL2xpc3RlbmVyIHBhaXJzLCBlLmcuIGB7Y2xpY2s6IG9uQ2xpY2ssIG1vdXNlbW92ZTogb25Nb3VzZU1vdmV9YFxyXG5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmdW5jdGlvbiBvZmYoZWw6IEhUTUxFbGVtZW50LCB0eXBlczogU3RyaW5nKTogdGhpc1xyXG4vLyBSZW1vdmVzIGFsbCBwcmV2aW91c2x5IGFkZGVkIGxpc3RlbmVycyBvZiBnaXZlbiB0eXBlcy5cclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZnVuY3Rpb24gb2ZmKGVsOiBIVE1MRWxlbWVudCk6IHRoaXNcclxuLy8gUmVtb3ZlcyBhbGwgcHJldmlvdXNseSBhZGRlZCBsaXN0ZW5lcnMgZnJvbSBnaXZlbiBIVE1MRWxlbWVudFxyXG5leHBvcnQgZnVuY3Rpb24gb2ZmKG9iaiwgdHlwZXMsIGZuLCBjb250ZXh0KSB7XHJcblxyXG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcblx0XHRiYXRjaFJlbW92ZShvYmopO1xyXG5cdFx0ZGVsZXRlIG9ialtldmVudHNLZXldO1xyXG5cclxuXHR9IGVsc2UgaWYgKHR5cGVzICYmIHR5cGVvZiB0eXBlcyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdGZvciAodmFyIHR5cGUgaW4gdHlwZXMpIHtcclxuXHRcdFx0cmVtb3ZlT25lKG9iaiwgdHlwZSwgdHlwZXNbdHlwZV0sIGZuKTtcclxuXHRcdH1cclxuXHJcblx0fSBlbHNlIHtcclxuXHRcdHR5cGVzID0gVXRpbC5zcGxpdFdvcmRzKHR5cGVzKTtcclxuXHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xyXG5cdFx0XHRiYXRjaFJlbW92ZShvYmosIGZ1bmN0aW9uICh0eXBlKSB7XHJcblx0XHRcdFx0cmV0dXJuIFV0aWwuaW5kZXhPZih0eXBlcywgdHlwZSkgIT09IC0xO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSB0eXBlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdHJlbW92ZU9uZShvYmosIHR5cGVzW2ldLCBmbiwgY29udGV4dCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB0aGlzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBiYXRjaFJlbW92ZShvYmosIGZpbHRlckZuKSB7XHJcblx0Zm9yICh2YXIgaWQgaW4gb2JqW2V2ZW50c0tleV0pIHtcclxuXHRcdHZhciB0eXBlID0gaWQuc3BsaXQoL1xcZC8pWzBdO1xyXG5cdFx0aWYgKCFmaWx0ZXJGbiB8fCBmaWx0ZXJGbih0eXBlKSkge1xyXG5cdFx0XHRyZW1vdmVPbmUob2JqLCB0eXBlLCBudWxsLCBudWxsLCBpZCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG52YXIgbW91c2VTdWJzdCA9IHtcclxuXHRtb3VzZWVudGVyOiAnbW91c2VvdmVyJyxcclxuXHRtb3VzZWxlYXZlOiAnbW91c2VvdXQnLFxyXG5cdHdoZWVsOiAhKCdvbndoZWVsJyBpbiB3aW5kb3cpICYmICdtb3VzZXdoZWVsJ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gYWRkT25lKG9iaiwgdHlwZSwgZm4sIGNvbnRleHQpIHtcclxuXHR2YXIgaWQgPSB0eXBlICsgVXRpbC5zdGFtcChmbikgKyAoY29udGV4dCA/ICdfJyArIFV0aWwuc3RhbXAoY29udGV4dCkgOiAnJyk7XHJcblxyXG5cdGlmIChvYmpbZXZlbnRzS2V5XSAmJiBvYmpbZXZlbnRzS2V5XVtpZF0pIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xyXG5cdFx0cmV0dXJuIGZuLmNhbGwoY29udGV4dCB8fCBvYmosIGUgfHwgd2luZG93LmV2ZW50KTtcclxuXHR9O1xyXG5cclxuXHR2YXIgb3JpZ2luYWxIYW5kbGVyID0gaGFuZGxlcjtcclxuXHJcblx0aWYgKCFCcm93c2VyLnRvdWNoTmF0aXZlICYmIEJyb3dzZXIucG9pbnRlciAmJiB0eXBlLmluZGV4T2YoJ3RvdWNoJykgPT09IDApIHtcclxuXHRcdC8vIE5lZWRzIERvbUV2ZW50LlBvaW50ZXIuanNcclxuXHRcdGhhbmRsZXIgPSBhZGRQb2ludGVyTGlzdGVuZXIob2JqLCB0eXBlLCBoYW5kbGVyKTtcclxuXHJcblx0fSBlbHNlIGlmIChCcm93c2VyLnRvdWNoICYmICh0eXBlID09PSAnZGJsY2xpY2snKSkge1xyXG5cdFx0aGFuZGxlciA9IGFkZERvdWJsZVRhcExpc3RlbmVyKG9iaiwgaGFuZGxlcik7XHJcblxyXG5cdH0gZWxzZSBpZiAoJ2FkZEV2ZW50TGlzdGVuZXInIGluIG9iaikge1xyXG5cclxuXHRcdGlmICh0eXBlID09PSAndG91Y2hzdGFydCcgfHwgdHlwZSA9PT0gJ3RvdWNobW92ZScgfHwgdHlwZSA9PT0gJ3doZWVsJyB8fCAgdHlwZSA9PT0gJ21vdXNld2hlZWwnKSB7XHJcblx0XHRcdG9iai5hZGRFdmVudExpc3RlbmVyKG1vdXNlU3Vic3RbdHlwZV0gfHwgdHlwZSwgaGFuZGxlciwgQnJvd3Nlci5wYXNzaXZlRXZlbnRzID8ge3Bhc3NpdmU6IGZhbHNlfSA6IGZhbHNlKTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAnbW91c2VsZWF2ZScpIHtcclxuXHRcdFx0aGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0ZSA9IGUgfHwgd2luZG93LmV2ZW50O1xyXG5cdFx0XHRcdGlmIChpc0V4dGVybmFsVGFyZ2V0KG9iaiwgZSkpIHtcclxuXHRcdFx0XHRcdG9yaWdpbmFsSGFuZGxlcihlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHRcdG9iai5hZGRFdmVudExpc3RlbmVyKG1vdXNlU3Vic3RbdHlwZV0sIGhhbmRsZXIsIGZhbHNlKTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBvcmlnaW5hbEhhbmRsZXIsIGZhbHNlKTtcclxuXHRcdH1cclxuXHJcblx0fSBlbHNlIHtcclxuXHRcdG9iai5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgaGFuZGxlcik7XHJcblx0fVxyXG5cclxuXHRvYmpbZXZlbnRzS2V5XSA9IG9ialtldmVudHNLZXldIHx8IHt9O1xyXG5cdG9ialtldmVudHNLZXldW2lkXSA9IGhhbmRsZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZU9uZShvYmosIHR5cGUsIGZuLCBjb250ZXh0LCBpZCkge1xyXG5cdGlkID0gaWQgfHwgdHlwZSArIFV0aWwuc3RhbXAoZm4pICsgKGNvbnRleHQgPyAnXycgKyBVdGlsLnN0YW1wKGNvbnRleHQpIDogJycpO1xyXG5cdHZhciBoYW5kbGVyID0gb2JqW2V2ZW50c0tleV0gJiYgb2JqW2V2ZW50c0tleV1baWRdO1xyXG5cclxuXHRpZiAoIWhhbmRsZXIpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0aWYgKCFCcm93c2VyLnRvdWNoTmF0aXZlICYmIEJyb3dzZXIucG9pbnRlciAmJiB0eXBlLmluZGV4T2YoJ3RvdWNoJykgPT09IDApIHtcclxuXHRcdHJlbW92ZVBvaW50ZXJMaXN0ZW5lcihvYmosIHR5cGUsIGhhbmRsZXIpO1xyXG5cclxuXHR9IGVsc2UgaWYgKEJyb3dzZXIudG91Y2ggJiYgKHR5cGUgPT09ICdkYmxjbGljaycpKSB7XHJcblx0XHRyZW1vdmVEb3VibGVUYXBMaXN0ZW5lcihvYmosIGhhbmRsZXIpO1xyXG5cclxuXHR9IGVsc2UgaWYgKCdyZW1vdmVFdmVudExpc3RlbmVyJyBpbiBvYmopIHtcclxuXHJcblx0XHRvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcihtb3VzZVN1YnN0W3R5cGVdIHx8IHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcclxuXHJcblx0fSBlbHNlIHtcclxuXHRcdG9iai5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgaGFuZGxlcik7XHJcblx0fVxyXG5cclxuXHRvYmpbZXZlbnRzS2V5XVtpZF0gPSBudWxsO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGV2OiBET01FdmVudCk6IHRoaXNcclxuLy8gU3RvcCB0aGUgZ2l2ZW4gZXZlbnQgZnJvbSBwcm9wYWdhdGlvbiB0byBwYXJlbnQgZWxlbWVudHMuIFVzZWQgaW5zaWRlIHRoZSBsaXN0ZW5lciBmdW5jdGlvbnM6XHJcbi8vIGBgYGpzXHJcbi8vIEwuRG9tRXZlbnQub24oZGl2LCAnY2xpY2snLCBmdW5jdGlvbiAoZXYpIHtcclxuLy8gXHRMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbihldik7XHJcbi8vIH0pO1xyXG4vLyBgYGBcclxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihlKSB7XHJcblxyXG5cdGlmIChlLnN0b3BQcm9wYWdhdGlvbikge1xyXG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHR9IGVsc2UgaWYgKGUub3JpZ2luYWxFdmVudCkgeyAgLy8gSW4gY2FzZSBvZiBMZWFmbGV0IGV2ZW50LlxyXG5cdFx0ZS5vcmlnaW5hbEV2ZW50Ll9zdG9wcGVkID0gdHJ1ZTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBkaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb24oZWw6IEhUTUxFbGVtZW50KTogdGhpc1xyXG4vLyBBZGRzIGBzdG9wUHJvcGFnYXRpb25gIHRvIHRoZSBlbGVtZW50J3MgYCd3aGVlbCdgIGV2ZW50cyAocGx1cyBicm93c2VyIHZhcmlhbnRzKS5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbihlbCkge1xyXG5cdGFkZE9uZShlbCwgJ3doZWVsJywgc3RvcFByb3BhZ2F0aW9uKTtcclxuXHRyZXR1cm4gdGhpcztcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGVsOiBIVE1MRWxlbWVudCk6IHRoaXNcclxuLy8gQWRkcyBgc3RvcFByb3BhZ2F0aW9uYCB0byB0aGUgZWxlbWVudCdzIGAnY2xpY2snYCwgYCdkYmxjbGljaydgLCBgJ2NvbnRleHRtZW51J2AsXHJcbi8vIGAnbW91c2Vkb3duJ2AgYW5kIGAndG91Y2hzdGFydCdgIGV2ZW50cyAocGx1cyBicm93c2VyIHZhcmlhbnRzKS5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGVsKSB7XHJcblx0b24oZWwsICdtb3VzZWRvd24gdG91Y2hzdGFydCBkYmxjbGljayBjb250ZXh0bWVudScsIHN0b3BQcm9wYWdhdGlvbik7XHJcblx0ZWxbJ19sZWFmbGV0X2Rpc2FibGVfY2xpY2snXSA9IHRydWU7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldjogRE9NRXZlbnQpOiB0aGlzXHJcbi8vIFByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvbiBvZiB0aGUgRE9NIEV2ZW50IGBldmAgZnJvbSBoYXBwZW5pbmcgKHN1Y2ggYXNcclxuLy8gZm9sbG93aW5nIGEgbGluayBpbiB0aGUgaHJlZiBvZiB0aGUgYSBlbGVtZW50LCBvciBkb2luZyBhIFBPU1QgcmVxdWVzdFxyXG4vLyB3aXRoIHBhZ2UgcmVsb2FkIHdoZW4gYSBgPGZvcm0+YCBpcyBzdWJtaXR0ZWQpLlxyXG4vLyBVc2UgaXQgaW5zaWRlIGxpc3RlbmVyIGZ1bmN0aW9ucy5cclxuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGUpIHtcclxuXHRpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlLnJldHVyblZhbHVlID0gZmFsc2U7XHJcblx0fVxyXG5cdHJldHVybiB0aGlzO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gc3RvcChldjogRE9NRXZlbnQpOiB0aGlzXHJcbi8vIERvZXMgYHN0b3BQcm9wYWdhdGlvbmAgYW5kIGBwcmV2ZW50RGVmYXVsdGAgYXQgdGhlIHNhbWUgdGltZS5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0b3AoZSkge1xyXG5cdHByZXZlbnREZWZhdWx0KGUpO1xyXG5cdHN0b3BQcm9wYWdhdGlvbihlKTtcclxuXHRyZXR1cm4gdGhpcztcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGdldFByb3BhZ2F0aW9uUGF0aChldjogRE9NRXZlbnQpOiBBcnJheVxyXG4vLyBDb21wYXRpYmlsaXR5IHBvbHlmaWxsIGZvciBbYEV2ZW50LmNvbXBvc2VkUGF0aCgpYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50L2NvbXBvc2VkUGF0aCkuXHJcbi8vIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgYEhUTUxFbGVtZW50YHMgdGhhdCB0aGUgZ2l2ZW4gRE9NIGV2ZW50XHJcbi8vIHNob3VsZCBwcm9wYWdhdGUgdG8gKGlmIG5vdCBzdG9wcGVkKS5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3BhZ2F0aW9uUGF0aChldikge1xyXG5cdGlmIChldi5jb21wb3NlZFBhdGgpIHtcclxuXHRcdHJldHVybiBldi5jb21wb3NlZFBhdGgoKTtcclxuXHR9XHJcblxyXG5cdHZhciBwYXRoID0gW107XHJcblx0dmFyIGVsID0gZXYudGFyZ2V0O1xyXG5cclxuXHR3aGlsZSAoZWwpIHtcclxuXHRcdHBhdGgucHVzaChlbCk7XHJcblx0XHRlbCA9IGVsLnBhcmVudE5vZGU7XHJcblx0fVxyXG5cdHJldHVybiBwYXRoO1xyXG59XHJcblxyXG5cclxuLy8gQGZ1bmN0aW9uIGdldE1vdXNlUG9zaXRpb24oZXY6IERPTUV2ZW50LCBjb250YWluZXI/OiBIVE1MRWxlbWVudCk6IFBvaW50XHJcbi8vIEdldHMgbm9ybWFsaXplZCBtb3VzZSBwb3NpdGlvbiBmcm9tIGEgRE9NIGV2ZW50IHJlbGF0aXZlIHRvIHRoZVxyXG4vLyBgY29udGFpbmVyYCAoYm9yZGVyIGV4Y2x1ZGVkKSBvciB0byB0aGUgd2hvbGUgcGFnZSBpZiBub3Qgc3BlY2lmaWVkLlxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW91c2VQb3NpdGlvbihlLCBjb250YWluZXIpIHtcclxuXHRpZiAoIWNvbnRhaW5lcikge1xyXG5cdFx0cmV0dXJuIG5ldyBQb2ludChlLmNsaWVudFgsIGUuY2xpZW50WSk7XHJcblx0fVxyXG5cclxuXHR2YXIgc2NhbGUgPSBnZXRTY2FsZShjb250YWluZXIpLFxyXG5cdCAgICBvZmZzZXQgPSBzY2FsZS5ib3VuZGluZ0NsaWVudFJlY3Q7IC8vIGxlZnQgYW5kIHRvcCAgdmFsdWVzIGFyZSBpbiBwYWdlIHNjYWxlIChsaWtlIHRoZSBldmVudCBjbGllbnRYL1kpXHJcblxyXG5cdHJldHVybiBuZXcgUG9pbnQoXHJcblx0XHQvLyBvZmZzZXQubGVmdC90b3AgdmFsdWVzIGFyZSBpbiBwYWdlIHNjYWxlIChsaWtlIGNsaWVudFgvWSksXHJcblx0XHQvLyB3aGVyZWFzIGNsaWVudExlZnQvVG9wIChib3JkZXIgd2lkdGgpIHZhbHVlcyBhcmUgdGhlIG9yaWdpbmFsIHZhbHVlcyAoYmVmb3JlIENTUyBzY2FsZSBhcHBsaWVzKS5cclxuXHRcdChlLmNsaWVudFggLSBvZmZzZXQubGVmdCkgLyBzY2FsZS54IC0gY29udGFpbmVyLmNsaWVudExlZnQsXHJcblx0XHQoZS5jbGllbnRZIC0gb2Zmc2V0LnRvcCkgLyBzY2FsZS55IC0gY29udGFpbmVyLmNsaWVudFRvcFxyXG5cdCk7XHJcbn1cclxuXHJcblxyXG4vLyAgZXhjZXB0ICwgU2FmYXJpIGFuZFxyXG4vLyBXZSBuZWVkIGRvdWJsZSB0aGUgc2Nyb2xsIHBpeGVscyAoc2VlICM3NDAzIGFuZCAjNDUzOCkgZm9yIGFsbCBCcm93c2Vyc1xyXG4vLyBleGNlcHQgT1NYIChNYWMpIC0+IDN4LCBDaHJvbWUgcnVubmluZyBvbiBMaW51eCAxeFxyXG5cclxudmFyIHdoZWVsUHhGYWN0b3IgPVxyXG5cdChCcm93c2VyLmxpbnV4ICYmIEJyb3dzZXIuY2hyb21lKSA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDpcclxuXHRCcm93c2VyLm1hYyA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICogMyA6XHJcblx0d2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAwID8gMiAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDogMTtcclxuLy8gQGZ1bmN0aW9uIGdldFdoZWVsRGVsdGEoZXY6IERPTUV2ZW50KTogTnVtYmVyXHJcbi8vIEdldHMgbm9ybWFsaXplZCB3aGVlbCBkZWx0YSBmcm9tIGEgd2hlZWwgRE9NIGV2ZW50LCBpbiB2ZXJ0aWNhbFxyXG4vLyBwaXhlbHMgc2Nyb2xsZWQgKG5lZ2F0aXZlIGlmIHNjcm9sbGluZyBkb3duKS5cclxuLy8gRXZlbnRzIGZyb20gcG9pbnRpbmcgZGV2aWNlcyB3aXRob3V0IHByZWNpc2Ugc2Nyb2xsaW5nIGFyZSBtYXBwZWQgdG9cclxuLy8gYSBiZXN0IGd1ZXNzIG9mIDYwIHBpeGVscy5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFdoZWVsRGVsdGEoZSkge1xyXG5cdHJldHVybiAoQnJvd3Nlci5lZGdlKSA/IGUud2hlZWxEZWx0YVkgLyAyIDogLy8gRG9uJ3QgdHJ1c3Qgd2luZG93LWdlb21ldHJ5LWJhc2VkIGRlbHRhXHJcblx0ICAgICAgIChlLmRlbHRhWSAmJiBlLmRlbHRhTW9kZSA9PT0gMCkgPyAtZS5kZWx0YVkgLyB3aGVlbFB4RmFjdG9yIDogLy8gUGl4ZWxzXHJcblx0ICAgICAgIChlLmRlbHRhWSAmJiBlLmRlbHRhTW9kZSA9PT0gMSkgPyAtZS5kZWx0YVkgKiAyMCA6IC8vIExpbmVzXHJcblx0ICAgICAgIChlLmRlbHRhWSAmJiBlLmRlbHRhTW9kZSA9PT0gMikgPyAtZS5kZWx0YVkgKiA2MCA6IC8vIFBhZ2VzXHJcblx0ICAgICAgIChlLmRlbHRhWCB8fCBlLmRlbHRhWikgPyAwIDpcdC8vIFNraXAgaG9yaXpvbnRhbC9kZXB0aCB3aGVlbCBldmVudHNcclxuXHQgICAgICAgZS53aGVlbERlbHRhID8gKGUud2hlZWxEZWx0YVkgfHwgZS53aGVlbERlbHRhKSAvIDIgOiAvLyBMZWdhY3kgSUUgcGl4ZWxzXHJcblx0ICAgICAgIChlLmRldGFpbCAmJiBNYXRoLmFicyhlLmRldGFpbCkgPCAzMjc2NSkgPyAtZS5kZXRhaWwgKiAyMCA6IC8vIExlZ2FjeSBNb3ogbGluZXNcclxuXHQgICAgICAgZS5kZXRhaWwgPyBlLmRldGFpbCAvIC0zMjc2NSAqIDYwIDogLy8gTGVnYWN5IE1veiBwYWdlc1xyXG5cdCAgICAgICAwO1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiBlbGVtZW50IHJlYWxseSBsZWZ0L2VudGVyZWQgdGhlIGV2ZW50IHRhcmdldCAoZm9yIG1vdXNlZW50ZXIvbW91c2VsZWF2ZSlcclxuZXhwb3J0IGZ1bmN0aW9uIGlzRXh0ZXJuYWxUYXJnZXQoZWwsIGUpIHtcclxuXHJcblx0dmFyIHJlbGF0ZWQgPSBlLnJlbGF0ZWRUYXJnZXQ7XHJcblxyXG5cdGlmICghcmVsYXRlZCkgeyByZXR1cm4gdHJ1ZTsgfVxyXG5cclxuXHR0cnkge1xyXG5cdFx0d2hpbGUgKHJlbGF0ZWQgJiYgKHJlbGF0ZWQgIT09IGVsKSkge1xyXG5cdFx0XHRyZWxhdGVkID0gcmVsYXRlZC5wYXJlbnROb2RlO1xyXG5cdFx0fVxyXG5cdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHRyZXR1cm4gKHJlbGF0ZWQgIT09IGVsKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGFkZExpc3RlbmVyKOKApik6IHRoaXNcclxuLy8gQWxpYXMgdG8gW2BMLkRvbUV2ZW50Lm9uYF0oI2RvbWV2ZW50LW9uKVxyXG5leHBvcnQge29uIGFzIGFkZExpc3RlbmVyfTtcclxuXHJcbi8vIEBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcijigKYpOiB0aGlzXHJcbi8vIEFsaWFzIHRvIFtgTC5Eb21FdmVudC5vZmZgXSgjZG9tZXZlbnQtb2ZmKVxyXG5leHBvcnQge29mZiBhcyByZW1vdmVMaXN0ZW5lcn07XHJcbiIsICJpbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4uL2NvcmUvRXZlbnRzJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xuXG5cbi8qXG4gKiBAY2xhc3MgUG9zQW5pbWF0aW9uXG4gKiBAYWthIEwuUG9zQW5pbWF0aW9uXG4gKiBAaW5oZXJpdHMgRXZlbnRlZFxuICogVXNlZCBpbnRlcm5hbGx5IGZvciBwYW5uaW5nIGFuaW1hdGlvbnMsIHV0aWxpemluZyBDU1MzIFRyYW5zaXRpb25zIGZvciBtb2Rlcm4gYnJvd3NlcnMgYW5kIGEgdGltZXIgZmFsbGJhY2sgZm9yIElFNi05LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogdmFyIG15UG9zaXRpb25NYXJrZXIgPSBMLm1hcmtlcihbNDguODY0NzE2LCAyLjI5NDY5NF0pLmFkZFRvKG1hcCk7XG4gKlxuICogbXlQb3NpdGlvbk1hcmtlci5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICogXHR2YXIgcG9zID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChteVBvc2l0aW9uTWFya2VyLmdldExhdExuZygpKTtcbiAqIFx0cG9zLnkgLT0gMjU7XG4gKiBcdHZhciBmeCA9IG5ldyBMLlBvc0FuaW1hdGlvbigpO1xuICpcbiAqIFx0Zngub25jZSgnZW5kJyxmdW5jdGlvbigpIHtcbiAqIFx0XHRwb3MueSArPSAyNTtcbiAqIFx0XHRmeC5ydW4obXlQb3NpdGlvbk1hcmtlci5faWNvbiwgcG9zLCAwLjgpO1xuICogXHR9KTtcbiAqXG4gKiBcdGZ4LnJ1bihteVBvc2l0aW9uTWFya2VyLl9pY29uLCBwb3MsIDAuMyk7XG4gKiB9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBAY29uc3RydWN0b3IgTC5Qb3NBbmltYXRpb24oKVxuICogQ3JlYXRlcyBhIGBQb3NBbmltYXRpb25gIG9iamVjdC5cbiAqXG4gKi9cblxuZXhwb3J0IHZhciBQb3NBbmltYXRpb24gPSBFdmVudGVkLmV4dGVuZCh7XG5cblx0Ly8gQG1ldGhvZCBydW4oZWw6IEhUTUxFbGVtZW50LCBuZXdQb3M6IFBvaW50LCBkdXJhdGlvbj86IE51bWJlciwgZWFzZUxpbmVhcml0eT86IE51bWJlcilcblx0Ly8gUnVuIGFuIGFuaW1hdGlvbiBvZiBhIGdpdmVuIGVsZW1lbnQgdG8gYSBuZXcgcG9zaXRpb24sIG9wdGlvbmFsbHkgc2V0dGluZ1xuXHQvLyBkdXJhdGlvbiBpbiBzZWNvbmRzIChgMC4yNWAgYnkgZGVmYXVsdCkgYW5kIGVhc2luZyBsaW5lYXJpdHkgZmFjdG9yICgzcmRcblx0Ly8gYXJndW1lbnQgb2YgdGhlIFtjdWJpYyBiZXppZXIgY3VydmVdKGh0dHBzOi8vY3ViaWMtYmV6aWVyLmNvbS8jMCwwLC41LDEpLFxuXHQvLyBgMC41YCBieSBkZWZhdWx0KS5cblx0cnVuOiBmdW5jdGlvbiAoZWwsIG5ld1BvcywgZHVyYXRpb24sIGVhc2VMaW5lYXJpdHkpIHtcblx0XHR0aGlzLnN0b3AoKTtcblxuXHRcdHRoaXMuX2VsID0gZWw7XG5cdFx0dGhpcy5faW5Qcm9ncmVzcyA9IHRydWU7XG5cdFx0dGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbiB8fCAwLjI1O1xuXHRcdHRoaXMuX2Vhc2VPdXRQb3dlciA9IDEgLyBNYXRoLm1heChlYXNlTGluZWFyaXR5IHx8IDAuNSwgMC4yKTtcblxuXHRcdHRoaXMuX3N0YXJ0UG9zID0gRG9tVXRpbC5nZXRQb3NpdGlvbihlbCk7XG5cdFx0dGhpcy5fb2Zmc2V0ID0gbmV3UG9zLnN1YnRyYWN0KHRoaXMuX3N0YXJ0UG9zKTtcblx0XHR0aGlzLl9zdGFydFRpbWUgPSArbmV3IERhdGUoKTtcblxuXHRcdC8vIEBldmVudCBzdGFydDogRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBhbmltYXRpb24gc3RhcnRzXG5cdFx0dGhpcy5maXJlKCdzdGFydCcpO1xuXG5cdFx0dGhpcy5fYW5pbWF0ZSgpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc3RvcCgpXG5cdC8vIFN0b3BzIHRoZSBhbmltYXRpb24gKGlmIGN1cnJlbnRseSBydW5uaW5nKS5cblx0c3RvcDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5faW5Qcm9ncmVzcykgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX3N0ZXAodHJ1ZSk7XG5cdFx0dGhpcy5fY29tcGxldGUoKTtcblx0fSxcblxuXHRfYW5pbWF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdC8vIGFuaW1hdGlvbiBsb29wXG5cdFx0dGhpcy5fYW5pbUlkID0gVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX2FuaW1hdGUsIHRoaXMpO1xuXHRcdHRoaXMuX3N0ZXAoKTtcblx0fSxcblxuXHRfc3RlcDogZnVuY3Rpb24gKHJvdW5kKSB7XG5cdFx0dmFyIGVsYXBzZWQgPSAoK25ldyBEYXRlKCkpIC0gdGhpcy5fc3RhcnRUaW1lLFxuXHRcdCAgICBkdXJhdGlvbiA9IHRoaXMuX2R1cmF0aW9uICogMTAwMDtcblxuXHRcdGlmIChlbGFwc2VkIDwgZHVyYXRpb24pIHtcblx0XHRcdHRoaXMuX3J1bkZyYW1lKHRoaXMuX2Vhc2VPdXQoZWxhcHNlZCAvIGR1cmF0aW9uKSwgcm91bmQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9ydW5GcmFtZSgxKTtcblx0XHRcdHRoaXMuX2NvbXBsZXRlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9ydW5GcmFtZTogZnVuY3Rpb24gKHByb2dyZXNzLCByb3VuZCkge1xuXHRcdHZhciBwb3MgPSB0aGlzLl9zdGFydFBvcy5hZGQodGhpcy5fb2Zmc2V0Lm11bHRpcGx5QnkocHJvZ3Jlc3MpKTtcblx0XHRpZiAocm91bmQpIHtcblx0XHRcdHBvcy5fcm91bmQoKTtcblx0XHR9XG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9lbCwgcG9zKTtcblxuXHRcdC8vIEBldmVudCBzdGVwOiBFdmVudFxuXHRcdC8vIEZpcmVkIGNvbnRpbnVvdXNseSBkdXJpbmcgdGhlIGFuaW1hdGlvbi5cblx0XHR0aGlzLmZpcmUoJ3N0ZXAnKTtcblx0fSxcblxuXHRfY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcblx0XHRVdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltSWQpO1xuXG5cdFx0dGhpcy5faW5Qcm9ncmVzcyA9IGZhbHNlO1xuXHRcdC8vIEBldmVudCBlbmQ6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGVuZHMuXG5cdFx0dGhpcy5maXJlKCdlbmQnKTtcblx0fSxcblxuXHRfZWFzZU91dDogZnVuY3Rpb24gKHQpIHtcblx0XHRyZXR1cm4gMSAtIE1hdGgucG93KDEgLSB0LCB0aGlzLl9lYXNlT3V0UG93ZXIpO1xuXHR9XG59KTtcbiIsICJpbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7RXZlbnRlZH0gZnJvbSAnLi4vY29yZS9FdmVudHMnO1xyXG5pbXBvcnQge0VQU0czODU3fSBmcm9tICcuLi9nZW8vY3JzL0NSUy5FUFNHMzg1Nyc7XHJcbmltcG9ydCB7UG9pbnQsIHRvUG9pbnR9IGZyb20gJy4uL2dlb21ldHJ5L1BvaW50JztcclxuaW1wb3J0IHtCb3VuZHMsIHRvQm91bmRzfSBmcm9tICcuLi9nZW9tZXRyeS9Cb3VuZHMnO1xyXG5pbXBvcnQge0xhdExuZywgdG9MYXRMbmd9IGZyb20gJy4uL2dlby9MYXRMbmcnO1xyXG5pbXBvcnQge0xhdExuZ0JvdW5kcywgdG9MYXRMbmdCb3VuZHN9IGZyb20gJy4uL2dlby9MYXRMbmdCb3VuZHMnO1xyXG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi9jb3JlL0Jyb3dzZXInO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi9kb20vRG9tRXZlbnQnO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcclxuaW1wb3J0IHtQb3NBbmltYXRpb259IGZyb20gJy4uL2RvbS9Qb3NBbmltYXRpb24nO1xyXG5cclxuLypcclxuICogQGNsYXNzIE1hcFxyXG4gKiBAYWthIEwuTWFwXHJcbiAqIEBpbmhlcml0cyBFdmVudGVkXHJcbiAqXHJcbiAqIFRoZSBjZW50cmFsIGNsYXNzIG9mIHRoZSBBUEkg4oCUIGl0IGlzIHVzZWQgdG8gY3JlYXRlIGEgbWFwIG9uIGEgcGFnZSBhbmQgbWFuaXB1bGF0ZSBpdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogLy8gaW5pdGlhbGl6ZSB0aGUgbWFwIG9uIHRoZSBcIm1hcFwiIGRpdiB3aXRoIGEgZ2l2ZW4gY2VudGVyIGFuZCB6b29tXHJcbiAqIHZhciBtYXAgPSBMLm1hcCgnbWFwJywge1xyXG4gKiBcdGNlbnRlcjogWzUxLjUwNSwgLTAuMDldLFxyXG4gKiBcdHpvb206IDEzXHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICovXHJcblxyXG5leHBvcnQgdmFyIE1hcCA9IEV2ZW50ZWQuZXh0ZW5kKHtcclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQHNlY3Rpb24gTWFwIFN0YXRlIE9wdGlvbnNcclxuXHRcdC8vIEBvcHRpb24gY3JzOiBDUlMgPSBMLkNSUy5FUFNHMzg1N1xyXG5cdFx0Ly8gVGhlIFtDb29yZGluYXRlIFJlZmVyZW5jZSBTeXN0ZW1dKCNjcnMpIHRvIHVzZS4gRG9uJ3QgY2hhbmdlIHRoaXMgaWYgeW91J3JlIG5vdFxyXG5cdFx0Ly8gc3VyZSB3aGF0IGl0IG1lYW5zLlxyXG5cdFx0Y3JzOiBFUFNHMzg1NyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNlbnRlcjogTGF0TG5nID0gdW5kZWZpbmVkXHJcblx0XHQvLyBJbml0aWFsIGdlb2dyYXBoaWMgY2VudGVyIG9mIHRoZSBtYXBcclxuXHRcdGNlbnRlcjogdW5kZWZpbmVkLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gem9vbTogTnVtYmVyID0gdW5kZWZpbmVkXHJcblx0XHQvLyBJbml0aWFsIG1hcCB6b29tIGxldmVsXHJcblx0XHR6b29tOiB1bmRlZmluZWQsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBtaW5ab29tOiBOdW1iZXIgPSAqXHJcblx0XHQvLyBNaW5pbXVtIHpvb20gbGV2ZWwgb2YgdGhlIG1hcC5cclxuXHRcdC8vIElmIG5vdCBzcGVjaWZpZWQgYW5kIGF0IGxlYXN0IG9uZSBgR3JpZExheWVyYCBvciBgVGlsZUxheWVyYCBpcyBpbiB0aGUgbWFwLFxyXG5cdFx0Ly8gdGhlIGxvd2VzdCBvZiB0aGVpciBgbWluWm9vbWAgb3B0aW9ucyB3aWxsIGJlIHVzZWQgaW5zdGVhZC5cclxuXHRcdG1pblpvb206IHVuZGVmaW5lZCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1heFpvb206IE51bWJlciA9ICpcclxuXHRcdC8vIE1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbWFwLlxyXG5cdFx0Ly8gSWYgbm90IHNwZWNpZmllZCBhbmQgYXQgbGVhc3Qgb25lIGBHcmlkTGF5ZXJgIG9yIGBUaWxlTGF5ZXJgIGlzIGluIHRoZSBtYXAsXHJcblx0XHQvLyB0aGUgaGlnaGVzdCBvZiB0aGVpciBgbWF4Wm9vbWAgb3B0aW9ucyB3aWxsIGJlIHVzZWQgaW5zdGVhZC5cclxuXHRcdG1heFpvb206IHVuZGVmaW5lZCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGxheWVyczogTGF5ZXJbXSA9IFtdXHJcblx0XHQvLyBBcnJheSBvZiBsYXllcnMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBtYXAgaW5pdGlhbGx5XHJcblx0XHRsYXllcnM6IFtdLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbWF4Qm91bmRzOiBMYXRMbmdCb3VuZHMgPSBudWxsXHJcblx0XHQvLyBXaGVuIHRoaXMgb3B0aW9uIGlzIHNldCwgdGhlIG1hcCByZXN0cmljdHMgdGhlIHZpZXcgdG8gdGhlIGdpdmVuXHJcblx0XHQvLyBnZW9ncmFwaGljYWwgYm91bmRzLCBib3VuY2luZyB0aGUgdXNlciBiYWNrIGlmIHRoZSB1c2VyIHRyaWVzIHRvIHBhblxyXG5cdFx0Ly8gb3V0c2lkZSB0aGUgdmlldy4gVG8gc2V0IHRoZSByZXN0cmljdGlvbiBkeW5hbWljYWxseSwgdXNlXHJcblx0XHQvLyBbYHNldE1heEJvdW5kc2BdKCNtYXAtc2V0bWF4Ym91bmRzKSBtZXRob2QuXHJcblx0XHRtYXhCb3VuZHM6IHVuZGVmaW5lZCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHJlbmRlcmVyOiBSZW5kZXJlciA9ICpcclxuXHRcdC8vIFRoZSBkZWZhdWx0IG1ldGhvZCBmb3IgZHJhd2luZyB2ZWN0b3IgbGF5ZXJzIG9uIHRoZSBtYXAuIGBMLlNWR2BcclxuXHRcdC8vIG9yIGBMLkNhbnZhc2AgYnkgZGVmYXVsdCBkZXBlbmRpbmcgb24gYnJvd3NlciBzdXBwb3J0LlxyXG5cdFx0cmVuZGVyZXI6IHVuZGVmaW5lZCxcclxuXHJcblxyXG5cdFx0Ly8gQHNlY3Rpb24gQW5pbWF0aW9uIE9wdGlvbnNcclxuXHRcdC8vIEBvcHRpb24gem9vbUFuaW1hdGlvbjogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZXRoZXIgdGhlIG1hcCB6b29tIGFuaW1hdGlvbiBpcyBlbmFibGVkLiBCeSBkZWZhdWx0IGl0J3MgZW5hYmxlZFxyXG5cdFx0Ly8gaW4gYWxsIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBDU1MzIFRyYW5zaXRpb25zIGV4Y2VwdCBBbmRyb2lkLlxyXG5cdFx0em9vbUFuaW1hdGlvbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21BbmltYXRpb25UaHJlc2hvbGQ6IE51bWJlciA9IDRcclxuXHRcdC8vIFdvbid0IGFuaW1hdGUgem9vbSBpZiB0aGUgem9vbSBkaWZmZXJlbmNlIGV4Y2VlZHMgdGhpcyB2YWx1ZS5cclxuXHRcdHpvb21BbmltYXRpb25UaHJlc2hvbGQ6IDQsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBmYWRlQW5pbWF0aW9uOiBCb29sZWFuID0gdHJ1ZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgdGlsZSBmYWRlIGFuaW1hdGlvbiBpcyBlbmFibGVkLiBCeSBkZWZhdWx0IGl0J3MgZW5hYmxlZFxyXG5cdFx0Ly8gaW4gYWxsIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBDU1MzIFRyYW5zaXRpb25zIGV4Y2VwdCBBbmRyb2lkLlxyXG5cdFx0ZmFkZUFuaW1hdGlvbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1hcmtlclpvb21BbmltYXRpb246IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBXaGV0aGVyIG1hcmtlcnMgYW5pbWF0ZSB0aGVpciB6b29tIHdpdGggdGhlIHpvb20gYW5pbWF0aW9uLCBpZiBkaXNhYmxlZFxyXG5cdFx0Ly8gdGhleSB3aWxsIGRpc2FwcGVhciBmb3IgdGhlIGxlbmd0aCBvZiB0aGUgYW5pbWF0aW9uLiBCeSBkZWZhdWx0IGl0J3NcclxuXHRcdC8vIGVuYWJsZWQgaW4gYWxsIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBDU1MzIFRyYW5zaXRpb25zIGV4Y2VwdCBBbmRyb2lkLlxyXG5cdFx0bWFya2VyWm9vbUFuaW1hdGlvbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHRyYW5zZm9ybTNETGltaXQ6IE51bWJlciA9IDJeMjNcclxuXHRcdC8vIERlZmluZXMgdGhlIG1heGltdW0gc2l6ZSBvZiBhIENTUyB0cmFuc2xhdGlvbiB0cmFuc2Zvcm0uIFRoZSBkZWZhdWx0XHJcblx0XHQvLyB2YWx1ZSBzaG91bGQgbm90IGJlIGNoYW5nZWQgdW5sZXNzIGEgd2ViIGJyb3dzZXIgcG9zaXRpb25zIGxheWVycyBpblxyXG5cdFx0Ly8gdGhlIHdyb25nIHBsYWNlIGFmdGVyIGRvaW5nIGEgbGFyZ2UgYHBhbkJ5YC5cclxuXHRcdHRyYW5zZm9ybTNETGltaXQ6IDgzODg2MDgsIC8vIFByZWNpc2lvbiBsaW1pdCBvZiBhIDMyLWJpdCBmbG9hdFxyXG5cclxuXHRcdC8vIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcclxuXHRcdC8vIEBvcHRpb24gem9vbVNuYXA6IE51bWJlciA9IDFcclxuXHRcdC8vIEZvcmNlcyB0aGUgbWFwJ3Mgem9vbSBsZXZlbCB0byBhbHdheXMgYmUgYSBtdWx0aXBsZSBvZiB0aGlzLCBwYXJ0aWN1bGFybHlcclxuXHRcdC8vIHJpZ2h0IGFmdGVyIGEgW2BmaXRCb3VuZHMoKWBdKCNtYXAtZml0Ym91bmRzKSBvciBhIHBpbmNoLXpvb20uXHJcblx0XHQvLyBCeSBkZWZhdWx0LCB0aGUgem9vbSBsZXZlbCBzbmFwcyB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyOyBsb3dlciB2YWx1ZXNcclxuXHRcdC8vIChlLmcuIGAwLjVgIG9yIGAwLjFgKSBhbGxvdyBmb3IgZ3JlYXRlciBncmFudWxhcml0eS4gQSB2YWx1ZSBvZiBgMGBcclxuXHRcdC8vIG1lYW5zIHRoZSB6b29tIGxldmVsIHdpbGwgbm90IGJlIHNuYXBwZWQgYWZ0ZXIgYGZpdEJvdW5kc2Agb3IgYSBwaW5jaC16b29tLlxyXG5cdFx0em9vbVNuYXA6IDEsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tRGVsdGE6IE51bWJlciA9IDFcclxuXHRcdC8vIENvbnRyb2xzIGhvdyBtdWNoIHRoZSBtYXAncyB6b29tIGxldmVsIHdpbGwgY2hhbmdlIGFmdGVyIGFcclxuXHRcdC8vIFtgem9vbUluKClgXSgjbWFwLXpvb21pbiksIFtgem9vbU91dCgpYF0oI21hcC16b29tb3V0KSwgcHJlc3NpbmcgYCtgXHJcblx0XHQvLyBvciBgLWAgb24gdGhlIGtleWJvYXJkLCBvciB1c2luZyB0aGUgW3pvb20gY29udHJvbHNdKCNjb250cm9sLXpvb20pLlxyXG5cdFx0Ly8gVmFsdWVzIHNtYWxsZXIgdGhhbiBgMWAgKGUuZy4gYDAuNWApIGFsbG93IGZvciBncmVhdGVyIGdyYW51bGFyaXR5LlxyXG5cdFx0em9vbURlbHRhOiAxLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gdHJhY2tSZXNpemU6IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSBtYXAgYXV0b21hdGljYWxseSBoYW5kbGVzIGJyb3dzZXIgd2luZG93IHJlc2l6ZSB0byB1cGRhdGUgaXRzZWxmLlxyXG5cdFx0dHJhY2tSZXNpemU6IHRydWVcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAoaWQsIG9wdGlvbnMpIHsgLy8gKEhUTUxFbGVtZW50IG9yIFN0cmluZywgT2JqZWN0KVxyXG5cdFx0b3B0aW9ucyA9IFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHJcblx0XHQvLyBNYWtlIHN1cmUgdG8gYXNzaWduIGludGVybmFsIGZsYWdzIGF0IHRoZSBiZWdpbm5pbmcsXHJcblx0XHQvLyB0byBhdm9pZCBpbmNvbnNpc3RlbnQgc3RhdGUgaW4gc29tZSBlZGdlIGNhc2VzLlxyXG5cdFx0dGhpcy5faGFuZGxlcnMgPSBbXTtcclxuXHRcdHRoaXMuX2xheWVycyA9IHt9O1xyXG5cdFx0dGhpcy5fem9vbUJvdW5kTGF5ZXJzID0ge307XHJcblx0XHR0aGlzLl9zaXplQ2hhbmdlZCA9IHRydWU7XHJcblxyXG5cdFx0dGhpcy5faW5pdENvbnRhaW5lcihpZCk7XHJcblx0XHR0aGlzLl9pbml0TGF5b3V0KCk7XHJcblxyXG5cdFx0Ly8gaGFjayBmb3IgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvMTk4MFxyXG5cdFx0dGhpcy5fb25SZXNpemUgPSBVdGlsLmJpbmQodGhpcy5fb25SZXNpemUsIHRoaXMpO1xyXG5cclxuXHRcdHRoaXMuX2luaXRFdmVudHMoKTtcclxuXHJcblx0XHRpZiAob3B0aW9ucy5tYXhCb3VuZHMpIHtcclxuXHRcdFx0dGhpcy5zZXRNYXhCb3VuZHMob3B0aW9ucy5tYXhCb3VuZHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChvcHRpb25zLnpvb20gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHR0aGlzLl96b29tID0gdGhpcy5fbGltaXRab29tKG9wdGlvbnMuem9vbSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMuY2VudGVyICYmIG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHRoaXMuc2V0Vmlldyh0b0xhdExuZyhvcHRpb25zLmNlbnRlciksIG9wdGlvbnMuem9vbSwge3Jlc2V0OiB0cnVlfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5jYWxsSW5pdEhvb2tzKCk7XHJcblxyXG5cdFx0Ly8gZG9uJ3QgYW5pbWF0ZSBvbiBicm93c2VycyB3aXRob3V0IGhhcmR3YXJlLWFjY2VsZXJhdGVkIHRyYW5zaXRpb25zIG9yIG9sZCBBbmRyb2lkL09wZXJhXHJcblx0XHR0aGlzLl96b29tQW5pbWF0ZWQgPSBEb21VdGlsLlRSQU5TSVRJT04gJiYgQnJvd3Nlci5hbnkzZCAmJiAhQnJvd3Nlci5tb2JpbGVPcGVyYSAmJlxyXG5cdFx0XHRcdHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uO1xyXG5cclxuXHRcdC8vIHpvb20gdHJhbnNpdGlvbnMgcnVuIHdpdGggdGhlIHNhbWUgZHVyYXRpb24gZm9yIGFsbCBsYXllcnMsIHNvIGlmIG9uZSBvZiB0cmFuc2l0aW9uZW5kIGV2ZW50c1xyXG5cdFx0Ly8gaGFwcGVucyBhZnRlciBzdGFydGluZyB6b29tIGFuaW1hdGlvbiAocHJvcGFnYXRpbmcgdG8gdGhlIG1hcCBwYW5lKSwgd2Uga25vdyB0aGF0IGl0IGVuZGVkIGdsb2JhbGx5XHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XHJcblx0XHRcdHRoaXMuX2NyZWF0ZUFuaW1Qcm94eSgpO1xyXG5cdFx0XHREb21FdmVudC5vbih0aGlzLl9wcm94eSwgRG9tVXRpbC5UUkFOU0lUSU9OX0VORCwgdGhpcy5fY2F0Y2hUcmFuc2l0aW9uRW5kLCB0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9hZGRMYXllcnModGhpcy5vcHRpb25zLmxheWVycyk7XHJcblx0fSxcclxuXHJcblxyXG5cdC8vIEBzZWN0aW9uIE1ldGhvZHMgZm9yIG1vZGlmeWluZyBtYXAgc3RhdGVcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRWaWV3KGNlbnRlcjogTGF0TG5nLCB6b29tOiBOdW1iZXIsIG9wdGlvbnM/OiBab29tL3BhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIHZpZXcgb2YgdGhlIG1hcCAoZ2VvZ3JhcGhpY2FsIGNlbnRlciBhbmQgem9vbSkgd2l0aCB0aGUgZ2l2ZW5cclxuXHQvLyBhbmltYXRpb24gb3B0aW9ucy5cclxuXHRzZXRWaWV3OiBmdW5jdGlvbiAoY2VudGVyLCB6b29tLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0em9vbSA9IHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuX3pvb20gOiB0aGlzLl9saW1pdFpvb20oem9vbSk7XHJcblx0XHRjZW50ZXIgPSB0aGlzLl9saW1pdENlbnRlcih0b0xhdExuZyhjZW50ZXIpLCB6b29tLCB0aGlzLm9wdGlvbnMubWF4Qm91bmRzKTtcclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuXHRcdHRoaXMuX3N0b3AoKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbG9hZGVkICYmICFvcHRpb25zLnJlc2V0ICYmIG9wdGlvbnMgIT09IHRydWUpIHtcclxuXHJcblx0XHRcdGlmIChvcHRpb25zLmFuaW1hdGUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdG9wdGlvbnMuem9vbSA9IFV0aWwuZXh0ZW5kKHthbmltYXRlOiBvcHRpb25zLmFuaW1hdGV9LCBvcHRpb25zLnpvb20pO1xyXG5cdFx0XHRcdG9wdGlvbnMucGFuID0gVXRpbC5leHRlbmQoe2FuaW1hdGU6IG9wdGlvbnMuYW5pbWF0ZSwgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb259LCBvcHRpb25zLnBhbik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHRyeSBhbmltYXRpbmcgcGFuIG9yIHpvb21cclxuXHRcdFx0dmFyIG1vdmVkID0gKHRoaXMuX3pvb20gIT09IHpvb20pID9cclxuXHRcdFx0XHR0aGlzLl90cnlBbmltYXRlZFpvb20gJiYgdGhpcy5fdHJ5QW5pbWF0ZWRab29tKGNlbnRlciwgem9vbSwgb3B0aW9ucy56b29tKSA6XHJcblx0XHRcdFx0dGhpcy5fdHJ5QW5pbWF0ZWRQYW4oY2VudGVyLCBvcHRpb25zLnBhbik7XHJcblxyXG5cdFx0XHRpZiAobW92ZWQpIHtcclxuXHRcdFx0XHQvLyBwcmV2ZW50IHJlc2l6ZSBoYW5kbGVyIGNhbGwsIHRoZSB2aWV3IHdpbGwgcmVmcmVzaCBhZnRlciBhbmltYXRpb24gYW55d2F5XHJcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3NpemVUaW1lcik7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBhbmltYXRpb24gZGlkbid0IHN0YXJ0LCBqdXN0IHJlc2V0IHRoZSBtYXAgdmlld1xyXG5cdFx0dGhpcy5fcmVzZXRWaWV3KGNlbnRlciwgem9vbSwgb3B0aW9ucy5wYW4gJiYgb3B0aW9ucy5wYW4ubm9Nb3ZlU3RhcnQpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0Wm9vbSh6b29tOiBOdW1iZXIsIG9wdGlvbnM/OiBab29tL3BhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIHpvb20gb2YgdGhlIG1hcC5cclxuXHRzZXRab29tOiBmdW5jdGlvbiAoem9vbSwgb3B0aW9ucykge1xyXG5cdFx0aWYgKCF0aGlzLl9sb2FkZWQpIHtcclxuXHRcdFx0dGhpcy5fem9vbSA9IHpvb207XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMuc2V0Vmlldyh0aGlzLmdldENlbnRlcigpLCB6b29tLCB7em9vbTogb3B0aW9uc30pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgem9vbUluKGRlbHRhPzogTnVtYmVyLCBvcHRpb25zPzogWm9vbSBvcHRpb25zKTogdGhpc1xyXG5cdC8vIEluY3JlYXNlcyB0aGUgem9vbSBvZiB0aGUgbWFwIGJ5IGBkZWx0YWAgKFtgem9vbURlbHRhYF0oI21hcC16b29tZGVsdGEpIGJ5IGRlZmF1bHQpLlxyXG5cdHpvb21JbjogZnVuY3Rpb24gKGRlbHRhLCBvcHRpb25zKSB7XHJcblx0XHRkZWx0YSA9IGRlbHRhIHx8IChCcm93c2VyLmFueTNkID8gdGhpcy5vcHRpb25zLnpvb21EZWx0YSA6IDEpO1xyXG5cdFx0cmV0dXJuIHRoaXMuc2V0Wm9vbSh0aGlzLl96b29tICsgZGVsdGEsIG9wdGlvbnMpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgem9vbU91dChkZWx0YT86IE51bWJlciwgb3B0aW9ucz86IFpvb20gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBEZWNyZWFzZXMgdGhlIHpvb20gb2YgdGhlIG1hcCBieSBgZGVsdGFgIChbYHpvb21EZWx0YWBdKCNtYXAtem9vbWRlbHRhKSBieSBkZWZhdWx0KS5cclxuXHR6b29tT3V0OiBmdW5jdGlvbiAoZGVsdGEsIG9wdGlvbnMpIHtcclxuXHRcdGRlbHRhID0gZGVsdGEgfHwgKEJyb3dzZXIuYW55M2QgPyB0aGlzLm9wdGlvbnMuem9vbURlbHRhIDogMSk7XHJcblx0XHRyZXR1cm4gdGhpcy5zZXRab29tKHRoaXMuX3pvb20gLSBkZWx0YSwgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRab29tQXJvdW5kKGxhdGxuZzogTGF0TG5nLCB6b29tOiBOdW1iZXIsIG9wdGlvbnM6IFpvb20gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBab29tcyB0aGUgbWFwIHdoaWxlIGtlZXBpbmcgYSBzcGVjaWZpZWQgZ2VvZ3JhcGhpY2FsIHBvaW50IG9uIHRoZSBtYXBcclxuXHQvLyBzdGF0aW9uYXJ5IChlLmcuIHVzZWQgaW50ZXJuYWxseSBmb3Igc2Nyb2xsIHpvb20gYW5kIGRvdWJsZS1jbGljayB6b29tKS5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIHNldFpvb21Bcm91bmQob2Zmc2V0OiBQb2ludCwgem9vbTogTnVtYmVyLCBvcHRpb25zOiBab29tIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gWm9vbXMgdGhlIG1hcCB3aGlsZSBrZWVwaW5nIGEgc3BlY2lmaWVkIHBpeGVsIG9uIHRoZSBtYXAgKHJlbGF0aXZlIHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIpIHN0YXRpb25hcnkuXHJcblx0c2V0Wm9vbUFyb3VuZDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSwgb3B0aW9ucykge1xyXG5cdFx0dmFyIHNjYWxlID0gdGhpcy5nZXRab29tU2NhbGUoem9vbSksXHJcblx0XHQgICAgdmlld0hhbGYgPSB0aGlzLmdldFNpemUoKS5kaXZpZGVCeSgyKSxcclxuXHRcdCAgICBjb250YWluZXJQb2ludCA9IGxhdGxuZyBpbnN0YW5jZW9mIFBvaW50ID8gbGF0bG5nIDogdGhpcy5sYXRMbmdUb0NvbnRhaW5lclBvaW50KGxhdGxuZyksXHJcblxyXG5cdFx0ICAgIGNlbnRlck9mZnNldCA9IGNvbnRhaW5lclBvaW50LnN1YnRyYWN0KHZpZXdIYWxmKS5tdWx0aXBseUJ5KDEgLSAxIC8gc2NhbGUpLFxyXG5cdFx0ICAgIG5ld0NlbnRlciA9IHRoaXMuY29udGFpbmVyUG9pbnRUb0xhdExuZyh2aWV3SGFsZi5hZGQoY2VudGVyT2Zmc2V0KSk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuc2V0VmlldyhuZXdDZW50ZXIsIHpvb20sIHt6b29tOiBvcHRpb25zfSk7XHJcblx0fSxcclxuXHJcblx0X2dldEJvdW5kc0NlbnRlclpvb206IGZ1bmN0aW9uIChib3VuZHMsIG9wdGlvbnMpIHtcclxuXHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHRcdGJvdW5kcyA9IGJvdW5kcy5nZXRCb3VuZHMgPyBib3VuZHMuZ2V0Qm91bmRzKCkgOiB0b0xhdExuZ0JvdW5kcyhib3VuZHMpO1xyXG5cclxuXHRcdHZhciBwYWRkaW5nVEwgPSB0b1BvaW50KG9wdGlvbnMucGFkZGluZ1RvcExlZnQgfHwgb3B0aW9ucy5wYWRkaW5nIHx8IFswLCAwXSksXHJcblx0XHQgICAgcGFkZGluZ0JSID0gdG9Qb2ludChvcHRpb25zLnBhZGRpbmdCb3R0b21SaWdodCB8fCBvcHRpb25zLnBhZGRpbmcgfHwgWzAsIDBdKSxcclxuXHJcblx0XHQgICAgem9vbSA9IHRoaXMuZ2V0Qm91bmRzWm9vbShib3VuZHMsIGZhbHNlLCBwYWRkaW5nVEwuYWRkKHBhZGRpbmdCUikpO1xyXG5cclxuXHRcdHpvb20gPSAodHlwZW9mIG9wdGlvbnMubWF4Wm9vbSA9PT0gJ251bWJlcicpID8gTWF0aC5taW4ob3B0aW9ucy5tYXhab29tLCB6b29tKSA6IHpvb207XHJcblxyXG5cdFx0aWYgKHpvb20gPT09IEluZmluaXR5KSB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0Y2VudGVyOiBib3VuZHMuZ2V0Q2VudGVyKCksXHJcblx0XHRcdFx0em9vbTogem9vbVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBwYWRkaW5nT2Zmc2V0ID0gcGFkZGluZ0JSLnN1YnRyYWN0KHBhZGRpbmdUTCkuZGl2aWRlQnkoMiksXHJcblxyXG5cdFx0ICAgIHN3UG9pbnQgPSB0aGlzLnByb2plY3QoYm91bmRzLmdldFNvdXRoV2VzdCgpLCB6b29tKSxcclxuXHRcdCAgICBuZVBvaW50ID0gdGhpcy5wcm9qZWN0KGJvdW5kcy5nZXROb3J0aEVhc3QoKSwgem9vbSksXHJcblx0XHQgICAgY2VudGVyID0gdGhpcy51bnByb2plY3Qoc3dQb2ludC5hZGQobmVQb2ludCkuZGl2aWRlQnkoMikuYWRkKHBhZGRpbmdPZmZzZXQpLCB6b29tKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjZW50ZXI6IGNlbnRlcixcclxuXHRcdFx0em9vbTogem9vbVxyXG5cdFx0fTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGZpdEJvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcywgb3B0aW9ucz86IGZpdEJvdW5kcyBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgYSBtYXAgdmlldyB0aGF0IGNvbnRhaW5zIHRoZSBnaXZlbiBnZW9ncmFwaGljYWwgYm91bmRzIHdpdGggdGhlXHJcblx0Ly8gbWF4aW11bSB6b29tIGxldmVsIHBvc3NpYmxlLlxyXG5cdGZpdEJvdW5kczogZnVuY3Rpb24gKGJvdW5kcywgb3B0aW9ucykge1xyXG5cclxuXHRcdGJvdW5kcyA9IHRvTGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0aWYgKCFib3VuZHMuaXNWYWxpZCgpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignQm91bmRzIGFyZSBub3QgdmFsaWQuJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHRhcmdldCA9IHRoaXMuX2dldEJvdW5kc0NlbnRlclpvb20oYm91bmRzLCBvcHRpb25zKTtcclxuXHRcdHJldHVybiB0aGlzLnNldFZpZXcodGFyZ2V0LmNlbnRlciwgdGFyZ2V0Lnpvb20sIG9wdGlvbnMpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZml0V29ybGQob3B0aW9ucz86IGZpdEJvdW5kcyBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgYSBtYXAgdmlldyB0aGF0IG1vc3RseSBjb250YWlucyB0aGUgd2hvbGUgd29ybGQgd2l0aCB0aGUgbWF4aW11bVxyXG5cdC8vIHpvb20gbGV2ZWwgcG9zc2libGUuXHJcblx0Zml0V29ybGQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5maXRCb3VuZHMoW1stOTAsIC0xODBdLCBbOTAsIDE4MF1dLCBvcHRpb25zKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHBhblRvKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogUGFuIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gUGFucyB0aGUgbWFwIHRvIGEgZ2l2ZW4gY2VudGVyLlxyXG5cdHBhblRvOiBmdW5jdGlvbiAoY2VudGVyLCBvcHRpb25zKSB7IC8vIChMYXRMbmcpXHJcblx0XHRyZXR1cm4gdGhpcy5zZXRWaWV3KGNlbnRlciwgdGhpcy5fem9vbSwge3Bhbjogb3B0aW9uc30pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcGFuQnkob2Zmc2V0OiBQb2ludCwgb3B0aW9ucz86IFBhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFBhbnMgdGhlIG1hcCBieSBhIGdpdmVuIG51bWJlciBvZiBwaXhlbHMgKGFuaW1hdGVkKS5cclxuXHRwYW5CeTogZnVuY3Rpb24gKG9mZnNldCwgb3B0aW9ucykge1xyXG5cdFx0b2Zmc2V0ID0gdG9Qb2ludChvZmZzZXQpLnJvdW5kKCk7XHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcblx0XHRpZiAoIW9mZnNldC54ICYmICFvZmZzZXQueSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5maXJlKCdtb3ZlZW5kJyk7XHJcblx0XHR9XHJcblx0XHQvLyBJZiB3ZSBwYW4gdG9vIGZhciwgQ2hyb21lIGdldHMgaXNzdWVzIHdpdGggdGlsZXNcclxuXHRcdC8vIGFuZCBtYWtlcyB0aGVtIGRpc2FwcGVhciBvciBhcHBlYXIgaW4gdGhlIHdyb25nIHBsYWNlIChzbGlnaHRseSBvZmZzZXQpICMyNjAyXHJcblx0XHRpZiAob3B0aW9ucy5hbmltYXRlICE9PSB0cnVlICYmICF0aGlzLmdldFNpemUoKS5jb250YWlucyhvZmZzZXQpKSB7XHJcblx0XHRcdHRoaXMuX3Jlc2V0Vmlldyh0aGlzLnVucHJvamVjdCh0aGlzLnByb2plY3QodGhpcy5nZXRDZW50ZXIoKSkuYWRkKG9mZnNldCkpLCB0aGlzLmdldFpvb20oKSk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy5fcGFuQW5pbSkge1xyXG5cdFx0XHR0aGlzLl9wYW5BbmltID0gbmV3IFBvc0FuaW1hdGlvbigpO1xyXG5cclxuXHRcdFx0dGhpcy5fcGFuQW5pbS5vbih7XHJcblx0XHRcdFx0J3N0ZXAnOiB0aGlzLl9vblBhblRyYW5zaXRpb25TdGVwLFxyXG5cdFx0XHRcdCdlbmQnOiB0aGlzLl9vblBhblRyYW5zaXRpb25FbmRcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZG9uJ3QgZmlyZSBtb3Zlc3RhcnQgaWYgYW5pbWF0aW5nIGluZXJ0aWFcclxuXHRcdGlmICghb3B0aW9ucy5ub01vdmVTdGFydCkge1xyXG5cdFx0XHR0aGlzLmZpcmUoJ21vdmVzdGFydCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGFuaW1hdGUgcGFuIHVubGVzcyBhbmltYXRlOiBmYWxzZSBzcGVjaWZpZWRcclxuXHRcdGlmIChvcHRpb25zLmFuaW1hdGUgIT09IGZhbHNlKSB7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFwUGFuZSwgJ2xlYWZsZXQtcGFuLWFuaW0nKTtcclxuXHJcblx0XHRcdHZhciBuZXdQb3MgPSB0aGlzLl9nZXRNYXBQYW5lUG9zKCkuc3VidHJhY3Qob2Zmc2V0KS5yb3VuZCgpO1xyXG5cdFx0XHR0aGlzLl9wYW5BbmltLnJ1bih0aGlzLl9tYXBQYW5lLCBuZXdQb3MsIG9wdGlvbnMuZHVyYXRpb24gfHwgMC4yNSwgb3B0aW9ucy5lYXNlTGluZWFyaXR5KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuX3Jhd1BhbkJ5KG9mZnNldCk7XHJcblx0XHRcdHRoaXMuZmlyZSgnbW92ZScpLmZpcmUoJ21vdmVlbmQnKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGZseVRvKGxhdGxuZzogTGF0TG5nLCB6b29tPzogTnVtYmVyLCBvcHRpb25zPzogWm9vbS9wYW4gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSB2aWV3IG9mIHRoZSBtYXAgKGdlb2dyYXBoaWNhbCBjZW50ZXIgYW5kIHpvb20pIHBlcmZvcm1pbmcgYSBzbW9vdGhcclxuXHQvLyBwYW4tem9vbSBhbmltYXRpb24uXHJcblx0Zmx5VG86IGZ1bmN0aW9uICh0YXJnZXRDZW50ZXIsIHRhcmdldFpvb20sIG9wdGlvbnMpIHtcclxuXHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHRcdGlmIChvcHRpb25zLmFuaW1hdGUgPT09IGZhbHNlIHx8ICFCcm93c2VyLmFueTNkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnNldFZpZXcodGFyZ2V0Q2VudGVyLCB0YXJnZXRab29tLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9zdG9wKCk7XHJcblxyXG5cdFx0dmFyIGZyb20gPSB0aGlzLnByb2plY3QodGhpcy5nZXRDZW50ZXIoKSksXHJcblx0XHQgICAgdG8gPSB0aGlzLnByb2plY3QodGFyZ2V0Q2VudGVyKSxcclxuXHRcdCAgICBzaXplID0gdGhpcy5nZXRTaXplKCksXHJcblx0XHQgICAgc3RhcnRab29tID0gdGhpcy5fem9vbTtcclxuXHJcblx0XHR0YXJnZXRDZW50ZXIgPSB0b0xhdExuZyh0YXJnZXRDZW50ZXIpO1xyXG5cdFx0dGFyZ2V0Wm9vbSA9IHRhcmdldFpvb20gPT09IHVuZGVmaW5lZCA/IHN0YXJ0Wm9vbSA6IHRhcmdldFpvb207XHJcblxyXG5cdFx0dmFyIHcwID0gTWF0aC5tYXgoc2l6ZS54LCBzaXplLnkpLFxyXG5cdFx0ICAgIHcxID0gdzAgKiB0aGlzLmdldFpvb21TY2FsZShzdGFydFpvb20sIHRhcmdldFpvb20pLFxyXG5cdFx0ICAgIHUxID0gKHRvLmRpc3RhbmNlVG8oZnJvbSkpIHx8IDEsXHJcblx0XHQgICAgcmhvID0gMS40MixcclxuXHRcdCAgICByaG8yID0gcmhvICogcmhvO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHIoaSkge1xyXG5cdFx0XHR2YXIgczEgPSBpID8gLTEgOiAxLFxyXG5cdFx0XHQgICAgczIgPSBpID8gdzEgOiB3MCxcclxuXHRcdFx0ICAgIHQxID0gdzEgKiB3MSAtIHcwICogdzAgKyBzMSAqIHJobzIgKiByaG8yICogdTEgKiB1MSxcclxuXHRcdFx0ICAgIGIxID0gMiAqIHMyICogcmhvMiAqIHUxLFxyXG5cdFx0XHQgICAgYiA9IHQxIC8gYjEsXHJcblx0XHRcdCAgICBzcSA9IE1hdGguc3FydChiICogYiArIDEpIC0gYjtcclxuXHJcblx0XHRcdCAgICAvLyB3b3JrYXJvdW5kIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gYnVnIHdoZW4gc3EgPSAwLCBsb2cgPSAtSW5maW5pdGUsXHJcblx0XHRcdCAgICAvLyB0aHVzIHRyaWdnZXJpbmcgYW4gaW5maW5pdGUgbG9vcCBpbiBmbHlUb1xyXG5cdFx0XHQgICAgdmFyIGxvZyA9IHNxIDwgMC4wMDAwMDAwMDEgPyAtMTggOiBNYXRoLmxvZyhzcSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gbG9nO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNpbmgobikgeyByZXR1cm4gKE1hdGguZXhwKG4pIC0gTWF0aC5leHAoLW4pKSAvIDI7IH1cclxuXHRcdGZ1bmN0aW9uIGNvc2gobikgeyByZXR1cm4gKE1hdGguZXhwKG4pICsgTWF0aC5leHAoLW4pKSAvIDI7IH1cclxuXHRcdGZ1bmN0aW9uIHRhbmgobikgeyByZXR1cm4gc2luaChuKSAvIGNvc2gobik7IH1cclxuXHJcblx0XHR2YXIgcjAgPSByKDApO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHcocykgeyByZXR1cm4gdzAgKiAoY29zaChyMCkgLyBjb3NoKHIwICsgcmhvICogcykpOyB9XHJcblx0XHRmdW5jdGlvbiB1KHMpIHsgcmV0dXJuIHcwICogKGNvc2gocjApICogdGFuaChyMCArIHJobyAqIHMpIC0gc2luaChyMCkpIC8gcmhvMjsgfVxyXG5cclxuXHRcdGZ1bmN0aW9uIGVhc2VPdXQodCkgeyByZXR1cm4gMSAtIE1hdGgucG93KDEgLSB0LCAxLjUpOyB9XHJcblxyXG5cdFx0dmFyIHN0YXJ0ID0gRGF0ZS5ub3coKSxcclxuXHRcdCAgICBTID0gKHIoMSkgLSByMCkgLyByaG8sXHJcblx0XHQgICAgZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uID8gMTAwMCAqIG9wdGlvbnMuZHVyYXRpb24gOiAxMDAwICogUyAqIDAuODtcclxuXHJcblx0XHRmdW5jdGlvbiBmcmFtZSgpIHtcclxuXHRcdFx0dmFyIHQgPSAoRGF0ZS5ub3coKSAtIHN0YXJ0KSAvIGR1cmF0aW9uLFxyXG5cdFx0XHQgICAgcyA9IGVhc2VPdXQodCkgKiBTO1xyXG5cclxuXHRcdFx0aWYgKHQgPD0gMSkge1xyXG5cdFx0XHRcdHRoaXMuX2ZseVRvRnJhbWUgPSBVdGlsLnJlcXVlc3RBbmltRnJhbWUoZnJhbWUsIHRoaXMpO1xyXG5cclxuXHRcdFx0XHR0aGlzLl9tb3ZlKFxyXG5cdFx0XHRcdFx0dGhpcy51bnByb2plY3QoZnJvbS5hZGQodG8uc3VidHJhY3QoZnJvbSkubXVsdGlwbHlCeSh1KHMpIC8gdTEpKSwgc3RhcnRab29tKSxcclxuXHRcdFx0XHRcdHRoaXMuZ2V0U2NhbGVab29tKHcwIC8gdyhzKSwgc3RhcnRab29tKSxcclxuXHRcdFx0XHRcdHtmbHlUbzogdHJ1ZX0pO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzXHJcblx0XHRcdFx0XHQuX21vdmUodGFyZ2V0Q2VudGVyLCB0YXJnZXRab29tKVxyXG5cdFx0XHRcdFx0Ll9tb3ZlRW5kKHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbW92ZVN0YXJ0KHRydWUsIG9wdGlvbnMubm9Nb3ZlU3RhcnQpO1xyXG5cclxuXHRcdGZyYW1lLmNhbGwodGhpcyk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGZseVRvQm91bmRzKGJvdW5kczogTGF0TG5nQm91bmRzLCBvcHRpb25zPzogZml0Qm91bmRzIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgdmlldyBvZiB0aGUgbWFwIHdpdGggYSBzbW9vdGggYW5pbWF0aW9uIGxpa2UgW2BmbHlUb2BdKCNtYXAtZmx5dG8pLFxyXG5cdC8vIGJ1dCB0YWtlcyBhIGJvdW5kcyBwYXJhbWV0ZXIgbGlrZSBbYGZpdEJvdW5kc2BdKCNtYXAtZml0Ym91bmRzKS5cclxuXHRmbHlUb0JvdW5kczogZnVuY3Rpb24gKGJvdW5kcywgb3B0aW9ucykge1xyXG5cdFx0dmFyIHRhcmdldCA9IHRoaXMuX2dldEJvdW5kc0NlbnRlclpvb20oYm91bmRzLCBvcHRpb25zKTtcclxuXHRcdHJldHVybiB0aGlzLmZseVRvKHRhcmdldC5jZW50ZXIsIHRhcmdldC56b29tLCBvcHRpb25zKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldE1heEJvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcyk6IHRoaXNcclxuXHQvLyBSZXN0cmljdHMgdGhlIG1hcCB2aWV3IHRvIHRoZSBnaXZlbiBib3VuZHMgKHNlZSB0aGUgW21heEJvdW5kc10oI21hcC1tYXhib3VuZHMpIG9wdGlvbikuXHJcblx0c2V0TWF4Qm91bmRzOiBmdW5jdGlvbiAoYm91bmRzKSB7XHJcblx0XHRib3VuZHMgPSB0b0xhdExuZ0JvdW5kcyhib3VuZHMpO1xyXG5cclxuXHRcdGlmICh0aGlzLmxpc3RlbnMoJ21vdmVlbmQnLCB0aGlzLl9wYW5JbnNpZGVNYXhCb3VuZHMpKSB7XHJcblx0XHRcdHRoaXMub2ZmKCdtb3ZlZW5kJywgdGhpcy5fcGFuSW5zaWRlTWF4Qm91bmRzKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWJvdW5kcy5pc1ZhbGlkKCkpIHtcclxuXHRcdFx0dGhpcy5vcHRpb25zLm1heEJvdW5kcyA9IG51bGw7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMub3B0aW9ucy5tYXhCb3VuZHMgPSBib3VuZHM7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCkge1xyXG5cdFx0XHR0aGlzLl9wYW5JbnNpZGVNYXhCb3VuZHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5vbignbW92ZWVuZCcsIHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRNaW5ab29tKHpvb206IE51bWJlcik6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBsb3dlciBsaW1pdCBmb3IgdGhlIGF2YWlsYWJsZSB6b29tIGxldmVscyAoc2VlIHRoZSBbbWluWm9vbV0oI21hcC1taW56b29tKSBvcHRpb24pLlxyXG5cdHNldE1pblpvb206IGZ1bmN0aW9uICh6b29tKSB7XHJcblx0XHR2YXIgb2xkWm9vbSA9IHRoaXMub3B0aW9ucy5taW5ab29tO1xyXG5cdFx0dGhpcy5vcHRpb25zLm1pblpvb20gPSB6b29tO1xyXG5cclxuXHRcdGlmICh0aGlzLl9sb2FkZWQgJiYgb2xkWm9vbSAhPT0gem9vbSkge1xyXG5cdFx0XHR0aGlzLmZpcmUoJ3pvb21sZXZlbHNjaGFuZ2UnKTtcclxuXHJcblx0XHRcdGlmICh0aGlzLmdldFpvb20oKSA8IHRoaXMub3B0aW9ucy5taW5ab29tKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuc2V0Wm9vbSh6b29tKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0TWF4Wm9vbSh6b29tOiBOdW1iZXIpOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgdXBwZXIgbGltaXQgZm9yIHRoZSBhdmFpbGFibGUgem9vbSBsZXZlbHMgKHNlZSB0aGUgW21heFpvb21dKCNtYXAtbWF4em9vbSkgb3B0aW9uKS5cclxuXHRzZXRNYXhab29tOiBmdW5jdGlvbiAoem9vbSkge1xyXG5cdFx0dmFyIG9sZFpvb20gPSB0aGlzLm9wdGlvbnMubWF4Wm9vbTtcclxuXHRcdHRoaXMub3B0aW9ucy5tYXhab29tID0gem9vbTtcclxuXHJcblx0XHRpZiAodGhpcy5fbG9hZGVkICYmIG9sZFpvb20gIT09IHpvb20pIHtcclxuXHRcdFx0dGhpcy5maXJlKCd6b29tbGV2ZWxzY2hhbmdlJyk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5nZXRab29tKCkgPiB0aGlzLm9wdGlvbnMubWF4Wm9vbSkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLnNldFpvb20oem9vbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHBhbkluc2lkZUJvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcywgb3B0aW9ucz86IFBhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFBhbnMgdGhlIG1hcCB0byB0aGUgY2xvc2VzdCB2aWV3IHRoYXQgd291bGQgbGllIGluc2lkZSB0aGUgZ2l2ZW4gYm91bmRzIChpZiBpdCdzIG5vdCBhbHJlYWR5KSwgY29udHJvbGxpbmcgdGhlIGFuaW1hdGlvbiB1c2luZyB0aGUgb3B0aW9ucyBzcGVjaWZpYywgaWYgYW55LlxyXG5cdHBhbkluc2lkZUJvdW5kczogZnVuY3Rpb24gKGJvdW5kcywgb3B0aW9ucykge1xyXG5cdFx0dGhpcy5fZW5mb3JjaW5nQm91bmRzID0gdHJ1ZTtcclxuXHRcdHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpLFxyXG5cdFx0ICAgIG5ld0NlbnRlciA9IHRoaXMuX2xpbWl0Q2VudGVyKGNlbnRlciwgdGhpcy5fem9vbSwgdG9MYXRMbmdCb3VuZHMoYm91bmRzKSk7XHJcblxyXG5cdFx0aWYgKCFjZW50ZXIuZXF1YWxzKG5ld0NlbnRlcikpIHtcclxuXHRcdFx0dGhpcy5wYW5UbyhuZXdDZW50ZXIsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2VuZm9yY2luZ0JvdW5kcyA9IGZhbHNlO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBwYW5JbnNpZGUobGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/OiBwYWRkaW5nIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gUGFucyB0aGUgbWFwIHRoZSBtaW5pbXVtIGFtb3VudCB0byBtYWtlIHRoZSBgbGF0bG5nYCB2aXNpYmxlLiBVc2VcclxuXHQvLyBwYWRkaW5nIG9wdGlvbnMgdG8gZml0IHRoZSBkaXNwbGF5IHRvIG1vcmUgcmVzdHJpY3RlZCBib3VuZHMuXHJcblx0Ly8gSWYgYGxhdGxuZ2AgaXMgYWxyZWFkeSB3aXRoaW4gdGhlIChvcHRpb25hbGx5IHBhZGRlZCkgZGlzcGxheSBib3VuZHMsXHJcblx0Ly8gdGhlIG1hcCB3aWxsIG5vdCBiZSBwYW5uZWQuXHJcblx0cGFuSW5zaWRlOiBmdW5jdGlvbiAobGF0bG5nLCBvcHRpb25zKSB7XHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcblx0XHR2YXIgcGFkZGluZ1RMID0gdG9Qb2ludChvcHRpb25zLnBhZGRpbmdUb3BMZWZ0IHx8IG9wdGlvbnMucGFkZGluZyB8fCBbMCwgMF0pLFxyXG5cdFx0ICAgIHBhZGRpbmdCUiA9IHRvUG9pbnQob3B0aW9ucy5wYWRkaW5nQm90dG9tUmlnaHQgfHwgb3B0aW9ucy5wYWRkaW5nIHx8IFswLCAwXSksXHJcblx0XHQgICAgcGl4ZWxDZW50ZXIgPSB0aGlzLnByb2plY3QodGhpcy5nZXRDZW50ZXIoKSksXHJcblx0XHQgICAgcGl4ZWxQb2ludCA9IHRoaXMucHJvamVjdChsYXRsbmcpLFxyXG5cdFx0ICAgIHBpeGVsQm91bmRzID0gdGhpcy5nZXRQaXhlbEJvdW5kcygpLFxyXG5cdFx0ICAgIHBhZGRlZEJvdW5kcyA9IHRvQm91bmRzKFtwaXhlbEJvdW5kcy5taW4uYWRkKHBhZGRpbmdUTCksIHBpeGVsQm91bmRzLm1heC5zdWJ0cmFjdChwYWRkaW5nQlIpXSksXHJcblx0XHQgICAgcGFkZGVkU2l6ZSA9IHBhZGRlZEJvdW5kcy5nZXRTaXplKCk7XHJcblxyXG5cdFx0aWYgKCFwYWRkZWRCb3VuZHMuY29udGFpbnMocGl4ZWxQb2ludCkpIHtcclxuXHRcdFx0dGhpcy5fZW5mb3JjaW5nQm91bmRzID0gdHJ1ZTtcclxuXHRcdFx0dmFyIGNlbnRlck9mZnNldCA9IHBpeGVsUG9pbnQuc3VidHJhY3QocGFkZGVkQm91bmRzLmdldENlbnRlcigpKTtcclxuXHRcdFx0dmFyIG9mZnNldCA9IHBhZGRlZEJvdW5kcy5leHRlbmQocGl4ZWxQb2ludCkuZ2V0U2l6ZSgpLnN1YnRyYWN0KHBhZGRlZFNpemUpO1xyXG5cdFx0XHRwaXhlbENlbnRlci54ICs9IGNlbnRlck9mZnNldC54IDwgMCA/IC1vZmZzZXQueCA6IG9mZnNldC54O1xyXG5cdFx0XHRwaXhlbENlbnRlci55ICs9IGNlbnRlck9mZnNldC55IDwgMCA/IC1vZmZzZXQueSA6IG9mZnNldC55O1xyXG5cdFx0XHR0aGlzLnBhblRvKHRoaXMudW5wcm9qZWN0KHBpeGVsQ2VudGVyKSwgb3B0aW9ucyk7XHJcblx0XHRcdHRoaXMuX2VuZm9yY2luZ0JvdW5kcyA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpbnZhbGlkYXRlU2l6ZShvcHRpb25zOiBab29tL3BhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIENoZWNrcyBpZiB0aGUgbWFwIGNvbnRhaW5lciBzaXplIGNoYW5nZWQgYW5kIHVwZGF0ZXMgdGhlIG1hcCBpZiBzbyDigJRcclxuXHQvLyBjYWxsIGl0IGFmdGVyIHlvdSd2ZSBjaGFuZ2VkIHRoZSBtYXAgc2l6ZSBkeW5hbWljYWxseSwgYWxzbyBhbmltYXRpbmdcclxuXHQvLyBwYW4gYnkgZGVmYXVsdC4gSWYgYG9wdGlvbnMucGFuYCBpcyBgZmFsc2VgLCBwYW5uaW5nIHdpbGwgbm90IG9jY3VyLlxyXG5cdC8vIElmIGBvcHRpb25zLmRlYm91bmNlTW92ZWVuZGAgaXMgYHRydWVgLCBpdCB3aWxsIGRlbGF5IGBtb3ZlZW5kYCBldmVudCBzb1xyXG5cdC8vIHRoYXQgaXQgZG9lc24ndCBoYXBwZW4gb2Z0ZW4gZXZlbiBpZiB0aGUgbWV0aG9kIGlzIGNhbGxlZCBtYW55XHJcblx0Ly8gdGltZXMgaW4gYSByb3cuXHJcblxyXG5cdC8vIEBhbHRlcm5hdGl2ZVxyXG5cdC8vIEBtZXRob2QgaW52YWxpZGF0ZVNpemUoYW5pbWF0ZTogQm9vbGVhbik6IHRoaXNcclxuXHQvLyBDaGVja3MgaWYgdGhlIG1hcCBjb250YWluZXIgc2l6ZSBjaGFuZ2VkIGFuZCB1cGRhdGVzIHRoZSBtYXAgaWYgc28g4oCUXHJcblx0Ly8gY2FsbCBpdCBhZnRlciB5b3UndmUgY2hhbmdlZCB0aGUgbWFwIHNpemUgZHluYW1pY2FsbHksIGFsc28gYW5pbWF0aW5nXHJcblx0Ly8gcGFuIGJ5IGRlZmF1bHQuXHJcblx0aW52YWxpZGF0ZVNpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRpZiAoIXRoaXMuX2xvYWRlZCkgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdG9wdGlvbnMgPSBVdGlsLmV4dGVuZCh7XHJcblx0XHRcdGFuaW1hdGU6IGZhbHNlLFxyXG5cdFx0XHRwYW46IHRydWVcclxuXHRcdH0sIG9wdGlvbnMgPT09IHRydWUgPyB7YW5pbWF0ZTogdHJ1ZX0gOiBvcHRpb25zKTtcclxuXHJcblx0XHR2YXIgb2xkU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xyXG5cdFx0dGhpcy5fc2l6ZUNoYW5nZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5fbGFzdENlbnRlciA9IG51bGw7XHJcblxyXG5cdFx0dmFyIG5ld1NpemUgPSB0aGlzLmdldFNpemUoKSxcclxuXHRcdCAgICBvbGRDZW50ZXIgPSBvbGRTaXplLmRpdmlkZUJ5KDIpLnJvdW5kKCksXHJcblx0XHQgICAgbmV3Q2VudGVyID0gbmV3U2l6ZS5kaXZpZGVCeSgyKS5yb3VuZCgpLFxyXG5cdFx0ICAgIG9mZnNldCA9IG9sZENlbnRlci5zdWJ0cmFjdChuZXdDZW50ZXIpO1xyXG5cclxuXHRcdGlmICghb2Zmc2V0LnggJiYgIW9mZnNldC55KSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMuYW5pbWF0ZSAmJiBvcHRpb25zLnBhbikge1xyXG5cdFx0XHR0aGlzLnBhbkJ5KG9mZnNldCk7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKG9wdGlvbnMucGFuKSB7XHJcblx0XHRcdFx0dGhpcy5fcmF3UGFuQnkob2Zmc2V0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5maXJlKCdtb3ZlJyk7XHJcblxyXG5cdFx0XHRpZiAob3B0aW9ucy5kZWJvdW5jZU1vdmVlbmQpIHtcclxuXHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy5fc2l6ZVRpbWVyKTtcclxuXHRcdFx0XHR0aGlzLl9zaXplVGltZXIgPSBzZXRUaW1lb3V0KFV0aWwuYmluZCh0aGlzLmZpcmUsIHRoaXMsICdtb3ZlZW5kJyksIDIwMCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5maXJlKCdtb3ZlZW5kJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBAc2VjdGlvbiBNYXAgc3RhdGUgY2hhbmdlIGV2ZW50c1xyXG5cdFx0Ly8gQGV2ZW50IHJlc2l6ZTogUmVzaXplRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcCBpcyByZXNpemVkLlxyXG5cdFx0cmV0dXJuIHRoaXMuZmlyZSgncmVzaXplJywge1xyXG5cdFx0XHRvbGRTaXplOiBvbGRTaXplLFxyXG5cdFx0XHRuZXdTaXplOiBuZXdTaXplXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAc2VjdGlvbiBNZXRob2RzIGZvciBtb2RpZnlpbmcgbWFwIHN0YXRlXHJcblx0Ly8gQG1ldGhvZCBzdG9wKCk6IHRoaXNcclxuXHQvLyBTdG9wcyB0aGUgY3VycmVudGx5IHJ1bm5pbmcgYHBhblRvYCBvciBgZmx5VG9gIGFuaW1hdGlvbiwgaWYgYW55LlxyXG5cdHN0b3A6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuc2V0Wm9vbSh0aGlzLl9saW1pdFpvb20odGhpcy5fem9vbSkpO1xyXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMuem9vbVNuYXApIHtcclxuXHRcdFx0dGhpcy5maXJlKCd2aWV3cmVzZXQnKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLl9zdG9wKCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQHNlY3Rpb24gR2VvbG9jYXRpb24gbWV0aG9kc1xyXG5cdC8vIEBtZXRob2QgbG9jYXRlKG9wdGlvbnM/OiBMb2NhdGUgb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBUcmllcyB0byBsb2NhdGUgdGhlIHVzZXIgdXNpbmcgdGhlIEdlb2xvY2F0aW9uIEFQSSwgZmlyaW5nIGEgW2Bsb2NhdGlvbmZvdW5kYF0oI21hcC1sb2NhdGlvbmZvdW5kKVxyXG5cdC8vIGV2ZW50IHdpdGggbG9jYXRpb24gZGF0YSBvbiBzdWNjZXNzIG9yIGEgW2Bsb2NhdGlvbmVycm9yYF0oI21hcC1sb2NhdGlvbmVycm9yKSBldmVudCBvbiBmYWlsdXJlLFxyXG5cdC8vIGFuZCBvcHRpb25hbGx5IHNldHMgdGhlIG1hcCB2aWV3IHRvIHRoZSB1c2VyJ3MgbG9jYXRpb24gd2l0aCByZXNwZWN0IHRvXHJcblx0Ly8gZGV0ZWN0aW9uIGFjY3VyYWN5IChvciB0byB0aGUgd29ybGQgdmlldyBpZiBnZW9sb2NhdGlvbiBmYWlsZWQpLlxyXG5cdC8vIE5vdGUgdGhhdCwgaWYgeW91ciBwYWdlIGRvZXNuJ3QgdXNlIEhUVFBTLCB0aGlzIG1ldGhvZCB3aWxsIGZhaWwgaW5cclxuXHQvLyBtb2Rlcm4gYnJvd3NlcnMgKFtDaHJvbWUgNTAgYW5kIG5ld2VyXShodHRwczovL3NpdGVzLmdvb2dsZS5jb20vYS9jaHJvbWl1bS5vcmcvZGV2L0hvbWUvY2hyb21pdW0tc2VjdXJpdHkvZGVwcmVjYXRpbmctcG93ZXJmdWwtZmVhdHVyZXMtb24taW5zZWN1cmUtb3JpZ2lucykpXHJcblx0Ly8gU2VlIGBMb2NhdGUgb3B0aW9uc2AgZm9yIG1vcmUgZGV0YWlscy5cclxuXHRsb2NhdGU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblxyXG5cdFx0b3B0aW9ucyA9IHRoaXMuX2xvY2F0ZU9wdGlvbnMgPSBVdGlsLmV4dGVuZCh7XHJcblx0XHRcdHRpbWVvdXQ6IDEwMDAwLFxyXG5cdFx0XHR3YXRjaDogZmFsc2VcclxuXHRcdFx0Ly8gc2V0VmlldzogZmFsc2VcclxuXHRcdFx0Ly8gbWF4Wm9vbTogPE51bWJlcj5cclxuXHRcdFx0Ly8gbWF4aW11bUFnZTogMFxyXG5cdFx0XHQvLyBlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlXHJcblx0XHR9LCBvcHRpb25zKTtcclxuXHJcblx0XHRpZiAoISgnZ2VvbG9jYXRpb24nIGluIG5hdmlnYXRvcikpIHtcclxuXHRcdFx0dGhpcy5faGFuZGxlR2VvbG9jYXRpb25FcnJvcih7XHJcblx0XHRcdFx0Y29kZTogMCxcclxuXHRcdFx0XHRtZXNzYWdlOiAnR2VvbG9jYXRpb24gbm90IHN1cHBvcnRlZC4nXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgb25SZXNwb25zZSA9IFV0aWwuYmluZCh0aGlzLl9oYW5kbGVHZW9sb2NhdGlvblJlc3BvbnNlLCB0aGlzKSxcclxuXHRcdCAgICBvbkVycm9yID0gVXRpbC5iaW5kKHRoaXMuX2hhbmRsZUdlb2xvY2F0aW9uRXJyb3IsIHRoaXMpO1xyXG5cclxuXHRcdGlmIChvcHRpb25zLndhdGNoKSB7XHJcblx0XHRcdHRoaXMuX2xvY2F0aW9uV2F0Y2hJZCA9XHJcblx0XHRcdCAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24ob25SZXNwb25zZSwgb25FcnJvciwgb3B0aW9ucyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKG9uUmVzcG9uc2UsIG9uRXJyb3IsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzdG9wTG9jYXRlKCk6IHRoaXNcclxuXHQvLyBTdG9wcyB3YXRjaGluZyBsb2NhdGlvbiBwcmV2aW91c2x5IGluaXRpYXRlZCBieSBgbWFwLmxvY2F0ZSh7d2F0Y2g6IHRydWV9KWBcclxuXHQvLyBhbmQgYWJvcnRzIHJlc2V0dGluZyB0aGUgbWFwIHZpZXcgaWYgbWFwLmxvY2F0ZSB3YXMgY2FsbGVkIHdpdGhcclxuXHQvLyBge3NldFZpZXc6IHRydWV9YC5cclxuXHRzdG9wTG9jYXRlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uICYmIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKSB7XHJcblx0XHRcdG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2xvY2F0aW9uV2F0Y2hJZCk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5fbG9jYXRlT3B0aW9ucykge1xyXG5cdFx0XHR0aGlzLl9sb2NhdGVPcHRpb25zLnNldFZpZXcgPSBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVHZW9sb2NhdGlvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdGlmICghdGhpcy5fY29udGFpbmVyLl9sZWFmbGV0X2lkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHZhciBjID0gZXJyb3IuY29kZSxcclxuXHRcdCAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fFxyXG5cdFx0ICAgICAgICAgICAgKGMgPT09IDEgPyAncGVybWlzc2lvbiBkZW5pZWQnIDpcclxuXHRcdCAgICAgICAgICAgIChjID09PSAyID8gJ3Bvc2l0aW9uIHVuYXZhaWxhYmxlJyA6ICd0aW1lb3V0JykpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9sb2NhdGVPcHRpb25zLnNldFZpZXcgJiYgIXRoaXMuX2xvYWRlZCkge1xyXG5cdFx0XHR0aGlzLmZpdFdvcmxkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQHNlY3Rpb24gTG9jYXRpb24gZXZlbnRzXHJcblx0XHQvLyBAZXZlbnQgbG9jYXRpb25lcnJvcjogRXJyb3JFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBnZW9sb2NhdGlvbiAodXNpbmcgdGhlIFtgbG9jYXRlYF0oI21hcC1sb2NhdGUpIG1ldGhvZCkgZmFpbGVkLlxyXG5cdFx0dGhpcy5maXJlKCdsb2NhdGlvbmVycm9yJywge1xyXG5cdFx0XHRjb2RlOiBjLFxyXG5cdFx0XHRtZXNzYWdlOiAnR2VvbG9jYXRpb24gZXJyb3I6ICcgKyBtZXNzYWdlICsgJy4nXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlR2VvbG9jYXRpb25SZXNwb25zZTogZnVuY3Rpb24gKHBvcykge1xyXG5cdFx0aWYgKCF0aGlzLl9jb250YWluZXIuX2xlYWZsZXRfaWQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0dmFyIGxhdCA9IHBvcy5jb29yZHMubGF0aXR1ZGUsXHJcblx0XHQgICAgbG5nID0gcG9zLmNvb3Jkcy5sb25naXR1ZGUsXHJcblx0XHQgICAgbGF0bG5nID0gbmV3IExhdExuZyhsYXQsIGxuZyksXHJcblx0XHQgICAgYm91bmRzID0gbGF0bG5nLnRvQm91bmRzKHBvcy5jb29yZHMuYWNjdXJhY3kgKiAyKSxcclxuXHRcdCAgICBvcHRpb25zID0gdGhpcy5fbG9jYXRlT3B0aW9ucztcclxuXHJcblx0XHRpZiAob3B0aW9ucy5zZXRWaWV3KSB7XHJcblx0XHRcdHZhciB6b29tID0gdGhpcy5nZXRCb3VuZHNab29tKGJvdW5kcyk7XHJcblx0XHRcdHRoaXMuc2V0VmlldyhsYXRsbmcsIG9wdGlvbnMubWF4Wm9vbSA/IE1hdGgubWluKHpvb20sIG9wdGlvbnMubWF4Wm9vbSkgOiB6b29tKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgZGF0YSA9IHtcclxuXHRcdFx0bGF0bG5nOiBsYXRsbmcsXHJcblx0XHRcdGJvdW5kczogYm91bmRzLFxyXG5cdFx0XHR0aW1lc3RhbXA6IHBvcy50aW1lc3RhbXBcclxuXHRcdH07XHJcblxyXG5cdFx0Zm9yICh2YXIgaSBpbiBwb3MuY29vcmRzKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgcG9zLmNvb3Jkc1tpXSA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0XHRkYXRhW2ldID0gcG9zLmNvb3Jkc1tpXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBldmVudCBsb2NhdGlvbmZvdW5kOiBMb2NhdGlvbkV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGdlb2xvY2F0aW9uICh1c2luZyB0aGUgW2Bsb2NhdGVgXSgjbWFwLWxvY2F0ZSkgbWV0aG9kKVxyXG5cdFx0Ly8gd2VudCBzdWNjZXNzZnVsbHkuXHJcblx0XHR0aGlzLmZpcmUoJ2xvY2F0aW9uZm91bmQnLCBkYXRhKTtcclxuXHR9LFxyXG5cclxuXHQvLyBUT0RPIEFwcHJvcHJpYXRlIGRvY3Mgc2VjdGlvbj9cclxuXHQvLyBAc2VjdGlvbiBPdGhlciBNZXRob2RzXHJcblx0Ly8gQG1ldGhvZCBhZGRIYW5kbGVyKG5hbWU6IFN0cmluZywgSGFuZGxlckNsYXNzOiBGdW5jdGlvbik6IHRoaXNcclxuXHQvLyBBZGRzIGEgbmV3IGBIYW5kbGVyYCB0byB0aGUgbWFwLCBnaXZlbiBpdHMgbmFtZSBhbmQgY29uc3RydWN0b3IgZnVuY3Rpb24uXHJcblx0YWRkSGFuZGxlcjogZnVuY3Rpb24gKG5hbWUsIEhhbmRsZXJDbGFzcykge1xyXG5cdFx0aWYgKCFIYW5kbGVyQ2xhc3MpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHR2YXIgaGFuZGxlciA9IHRoaXNbbmFtZV0gPSBuZXcgSGFuZGxlckNsYXNzKHRoaXMpO1xyXG5cclxuXHRcdHRoaXMuX2hhbmRsZXJzLnB1c2goaGFuZGxlcik7XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9uc1tuYW1lXSkge1xyXG5cdFx0XHRoYW5kbGVyLmVuYWJsZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcmVtb3ZlKCk6IHRoaXNcclxuXHQvLyBEZXN0cm95cyB0aGUgbWFwIGFuZCBjbGVhcnMgYWxsIHJlbGF0ZWQgZXZlbnQgbGlzdGVuZXJzLlxyXG5cdHJlbW92ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHRoaXMuX2luaXRFdmVudHModHJ1ZSk7XHJcblx0XHRpZiAodGhpcy5vcHRpb25zLm1heEJvdW5kcykgeyB0aGlzLm9mZignbW92ZWVuZCcsIHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyk7IH1cclxuXHJcblx0XHRpZiAodGhpcy5fY29udGFpbmVySWQgIT09IHRoaXMuX2NvbnRhaW5lci5fbGVhZmxldF9pZCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ01hcCBjb250YWluZXIgaXMgYmVpbmcgcmV1c2VkIGJ5IGFub3RoZXIgaW5zdGFuY2UnKTtcclxuXHRcdH1cclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyB0aHJvd3MgZXJyb3IgaW4gSUU2LThcclxuXHRcdFx0ZGVsZXRlIHRoaXMuX2NvbnRhaW5lci5fbGVhZmxldF9pZDtcclxuXHRcdFx0ZGVsZXRlIHRoaXMuX2NvbnRhaW5lcklkO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHQvKmVzbGludC1kaXNhYmxlICovXHJcblx0XHRcdHRoaXMuX2NvbnRhaW5lci5fbGVhZmxldF9pZCA9IHVuZGVmaW5lZDtcclxuXHRcdFx0LyogZXNsaW50LWVuYWJsZSAqL1xyXG5cdFx0XHR0aGlzLl9jb250YWluZXJJZCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5fbG9jYXRpb25XYXRjaElkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0dGhpcy5zdG9wTG9jYXRlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fc3RvcCgpO1xyXG5cclxuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX21hcFBhbmUpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9jbGVhckNvbnRyb2xQb3MpIHtcclxuXHRcdFx0dGhpcy5fY2xlYXJDb250cm9sUG9zKCk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5fcmVzaXplUmVxdWVzdCkge1xyXG5cdFx0XHRVdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9yZXNpemVSZXF1ZXN0KTtcclxuXHRcdFx0dGhpcy5fcmVzaXplUmVxdWVzdCA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fY2xlYXJIYW5kbGVycygpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9sb2FkZWQpIHtcclxuXHRcdFx0Ly8gQHNlY3Rpb24gTWFwIHN0YXRlIGNoYW5nZSBldmVudHNcclxuXHRcdFx0Ly8gQGV2ZW50IHVubG9hZDogRXZlbnRcclxuXHRcdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFwIGlzIGRlc3Ryb3llZCB3aXRoIFtyZW1vdmVdKCNtYXAtcmVtb3ZlKSBtZXRob2QuXHJcblx0XHRcdHRoaXMuZmlyZSgndW5sb2FkJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGk7XHJcblx0XHRmb3IgKGkgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdHRoaXMuX2xheWVyc1tpXS5yZW1vdmUoKTtcclxuXHRcdH1cclxuXHRcdGZvciAoaSBpbiB0aGlzLl9wYW5lcykge1xyXG5cdFx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9wYW5lc1tpXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbGF5ZXJzID0gW107XHJcblx0XHR0aGlzLl9wYW5lcyA9IFtdO1xyXG5cdFx0ZGVsZXRlIHRoaXMuX21hcFBhbmU7XHJcblx0XHRkZWxldGUgdGhpcy5fcmVuZGVyZXI7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQHNlY3Rpb24gT3RoZXIgTWV0aG9kc1xyXG5cdC8vIEBtZXRob2QgY3JlYXRlUGFuZShuYW1lOiBTdHJpbmcsIGNvbnRhaW5lcj86IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuXHQvLyBDcmVhdGVzIGEgbmV3IFttYXAgcGFuZV0oI21hcC1wYW5lKSB3aXRoIHRoZSBnaXZlbiBuYW1lIGlmIGl0IGRvZXNuJ3QgZXhpc3QgYWxyZWFkeSxcclxuXHQvLyB0aGVuIHJldHVybnMgaXQuIFRoZSBwYW5lIGlzIGNyZWF0ZWQgYXMgYSBjaGlsZCBvZiBgY29udGFpbmVyYCwgb3JcclxuXHQvLyBhcyBhIGNoaWxkIG9mIHRoZSBtYWluIG1hcCBwYW5lIGlmIG5vdCBzZXQuXHJcblx0Y3JlYXRlUGFuZTogZnVuY3Rpb24gKG5hbWUsIGNvbnRhaW5lcikge1xyXG5cdFx0dmFyIGNsYXNzTmFtZSA9ICdsZWFmbGV0LXBhbmUnICsgKG5hbWUgPyAnIGxlYWZsZXQtJyArIG5hbWUucmVwbGFjZSgnUGFuZScsICcnKSArICctcGFuZScgOiAnJyksXHJcblx0XHQgICAgcGFuZSA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUsIGNvbnRhaW5lciB8fCB0aGlzLl9tYXBQYW5lKTtcclxuXHJcblx0XHRpZiAobmFtZSkge1xyXG5cdFx0XHR0aGlzLl9wYW5lc1tuYW1lXSA9IHBhbmU7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcGFuZTtcclxuXHR9LFxyXG5cclxuXHQvLyBAc2VjdGlvbiBNZXRob2RzIGZvciBHZXR0aW5nIE1hcCBTdGF0ZVxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENlbnRlcigpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBnZW9ncmFwaGljYWwgY2VudGVyIG9mIHRoZSBtYXAgdmlld1xyXG5cdGdldENlbnRlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5fY2hlY2tJZkxvYWRlZCgpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9sYXN0Q2VudGVyICYmICF0aGlzLl9tb3ZlZCgpKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLl9sYXN0Q2VudGVyLmNsb25lKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5sYXllclBvaW50VG9MYXRMbmcodGhpcy5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFpvb20oKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgY3VycmVudCB6b29tIGxldmVsIG9mIHRoZSBtYXAgdmlld1xyXG5cdGdldFpvb206IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl96b29tO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Qm91bmRzKCk6IExhdExuZ0JvdW5kc1xyXG5cdC8vIFJldHVybnMgdGhlIGdlb2dyYXBoaWNhbCBib3VuZHMgdmlzaWJsZSBpbiB0aGUgY3VycmVudCBtYXAgdmlld1xyXG5cdGdldEJvdW5kczogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGJvdW5kcyA9IHRoaXMuZ2V0UGl4ZWxCb3VuZHMoKSxcclxuXHRcdCAgICBzdyA9IHRoaXMudW5wcm9qZWN0KGJvdW5kcy5nZXRCb3R0b21MZWZ0KCkpLFxyXG5cdFx0ICAgIG5lID0gdGhpcy51bnByb2plY3QoYm91bmRzLmdldFRvcFJpZ2h0KCkpO1xyXG5cclxuXHRcdHJldHVybiBuZXcgTGF0TG5nQm91bmRzKHN3LCBuZSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRNaW5ab29tKCk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIG1pbmltdW0gem9vbSBsZXZlbCBvZiB0aGUgbWFwIChpZiBzZXQgaW4gdGhlIGBtaW5ab29tYCBvcHRpb24gb2YgdGhlIG1hcCBvciBvZiBhbnkgbGF5ZXJzKSwgb3IgYDBgIGJ5IGRlZmF1bHQuXHJcblx0Z2V0TWluWm9vbTogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5taW5ab29tID09PSB1bmRlZmluZWQgPyB0aGlzLl9sYXllcnNNaW5ab29tIHx8IDAgOiB0aGlzLm9wdGlvbnMubWluWm9vbTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldE1heFpvb20oKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgbWF4aW11bSB6b29tIGxldmVsIG9mIHRoZSBtYXAgKGlmIHNldCBpbiB0aGUgYG1heFpvb21gIG9wdGlvbiBvZiB0aGUgbWFwIG9yIG9mIGFueSBsYXllcnMpLlxyXG5cdGdldE1heFpvb206IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMubWF4Wm9vbSA9PT0gdW5kZWZpbmVkID9cclxuXHRcdFx0KHRoaXMuX2xheWVyc01heFpvb20gPT09IHVuZGVmaW5lZCA/IEluZmluaXR5IDogdGhpcy5fbGF5ZXJzTWF4Wm9vbSkgOlxyXG5cdFx0XHR0aGlzLm9wdGlvbnMubWF4Wm9vbTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEJvdW5kc1pvb20oYm91bmRzOiBMYXRMbmdCb3VuZHMsIGluc2lkZT86IEJvb2xlYW4sIHBhZGRpbmc/OiBQb2ludCk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIG1heGltdW0gem9vbSBsZXZlbCBvbiB3aGljaCB0aGUgZ2l2ZW4gYm91bmRzIGZpdCB0byB0aGUgbWFwXHJcblx0Ly8gdmlldyBpbiBpdHMgZW50aXJldHkuIElmIGBpbnNpZGVgIChvcHRpb25hbCkgaXMgc2V0IHRvIGB0cnVlYCwgdGhlIG1ldGhvZFxyXG5cdC8vIGluc3RlYWQgcmV0dXJucyB0aGUgbWluaW11bSB6b29tIGxldmVsIG9uIHdoaWNoIHRoZSBtYXAgdmlldyBmaXRzIGludG9cclxuXHQvLyB0aGUgZ2l2ZW4gYm91bmRzIGluIGl0cyBlbnRpcmV0eS5cclxuXHRnZXRCb3VuZHNab29tOiBmdW5jdGlvbiAoYm91bmRzLCBpbnNpZGUsIHBhZGRpbmcpIHsgLy8gKExhdExuZ0JvdW5kc1ssIEJvb2xlYW4sIFBvaW50XSkgLT4gTnVtYmVyXHJcblx0XHRib3VuZHMgPSB0b0xhdExuZ0JvdW5kcyhib3VuZHMpO1xyXG5cdFx0cGFkZGluZyA9IHRvUG9pbnQocGFkZGluZyB8fCBbMCwgMF0pO1xyXG5cclxuXHRcdHZhciB6b29tID0gdGhpcy5nZXRab29tKCkgfHwgMCxcclxuXHRcdCAgICBtaW4gPSB0aGlzLmdldE1pblpvb20oKSxcclxuXHRcdCAgICBtYXggPSB0aGlzLmdldE1heFpvb20oKSxcclxuXHRcdCAgICBudyA9IGJvdW5kcy5nZXROb3J0aFdlc3QoKSxcclxuXHRcdCAgICBzZSA9IGJvdW5kcy5nZXRTb3V0aEVhc3QoKSxcclxuXHRcdCAgICBzaXplID0gdGhpcy5nZXRTaXplKCkuc3VidHJhY3QocGFkZGluZyksXHJcblx0XHQgICAgYm91bmRzU2l6ZSA9IHRvQm91bmRzKHRoaXMucHJvamVjdChzZSwgem9vbSksIHRoaXMucHJvamVjdChudywgem9vbSkpLmdldFNpemUoKSxcclxuXHRcdCAgICBzbmFwID0gQnJvd3Nlci5hbnkzZCA/IHRoaXMub3B0aW9ucy56b29tU25hcCA6IDEsXHJcblx0XHQgICAgc2NhbGV4ID0gc2l6ZS54IC8gYm91bmRzU2l6ZS54LFxyXG5cdFx0ICAgIHNjYWxleSA9IHNpemUueSAvIGJvdW5kc1NpemUueSxcclxuXHRcdCAgICBzY2FsZSA9IGluc2lkZSA/IE1hdGgubWF4KHNjYWxleCwgc2NhbGV5KSA6IE1hdGgubWluKHNjYWxleCwgc2NhbGV5KTtcclxuXHJcblx0XHR6b29tID0gdGhpcy5nZXRTY2FsZVpvb20oc2NhbGUsIHpvb20pO1xyXG5cclxuXHRcdGlmIChzbmFwKSB7XHJcblx0XHRcdHpvb20gPSBNYXRoLnJvdW5kKHpvb20gLyAoc25hcCAvIDEwMCkpICogKHNuYXAgLyAxMDApOyAvLyBkb24ndCBqdW1wIGlmIHdpdGhpbiAxJSBvZiBhIHNuYXAgbGV2ZWxcclxuXHRcdFx0em9vbSA9IGluc2lkZSA/IE1hdGguY2VpbCh6b29tIC8gc25hcCkgKiBzbmFwIDogTWF0aC5mbG9vcih6b29tIC8gc25hcCkgKiBzbmFwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgem9vbSkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0U2l6ZSgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgbWFwIGNvbnRhaW5lciAoaW4gcGl4ZWxzKS5cclxuXHRnZXRTaXplOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX3NpemUgfHwgdGhpcy5fc2l6ZUNoYW5nZWQpIHtcclxuXHRcdFx0dGhpcy5fc2l6ZSA9IG5ldyBQb2ludChcclxuXHRcdFx0XHR0aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGggfHwgMCxcclxuXHRcdFx0XHR0aGlzLl9jb250YWluZXIuY2xpZW50SGVpZ2h0IHx8IDApO1xyXG5cclxuXHRcdFx0dGhpcy5fc2l6ZUNoYW5nZWQgPSBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLl9zaXplLmNsb25lKCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRQaXhlbEJvdW5kcygpOiBCb3VuZHNcclxuXHQvLyBSZXR1cm5zIHRoZSBib3VuZHMgb2YgdGhlIGN1cnJlbnQgbWFwIHZpZXcgaW4gcHJvamVjdGVkIHBpeGVsXHJcblx0Ly8gY29vcmRpbmF0ZXMgKHNvbWV0aW1lcyB1c2VmdWwgaW4gbGF5ZXIgYW5kIG92ZXJsYXkgaW1wbGVtZW50YXRpb25zKS5cclxuXHRnZXRQaXhlbEJvdW5kczogZnVuY3Rpb24gKGNlbnRlciwgem9vbSkge1xyXG5cdFx0dmFyIHRvcExlZnRQb2ludCA9IHRoaXMuX2dldFRvcExlZnRQb2ludChjZW50ZXIsIHpvb20pO1xyXG5cdFx0cmV0dXJuIG5ldyBCb3VuZHModG9wTGVmdFBvaW50LCB0b3BMZWZ0UG9pbnQuYWRkKHRoaXMuZ2V0U2l6ZSgpKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gVE9ETzogQ2hlY2sgc2VtYW50aWNzIC0gaXNuJ3QgdGhlIHBpeGVsIG9yaWdpbiB0aGUgMCwwIGNvb3JkIHJlbGF0aXZlIHRvXHJcblx0Ly8gdGhlIG1hcCBwYW5lPyBcImxlZnQgcG9pbnQgb2YgdGhlIG1hcCBsYXllclwiIGNhbiBiZSBjb25mdXNpbmcsIHNwZWNpYWxseVxyXG5cdC8vIHNpbmNlIHRoZXJlIGNhbiBiZSBuZWdhdGl2ZSBvZmZzZXRzLlxyXG5cdC8vIEBtZXRob2QgZ2V0UGl4ZWxPcmlnaW4oKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBwcm9qZWN0ZWQgcGl4ZWwgY29vcmRpbmF0ZXMgb2YgdGhlIHRvcCBsZWZ0IHBvaW50IG9mXHJcblx0Ly8gdGhlIG1hcCBsYXllciAodXNlZnVsIGluIGN1c3RvbSBsYXllciBhbmQgb3ZlcmxheSBpbXBsZW1lbnRhdGlvbnMpLlxyXG5cdGdldFBpeGVsT3JpZ2luOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLl9jaGVja0lmTG9hZGVkKCk7XHJcblx0XHRyZXR1cm4gdGhpcy5fcGl4ZWxPcmlnaW47XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRQaXhlbFdvcmxkQm91bmRzKHpvb20/OiBOdW1iZXIpOiBCb3VuZHNcclxuXHQvLyBSZXR1cm5zIHRoZSB3b3JsZCdzIGJvdW5kcyBpbiBwaXhlbCBjb29yZGluYXRlcyBmb3Igem9vbSBsZXZlbCBgem9vbWAuXHJcblx0Ly8gSWYgYHpvb21gIGlzIG9taXR0ZWQsIHRoZSBtYXAncyBjdXJyZW50IHpvb20gbGV2ZWwgaXMgdXNlZC5cclxuXHRnZXRQaXhlbFdvcmxkQm91bmRzOiBmdW5jdGlvbiAoem9vbSkge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMuZ2V0UHJvamVjdGVkQm91bmRzKHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuZ2V0Wm9vbSgpIDogem9vbSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQHNlY3Rpb24gT3RoZXIgTWV0aG9kc1xyXG5cclxuXHQvLyBAbWV0aG9kIGdldFBhbmUocGFuZTogU3RyaW5nfEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuXHQvLyBSZXR1cm5zIGEgW21hcCBwYW5lXSgjbWFwLXBhbmUpLCBnaXZlbiBpdHMgbmFtZSBvciBpdHMgSFRNTCBlbGVtZW50IChpdHMgaWRlbnRpdHkpLlxyXG5cdGdldFBhbmU6IGZ1bmN0aW9uIChwYW5lKSB7XHJcblx0XHRyZXR1cm4gdHlwZW9mIHBhbmUgPT09ICdzdHJpbmcnID8gdGhpcy5fcGFuZXNbcGFuZV0gOiBwYW5lO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0UGFuZXMoKTogT2JqZWN0XHJcblx0Ly8gUmV0dXJucyBhIHBsYWluIG9iamVjdCBjb250YWluaW5nIHRoZSBuYW1lcyBvZiBhbGwgW3BhbmVzXSgjbWFwLXBhbmUpIGFzIGtleXMgYW5kXHJcblx0Ly8gdGhlIHBhbmVzIGFzIHZhbHVlcy5cclxuXHRnZXRQYW5lczogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3BhbmVzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Q29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cdC8vIFJldHVybnMgdGhlIEhUTUwgZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBtYXAuXHJcblx0Z2V0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY29udGFpbmVyO1xyXG5cdH0sXHJcblxyXG5cclxuXHQvLyBAc2VjdGlvbiBDb252ZXJzaW9uIE1ldGhvZHNcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRab29tU2NhbGUodG9ab29tOiBOdW1iZXIsIGZyb21ab29tOiBOdW1iZXIpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBzY2FsZSBmYWN0b3IgdG8gYmUgYXBwbGllZCB0byBhIG1hcCB0cmFuc2l0aW9uIGZyb20gem9vbSBsZXZlbFxyXG5cdC8vIGBmcm9tWm9vbWAgdG8gYHRvWm9vbWAuIFVzZWQgaW50ZXJuYWxseSB0byBoZWxwIHdpdGggem9vbSBhbmltYXRpb25zLlxyXG5cdGdldFpvb21TY2FsZTogZnVuY3Rpb24gKHRvWm9vbSwgZnJvbVpvb20pIHtcclxuXHRcdC8vIFRPRE8gcmVwbGFjZSB3aXRoIHVuaXZlcnNhbCBpbXBsZW1lbnRhdGlvbiBhZnRlciByZWZhY3RvcmluZyBwcm9qZWN0aW9uc1xyXG5cdFx0dmFyIGNycyA9IHRoaXMub3B0aW9ucy5jcnM7XHJcblx0XHRmcm9tWm9vbSA9IGZyb21ab29tID09PSB1bmRlZmluZWQgPyB0aGlzLl96b29tIDogZnJvbVpvb207XHJcblx0XHRyZXR1cm4gY3JzLnNjYWxlKHRvWm9vbSkgLyBjcnMuc2NhbGUoZnJvbVpvb20pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0U2NhbGVab29tKHNjYWxlOiBOdW1iZXIsIGZyb21ab29tOiBOdW1iZXIpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSB6b29tIGxldmVsIHRoYXQgdGhlIG1hcCB3b3VsZCBlbmQgdXAgYXQsIGlmIGl0IGlzIGF0IGBmcm9tWm9vbWBcclxuXHQvLyBsZXZlbCBhbmQgZXZlcnl0aGluZyBpcyBzY2FsZWQgYnkgYSBmYWN0b3Igb2YgYHNjYWxlYC4gSW52ZXJzZSBvZlxyXG5cdC8vIFtgZ2V0Wm9vbVNjYWxlYF0oI21hcC1nZXRab29tU2NhbGUpLlxyXG5cdGdldFNjYWxlWm9vbTogZnVuY3Rpb24gKHNjYWxlLCBmcm9tWm9vbSkge1xyXG5cdFx0dmFyIGNycyA9IHRoaXMub3B0aW9ucy5jcnM7XHJcblx0XHRmcm9tWm9vbSA9IGZyb21ab29tID09PSB1bmRlZmluZWQgPyB0aGlzLl96b29tIDogZnJvbVpvb207XHJcblx0XHR2YXIgem9vbSA9IGNycy56b29tKHNjYWxlICogY3JzLnNjYWxlKGZyb21ab29tKSk7XHJcblx0XHRyZXR1cm4gaXNOYU4oem9vbSkgPyBJbmZpbml0eSA6IHpvb207XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBwcm9qZWN0KGxhdGxuZzogTGF0TG5nLCB6b29tOiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFByb2plY3RzIGEgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUgYExhdExuZ2AgYWNjb3JkaW5nIHRvIHRoZSBwcm9qZWN0aW9uXHJcblx0Ly8gb2YgdGhlIG1hcCdzIENSUywgdGhlbiBzY2FsZXMgaXQgYWNjb3JkaW5nIHRvIGB6b29tYCBhbmQgdGhlIENSUydzXHJcblx0Ly8gYFRyYW5zZm9ybWF0aW9uYC4gVGhlIHJlc3VsdCBpcyBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvXHJcblx0Ly8gdGhlIENSUyBvcmlnaW4uXHJcblx0cHJvamVjdDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSkge1xyXG5cdFx0em9vbSA9IHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuX3pvb20gOiB6b29tO1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMubGF0TG5nVG9Qb2ludCh0b0xhdExuZyhsYXRsbmcpLCB6b29tKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHVucHJvamVjdChwb2ludDogUG9pbnQsIHpvb206IE51bWJlcik6IExhdExuZ1xyXG5cdC8vIEludmVyc2Ugb2YgW2Bwcm9qZWN0YF0oI21hcC1wcm9qZWN0KS5cclxuXHR1bnByb2plY3Q6IGZ1bmN0aW9uIChwb2ludCwgem9vbSkge1xyXG5cdFx0em9vbSA9IHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuX3pvb20gOiB6b29tO1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMucG9pbnRUb0xhdExuZyh0b1BvaW50KHBvaW50KSwgem9vbSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBsYXllclBvaW50VG9MYXRMbmcocG9pbnQ6IFBvaW50KTogTGF0TG5nXHJcblx0Ly8gR2l2ZW4gYSBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvIHRoZSBbb3JpZ2luIHBpeGVsXSgjbWFwLWdldHBpeGVsb3JpZ2luKSxcclxuXHQvLyByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlIChmb3IgdGhlIGN1cnJlbnQgem9vbSBsZXZlbCkuXHJcblx0bGF5ZXJQb2ludFRvTGF0TG5nOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHZhciBwcm9qZWN0ZWRQb2ludCA9IHRvUG9pbnQocG9pbnQpLmFkZCh0aGlzLmdldFBpeGVsT3JpZ2luKCkpO1xyXG5cdFx0cmV0dXJuIHRoaXMudW5wcm9qZWN0KHByb2plY3RlZFBvaW50KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmc6IExhdExuZyk6IFBvaW50XHJcblx0Ly8gR2l2ZW4gYSBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZSwgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbCBjb29yZGluYXRlXHJcblx0Ly8gcmVsYXRpdmUgdG8gdGhlIFtvcmlnaW4gcGl4ZWxdKCNtYXAtZ2V0cGl4ZWxvcmlnaW4pLlxyXG5cdGxhdExuZ1RvTGF5ZXJQb2ludDogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0dmFyIHByb2plY3RlZFBvaW50ID0gdGhpcy5wcm9qZWN0KHRvTGF0TG5nKGxhdGxuZykpLl9yb3VuZCgpO1xyXG5cdFx0cmV0dXJuIHByb2plY3RlZFBvaW50Ll9zdWJ0cmFjdCh0aGlzLmdldFBpeGVsT3JpZ2luKCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgd3JhcExhdExuZyhsYXRsbmc6IExhdExuZyk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgYSBgTGF0TG5nYCB3aGVyZSBgbGF0YCBhbmQgYGxuZ2AgaGFzIGJlZW4gd3JhcHBlZCBhY2NvcmRpbmcgdG8gdGhlXHJcblx0Ly8gbWFwJ3MgQ1JTJ3MgYHdyYXBMYXRgIGFuZCBgd3JhcExuZ2AgcHJvcGVydGllcywgaWYgdGhleSBhcmUgb3V0c2lkZSB0aGVcclxuXHQvLyBDUlMncyBib3VuZHMuXHJcblx0Ly8gQnkgZGVmYXVsdCB0aGlzIG1lYW5zIGxvbmdpdHVkZSBpcyB3cmFwcGVkIGFyb3VuZCB0aGUgZGF0ZWxpbmUgc28gaXRzXHJcblx0Ly8gdmFsdWUgaXMgYmV0d2VlbiAtMTgwIGFuZCArMTgwIGRlZ3JlZXMuXHJcblx0d3JhcExhdExuZzogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMud3JhcExhdExuZyh0b0xhdExuZyhsYXRsbmcpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHdyYXBMYXRMbmdCb3VuZHMoYm91bmRzOiBMYXRMbmdCb3VuZHMpOiBMYXRMbmdCb3VuZHNcclxuXHQvLyBSZXR1cm5zIGEgYExhdExuZ0JvdW5kc2Agd2l0aCB0aGUgc2FtZSBzaXplIGFzIHRoZSBnaXZlbiBvbmUsIGVuc3VyaW5nIHRoYXRcclxuXHQvLyBpdHMgY2VudGVyIGlzIHdpdGhpbiB0aGUgQ1JTJ3MgYm91bmRzLlxyXG5cdC8vIEJ5IGRlZmF1bHQgdGhpcyBtZWFucyB0aGUgY2VudGVyIGxvbmdpdHVkZSBpcyB3cmFwcGVkIGFyb3VuZCB0aGUgZGF0ZWxpbmUgc28gaXRzXHJcblx0Ly8gdmFsdWUgaXMgYmV0d2VlbiAtMTgwIGFuZCArMTgwIGRlZ3JlZXMsIGFuZCB0aGUgbWFqb3JpdHkgb2YgdGhlIGJvdW5kc1xyXG5cdC8vIG92ZXJsYXBzIHRoZSBDUlMncyBib3VuZHMuXHJcblx0d3JhcExhdExuZ0JvdW5kczogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMud3JhcExhdExuZ0JvdW5kcyh0b0xhdExuZ0JvdW5kcyhsYXRsbmcpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc3RhbmNlKGxhdGxuZzE6IExhdExuZywgbGF0bG5nMjogTGF0TG5nKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIGFjY29yZGluZyB0b1xyXG5cdC8vIHRoZSBtYXAncyBDUlMuIEJ5IGRlZmF1bHQgdGhpcyBtZWFzdXJlcyBkaXN0YW5jZSBpbiBtZXRlcnMuXHJcblx0ZGlzdGFuY2U6IGZ1bmN0aW9uIChsYXRsbmcxLCBsYXRsbmcyKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmNycy5kaXN0YW5jZSh0b0xhdExuZyhsYXRsbmcxKSwgdG9MYXRMbmcobGF0bG5nMikpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQocG9pbnQ6IFBvaW50KTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIHBpeGVsIGNvb3JkaW5hdGUgcmVsYXRpdmUgdG8gdGhlIG1hcCBjb250YWluZXIsIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmdcclxuXHQvLyBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvIHRoZSBbb3JpZ2luIHBpeGVsXSgjbWFwLWdldHBpeGVsb3JpZ2luKS5cclxuXHRjb250YWluZXJQb2ludFRvTGF5ZXJQb2ludDogZnVuY3Rpb24gKHBvaW50KSB7IC8vIChQb2ludClcclxuXHRcdHJldHVybiB0b1BvaW50KHBvaW50KS5zdWJ0cmFjdCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgbGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQocG9pbnQ6IFBvaW50KTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIHBpeGVsIGNvb3JkaW5hdGUgcmVsYXRpdmUgdG8gdGhlIFtvcmlnaW4gcGl4ZWxdKCNtYXAtZ2V0cGl4ZWxvcmlnaW4pLFxyXG5cdC8vIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcGl4ZWwgY29vcmRpbmF0ZSByZWxhdGl2ZSB0byB0aGUgbWFwIGNvbnRhaW5lci5cclxuXHRsYXllclBvaW50VG9Db250YWluZXJQb2ludDogZnVuY3Rpb24gKHBvaW50KSB7IC8vIChQb2ludClcclxuXHRcdHJldHVybiB0b1BvaW50KHBvaW50KS5hZGQodGhpcy5fZ2V0TWFwUGFuZVBvcygpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNvbnRhaW5lclBvaW50VG9MYXRMbmcocG9pbnQ6IFBvaW50KTogTGF0TG5nXHJcblx0Ly8gR2l2ZW4gYSBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvIHRoZSBtYXAgY29udGFpbmVyLCByZXR1cm5zXHJcblx0Ly8gdGhlIGNvcnJlc3BvbmRpbmcgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUgKGZvciB0aGUgY3VycmVudCB6b29tIGxldmVsKS5cclxuXHRjb250YWluZXJQb2ludFRvTGF0TG5nOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHZhciBsYXllclBvaW50ID0gdGhpcy5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludCh0b1BvaW50KHBvaW50KSk7XHJcblx0XHRyZXR1cm4gdGhpcy5sYXllclBvaW50VG9MYXRMbmcobGF5ZXJQb2ludCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBsYXRMbmdUb0NvbnRhaW5lclBvaW50KGxhdGxuZzogTGF0TG5nKTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlLCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHBpeGVsIGNvb3JkaW5hdGVcclxuXHQvLyByZWxhdGl2ZSB0byB0aGUgbWFwIGNvbnRhaW5lci5cclxuXHRsYXRMbmdUb0NvbnRhaW5lclBvaW50OiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5sYXllclBvaW50VG9Db250YWluZXJQb2ludCh0aGlzLmxhdExuZ1RvTGF5ZXJQb2ludCh0b0xhdExuZyhsYXRsbmcpKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBtb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChldjogTW91c2VFdmVudCk6IFBvaW50XHJcblx0Ly8gR2l2ZW4gYSBNb3VzZUV2ZW50IG9iamVjdCwgcmV0dXJucyB0aGUgcGl4ZWwgY29vcmRpbmF0ZSByZWxhdGl2ZSB0byB0aGVcclxuXHQvLyBtYXAgY29udGFpbmVyIHdoZXJlIHRoZSBldmVudCB0b29rIHBsYWNlLlxyXG5cdG1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50OiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0cmV0dXJuIERvbUV2ZW50LmdldE1vdXNlUG9zaXRpb24oZSwgdGhpcy5fY29udGFpbmVyKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG1vdXNlRXZlbnRUb0xheWVyUG9pbnQoZXY6IE1vdXNlRXZlbnQpOiBQb2ludFxyXG5cdC8vIEdpdmVuIGEgTW91c2VFdmVudCBvYmplY3QsIHJldHVybnMgdGhlIHBpeGVsIGNvb3JkaW5hdGUgcmVsYXRpdmUgdG9cclxuXHQvLyB0aGUgW29yaWdpbiBwaXhlbF0oI21hcC1nZXRwaXhlbG9yaWdpbikgd2hlcmUgdGhlIGV2ZW50IHRvb2sgcGxhY2UuXHJcblx0bW91c2VFdmVudFRvTGF5ZXJQb2ludDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdHJldHVybiB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KHRoaXMubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZSkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgbW91c2VFdmVudFRvTGF0TG5nKGV2OiBNb3VzZUV2ZW50KTogTGF0TG5nXHJcblx0Ly8gR2l2ZW4gYSBNb3VzZUV2ZW50IG9iamVjdCwgcmV0dXJucyBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZSB3aGVyZSB0aGVcclxuXHQvLyBldmVudCB0b29rIHBsYWNlLlxyXG5cdG1vdXNlRXZlbnRUb0xhdExuZzogZnVuY3Rpb24gKGUpIHsgLy8gKE1vdXNlRXZlbnQpXHJcblx0XHRyZXR1cm4gdGhpcy5sYXllclBvaW50VG9MYXRMbmcodGhpcy5tb3VzZUV2ZW50VG9MYXllclBvaW50KGUpKTtcclxuXHR9LFxyXG5cclxuXHJcblx0Ly8gbWFwIGluaXRpYWxpemF0aW9uIG1ldGhvZHNcclxuXHJcblx0X2luaXRDb250YWluZXI6IGZ1bmN0aW9uIChpZCkge1xyXG5cdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IERvbVV0aWwuZ2V0KGlkKTtcclxuXHJcblx0XHRpZiAoIWNvbnRhaW5lcikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ01hcCBjb250YWluZXIgbm90IGZvdW5kLicpO1xyXG5cdFx0fSBlbHNlIGlmIChjb250YWluZXIuX2xlYWZsZXRfaWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdNYXAgY29udGFpbmVyIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0RG9tRXZlbnQub24oY29udGFpbmVyLCAnc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwsIHRoaXMpO1xyXG5cdFx0dGhpcy5fY29udGFpbmVySWQgPSBVdGlsLnN0YW1wKGNvbnRhaW5lcik7XHJcblx0fSxcclxuXHJcblx0X2luaXRMYXlvdXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XHJcblxyXG5cdFx0dGhpcy5fZmFkZUFuaW1hdGVkID0gdGhpcy5vcHRpb25zLmZhZGVBbmltYXRpb24gJiYgQnJvd3Nlci5hbnkzZDtcclxuXHJcblx0XHREb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtY29udGFpbmVyJyArXHJcblx0XHRcdChCcm93c2VyLnRvdWNoID8gJyBsZWFmbGV0LXRvdWNoJyA6ICcnKSArXHJcblx0XHRcdChCcm93c2VyLnJldGluYSA/ICcgbGVhZmxldC1yZXRpbmEnIDogJycpICtcclxuXHRcdFx0KEJyb3dzZXIuaWVsdDkgPyAnIGxlYWZsZXQtb2xkaWUnIDogJycpICtcclxuXHRcdFx0KEJyb3dzZXIuc2FmYXJpID8gJyBsZWFmbGV0LXNhZmFyaScgOiAnJykgK1xyXG5cdFx0XHQodGhpcy5fZmFkZUFuaW1hdGVkID8gJyBsZWFmbGV0LWZhZGUtYW5pbScgOiAnJykpO1xyXG5cclxuXHRcdHZhciBwb3NpdGlvbiA9IERvbVV0aWwuZ2V0U3R5bGUoY29udGFpbmVyLCAncG9zaXRpb24nKTtcclxuXHJcblx0XHRpZiAocG9zaXRpb24gIT09ICdhYnNvbHV0ZScgJiYgcG9zaXRpb24gIT09ICdyZWxhdGl2ZScgJiYgcG9zaXRpb24gIT09ICdmaXhlZCcgJiYgcG9zaXRpb24gIT09ICdzdGlja3knKSB7XHJcblx0XHRcdGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5faW5pdFBhbmVzKCk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2luaXRDb250cm9sUG9zKSB7XHJcblx0XHRcdHRoaXMuX2luaXRDb250cm9sUG9zKCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2luaXRQYW5lczogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHBhbmVzID0gdGhpcy5fcGFuZXMgPSB7fTtcclxuXHRcdHRoaXMuX3BhbmVSZW5kZXJlcnMgPSB7fTtcclxuXHJcblx0XHQvLyBAc2VjdGlvblxyXG5cdFx0Ly9cclxuXHRcdC8vIFBhbmVzIGFyZSBET00gZWxlbWVudHMgdXNlZCB0byBjb250cm9sIHRoZSBvcmRlcmluZyBvZiBsYXllcnMgb24gdGhlIG1hcC4gWW91XHJcblx0XHQvLyBjYW4gYWNjZXNzIHBhbmVzIHdpdGggW2BtYXAuZ2V0UGFuZWBdKCNtYXAtZ2V0cGFuZSkgb3JcclxuXHRcdC8vIFtgbWFwLmdldFBhbmVzYF0oI21hcC1nZXRwYW5lcykgbWV0aG9kcy4gTmV3IHBhbmVzIGNhbiBiZSBjcmVhdGVkIHdpdGggdGhlXHJcblx0XHQvLyBbYG1hcC5jcmVhdGVQYW5lYF0oI21hcC1jcmVhdGVwYW5lKSBtZXRob2QuXHJcblx0XHQvL1xyXG5cdFx0Ly8gRXZlcnkgbWFwIGhhcyB0aGUgZm9sbG93aW5nIGRlZmF1bHQgcGFuZXMgdGhhdCBkaWZmZXIgb25seSBpbiB6SW5kZXguXHJcblx0XHQvL1xyXG5cdFx0Ly8gQHBhbmUgbWFwUGFuZTogSFRNTEVsZW1lbnQgPSAnYXV0bydcclxuXHRcdC8vIFBhbmUgdGhhdCBjb250YWlucyBhbGwgb3RoZXIgbWFwIHBhbmVzXHJcblxyXG5cdFx0dGhpcy5fbWFwUGFuZSA9IHRoaXMuY3JlYXRlUGFuZSgnbWFwUGFuZScsIHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUsIG5ldyBQb2ludCgwLCAwKSk7XHJcblxyXG5cdFx0Ly8gQHBhbmUgdGlsZVBhbmU6IEhUTUxFbGVtZW50ID0gMjAwXHJcblx0XHQvLyBQYW5lIGZvciBgR3JpZExheWVyYHMgYW5kIGBUaWxlTGF5ZXJgc1xyXG5cdFx0dGhpcy5jcmVhdGVQYW5lKCd0aWxlUGFuZScpO1xyXG5cdFx0Ly8gQHBhbmUgb3ZlcmxheVBhbmU6IEhUTUxFbGVtZW50ID0gNDAwXHJcblx0XHQvLyBQYW5lIGZvciB2ZWN0b3JzIChgUGF0aGBzLCBsaWtlIGBQb2x5bGluZWBzIGFuZCBgUG9seWdvbmBzKSwgYEltYWdlT3ZlcmxheWBzIGFuZCBgVmlkZW9PdmVybGF5YHNcclxuXHRcdHRoaXMuY3JlYXRlUGFuZSgnb3ZlcmxheVBhbmUnKTtcclxuXHRcdC8vIEBwYW5lIHNoYWRvd1BhbmU6IEhUTUxFbGVtZW50ID0gNTAwXHJcblx0XHQvLyBQYW5lIGZvciBvdmVybGF5IHNoYWRvd3MgKGUuZy4gYE1hcmtlcmAgc2hhZG93cylcclxuXHRcdHRoaXMuY3JlYXRlUGFuZSgnc2hhZG93UGFuZScpO1xyXG5cdFx0Ly8gQHBhbmUgbWFya2VyUGFuZTogSFRNTEVsZW1lbnQgPSA2MDBcclxuXHRcdC8vIFBhbmUgZm9yIGBJY29uYHMgb2YgYE1hcmtlcmBzXHJcblx0XHR0aGlzLmNyZWF0ZVBhbmUoJ21hcmtlclBhbmUnKTtcclxuXHRcdC8vIEBwYW5lIHRvb2x0aXBQYW5lOiBIVE1MRWxlbWVudCA9IDY1MFxyXG5cdFx0Ly8gUGFuZSBmb3IgYFRvb2x0aXBgcy5cclxuXHRcdHRoaXMuY3JlYXRlUGFuZSgndG9vbHRpcFBhbmUnKTtcclxuXHRcdC8vIEBwYW5lIHBvcHVwUGFuZTogSFRNTEVsZW1lbnQgPSA3MDBcclxuXHRcdC8vIFBhbmUgZm9yIGBQb3B1cGBzLlxyXG5cdFx0dGhpcy5jcmVhdGVQYW5lKCdwb3B1cFBhbmUnKTtcclxuXHJcblx0XHRpZiAoIXRoaXMub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9uKSB7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3MocGFuZXMubWFya2VyUGFuZSwgJ2xlYWZsZXQtem9vbS1oaWRlJyk7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3MocGFuZXMuc2hhZG93UGFuZSwgJ2xlYWZsZXQtem9vbS1oaWRlJyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblxyXG5cdC8vIHByaXZhdGUgbWV0aG9kcyB0aGF0IG1vZGlmeSBtYXAgc3RhdGVcclxuXHJcblx0Ly8gQHNlY3Rpb24gTWFwIHN0YXRlIGNoYW5nZSBldmVudHNcclxuXHRfcmVzZXRWaWV3OiBmdW5jdGlvbiAoY2VudGVyLCB6b29tLCBub01vdmVTdGFydCkge1xyXG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lLCBuZXcgUG9pbnQoMCwgMCkpO1xyXG5cclxuXHRcdHZhciBsb2FkaW5nID0gIXRoaXMuX2xvYWRlZDtcclxuXHRcdHRoaXMuX2xvYWRlZCA9IHRydWU7XHJcblx0XHR6b29tID0gdGhpcy5fbGltaXRab29tKHpvb20pO1xyXG5cclxuXHRcdHRoaXMuZmlyZSgndmlld3ByZXJlc2V0Jyk7XHJcblxyXG5cdFx0dmFyIHpvb21DaGFuZ2VkID0gdGhpcy5fem9vbSAhPT0gem9vbTtcclxuXHRcdHRoaXNcclxuXHRcdFx0Ll9tb3ZlU3RhcnQoem9vbUNoYW5nZWQsIG5vTW92ZVN0YXJ0KVxyXG5cdFx0XHQuX21vdmUoY2VudGVyLCB6b29tKVxyXG5cdFx0XHQuX21vdmVFbmQoem9vbUNoYW5nZWQpO1xyXG5cclxuXHRcdC8vIEBldmVudCB2aWV3cmVzZXQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgbmVlZHMgdG8gcmVkcmF3IGl0cyBjb250ZW50ICh0aGlzIHVzdWFsbHkgaGFwcGVuc1xyXG5cdFx0Ly8gb24gbWFwIHpvb20gb3IgbG9hZCkuIFZlcnkgdXNlZnVsIGZvciBjcmVhdGluZyBjdXN0b20gb3ZlcmxheXMuXHJcblx0XHR0aGlzLmZpcmUoJ3ZpZXdyZXNldCcpO1xyXG5cclxuXHRcdC8vIEBldmVudCBsb2FkOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFwIGlzIGluaXRpYWxpemVkICh3aGVuIGl0cyBjZW50ZXIgYW5kIHpvb20gYXJlIHNldFxyXG5cdFx0Ly8gZm9yIHRoZSBmaXJzdCB0aW1lKS5cclxuXHRcdGlmIChsb2FkaW5nKSB7XHJcblx0XHRcdHRoaXMuZmlyZSgnbG9hZCcpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9tb3ZlU3RhcnQ6IGZ1bmN0aW9uICh6b29tQ2hhbmdlZCwgbm9Nb3ZlU3RhcnQpIHtcclxuXHRcdC8vIEBldmVudCB6b29tc3RhcnQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgem9vbSBpcyBhYm91dCB0byBjaGFuZ2UgKGUuZy4gYmVmb3JlIHpvb20gYW5pbWF0aW9uKS5cclxuXHRcdC8vIEBldmVudCBtb3Zlc3RhcnQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB2aWV3IG9mIHRoZSBtYXAgc3RhcnRzIGNoYW5naW5nIChlLmcuIHVzZXIgc3RhcnRzIGRyYWdnaW5nIHRoZSBtYXApLlxyXG5cdFx0aWYgKHpvb21DaGFuZ2VkKSB7XHJcblx0XHRcdHRoaXMuZmlyZSgnem9vbXN0YXJ0Jyk7XHJcblx0XHR9XHJcblx0XHRpZiAoIW5vTW92ZVN0YXJ0KSB7XHJcblx0XHRcdHRoaXMuZmlyZSgnbW92ZXN0YXJ0Jyk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfbW92ZTogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgZGF0YSwgc3VwcmVzc0V2ZW50KSB7XHJcblx0XHRpZiAoem9vbSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHpvb20gPSB0aGlzLl96b29tO1xyXG5cdFx0fVxyXG5cdFx0dmFyIHpvb21DaGFuZ2VkID0gdGhpcy5fem9vbSAhPT0gem9vbTtcclxuXHJcblx0XHR0aGlzLl96b29tID0gem9vbTtcclxuXHRcdHRoaXMuX2xhc3RDZW50ZXIgPSBjZW50ZXI7XHJcblx0XHR0aGlzLl9waXhlbE9yaWdpbiA9IHRoaXMuX2dldE5ld1BpeGVsT3JpZ2luKGNlbnRlcik7XHJcblxyXG5cdFx0aWYgKCFzdXByZXNzRXZlbnQpIHtcclxuXHRcdFx0Ly8gQGV2ZW50IHpvb206IEV2ZW50XHJcblx0XHRcdC8vIEZpcmVkIHJlcGVhdGVkbHkgZHVyaW5nIGFueSBjaGFuZ2UgaW4gem9vbSBsZXZlbCxcclxuXHRcdFx0Ly8gaW5jbHVkaW5nIHpvb20gYW5kIGZseSBhbmltYXRpb25zLlxyXG5cdFx0XHRpZiAoem9vbUNoYW5nZWQgfHwgKGRhdGEgJiYgZGF0YS5waW5jaCkpIHtcdC8vIEFsd2F5cyBmaXJlICd6b29tJyBpZiBwaW5jaGluZyBiZWNhdXNlICMzNTMwXHJcblx0XHRcdFx0dGhpcy5maXJlKCd6b29tJywgZGF0YSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEBldmVudCBtb3ZlOiBFdmVudFxyXG5cdFx0XHQvLyBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhbnkgbW92ZW1lbnQgb2YgdGhlIG1hcCxcclxuXHRcdFx0Ly8gaW5jbHVkaW5nIHBhbiBhbmQgZmx5IGFuaW1hdGlvbnMuXHJcblx0XHRcdHRoaXMuZmlyZSgnbW92ZScsIGRhdGEpO1xyXG5cdFx0fSBlbHNlIGlmIChkYXRhICYmIGRhdGEucGluY2gpIHtcdC8vIEFsd2F5cyBmaXJlICd6b29tJyBpZiBwaW5jaGluZyBiZWNhdXNlICMzNTMwXHJcblx0XHRcdHRoaXMuZmlyZSgnem9vbScsIGRhdGEpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X21vdmVFbmQ6IGZ1bmN0aW9uICh6b29tQ2hhbmdlZCkge1xyXG5cdFx0Ly8gQGV2ZW50IHpvb21lbmQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgem9vbSBjaGFuZ2VkLCBhZnRlciBhbnkgYW5pbWF0aW9ucy5cclxuXHRcdGlmICh6b29tQ2hhbmdlZCkge1xyXG5cdFx0XHR0aGlzLmZpcmUoJ3pvb21lbmQnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBAZXZlbnQgbW92ZWVuZDogRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIGNlbnRlciBvZiB0aGUgbWFwIHN0b3BzIGNoYW5naW5nXHJcblx0XHQvLyAoZS5nLiB1c2VyIHN0b3BwZWQgZHJhZ2dpbmcgdGhlIG1hcCBvciBhZnRlciBub24tY2VudGVyZWQgem9vbSkuXHJcblx0XHRyZXR1cm4gdGhpcy5maXJlKCdtb3ZlZW5kJyk7XHJcblx0fSxcclxuXHJcblx0X3N0b3A6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2ZseVRvRnJhbWUpO1xyXG5cdFx0aWYgKHRoaXMuX3BhbkFuaW0pIHtcclxuXHRcdFx0dGhpcy5fcGFuQW5pbS5zdG9wKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfcmF3UGFuQnk6IGZ1bmN0aW9uIChvZmZzZXQpIHtcclxuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSwgdGhpcy5fZ2V0TWFwUGFuZVBvcygpLnN1YnRyYWN0KG9mZnNldCkpO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRab29tU3BhbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0TWF4Wm9vbSgpIC0gdGhpcy5nZXRNaW5ab29tKCk7XHJcblx0fSxcclxuXHJcblx0X3Bhbkluc2lkZU1heEJvdW5kczogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9lbmZvcmNpbmdCb3VuZHMpIHtcclxuXHRcdFx0dGhpcy5wYW5JbnNpZGVCb3VuZHModGhpcy5vcHRpb25zLm1heEJvdW5kcyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2NoZWNrSWZMb2FkZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fbG9hZGVkKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignU2V0IG1hcCBjZW50ZXIgYW5kIHpvb20gZmlyc3QuJyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gRE9NIGV2ZW50IGhhbmRsaW5nXHJcblxyXG5cdC8vIEBzZWN0aW9uIEludGVyYWN0aW9uIGV2ZW50c1xyXG5cdF9pbml0RXZlbnRzOiBmdW5jdGlvbiAocmVtb3ZlKSB7XHJcblx0XHR0aGlzLl90YXJnZXRzID0ge307XHJcblx0XHR0aGlzLl90YXJnZXRzW1V0aWwuc3RhbXAodGhpcy5fY29udGFpbmVyKV0gPSB0aGlzO1xyXG5cclxuXHRcdHZhciBvbk9mZiA9IHJlbW92ZSA/IERvbUV2ZW50Lm9mZiA6IERvbUV2ZW50Lm9uO1xyXG5cclxuXHRcdC8vIEBldmVudCBjbGljazogTW91c2VFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgKG9yIHRhcHMpIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgZGJsY2xpY2s6IE1vdXNlRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHVzZXIgZG91YmxlLWNsaWNrcyAob3IgZG91YmxlLXRhcHMpIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgbW91c2Vkb3duOiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHB1c2hlcyB0aGUgbW91c2UgYnV0dG9uIG9uIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgbW91c2V1cDogTW91c2VFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciByZWxlYXNlcyB0aGUgbW91c2UgYnV0dG9uIG9uIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgbW91c2VvdmVyOiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtb3VzZSBlbnRlcnMgdGhlIG1hcC5cclxuXHRcdC8vIEBldmVudCBtb3VzZW91dDogTW91c2VFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbW91c2UgbGVhdmVzIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgbW91c2Vtb3ZlOiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGlsZSB0aGUgbW91c2UgbW92ZXMgb3ZlciB0aGUgbWFwLlxyXG5cdFx0Ly8gQGV2ZW50IGNvbnRleHRtZW51OiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHB1c2hlcyB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIG9uIHRoZSBtYXAsIHByZXZlbnRzXHJcblx0XHQvLyBkZWZhdWx0IGJyb3dzZXIgY29udGV4dCBtZW51IGZyb20gc2hvd2luZyBpZiB0aGVyZSBhcmUgbGlzdGVuZXJzIG9uXHJcblx0XHQvLyB0aGlzIGV2ZW50LiBBbHNvIGZpcmVkIG9uIG1vYmlsZSB3aGVuIHRoZSB1c2VyIGhvbGRzIGEgc2luZ2xlIHRvdWNoXHJcblx0XHQvLyBmb3IgYSBzZWNvbmQgKGFsc28gY2FsbGVkIGxvbmcgcHJlc3MpLlxyXG5cdFx0Ly8gQGV2ZW50IGtleXByZXNzOiBLZXlib2FyZEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgYSBrZXkgZnJvbSB0aGUga2V5Ym9hcmQgdGhhdCBwcm9kdWNlcyBhIGNoYXJhY3RlciB2YWx1ZSB3aGlsZSB0aGUgbWFwIGlzIGZvY3VzZWQuXHJcblx0XHQvLyBAZXZlbnQga2V5ZG93bjogS2V5Ym9hcmRFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIGEga2V5IGZyb20gdGhlIGtleWJvYXJkIHdoaWxlIHRoZSBtYXAgaXMgZm9jdXNlZC4gVW5saWtlIHRoZSBga2V5cHJlc3NgIGV2ZW50LFxyXG5cdFx0Ly8gdGhlIGBrZXlkb3duYCBldmVudCBpcyBmaXJlZCBmb3Iga2V5cyB0aGF0IHByb2R1Y2UgYSBjaGFyYWN0ZXIgdmFsdWUgYW5kIGZvciBrZXlzXHJcblx0XHQvLyB0aGF0IGRvIG5vdCBwcm9kdWNlIGEgY2hhcmFjdGVyIHZhbHVlLlxyXG5cdFx0Ly8gQGV2ZW50IGtleXVwOiBLZXlib2FyZEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHJlbGVhc2VzIGEga2V5IGZyb20gdGhlIGtleWJvYXJkIHdoaWxlIHRoZSBtYXAgaXMgZm9jdXNlZC5cclxuXHRcdG9uT2ZmKHRoaXMuX2NvbnRhaW5lciwgJ2NsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwICcgK1xyXG5cdFx0XHQnbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBjb250ZXh0bWVudSBrZXlwcmVzcyBrZXlkb3duIGtleXVwJywgdGhpcy5faGFuZGxlRE9NRXZlbnQsIHRoaXMpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMudHJhY2tSZXNpemUpIHtcclxuXHRcdFx0b25PZmYod2luZG93LCAncmVzaXplJywgdGhpcy5fb25SZXNpemUsIHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChCcm93c2VyLmFueTNkICYmIHRoaXMub3B0aW9ucy50cmFuc2Zvcm0zRExpbWl0KSB7XHJcblx0XHRcdChyZW1vdmUgPyB0aGlzLm9mZiA6IHRoaXMub24pLmNhbGwodGhpcywgJ21vdmVlbmQnLCB0aGlzLl9vbk1vdmVFbmQpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9vblJlc2l6ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0VXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fcmVzaXplUmVxdWVzdCk7XHJcblx0XHR0aGlzLl9yZXNpemVSZXF1ZXN0ID0gVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKFxyXG5cdFx0ICAgICAgICBmdW5jdGlvbiAoKSB7IHRoaXMuaW52YWxpZGF0ZVNpemUoe2RlYm91bmNlTW92ZWVuZDogdHJ1ZX0pOyB9LCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHRfb25TY3JvbGw6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zY3JvbGxUb3AgID0gMDtcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zY3JvbGxMZWZ0ID0gMDtcclxuXHR9LFxyXG5cclxuXHRfb25Nb3ZlRW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgcG9zID0gdGhpcy5fZ2V0TWFwUGFuZVBvcygpO1xyXG5cdFx0aWYgKE1hdGgubWF4KE1hdGguYWJzKHBvcy54KSwgTWF0aC5hYnMocG9zLnkpKSA+PSB0aGlzLm9wdGlvbnMudHJhbnNmb3JtM0RMaW1pdCkge1xyXG5cdFx0XHQvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjAzODczIGJ1dCBXZWJraXQgYWxzbyBoYXZlXHJcblx0XHRcdC8vIGEgcGl4ZWwgb2Zmc2V0IG9uIHZlcnkgaGlnaCB2YWx1ZXMsIHNlZTogaHR0cHM6Ly9qc2ZpZGRsZS5uZXQvZGc2cjVoaGIvXHJcblx0XHRcdHRoaXMuX3Jlc2V0Vmlldyh0aGlzLmdldENlbnRlcigpLCB0aGlzLmdldFpvb20oKSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2ZpbmRFdmVudFRhcmdldHM6IGZ1bmN0aW9uIChlLCB0eXBlKSB7XHJcblx0XHR2YXIgdGFyZ2V0cyA9IFtdLFxyXG5cdFx0ICAgIHRhcmdldCxcclxuXHRcdCAgICBpc0hvdmVyID0gdHlwZSA9PT0gJ21vdXNlb3V0JyB8fCB0eXBlID09PSAnbW91c2VvdmVyJyxcclxuXHRcdCAgICBzcmMgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQsXHJcblx0XHQgICAgZHJhZ2dpbmcgPSBmYWxzZTtcclxuXHJcblx0XHR3aGlsZSAoc3JjKSB7XHJcblx0XHRcdHRhcmdldCA9IHRoaXMuX3RhcmdldHNbVXRpbC5zdGFtcChzcmMpXTtcclxuXHRcdFx0aWYgKHRhcmdldCAmJiAodHlwZSA9PT0gJ2NsaWNrJyB8fCB0eXBlID09PSAncHJlY2xpY2snKSAmJiB0aGlzLl9kcmFnZ2FibGVNb3ZlZCh0YXJnZXQpKSB7XHJcblx0XHRcdFx0Ly8gUHJldmVudCBmaXJpbmcgY2xpY2sgYWZ0ZXIgeW91IGp1c3QgZHJhZ2dlZCBhbiBvYmplY3QuXHJcblx0XHRcdFx0ZHJhZ2dpbmcgPSB0cnVlO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0YXJnZXQgJiYgdGFyZ2V0Lmxpc3RlbnModHlwZSwgdHJ1ZSkpIHtcclxuXHRcdFx0XHRpZiAoaXNIb3ZlciAmJiAhRG9tRXZlbnQuaXNFeHRlcm5hbFRhcmdldChzcmMsIGUpKSB7IGJyZWFrOyB9XHJcblx0XHRcdFx0dGFyZ2V0cy5wdXNoKHRhcmdldCk7XHJcblx0XHRcdFx0aWYgKGlzSG92ZXIpIHsgYnJlYWs7IH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoc3JjID09PSB0aGlzLl9jb250YWluZXIpIHsgYnJlYWs7IH1cclxuXHRcdFx0c3JjID0gc3JjLnBhcmVudE5vZGU7XHJcblx0XHR9XHJcblx0XHRpZiAoIXRhcmdldHMubGVuZ3RoICYmICFkcmFnZ2luZyAmJiAhaXNIb3ZlciAmJiB0aGlzLmxpc3RlbnModHlwZSwgdHJ1ZSkpIHtcclxuXHRcdFx0dGFyZ2V0cyA9IFt0aGlzXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0YXJnZXRzO1xyXG5cdH0sXHJcblxyXG5cdF9pc0NsaWNrRGlzYWJsZWQ6IGZ1bmN0aW9uIChlbCkge1xyXG5cdFx0d2hpbGUgKGVsICYmIGVsICE9PSB0aGlzLl9jb250YWluZXIpIHtcclxuXHRcdFx0aWYgKGVsWydfbGVhZmxldF9kaXNhYmxlX2NsaWNrJ10pIHsgcmV0dXJuIHRydWU7IH1cclxuXHRcdFx0ZWwgPSBlbC5wYXJlbnROb2RlO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVET01FdmVudDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdHZhciBlbCA9IChlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQpO1xyXG5cdFx0aWYgKCF0aGlzLl9sb2FkZWQgfHwgZWxbJ19sZWFmbGV0X2Rpc2FibGVfZXZlbnRzJ10gfHwgZS50eXBlID09PSAnY2xpY2snICYmIHRoaXMuX2lzQ2xpY2tEaXNhYmxlZChlbCkpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciB0eXBlID0gZS50eXBlO1xyXG5cclxuXHRcdGlmICh0eXBlID09PSAnbW91c2Vkb3duJykge1xyXG5cdFx0XHQvLyBwcmV2ZW50cyBvdXRsaW5lIHdoZW4gY2xpY2tpbmcgb24ga2V5Ym9hcmQtZm9jdXNhYmxlIGVsZW1lbnRcclxuXHRcdFx0RG9tVXRpbC5wcmV2ZW50T3V0bGluZShlbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fZmlyZURPTUV2ZW50KGUsIHR5cGUpO1xyXG5cdH0sXHJcblxyXG5cdF9tb3VzZUV2ZW50czogWydjbGljaycsICdkYmxjbGljaycsICdtb3VzZW92ZXInLCAnbW91c2VvdXQnLCAnY29udGV4dG1lbnUnXSxcclxuXHJcblx0X2ZpcmVET01FdmVudDogZnVuY3Rpb24gKGUsIHR5cGUsIGNhbnZhc1RhcmdldHMpIHtcclxuXHJcblx0XHRpZiAoZS50eXBlID09PSAnY2xpY2snKSB7XHJcblx0XHRcdC8vIEZpcmUgYSBzeW50aGV0aWMgJ3ByZWNsaWNrJyBldmVudCB3aGljaCBwcm9wYWdhdGVzIHVwIChtYWlubHkgZm9yIGNsb3NpbmcgcG9wdXBzKS5cclxuXHRcdFx0Ly8gQGV2ZW50IHByZWNsaWNrOiBNb3VzZUV2ZW50XHJcblx0XHRcdC8vIEZpcmVkIGJlZm9yZSBtb3VzZSBjbGljayBvbiB0aGUgbWFwIChzb21ldGltZXMgdXNlZnVsIHdoZW4geW91XHJcblx0XHRcdC8vIHdhbnQgc29tZXRoaW5nIHRvIGhhcHBlbiBvbiBjbGljayBiZWZvcmUgYW55IGV4aXN0aW5nIGNsaWNrXHJcblx0XHRcdC8vIGhhbmRsZXJzIHN0YXJ0IHJ1bm5pbmcpLlxyXG5cdFx0XHR2YXIgc3ludGggPSBVdGlsLmV4dGVuZCh7fSwgZSk7XHJcblx0XHRcdHN5bnRoLnR5cGUgPSAncHJlY2xpY2snO1xyXG5cdFx0XHR0aGlzLl9maXJlRE9NRXZlbnQoc3ludGgsIHN5bnRoLnR5cGUsIGNhbnZhc1RhcmdldHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZpbmQgdGhlIGxheWVyIHRoZSBldmVudCBpcyBwcm9wYWdhdGluZyBmcm9tIGFuZCBpdHMgcGFyZW50cy5cclxuXHRcdHZhciB0YXJnZXRzID0gdGhpcy5fZmluZEV2ZW50VGFyZ2V0cyhlLCB0eXBlKTtcclxuXHJcblx0XHRpZiAoY2FudmFzVGFyZ2V0cykge1xyXG5cdFx0XHR2YXIgZmlsdGVyZWQgPSBbXTsgLy8gcGljayBvbmx5IHRhcmdldHMgd2l0aCBsaXN0ZW5lcnNcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjYW52YXNUYXJnZXRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKGNhbnZhc1RhcmdldHNbaV0ubGlzdGVucyh0eXBlLCB0cnVlKSkge1xyXG5cdFx0XHRcdFx0ZmlsdGVyZWQucHVzaChjYW52YXNUYXJnZXRzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dGFyZ2V0cyA9IGZpbHRlcmVkLmNvbmNhdCh0YXJnZXRzKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXRhcmdldHMubGVuZ3RoKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdGlmICh0eXBlID09PSAnY29udGV4dG1lbnUnKSB7XHJcblx0XHRcdERvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciB0YXJnZXQgPSB0YXJnZXRzWzBdO1xyXG5cdFx0dmFyIGRhdGEgPSB7XHJcblx0XHRcdG9yaWdpbmFsRXZlbnQ6IGVcclxuXHRcdH07XHJcblxyXG5cdFx0aWYgKGUudHlwZSAhPT0gJ2tleXByZXNzJyAmJiBlLnR5cGUgIT09ICdrZXlkb3duJyAmJiBlLnR5cGUgIT09ICdrZXl1cCcpIHtcclxuXHRcdFx0dmFyIGlzTWFya2VyID0gdGFyZ2V0LmdldExhdExuZyAmJiAoIXRhcmdldC5fcmFkaXVzIHx8IHRhcmdldC5fcmFkaXVzIDw9IDEwKTtcclxuXHRcdFx0ZGF0YS5jb250YWluZXJQb2ludCA9IGlzTWFya2VyID9cclxuXHRcdFx0XHR0aGlzLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQodGFyZ2V0LmdldExhdExuZygpKSA6IHRoaXMubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZSk7XHJcblx0XHRcdGRhdGEubGF5ZXJQb2ludCA9IHRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoZGF0YS5jb250YWluZXJQb2ludCk7XHJcblx0XHRcdGRhdGEubGF0bG5nID0gaXNNYXJrZXIgPyB0YXJnZXQuZ2V0TGF0TG5nKCkgOiB0aGlzLmxheWVyUG9pbnRUb0xhdExuZyhkYXRhLmxheWVyUG9pbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCB0YXJnZXRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRhcmdldHNbaV0uZmlyZSh0eXBlLCBkYXRhLCB0cnVlKTtcclxuXHRcdFx0aWYgKGRhdGEub3JpZ2luYWxFdmVudC5fc3RvcHBlZCB8fFxyXG5cdFx0XHRcdCh0YXJnZXRzW2ldLm9wdGlvbnMuYnViYmxpbmdNb3VzZUV2ZW50cyA9PT0gZmFsc2UgJiYgVXRpbC5pbmRleE9mKHRoaXMuX21vdXNlRXZlbnRzLCB0eXBlKSAhPT0gLTEpKSB7IHJldHVybjsgfVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9kcmFnZ2FibGVNb3ZlZDogZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0b2JqID0gb2JqLmRyYWdnaW5nICYmIG9iai5kcmFnZ2luZy5lbmFibGVkKCkgPyBvYmogOiB0aGlzO1xyXG5cdFx0cmV0dXJuIChvYmouZHJhZ2dpbmcgJiYgb2JqLmRyYWdnaW5nLm1vdmVkKCkpIHx8ICh0aGlzLmJveFpvb20gJiYgdGhpcy5ib3hab29tLm1vdmVkKCkpO1xyXG5cdH0sXHJcblxyXG5cdF9jbGVhckhhbmRsZXJzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5faGFuZGxlcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0dGhpcy5faGFuZGxlcnNbaV0uZGlzYWJsZSgpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBzZWN0aW9uIE90aGVyIE1ldGhvZHNcclxuXHJcblx0Ly8gQG1ldGhvZCB3aGVuUmVhZHkoZm46IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0KTogdGhpc1xyXG5cdC8vIFJ1bnMgdGhlIGdpdmVuIGZ1bmN0aW9uIGBmbmAgd2hlbiB0aGUgbWFwIGdldHMgaW5pdGlhbGl6ZWQgd2l0aFxyXG5cdC8vIGEgdmlldyAoY2VudGVyIGFuZCB6b29tKSBhbmQgYXQgbGVhc3Qgb25lIGxheWVyLCBvciBpbW1lZGlhdGVseVxyXG5cdC8vIGlmIGl0J3MgYWxyZWFkeSBpbml0aWFsaXplZCwgb3B0aW9uYWxseSBwYXNzaW5nIGEgZnVuY3Rpb24gY29udGV4dC5cclxuXHR3aGVuUmVhZHk6IGZ1bmN0aW9uIChjYWxsYmFjaywgY29udGV4dCkge1xyXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCkge1xyXG5cdFx0XHRjYWxsYmFjay5jYWxsKGNvbnRleHQgfHwgdGhpcywge3RhcmdldDogdGhpc30pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5vbignbG9hZCcsIGNhbGxiYWNrLCBjb250ZXh0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cclxuXHQvLyBwcml2YXRlIG1ldGhvZHMgZm9yIGdldHRpbmcgbWFwIHN0YXRlXHJcblxyXG5cdF9nZXRNYXBQYW5lUG9zOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lKSB8fCBuZXcgUG9pbnQoMCwgMCk7XHJcblx0fSxcclxuXHJcblx0X21vdmVkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgcG9zID0gdGhpcy5fZ2V0TWFwUGFuZVBvcygpO1xyXG5cdFx0cmV0dXJuIHBvcyAmJiAhcG9zLmVxdWFscyhbMCwgMF0pO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRUb3BMZWZ0UG9pbnQ6IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20pIHtcclxuXHRcdHZhciBwaXhlbE9yaWdpbiA9IGNlbnRlciAmJiB6b29tICE9PSB1bmRlZmluZWQgP1xyXG5cdFx0XHR0aGlzLl9nZXROZXdQaXhlbE9yaWdpbihjZW50ZXIsIHpvb20pIDpcclxuXHRcdFx0dGhpcy5nZXRQaXhlbE9yaWdpbigpO1xyXG5cdFx0cmV0dXJuIHBpeGVsT3JpZ2luLnN1YnRyYWN0KHRoaXMuX2dldE1hcFBhbmVQb3MoKSk7XHJcblx0fSxcclxuXHJcblx0X2dldE5ld1BpeGVsT3JpZ2luOiBmdW5jdGlvbiAoY2VudGVyLCB6b29tKSB7XHJcblx0XHR2YXIgdmlld0hhbGYgPSB0aGlzLmdldFNpemUoKS5fZGl2aWRlQnkoMik7XHJcblx0XHRyZXR1cm4gdGhpcy5wcm9qZWN0KGNlbnRlciwgem9vbSkuX3N1YnRyYWN0KHZpZXdIYWxmKS5fYWRkKHRoaXMuX2dldE1hcFBhbmVQb3MoKSkuX3JvdW5kKCk7XHJcblx0fSxcclxuXHJcblx0X2xhdExuZ1RvTmV3TGF5ZXJQb2ludDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSwgY2VudGVyKSB7XHJcblx0XHR2YXIgdG9wTGVmdCA9IHRoaXMuX2dldE5ld1BpeGVsT3JpZ2luKGNlbnRlciwgem9vbSk7XHJcblx0XHRyZXR1cm4gdGhpcy5wcm9qZWN0KGxhdGxuZywgem9vbSkuX3N1YnRyYWN0KHRvcExlZnQpO1xyXG5cdH0sXHJcblxyXG5cdF9sYXRMbmdCb3VuZHNUb05ld0xheWVyQm91bmRzOiBmdW5jdGlvbiAobGF0TG5nQm91bmRzLCB6b29tLCBjZW50ZXIpIHtcclxuXHRcdHZhciB0b3BMZWZ0ID0gdGhpcy5fZ2V0TmV3UGl4ZWxPcmlnaW4oY2VudGVyLCB6b29tKTtcclxuXHRcdHJldHVybiB0b0JvdW5kcyhbXHJcblx0XHRcdHRoaXMucHJvamVjdChsYXRMbmdCb3VuZHMuZ2V0U291dGhXZXN0KCksIHpvb20pLl9zdWJ0cmFjdCh0b3BMZWZ0KSxcclxuXHRcdFx0dGhpcy5wcm9qZWN0KGxhdExuZ0JvdW5kcy5nZXROb3J0aFdlc3QoKSwgem9vbSkuX3N1YnRyYWN0KHRvcExlZnQpLFxyXG5cdFx0XHR0aGlzLnByb2plY3QobGF0TG5nQm91bmRzLmdldFNvdXRoRWFzdCgpLCB6b29tKS5fc3VidHJhY3QodG9wTGVmdCksXHJcblx0XHRcdHRoaXMucHJvamVjdChsYXRMbmdCb3VuZHMuZ2V0Tm9ydGhFYXN0KCksIHpvb20pLl9zdWJ0cmFjdCh0b3BMZWZ0KVxyXG5cdFx0XSk7XHJcblx0fSxcclxuXHJcblx0Ly8gbGF5ZXIgcG9pbnQgb2YgdGhlIGN1cnJlbnQgY2VudGVyXHJcblx0X2dldENlbnRlckxheWVyUG9pbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KHRoaXMuZ2V0U2l6ZSgpLl9kaXZpZGVCeSgyKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gb2Zmc2V0IG9mIHRoZSBzcGVjaWZpZWQgcGxhY2UgdG8gdGhlIGN1cnJlbnQgY2VudGVyIGluIHBpeGVsc1xyXG5cdF9nZXRDZW50ZXJPZmZzZXQ6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLmxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmcpLnN1YnRyYWN0KHRoaXMuX2dldENlbnRlckxheWVyUG9pbnQoKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gYWRqdXN0IGNlbnRlciBmb3IgdmlldyB0byBnZXQgaW5zaWRlIGJvdW5kc1xyXG5cdF9saW1pdENlbnRlcjogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgYm91bmRzKSB7XHJcblxyXG5cdFx0aWYgKCFib3VuZHMpIHsgcmV0dXJuIGNlbnRlcjsgfVxyXG5cclxuXHRcdHZhciBjZW50ZXJQb2ludCA9IHRoaXMucHJvamVjdChjZW50ZXIsIHpvb20pLFxyXG5cdFx0ICAgIHZpZXdIYWxmID0gdGhpcy5nZXRTaXplKCkuZGl2aWRlQnkoMiksXHJcblx0XHQgICAgdmlld0JvdW5kcyA9IG5ldyBCb3VuZHMoY2VudGVyUG9pbnQuc3VidHJhY3Qodmlld0hhbGYpLCBjZW50ZXJQb2ludC5hZGQodmlld0hhbGYpKSxcclxuXHRcdCAgICBvZmZzZXQgPSB0aGlzLl9nZXRCb3VuZHNPZmZzZXQodmlld0JvdW5kcywgYm91bmRzLCB6b29tKTtcclxuXHJcblx0XHQvLyBJZiBvZmZzZXQgaXMgbGVzcyB0aGFuIGEgcGl4ZWwsIGlnbm9yZS5cclxuXHRcdC8vIFRoaXMgcHJldmVudHMgdW5zdGFibGUgcHJvamVjdGlvbnMgZnJvbSBnZXR0aW5nIGludG9cclxuXHRcdC8vIGFuIGluZmluaXRlIGxvb3Agb2YgdGlueSBvZmZzZXRzLlxyXG5cdFx0aWYgKE1hdGguYWJzKG9mZnNldC54KSA8PSAxICYmIE1hdGguYWJzKG9mZnNldC55KSA8PSAxKSB7XHJcblx0XHRcdHJldHVybiBjZW50ZXI7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudW5wcm9qZWN0KGNlbnRlclBvaW50LmFkZChvZmZzZXQpLCB6b29tKTtcclxuXHR9LFxyXG5cclxuXHQvLyBhZGp1c3Qgb2Zmc2V0IGZvciB2aWV3IHRvIGdldCBpbnNpZGUgYm91bmRzXHJcblx0X2xpbWl0T2Zmc2V0OiBmdW5jdGlvbiAob2Zmc2V0LCBib3VuZHMpIHtcclxuXHRcdGlmICghYm91bmRzKSB7IHJldHVybiBvZmZzZXQ7IH1cclxuXHJcblx0XHR2YXIgdmlld0JvdW5kcyA9IHRoaXMuZ2V0UGl4ZWxCb3VuZHMoKSxcclxuXHRcdCAgICBuZXdCb3VuZHMgPSBuZXcgQm91bmRzKHZpZXdCb3VuZHMubWluLmFkZChvZmZzZXQpLCB2aWV3Qm91bmRzLm1heC5hZGQob2Zmc2V0KSk7XHJcblxyXG5cdFx0cmV0dXJuIG9mZnNldC5hZGQodGhpcy5fZ2V0Qm91bmRzT2Zmc2V0KG5ld0JvdW5kcywgYm91bmRzKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gcmV0dXJucyBvZmZzZXQgbmVlZGVkIGZvciBweEJvdW5kcyB0byBnZXQgaW5zaWRlIG1heEJvdW5kcyBhdCBhIHNwZWNpZmllZCB6b29tXHJcblx0X2dldEJvdW5kc09mZnNldDogZnVuY3Rpb24gKHB4Qm91bmRzLCBtYXhCb3VuZHMsIHpvb20pIHtcclxuXHRcdHZhciBwcm9qZWN0ZWRNYXhCb3VuZHMgPSB0b0JvdW5kcyhcclxuXHRcdCAgICAgICAgdGhpcy5wcm9qZWN0KG1heEJvdW5kcy5nZXROb3J0aEVhc3QoKSwgem9vbSksXHJcblx0XHQgICAgICAgIHRoaXMucHJvamVjdChtYXhCb3VuZHMuZ2V0U291dGhXZXN0KCksIHpvb20pXHJcblx0XHQgICAgKSxcclxuXHRcdCAgICBtaW5PZmZzZXQgPSBwcm9qZWN0ZWRNYXhCb3VuZHMubWluLnN1YnRyYWN0KHB4Qm91bmRzLm1pbiksXHJcblx0XHQgICAgbWF4T2Zmc2V0ID0gcHJvamVjdGVkTWF4Qm91bmRzLm1heC5zdWJ0cmFjdChweEJvdW5kcy5tYXgpLFxyXG5cclxuXHRcdCAgICBkeCA9IHRoaXMuX3JlYm91bmQobWluT2Zmc2V0LngsIC1tYXhPZmZzZXQueCksXHJcblx0XHQgICAgZHkgPSB0aGlzLl9yZWJvdW5kKG1pbk9mZnNldC55LCAtbWF4T2Zmc2V0LnkpO1xyXG5cclxuXHRcdHJldHVybiBuZXcgUG9pbnQoZHgsIGR5KTtcclxuXHR9LFxyXG5cclxuXHRfcmVib3VuZDogZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XHJcblx0XHRyZXR1cm4gbGVmdCArIHJpZ2h0ID4gMCA/XHJcblx0XHRcdE1hdGgucm91bmQobGVmdCAtIHJpZ2h0KSAvIDIgOlxyXG5cdFx0XHRNYXRoLm1heCgwLCBNYXRoLmNlaWwobGVmdCkpIC0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihyaWdodCkpO1xyXG5cdH0sXHJcblxyXG5cdF9saW1pdFpvb206IGZ1bmN0aW9uICh6b29tKSB7XHJcblx0XHR2YXIgbWluID0gdGhpcy5nZXRNaW5ab29tKCksXHJcblx0XHQgICAgbWF4ID0gdGhpcy5nZXRNYXhab29tKCksXHJcblx0XHQgICAgc25hcCA9IEJyb3dzZXIuYW55M2QgPyB0aGlzLm9wdGlvbnMuem9vbVNuYXAgOiAxO1xyXG5cdFx0aWYgKHNuYXApIHtcclxuXHRcdFx0em9vbSA9IE1hdGgucm91bmQoem9vbSAvIHNuYXApICogc25hcDtcclxuXHRcdH1cclxuXHRcdHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgem9vbSkpO1xyXG5cdH0sXHJcblxyXG5cdF9vblBhblRyYW5zaXRpb25TdGVwOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLmZpcmUoJ21vdmUnKTtcclxuXHR9LFxyXG5cclxuXHRfb25QYW5UcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcFBhbmUsICdsZWFmbGV0LXBhbi1hbmltJyk7XHJcblx0XHR0aGlzLmZpcmUoJ21vdmVlbmQnKTtcclxuXHR9LFxyXG5cclxuXHRfdHJ5QW5pbWF0ZWRQYW46IGZ1bmN0aW9uIChjZW50ZXIsIG9wdGlvbnMpIHtcclxuXHRcdC8vIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgbmV3IGFuZCBjdXJyZW50IGNlbnRlcnMgaW4gcGl4ZWxzXHJcblx0XHR2YXIgb2Zmc2V0ID0gdGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KGNlbnRlcikuX3RydW5jKCk7XHJcblxyXG5cdFx0Ly8gZG9uJ3QgYW5pbWF0ZSB0b28gZmFyIHVubGVzcyBhbmltYXRlOiB0cnVlIHNwZWNpZmllZCBpbiBvcHRpb25zXHJcblx0XHRpZiAoKG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRlKSAhPT0gdHJ1ZSAmJiAhdGhpcy5nZXRTaXplKCkuY29udGFpbnMob2Zmc2V0KSkgeyByZXR1cm4gZmFsc2U7IH1cclxuXHJcblx0XHR0aGlzLnBhbkJ5KG9mZnNldCwgb3B0aW9ucyk7XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZUFuaW1Qcm94eTogZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciBwcm94eSA9IHRoaXMuX3Byb3h5ID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LXByb3h5IGxlYWZsZXQtem9vbS1hbmltYXRlZCcpO1xyXG5cdFx0dGhpcy5fcGFuZXMubWFwUGFuZS5hcHBlbmRDaGlsZChwcm94eSk7XHJcblxyXG5cdFx0dGhpcy5vbignem9vbWFuaW0nLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHR2YXIgcHJvcCA9IERvbVV0aWwuVFJBTlNGT1JNLFxyXG5cdFx0XHQgICAgdHJhbnNmb3JtID0gdGhpcy5fcHJveHkuc3R5bGVbcHJvcF07XHJcblxyXG5cdFx0XHREb21VdGlsLnNldFRyYW5zZm9ybSh0aGlzLl9wcm94eSwgdGhpcy5wcm9qZWN0KGUuY2VudGVyLCBlLnpvb20pLCB0aGlzLmdldFpvb21TY2FsZShlLnpvb20sIDEpKTtcclxuXHJcblx0XHRcdC8vIHdvcmthcm91bmQgZm9yIGNhc2Ugd2hlbiB0cmFuc2Zvcm0gaXMgdGhlIHNhbWUgYW5kIHNvIHRyYW5zaXRpb25lbmQgZXZlbnQgaXMgbm90IGZpcmVkXHJcblx0XHRcdGlmICh0cmFuc2Zvcm0gPT09IHRoaXMuX3Byb3h5LnN0eWxlW3Byb3BdICYmIHRoaXMuX2FuaW1hdGluZ1pvb20pIHtcclxuXHRcdFx0XHR0aGlzLl9vblpvb21UcmFuc2l0aW9uRW5kKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sIHRoaXMpO1xyXG5cclxuXHRcdHRoaXMub24oJ2xvYWQgbW92ZWVuZCcsIHRoaXMuX2FuaW1Nb3ZlRW5kLCB0aGlzKTtcclxuXHJcblx0XHR0aGlzLl9vbigndW5sb2FkJywgdGhpcy5fZGVzdHJveUFuaW1Qcm94eSwgdGhpcyk7XHJcblx0fSxcclxuXHJcblx0X2Rlc3Ryb3lBbmltUHJveHk6IGZ1bmN0aW9uICgpIHtcclxuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX3Byb3h5KTtcclxuXHRcdHRoaXMub2ZmKCdsb2FkIG1vdmVlbmQnLCB0aGlzLl9hbmltTW92ZUVuZCwgdGhpcyk7XHJcblx0XHRkZWxldGUgdGhpcy5fcHJveHk7XHJcblx0fSxcclxuXHJcblx0X2FuaW1Nb3ZlRW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgYyA9IHRoaXMuZ2V0Q2VudGVyKCksXHJcblx0XHQgICAgeiA9IHRoaXMuZ2V0Wm9vbSgpO1xyXG5cdFx0RG9tVXRpbC5zZXRUcmFuc2Zvcm0odGhpcy5fcHJveHksIHRoaXMucHJvamVjdChjLCB6KSwgdGhpcy5nZXRab29tU2NhbGUoeiwgMSkpO1xyXG5cdH0sXHJcblxyXG5cdF9jYXRjaFRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRpZiAodGhpcy5fYW5pbWF0aW5nWm9vbSAmJiBlLnByb3BlcnR5TmFtZS5pbmRleE9mKCd0cmFuc2Zvcm0nKSA+PSAwKSB7XHJcblx0XHRcdHRoaXMuX29uWm9vbVRyYW5zaXRpb25FbmQoKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfbm90aGluZ1RvQW5pbWF0ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICF0aGlzLl9jb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGVhZmxldC16b29tLWFuaW1hdGVkJykubGVuZ3RoO1xyXG5cdH0sXHJcblxyXG5cdF90cnlBbmltYXRlZFpvb206IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20sIG9wdGlvbnMpIHtcclxuXHJcblx0XHRpZiAodGhpcy5fYW5pbWF0aW5nWm9vbSkgeyByZXR1cm4gdHJ1ZTsgfVxyXG5cclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuXHRcdC8vIGRvbid0IGFuaW1hdGUgaWYgZGlzYWJsZWQsIG5vdCBzdXBwb3J0ZWQgb3Igem9vbSBkaWZmZXJlbmNlIGlzIHRvbyBsYXJnZVxyXG5cdFx0aWYgKCF0aGlzLl96b29tQW5pbWF0ZWQgfHwgb3B0aW9ucy5hbmltYXRlID09PSBmYWxzZSB8fCB0aGlzLl9ub3RoaW5nVG9BbmltYXRlKCkgfHxcclxuXHRcdCAgICAgICAgTWF0aC5hYnMoem9vbSAtIHRoaXMuX3pvb20pID4gdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb25UaHJlc2hvbGQpIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG5cdFx0Ly8gb2Zmc2V0IGlzIHRoZSBwaXhlbCBjb29yZHMgb2YgdGhlIHpvb20gb3JpZ2luIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IGNlbnRlclxyXG5cdFx0dmFyIHNjYWxlID0gdGhpcy5nZXRab29tU2NhbGUoem9vbSksXHJcblx0XHQgICAgb2Zmc2V0ID0gdGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KGNlbnRlcikuX2RpdmlkZUJ5KDEgLSAxIC8gc2NhbGUpO1xyXG5cclxuXHRcdC8vIGRvbid0IGFuaW1hdGUgaWYgdGhlIHpvb20gb3JpZ2luIGlzbid0IHdpdGhpbiBvbmUgc2NyZWVuIGZyb20gdGhlIGN1cnJlbnQgY2VudGVyLCB1bmxlc3MgZm9yY2VkXHJcblx0XHRpZiAob3B0aW9ucy5hbmltYXRlICE9PSB0cnVlICYmICF0aGlzLmdldFNpemUoKS5jb250YWlucyhvZmZzZXQpKSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuXHRcdFV0aWwucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHRoaXNcclxuXHRcdFx0ICAgIC5fbW92ZVN0YXJ0KHRydWUsIG9wdGlvbnMubm9Nb3ZlU3RhcnQgfHwgZmFsc2UpXHJcblx0XHRcdCAgICAuX2FuaW1hdGVab29tKGNlbnRlciwgem9vbSwgdHJ1ZSk7XHJcblx0XHR9LCB0aGlzKTtcclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20sIHN0YXJ0QW5pbSwgbm9VcGRhdGUpIHtcclxuXHRcdGlmICghdGhpcy5fbWFwUGFuZSkgeyByZXR1cm47IH1cclxuXHJcblx0XHRpZiAoc3RhcnRBbmltKSB7XHJcblx0XHRcdHRoaXMuX2FuaW1hdGluZ1pvb20gPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gcmVtZW1iZXIgd2hhdCBjZW50ZXIvem9vbSB0byBzZXQgYWZ0ZXIgYW5pbWF0aW9uXHJcblx0XHRcdHRoaXMuX2FuaW1hdGVUb0NlbnRlciA9IGNlbnRlcjtcclxuXHRcdFx0dGhpcy5fYW5pbWF0ZVRvWm9vbSA9IHpvb207XHJcblxyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcFBhbmUsICdsZWFmbGV0LXpvb20tYW5pbScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBzZWN0aW9uIE90aGVyIEV2ZW50c1xyXG5cdFx0Ly8gQGV2ZW50IHpvb21hbmltOiBab29tQW5pbUV2ZW50XHJcblx0XHQvLyBGaXJlZCBhdCBsZWFzdCBvbmNlIHBlciB6b29tIGFuaW1hdGlvbi4gRm9yIGNvbnRpbnVvdXMgem9vbSwgbGlrZSBwaW5jaCB6b29taW5nLCBmaXJlZCBvbmNlIHBlciBmcmFtZSBkdXJpbmcgem9vbS5cclxuXHRcdHRoaXMuZmlyZSgnem9vbWFuaW0nLCB7XHJcblx0XHRcdGNlbnRlcjogY2VudGVyLFxyXG5cdFx0XHR6b29tOiB6b29tLFxyXG5cdFx0XHRub1VwZGF0ZTogbm9VcGRhdGVcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmICghdGhpcy5fdGVtcEZpcmVab29tRXZlbnQpIHtcclxuXHRcdFx0dGhpcy5fdGVtcEZpcmVab29tRXZlbnQgPSB0aGlzLl96b29tICE9PSB0aGlzLl9hbmltYXRlVG9ab29tO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX21vdmUodGhpcy5fYW5pbWF0ZVRvQ2VudGVyLCB0aGlzLl9hbmltYXRlVG9ab29tLCB1bmRlZmluZWQsIHRydWUpO1xyXG5cclxuXHRcdC8vIFdvcmsgYXJvdW5kIHdlYmtpdCBub3QgZmlyaW5nICd0cmFuc2l0aW9uZW5kJywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzM2ODksIDI2OTNcclxuXHRcdHNldFRpbWVvdXQoVXRpbC5iaW5kKHRoaXMuX29uWm9vbVRyYW5zaXRpb25FbmQsIHRoaXMpLCAyNTApO1xyXG5cdH0sXHJcblxyXG5cdF9vblpvb21UcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX2FuaW1hdGluZ1pvb20pIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0aWYgKHRoaXMuX21hcFBhbmUpIHtcclxuXHRcdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXBQYW5lLCAnbGVhZmxldC16b29tLWFuaW0nKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9hbmltYXRpbmdab29tID0gZmFsc2U7XHJcblxyXG5cdFx0dGhpcy5fbW92ZSh0aGlzLl9hbmltYXRlVG9DZW50ZXIsIHRoaXMuX2FuaW1hdGVUb1pvb20sIHVuZGVmaW5lZCwgdHJ1ZSk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX3RlbXBGaXJlWm9vbUV2ZW50KSB7XHJcblx0XHRcdHRoaXMuZmlyZSgnem9vbScpO1xyXG5cdFx0fVxyXG5cdFx0ZGVsZXRlIHRoaXMuX3RlbXBGaXJlWm9vbUV2ZW50O1xyXG5cclxuXHRcdHRoaXMuZmlyZSgnbW92ZScpO1xyXG5cclxuXHRcdHRoaXMuX21vdmVFbmQodHJ1ZSk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBzZWN0aW9uXHJcblxyXG4vLyBAZmFjdG9yeSBMLm1hcChpZDogU3RyaW5nLCBvcHRpb25zPzogTWFwIG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhIG1hcCBvYmplY3QgZ2l2ZW4gdGhlIERPTSBJRCBvZiBhIGA8ZGl2PmAgZWxlbWVudFxyXG4vLyBhbmQgb3B0aW9uYWxseSBhbiBvYmplY3QgbGl0ZXJhbCB3aXRoIGBNYXAgb3B0aW9uc2AuXHJcbi8vXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZmFjdG9yeSBMLm1hcChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBNYXAgb3B0aW9ucylcclxuLy8gSW5zdGFudGlhdGVzIGEgbWFwIG9iamVjdCBnaXZlbiBhbiBpbnN0YW5jZSBvZiBhIGA8ZGl2PmAgSFRNTCBlbGVtZW50XHJcbi8vIGFuZCBvcHRpb25hbGx5IGFuIG9iamVjdCBsaXRlcmFsIHdpdGggYE1hcCBvcHRpb25zYC5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1hcChpZCwgb3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgTWFwKGlkLCBvcHRpb25zKTtcclxufVxyXG4iLCAiXHJcbmltcG9ydCB7Q2xhc3N9IGZyb20gJy4uL2NvcmUvQ2xhc3MnO1xyXG5pbXBvcnQge01hcH0gZnJvbSAnLi4vbWFwL01hcCc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi9kb20vRG9tVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgQ29udHJvbFxyXG4gKiBAYWthIEwuQ29udHJvbFxyXG4gKiBAaW5oZXJpdHMgQ2xhc3NcclxuICpcclxuICogTC5Db250cm9sIGlzIGEgYmFzZSBjbGFzcyBmb3IgaW1wbGVtZW50aW5nIG1hcCBjb250cm9scy4gSGFuZGxlcyBwb3NpdGlvbmluZy5cclxuICogQWxsIG90aGVyIGNvbnRyb2xzIGV4dGVuZCBmcm9tIHRoaXMgY2xhc3MuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBDb250cm9sID0gQ2xhc3MuZXh0ZW5kKHtcclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgQ29udHJvbCBPcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBwb3NpdGlvbjogU3RyaW5nID0gJ3RvcHJpZ2h0J1xyXG5cdFx0Ly8gVGhlIHBvc2l0aW9uIG9mIHRoZSBjb250cm9sIChvbmUgb2YgdGhlIG1hcCBjb3JuZXJzKS4gUG9zc2libGUgdmFsdWVzIGFyZSBgJ3RvcGxlZnQnYCxcclxuXHRcdC8vIGAndG9wcmlnaHQnYCwgYCdib3R0b21sZWZ0J2Agb3IgYCdib3R0b21yaWdodCdgXHJcblx0XHRwb3NpdGlvbjogJ3RvcHJpZ2h0J1xyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0LyogQHNlY3Rpb25cclxuXHQgKiBDbGFzc2VzIGV4dGVuZGluZyBMLkNvbnRyb2wgd2lsbCBpbmhlcml0IHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcclxuXHQgKlxyXG5cdCAqIEBtZXRob2QgZ2V0UG9zaXRpb246IHN0cmluZ1xyXG5cdCAqIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBjb250cm9sLlxyXG5cdCAqL1xyXG5cdGdldFBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0UG9zaXRpb24ocG9zaXRpb246IHN0cmluZyk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgY29udHJvbC5cclxuXHRzZXRQb3NpdGlvbjogZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwO1xyXG5cclxuXHRcdGlmIChtYXApIHtcclxuXHRcdFx0bWFwLnJlbW92ZUNvbnRyb2wodGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5vcHRpb25zLnBvc2l0aW9uID0gcG9zaXRpb247XHJcblxyXG5cdFx0aWYgKG1hcCkge1xyXG5cdFx0XHRtYXAuYWRkQ29udHJvbCh0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBIVE1MRWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBjb250cm9sLlxyXG5cdGdldENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZFRvKG1hcDogTWFwKTogdGhpc1xyXG5cdC8vIEFkZHMgdGhlIGNvbnRyb2wgdG8gdGhlIGdpdmVuIG1hcC5cclxuXHRhZGRUbzogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0dGhpcy5yZW1vdmUoKTtcclxuXHRcdHRoaXMuX21hcCA9IG1hcDtcclxuXHJcblx0XHR2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gdGhpcy5vbkFkZChtYXApLFxyXG5cdFx0ICAgIHBvcyA9IHRoaXMuZ2V0UG9zaXRpb24oKSxcclxuXHRcdCAgICBjb3JuZXIgPSBtYXAuX2NvbnRyb2xDb3JuZXJzW3Bvc107XHJcblxyXG5cdFx0RG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LWNvbnRyb2wnKTtcclxuXHJcblx0XHRpZiAocG9zLmluZGV4T2YoJ2JvdHRvbScpICE9PSAtMSkge1xyXG5cdFx0XHRjb3JuZXIuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgY29ybmVyLmZpcnN0Q2hpbGQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29ybmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbWFwLm9uKCd1bmxvYWQnLCB0aGlzLnJlbW92ZSwgdGhpcyk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCByZW1vdmU6IHRoaXNcclxuXHQvLyBSZW1vdmVzIHRoZSBjb250cm9sIGZyb20gdGhlIG1hcCBpdCBpcyBjdXJyZW50bHkgYWN0aXZlIG9uLlxyXG5cdHJlbW92ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9tYXApIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcclxuXHJcblx0XHRpZiAodGhpcy5vblJlbW92ZSkge1xyXG5cdFx0XHR0aGlzLm9uUmVtb3ZlKHRoaXMuX21hcCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbWFwLm9mZigndW5sb2FkJywgdGhpcy5yZW1vdmUsIHRoaXMpO1xyXG5cdFx0dGhpcy5fbWFwID0gbnVsbDtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfcmVmb2N1c09uTWFwOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0Ly8gaWYgbWFwIGV4aXN0cyBhbmQgZXZlbnQgaXMgbm90IGEga2V5Ym9hcmQgZXZlbnRcclxuXHRcdGlmICh0aGlzLl9tYXAgJiYgZSAmJiBlLnNjcmVlblggPiAwICYmIGUuc2NyZWVuWSA+IDApIHtcclxuXHRcdFx0dGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmZvY3VzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmV4cG9ydCB2YXIgY29udHJvbCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBDb250cm9sKG9wdGlvbnMpO1xyXG59O1xyXG5cclxuLyogQHNlY3Rpb24gRXh0ZW5zaW9uIG1ldGhvZHNcclxuICogQHVuaW5oZXJpdGFibGVcclxuICpcclxuICogRXZlcnkgY29udHJvbCBzaG91bGQgZXh0ZW5kIGZyb20gYEwuQ29udHJvbGAgYW5kIChyZS0paW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgbWV0aG9kcy5cclxuICpcclxuICogQG1ldGhvZCBvbkFkZChtYXA6IE1hcCk6IEhUTUxFbGVtZW50XHJcbiAqIFNob3VsZCByZXR1cm4gdGhlIGNvbnRhaW5lciBET00gZWxlbWVudCBmb3IgdGhlIGNvbnRyb2wgYW5kIGFkZCBsaXN0ZW5lcnMgb24gcmVsZXZhbnQgbWFwIGV2ZW50cy4gQ2FsbGVkIG9uIFtgY29udHJvbC5hZGRUbyhtYXApYF0oI2NvbnRyb2wtYWRkVG8pLlxyXG4gKlxyXG4gKiBAbWV0aG9kIG9uUmVtb3ZlKG1hcDogTWFwKVxyXG4gKiBPcHRpb25hbCBtZXRob2QuIFNob3VsZCBjb250YWluIGFsbCBjbGVhbiB1cCBjb2RlIHRoYXQgcmVtb3ZlcyB0aGUgbGlzdGVuZXJzIHByZXZpb3VzbHkgYWRkZWQgaW4gW2BvbkFkZGBdKCNjb250cm9sLW9uYWRkKS4gQ2FsbGVkIG9uIFtgY29udHJvbC5yZW1vdmUoKWBdKCNjb250cm9sLXJlbW92ZSkuXHJcbiAqL1xyXG5cclxuLyogQG5hbWVzcGFjZSBNYXBcclxuICogQHNlY3Rpb24gTWV0aG9kcyBmb3IgTGF5ZXJzIGFuZCBDb250cm9sc1xyXG4gKi9cclxuTWFwLmluY2x1ZGUoe1xyXG5cdC8vIEBtZXRob2QgYWRkQ29udHJvbChjb250cm9sOiBDb250cm9sKTogdGhpc1xyXG5cdC8vIEFkZHMgdGhlIGdpdmVuIGNvbnRyb2wgdG8gdGhlIG1hcFxyXG5cdGFkZENvbnRyb2w6IGZ1bmN0aW9uIChjb250cm9sKSB7XHJcblx0XHRjb250cm9sLmFkZFRvKHRoaXMpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCByZW1vdmVDb250cm9sKGNvbnRyb2w6IENvbnRyb2wpOiB0aGlzXHJcblx0Ly8gUmVtb3ZlcyB0aGUgZ2l2ZW4gY29udHJvbCBmcm9tIHRoZSBtYXBcclxuXHRyZW1vdmVDb250cm9sOiBmdW5jdGlvbiAoY29udHJvbCkge1xyXG5cdFx0Y29udHJvbC5yZW1vdmUoKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0Q29udHJvbFBvczogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGNvcm5lcnMgPSB0aGlzLl9jb250cm9sQ29ybmVycyA9IHt9LFxyXG5cdFx0ICAgIGwgPSAnbGVhZmxldC0nLFxyXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRyb2xDb250YWluZXIgPVxyXG5cdFx0ICAgICAgICAgICAgRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGwgKyAnY29udHJvbC1jb250YWluZXInLCB0aGlzLl9jb250YWluZXIpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZUNvcm5lcih2U2lkZSwgaFNpZGUpIHtcclxuXHRcdFx0dmFyIGNsYXNzTmFtZSA9IGwgKyB2U2lkZSArICcgJyArIGwgKyBoU2lkZTtcclxuXHJcblx0XHRcdGNvcm5lcnNbdlNpZGUgKyBoU2lkZV0gPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lLCBjb250YWluZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNyZWF0ZUNvcm5lcigndG9wJywgJ2xlZnQnKTtcclxuXHRcdGNyZWF0ZUNvcm5lcigndG9wJywgJ3JpZ2h0Jyk7XHJcblx0XHRjcmVhdGVDb3JuZXIoJ2JvdHRvbScsICdsZWZ0Jyk7XHJcblx0XHRjcmVhdGVDb3JuZXIoJ2JvdHRvbScsICdyaWdodCcpO1xyXG5cdH0sXHJcblxyXG5cdF9jbGVhckNvbnRyb2xQb3M6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fY29udHJvbENvcm5lcnMpIHtcclxuXHRcdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fY29udHJvbENvcm5lcnNbaV0pO1xyXG5cdFx0fVxyXG5cdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fY29udHJvbENvbnRhaW5lcik7XHJcblx0XHRkZWxldGUgdGhpcy5fY29udHJvbENvcm5lcnM7XHJcblx0XHRkZWxldGUgdGhpcy5fY29udHJvbENvbnRhaW5lcjtcclxuXHR9XHJcbn0pO1xyXG4iLCAiXHJcbmltcG9ydCB7Q29udHJvbH0gZnJvbSAnLi9Db250cm9sJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi9kb20vRG9tRXZlbnQnO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBDb250cm9sLkxheWVyc1xyXG4gKiBAYWthIEwuQ29udHJvbC5MYXllcnNcclxuICogQGluaGVyaXRzIENvbnRyb2xcclxuICpcclxuICogVGhlIGxheWVycyBjb250cm9sIGdpdmVzIHVzZXJzIHRoZSBhYmlsaXR5IHRvIHN3aXRjaCBiZXR3ZWVuIGRpZmZlcmVudCBiYXNlIGxheWVycyBhbmQgc3dpdGNoIG92ZXJsYXlzIG9uL29mZiAoY2hlY2sgb3V0IHRoZSBbZGV0YWlsZWQgZXhhbXBsZV0oaHR0cHM6Ly9sZWFmbGV0anMuY29tL2V4YW1wbGVzL2xheWVycy1jb250cm9sLykpLiBFeHRlbmRzIGBDb250cm9sYC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIGJhc2VMYXllcnMgPSB7XHJcbiAqIFx0XCJNYXBib3hcIjogbWFwYm94LFxyXG4gKiBcdFwiT3BlblN0cmVldE1hcFwiOiBvc21cclxuICogfTtcclxuICpcclxuICogdmFyIG92ZXJsYXlzID0ge1xyXG4gKiBcdFwiTWFya2VyXCI6IG1hcmtlcixcclxuICogXHRcIlJvYWRzXCI6IHJvYWRzTGF5ZXJcclxuICogfTtcclxuICpcclxuICogTC5jb250cm9sLmxheWVycyhiYXNlTGF5ZXJzLCBvdmVybGF5cykuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBgYmFzZUxheWVyc2AgYW5kIGBvdmVybGF5c2AgcGFyYW1ldGVycyBhcmUgb2JqZWN0IGxpdGVyYWxzIHdpdGggbGF5ZXIgbmFtZXMgYXMga2V5cyBhbmQgYExheWVyYCBvYmplY3RzIGFzIHZhbHVlczpcclxuICpcclxuICogYGBganNcclxuICoge1xyXG4gKiAgICAgXCI8c29tZU5hbWUxPlwiOiBsYXllcjEsXHJcbiAqICAgICBcIjxzb21lTmFtZTI+XCI6IGxheWVyMlxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgbGF5ZXIgbmFtZXMgY2FuIGNvbnRhaW4gSFRNTCwgd2hpY2ggYWxsb3dzIHlvdSB0byBhZGQgYWRkaXRpb25hbCBzdHlsaW5nIHRvIHRoZSBpdGVtczpcclxuICpcclxuICogYGBganNcclxuICoge1wiPGltZyBzcmM9J215LWxheWVyLWljb24nIC8+IDxzcGFuIGNsYXNzPSdteS1sYXllci1pdGVtJz5NeSBMYXllcjwvc3Bhbj5cIjogbXlMYXllcn1cclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBMYXllcnMgPSBDb250cm9sLmV4dGVuZCh7XHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIENvbnRyb2wuTGF5ZXJzIG9wdGlvbnNcclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIGNvbGxhcHNlZDogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIElmIGB0cnVlYCwgdGhlIGNvbnRyb2wgd2lsbCBiZSBjb2xsYXBzZWQgaW50byBhbiBpY29uIGFuZCBleHBhbmRlZCBvbiBtb3VzZSBob3ZlciwgdG91Y2gsIG9yIGtleWJvYXJkIGFjdGl2YXRpb24uXHJcblx0XHRjb2xsYXBzZWQ6IHRydWUsXHJcblx0XHRwb3NpdGlvbjogJ3RvcHJpZ2h0JyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9aSW5kZXg6IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBJZiBgdHJ1ZWAsIHRoZSBjb250cm9sIHdpbGwgYXNzaWduIHpJbmRleGVzIGluIGluY3JlYXNpbmcgb3JkZXIgdG8gYWxsIG9mIGl0cyBsYXllcnMgc28gdGhhdCB0aGUgb3JkZXIgaXMgcHJlc2VydmVkIHdoZW4gc3dpdGNoaW5nIHRoZW0gb24vb2ZmLlxyXG5cdFx0YXV0b1pJbmRleDogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGhpZGVTaW5nbGVCYXNlOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIGB0cnVlYCwgdGhlIGJhc2UgbGF5ZXJzIGluIHRoZSBjb250cm9sIHdpbGwgYmUgaGlkZGVuIHdoZW4gdGhlcmUgaXMgb25seSBvbmUuXHJcblx0XHRoaWRlU2luZ2xlQmFzZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBzb3J0TGF5ZXJzOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIFdoZXRoZXIgdG8gc29ydCB0aGUgbGF5ZXJzLiBXaGVuIGBmYWxzZWAsIGxheWVycyB3aWxsIGtlZXAgdGhlIG9yZGVyXHJcblx0XHQvLyBpbiB3aGljaCB0aGV5IHdlcmUgYWRkZWQgdG8gdGhlIGNvbnRyb2wuXHJcblx0XHRzb3J0TGF5ZXJzOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHNvcnRGdW5jdGlvbjogRnVuY3Rpb24gPSAqXHJcblx0XHQvLyBBIFtjb21wYXJlIGZ1bmN0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zb3J0KVxyXG5cdFx0Ly8gdGhhdCB3aWxsIGJlIHVzZWQgZm9yIHNvcnRpbmcgdGhlIGxheWVycywgd2hlbiBgc29ydExheWVyc2AgaXMgYHRydWVgLlxyXG5cdFx0Ly8gVGhlIGZ1bmN0aW9uIHJlY2VpdmVzIGJvdGggdGhlIGBMLkxheWVyYCBpbnN0YW5jZXMgYW5kIHRoZWlyIG5hbWVzLCBhcyBpblxyXG5cdFx0Ly8gYHNvcnRGdW5jdGlvbihsYXllckEsIGxheWVyQiwgbmFtZUEsIG5hbWVCKWAuXHJcblx0XHQvLyBCeSBkZWZhdWx0LCBpdCBzb3J0cyBsYXllcnMgYWxwaGFiZXRpY2FsbHkgYnkgdGhlaXIgbmFtZS5cclxuXHRcdHNvcnRGdW5jdGlvbjogZnVuY3Rpb24gKGxheWVyQSwgbGF5ZXJCLCBuYW1lQSwgbmFtZUIpIHtcclxuXHRcdFx0cmV0dXJuIG5hbWVBIDwgbmFtZUIgPyAtMSA6IChuYW1lQiA8IG5hbWVBID8gMSA6IDApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChiYXNlTGF5ZXJzLCBvdmVybGF5cywgb3B0aW9ucykge1xyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHRoaXMuX2xheWVyQ29udHJvbElucHV0cyA9IFtdO1xyXG5cdFx0dGhpcy5fbGF5ZXJzID0gW107XHJcblx0XHR0aGlzLl9sYXN0WkluZGV4ID0gMDtcclxuXHRcdHRoaXMuX2hhbmRsaW5nQ2xpY2sgPSBmYWxzZTtcclxuXHRcdHRoaXMuX3ByZXZlbnRDbGljayA9IGZhbHNlO1xyXG5cclxuXHRcdGZvciAodmFyIGkgaW4gYmFzZUxheWVycykge1xyXG5cdFx0XHR0aGlzLl9hZGRMYXllcihiYXNlTGF5ZXJzW2ldLCBpKTtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGkgaW4gb3ZlcmxheXMpIHtcclxuXHRcdFx0dGhpcy5fYWRkTGF5ZXIob3ZlcmxheXNbaV0sIGksIHRydWUpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHR0aGlzLl9pbml0TGF5b3V0KCk7XHJcblx0XHR0aGlzLl91cGRhdGUoKTtcclxuXHJcblx0XHR0aGlzLl9tYXAgPSBtYXA7XHJcblx0XHRtYXAub24oJ3pvb21lbmQnLCB0aGlzLl9jaGVja0Rpc2FibGVkTGF5ZXJzLCB0aGlzKTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xheWVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0aGlzLl9sYXllcnNbaV0ubGF5ZXIub24oJ2FkZCByZW1vdmUnLCB0aGlzLl9vbkxheWVyQ2hhbmdlLCB0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5fY29udGFpbmVyO1xyXG5cdH0sXHJcblxyXG5cdGFkZFRvOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHRDb250cm9sLnByb3RvdHlwZS5hZGRUby5jYWxsKHRoaXMsIG1hcCk7XHJcblx0XHQvLyBUcmlnZ2VyIGV4cGFuZCBhZnRlciBMYXllcnMgQ29udHJvbCBoYXMgYmVlbiBpbnNlcnRlZCBpbnRvIERPTSBzbyB0aGF0IGlzIG5vdyBoYXMgYW4gYWN0dWFsIGhlaWdodC5cclxuXHRcdHJldHVybiB0aGlzLl9leHBhbmRJZk5vdENvbGxhcHNlZCgpO1xyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLl9tYXAub2ZmKCd6b29tZW5kJywgdGhpcy5fY2hlY2tEaXNhYmxlZExheWVycywgdGhpcyk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9sYXllcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dGhpcy5fbGF5ZXJzW2ldLmxheWVyLm9mZignYWRkIHJlbW92ZScsIHRoaXMuX29uTGF5ZXJDaGFuZ2UsIHRoaXMpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYWRkQmFzZUxheWVyKGxheWVyOiBMYXllciwgbmFtZTogU3RyaW5nKTogdGhpc1xyXG5cdC8vIEFkZHMgYSBiYXNlIGxheWVyIChyYWRpbyBidXR0b24gZW50cnkpIHdpdGggdGhlIGdpdmVuIG5hbWUgdG8gdGhlIGNvbnRyb2wuXHJcblx0YWRkQmFzZUxheWVyOiBmdW5jdGlvbiAobGF5ZXIsIG5hbWUpIHtcclxuXHRcdHRoaXMuX2FkZExheWVyKGxheWVyLCBuYW1lKTtcclxuXHRcdHJldHVybiAodGhpcy5fbWFwKSA/IHRoaXMuX3VwZGF0ZSgpIDogdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZE92ZXJsYXkobGF5ZXI6IExheWVyLCBuYW1lOiBTdHJpbmcpOiB0aGlzXHJcblx0Ly8gQWRkcyBhbiBvdmVybGF5IChjaGVja2JveCBlbnRyeSkgd2l0aCB0aGUgZ2l2ZW4gbmFtZSB0byB0aGUgY29udHJvbC5cclxuXHRhZGRPdmVybGF5OiBmdW5jdGlvbiAobGF5ZXIsIG5hbWUpIHtcclxuXHRcdHRoaXMuX2FkZExheWVyKGxheWVyLCBuYW1lLCB0cnVlKTtcclxuXHRcdHJldHVybiAodGhpcy5fbWFwKSA/IHRoaXMuX3VwZGF0ZSgpIDogdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZUxheWVyKGxheWVyOiBMYXllcik6IHRoaXNcclxuXHQvLyBSZW1vdmUgdGhlIGdpdmVuIGxheWVyIGZyb20gdGhlIGNvbnRyb2wuXHJcblx0cmVtb3ZlTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0bGF5ZXIub2ZmKCdhZGQgcmVtb3ZlJywgdGhpcy5fb25MYXllckNoYW5nZSwgdGhpcyk7XHJcblxyXG5cdFx0dmFyIG9iaiA9IHRoaXMuX2dldExheWVyKFV0aWwuc3RhbXAobGF5ZXIpKTtcclxuXHRcdGlmIChvYmopIHtcclxuXHRcdFx0dGhpcy5fbGF5ZXJzLnNwbGljZSh0aGlzLl9sYXllcnMuaW5kZXhPZihvYmopLCAxKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiAodGhpcy5fbWFwKSA/IHRoaXMuX3VwZGF0ZSgpIDogdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGV4cGFuZCgpOiB0aGlzXHJcblx0Ly8gRXhwYW5kIHRoZSBjb250cm9sIGNvbnRhaW5lciBpZiBjb2xsYXBzZWQuXHJcblx0ZXhwYW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY29udHJvbC1sYXllcnMtZXhwYW5kZWQnKTtcclxuXHRcdHRoaXMuX3NlY3Rpb24uc3R5bGUuaGVpZ2h0ID0gbnVsbDtcclxuXHRcdHZhciBhY2NlcHRhYmxlSGVpZ2h0ID0gdGhpcy5fbWFwLmdldFNpemUoKS55IC0gKHRoaXMuX2NvbnRhaW5lci5vZmZzZXRUb3AgKyA1MCk7XHJcblx0XHRpZiAoYWNjZXB0YWJsZUhlaWdodCA8IHRoaXMuX3NlY3Rpb24uY2xpZW50SGVpZ2h0KSB7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fc2VjdGlvbiwgJ2xlYWZsZXQtY29udHJvbC1sYXllcnMtc2Nyb2xsYmFyJyk7XHJcblx0XHRcdHRoaXMuX3NlY3Rpb24uc3R5bGUuaGVpZ2h0ID0gYWNjZXB0YWJsZUhlaWdodCArICdweCc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX3NlY3Rpb24sICdsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXNjcm9sbGJhcicpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fY2hlY2tEaXNhYmxlZExheWVycygpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjb2xsYXBzZSgpOiB0aGlzXHJcblx0Ly8gQ29sbGFwc2UgdGhlIGNvbnRyb2wgY29udGFpbmVyIGlmIGV4cGFuZGVkLlxyXG5cdGNvbGxhcHNlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY29udHJvbC1sYXllcnMtZXhwYW5kZWQnKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0TGF5b3V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgY2xhc3NOYW1lID0gJ2xlYWZsZXQtY29udHJvbC1sYXllcnMnLFxyXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUpLFxyXG5cdFx0ICAgIGNvbGxhcHNlZCA9IHRoaXMub3B0aW9ucy5jb2xsYXBzZWQ7XHJcblxyXG5cdFx0Ly8gbWFrZXMgdGhpcyB3b3JrIG9uIElFIHRvdWNoIGRldmljZXMgYnkgc3RvcHBpbmcgaXQgZnJvbSBmaXJpbmcgYSBtb3VzZW91dCBldmVudCB3aGVuIHRoZSB0b3VjaCBpcyByZWxlYXNlZFxyXG5cdFx0Y29udGFpbmVyLnNldEF0dHJpYnV0ZSgnYXJpYS1oYXNwb3B1cCcsIHRydWUpO1xyXG5cclxuXHRcdERvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGNvbnRhaW5lcik7XHJcblx0XHREb21FdmVudC5kaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb24oY29udGFpbmVyKTtcclxuXHJcblx0XHR2YXIgc2VjdGlvbiA9IHRoaXMuX3NlY3Rpb24gPSBEb21VdGlsLmNyZWF0ZSgnc2VjdGlvbicsIGNsYXNzTmFtZSArICctbGlzdCcpO1xyXG5cclxuXHRcdGlmIChjb2xsYXBzZWQpIHtcclxuXHRcdFx0dGhpcy5fbWFwLm9uKCdjbGljaycsIHRoaXMuY29sbGFwc2UsIHRoaXMpO1xyXG5cclxuXHRcdFx0RG9tRXZlbnQub24oY29udGFpbmVyLCB7XHJcblx0XHRcdFx0bW91c2VlbnRlcjogdGhpcy5fZXhwYW5kU2FmZWx5LFxyXG5cdFx0XHRcdG1vdXNlbGVhdmU6IHRoaXMuY29sbGFwc2VcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGxpbmsgPSB0aGlzLl9sYXllcnNMaW5rID0gRG9tVXRpbC5jcmVhdGUoJ2EnLCBjbGFzc05hbWUgKyAnLXRvZ2dsZScsIGNvbnRhaW5lcik7XHJcblx0XHRsaW5rLmhyZWYgPSAnIyc7XHJcblx0XHRsaW5rLnRpdGxlID0gJ0xheWVycyc7XHJcblx0XHRsaW5rLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcclxuXHJcblx0XHREb21FdmVudC5vbihsaW5rLCB7XHJcblx0XHRcdGtleWRvd246IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0aWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcclxuXHRcdFx0XHRcdHRoaXMuX2V4cGFuZFNhZmVseSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0Ly8gQ2VydGFpbiBzY3JlZW4gcmVhZGVycyBpbnRlcmNlcHQgdGhlIGtleSBldmVudCBhbmQgaW5zdGVhZCBzZW5kIGEgY2xpY2sgZXZlbnRcclxuXHRcdFx0Y2xpY2s6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0RG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XHJcblx0XHRcdFx0dGhpcy5fZXhwYW5kU2FmZWx5KCk7XHJcblx0XHRcdH1cclxuXHRcdH0sIHRoaXMpO1xyXG5cclxuXHRcdGlmICghY29sbGFwc2VkKSB7XHJcblx0XHRcdHRoaXMuZXhwYW5kKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fYmFzZUxheWVyc0xpc3QgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lICsgJy1iYXNlJywgc2VjdGlvbik7XHJcblx0XHR0aGlzLl9zZXBhcmF0b3IgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lICsgJy1zZXBhcmF0b3InLCBzZWN0aW9uKTtcclxuXHRcdHRoaXMuX292ZXJsYXlzTGlzdCA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUgKyAnLW92ZXJsYXlzJywgc2VjdGlvbik7XHJcblxyXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb24pO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRMYXllcjogZnVuY3Rpb24gKGlkKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xheWVycy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuX2xheWVyc1tpXSAmJiBVdGlsLnN0YW1wKHRoaXMuX2xheWVyc1tpXS5sYXllcikgPT09IGlkKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2xheWVyc1tpXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9hZGRMYXllcjogZnVuY3Rpb24gKGxheWVyLCBuYW1lLCBvdmVybGF5KSB7XHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdGxheWVyLm9uKCdhZGQgcmVtb3ZlJywgdGhpcy5fb25MYXllckNoYW5nZSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbGF5ZXJzLnB1c2goe1xyXG5cdFx0XHRsYXllcjogbGF5ZXIsXHJcblx0XHRcdG5hbWU6IG5hbWUsXHJcblx0XHRcdG92ZXJsYXk6IG92ZXJsYXlcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuc29ydExheWVycykge1xyXG5cdFx0XHR0aGlzLl9sYXllcnMuc29ydChVdGlsLmJpbmQoZnVuY3Rpb24gKGEsIGIpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLnNvcnRGdW5jdGlvbihhLmxheWVyLCBiLmxheWVyLCBhLm5hbWUsIGIubmFtZSk7XHJcblx0XHRcdH0sIHRoaXMpKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmF1dG9aSW5kZXggJiYgbGF5ZXIuc2V0WkluZGV4KSB7XHJcblx0XHRcdHRoaXMuX2xhc3RaSW5kZXgrKztcclxuXHRcdFx0bGF5ZXIuc2V0WkluZGV4KHRoaXMuX2xhc3RaSW5kZXgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2V4cGFuZElmTm90Q29sbGFwc2VkKCk7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9jb250YWluZXIpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHREb21VdGlsLmVtcHR5KHRoaXMuX2Jhc2VMYXllcnNMaXN0KTtcclxuXHRcdERvbVV0aWwuZW1wdHkodGhpcy5fb3ZlcmxheXNMaXN0KTtcclxuXHJcblx0XHR0aGlzLl9sYXllckNvbnRyb2xJbnB1dHMgPSBbXTtcclxuXHRcdHZhciBiYXNlTGF5ZXJzUHJlc2VudCwgb3ZlcmxheXNQcmVzZW50LCBpLCBvYmosIGJhc2VMYXllcnNDb3VudCA9IDA7XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IHRoaXMuX2xheWVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRvYmogPSB0aGlzLl9sYXllcnNbaV07XHJcblx0XHRcdHRoaXMuX2FkZEl0ZW0ob2JqKTtcclxuXHRcdFx0b3ZlcmxheXNQcmVzZW50ID0gb3ZlcmxheXNQcmVzZW50IHx8IG9iai5vdmVybGF5O1xyXG5cdFx0XHRiYXNlTGF5ZXJzUHJlc2VudCA9IGJhc2VMYXllcnNQcmVzZW50IHx8ICFvYmoub3ZlcmxheTtcclxuXHRcdFx0YmFzZUxheWVyc0NvdW50ICs9ICFvYmoub3ZlcmxheSA/IDEgOiAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEhpZGUgYmFzZSBsYXllcnMgc2VjdGlvbiBpZiB0aGVyZSdzIG9ubHkgb25lIGxheWVyLlxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5oaWRlU2luZ2xlQmFzZSkge1xyXG5cdFx0XHRiYXNlTGF5ZXJzUHJlc2VudCA9IGJhc2VMYXllcnNQcmVzZW50ICYmIGJhc2VMYXllcnNDb3VudCA+IDE7XHJcblx0XHRcdHRoaXMuX2Jhc2VMYXllcnNMaXN0LnN0eWxlLmRpc3BsYXkgPSBiYXNlTGF5ZXJzUHJlc2VudCA/ICcnIDogJ25vbmUnO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3NlcGFyYXRvci5zdHlsZS5kaXNwbGF5ID0gb3ZlcmxheXNQcmVzZW50ICYmIGJhc2VMYXllcnNQcmVzZW50ID8gJycgOiAnbm9uZSc7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X29uTGF5ZXJDaGFuZ2U6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRpZiAoIXRoaXMuX2hhbmRsaW5nQ2xpY2spIHtcclxuXHRcdFx0dGhpcy5fdXBkYXRlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG9iaiA9IHRoaXMuX2dldExheWVyKFV0aWwuc3RhbXAoZS50YXJnZXQpKTtcclxuXHJcblx0XHQvLyBAbmFtZXNwYWNlIE1hcFxyXG5cdFx0Ly8gQHNlY3Rpb24gTGF5ZXIgZXZlbnRzXHJcblx0XHQvLyBAZXZlbnQgYmFzZWxheWVyY2hhbmdlOiBMYXllcnNDb250cm9sRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIGJhc2UgbGF5ZXIgaXMgY2hhbmdlZCB0aHJvdWdoIHRoZSBbbGF5ZXJzIGNvbnRyb2xdKCNjb250cm9sLWxheWVycykuXHJcblx0XHQvLyBAZXZlbnQgb3ZlcmxheWFkZDogTGF5ZXJzQ29udHJvbEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGFuIG92ZXJsYXkgaXMgc2VsZWN0ZWQgdGhyb3VnaCB0aGUgW2xheWVycyBjb250cm9sXSgjY29udHJvbC1sYXllcnMpLlxyXG5cdFx0Ly8gQGV2ZW50IG92ZXJsYXlyZW1vdmU6IExheWVyc0NvbnRyb2xFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBhbiBvdmVybGF5IGlzIGRlc2VsZWN0ZWQgdGhyb3VnaCB0aGUgW2xheWVycyBjb250cm9sXSgjY29udHJvbC1sYXllcnMpLlxyXG5cdFx0Ly8gQG5hbWVzcGFjZSBDb250cm9sLkxheWVyc1xyXG5cdFx0dmFyIHR5cGUgPSBvYmoub3ZlcmxheSA/XHJcblx0XHRcdChlLnR5cGUgPT09ICdhZGQnID8gJ292ZXJsYXlhZGQnIDogJ292ZXJsYXlyZW1vdmUnKSA6XHJcblx0XHRcdChlLnR5cGUgPT09ICdhZGQnID8gJ2Jhc2VsYXllcmNoYW5nZScgOiBudWxsKTtcclxuXHJcblx0XHRpZiAodHlwZSkge1xyXG5cdFx0XHR0aGlzLl9tYXAuZmlyZSh0eXBlLCBvYmopO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIElFNyBidWdzIG91dCBpZiB5b3UgY3JlYXRlIGEgcmFkaW8gZHluYW1pY2FsbHksIHNvIHlvdSBoYXZlIHRvIGRvIGl0IHRoaXMgaGFja3kgd2F5IChzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzExOTA3OSlcclxuXHRfY3JlYXRlUmFkaW9FbGVtZW50OiBmdW5jdGlvbiAobmFtZSwgY2hlY2tlZCkge1xyXG5cclxuXHRcdHZhciByYWRpb0h0bWwgPSAnPGlucHV0IHR5cGU9XCJyYWRpb1wiIGNsYXNzPVwibGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3RvclwiIG5hbWU9XCInICtcclxuXHRcdFx0XHRuYW1lICsgJ1wiJyArIChjaGVja2VkID8gJyBjaGVja2VkPVwiY2hlY2tlZFwiJyA6ICcnKSArICcvPic7XHJcblxyXG5cdFx0dmFyIHJhZGlvRnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHJhZGlvRnJhZ21lbnQuaW5uZXJIVE1MID0gcmFkaW9IdG1sO1xyXG5cclxuXHRcdHJldHVybiByYWRpb0ZyYWdtZW50LmZpcnN0Q2hpbGQ7XHJcblx0fSxcclxuXHJcblx0X2FkZEl0ZW06IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyksXHJcblx0XHQgICAgY2hlY2tlZCA9IHRoaXMuX21hcC5oYXNMYXllcihvYmoubGF5ZXIpLFxyXG5cdFx0ICAgIGlucHV0O1xyXG5cclxuXHRcdGlmIChvYmoub3ZlcmxheSkge1xyXG5cdFx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcblx0XHRcdGlucHV0LnR5cGUgPSAnY2hlY2tib3gnO1xyXG5cdFx0XHRpbnB1dC5jbGFzc05hbWUgPSAnbGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3Rvcic7XHJcblx0XHRcdGlucHV0LmRlZmF1bHRDaGVja2VkID0gY2hlY2tlZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlucHV0ID0gdGhpcy5fY3JlYXRlUmFkaW9FbGVtZW50KCdsZWFmbGV0LWJhc2UtbGF5ZXJzXycgKyBVdGlsLnN0YW1wKHRoaXMpLCBjaGVja2VkKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9sYXllckNvbnRyb2xJbnB1dHMucHVzaChpbnB1dCk7XHJcblx0XHRpbnB1dC5sYXllcklkID0gVXRpbC5zdGFtcChvYmoubGF5ZXIpO1xyXG5cclxuXHRcdERvbUV2ZW50Lm9uKGlucHV0LCAnY2xpY2snLCB0aGlzLl9vbklucHV0Q2xpY2ssIHRoaXMpO1xyXG5cclxuXHRcdHZhciBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0bmFtZS5pbm5lckhUTUwgPSAnICcgKyBvYmoubmFtZTtcclxuXHJcblx0XHQvLyBIZWxwcyBmcm9tIHByZXZlbnRpbmcgbGF5ZXIgY29udHJvbCBmbGlja2VyIHdoZW4gY2hlY2tib3hlcyBhcmUgZGlzYWJsZWRcclxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzI3NzFcclxuXHRcdHZhciBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG5cdFx0bGFiZWwuYXBwZW5kQ2hpbGQoaG9sZGVyKTtcclxuXHRcdGhvbGRlci5hcHBlbmRDaGlsZChpbnB1dCk7XHJcblx0XHRob2xkZXIuYXBwZW5kQ2hpbGQobmFtZSk7XHJcblxyXG5cdFx0dmFyIGNvbnRhaW5lciA9IG9iai5vdmVybGF5ID8gdGhpcy5fb3ZlcmxheXNMaXN0IDogdGhpcy5fYmFzZUxheWVyc0xpc3Q7XHJcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG5cclxuXHRcdHRoaXMuX2NoZWNrRGlzYWJsZWRMYXllcnMoKTtcclxuXHRcdHJldHVybiBsYWJlbDtcclxuXHR9LFxyXG5cclxuXHRfb25JbnB1dENsaWNrOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyBleHBhbmRpbmcgdGhlIGNvbnRyb2wgb24gbW9iaWxlIHdpdGggYSBjbGljayBjYW4gY2F1c2UgYWRkaW5nIGEgbGF5ZXIgLSB3ZSBkb24ndCB3YW50IHRoaXNcclxuXHRcdGlmICh0aGlzLl9wcmV2ZW50Q2xpY2spIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBpbnB1dHMgPSB0aGlzLl9sYXllckNvbnRyb2xJbnB1dHMsXHJcblx0XHQgICAgaW5wdXQsIGxheWVyO1xyXG5cdFx0dmFyIGFkZGVkTGF5ZXJzID0gW10sXHJcblx0XHQgICAgcmVtb3ZlZExheWVycyA9IFtdO1xyXG5cclxuXHRcdHRoaXMuX2hhbmRsaW5nQ2xpY2sgPSB0cnVlO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSBpbnB1dHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0aW5wdXQgPSBpbnB1dHNbaV07XHJcblx0XHRcdGxheWVyID0gdGhpcy5fZ2V0TGF5ZXIoaW5wdXQubGF5ZXJJZCkubGF5ZXI7XHJcblxyXG5cdFx0XHRpZiAoaW5wdXQuY2hlY2tlZCkge1xyXG5cdFx0XHRcdGFkZGVkTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCFpbnB1dC5jaGVja2VkKSB7XHJcblx0XHRcdFx0cmVtb3ZlZExheWVycy5wdXNoKGxheWVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEJ1Z2ZpeCBpc3N1ZSAyMzE4OiBTaG91bGQgcmVtb3ZlIGFsbCBvbGQgbGF5ZXJzIGJlZm9yZSByZWFkZGluZyBuZXcgb25lc1xyXG5cdFx0Zm9yIChpID0gMDsgaSA8IHJlbW92ZWRMYXllcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKHRoaXMuX21hcC5oYXNMYXllcihyZW1vdmVkTGF5ZXJzW2ldKSkge1xyXG5cdFx0XHRcdHRoaXMuX21hcC5yZW1vdmVMYXllcihyZW1vdmVkTGF5ZXJzW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IGFkZGVkTGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmICghdGhpcy5fbWFwLmhhc0xheWVyKGFkZGVkTGF5ZXJzW2ldKSkge1xyXG5cdFx0XHRcdHRoaXMuX21hcC5hZGRMYXllcihhZGRlZExheWVyc1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9oYW5kbGluZ0NsaWNrID0gZmFsc2U7XHJcblxyXG5cdFx0dGhpcy5fcmVmb2N1c09uTWFwKCk7XHJcblx0fSxcclxuXHJcblx0X2NoZWNrRGlzYWJsZWRMYXllcnM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBpbnB1dHMgPSB0aGlzLl9sYXllckNvbnRyb2xJbnB1dHMsXHJcblx0XHQgICAgaW5wdXQsXHJcblx0XHQgICAgbGF5ZXIsXHJcblx0XHQgICAgem9vbSA9IHRoaXMuX21hcC5nZXRab29tKCk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IGlucHV0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRpbnB1dCA9IGlucHV0c1tpXTtcclxuXHRcdFx0bGF5ZXIgPSB0aGlzLl9nZXRMYXllcihpbnB1dC5sYXllcklkKS5sYXllcjtcclxuXHRcdFx0aW5wdXQuZGlzYWJsZWQgPSAobGF5ZXIub3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgJiYgem9vbSA8IGxheWVyLm9wdGlvbnMubWluWm9vbSkgfHxcclxuXHRcdFx0ICAgICAgICAgICAgICAgICAobGF5ZXIub3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQgJiYgem9vbSA+IGxheWVyLm9wdGlvbnMubWF4Wm9vbSk7XHJcblxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9leHBhbmRJZk5vdENvbGxhcHNlZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCAmJiAhdGhpcy5vcHRpb25zLmNvbGxhcHNlZCkge1xyXG5cdFx0XHR0aGlzLmV4cGFuZCgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X2V4cGFuZFNhZmVseTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHNlY3Rpb24gPSB0aGlzLl9zZWN0aW9uO1xyXG5cdFx0dGhpcy5fcHJldmVudENsaWNrID0gdHJ1ZTtcclxuXHRcdERvbUV2ZW50Lm9uKHNlY3Rpb24sICdjbGljaycsIERvbUV2ZW50LnByZXZlbnREZWZhdWx0KTtcclxuXHRcdHRoaXMuZXhwYW5kKCk7XHJcblx0XHR2YXIgdGhhdCA9IHRoaXM7XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0RG9tRXZlbnQub2ZmKHNlY3Rpb24sICdjbGljaycsIERvbUV2ZW50LnByZXZlbnREZWZhdWx0KTtcclxuXHRcdFx0dGhhdC5fcHJldmVudENsaWNrID0gZmFsc2U7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG59KTtcclxuXHJcblxyXG4vLyBAZmFjdG9yeSBMLmNvbnRyb2wubGF5ZXJzKGJhc2VsYXllcnM/OiBPYmplY3QsIG92ZXJsYXlzPzogT2JqZWN0LCBvcHRpb25zPzogQ29udHJvbC5MYXllcnMgb3B0aW9ucylcclxuLy8gQ3JlYXRlcyBhIGxheWVycyBjb250cm9sIHdpdGggdGhlIGdpdmVuIGxheWVycy4gQmFzZSBsYXllcnMgd2lsbCBiZSBzd2l0Y2hlZCB3aXRoIHJhZGlvIGJ1dHRvbnMsIHdoaWxlIG92ZXJsYXlzIHdpbGwgYmUgc3dpdGNoZWQgd2l0aCBjaGVja2JveGVzLiBOb3RlIHRoYXQgYWxsIGJhc2UgbGF5ZXJzIHNob3VsZCBiZSBwYXNzZWQgaW4gdGhlIGJhc2UgbGF5ZXJzIG9iamVjdCwgYnV0IG9ubHkgb25lIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgbWFwIGR1cmluZyBtYXAgaW5zdGFudGlhdGlvbi5cclxuZXhwb3J0IHZhciBsYXllcnMgPSBmdW5jdGlvbiAoYmFzZUxheWVycywgb3ZlcmxheXMsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IExheWVycyhiYXNlTGF5ZXJzLCBvdmVybGF5cywgb3B0aW9ucyk7XHJcbn07XHJcbiIsICJcclxuaW1wb3J0IHtDb250cm9sfSBmcm9tICcuL0NvbnRyb2wnO1xyXG5pbXBvcnQge01hcH0gZnJvbSAnLi4vbWFwL01hcCc7XHJcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi9kb20vRG9tRXZlbnQnO1xyXG5cclxuLypcclxuICogQGNsYXNzIENvbnRyb2wuWm9vbVxyXG4gKiBAYWthIEwuQ29udHJvbC5ab29tXHJcbiAqIEBpbmhlcml0cyBDb250cm9sXHJcbiAqXHJcbiAqIEEgYmFzaWMgem9vbSBjb250cm9sIHdpdGggdHdvIGJ1dHRvbnMgKHpvb20gaW4gYW5kIHpvb20gb3V0KS4gSXQgaXMgcHV0IG9uIHRoZSBtYXAgYnkgZGVmYXVsdCB1bmxlc3MgeW91IHNldCBpdHMgW2B6b29tQ29udHJvbGAgb3B0aW9uXSgjbWFwLXpvb21jb250cm9sKSB0byBgZmFsc2VgLiBFeHRlbmRzIGBDb250cm9sYC5cclxuICovXHJcblxyXG5leHBvcnQgdmFyIFpvb20gPSBDb250cm9sLmV4dGVuZCh7XHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIENvbnRyb2wuWm9vbSBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0cG9zaXRpb246ICd0b3BsZWZ0JyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21JblRleHQ6IFN0cmluZyA9ICc8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4rPC9zcGFuPidcclxuXHRcdC8vIFRoZSB0ZXh0IHNldCBvbiB0aGUgJ3pvb20gaW4nIGJ1dHRvbi5cclxuXHRcdHpvb21JblRleHQ6ICc8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4rPC9zcGFuPicsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tSW5UaXRsZTogU3RyaW5nID0gJ1pvb20gaW4nXHJcblx0XHQvLyBUaGUgdGl0bGUgc2V0IG9uIHRoZSAnem9vbSBpbicgYnV0dG9uLlxyXG5cdFx0em9vbUluVGl0bGU6ICdab29tIGluJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21PdXRUZXh0OiBTdHJpbmcgPSAnPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JiN4MjIxMjs8L3NwYW4+J1xyXG5cdFx0Ly8gVGhlIHRleHQgc2V0IG9uIHRoZSAnem9vbSBvdXQnIGJ1dHRvbi5cclxuXHRcdHpvb21PdXRUZXh0OiAnPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JiN4MjIxMjs8L3NwYW4+JyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21PdXRUaXRsZTogU3RyaW5nID0gJ1pvb20gb3V0J1xyXG5cdFx0Ly8gVGhlIHRpdGxlIHNldCBvbiB0aGUgJ3pvb20gb3V0JyBidXR0b24uXHJcblx0XHR6b29tT3V0VGl0bGU6ICdab29tIG91dCdcclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0dmFyIHpvb21OYW1lID0gJ2xlYWZsZXQtY29udHJvbC16b29tJyxcclxuXHRcdCAgICBjb250YWluZXIgPSBEb21VdGlsLmNyZWF0ZSgnZGl2Jywgem9vbU5hbWUgKyAnIGxlYWZsZXQtYmFyJyksXHJcblx0XHQgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuXHJcblx0XHR0aGlzLl96b29tSW5CdXR0b24gID0gdGhpcy5fY3JlYXRlQnV0dG9uKG9wdGlvbnMuem9vbUluVGV4dCwgb3B0aW9ucy56b29tSW5UaXRsZSxcclxuXHRcdCAgICAgICAgem9vbU5hbWUgKyAnLWluJywgIGNvbnRhaW5lciwgdGhpcy5fem9vbUluKTtcclxuXHRcdHRoaXMuX3pvb21PdXRCdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24ob3B0aW9ucy56b29tT3V0VGV4dCwgb3B0aW9ucy56b29tT3V0VGl0bGUsXHJcblx0XHQgICAgICAgIHpvb21OYW1lICsgJy1vdXQnLCBjb250YWluZXIsIHRoaXMuX3pvb21PdXQpO1xyXG5cclxuXHRcdHRoaXMuX3VwZGF0ZURpc2FibGVkKCk7XHJcblx0XHRtYXAub24oJ3pvb21lbmQgem9vbWxldmVsc2NoYW5nZScsIHRoaXMuX3VwZGF0ZURpc2FibGVkLCB0aGlzKTtcclxuXHJcblx0XHRyZXR1cm4gY29udGFpbmVyO1xyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHRtYXAub2ZmKCd6b29tZW5kIHpvb21sZXZlbHNjaGFuZ2UnLCB0aGlzLl91cGRhdGVEaXNhYmxlZCwgdGhpcyk7XHJcblx0fSxcclxuXHJcblx0ZGlzYWJsZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5fZGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5fdXBkYXRlRGlzYWJsZWQoKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdGVuYWJsZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5fZGlzYWJsZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuX3VwZGF0ZURpc2FibGVkKCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfem9vbUluOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0aWYgKCF0aGlzLl9kaXNhYmxlZCAmJiB0aGlzLl9tYXAuX3pvb20gPCB0aGlzLl9tYXAuZ2V0TWF4Wm9vbSgpKSB7XHJcblx0XHRcdHRoaXMuX21hcC56b29tSW4odGhpcy5fbWFwLm9wdGlvbnMuem9vbURlbHRhICogKGUuc2hpZnRLZXkgPyAzIDogMSkpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF96b29tT3V0OiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0aWYgKCF0aGlzLl9kaXNhYmxlZCAmJiB0aGlzLl9tYXAuX3pvb20gPiB0aGlzLl9tYXAuZ2V0TWluWm9vbSgpKSB7XHJcblx0XHRcdHRoaXMuX21hcC56b29tT3V0KHRoaXMuX21hcC5vcHRpb25zLnpvb21EZWx0YSAqIChlLnNoaWZ0S2V5ID8gMyA6IDEpKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlQnV0dG9uOiBmdW5jdGlvbiAoaHRtbCwgdGl0bGUsIGNsYXNzTmFtZSwgY29udGFpbmVyLCBmbikge1xyXG5cdFx0dmFyIGxpbmsgPSBEb21VdGlsLmNyZWF0ZSgnYScsIGNsYXNzTmFtZSwgY29udGFpbmVyKTtcclxuXHRcdGxpbmsuaW5uZXJIVE1MID0gaHRtbDtcclxuXHRcdGxpbmsuaHJlZiA9ICcjJztcclxuXHRcdGxpbmsudGl0bGUgPSB0aXRsZTtcclxuXHJcblx0XHQvKlxyXG5cdFx0ICogV2lsbCBmb3JjZSBzY3JlZW4gcmVhZGVycyBsaWtlIFZvaWNlT3ZlciB0byByZWFkIHRoaXMgYXMgXCJab29tIGluIC0gYnV0dG9uXCJcclxuXHRcdCAqL1xyXG5cdFx0bGluay5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XHJcblx0XHRsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRpdGxlKTtcclxuXHJcblx0XHREb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihsaW5rKTtcclxuXHRcdERvbUV2ZW50Lm9uKGxpbmssICdjbGljaycsIERvbUV2ZW50LnN0b3ApO1xyXG5cdFx0RG9tRXZlbnQub24obGluaywgJ2NsaWNrJywgZm4sIHRoaXMpO1xyXG5cdFx0RG9tRXZlbnQub24obGluaywgJ2NsaWNrJywgdGhpcy5fcmVmb2N1c09uTWFwLCB0aGlzKTtcclxuXHJcblx0XHRyZXR1cm4gbGluaztcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlRGlzYWJsZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXHJcblx0XHQgICAgY2xhc3NOYW1lID0gJ2xlYWZsZXQtZGlzYWJsZWQnO1xyXG5cclxuXHRcdERvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fem9vbUluQnV0dG9uLCBjbGFzc05hbWUpO1xyXG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl96b29tT3V0QnV0dG9uLCBjbGFzc05hbWUpO1xyXG5cdFx0dGhpcy5fem9vbUluQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xyXG5cdFx0dGhpcy5fem9vbU91dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcclxuXHJcblx0XHRpZiAodGhpcy5fZGlzYWJsZWQgfHwgbWFwLl96b29tID09PSBtYXAuZ2V0TWluWm9vbSgpKSB7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fem9vbU91dEJ1dHRvbiwgY2xhc3NOYW1lKTtcclxuXHRcdFx0dGhpcy5fem9vbU91dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuX2Rpc2FibGVkIHx8IG1hcC5fem9vbSA9PT0gbWFwLmdldE1heFpvb20oKSkge1xyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX3pvb21JbkJ1dHRvbiwgY2xhc3NOYW1lKTtcclxuXHRcdFx0dGhpcy5fem9vbUluQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBuYW1lc3BhY2UgTWFwXHJcbi8vIEBzZWN0aW9uIENvbnRyb2wgb3B0aW9uc1xyXG4vLyBAb3B0aW9uIHpvb21Db250cm9sOiBCb29sZWFuID0gdHJ1ZVxyXG4vLyBXaGV0aGVyIGEgW3pvb20gY29udHJvbF0oI2NvbnRyb2wtem9vbSkgaXMgYWRkZWQgdG8gdGhlIG1hcCBieSBkZWZhdWx0LlxyXG5NYXAubWVyZ2VPcHRpb25zKHtcclxuXHR6b29tQ29udHJvbDogdHJ1ZVxyXG59KTtcclxuXHJcbk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbiAoKSB7XHJcblx0aWYgKHRoaXMub3B0aW9ucy56b29tQ29udHJvbCkge1xyXG5cdFx0Ly8gQHNlY3Rpb24gQ29udHJvbHNcclxuXHRcdC8vIEBwcm9wZXJ0eSB6b29tQ29udHJvbDogQ29udHJvbC5ab29tXHJcblx0XHQvLyBUaGUgZGVmYXVsdCB6b29tIGNvbnRyb2wgKG9ubHkgYXZhaWxhYmxlIGlmIHRoZVxyXG5cdFx0Ly8gW2B6b29tQ29udHJvbGAgb3B0aW9uXSgjbWFwLXpvb21jb250cm9sKSB3YXMgYHRydWVgIHdoZW4gY3JlYXRpbmcgdGhlIG1hcCkuXHJcblx0XHR0aGlzLnpvb21Db250cm9sID0gbmV3IFpvb20oKTtcclxuXHRcdHRoaXMuYWRkQ29udHJvbCh0aGlzLnpvb21Db250cm9sKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQG5hbWVzcGFjZSBDb250cm9sLlpvb21cclxuLy8gQGZhY3RvcnkgTC5jb250cm9sLnpvb20ob3B0aW9uczogQ29udHJvbC5ab29tIG9wdGlvbnMpXHJcbi8vIENyZWF0ZXMgYSB6b29tIGNvbnRyb2xcclxuZXhwb3J0IHZhciB6b29tID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IFpvb20ob3B0aW9ucyk7XHJcbn07XHJcbiIsICJcbmltcG9ydCB7Q29udHJvbH0gZnJvbSAnLi9Db250cm9sJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xuXG4vKlxuICogQGNsYXNzIENvbnRyb2wuU2NhbGVcbiAqIEBha2EgTC5Db250cm9sLlNjYWxlXG4gKiBAaW5oZXJpdHMgQ29udHJvbFxuICpcbiAqIEEgc2ltcGxlIHNjYWxlIGNvbnRyb2wgdGhhdCBzaG93cyB0aGUgc2NhbGUgb2YgdGhlIGN1cnJlbnQgY2VudGVyIG9mIHNjcmVlbiBpbiBtZXRyaWMgKG0va20pIGFuZCBpbXBlcmlhbCAobWkvZnQpIHN5c3RlbXMuIEV4dGVuZHMgYENvbnRyb2xgLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIEwuY29udHJvbC5zY2FsZSgpLmFkZFRvKG1hcCk7XG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgdmFyIFNjYWxlID0gQ29udHJvbC5leHRlbmQoe1xuXHQvLyBAc2VjdGlvblxuXHQvLyBAYWthIENvbnRyb2wuU2NhbGUgb3B0aW9uc1xuXHRvcHRpb25zOiB7XG5cdFx0cG9zaXRpb246ICdib3R0b21sZWZ0JyxcblxuXHRcdC8vIEBvcHRpb24gbWF4V2lkdGg6IE51bWJlciA9IDEwMFxuXHRcdC8vIE1heGltdW0gd2lkdGggb2YgdGhlIGNvbnRyb2wgaW4gcGl4ZWxzLiBUaGUgd2lkdGggaXMgc2V0IGR5bmFtaWNhbGx5IHRvIHNob3cgcm91bmQgdmFsdWVzIChlLmcuIDEwMCwgMjAwLCA1MDApLlxuXHRcdG1heFdpZHRoOiAxMDAsXG5cblx0XHQvLyBAb3B0aW9uIG1ldHJpYzogQm9vbGVhbiA9IFRydWVcblx0XHQvLyBXaGV0aGVyIHRvIHNob3cgdGhlIG1ldHJpYyBzY2FsZSBsaW5lIChtL2ttKS5cblx0XHRtZXRyaWM6IHRydWUsXG5cblx0XHQvLyBAb3B0aW9uIGltcGVyaWFsOiBCb29sZWFuID0gVHJ1ZVxuXHRcdC8vIFdoZXRoZXIgdG8gc2hvdyB0aGUgaW1wZXJpYWwgc2NhbGUgbGluZSAobWkvZnQpLlxuXHRcdGltcGVyaWFsOiB0cnVlXG5cblx0XHQvLyBAb3B0aW9uIHVwZGF0ZVdoZW5JZGxlOiBCb29sZWFuID0gZmFsc2Vcblx0XHQvLyBJZiBgdHJ1ZWAsIHRoZSBjb250cm9sIGlzIHVwZGF0ZWQgb24gW2Btb3ZlZW5kYF0oI21hcC1tb3ZlZW5kKSwgb3RoZXJ3aXNlIGl0J3MgYWx3YXlzIHVwLXRvLWRhdGUgKHVwZGF0ZWQgb24gW2Btb3ZlYF0oI21hcC1tb3ZlKSkuXG5cdH0sXG5cblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcblx0XHR2YXIgY2xhc3NOYW1lID0gJ2xlYWZsZXQtY29udHJvbC1zY2FsZScsXG5cdFx0ICAgIGNvbnRhaW5lciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUpLFxuXHRcdCAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0dGhpcy5fYWRkU2NhbGVzKG9wdGlvbnMsIGNsYXNzTmFtZSArICctbGluZScsIGNvbnRhaW5lcik7XG5cblx0XHRtYXAub24ob3B0aW9ucy51cGRhdGVXaGVuSWRsZSA/ICdtb3ZlZW5kJyA6ICdtb3ZlJywgdGhpcy5fdXBkYXRlLCB0aGlzKTtcblx0XHRtYXAud2hlblJlYWR5KHRoaXMuX3VwZGF0ZSwgdGhpcyk7XG5cblx0XHRyZXR1cm4gY29udGFpbmVyO1xuXHR9LFxuXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0bWFwLm9mZih0aGlzLm9wdGlvbnMudXBkYXRlV2hlbklkbGUgPyAnbW92ZWVuZCcgOiAnbW92ZScsIHRoaXMuX3VwZGF0ZSwgdGhpcyk7XG5cdH0sXG5cblx0X2FkZFNjYWxlczogZnVuY3Rpb24gKG9wdGlvbnMsIGNsYXNzTmFtZSwgY29udGFpbmVyKSB7XG5cdFx0aWYgKG9wdGlvbnMubWV0cmljKSB7XG5cdFx0XHR0aGlzLl9tU2NhbGUgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lLCBjb250YWluZXIpO1xuXHRcdH1cblx0XHRpZiAob3B0aW9ucy5pbXBlcmlhbCkge1xuXHRcdFx0dGhpcy5faVNjYWxlID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSwgY29udGFpbmVyKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIHkgPSBtYXAuZ2V0U2l6ZSgpLnkgLyAyO1xuXG5cdFx0dmFyIG1heE1ldGVycyA9IG1hcC5kaXN0YW5jZShcblx0XHRcdG1hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKFswLCB5XSksXG5cdFx0XHRtYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyhbdGhpcy5vcHRpb25zLm1heFdpZHRoLCB5XSkpO1xuXG5cdFx0dGhpcy5fdXBkYXRlU2NhbGVzKG1heE1ldGVycyk7XG5cdH0sXG5cblx0X3VwZGF0ZVNjYWxlczogZnVuY3Rpb24gKG1heE1ldGVycykge1xuXHRcdGlmICh0aGlzLm9wdGlvbnMubWV0cmljICYmIG1heE1ldGVycykge1xuXHRcdFx0dGhpcy5fdXBkYXRlTWV0cmljKG1heE1ldGVycyk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLm9wdGlvbnMuaW1wZXJpYWwgJiYgbWF4TWV0ZXJzKSB7XG5cdFx0XHR0aGlzLl91cGRhdGVJbXBlcmlhbChtYXhNZXRlcnMpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlTWV0cmljOiBmdW5jdGlvbiAobWF4TWV0ZXJzKSB7XG5cdFx0dmFyIG1ldGVycyA9IHRoaXMuX2dldFJvdW5kTnVtKG1heE1ldGVycyksXG5cdFx0ICAgIGxhYmVsID0gbWV0ZXJzIDwgMTAwMCA/IG1ldGVycyArICcgbScgOiAobWV0ZXJzIC8gMTAwMCkgKyAnIGttJztcblxuXHRcdHRoaXMuX3VwZGF0ZVNjYWxlKHRoaXMuX21TY2FsZSwgbGFiZWwsIG1ldGVycyAvIG1heE1ldGVycyk7XG5cdH0sXG5cblx0X3VwZGF0ZUltcGVyaWFsOiBmdW5jdGlvbiAobWF4TWV0ZXJzKSB7XG5cdFx0dmFyIG1heEZlZXQgPSBtYXhNZXRlcnMgKiAzLjI4MDgzOTksXG5cdFx0ICAgIG1heE1pbGVzLCBtaWxlcywgZmVldDtcblxuXHRcdGlmIChtYXhGZWV0ID4gNTI4MCkge1xuXHRcdFx0bWF4TWlsZXMgPSBtYXhGZWV0IC8gNTI4MDtcblx0XHRcdG1pbGVzID0gdGhpcy5fZ2V0Um91bmROdW0obWF4TWlsZXMpO1xuXHRcdFx0dGhpcy5fdXBkYXRlU2NhbGUodGhpcy5faVNjYWxlLCBtaWxlcyArICcgbWknLCBtaWxlcyAvIG1heE1pbGVzKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmZWV0ID0gdGhpcy5fZ2V0Um91bmROdW0obWF4RmVldCk7XG5cdFx0XHR0aGlzLl91cGRhdGVTY2FsZSh0aGlzLl9pU2NhbGUsIGZlZXQgKyAnIGZ0JywgZmVldCAvIG1heEZlZXQpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlU2NhbGU6IGZ1bmN0aW9uIChzY2FsZSwgdGV4dCwgcmF0aW8pIHtcblx0XHRzY2FsZS5zdHlsZS53aWR0aCA9IE1hdGgucm91bmQodGhpcy5vcHRpb25zLm1heFdpZHRoICogcmF0aW8pICsgJ3B4Jztcblx0XHRzY2FsZS5pbm5lckhUTUwgPSB0ZXh0O1xuXHR9LFxuXG5cdF9nZXRSb3VuZE51bTogZnVuY3Rpb24gKG51bSkge1xuXHRcdHZhciBwb3cxMCA9IE1hdGgucG93KDEwLCAoTWF0aC5mbG9vcihudW0pICsgJycpLmxlbmd0aCAtIDEpLFxuXHRcdCAgICBkID0gbnVtIC8gcG93MTA7XG5cblx0XHRkID0gZCA+PSAxMCA/IDEwIDpcblx0XHQgICAgZCA+PSA1ID8gNSA6XG5cdFx0ICAgIGQgPj0gMyA/IDMgOlxuXHRcdCAgICBkID49IDIgPyAyIDogMTtcblxuXHRcdHJldHVybiBwb3cxMCAqIGQ7XG5cdH1cbn0pO1xuXG5cbi8vIEBmYWN0b3J5IEwuY29udHJvbC5zY2FsZShvcHRpb25zPzogQ29udHJvbC5TY2FsZSBvcHRpb25zKVxuLy8gQ3JlYXRlcyBhbiBzY2FsZSBjb250cm9sIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG5leHBvcnQgdmFyIHNjYWxlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBTY2FsZShvcHRpb25zKTtcbn07XG4iLCAiXHJcbmltcG9ydCB7Q29udHJvbH0gZnJvbSAnLi9Db250cm9sJztcclxuaW1wb3J0IHtNYXB9IGZyb20gJy4uL21hcC9NYXAnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uL2RvbS9Eb21FdmVudCc7XHJcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xyXG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi9jb3JlL0Jyb3dzZXInO1xyXG5cclxudmFyIHVrcmFpbmlhbkZsYWcgPSAnPHN2ZyBhcmlhLWhpZGRlbj1cInRydWVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjhcIiB2aWV3Qm94PVwiMCAwIDEyIDhcIiBjbGFzcz1cImxlYWZsZXQtYXR0cmlidXRpb24tZmxhZ1wiPjxwYXRoIGZpbGw9XCIjNEM3QkUxXCIgZD1cIk0wIDBoMTJ2NEgwelwiLz48cGF0aCBmaWxsPVwiI0ZGRDUwMFwiIGQ9XCJNMCA0aDEydjNIMHpcIi8+PHBhdGggZmlsbD1cIiNFMEJDMDBcIiBkPVwiTTAgN2gxMnYxSDB6XCIvPjwvc3ZnPic7XHJcblxyXG5cclxuLypcclxuICogQGNsYXNzIENvbnRyb2wuQXR0cmlidXRpb25cclxuICogQGFrYSBMLkNvbnRyb2wuQXR0cmlidXRpb25cclxuICogQGluaGVyaXRzIENvbnRyb2xcclxuICpcclxuICogVGhlIGF0dHJpYnV0aW9uIGNvbnRyb2wgYWxsb3dzIHlvdSB0byBkaXNwbGF5IGF0dHJpYnV0aW9uIGRhdGEgaW4gYSBzbWFsbCB0ZXh0IGJveCBvbiBhIG1hcC4gSXQgaXMgcHV0IG9uIHRoZSBtYXAgYnkgZGVmYXVsdCB1bmxlc3MgeW91IHNldCBpdHMgW2BhdHRyaWJ1dGlvbkNvbnRyb2xgIG9wdGlvbl0oI21hcC1hdHRyaWJ1dGlvbmNvbnRyb2wpIHRvIGBmYWxzZWAsIGFuZCBpdCBmZXRjaGVzIGF0dHJpYnV0aW9uIHRleHRzIGZyb20gbGF5ZXJzIHdpdGggdGhlIFtgZ2V0QXR0cmlidXRpb25gIG1ldGhvZF0oI2xheWVyLWdldGF0dHJpYnV0aW9uKSBhdXRvbWF0aWNhbGx5LiBFeHRlbmRzIENvbnRyb2wuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBBdHRyaWJ1dGlvbiA9IENvbnRyb2wuZXh0ZW5kKHtcclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgQ29udHJvbC5BdHRyaWJ1dGlvbiBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0cG9zaXRpb246ICdib3R0b21yaWdodCcsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBwcmVmaXg6IFN0cmluZ3xmYWxzZSA9ICdMZWFmbGV0J1xyXG5cdFx0Ly8gVGhlIEhUTUwgdGV4dCBzaG93biBiZWZvcmUgdGhlIGF0dHJpYnV0aW9ucy4gUGFzcyBgZmFsc2VgIHRvIGRpc2FibGUuXHJcblx0XHRwcmVmaXg6ICc8YSBocmVmPVwiaHR0cHM6Ly9sZWFmbGV0anMuY29tXCIgdGl0bGU9XCJBIEphdmFTY3JpcHQgbGlicmFyeSBmb3IgaW50ZXJhY3RpdmUgbWFwc1wiPicgKyAoQnJvd3Nlci5pbmxpbmVTdmcgPyB1a3JhaW5pYW5GbGFnICsgJyAnIDogJycpICsgJ0xlYWZsZXQ8L2E+J1xyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblxyXG5cdFx0dGhpcy5fYXR0cmlidXRpb25zID0ge307XHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdG1hcC5hdHRyaWJ1dGlvbkNvbnRyb2wgPSB0aGlzO1xyXG5cdFx0dGhpcy5fY29udGFpbmVyID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LWNvbnRyb2wtYXR0cmlidXRpb24nKTtcclxuXHRcdERvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHRoaXMuX2NvbnRhaW5lcik7XHJcblxyXG5cdFx0Ly8gVE9ETyB1Z2x5LCByZWZhY3RvclxyXG5cdFx0Zm9yICh2YXIgaSBpbiBtYXAuX2xheWVycykge1xyXG5cdFx0XHRpZiAobWFwLl9sYXllcnNbaV0uZ2V0QXR0cmlidXRpb24pIHtcclxuXHRcdFx0XHR0aGlzLmFkZEF0dHJpYnV0aW9uKG1hcC5fbGF5ZXJzW2ldLmdldEF0dHJpYnV0aW9uKCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fdXBkYXRlKCk7XHJcblxyXG5cdFx0bWFwLm9uKCdsYXllcmFkZCcsIHRoaXMuX2FkZEF0dHJpYnV0aW9uLCB0aGlzKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5fY29udGFpbmVyO1xyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHRtYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMuX2FkZEF0dHJpYnV0aW9uLCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHRfYWRkQXR0cmlidXRpb246IGZ1bmN0aW9uIChldikge1xyXG5cdFx0aWYgKGV2LmxheWVyLmdldEF0dHJpYnV0aW9uKSB7XHJcblx0XHRcdHRoaXMuYWRkQXR0cmlidXRpb24oZXYubGF5ZXIuZ2V0QXR0cmlidXRpb24oKSk7XHJcblx0XHRcdGV2LmxheWVyLm9uY2UoJ3JlbW92ZScsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR0aGlzLnJlbW92ZUF0dHJpYnV0aW9uKGV2LmxheWVyLmdldEF0dHJpYnV0aW9uKCkpO1xyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFByZWZpeChwcmVmaXg6IFN0cmluZ3xmYWxzZSk6IHRoaXNcclxuXHQvLyBUaGUgSFRNTCB0ZXh0IHNob3duIGJlZm9yZSB0aGUgYXR0cmlidXRpb25zLiBQYXNzIGBmYWxzZWAgdG8gZGlzYWJsZS5cclxuXHRzZXRQcmVmaXg6IGZ1bmN0aW9uIChwcmVmaXgpIHtcclxuXHRcdHRoaXMub3B0aW9ucy5wcmVmaXggPSBwcmVmaXg7XHJcblx0XHR0aGlzLl91cGRhdGUoKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYWRkQXR0cmlidXRpb24odGV4dDogU3RyaW5nKTogdGhpc1xyXG5cdC8vIEFkZHMgYW4gYXR0cmlidXRpb24gdGV4dCAoZS5nLiBgJyZjb3B5OyBPcGVuU3RyZWV0TWFwIGNvbnRyaWJ1dG9ycydgKS5cclxuXHRhZGRBdHRyaWJ1dGlvbjogZnVuY3Rpb24gKHRleHQpIHtcclxuXHRcdGlmICghdGV4dCkgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdGlmICghdGhpcy5fYXR0cmlidXRpb25zW3RleHRdKSB7XHJcblx0XHRcdHRoaXMuX2F0dHJpYnV0aW9uc1t0ZXh0XSA9IDA7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9hdHRyaWJ1dGlvbnNbdGV4dF0rKztcclxuXHJcblx0XHR0aGlzLl91cGRhdGUoKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZUF0dHJpYnV0aW9uKHRleHQ6IFN0cmluZyk6IHRoaXNcclxuXHQvLyBSZW1vdmVzIGFuIGF0dHJpYnV0aW9uIHRleHQuXHJcblx0cmVtb3ZlQXR0cmlidXRpb246IGZ1bmN0aW9uICh0ZXh0KSB7XHJcblx0XHRpZiAoIXRleHQpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHRpZiAodGhpcy5fYXR0cmlidXRpb25zW3RleHRdKSB7XHJcblx0XHRcdHRoaXMuX2F0dHJpYnV0aW9uc1t0ZXh0XS0tO1xyXG5cdFx0XHR0aGlzLl91cGRhdGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cclxuXHJcblx0XHR2YXIgYXR0cmlicyA9IFtdO1xyXG5cclxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fYXR0cmlidXRpb25zKSB7XHJcblx0XHRcdGlmICh0aGlzLl9hdHRyaWJ1dGlvbnNbaV0pIHtcclxuXHRcdFx0XHRhdHRyaWJzLnB1c2goaSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR2YXIgcHJlZml4QW5kQXR0cmlicyA9IFtdO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMucHJlZml4KSB7XHJcblx0XHRcdHByZWZpeEFuZEF0dHJpYnMucHVzaCh0aGlzLm9wdGlvbnMucHJlZml4KTtcclxuXHRcdH1cclxuXHRcdGlmIChhdHRyaWJzLmxlbmd0aCkge1xyXG5cdFx0XHRwcmVmaXhBbmRBdHRyaWJzLnB1c2goYXR0cmlicy5qb2luKCcsICcpKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gcHJlZml4QW5kQXR0cmlicy5qb2luKCcgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+fDwvc3Bhbj4gJyk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBuYW1lc3BhY2UgTWFwXHJcbi8vIEBzZWN0aW9uIENvbnRyb2wgb3B0aW9uc1xyXG4vLyBAb3B0aW9uIGF0dHJpYnV0aW9uQ29udHJvbDogQm9vbGVhbiA9IHRydWVcclxuLy8gV2hldGhlciBhIFthdHRyaWJ1dGlvbiBjb250cm9sXSgjY29udHJvbC1hdHRyaWJ1dGlvbikgaXMgYWRkZWQgdG8gdGhlIG1hcCBieSBkZWZhdWx0LlxyXG5NYXAubWVyZ2VPcHRpb25zKHtcclxuXHRhdHRyaWJ1dGlvbkNvbnRyb2w6IHRydWVcclxufSk7XHJcblxyXG5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24gKCkge1xyXG5cdGlmICh0aGlzLm9wdGlvbnMuYXR0cmlidXRpb25Db250cm9sKSB7XHJcblx0XHRuZXcgQXR0cmlidXRpb24oKS5hZGRUbyh0aGlzKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQG5hbWVzcGFjZSBDb250cm9sLkF0dHJpYnV0aW9uXHJcbi8vIEBmYWN0b3J5IEwuY29udHJvbC5hdHRyaWJ1dGlvbihvcHRpb25zOiBDb250cm9sLkF0dHJpYnV0aW9uIG9wdGlvbnMpXHJcbi8vIENyZWF0ZXMgYW4gYXR0cmlidXRpb24gY29udHJvbC5cclxuZXhwb3J0IHZhciBhdHRyaWJ1dGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBBdHRyaWJ1dGlvbihvcHRpb25zKTtcclxufTtcclxuIiwgImltcG9ydCB7Q29udHJvbCwgY29udHJvbH0gZnJvbSAnLi9Db250cm9sJztcbmltcG9ydCB7TGF5ZXJzLCBsYXllcnN9IGZyb20gJy4vQ29udHJvbC5MYXllcnMnO1xuaW1wb3J0IHtab29tLCB6b29tfSBmcm9tICcuL0NvbnRyb2wuWm9vbSc7XG5pbXBvcnQge1NjYWxlLCBzY2FsZX0gZnJvbSAnLi9Db250cm9sLlNjYWxlJztcbmltcG9ydCB7QXR0cmlidXRpb24sIGF0dHJpYnV0aW9ufSBmcm9tICcuL0NvbnRyb2wuQXR0cmlidXRpb24nO1xuXG5Db250cm9sLkxheWVycyA9IExheWVycztcbkNvbnRyb2wuWm9vbSA9IFpvb207XG5Db250cm9sLlNjYWxlID0gU2NhbGU7XG5Db250cm9sLkF0dHJpYnV0aW9uID0gQXR0cmlidXRpb247XG5cbmNvbnRyb2wubGF5ZXJzID0gbGF5ZXJzO1xuY29udHJvbC56b29tID0gem9vbTtcbmNvbnRyb2wuc2NhbGUgPSBzY2FsZTtcbmNvbnRyb2wuYXR0cmlidXRpb24gPSBhdHRyaWJ1dGlvbjtcblxuZXhwb3J0IHtDb250cm9sLCBjb250cm9sfTtcbiIsICJpbXBvcnQge0NsYXNzfSBmcm9tICcuL0NsYXNzJztcblxuLypcblx0TC5IYW5kbGVyIGlzIGEgYmFzZSBjbGFzcyBmb3IgaGFuZGxlciBjbGFzc2VzIHRoYXQgYXJlIHVzZWQgaW50ZXJuYWxseSB0byBpbmplY3Rcblx0aW50ZXJhY3Rpb24gZmVhdHVyZXMgbGlrZSBkcmFnZ2luZyB0byBjbGFzc2VzIGxpa2UgTWFwIGFuZCBNYXJrZXIuXG4qL1xuXG4vLyBAY2xhc3MgSGFuZGxlclxuLy8gQGFrYSBMLkhhbmRsZXJcbi8vIEFic3RyYWN0IGNsYXNzIGZvciBtYXAgaW50ZXJhY3Rpb24gaGFuZGxlcnNcblxuZXhwb3J0IHZhciBIYW5kbGVyID0gQ2xhc3MuZXh0ZW5kKHtcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcCkge1xuXHRcdHRoaXMuX21hcCA9IG1hcDtcblx0fSxcblxuXHQvLyBAbWV0aG9kIGVuYWJsZSgpOiB0aGlzXG5cdC8vIEVuYWJsZXMgdGhlIGhhbmRsZXJcblx0ZW5hYmxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuIHRoaXM7IH1cblxuXHRcdHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXHRcdHRoaXMuYWRkSG9va3MoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGRpc2FibGUoKTogdGhpc1xuXHQvLyBEaXNhYmxlcyB0aGUgaGFuZGxlclxuXHRkaXNhYmxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl9lbmFibGVkKSB7IHJldHVybiB0aGlzOyB9XG5cblx0XHR0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cdFx0dGhpcy5yZW1vdmVIb29rcygpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZW5hYmxlZCgpOiBCb29sZWFuXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBoYW5kbGVyIGlzIGVuYWJsZWRcblx0ZW5hYmxlZDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG5cdH1cblxuXHQvLyBAc2VjdGlvbiBFeHRlbnNpb24gbWV0aG9kc1xuXHQvLyBDbGFzc2VzIGluaGVyaXRpbmcgZnJvbSBgSGFuZGxlcmAgbXVzdCBpbXBsZW1lbnQgdGhlIHR3byBmb2xsb3dpbmcgbWV0aG9kczpcblx0Ly8gQG1ldGhvZCBhZGRIb29rcygpXG5cdC8vIENhbGxlZCB3aGVuIHRoZSBoYW5kbGVyIGlzIGVuYWJsZWQsIHNob3VsZCBhZGQgZXZlbnQgaG9va3MuXG5cdC8vIEBtZXRob2QgcmVtb3ZlSG9va3MoKVxuXHQvLyBDYWxsZWQgd2hlbiB0aGUgaGFuZGxlciBpcyBkaXNhYmxlZCwgc2hvdWxkIHJlbW92ZSB0aGUgZXZlbnQgaG9va3MgYWRkZWQgcHJldmlvdXNseS5cbn0pO1xuXG4vLyBAc2VjdGlvbiBUaGVyZSBpcyBzdGF0aWMgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCB3aXRob3V0IGluc3RhbnRpYXRpbmcgTC5IYW5kbGVyOlxuLy8gQGZ1bmN0aW9uIGFkZFRvKG1hcDogTWFwLCBuYW1lOiBTdHJpbmcpOiB0aGlzXG4vLyBBZGRzIGEgbmV3IEhhbmRsZXIgdG8gdGhlIGdpdmVuIG1hcCB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuSGFuZGxlci5hZGRUbyA9IGZ1bmN0aW9uIChtYXAsIG5hbWUpIHtcblx0bWFwLmFkZEhhbmRsZXIobmFtZSwgdGhpcyk7XG5cdHJldHVybiB0aGlzO1xufTtcbiIsICJpbXBvcnQgQnJvd3NlciBmcm9tICcuL0Jyb3dzZXInO1xuZXhwb3J0IHtCcm93c2VyfTtcblxuZXhwb3J0IHtDbGFzc30gZnJvbSAnLi9DbGFzcyc7XG5cbmltcG9ydCB7RXZlbnRlZH0gZnJvbSAnLi9FdmVudHMnO1xuaW1wb3J0IHtFdmVudHN9IGZyb20gJy4vRXZlbnRzJztcbmV4cG9ydCB7RXZlbnRlZH07XG5leHBvcnQgdmFyIE1peGluID0ge0V2ZW50czogRXZlbnRzfTtcblxuZXhwb3J0IHtIYW5kbGVyfSBmcm9tICcuL0hhbmRsZXInO1xuXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4vVXRpbCc7XG5leHBvcnQge1V0aWx9O1xuZXhwb3J0IHtleHRlbmQsIGJpbmQsIHN0YW1wLCBzZXRPcHRpb25zfSBmcm9tICcuL1V0aWwnO1xuIiwgImltcG9ydCB7RXZlbnRlZH0gZnJvbSAnLi4vY29yZS9FdmVudHMnO1xyXG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi9jb3JlL0Jyb3dzZXInO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuL0RvbUV2ZW50JztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuL0RvbVV0aWwnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7UG9pbnR9IGZyb20gJy4uL2dlb21ldHJ5L1BvaW50JztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBEcmFnZ2FibGVcclxuICogQGFrYSBMLkRyYWdnYWJsZVxyXG4gKiBAaW5oZXJpdHMgRXZlbnRlZFxyXG4gKlxyXG4gKiBBIGNsYXNzIGZvciBtYWtpbmcgRE9NIGVsZW1lbnRzIGRyYWdnYWJsZSAoaW5jbHVkaW5nIHRvdWNoIHN1cHBvcnQpLlxyXG4gKiBVc2VkIGludGVybmFsbHkgZm9yIG1hcCBhbmQgbWFya2VyIGRyYWdnaW5nLiBPbmx5IHdvcmtzIGZvciBlbGVtZW50c1xyXG4gKiB0aGF0IHdlcmUgcG9zaXRpb25lZCB3aXRoIFtgTC5Eb21VdGlsLnNldFBvc2l0aW9uYF0oI2RvbXV0aWwtc2V0cG9zaXRpb24pLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgZHJhZ2dhYmxlID0gbmV3IEwuRHJhZ2dhYmxlKGVsZW1lbnRUb0RyYWcpO1xyXG4gKiBkcmFnZ2FibGUuZW5hYmxlKCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbnZhciBTVEFSVCA9IEJyb3dzZXIudG91Y2ggPyAndG91Y2hzdGFydCBtb3VzZWRvd24nIDogJ21vdXNlZG93bic7XHJcblxyXG5leHBvcnQgdmFyIERyYWdnYWJsZSA9IEV2ZW50ZWQuZXh0ZW5kKHtcclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQHNlY3Rpb25cclxuXHRcdC8vIEBha2EgRHJhZ2dhYmxlIG9wdGlvbnNcclxuXHRcdC8vIEBvcHRpb24gY2xpY2tUb2xlcmFuY2U6IE51bWJlciA9IDNcclxuXHRcdC8vIFRoZSBtYXggbnVtYmVyIG9mIHBpeGVscyBhIHVzZXIgY2FuIHNoaWZ0IHRoZSBtb3VzZSBwb2ludGVyIGR1cmluZyBhIGNsaWNrXHJcblx0XHQvLyBmb3IgaXQgdG8gYmUgY29uc2lkZXJlZCBhIHZhbGlkIGNsaWNrIChhcyBvcHBvc2VkIHRvIGEgbW91c2UgZHJhZykuXHJcblx0XHRjbGlja1RvbGVyYW5jZTogM1xyXG5cdH0sXHJcblxyXG5cdC8vIEBjb25zdHJ1Y3RvciBMLkRyYWdnYWJsZShlbDogSFRNTEVsZW1lbnQsIGRyYWdIYW5kbGU/OiBIVE1MRWxlbWVudCwgcHJldmVudE91dGxpbmU/OiBCb29sZWFuLCBvcHRpb25zPzogRHJhZ2dhYmxlIG9wdGlvbnMpXHJcblx0Ly8gQ3JlYXRlcyBhIGBEcmFnZ2FibGVgIG9iamVjdCBmb3IgbW92aW5nIGBlbGAgd2hlbiB5b3Ugc3RhcnQgZHJhZ2dpbmcgdGhlIGBkcmFnSGFuZGxlYCBlbGVtZW50IChlcXVhbHMgYGVsYCBpdHNlbGYgYnkgZGVmYXVsdCkuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGVsZW1lbnQsIGRyYWdTdGFydFRhcmdldCwgcHJldmVudE91dGxpbmUsIG9wdGlvbnMpIHtcclxuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHJcblx0XHR0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcclxuXHRcdHRoaXMuX2RyYWdTdGFydFRhcmdldCA9IGRyYWdTdGFydFRhcmdldCB8fCBlbGVtZW50O1xyXG5cdFx0dGhpcy5fcHJldmVudE91dGxpbmUgPSBwcmV2ZW50T3V0bGluZTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGVuYWJsZSgpXHJcblx0Ly8gRW5hYmxlcyB0aGUgZHJhZ2dpbmcgYWJpbGl0eVxyXG5cdGVuYWJsZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0RG9tRXZlbnQub24odGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0LCBTVEFSVCwgdGhpcy5fb25Eb3duLCB0aGlzKTtcclxuXHJcblx0XHR0aGlzLl9lbmFibGVkID0gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc2FibGUoKVxyXG5cdC8vIERpc2FibGVzIHRoZSBkcmFnZ2luZyBhYmlsaXR5XHJcblx0ZGlzYWJsZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9lbmFibGVkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdC8vIElmIHdlJ3JlIGN1cnJlbnRseSBkcmFnZ2luZyB0aGlzIGRyYWdnYWJsZSxcclxuXHRcdC8vIGRpc2FibGluZyBpdCBjb3VudHMgYXMgZmlyc3QgZW5kaW5nIHRoZSBkcmFnLlxyXG5cdFx0aWYgKERyYWdnYWJsZS5fZHJhZ2dpbmcgPT09IHRoaXMpIHtcclxuXHRcdFx0dGhpcy5maW5pc2hEcmFnKHRydWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdERvbUV2ZW50Lm9mZih0aGlzLl9kcmFnU3RhcnRUYXJnZXQsIFNUQVJULCB0aGlzLl9vbkRvd24sIHRoaXMpO1xyXG5cclxuXHRcdHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuX21vdmVkID0gZmFsc2U7XHJcblx0fSxcclxuXHJcblx0X29uRG93bjogZnVuY3Rpb24gKGUpIHtcclxuXHRcdC8vIElnbm9yZSB0aGUgZXZlbnQgaWYgZGlzYWJsZWQ7IHRoaXMgaGFwcGVucyBpbiBJRTExXHJcblx0XHQvLyB1bmRlciBzb21lIGNpcmN1bXN0YW5jZXMsIHNlZSAjMzY2Ni5cclxuXHRcdGlmICghdGhpcy5fZW5hYmxlZCkgeyByZXR1cm47IH1cclxuXHJcblx0XHR0aGlzLl9tb3ZlZCA9IGZhbHNlO1xyXG5cclxuXHRcdGlmIChEb21VdGlsLmhhc0NsYXNzKHRoaXMuX2VsZW1lbnQsICdsZWFmbGV0LXpvb20tYW5pbScpKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCAhPT0gMSkge1xyXG5cdFx0XHQvLyBGaW5pc2ggZHJhZ2dpbmcgdG8gYXZvaWQgY29uZmxpY3Qgd2l0aCB0b3VjaFpvb21cclxuXHRcdFx0aWYgKERyYWdnYWJsZS5fZHJhZ2dpbmcgPT09IHRoaXMpIHtcclxuXHRcdFx0XHR0aGlzLmZpbmlzaERyYWcoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKERyYWdnYWJsZS5fZHJhZ2dpbmcgfHwgZS5zaGlmdEtleSB8fCAoKGUud2hpY2ggIT09IDEpICYmIChlLmJ1dHRvbiAhPT0gMSkgJiYgIWUudG91Y2hlcykpIHsgcmV0dXJuOyB9XHJcblx0XHREcmFnZ2FibGUuX2RyYWdnaW5nID0gdGhpczsgIC8vIFByZXZlbnQgZHJhZ2dpbmcgbXVsdGlwbGUgb2JqZWN0cyBhdCBvbmNlLlxyXG5cclxuXHRcdGlmICh0aGlzLl9wcmV2ZW50T3V0bGluZSkge1xyXG5cdFx0XHREb21VdGlsLnByZXZlbnRPdXRsaW5lKHRoaXMuX2VsZW1lbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdERvbVV0aWwuZGlzYWJsZUltYWdlRHJhZygpO1xyXG5cdFx0RG9tVXRpbC5kaXNhYmxlVGV4dFNlbGVjdGlvbigpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9tb3ZpbmcpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGRvd246IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGEgZHJhZyBpcyBhYm91dCB0byBzdGFydC5cclxuXHRcdHRoaXMuZmlyZSgnZG93bicpO1xyXG5cclxuXHRcdHZhciBmaXJzdCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGUsXHJcblx0XHQgICAgc2l6ZWRQYXJlbnQgPSBEb21VdGlsLmdldFNpemVkUGFyZW50Tm9kZSh0aGlzLl9lbGVtZW50KTtcclxuXHJcblx0XHR0aGlzLl9zdGFydFBvaW50ID0gbmV3IFBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpO1xyXG5cdFx0dGhpcy5fc3RhcnRQb3MgPSBEb21VdGlsLmdldFBvc2l0aW9uKHRoaXMuX2VsZW1lbnQpO1xyXG5cclxuXHRcdC8vIENhY2hlIHRoZSBzY2FsZSwgc28gdGhhdCB3ZSBjYW4gY29udGludW91c2x5IGNvbXBlbnNhdGUgZm9yIGl0IGR1cmluZyBkcmFnIChfb25Nb3ZlKS5cclxuXHRcdHRoaXMuX3BhcmVudFNjYWxlID0gRG9tVXRpbC5nZXRTY2FsZShzaXplZFBhcmVudCk7XHJcblxyXG5cdFx0dmFyIG1vdXNlZXZlbnQgPSBlLnR5cGUgPT09ICdtb3VzZWRvd24nO1xyXG5cdFx0RG9tRXZlbnQub24oZG9jdW1lbnQsIG1vdXNlZXZlbnQgPyAnbW91c2Vtb3ZlJyA6ICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUsIHRoaXMpO1xyXG5cdFx0RG9tRXZlbnQub24oZG9jdW1lbnQsIG1vdXNlZXZlbnQgPyAnbW91c2V1cCcgOiAndG91Y2hlbmQgdG91Y2hjYW5jZWwnLCB0aGlzLl9vblVwLCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHRfb25Nb3ZlOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0Ly8gSWdub3JlIHRoZSBldmVudCBpZiBkaXNhYmxlZDsgdGhpcyBoYXBwZW5zIGluIElFMTFcclxuXHRcdC8vIHVuZGVyIHNvbWUgY2lyY3Vtc3RhbmNlcywgc2VlICMzNjY2LlxyXG5cdFx0aWYgKCF0aGlzLl9lbmFibGVkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA+IDEpIHtcclxuXHRcdFx0dGhpcy5fbW92ZWQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGZpcnN0ID0gKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID09PSAxID8gZS50b3VjaGVzWzBdIDogZSksXHJcblx0XHQgICAgb2Zmc2V0ID0gbmV3IFBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpLl9zdWJ0cmFjdCh0aGlzLl9zdGFydFBvaW50KTtcclxuXHJcblx0XHRpZiAoIW9mZnNldC54ICYmICFvZmZzZXQueSkgeyByZXR1cm47IH1cclxuXHRcdGlmIChNYXRoLmFicyhvZmZzZXQueCkgKyBNYXRoLmFicyhvZmZzZXQueSkgPCB0aGlzLm9wdGlvbnMuY2xpY2tUb2xlcmFuY2UpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgdGhlIHBhcmVudCBjb250YWluZXIncyBwb3NpdGlvbiwgYm9yZGVyIGFuZCBzY2FsZSBkbyBub3QgY2hhbmdlIGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGRyYWcuXHJcblx0XHQvLyBUaGVyZWZvcmUgdGhlcmUgaXMgbm8gbmVlZCB0byBhY2NvdW50IGZvciB0aGUgcG9zaXRpb24gYW5kIGJvcmRlciAodGhleSBhcmUgZWxpbWluYXRlZCBieSB0aGUgc3VidHJhY3Rpb24pXHJcblx0XHQvLyBhbmQgd2UgY2FuIHVzZSB0aGUgY2FjaGVkIHZhbHVlIGZvciB0aGUgc2NhbGUuXHJcblx0XHRvZmZzZXQueCAvPSB0aGlzLl9wYXJlbnRTY2FsZS54O1xyXG5cdFx0b2Zmc2V0LnkgLz0gdGhpcy5fcGFyZW50U2NhbGUueTtcclxuXHJcblx0XHREb21FdmVudC5wcmV2ZW50RGVmYXVsdChlKTtcclxuXHJcblx0XHRpZiAoIXRoaXMuX21vdmVkKSB7XHJcblx0XHRcdC8vIEBldmVudCBkcmFnc3RhcnQ6IEV2ZW50XHJcblx0XHRcdC8vIEZpcmVkIHdoZW4gYSBkcmFnIHN0YXJ0c1xyXG5cdFx0XHR0aGlzLmZpcmUoJ2RyYWdzdGFydCcpO1xyXG5cclxuXHRcdFx0dGhpcy5fbW92ZWQgPSB0cnVlO1xyXG5cclxuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyhkb2N1bWVudC5ib2R5LCAnbGVhZmxldC1kcmFnZ2luZycpO1xyXG5cclxuXHRcdFx0dGhpcy5fbGFzdFRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcclxuXHRcdFx0Ly8gSUUgYW5kIEVkZ2UgZG8gbm90IGdpdmUgdGhlIDx1c2U+IGVsZW1lbnQsIHNvIGZldGNoIGl0XHJcblx0XHRcdC8vIGlmIG5lY2Vzc2FyeVxyXG5cdFx0XHRpZiAod2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZSAmJiB0aGlzLl9sYXN0VGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZSkge1xyXG5cdFx0XHRcdHRoaXMuX2xhc3RUYXJnZXQgPSB0aGlzLl9sYXN0VGFyZ2V0LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50O1xyXG5cdFx0XHR9XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbGFzdFRhcmdldCwgJ2xlYWZsZXQtZHJhZy10YXJnZXQnKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9uZXdQb3MgPSB0aGlzLl9zdGFydFBvcy5hZGQob2Zmc2V0KTtcclxuXHRcdHRoaXMuX21vdmluZyA9IHRydWU7XHJcblxyXG5cdFx0dGhpcy5fbGFzdEV2ZW50ID0gZTtcclxuXHRcdHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZVBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZSA9IHtvcmlnaW5hbEV2ZW50OiB0aGlzLl9sYXN0RXZlbnR9O1xyXG5cclxuXHRcdC8vIEBldmVudCBwcmVkcmFnOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgY29udGludW91c2x5IGR1cmluZyBkcmFnZ2luZyAqYmVmb3JlKiBlYWNoIGNvcnJlc3BvbmRpbmdcclxuXHRcdC8vIHVwZGF0ZSBvZiB0aGUgZWxlbWVudCdzIHBvc2l0aW9uLlxyXG5cdFx0dGhpcy5maXJlKCdwcmVkcmFnJywgZSk7XHJcblx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2VsZW1lbnQsIHRoaXMuX25ld1Bvcyk7XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGRyYWc6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCBjb250aW51b3VzbHkgZHVyaW5nIGRyYWdnaW5nLlxyXG5cdFx0dGhpcy5maXJlKCdkcmFnJywgZSk7XHJcblx0fSxcclxuXHJcblx0X29uVXA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdC8vIElnbm9yZSB0aGUgZXZlbnQgaWYgZGlzYWJsZWQ7IHRoaXMgaGFwcGVucyBpbiBJRTExXHJcblx0XHQvLyB1bmRlciBzb21lIGNpcmN1bXN0YW5jZXMsIHNlZSAjMzY2Ni5cclxuXHRcdGlmICghdGhpcy5fZW5hYmxlZCkgeyByZXR1cm47IH1cclxuXHRcdHRoaXMuZmluaXNoRHJhZygpO1xyXG5cdH0sXHJcblxyXG5cdGZpbmlzaERyYWc6IGZ1bmN0aW9uIChub0luZXJ0aWEpIHtcclxuXHRcdERvbVV0aWwucmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2xlYWZsZXQtZHJhZ2dpbmcnKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbGFzdFRhcmdldCkge1xyXG5cdFx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2xhc3RUYXJnZXQsICdsZWFmbGV0LWRyYWctdGFyZ2V0Jyk7XHJcblx0XHRcdHRoaXMuX2xhc3RUYXJnZXQgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdERvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ21vdXNlbW92ZSB0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUsIHRoaXMpO1xyXG5cdFx0RG9tRXZlbnQub2ZmKGRvY3VtZW50LCAnbW91c2V1cCB0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIHRoaXMuX29uVXAsIHRoaXMpO1xyXG5cclxuXHRcdERvbVV0aWwuZW5hYmxlSW1hZ2VEcmFnKCk7XHJcblx0XHREb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24oKTtcclxuXHJcblx0XHR2YXIgZmlyZURyYWdlbmQgPSB0aGlzLl9tb3ZlZCAmJiB0aGlzLl9tb3Zpbmc7XHJcblxyXG5cdFx0dGhpcy5fbW92aW5nID0gZmFsc2U7XHJcblx0XHREcmFnZ2FibGUuX2RyYWdnaW5nID0gZmFsc2U7XHJcblxyXG5cdFx0aWYgKGZpcmVEcmFnZW5kKSB7XHJcblx0XHRcdC8vIEBldmVudCBkcmFnZW5kOiBEcmFnRW5kRXZlbnRcclxuXHRcdFx0Ly8gRmlyZWQgd2hlbiB0aGUgZHJhZyBlbmRzLlxyXG5cdFx0XHR0aGlzLmZpcmUoJ2RyYWdlbmQnLCB7XHJcblx0XHRcdFx0bm9JbmVydGlhOiBub0luZXJ0aWEsXHJcblx0XHRcdFx0ZGlzdGFuY2U6IHRoaXMuX25ld1Bvcy5kaXN0YW5jZVRvKHRoaXMuX3N0YXJ0UG9zKVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG59KTtcclxuIiwgImltcG9ydCAqIGFzIExpbmVVdGlsIGZyb20gJy4vTGluZVV0aWwnO1xyXG5pbXBvcnQge3RvTGF0TG5nfSBmcm9tICcuLi9nZW8vTGF0TG5nJztcclxuaW1wb3J0IHt0b1BvaW50fSBmcm9tICcuL1BvaW50JztcclxuaW1wb3J0IHt0b0xhdExuZ0JvdW5kc30gZnJvbSAnLi4vZ2VvL0xhdExuZ0JvdW5kcyc7XHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgUG9seVV0aWxcclxuICogVmFyaW91cyB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgcG9seWdvbiBnZW9tZXRyaWVzLlxyXG4gKi9cclxuXHJcbi8qIEBmdW5jdGlvbiBjbGlwUG9seWdvbihwb2ludHM6IFBvaW50W10sIGJvdW5kczogQm91bmRzLCByb3VuZD86IEJvb2xlYW4pOiBQb2ludFtdXHJcbiAqIENsaXBzIHRoZSBwb2x5Z29uIGdlb21ldHJ5IGRlZmluZWQgYnkgdGhlIGdpdmVuIGBwb2ludHNgIGJ5IHRoZSBnaXZlbiBib3VuZHMgKHVzaW5nIHRoZSBbU3V0aGVybGFuZC1Ib2RnbWFuIGFsZ29yaXRobV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3V0aGVybGFuZCVFMiU4MCU5M0hvZGdtYW5fYWxnb3JpdGhtKSkuXHJcbiAqIFVzZWQgYnkgTGVhZmxldCB0byBvbmx5IHNob3cgcG9seWdvbiBwb2ludHMgdGhhdCBhcmUgb24gdGhlIHNjcmVlbiBvciBuZWFyLCBpbmNyZWFzaW5nXHJcbiAqIHBlcmZvcm1hbmNlLiBOb3RlIHRoYXQgcG9seWdvbiBwb2ludHMgbmVlZHMgZGlmZmVyZW50IGFsZ29yaXRobSBmb3IgY2xpcHBpbmdcclxuICogdGhhbiBwb2x5bGluZSwgc28gdGhlcmUncyBhIHNlcGFyYXRlIG1ldGhvZCBmb3IgaXQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xpcFBvbHlnb24ocG9pbnRzLCBib3VuZHMsIHJvdW5kKSB7XHJcblx0dmFyIGNsaXBwZWRQb2ludHMsXHJcblx0ICAgIGVkZ2VzID0gWzEsIDQsIDIsIDhdLFxyXG5cdCAgICBpLCBqLCBrLFxyXG5cdCAgICBhLCBiLFxyXG5cdCAgICBsZW4sIGVkZ2UsIHA7XHJcblxyXG5cdGZvciAoaSA9IDAsIGxlbiA9IHBvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0cG9pbnRzW2ldLl9jb2RlID0gTGluZVV0aWwuX2dldEJpdENvZGUocG9pbnRzW2ldLCBib3VuZHMpO1xyXG5cdH1cclxuXHJcblx0Ly8gZm9yIGVhY2ggZWRnZSAobGVmdCwgYm90dG9tLCByaWdodCwgdG9wKVxyXG5cdGZvciAoayA9IDA7IGsgPCA0OyBrKyspIHtcclxuXHRcdGVkZ2UgPSBlZGdlc1trXTtcclxuXHRcdGNsaXBwZWRQb2ludHMgPSBbXTtcclxuXHJcblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoLCBqID0gbGVuIC0gMTsgaSA8IGxlbjsgaiA9IGkrKykge1xyXG5cdFx0XHRhID0gcG9pbnRzW2ldO1xyXG5cdFx0XHRiID0gcG9pbnRzW2pdO1xyXG5cclxuXHRcdFx0Ly8gaWYgYSBpcyBpbnNpZGUgdGhlIGNsaXAgd2luZG93XHJcblx0XHRcdGlmICghKGEuX2NvZGUgJiBlZGdlKSkge1xyXG5cdFx0XHRcdC8vIGlmIGIgaXMgb3V0c2lkZSB0aGUgY2xpcCB3aW5kb3cgKGEtPmIgZ29lcyBvdXQgb2Ygc2NyZWVuKVxyXG5cdFx0XHRcdGlmIChiLl9jb2RlICYgZWRnZSkge1xyXG5cdFx0XHRcdFx0cCA9IExpbmVVdGlsLl9nZXRFZGdlSW50ZXJzZWN0aW9uKGIsIGEsIGVkZ2UsIGJvdW5kcywgcm91bmQpO1xyXG5cdFx0XHRcdFx0cC5fY29kZSA9IExpbmVVdGlsLl9nZXRCaXRDb2RlKHAsIGJvdW5kcyk7XHJcblx0XHRcdFx0XHRjbGlwcGVkUG9pbnRzLnB1c2gocCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGNsaXBwZWRQb2ludHMucHVzaChhKTtcclxuXHJcblx0XHRcdC8vIGVsc2UgaWYgYiBpcyBpbnNpZGUgdGhlIGNsaXAgd2luZG93IChhLT5iIGVudGVycyB0aGUgc2NyZWVuKVxyXG5cdFx0XHR9IGVsc2UgaWYgKCEoYi5fY29kZSAmIGVkZ2UpKSB7XHJcblx0XHRcdFx0cCA9IExpbmVVdGlsLl9nZXRFZGdlSW50ZXJzZWN0aW9uKGIsIGEsIGVkZ2UsIGJvdW5kcywgcm91bmQpO1xyXG5cdFx0XHRcdHAuX2NvZGUgPSBMaW5lVXRpbC5fZ2V0Qml0Q29kZShwLCBib3VuZHMpO1xyXG5cdFx0XHRcdGNsaXBwZWRQb2ludHMucHVzaChwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cG9pbnRzID0gY2xpcHBlZFBvaW50cztcclxuXHR9XHJcblxyXG5cdHJldHVybiBwb2ludHM7XHJcbn1cclxuXHJcbi8qIEBmdW5jdGlvbiBwb2x5Z29uQ2VudGVyKGxhdGxuZ3M6IExhdExuZ1tdLCBjcnM6IENSUyk6IExhdExuZ1xyXG4gKiBSZXR1cm5zIHRoZSBjZW50ZXIgKFtjZW50cm9pZF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cm9pZCkpIG9mIHRoZSBwYXNzZWQgTGF0TG5ncyAoZmlyc3QgcmluZykgZnJvbSBhIHBvbHlnb24uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcG9seWdvbkNlbnRlcihsYXRsbmdzLCBjcnMpIHtcclxuXHR2YXIgaSwgaiwgcDEsIHAyLCBmLCBhcmVhLCB4LCB5LCBjZW50ZXI7XHJcblxyXG5cdGlmICghbGF0bG5ncyB8fCBsYXRsbmdzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdsYXRsbmdzIG5vdCBwYXNzZWQnKTtcclxuXHR9XHJcblxyXG5cdGlmICghTGluZVV0aWwuaXNGbGF0KGxhdGxuZ3MpKSB7XHJcblx0XHRjb25zb2xlLndhcm4oJ2xhdGxuZ3MgYXJlIG5vdCBmbGF0ISBPbmx5IHRoZSBmaXJzdCByaW5nIHdpbGwgYmUgdXNlZCcpO1xyXG5cdFx0bGF0bG5ncyA9IGxhdGxuZ3NbMF07XHJcblx0fVxyXG5cclxuXHR2YXIgY2VudHJvaWRMYXRMbmcgPSB0b0xhdExuZyhbMCwgMF0pO1xyXG5cclxuXHR2YXIgYm91bmRzID0gdG9MYXRMbmdCb3VuZHMobGF0bG5ncyk7XHJcblx0dmFyIGFyZWFCb3VuZHMgPSBib3VuZHMuZ2V0Tm9ydGhXZXN0KCkuZGlzdGFuY2VUbyhib3VuZHMuZ2V0U291dGhXZXN0KCkpICogYm91bmRzLmdldE5vcnRoRWFzdCgpLmRpc3RhbmNlVG8oYm91bmRzLmdldE5vcnRoV2VzdCgpKTtcclxuXHQvLyB0ZXN0cyBzaG93ZWQgdGhhdCBiZWxvdyAxNzAwIHJvdW5kaW5nIGVycm9ycyBhcmUgaGFwcGVuaW5nXHJcblx0aWYgKGFyZWFCb3VuZHMgPCAxNzAwKSB7XHJcblx0XHQvLyBnZXR0aW5nIGEgaW5leGFjdCBjZW50ZXIsIHRvIG1vdmUgdGhlIGxhdGxuZ3MgbmVhciB0byBbMCwgMF0gdG8gcHJldmVudCByb3VuZGluZyBlcnJvcnNcclxuXHRcdGNlbnRyb2lkTGF0TG5nID0gY2VudHJvaWQobGF0bG5ncyk7XHJcblx0fVxyXG5cclxuXHR2YXIgbGVuID0gbGF0bG5ncy5sZW5ndGg7XHJcblx0dmFyIHBvaW50cyA9IFtdO1xyXG5cdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0dmFyIGxhdGxuZyA9IHRvTGF0TG5nKGxhdGxuZ3NbaV0pO1xyXG5cdFx0cG9pbnRzLnB1c2goY3JzLnByb2plY3QodG9MYXRMbmcoW2xhdGxuZy5sYXQgLSBjZW50cm9pZExhdExuZy5sYXQsIGxhdGxuZy5sbmcgLSBjZW50cm9pZExhdExuZy5sbmddKSkpO1xyXG5cdH1cclxuXHJcblx0YXJlYSA9IHggPSB5ID0gMDtcclxuXHJcblx0Ly8gcG9seWdvbiBjZW50cm9pZCBhbGdvcml0aG07XHJcblx0Zm9yIChpID0gMCwgaiA9IGxlbiAtIDE7IGkgPCBsZW47IGogPSBpKyspIHtcclxuXHRcdHAxID0gcG9pbnRzW2ldO1xyXG5cdFx0cDIgPSBwb2ludHNbal07XHJcblxyXG5cdFx0ZiA9IHAxLnkgKiBwMi54IC0gcDIueSAqIHAxLng7XHJcblx0XHR4ICs9IChwMS54ICsgcDIueCkgKiBmO1xyXG5cdFx0eSArPSAocDEueSArIHAyLnkpICogZjtcclxuXHRcdGFyZWEgKz0gZiAqIDM7XHJcblx0fVxyXG5cclxuXHRpZiAoYXJlYSA9PT0gMCkge1xyXG5cdFx0Ly8gUG9seWdvbiBpcyBzbyBzbWFsbCB0aGF0IGFsbCBwb2ludHMgYXJlIG9uIHNhbWUgcGl4ZWwuXHJcblx0XHRjZW50ZXIgPSBwb2ludHNbMF07XHJcblx0fSBlbHNlIHtcclxuXHRcdGNlbnRlciA9IFt4IC8gYXJlYSwgeSAvIGFyZWFdO1xyXG5cdH1cclxuXHJcblx0dmFyIGxhdGxuZ0NlbnRlciA9IGNycy51bnByb2plY3QodG9Qb2ludChjZW50ZXIpKTtcclxuXHRyZXR1cm4gdG9MYXRMbmcoW2xhdGxuZ0NlbnRlci5sYXQgKyBjZW50cm9pZExhdExuZy5sYXQsIGxhdGxuZ0NlbnRlci5sbmcgKyBjZW50cm9pZExhdExuZy5sbmddKTtcclxufVxyXG5cclxuLyogQGZ1bmN0aW9uIGNlbnRyb2lkKGxhdGxuZ3M6IExhdExuZ1tdKTogTGF0TG5nXHJcbiAqIFJldHVybnMgdGhlICdjZW50ZXIgb2YgbWFzcycgb2YgdGhlIHBhc3NlZCBMYXRMbmdzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNlbnRyb2lkKGNvb3Jkcykge1xyXG5cdHZhciBsYXRTdW0gPSAwO1xyXG5cdHZhciBsbmdTdW0gPSAwO1xyXG5cdHZhciBsZW4gPSAwO1xyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgbGF0bG5nID0gdG9MYXRMbmcoY29vcmRzW2ldKTtcclxuXHRcdGxhdFN1bSArPSBsYXRsbmcubGF0O1xyXG5cdFx0bG5nU3VtICs9IGxhdGxuZy5sbmc7XHJcblx0XHRsZW4rKztcclxuXHR9XHJcblx0cmV0dXJuIHRvTGF0TG5nKFtsYXRTdW0gLyBsZW4sIGxuZ1N1bSAvIGxlbl0pO1xyXG59XHJcbiIsICJpbXBvcnQge1BvaW50LCB0b1BvaW50fSBmcm9tICcuL1BvaW50JztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge3RvTGF0TG5nfSBmcm9tICcuLi9nZW8vTGF0TG5nJztcclxuaW1wb3J0IHtjZW50cm9pZH0gZnJvbSAnLi9Qb2x5VXRpbCc7XHJcbmltcG9ydCB7dG9MYXRMbmdCb3VuZHN9IGZyb20gJy4uL2dlby9MYXRMbmdCb3VuZHMnO1xyXG5cclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgTGluZVV0aWxcclxuICpcclxuICogVmFyaW91cyB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgcG9seWxpbmUgcG9pbnRzIHByb2Nlc3NpbmcsIHVzZWQgYnkgTGVhZmxldCBpbnRlcm5hbGx5IHRvIG1ha2UgcG9seWxpbmVzIGxpZ2h0bmluZy1mYXN0LlxyXG4gKi9cclxuXHJcbi8vIFNpbXBsaWZ5IHBvbHlsaW5lIHdpdGggdmVydGV4IHJlZHVjdGlvbiBhbmQgRG91Z2xhcy1QZXVja2VyIHNpbXBsaWZpY2F0aW9uLlxyXG4vLyBJbXByb3ZlcyByZW5kZXJpbmcgcGVyZm9ybWFuY2UgZHJhbWF0aWNhbGx5IGJ5IGxlc3NlbmluZyB0aGUgbnVtYmVyIG9mIHBvaW50cyB0byBkcmF3LlxyXG5cclxuLy8gQGZ1bmN0aW9uIHNpbXBsaWZ5KHBvaW50czogUG9pbnRbXSwgdG9sZXJhbmNlOiBOdW1iZXIpOiBQb2ludFtdXHJcbi8vIERyYW1hdGljYWxseSByZWR1Y2VzIHRoZSBudW1iZXIgb2YgcG9pbnRzIGluIGEgcG9seWxpbmUgd2hpbGUgcmV0YWluaW5nXHJcbi8vIGl0cyBzaGFwZSBhbmQgcmV0dXJucyBhIG5ldyBhcnJheSBvZiBzaW1wbGlmaWVkIHBvaW50cywgdXNpbmcgdGhlXHJcbi8vIFtSYW1lci1Eb3VnbGFzLVBldWNrZXIgYWxnb3JpdGhtXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9SYW1lci1Eb3VnbGFzLVBldWNrZXJfYWxnb3JpdGhtKS5cclxuLy8gVXNlZCBmb3IgYSBodWdlIHBlcmZvcm1hbmNlIGJvb3N0IHdoZW4gcHJvY2Vzc2luZy9kaXNwbGF5aW5nIExlYWZsZXQgcG9seWxpbmVzIGZvclxyXG4vLyBlYWNoIHpvb20gbGV2ZWwgYW5kIGFsc28gcmVkdWNpbmcgdmlzdWFsIG5vaXNlLiB0b2xlcmFuY2UgYWZmZWN0cyB0aGUgYW1vdW50IG9mXHJcbi8vIHNpbXBsaWZpY2F0aW9uIChsZXNzZXIgdmFsdWUgbWVhbnMgaGlnaGVyIHF1YWxpdHkgYnV0IHNsb3dlciBhbmQgd2l0aCBtb3JlIHBvaW50cykuXHJcbi8vIEFsc28gcmVsZWFzZWQgYXMgYSBzZXBhcmF0ZWQgbWljcm8tbGlicmFyeSBbU2ltcGxpZnkuanNdKGh0dHBzOi8vbW91cm5lci5naXRodWIuaW8vc2ltcGxpZnktanMvKS5cclxuZXhwb3J0IGZ1bmN0aW9uIHNpbXBsaWZ5KHBvaW50cywgdG9sZXJhbmNlKSB7XHJcblx0aWYgKCF0b2xlcmFuY2UgfHwgIXBvaW50cy5sZW5ndGgpIHtcclxuXHRcdHJldHVybiBwb2ludHMuc2xpY2UoKTtcclxuXHR9XHJcblxyXG5cdHZhciBzcVRvbGVyYW5jZSA9IHRvbGVyYW5jZSAqIHRvbGVyYW5jZTtcclxuXHJcblx0ICAgIC8vIHN0YWdlIDE6IHZlcnRleCByZWR1Y3Rpb25cclxuXHQgICAgcG9pbnRzID0gX3JlZHVjZVBvaW50cyhwb2ludHMsIHNxVG9sZXJhbmNlKTtcclxuXHJcblx0ICAgIC8vIHN0YWdlIDI6IERvdWdsYXMtUGV1Y2tlciBzaW1wbGlmaWNhdGlvblxyXG5cdCAgICBwb2ludHMgPSBfc2ltcGxpZnlEUChwb2ludHMsIHNxVG9sZXJhbmNlKTtcclxuXHJcblx0cmV0dXJuIHBvaW50cztcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHBvaW50VG9TZWdtZW50RGlzdGFuY2UocDogUG9pbnQsIHAxOiBQb2ludCwgcDI6IFBvaW50KTogTnVtYmVyXHJcbi8vIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gcG9pbnQgYHBgIGFuZCBzZWdtZW50IGBwMWAgdG8gYHAyYC5cclxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50VG9TZWdtZW50RGlzdGFuY2UocCwgcDEsIHAyKSB7XHJcblx0cmV0dXJuIE1hdGguc3FydChfc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQocCwgcDEsIHAyLCB0cnVlKSk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBjbG9zZXN0UG9pbnRPblNlZ21lbnQocDogUG9pbnQsIHAxOiBQb2ludCwgcDI6IFBvaW50KTogTnVtYmVyXHJcbi8vIFJldHVybnMgdGhlIGNsb3Nlc3QgcG9pbnQgZnJvbSBhIHBvaW50IGBwYCBvbiBhIHNlZ21lbnQgYHAxYCB0byBgcDJgLlxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdFBvaW50T25TZWdtZW50KHAsIHAxLCBwMikge1xyXG5cdHJldHVybiBfc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQocCwgcDEsIHAyKTtcclxufVxyXG5cclxuLy8gUmFtZXItRG91Z2xhcy1QZXVja2VyIHNpbXBsaWZpY2F0aW9uLCBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFtZXItRG91Z2xhcy1QZXVja2VyX2FsZ29yaXRobVxyXG5mdW5jdGlvbiBfc2ltcGxpZnlEUChwb2ludHMsIHNxVG9sZXJhbmNlKSB7XHJcblxyXG5cdHZhciBsZW4gPSBwb2ludHMubGVuZ3RoLFxyXG5cdCAgICBBcnJheUNvbnN0cnVjdG9yID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09IHVuZGVmaW5lZCArICcnID8gVWludDhBcnJheSA6IEFycmF5LFxyXG5cdCAgICBtYXJrZXJzID0gbmV3IEFycmF5Q29uc3RydWN0b3IobGVuKTtcclxuXHJcblx0ICAgIG1hcmtlcnNbMF0gPSBtYXJrZXJzW2xlbiAtIDFdID0gMTtcclxuXHJcblx0X3NpbXBsaWZ5RFBTdGVwKHBvaW50cywgbWFya2Vycywgc3FUb2xlcmFuY2UsIDAsIGxlbiAtIDEpO1xyXG5cclxuXHR2YXIgaSxcclxuXHQgICAgbmV3UG9pbnRzID0gW107XHJcblxyXG5cdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0aWYgKG1hcmtlcnNbaV0pIHtcclxuXHRcdFx0bmV3UG9pbnRzLnB1c2gocG9pbnRzW2ldKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBuZXdQb2ludHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9zaW1wbGlmeURQU3RlcChwb2ludHMsIG1hcmtlcnMsIHNxVG9sZXJhbmNlLCBmaXJzdCwgbGFzdCkge1xyXG5cclxuXHR2YXIgbWF4U3FEaXN0ID0gMCxcclxuXHRpbmRleCwgaSwgc3FEaXN0O1xyXG5cclxuXHRmb3IgKGkgPSBmaXJzdCArIDE7IGkgPD0gbGFzdCAtIDE7IGkrKykge1xyXG5cdFx0c3FEaXN0ID0gX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHBvaW50c1tpXSwgcG9pbnRzW2ZpcnN0XSwgcG9pbnRzW2xhc3RdLCB0cnVlKTtcclxuXHJcblx0XHRpZiAoc3FEaXN0ID4gbWF4U3FEaXN0KSB7XHJcblx0XHRcdGluZGV4ID0gaTtcclxuXHRcdFx0bWF4U3FEaXN0ID0gc3FEaXN0O1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKG1heFNxRGlzdCA+IHNxVG9sZXJhbmNlKSB7XHJcblx0XHRtYXJrZXJzW2luZGV4XSA9IDE7XHJcblxyXG5cdFx0X3NpbXBsaWZ5RFBTdGVwKHBvaW50cywgbWFya2Vycywgc3FUb2xlcmFuY2UsIGZpcnN0LCBpbmRleCk7XHJcblx0XHRfc2ltcGxpZnlEUFN0ZXAocG9pbnRzLCBtYXJrZXJzLCBzcVRvbGVyYW5jZSwgaW5kZXgsIGxhc3QpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gcmVkdWNlIHBvaW50cyB0aGF0IGFyZSB0b28gY2xvc2UgdG8gZWFjaCBvdGhlciB0byBhIHNpbmdsZSBwb2ludFxyXG5mdW5jdGlvbiBfcmVkdWNlUG9pbnRzKHBvaW50cywgc3FUb2xlcmFuY2UpIHtcclxuXHR2YXIgcmVkdWNlZFBvaW50cyA9IFtwb2ludHNbMF1dO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMSwgcHJldiA9IDAsIGxlbiA9IHBvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0aWYgKF9zcURpc3QocG9pbnRzW2ldLCBwb2ludHNbcHJldl0pID4gc3FUb2xlcmFuY2UpIHtcclxuXHRcdFx0cmVkdWNlZFBvaW50cy5wdXNoKHBvaW50c1tpXSk7XHJcblx0XHRcdHByZXYgPSBpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAocHJldiA8IGxlbiAtIDEpIHtcclxuXHRcdHJlZHVjZWRQb2ludHMucHVzaChwb2ludHNbbGVuIC0gMV0pO1xyXG5cdH1cclxuXHRyZXR1cm4gcmVkdWNlZFBvaW50cztcclxufVxyXG5cclxudmFyIF9sYXN0Q29kZTtcclxuXHJcbi8vIEBmdW5jdGlvbiBjbGlwU2VnbWVudChhOiBQb2ludCwgYjogUG9pbnQsIGJvdW5kczogQm91bmRzLCB1c2VMYXN0Q29kZT86IEJvb2xlYW4sIHJvdW5kPzogQm9vbGVhbik6IFBvaW50W118Qm9vbGVhblxyXG4vLyBDbGlwcyB0aGUgc2VnbWVudCBhIHRvIGIgYnkgcmVjdGFuZ3VsYXIgYm91bmRzIHdpdGggdGhlXHJcbi8vIFtDb2hlbi1TdXRoZXJsYW5kIGFsZ29yaXRobV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29oZW4lRTIlODAlOTNTdXRoZXJsYW5kX2FsZ29yaXRobSlcclxuLy8gKG1vZGlmeWluZyB0aGUgc2VnbWVudCBwb2ludHMgZGlyZWN0bHkhKS4gVXNlZCBieSBMZWFmbGV0IHRvIG9ubHkgc2hvdyBwb2x5bGluZVxyXG4vLyBwb2ludHMgdGhhdCBhcmUgb24gdGhlIHNjcmVlbiBvciBuZWFyLCBpbmNyZWFzaW5nIHBlcmZvcm1hbmNlLlxyXG5leHBvcnQgZnVuY3Rpb24gY2xpcFNlZ21lbnQoYSwgYiwgYm91bmRzLCB1c2VMYXN0Q29kZSwgcm91bmQpIHtcclxuXHR2YXIgY29kZUEgPSB1c2VMYXN0Q29kZSA/IF9sYXN0Q29kZSA6IF9nZXRCaXRDb2RlKGEsIGJvdW5kcyksXHJcblx0ICAgIGNvZGVCID0gX2dldEJpdENvZGUoYiwgYm91bmRzKSxcclxuXHJcblx0ICAgIGNvZGVPdXQsIHAsIG5ld0NvZGU7XHJcblxyXG5cdCAgICAvLyBzYXZlIDJuZCBjb2RlIHRvIGF2b2lkIGNhbGN1bGF0aW5nIGl0IG9uIHRoZSBuZXh0IHNlZ21lbnRcclxuXHQgICAgX2xhc3RDb2RlID0gY29kZUI7XHJcblxyXG5cdHdoaWxlICh0cnVlKSB7XHJcblx0XHQvLyBpZiBhLGIgaXMgaW5zaWRlIHRoZSBjbGlwIHdpbmRvdyAodHJpdmlhbCBhY2NlcHQpXHJcblx0XHRpZiAoIShjb2RlQSB8IGNvZGVCKSkge1xyXG5cdFx0XHRyZXR1cm4gW2EsIGJdO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGlmIGEsYiBpcyBvdXRzaWRlIHRoZSBjbGlwIHdpbmRvdyAodHJpdmlhbCByZWplY3QpXHJcblx0XHRpZiAoY29kZUEgJiBjb2RlQikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gb3RoZXIgY2FzZXNcclxuXHRcdGNvZGVPdXQgPSBjb2RlQSB8fCBjb2RlQjtcclxuXHRcdHAgPSBfZ2V0RWRnZUludGVyc2VjdGlvbihhLCBiLCBjb2RlT3V0LCBib3VuZHMsIHJvdW5kKTtcclxuXHRcdG5ld0NvZGUgPSBfZ2V0Qml0Q29kZShwLCBib3VuZHMpO1xyXG5cclxuXHRcdGlmIChjb2RlT3V0ID09PSBjb2RlQSkge1xyXG5cdFx0XHRhID0gcDtcclxuXHRcdFx0Y29kZUEgPSBuZXdDb2RlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0YiA9IHA7XHJcblx0XHRcdGNvZGVCID0gbmV3Q29kZTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfZ2V0RWRnZUludGVyc2VjdGlvbihhLCBiLCBjb2RlLCBib3VuZHMsIHJvdW5kKSB7XHJcblx0dmFyIGR4ID0gYi54IC0gYS54LFxyXG5cdCAgICBkeSA9IGIueSAtIGEueSxcclxuXHQgICAgbWluID0gYm91bmRzLm1pbixcclxuXHQgICAgbWF4ID0gYm91bmRzLm1heCxcclxuXHQgICAgeCwgeTtcclxuXHJcblx0aWYgKGNvZGUgJiA4KSB7IC8vIHRvcFxyXG5cdFx0eCA9IGEueCArIGR4ICogKG1heC55IC0gYS55KSAvIGR5O1xyXG5cdFx0eSA9IG1heC55O1xyXG5cclxuXHR9IGVsc2UgaWYgKGNvZGUgJiA0KSB7IC8vIGJvdHRvbVxyXG5cdFx0eCA9IGEueCArIGR4ICogKG1pbi55IC0gYS55KSAvIGR5O1xyXG5cdFx0eSA9IG1pbi55O1xyXG5cclxuXHR9IGVsc2UgaWYgKGNvZGUgJiAyKSB7IC8vIHJpZ2h0XHJcblx0XHR4ID0gbWF4Lng7XHJcblx0XHR5ID0gYS55ICsgZHkgKiAobWF4LnggLSBhLngpIC8gZHg7XHJcblxyXG5cdH0gZWxzZSBpZiAoY29kZSAmIDEpIHsgLy8gbGVmdFxyXG5cdFx0eCA9IG1pbi54O1xyXG5cdFx0eSA9IGEueSArIGR5ICogKG1pbi54IC0gYS54KSAvIGR4O1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIG5ldyBQb2ludCh4LCB5LCByb3VuZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfZ2V0Qml0Q29kZShwLCBib3VuZHMpIHtcclxuXHR2YXIgY29kZSA9IDA7XHJcblxyXG5cdGlmIChwLnggPCBib3VuZHMubWluLngpIHsgLy8gbGVmdFxyXG5cdFx0Y29kZSB8PSAxO1xyXG5cdH0gZWxzZSBpZiAocC54ID4gYm91bmRzLm1heC54KSB7IC8vIHJpZ2h0XHJcblx0XHRjb2RlIHw9IDI7XHJcblx0fVxyXG5cclxuXHRpZiAocC55IDwgYm91bmRzLm1pbi55KSB7IC8vIGJvdHRvbVxyXG5cdFx0Y29kZSB8PSA0O1xyXG5cdH0gZWxzZSBpZiAocC55ID4gYm91bmRzLm1heC55KSB7IC8vIHRvcFxyXG5cdFx0Y29kZSB8PSA4O1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGNvZGU7XHJcbn1cclxuXHJcbi8vIHNxdWFyZSBkaXN0YW5jZSAodG8gYXZvaWQgdW5uZWNlc3NhcnkgTWF0aC5zcXJ0IGNhbGxzKVxyXG5mdW5jdGlvbiBfc3FEaXN0KHAxLCBwMikge1xyXG5cdHZhciBkeCA9IHAyLnggLSBwMS54LFxyXG5cdCAgICBkeSA9IHAyLnkgLSBwMS55O1xyXG5cdHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcclxufVxyXG5cclxuLy8gcmV0dXJuIGNsb3Nlc3QgcG9pbnQgb24gc2VnbWVudCBvciBkaXN0YW5jZSB0byB0aGF0IHBvaW50XHJcbmV4cG9ydCBmdW5jdGlvbiBfc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQocCwgcDEsIHAyLCBzcURpc3QpIHtcclxuXHR2YXIgeCA9IHAxLngsXHJcblx0ICAgIHkgPSBwMS55LFxyXG5cdCAgICBkeCA9IHAyLnggLSB4LFxyXG5cdCAgICBkeSA9IHAyLnkgLSB5LFxyXG5cdCAgICBkb3QgPSBkeCAqIGR4ICsgZHkgKiBkeSxcclxuXHQgICAgdDtcclxuXHJcblx0aWYgKGRvdCA+IDApIHtcclxuXHRcdHQgPSAoKHAueCAtIHgpICogZHggKyAocC55IC0geSkgKiBkeSkgLyBkb3Q7XHJcblxyXG5cdFx0aWYgKHQgPiAxKSB7XHJcblx0XHRcdHggPSBwMi54O1xyXG5cdFx0XHR5ID0gcDIueTtcclxuXHRcdH0gZWxzZSBpZiAodCA+IDApIHtcclxuXHRcdFx0eCArPSBkeCAqIHQ7XHJcblx0XHRcdHkgKz0gZHkgKiB0O1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZHggPSBwLnggLSB4O1xyXG5cdGR5ID0gcC55IC0geTtcclxuXHJcblx0cmV0dXJuIHNxRGlzdCA/IGR4ICogZHggKyBkeSAqIGR5IDogbmV3IFBvaW50KHgsIHkpO1xyXG59XHJcblxyXG5cclxuLy8gQGZ1bmN0aW9uIGlzRmxhdChsYXRsbmdzOiBMYXRMbmdbXSk6IEJvb2xlYW5cclxuLy8gUmV0dXJucyB0cnVlIGlmIGBsYXRsbmdzYCBpcyBhIGZsYXQgYXJyYXksIGZhbHNlIGlzIG5lc3RlZC5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRmxhdChsYXRsbmdzKSB7XHJcblx0cmV0dXJuICFVdGlsLmlzQXJyYXkobGF0bG5nc1swXSkgfHwgKHR5cGVvZiBsYXRsbmdzWzBdWzBdICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgbGF0bG5nc1swXVswXSAhPT0gJ3VuZGVmaW5lZCcpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX2ZsYXQobGF0bG5ncykge1xyXG5cdGNvbnNvbGUud2FybignRGVwcmVjYXRlZCB1c2Ugb2YgX2ZsYXQsIHBsZWFzZSB1c2UgTC5MaW5lVXRpbC5pc0ZsYXQgaW5zdGVhZC4nKTtcclxuXHRyZXR1cm4gaXNGbGF0KGxhdGxuZ3MpO1xyXG59XHJcblxyXG4vKiBAZnVuY3Rpb24gcG9seWxpbmVDZW50ZXIobGF0bG5nczogTGF0TG5nW10sIGNyczogQ1JTKTogTGF0TG5nXHJcbiAqIFJldHVybnMgdGhlIGNlbnRlciAoW2NlbnRyb2lkXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NlbnRyb2lkKSkgb2YgdGhlIHBhc3NlZCBMYXRMbmdzIChmaXJzdCByaW5nKSBmcm9tIGEgcG9seWxpbmUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcG9seWxpbmVDZW50ZXIobGF0bG5ncywgY3JzKSB7XHJcblx0dmFyIGksIGhhbGZEaXN0LCBzZWdEaXN0LCBkaXN0LCBwMSwgcDIsIHJhdGlvLCBjZW50ZXI7XHJcblxyXG5cdGlmICghbGF0bG5ncyB8fCBsYXRsbmdzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdsYXRsbmdzIG5vdCBwYXNzZWQnKTtcclxuXHR9XHJcblxyXG5cdGlmICghaXNGbGF0KGxhdGxuZ3MpKSB7XHJcblx0XHRjb25zb2xlLndhcm4oJ2xhdGxuZ3MgYXJlIG5vdCBmbGF0ISBPbmx5IHRoZSBmaXJzdCByaW5nIHdpbGwgYmUgdXNlZCcpO1xyXG5cdFx0bGF0bG5ncyA9IGxhdGxuZ3NbMF07XHJcblx0fVxyXG5cclxuXHR2YXIgY2VudHJvaWRMYXRMbmcgPSB0b0xhdExuZyhbMCwgMF0pO1xyXG5cclxuXHR2YXIgYm91bmRzID0gdG9MYXRMbmdCb3VuZHMobGF0bG5ncyk7XHJcblx0dmFyIGFyZWFCb3VuZHMgPSBib3VuZHMuZ2V0Tm9ydGhXZXN0KCkuZGlzdGFuY2VUbyhib3VuZHMuZ2V0U291dGhXZXN0KCkpICogYm91bmRzLmdldE5vcnRoRWFzdCgpLmRpc3RhbmNlVG8oYm91bmRzLmdldE5vcnRoV2VzdCgpKTtcclxuXHQvLyB0ZXN0cyBzaG93ZWQgdGhhdCBiZWxvdyAxNzAwIHJvdW5kaW5nIGVycm9ycyBhcmUgaGFwcGVuaW5nXHJcblx0aWYgKGFyZWFCb3VuZHMgPCAxNzAwKSB7XHJcblx0XHQvLyBnZXR0aW5nIGEgaW5leGFjdCBjZW50ZXIsIHRvIG1vdmUgdGhlIGxhdGxuZ3MgbmVhciB0byBbMCwgMF0gdG8gcHJldmVudCByb3VuZGluZyBlcnJvcnNcclxuXHRcdGNlbnRyb2lkTGF0TG5nID0gY2VudHJvaWQobGF0bG5ncyk7XHJcblx0fVxyXG5cclxuXHR2YXIgbGVuID0gbGF0bG5ncy5sZW5ndGg7XHJcblx0dmFyIHBvaW50cyA9IFtdO1xyXG5cdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0dmFyIGxhdGxuZyA9IHRvTGF0TG5nKGxhdGxuZ3NbaV0pO1xyXG5cdFx0cG9pbnRzLnB1c2goY3JzLnByb2plY3QodG9MYXRMbmcoW2xhdGxuZy5sYXQgLSBjZW50cm9pZExhdExuZy5sYXQsIGxhdGxuZy5sbmcgLSBjZW50cm9pZExhdExuZy5sbmddKSkpO1xyXG5cdH1cclxuXHJcblx0Zm9yIChpID0gMCwgaGFsZkRpc3QgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XHJcblx0XHRoYWxmRGlzdCArPSBwb2ludHNbaV0uZGlzdGFuY2VUbyhwb2ludHNbaSArIDFdKSAvIDI7XHJcblx0fVxyXG5cclxuXHQvLyBUaGUgbGluZSBpcyBzbyBzbWFsbCBpbiB0aGUgY3VycmVudCB2aWV3IHRoYXQgYWxsIHBvaW50cyBhcmUgb24gdGhlIHNhbWUgcGl4ZWwuXHJcblx0aWYgKGhhbGZEaXN0ID09PSAwKSB7XHJcblx0XHRjZW50ZXIgPSBwb2ludHNbMF07XHJcblx0fSBlbHNlIHtcclxuXHRcdGZvciAoaSA9IDAsIGRpc3QgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XHJcblx0XHRcdHAxID0gcG9pbnRzW2ldO1xyXG5cdFx0XHRwMiA9IHBvaW50c1tpICsgMV07XHJcblx0XHRcdHNlZ0Rpc3QgPSBwMS5kaXN0YW5jZVRvKHAyKTtcclxuXHRcdFx0ZGlzdCArPSBzZWdEaXN0O1xyXG5cclxuXHRcdFx0aWYgKGRpc3QgPiBoYWxmRGlzdCkge1xyXG5cdFx0XHRcdHJhdGlvID0gKGRpc3QgLSBoYWxmRGlzdCkgLyBzZWdEaXN0O1xyXG5cdFx0XHRcdGNlbnRlciA9IFtcclxuXHRcdFx0XHRcdHAyLnggLSByYXRpbyAqIChwMi54IC0gcDEueCksXHJcblx0XHRcdFx0XHRwMi55IC0gcmF0aW8gKiAocDIueSAtIHAxLnkpXHJcblx0XHRcdFx0XTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dmFyIGxhdGxuZ0NlbnRlciA9IGNycy51bnByb2plY3QodG9Qb2ludChjZW50ZXIpKTtcclxuXHRyZXR1cm4gdG9MYXRMbmcoW2xhdGxuZ0NlbnRlci5sYXQgKyBjZW50cm9pZExhdExuZy5sYXQsIGxhdGxuZ0NlbnRlci5sbmcgKyBjZW50cm9pZExhdExuZy5sbmddKTtcclxufVxyXG4iLCAiaW1wb3J0IHtMYXRMbmd9IGZyb20gJy4uL0xhdExuZyc7XHJcbmltcG9ydCB7Qm91bmRzfSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Cb3VuZHMnO1xyXG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XHJcblxyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIFByb2plY3Rpb25cclxuICogQHNlY3Rpb25cclxuICogTGVhZmxldCBjb21lcyB3aXRoIGEgc2V0IG9mIGFscmVhZHkgZGVmaW5lZCBQcm9qZWN0aW9ucyBvdXQgb2YgdGhlIGJveDpcclxuICpcclxuICogQHByb2plY3Rpb24gTC5Qcm9qZWN0aW9uLkxvbkxhdFxyXG4gKlxyXG4gKiBFcXVpcmVjdGFuZ3VsYXIsIG9yIFBsYXRlIENhcnJlZSBwcm9qZWN0aW9uIOKAlCB0aGUgbW9zdCBzaW1wbGUgcHJvamVjdGlvbixcclxuICogbW9zdGx5IHVzZWQgYnkgR0lTIGVudGh1c2lhc3RzLiBEaXJlY3RseSBtYXBzIGB4YCBhcyBsb25naXR1ZGUsIGFuZCBgeWAgYXNcclxuICogbGF0aXR1ZGUuIEFsc28gc3VpdGFibGUgZm9yIGZsYXQgd29ybGRzLCBlLmcuIGdhbWUgbWFwcy4gVXNlZCBieSB0aGVcclxuICogYEVQU0c6NDMyNmAgYW5kIGBTaW1wbGVgIENSUy5cclxuICovXHJcblxyXG5leHBvcnQgdmFyIExvbkxhdCA9IHtcclxuXHRwcm9qZWN0OiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KGxhdGxuZy5sbmcsIGxhdGxuZy5sYXQpO1xyXG5cdH0sXHJcblxyXG5cdHVucHJvamVjdDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHRyZXR1cm4gbmV3IExhdExuZyhwb2ludC55LCBwb2ludC54KTtcclxuXHR9LFxyXG5cclxuXHRib3VuZHM6IG5ldyBCb3VuZHMoWy0xODAsIC05MF0sIFsxODAsIDkwXSlcclxufTtcclxuIiwgImltcG9ydCB7TGF0TG5nfSBmcm9tICcuLi9MYXRMbmcnO1xyXG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcclxuaW1wb3J0IHtQb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xyXG5cclxuLypcclxuICogQG5hbWVzcGFjZSBQcm9qZWN0aW9uXHJcbiAqIEBwcm9qZWN0aW9uIEwuUHJvamVjdGlvbi5NZXJjYXRvclxyXG4gKlxyXG4gKiBFbGxpcHRpY2FsIE1lcmNhdG9yIHByb2plY3Rpb24g4oCUIG1vcmUgY29tcGxleCB0aGFuIFNwaGVyaWNhbCBNZXJjYXRvci4gQXNzdW1lcyB0aGF0IEVhcnRoIGlzIGFuIGVsbGlwc29pZC4gVXNlZCBieSB0aGUgRVBTRzozMzk1IENSUy5cclxuICovXHJcblxyXG5leHBvcnQgdmFyIE1lcmNhdG9yID0ge1xyXG5cdFI6IDYzNzgxMzcsXHJcblx0Ul9NSU5PUjogNjM1Njc1Mi4zMTQyNDUxNzksXHJcblxyXG5cdGJvdW5kczogbmV3IEJvdW5kcyhbLTIwMDM3NTA4LjM0Mjc5LCAtMTU0OTY1NzAuNzM5NzJdLCBbMjAwMzc1MDguMzQyNzksIDE4NzY0NjU2LjIzMTM4XSksXHJcblxyXG5cdHByb2plY3Q6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHZhciBkID0gTWF0aC5QSSAvIDE4MCxcclxuXHRcdCAgICByID0gdGhpcy5SLFxyXG5cdFx0ICAgIHkgPSBsYXRsbmcubGF0ICogZCxcclxuXHRcdCAgICB0bXAgPSB0aGlzLlJfTUlOT1IgLyByLFxyXG5cdFx0ICAgIGUgPSBNYXRoLnNxcnQoMSAtIHRtcCAqIHRtcCksXHJcblx0XHQgICAgY29uID0gZSAqIE1hdGguc2luKHkpO1xyXG5cclxuXHRcdHZhciB0cyA9IE1hdGgudGFuKE1hdGguUEkgLyA0IC0geSAvIDIpIC8gTWF0aC5wb3coKDEgLSBjb24pIC8gKDEgKyBjb24pLCBlIC8gMik7XHJcblx0XHR5ID0gLXIgKiBNYXRoLmxvZyhNYXRoLm1heCh0cywgMUUtMTApKTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KGxhdGxuZy5sbmcgKiBkICogciwgeSk7XHJcblx0fSxcclxuXHJcblx0dW5wcm9qZWN0OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHZhciBkID0gMTgwIC8gTWF0aC5QSSxcclxuXHRcdCAgICByID0gdGhpcy5SLFxyXG5cdFx0ICAgIHRtcCA9IHRoaXMuUl9NSU5PUiAvIHIsXHJcblx0XHQgICAgZSA9IE1hdGguc3FydCgxIC0gdG1wICogdG1wKSxcclxuXHRcdCAgICB0cyA9IE1hdGguZXhwKC1wb2ludC55IC8gciksXHJcblx0XHQgICAgcGhpID0gTWF0aC5QSSAvIDIgLSAyICogTWF0aC5hdGFuKHRzKTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMCwgZHBoaSA9IDAuMSwgY29uOyBpIDwgMTUgJiYgTWF0aC5hYnMoZHBoaSkgPiAxZS03OyBpKyspIHtcclxuXHRcdFx0Y29uID0gZSAqIE1hdGguc2luKHBoaSk7XHJcblx0XHRcdGNvbiA9IE1hdGgucG93KCgxIC0gY29uKSAvICgxICsgY29uKSwgZSAvIDIpO1xyXG5cdFx0XHRkcGhpID0gTWF0aC5QSSAvIDIgLSAyICogTWF0aC5hdGFuKHRzICogY29uKSAtIHBoaTtcclxuXHRcdFx0cGhpICs9IGRwaGk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmcocGhpICogZCwgcG9pbnQueCAqIGQgLyByKTtcclxuXHR9XHJcbn07XHJcbiIsICIvKlxuICogQGNsYXNzIFByb2plY3Rpb25cblxuICogQW4gb2JqZWN0IHdpdGggbWV0aG9kcyBmb3IgcHJvamVjdGluZyBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHdvcmxkIG9udG9cbiAqIGEgZmxhdCBzdXJmYWNlIChhbmQgYmFjaykuIFNlZSBbTWFwIHByb2plY3Rpb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01hcF9wcm9qZWN0aW9uKS5cblxuICogQHByb3BlcnR5IGJvdW5kczogQm91bmRzXG4gKiBUaGUgYm91bmRzIChzcGVjaWZpZWQgaW4gQ1JTIHVuaXRzKSB3aGVyZSB0aGUgcHJvamVjdGlvbiBpcyB2YWxpZFxuXG4gKiBAbWV0aG9kIHByb2plY3QobGF0bG5nOiBMYXRMbmcpOiBQb2ludFxuICogUHJvamVjdHMgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIGludG8gYSAyRCBwb2ludC5cbiAqIE9ubHkgYWNjZXB0cyBhY3R1YWwgYEwuTGF0TG5nYCBpbnN0YW5jZXMsIG5vdCBhcnJheXMuXG5cbiAqIEBtZXRob2QgdW5wcm9qZWN0KHBvaW50OiBQb2ludCk6IExhdExuZ1xuICogVGhlIGludmVyc2Ugb2YgYHByb2plY3RgLiBQcm9qZWN0cyBhIDJEIHBvaW50IGludG8gYSBnZW9ncmFwaGljYWwgbG9jYXRpb24uXG4gKiBPbmx5IGFjY2VwdHMgYWN0dWFsIGBMLlBvaW50YCBpbnN0YW5jZXMsIG5vdCBhcnJheXMuXG5cbiAqIE5vdGUgdGhhdCB0aGUgcHJvamVjdGlvbiBpbnN0YW5jZXMgZG8gbm90IGluaGVyaXQgZnJvbSBMZWFmbGV0J3MgYENsYXNzYCBvYmplY3QsXG4gKiBhbmQgY2FuJ3QgYmUgaW5zdGFudGlhdGVkLiBBbHNvLCBuZXcgY2xhc3NlcyBjYW4ndCBpbmhlcml0IGZyb20gdGhlbSxcbiAqIGFuZCBtZXRob2RzIGNhbid0IGJlIGFkZGVkIHRvIHRoZW0gd2l0aCB0aGUgYGluY2x1ZGVgIGZ1bmN0aW9uLlxuXG4gKi9cblxuZXhwb3J0IHtMb25MYXR9IGZyb20gJy4vUHJvamVjdGlvbi5Mb25MYXQnO1xuZXhwb3J0IHtNZXJjYXRvcn0gZnJvbSAnLi9Qcm9qZWN0aW9uLk1lcmNhdG9yJztcbmV4cG9ydCB7U3BoZXJpY2FsTWVyY2F0b3J9IGZyb20gJy4vUHJvamVjdGlvbi5TcGhlcmljYWxNZXJjYXRvcic7XG4iLCAiaW1wb3J0IHtFYXJ0aH0gZnJvbSAnLi9DUlMuRWFydGgnO1xyXG5pbXBvcnQge01lcmNhdG9yfSBmcm9tICcuLi9wcm9qZWN0aW9uL1Byb2plY3Rpb24uTWVyY2F0b3InO1xyXG5pbXBvcnQge3RvVHJhbnNmb3JtYXRpb259IGZyb20gJy4uLy4uL2dlb21ldHJ5L1RyYW5zZm9ybWF0aW9uJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xyXG5cclxuLypcclxuICogQG5hbWVzcGFjZSBDUlNcclxuICogQGNycyBMLkNSUy5FUFNHMzM5NVxyXG4gKlxyXG4gKiBSYXJlbHkgdXNlZCBieSBzb21lIGNvbW1lcmNpYWwgdGlsZSBwcm92aWRlcnMuIFVzZXMgRWxsaXB0aWNhbCBNZXJjYXRvciBwcm9qZWN0aW9uLlxyXG4gKi9cclxuZXhwb3J0IHZhciBFUFNHMzM5NSA9IFV0aWwuZXh0ZW5kKHt9LCBFYXJ0aCwge1xyXG5cdGNvZGU6ICdFUFNHOjMzOTUnLFxyXG5cdHByb2plY3Rpb246IE1lcmNhdG9yLFxyXG5cclxuXHR0cmFuc2Zvcm1hdGlvbjogKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBzY2FsZSA9IDAuNSAvIChNYXRoLlBJICogTWVyY2F0b3IuUik7XHJcblx0XHRyZXR1cm4gdG9UcmFuc2Zvcm1hdGlvbihzY2FsZSwgMC41LCAtc2NhbGUsIDAuNSk7XHJcblx0fSgpKVxyXG59KTtcclxuIiwgImltcG9ydCB7RWFydGh9IGZyb20gJy4vQ1JTLkVhcnRoJztcclxuaW1wb3J0IHtMb25MYXR9IGZyb20gJy4uL3Byb2plY3Rpb24vUHJvamVjdGlvbi5Mb25MYXQnO1xyXG5pbXBvcnQge3RvVHJhbnNmb3JtYXRpb259IGZyb20gJy4uLy4uL2dlb21ldHJ5L1RyYW5zZm9ybWF0aW9uJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xyXG5cclxuLypcclxuICogQG5hbWVzcGFjZSBDUlNcclxuICogQGNycyBMLkNSUy5FUFNHNDMyNlxyXG4gKlxyXG4gKiBBIGNvbW1vbiBDUlMgYW1vbmcgR0lTIGVudGh1c2lhc3RzLiBVc2VzIHNpbXBsZSBFcXVpcmVjdGFuZ3VsYXIgcHJvamVjdGlvbi5cclxuICpcclxuICogTGVhZmxldCAxLjAueCBjb21wbGllcyB3aXRoIHRoZSBbVE1TIGNvb3JkaW5hdGUgc2NoZW1lIGZvciBFUFNHOjQzMjZdKGh0dHBzOi8vd2lraS5vc2dlby5vcmcvd2lraS9UaWxlX01hcF9TZXJ2aWNlX1NwZWNpZmljYXRpb24jZ2xvYmFsLWdlb2RldGljKSxcclxuICogd2hpY2ggaXMgYSBicmVha2luZyBjaGFuZ2UgZnJvbSAwLjcueCBiZWhhdmlvdXIuICBJZiB5b3UgYXJlIHVzaW5nIGEgYFRpbGVMYXllcmBcclxuICogd2l0aCB0aGlzIENSUywgZW5zdXJlIHRoYXQgdGhlcmUgYXJlIHR3byAyNTZ4MjU2IHBpeGVsIHRpbGVzIGNvdmVyaW5nIHRoZVxyXG4gKiB3aG9sZSBlYXJ0aCBhdCB6b29tIGxldmVsIHplcm8sIGFuZCB0aGF0IHRoZSB0aWxlIGNvb3JkaW5hdGUgb3JpZ2luIGlzICgtMTgwLCs5MCksXHJcbiAqIG9yICgtMTgwLC05MCkgZm9yIGBUaWxlTGF5ZXJgcyB3aXRoIFt0aGUgYHRtc2Agb3B0aW9uXSgjdGlsZWxheWVyLXRtcykgc2V0LlxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgRVBTRzQzMjYgPSBVdGlsLmV4dGVuZCh7fSwgRWFydGgsIHtcclxuXHRjb2RlOiAnRVBTRzo0MzI2JyxcclxuXHRwcm9qZWN0aW9uOiBMb25MYXQsXHJcblx0dHJhbnNmb3JtYXRpb246IHRvVHJhbnNmb3JtYXRpb24oMSAvIDE4MCwgMSwgLTEgLyAxODAsIDAuNSlcclxufSk7XHJcbiIsICJpbXBvcnQge0NSU30gZnJvbSAnLi9DUlMnO1xuaW1wb3J0IHtMb25MYXR9IGZyb20gJy4uL3Byb2plY3Rpb24vUHJvamVjdGlvbi5Mb25MYXQnO1xuaW1wb3J0IHt0b1RyYW5zZm9ybWF0aW9ufSBmcm9tICcuLi8uLi9nZW9tZXRyeS9UcmFuc2Zvcm1hdGlvbic7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5cbi8qXG4gKiBAbmFtZXNwYWNlIENSU1xuICogQGNycyBMLkNSUy5TaW1wbGVcbiAqXG4gKiBBIHNpbXBsZSBDUlMgdGhhdCBtYXBzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgaW50byBgeGAgYW5kIGB5YCBkaXJlY3RseS5cbiAqIE1heSBiZSB1c2VkIGZvciBtYXBzIG9mIGZsYXQgc3VyZmFjZXMgKGUuZy4gZ2FtZSBtYXBzKS4gTm90ZSB0aGF0IHRoZSBgeWBcbiAqIGF4aXMgc2hvdWxkIHN0aWxsIGJlIGludmVydGVkIChnb2luZyBmcm9tIGJvdHRvbSB0byB0b3ApLiBgZGlzdGFuY2UoKWAgcmV0dXJuc1xuICogc2ltcGxlIGV1Y2xpZGVhbiBkaXN0YW5jZS5cbiAqL1xuXG5leHBvcnQgdmFyIFNpbXBsZSA9IFV0aWwuZXh0ZW5kKHt9LCBDUlMsIHtcblx0cHJvamVjdGlvbjogTG9uTGF0LFxuXHR0cmFuc2Zvcm1hdGlvbjogdG9UcmFuc2Zvcm1hdGlvbigxLCAwLCAtMSwgMCksXG5cblx0c2NhbGU6IGZ1bmN0aW9uICh6b29tKSB7XG5cdFx0cmV0dXJuIE1hdGgucG93KDIsIHpvb20pO1xuXHR9LFxuXG5cdHpvb206IGZ1bmN0aW9uIChzY2FsZSkge1xuXHRcdHJldHVybiBNYXRoLmxvZyhzY2FsZSkgLyBNYXRoLkxOMjtcblx0fSxcblxuXHRkaXN0YW5jZTogZnVuY3Rpb24gKGxhdGxuZzEsIGxhdGxuZzIpIHtcblx0XHR2YXIgZHggPSBsYXRsbmcyLmxuZyAtIGxhdGxuZzEubG5nLFxuXHRcdCAgICBkeSA9IGxhdGxuZzIubGF0IC0gbGF0bG5nMS5sYXQ7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblx0fSxcblxuXHRpbmZpbml0ZTogdHJ1ZVxufSk7XG4iLCAiaW1wb3J0IHtDUlN9IGZyb20gJy4vQ1JTJztcbmltcG9ydCB7RWFydGh9IGZyb20gJy4vQ1JTLkVhcnRoJztcbmltcG9ydCB7RVBTRzMzOTV9IGZyb20gJy4vQ1JTLkVQU0czMzk1JztcbmltcG9ydCB7RVBTRzM4NTcsIEVQU0c5MDA5MTN9IGZyb20gJy4vQ1JTLkVQU0czODU3JztcbmltcG9ydCB7RVBTRzQzMjZ9IGZyb20gJy4vQ1JTLkVQU0c0MzI2JztcbmltcG9ydCB7U2ltcGxlfSBmcm9tICcuL0NSUy5TaW1wbGUnO1xuXG5DUlMuRWFydGggPSBFYXJ0aDtcbkNSUy5FUFNHMzM5NSA9IEVQU0czMzk1O1xuQ1JTLkVQU0czODU3ID0gRVBTRzM4NTc7XG5DUlMuRVBTRzkwMDkxMyA9IEVQU0c5MDA5MTM7XG5DUlMuRVBTRzQzMjYgPSBFUFNHNDMyNjtcbkNSUy5TaW1wbGUgPSBTaW1wbGU7XG5cbmV4cG9ydCB7Q1JTfTtcbiIsICJpbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4uL2NvcmUvRXZlbnRzJztcbmltcG9ydCB7TWFwfSBmcm9tICcuLi9tYXAvTWFwJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcblxuLypcbiAqIEBjbGFzcyBMYXllclxuICogQGluaGVyaXRzIEV2ZW50ZWRcbiAqIEBha2EgTC5MYXllclxuICogQGFrYSBJTGF5ZXJcbiAqXG4gKiBBIHNldCBvZiBtZXRob2RzIGZyb20gdGhlIExheWVyIGJhc2UgY2xhc3MgdGhhdCBhbGwgTGVhZmxldCBsYXllcnMgdXNlLlxuICogSW5oZXJpdHMgYWxsIG1ldGhvZHMsIG9wdGlvbnMgYW5kIGV2ZW50cyBmcm9tIGBMLkV2ZW50ZWRgLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIHZhciBsYXllciA9IEwubWFya2VyKGxhdGxuZykuYWRkVG8obWFwKTtcbiAqIGxheWVyLmFkZFRvKG1hcCk7XG4gKiBsYXllci5yZW1vdmUoKTtcbiAqIGBgYFxuICpcbiAqIEBldmVudCBhZGQ6IEV2ZW50XG4gKiBGaXJlZCBhZnRlciB0aGUgbGF5ZXIgaXMgYWRkZWQgdG8gYSBtYXBcbiAqXG4gKiBAZXZlbnQgcmVtb3ZlOiBFdmVudFxuICogRmlyZWQgYWZ0ZXIgdGhlIGxheWVyIGlzIHJlbW92ZWQgZnJvbSBhIG1hcFxuICovXG5cblxuZXhwb3J0IHZhciBMYXllciA9IEV2ZW50ZWQuZXh0ZW5kKHtcblxuXHQvLyBDbGFzc2VzIGV4dGVuZGluZyBgTC5MYXllcmAgd2lsbCBpbmhlcml0IHRoZSBmb2xsb3dpbmcgb3B0aW9uczpcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gcGFuZTogU3RyaW5nID0gJ292ZXJsYXlQYW5lJ1xuXHRcdC8vIEJ5IGRlZmF1bHQgdGhlIGxheWVyIHdpbGwgYmUgYWRkZWQgdG8gdGhlIG1hcCdzIFtvdmVybGF5IHBhbmVdKCNtYXAtb3ZlcmxheXBhbmUpLiBPdmVycmlkaW5nIHRoaXMgb3B0aW9uIHdpbGwgY2F1c2UgdGhlIGxheWVyIHRvIGJlIHBsYWNlZCBvbiBhbm90aGVyIHBhbmUgYnkgZGVmYXVsdC5cblx0XHRwYW5lOiAnb3ZlcmxheVBhbmUnLFxuXG5cdFx0Ly8gQG9wdGlvbiBhdHRyaWJ1dGlvbjogU3RyaW5nID0gbnVsbFxuXHRcdC8vIFN0cmluZyB0byBiZSBzaG93biBpbiB0aGUgYXR0cmlidXRpb24gY29udHJvbCwgZS5nLiBcIsKpIE9wZW5TdHJlZXRNYXAgY29udHJpYnV0b3JzXCIuIEl0IGRlc2NyaWJlcyB0aGUgbGF5ZXIgZGF0YSBhbmQgaXMgb2Z0ZW4gYSBsZWdhbCBvYmxpZ2F0aW9uIHRvd2FyZHMgY29weXJpZ2h0IGhvbGRlcnMgYW5kIHRpbGUgcHJvdmlkZXJzLlxuXHRcdGF0dHJpYnV0aW9uOiBudWxsLFxuXG5cdFx0YnViYmxpbmdNb3VzZUV2ZW50czogdHJ1ZVxuXHR9LFxuXG5cdC8qIEBzZWN0aW9uXG5cdCAqIENsYXNzZXMgZXh0ZW5kaW5nIGBMLkxheWVyYCB3aWxsIGluaGVyaXQgdGhlIGZvbGxvd2luZyBtZXRob2RzOlxuXHQgKlxuXHQgKiBAbWV0aG9kIGFkZFRvKG1hcDogTWFwfExheWVyR3JvdXApOiB0aGlzXG5cdCAqIEFkZHMgdGhlIGxheWVyIHRvIHRoZSBnaXZlbiBtYXAgb3IgbGF5ZXIgZ3JvdXAuXG5cdCAqL1xuXHRhZGRUbzogZnVuY3Rpb24gKG1hcCkge1xuXHRcdG1hcC5hZGRMYXllcih0aGlzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHJlbW92ZTogdGhpc1xuXHQvLyBSZW1vdmVzIHRoZSBsYXllciBmcm9tIHRoZSBtYXAgaXQgaXMgY3VycmVudGx5IGFjdGl2ZSBvbi5cblx0cmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVtb3ZlRnJvbSh0aGlzLl9tYXAgfHwgdGhpcy5fbWFwVG9BZGQpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgcmVtb3ZlRnJvbShtYXA6IE1hcCk6IHRoaXNcblx0Ly8gUmVtb3ZlcyB0aGUgbGF5ZXIgZnJvbSB0aGUgZ2l2ZW4gbWFwXG5cdC8vXG5cdC8vIEBhbHRlcm5hdGl2ZVxuXHQvLyBAbWV0aG9kIHJlbW92ZUZyb20oZ3JvdXA6IExheWVyR3JvdXApOiB0aGlzXG5cdC8vIFJlbW92ZXMgdGhlIGxheWVyIGZyb20gdGhlIGdpdmVuIGBMYXllckdyb3VwYFxuXHRyZW1vdmVGcm9tOiBmdW5jdGlvbiAob2JqKSB7XG5cdFx0aWYgKG9iaikge1xuXHRcdFx0b2JqLnJlbW92ZUxheWVyKHRoaXMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGdldFBhbmUobmFtZT8gOiBTdHJpbmcpOiBIVE1MRWxlbWVudFxuXHQvLyBSZXR1cm5zIHRoZSBgSFRNTEVsZW1lbnRgIHJlcHJlc2VudGluZyB0aGUgbmFtZWQgcGFuZSBvbiB0aGUgbWFwLiBJZiBgbmFtZWAgaXMgb21pdHRlZCwgcmV0dXJucyB0aGUgcGFuZSBmb3IgdGhpcyBsYXllci5cblx0Z2V0UGFuZTogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRyZXR1cm4gdGhpcy5fbWFwLmdldFBhbmUobmFtZSA/ICh0aGlzLm9wdGlvbnNbbmFtZV0gfHwgbmFtZSkgOiB0aGlzLm9wdGlvbnMucGFuZSk7XG5cdH0sXG5cblx0YWRkSW50ZXJhY3RpdmVUYXJnZXQ6IGZ1bmN0aW9uICh0YXJnZXRFbCkge1xuXHRcdHRoaXMuX21hcC5fdGFyZ2V0c1tVdGlsLnN0YW1wKHRhcmdldEVsKV0gPSB0aGlzO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHJlbW92ZUludGVyYWN0aXZlVGFyZ2V0OiBmdW5jdGlvbiAodGFyZ2V0RWwpIHtcblx0XHRkZWxldGUgdGhpcy5fbWFwLl90YXJnZXRzW1V0aWwuc3RhbXAodGFyZ2V0RWwpXTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGdldEF0dHJpYnV0aW9uOiBTdHJpbmdcblx0Ly8gVXNlZCBieSB0aGUgYGF0dHJpYnV0aW9uIGNvbnRyb2xgLCByZXR1cm5zIHRoZSBbYXR0cmlidXRpb24gb3B0aW9uXSgjZ3JpZGxheWVyLWF0dHJpYnV0aW9uKS5cblx0Z2V0QXR0cmlidXRpb246IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmF0dHJpYnV0aW9uO1xuXHR9LFxuXG5cdF9sYXllckFkZDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgbWFwID0gZS50YXJnZXQ7XG5cblx0XHQvLyBjaGVjayBpbiBjYXNlIGxheWVyIGdldHMgYWRkZWQgYW5kIHRoZW4gcmVtb3ZlZCBiZWZvcmUgdGhlIG1hcCBpcyByZWFkeVxuXHRcdGlmICghbWFwLmhhc0xheWVyKHRoaXMpKSB7IHJldHVybjsgfVxuXG5cdFx0dGhpcy5fbWFwID0gbWFwO1xuXHRcdHRoaXMuX3pvb21BbmltYXRlZCA9IG1hcC5fem9vbUFuaW1hdGVkO1xuXG5cdFx0aWYgKHRoaXMuZ2V0RXZlbnRzKSB7XG5cdFx0XHR2YXIgZXZlbnRzID0gdGhpcy5nZXRFdmVudHMoKTtcblx0XHRcdG1hcC5vbihldmVudHMsIHRoaXMpO1xuXHRcdFx0dGhpcy5vbmNlKCdyZW1vdmUnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdG1hcC5vZmYoZXZlbnRzLCB0aGlzKTtcblx0XHRcdH0sIHRoaXMpO1xuXHRcdH1cblxuXHRcdHRoaXMub25BZGQobWFwKTtcblxuXHRcdHRoaXMuZmlyZSgnYWRkJyk7XG5cdFx0bWFwLmZpcmUoJ2xheWVyYWRkJywge2xheWVyOiB0aGlzfSk7XG5cdH1cbn0pO1xuXG4vKiBAc2VjdGlvbiBFeHRlbnNpb24gbWV0aG9kc1xuICogQHVuaW5oZXJpdGFibGVcbiAqXG4gKiBFdmVyeSBsYXllciBzaG91bGQgZXh0ZW5kIGZyb20gYEwuTGF5ZXJgIGFuZCAocmUtKWltcGxlbWVudCB0aGUgZm9sbG93aW5nIG1ldGhvZHMuXG4gKlxuICogQG1ldGhvZCBvbkFkZChtYXA6IE1hcCk6IHRoaXNcbiAqIFNob3VsZCBjb250YWluIGNvZGUgdGhhdCBjcmVhdGVzIERPTSBlbGVtZW50cyBmb3IgdGhlIGxheWVyLCBhZGRzIHRoZW0gdG8gYG1hcCBwYW5lc2Agd2hlcmUgdGhleSBzaG91bGQgYmVsb25nIGFuZCBwdXRzIGxpc3RlbmVycyBvbiByZWxldmFudCBtYXAgZXZlbnRzLiBDYWxsZWQgb24gW2BtYXAuYWRkTGF5ZXIobGF5ZXIpYF0oI21hcC1hZGRsYXllcikuXG4gKlxuICogQG1ldGhvZCBvblJlbW92ZShtYXA6IE1hcCk6IHRoaXNcbiAqIFNob3VsZCBjb250YWluIGFsbCBjbGVhbiB1cCBjb2RlIHRoYXQgcmVtb3ZlcyB0aGUgbGF5ZXIncyBlbGVtZW50cyBmcm9tIHRoZSBET00gYW5kIHJlbW92ZXMgbGlzdGVuZXJzIHByZXZpb3VzbHkgYWRkZWQgaW4gW2BvbkFkZGBdKCNsYXllci1vbmFkZCkuIENhbGxlZCBvbiBbYG1hcC5yZW1vdmVMYXllcihsYXllcilgXSgjbWFwLXJlbW92ZWxheWVyKS5cbiAqXG4gKiBAbWV0aG9kIGdldEV2ZW50cygpOiBPYmplY3RcbiAqIFRoaXMgb3B0aW9uYWwgbWV0aG9kIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0IGxpa2UgYHsgdmlld3Jlc2V0OiB0aGlzLl9yZXNldCB9YCBmb3IgW2BhZGRFdmVudExpc3RlbmVyYF0oI2V2ZW50ZWQtYWRkZXZlbnRsaXN0ZW5lcikuIFRoZSBldmVudCBoYW5kbGVycyBpbiB0aGlzIG9iamVjdCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgYWRkZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgbWFwIHdpdGggeW91ciBsYXllci5cbiAqXG4gKiBAbWV0aG9kIGdldEF0dHJpYnV0aW9uKCk6IFN0cmluZ1xuICogVGhpcyBvcHRpb25hbCBtZXRob2Qgc2hvdWxkIHJldHVybiBhIHN0cmluZyBjb250YWluaW5nIEhUTUwgdG8gYmUgc2hvd24gb24gdGhlIGBBdHRyaWJ1dGlvbiBjb250cm9sYCB3aGVuZXZlciB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAqXG4gKiBAbWV0aG9kIGJlZm9yZUFkZChtYXA6IE1hcCk6IHRoaXNcbiAqIE9wdGlvbmFsIG1ldGhvZC4gQ2FsbGVkIG9uIFtgbWFwLmFkZExheWVyKGxheWVyKWBdKCNtYXAtYWRkbGF5ZXIpLCBiZWZvcmUgdGhlIGxheWVyIGlzIGFkZGVkIHRvIHRoZSBtYXAsIGJlZm9yZSBldmVudHMgYXJlIGluaXRpYWxpemVkLCB3aXRob3V0IHdhaXRpbmcgdW50aWwgdGhlIG1hcCBpcyBpbiBhIHVzYWJsZSBzdGF0ZS4gVXNlIGZvciBlYXJseSBpbml0aWFsaXphdGlvbiBvbmx5LlxuICovXG5cblxuLyogQG5hbWVzcGFjZSBNYXBcbiAqIEBzZWN0aW9uIExheWVyIGV2ZW50c1xuICpcbiAqIEBldmVudCBsYXllcmFkZDogTGF5ZXJFdmVudFxuICogRmlyZWQgd2hlbiBhIG5ldyBsYXllciBpcyBhZGRlZCB0byB0aGUgbWFwLlxuICpcbiAqIEBldmVudCBsYXllcnJlbW92ZTogTGF5ZXJFdmVudFxuICogRmlyZWQgd2hlbiBzb21lIGxheWVyIGlzIHJlbW92ZWQgZnJvbSB0aGUgbWFwXG4gKlxuICogQHNlY3Rpb24gTWV0aG9kcyBmb3IgTGF5ZXJzIGFuZCBDb250cm9sc1xuICovXG5NYXAuaW5jbHVkZSh7XG5cdC8vIEBtZXRob2QgYWRkTGF5ZXIobGF5ZXI6IExheWVyKTogdGhpc1xuXHQvLyBBZGRzIHRoZSBnaXZlbiBsYXllciB0byB0aGUgbWFwXG5cdGFkZExheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRpZiAoIWxheWVyLl9sYXllckFkZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdUaGUgcHJvdmlkZWQgb2JqZWN0IGlzIG5vdCBhIExheWVyLicpO1xuXHRcdH1cblxuXHRcdHZhciBpZCA9IFV0aWwuc3RhbXAobGF5ZXIpO1xuXHRcdGlmICh0aGlzLl9sYXllcnNbaWRdKSB7IHJldHVybiB0aGlzOyB9XG5cdFx0dGhpcy5fbGF5ZXJzW2lkXSA9IGxheWVyO1xuXG5cdFx0bGF5ZXIuX21hcFRvQWRkID0gdGhpcztcblxuXHRcdGlmIChsYXllci5iZWZvcmVBZGQpIHtcblx0XHRcdGxheWVyLmJlZm9yZUFkZCh0aGlzKTtcblx0XHR9XG5cblx0XHR0aGlzLndoZW5SZWFkeShsYXllci5fbGF5ZXJBZGQsIGxheWVyKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgcmVtb3ZlTGF5ZXIobGF5ZXI6IExheWVyKTogdGhpc1xuXHQvLyBSZW1vdmVzIHRoZSBnaXZlbiBsYXllciBmcm9tIHRoZSBtYXAuXG5cdHJlbW92ZUxheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgaWQgPSBVdGlsLnN0YW1wKGxheWVyKTtcblxuXHRcdGlmICghdGhpcy5fbGF5ZXJzW2lkXSkgeyByZXR1cm4gdGhpczsgfVxuXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCkge1xuXHRcdFx0bGF5ZXIub25SZW1vdmUodGhpcyk7XG5cdFx0fVxuXG5cdFx0ZGVsZXRlIHRoaXMuX2xheWVyc1tpZF07XG5cblx0XHRpZiAodGhpcy5fbG9hZGVkKSB7XG5cdFx0XHR0aGlzLmZpcmUoJ2xheWVycmVtb3ZlJywge2xheWVyOiBsYXllcn0pO1xuXHRcdFx0bGF5ZXIuZmlyZSgncmVtb3ZlJyk7XG5cdFx0fVxuXG5cdFx0bGF5ZXIuX21hcCA9IGxheWVyLl9tYXBUb0FkZCA9IG51bGw7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGhhc0xheWVyKGxheWVyOiBMYXllcik6IEJvb2xlYW5cblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGxheWVyIGlzIGN1cnJlbnRseSBhZGRlZCB0byB0aGUgbWFwXG5cdGhhc0xheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRyZXR1cm4gVXRpbC5zdGFtcChsYXllcikgaW4gdGhpcy5fbGF5ZXJzO1xuXHR9LFxuXG5cdC8qIEBtZXRob2QgZWFjaExheWVyKGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcblx0ICogSXRlcmF0ZXMgb3ZlciB0aGUgbGF5ZXJzIG9mIHRoZSBtYXAsIG9wdGlvbmFsbHkgc3BlY2lmeWluZyBjb250ZXh0IG9mIHRoZSBpdGVyYXRvciBmdW5jdGlvbi5cblx0ICogYGBgXG5cdCAqIG1hcC5lYWNoTGF5ZXIoZnVuY3Rpb24obGF5ZXIpe1xuXHQgKiAgICAgbGF5ZXIuYmluZFBvcHVwKCdIZWxsbycpO1xuXHQgKiB9KTtcblx0ICogYGBgXG5cdCAqL1xuXHRlYWNoTGF5ZXI6IGZ1bmN0aW9uIChtZXRob2QsIGNvbnRleHQpIHtcblx0XHRmb3IgKHZhciBpIGluIHRoaXMuX2xheWVycykge1xuXHRcdFx0bWV0aG9kLmNhbGwoY29udGV4dCwgdGhpcy5fbGF5ZXJzW2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X2FkZExheWVyczogZnVuY3Rpb24gKGxheWVycykge1xuXHRcdGxheWVycyA9IGxheWVycyA/IChVdGlsLmlzQXJyYXkobGF5ZXJzKSA/IGxheWVycyA6IFtsYXllcnNdKSA6IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxheWVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0dGhpcy5hZGRMYXllcihsYXllcnNbaV0pO1xuXHRcdH1cblx0fSxcblxuXHRfYWRkWm9vbUxpbWl0OiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRpZiAoIWlzTmFOKGxheWVyLm9wdGlvbnMubWF4Wm9vbSkgfHwgIWlzTmFOKGxheWVyLm9wdGlvbnMubWluWm9vbSkpIHtcblx0XHRcdHRoaXMuX3pvb21Cb3VuZExheWVyc1tVdGlsLnN0YW1wKGxheWVyKV0gPSBsYXllcjtcblx0XHRcdHRoaXMuX3VwZGF0ZVpvb21MZXZlbHMoKTtcblx0XHR9XG5cdH0sXG5cblx0X3JlbW92ZVpvb21MaW1pdDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIGlkID0gVXRpbC5zdGFtcChsYXllcik7XG5cblx0XHRpZiAodGhpcy5fem9vbUJvdW5kTGF5ZXJzW2lkXSkge1xuXHRcdFx0ZGVsZXRlIHRoaXMuX3pvb21Cb3VuZExheWVyc1tpZF07XG5cdFx0XHR0aGlzLl91cGRhdGVab29tTGV2ZWxzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVab29tTGV2ZWxzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG1pblpvb20gPSBJbmZpbml0eSxcblx0XHQgICAgbWF4Wm9vbSA9IC1JbmZpbml0eSxcblx0XHQgICAgb2xkWm9vbVNwYW4gPSB0aGlzLl9nZXRab29tU3BhbigpO1xuXG5cdFx0Zm9yICh2YXIgaSBpbiB0aGlzLl96b29tQm91bmRMYXllcnMpIHtcblx0XHRcdHZhciBvcHRpb25zID0gdGhpcy5fem9vbUJvdW5kTGF5ZXJzW2ldLm9wdGlvbnM7XG5cblx0XHRcdG1pblpvb20gPSBvcHRpb25zLm1pblpvb20gPT09IHVuZGVmaW5lZCA/IG1pblpvb20gOiBNYXRoLm1pbihtaW5ab29tLCBvcHRpb25zLm1pblpvb20pO1xuXHRcdFx0bWF4Wm9vbSA9IG9wdGlvbnMubWF4Wm9vbSA9PT0gdW5kZWZpbmVkID8gbWF4Wm9vbSA6IE1hdGgubWF4KG1heFpvb20sIG9wdGlvbnMubWF4Wm9vbSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fbGF5ZXJzTWF4Wm9vbSA9IG1heFpvb20gPT09IC1JbmZpbml0eSA/IHVuZGVmaW5lZCA6IG1heFpvb207XG5cdFx0dGhpcy5fbGF5ZXJzTWluWm9vbSA9IG1pblpvb20gPT09IEluZmluaXR5ID8gdW5kZWZpbmVkIDogbWluWm9vbTtcblxuXHRcdC8vIEBzZWN0aW9uIE1hcCBzdGF0ZSBjaGFuZ2UgZXZlbnRzXG5cdFx0Ly8gQGV2ZW50IHpvb21sZXZlbHNjaGFuZ2U6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbnVtYmVyIG9mIHpvb21sZXZlbHMgb24gdGhlIG1hcCBpcyBjaGFuZ2VkIGR1ZVxuXHRcdC8vIHRvIGFkZGluZyBvciByZW1vdmluZyBhIGxheWVyLlxuXHRcdGlmIChvbGRab29tU3BhbiAhPT0gdGhpcy5fZ2V0Wm9vbVNwYW4oKSkge1xuXHRcdFx0dGhpcy5maXJlKCd6b29tbGV2ZWxzY2hhbmdlJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5tYXhab29tID09PSB1bmRlZmluZWQgJiYgdGhpcy5fbGF5ZXJzTWF4Wm9vbSAmJiB0aGlzLmdldFpvb20oKSA+IHRoaXMuX2xheWVyc01heFpvb20pIHtcblx0XHRcdHRoaXMuc2V0Wm9vbSh0aGlzLl9sYXllcnNNYXhab29tKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMub3B0aW9ucy5taW5ab29tID09PSB1bmRlZmluZWQgJiYgdGhpcy5fbGF5ZXJzTWluWm9vbSAmJiB0aGlzLmdldFpvb20oKSA8IHRoaXMuX2xheWVyc01pblpvb20pIHtcblx0XHRcdHRoaXMuc2V0Wm9vbSh0aGlzLl9sYXllcnNNaW5ab29tKTtcblx0XHR9XG5cdH1cbn0pO1xuIiwgIlxyXG5pbXBvcnQge0xheWVyfSBmcm9tICcuL0xheWVyJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5cclxuLypcclxuICogQGNsYXNzIExheWVyR3JvdXBcclxuICogQGFrYSBMLkxheWVyR3JvdXBcclxuICogQGluaGVyaXRzIEludGVyYWN0aXZlIGxheWVyXHJcbiAqXHJcbiAqIFVzZWQgdG8gZ3JvdXAgc2V2ZXJhbCBsYXllcnMgYW5kIGhhbmRsZSB0aGVtIGFzIG9uZS4gSWYgeW91IGFkZCBpdCB0byB0aGUgbWFwLFxyXG4gKiBhbnkgbGF5ZXJzIGFkZGVkIG9yIHJlbW92ZWQgZnJvbSB0aGUgZ3JvdXAgd2lsbCBiZSBhZGRlZC9yZW1vdmVkIG9uIHRoZSBtYXAgYXNcclxuICogd2VsbC4gRXh0ZW5kcyBgTGF5ZXJgLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBMLmxheWVyR3JvdXAoW21hcmtlcjEsIG1hcmtlcjJdKVxyXG4gKiBcdC5hZGRMYXllcihwb2x5bGluZSlcclxuICogXHQuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBMYXllckdyb3VwID0gTGF5ZXIuZXh0ZW5kKHtcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGxheWVycywgb3B0aW9ucykge1xyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHRoaXMuX2xheWVycyA9IHt9O1xyXG5cclxuXHRcdHZhciBpLCBsZW47XHJcblxyXG5cdFx0aWYgKGxheWVycykge1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBsZW4gPSBsYXllcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHR0aGlzLmFkZExheWVyKGxheWVyc1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZExheWVyKGxheWVyOiBMYXllcik6IHRoaXNcclxuXHQvLyBBZGRzIHRoZSBnaXZlbiBsYXllciB0byB0aGUgZ3JvdXAuXHJcblx0YWRkTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0dmFyIGlkID0gdGhpcy5nZXRMYXllcklkKGxheWVyKTtcclxuXHJcblx0XHR0aGlzLl9sYXllcnNbaWRdID0gbGF5ZXI7XHJcblxyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLl9tYXAuYWRkTGF5ZXIobGF5ZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcmVtb3ZlTGF5ZXIobGF5ZXI6IExheWVyKTogdGhpc1xyXG5cdC8vIFJlbW92ZXMgdGhlIGdpdmVuIGxheWVyIGZyb20gdGhlIGdyb3VwLlxyXG5cdC8vIEBhbHRlcm5hdGl2ZVxyXG5cdC8vIEBtZXRob2QgcmVtb3ZlTGF5ZXIoaWQ6IE51bWJlcik6IHRoaXNcclxuXHQvLyBSZW1vdmVzIHRoZSBsYXllciB3aXRoIHRoZSBnaXZlbiBpbnRlcm5hbCBJRCBmcm9tIHRoZSBncm91cC5cclxuXHRyZW1vdmVMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHR2YXIgaWQgPSBsYXllciBpbiB0aGlzLl9sYXllcnMgPyBsYXllciA6IHRoaXMuZ2V0TGF5ZXJJZChsYXllcik7XHJcblxyXG5cdFx0aWYgKHRoaXMuX21hcCAmJiB0aGlzLl9sYXllcnNbaWRdKSB7XHJcblx0XHRcdHRoaXMuX21hcC5yZW1vdmVMYXllcih0aGlzLl9sYXllcnNbaWRdKTtcclxuXHRcdH1cclxuXHJcblx0XHRkZWxldGUgdGhpcy5fbGF5ZXJzW2lkXTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGhhc0xheWVyKGxheWVyOiBMYXllcik6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gbGF5ZXIgaXMgY3VycmVudGx5IGFkZGVkIHRvIHRoZSBncm91cC5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIGhhc0xheWVyKGlkOiBOdW1iZXIpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGludGVybmFsIElEIGlzIGN1cnJlbnRseSBhZGRlZCB0byB0aGUgZ3JvdXAuXHJcblx0aGFzTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0dmFyIGxheWVySWQgPSB0eXBlb2YgbGF5ZXIgPT09ICdudW1iZXInID8gbGF5ZXIgOiB0aGlzLmdldExheWVySWQobGF5ZXIpO1xyXG5cdFx0cmV0dXJuIGxheWVySWQgaW4gdGhpcy5fbGF5ZXJzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY2xlYXJMYXllcnMoKTogdGhpc1xyXG5cdC8vIFJlbW92ZXMgYWxsIHRoZSBsYXllcnMgZnJvbSB0aGUgZ3JvdXAuXHJcblx0Y2xlYXJMYXllcnM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmVhY2hMYXllcih0aGlzLnJlbW92ZUxheWVyLCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGludm9rZShtZXRob2ROYW1lOiBTdHJpbmcsIOKApik6IHRoaXNcclxuXHQvLyBDYWxscyBgbWV0aG9kTmFtZWAgb24gZXZlcnkgbGF5ZXIgY29udGFpbmVkIGluIHRoaXMgZ3JvdXAsIHBhc3NpbmcgYW55XHJcblx0Ly8gYWRkaXRpb25hbCBwYXJhbWV0ZXJzLiBIYXMgbm8gZWZmZWN0IGlmIHRoZSBsYXllcnMgY29udGFpbmVkIGRvIG5vdFxyXG5cdC8vIGltcGxlbWVudCBgbWV0aG9kTmFtZWAuXHJcblx0aW52b2tlOiBmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xyXG5cdFx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxyXG5cdFx0ICAgIGksIGxheWVyO1xyXG5cclxuXHRcdGZvciAoaSBpbiB0aGlzLl9sYXllcnMpIHtcclxuXHRcdFx0bGF5ZXIgPSB0aGlzLl9sYXllcnNbaV07XHJcblxyXG5cdFx0XHRpZiAobGF5ZXJbbWV0aG9kTmFtZV0pIHtcclxuXHRcdFx0XHRsYXllclttZXRob2ROYW1lXS5hcHBseShsYXllciwgYXJncyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0dGhpcy5lYWNoTGF5ZXIobWFwLmFkZExheWVyLCBtYXApO1xyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHR0aGlzLmVhY2hMYXllcihtYXAucmVtb3ZlTGF5ZXIsIG1hcCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBlYWNoTGF5ZXIoZm46IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0KTogdGhpc1xyXG5cdC8vIEl0ZXJhdGVzIG92ZXIgdGhlIGxheWVycyBvZiB0aGUgZ3JvdXAsIG9wdGlvbmFsbHkgc3BlY2lmeWluZyBjb250ZXh0IG9mIHRoZSBpdGVyYXRvciBmdW5jdGlvbi5cclxuXHQvLyBgYGBqc1xyXG5cdC8vIGdyb3VwLmVhY2hMYXllcihmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHQvLyBcdGxheWVyLmJpbmRQb3B1cCgnSGVsbG8nKTtcclxuXHQvLyB9KTtcclxuXHQvLyBgYGBcclxuXHRlYWNoTGF5ZXI6IGZ1bmN0aW9uIChtZXRob2QsIGNvbnRleHQpIHtcclxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdG1ldGhvZC5jYWxsKGNvbnRleHQsIHRoaXMuX2xheWVyc1tpXSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldExheWVyKGlkOiBOdW1iZXIpOiBMYXllclxyXG5cdC8vIFJldHVybnMgdGhlIGxheWVyIHdpdGggdGhlIGdpdmVuIGludGVybmFsIElELlxyXG5cdGdldExheWVyOiBmdW5jdGlvbiAoaWQpIHtcclxuXHRcdHJldHVybiB0aGlzLl9sYXllcnNbaWRdO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0TGF5ZXJzKCk6IExheWVyW11cclxuXHQvLyBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCB0aGUgbGF5ZXJzIGFkZGVkIHRvIHRoZSBncm91cC5cclxuXHRnZXRMYXllcnM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBsYXllcnMgPSBbXTtcclxuXHRcdHRoaXMuZWFjaExheWVyKGxheWVycy5wdXNoLCBsYXllcnMpO1xyXG5cdFx0cmV0dXJuIGxheWVycztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFpJbmRleCh6SW5kZXg6IE51bWJlcik6IHRoaXNcclxuXHQvLyBDYWxscyBgc2V0WkluZGV4YCBvbiBldmVyeSBsYXllciBjb250YWluZWQgaW4gdGhpcyBncm91cCwgcGFzc2luZyB0aGUgei1pbmRleC5cclxuXHRzZXRaSW5kZXg6IGZ1bmN0aW9uICh6SW5kZXgpIHtcclxuXHRcdHJldHVybiB0aGlzLmludm9rZSgnc2V0WkluZGV4JywgekluZGV4KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldExheWVySWQobGF5ZXI6IExheWVyKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgaW50ZXJuYWwgSUQgZm9yIGEgbGF5ZXJcclxuXHRnZXRMYXllcklkOiBmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdHJldHVybiBVdGlsLnN0YW1wKGxheWVyKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbi8vIEBmYWN0b3J5IEwubGF5ZXJHcm91cChsYXllcnM/OiBMYXllcltdLCBvcHRpb25zPzogT2JqZWN0KVxyXG4vLyBDcmVhdGUgYSBsYXllciBncm91cCwgb3B0aW9uYWxseSBnaXZlbiBhbiBpbml0aWFsIHNldCBvZiBsYXllcnMgYW5kIGFuIGBvcHRpb25zYCBvYmplY3QuXHJcbmV4cG9ydCB2YXIgbGF5ZXJHcm91cCA9IGZ1bmN0aW9uIChsYXllcnMsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IExheWVyR3JvdXAobGF5ZXJzLCBvcHRpb25zKTtcclxufTtcclxuIiwgImltcG9ydCB7TGF5ZXJHcm91cH0gZnJvbSAnLi9MYXllckdyb3VwJztcclxuaW1wb3J0IHtMYXRMbmdCb3VuZHN9IGZyb20gJy4uL2dlby9MYXRMbmdCb3VuZHMnO1xyXG5cclxuLypcclxuICogQGNsYXNzIEZlYXR1cmVHcm91cFxyXG4gKiBAYWthIEwuRmVhdHVyZUdyb3VwXHJcbiAqIEBpbmhlcml0cyBMYXllckdyb3VwXHJcbiAqXHJcbiAqIEV4dGVuZGVkIGBMYXllckdyb3VwYCB0aGF0IG1ha2VzIGl0IGVhc2llciB0byBkbyB0aGUgc2FtZSB0aGluZyB0byBhbGwgaXRzIG1lbWJlciBsYXllcnM6XHJcbiAqICAqIFtgYmluZFBvcHVwYF0oI2xheWVyLWJpbmRwb3B1cCkgYmluZHMgYSBwb3B1cCB0byBhbGwgb2YgdGhlIGxheWVycyBhdCBvbmNlIChsaWtld2lzZSB3aXRoIFtgYmluZFRvb2x0aXBgXSgjbGF5ZXItYmluZHRvb2x0aXApKVxyXG4gKiAgKiBFdmVudHMgYXJlIHByb3BhZ2F0ZWQgdG8gdGhlIGBGZWF0dXJlR3JvdXBgLCBzbyBpZiB0aGUgZ3JvdXAgaGFzIGFuIGV2ZW50XHJcbiAqIGhhbmRsZXIsIGl0IHdpbGwgaGFuZGxlIGV2ZW50cyBmcm9tIGFueSBvZiB0aGUgbGF5ZXJzLiBUaGlzIGluY2x1ZGVzIG1vdXNlIGV2ZW50c1xyXG4gKiBhbmQgY3VzdG9tIGV2ZW50cy5cclxuICogICogSGFzIGBsYXllcmFkZGAgYW5kIGBsYXllcnJlbW92ZWAgZXZlbnRzXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIEwuZmVhdHVyZUdyb3VwKFttYXJrZXIxLCBtYXJrZXIyLCBwb2x5bGluZV0pXHJcbiAqIFx0LmJpbmRQb3B1cCgnSGVsbG8gd29ybGQhJylcclxuICogXHQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7IGFsZXJ0KCdDbGlja2VkIG9uIGEgbWVtYmVyIG9mIHRoZSBncm91cCEnKTsgfSlcclxuICogXHQuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBGZWF0dXJlR3JvdXAgPSBMYXllckdyb3VwLmV4dGVuZCh7XHJcblxyXG5cdGFkZExheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdGlmICh0aGlzLmhhc0xheWVyKGxheWVyKSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRsYXllci5hZGRFdmVudFBhcmVudCh0aGlzKTtcclxuXHJcblx0XHRMYXllckdyb3VwLnByb3RvdHlwZS5hZGRMYXllci5jYWxsKHRoaXMsIGxheWVyKTtcclxuXHJcblx0XHQvLyBAZXZlbnQgbGF5ZXJhZGQ6IExheWVyRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gYSBsYXllciBpcyBhZGRlZCB0byB0aGlzIGBGZWF0dXJlR3JvdXBgXHJcblx0XHRyZXR1cm4gdGhpcy5maXJlKCdsYXllcmFkZCcsIHtsYXllcjogbGF5ZXJ9KTtcclxuXHR9LFxyXG5cclxuXHRyZW1vdmVMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRpZiAoIXRoaXMuaGFzTGF5ZXIobGF5ZXIpKSB7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGxheWVyIGluIHRoaXMuX2xheWVycykge1xyXG5cdFx0XHRsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcl07XHJcblx0XHR9XHJcblxyXG5cdFx0bGF5ZXIucmVtb3ZlRXZlbnRQYXJlbnQodGhpcyk7XHJcblxyXG5cdFx0TGF5ZXJHcm91cC5wcm90b3R5cGUucmVtb3ZlTGF5ZXIuY2FsbCh0aGlzLCBsYXllcik7XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGxheWVycmVtb3ZlOiBMYXllckV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGEgbGF5ZXIgaXMgcmVtb3ZlZCBmcm9tIHRoaXMgYEZlYXR1cmVHcm91cGBcclxuXHRcdHJldHVybiB0aGlzLmZpcmUoJ2xheWVycmVtb3ZlJywge2xheWVyOiBsYXllcn0pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0U3R5bGUoc3R5bGU6IFBhdGggb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBnaXZlbiBwYXRoIG9wdGlvbnMgdG8gZWFjaCBsYXllciBvZiB0aGUgZ3JvdXAgdGhhdCBoYXMgYSBgc2V0U3R5bGVgIG1ldGhvZC5cclxuXHRzZXRTdHlsZTogZnVuY3Rpb24gKHN0eWxlKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnZva2UoJ3NldFN0eWxlJywgc3R5bGUpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYnJpbmdUb0Zyb250KCk6IHRoaXNcclxuXHQvLyBCcmluZ3MgdGhlIGxheWVyIGdyb3VwIHRvIHRoZSB0b3Agb2YgYWxsIG90aGVyIGxheWVyc1xyXG5cdGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW52b2tlKCdicmluZ1RvRnJvbnQnKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGJyaW5nVG9CYWNrKCk6IHRoaXNcclxuXHQvLyBCcmluZ3MgdGhlIGxheWVyIGdyb3VwIHRvIHRoZSBiYWNrIG9mIGFsbCBvdGhlciBsYXllcnNcclxuXHRicmluZ1RvQmFjazogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW52b2tlKCdicmluZ1RvQmFjaycpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Qm91bmRzKCk6IExhdExuZ0JvdW5kc1xyXG5cdC8vIFJldHVybnMgdGhlIExhdExuZ0JvdW5kcyBvZiB0aGUgRmVhdHVyZSBHcm91cCAoY3JlYXRlZCBmcm9tIGJvdW5kcyBhbmQgY29vcmRpbmF0ZXMgb2YgaXRzIGNoaWxkcmVuKS5cclxuXHRnZXRCb3VuZHM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBib3VuZHMgPSBuZXcgTGF0TG5nQm91bmRzKCk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdHZhciBsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XHJcblx0XHRcdGJvdW5kcy5leHRlbmQobGF5ZXIuZ2V0Qm91bmRzID8gbGF5ZXIuZ2V0Qm91bmRzKCkgOiBsYXllci5nZXRMYXRMbmcoKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gYm91bmRzO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyBAZmFjdG9yeSBMLmZlYXR1cmVHcm91cChsYXllcnM/OiBMYXllcltdLCBvcHRpb25zPzogT2JqZWN0KVxyXG4vLyBDcmVhdGUgYSBmZWF0dXJlIGdyb3VwLCBvcHRpb25hbGx5IGdpdmVuIGFuIGluaXRpYWwgc2V0IG9mIGxheWVycyBhbmQgYW4gYG9wdGlvbnNgIG9iamVjdC5cclxuZXhwb3J0IHZhciBmZWF0dXJlR3JvdXAgPSBmdW5jdGlvbiAobGF5ZXJzLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBGZWF0dXJlR3JvdXAobGF5ZXJzLCBvcHRpb25zKTtcclxufTtcclxuIiwgImltcG9ydCB7Q2xhc3N9IGZyb20gJy4uLy4uL2NvcmUvQ2xhc3MnO1xyXG5pbXBvcnQge3NldE9wdGlvbnN9IGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7dG9Qb2ludCBhcyBwb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xyXG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi8uLi9jb3JlL0Jyb3dzZXInO1xyXG5cclxuLypcclxuICogQGNsYXNzIEljb25cclxuICogQGFrYSBMLkljb25cclxuICpcclxuICogUmVwcmVzZW50cyBhbiBpY29uIHRvIHByb3ZpZGUgd2hlbiBjcmVhdGluZyBhIG1hcmtlci5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIG15SWNvbiA9IEwuaWNvbih7XHJcbiAqICAgICBpY29uVXJsOiAnbXktaWNvbi5wbmcnLFxyXG4gKiAgICAgaWNvblJldGluYVVybDogJ215LWljb25AMngucG5nJyxcclxuICogICAgIGljb25TaXplOiBbMzgsIDk1XSxcclxuICogICAgIGljb25BbmNob3I6IFsyMiwgOTRdLFxyXG4gKiAgICAgcG9wdXBBbmNob3I6IFstMywgLTc2XSxcclxuICogICAgIHNoYWRvd1VybDogJ215LWljb24tc2hhZG93LnBuZycsXHJcbiAqICAgICBzaGFkb3dSZXRpbmFVcmw6ICdteS1pY29uLXNoYWRvd0AyeC5wbmcnLFxyXG4gKiAgICAgc2hhZG93U2l6ZTogWzY4LCA5NV0sXHJcbiAqICAgICBzaGFkb3dBbmNob3I6IFsyMiwgOTRdXHJcbiAqIH0pO1xyXG4gKlxyXG4gKiBMLm1hcmtlcihbNTAuNTA1LCAzMC41N10sIHtpY29uOiBteUljb259KS5hZGRUbyhtYXApO1xyXG4gKiBgYGBcclxuICpcclxuICogYEwuSWNvbi5EZWZhdWx0YCBleHRlbmRzIGBMLkljb25gIGFuZCBpcyB0aGUgYmx1ZSBpY29uIExlYWZsZXQgdXNlcyBmb3IgbWFya2VycyBieSBkZWZhdWx0LlxyXG4gKlxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgSWNvbiA9IENsYXNzLmV4dGVuZCh7XHJcblxyXG5cdC8qIEBzZWN0aW9uXHJcblx0ICogQGFrYSBJY29uIG9wdGlvbnNcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gaWNvblVybDogU3RyaW5nID0gbnVsbFxyXG5cdCAqICoqKHJlcXVpcmVkKSoqIFRoZSBVUkwgdG8gdGhlIGljb24gaW1hZ2UgKGFic29sdXRlIG9yIHJlbGF0aXZlIHRvIHlvdXIgc2NyaXB0IHBhdGgpLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBpY29uUmV0aW5hVXJsOiBTdHJpbmcgPSBudWxsXHJcblx0ICogVGhlIFVSTCB0byBhIHJldGluYSBzaXplZCB2ZXJzaW9uIG9mIHRoZSBpY29uIGltYWdlIChhYnNvbHV0ZSBvciByZWxhdGl2ZSB0byB5b3VyXHJcblx0ICogc2NyaXB0IHBhdGgpLiBVc2VkIGZvciBSZXRpbmEgc2NyZWVuIGRldmljZXMuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIGljb25TaXplOiBQb2ludCA9IG51bGxcclxuXHQgKiBTaXplIG9mIHRoZSBpY29uIGltYWdlIGluIHBpeGVscy5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gaWNvbkFuY2hvcjogUG9pbnQgPSBudWxsXHJcblx0ICogVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBcInRpcFwiIG9mIHRoZSBpY29uIChyZWxhdGl2ZSB0byBpdHMgdG9wIGxlZnQgY29ybmVyKS4gVGhlIGljb25cclxuXHQgKiB3aWxsIGJlIGFsaWduZWQgc28gdGhhdCB0aGlzIHBvaW50IGlzIGF0IHRoZSBtYXJrZXIncyBnZW9ncmFwaGljYWwgbG9jYXRpb24uIENlbnRlcmVkXHJcblx0ICogYnkgZGVmYXVsdCBpZiBzaXplIGlzIHNwZWNpZmllZCwgYWxzbyBjYW4gYmUgc2V0IGluIENTUyB3aXRoIG5lZ2F0aXZlIG1hcmdpbnMuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIHBvcHVwQW5jaG9yOiBQb2ludCA9IFswLCAwXVxyXG5cdCAqIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgcG9pbnQgZnJvbSB3aGljaCBwb3B1cHMgd2lsbCBcIm9wZW5cIiwgcmVsYXRpdmUgdG8gdGhlIGljb24gYW5jaG9yLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiB0b29sdGlwQW5jaG9yOiBQb2ludCA9IFswLCAwXVxyXG5cdCAqIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgcG9pbnQgZnJvbSB3aGljaCB0b29sdGlwcyB3aWxsIFwib3BlblwiLCByZWxhdGl2ZSB0byB0aGUgaWNvbiBhbmNob3IuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIHNoYWRvd1VybDogU3RyaW5nID0gbnVsbFxyXG5cdCAqIFRoZSBVUkwgdG8gdGhlIGljb24gc2hhZG93IGltYWdlLiBJZiBub3Qgc3BlY2lmaWVkLCBubyBzaGFkb3cgaW1hZ2Ugd2lsbCBiZSBjcmVhdGVkLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBzaGFkb3dSZXRpbmFVcmw6IFN0cmluZyA9IG51bGxcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gc2hhZG93U2l6ZTogUG9pbnQgPSBudWxsXHJcblx0ICogU2l6ZSBvZiB0aGUgc2hhZG93IGltYWdlIGluIHBpeGVscy5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gc2hhZG93QW5jaG9yOiBQb2ludCA9IG51bGxcclxuXHQgKiBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIFwidGlwXCIgb2YgdGhlIHNoYWRvdyAocmVsYXRpdmUgdG8gaXRzIHRvcCBsZWZ0IGNvcm5lcikgKHRoZSBzYW1lXHJcblx0ICogYXMgaWNvbkFuY2hvciBpZiBub3Qgc3BlY2lmaWVkKS5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gY2xhc3NOYW1lOiBTdHJpbmcgPSAnJ1xyXG5cdCAqIEEgY3VzdG9tIGNsYXNzIG5hbWUgdG8gYXNzaWduIHRvIGJvdGggaWNvbiBhbmQgc2hhZG93IGltYWdlcy4gRW1wdHkgYnkgZGVmYXVsdC5cclxuXHQgKi9cclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0cG9wdXBBbmNob3I6IFswLCAwXSxcclxuXHRcdHRvb2x0aXBBbmNob3I6IFswLCAwXSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNyb3NzT3JpZ2luOiBCb29sZWFufFN0cmluZyA9IGZhbHNlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSBjcm9zc09yaWdpbiBhdHRyaWJ1dGUgd2lsbCBiZSBhZGRlZCB0byB0aGUgdGlsZXMuXHJcblx0XHQvLyBJZiBhIFN0cmluZyBpcyBwcm92aWRlZCwgYWxsIHRpbGVzIHdpbGwgaGF2ZSB0aGVpciBjcm9zc09yaWdpbiBhdHRyaWJ1dGUgc2V0IHRvIHRoZSBTdHJpbmcgcHJvdmlkZWQuIFRoaXMgaXMgbmVlZGVkIGlmIHlvdSB3YW50IHRvIGFjY2VzcyB0aWxlIHBpeGVsIGRhdGEuXHJcblx0XHQvLyBSZWZlciB0byBbQ09SUyBTZXR0aW5nc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX3NldHRpbmdzX2F0dHJpYnV0ZXMpIGZvciB2YWxpZCBTdHJpbmcgdmFsdWVzLlxyXG5cdFx0Y3Jvc3NPcmlnaW46IGZhbHNlXHJcblx0fSxcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHRcdHNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjcmVhdGVJY29uKG9sZEljb24/OiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50XHJcblx0Ly8gQ2FsbGVkIGludGVybmFsbHkgd2hlbiB0aGUgaWNvbiBoYXMgdG8gYmUgc2hvd24sIHJldHVybnMgYSBgPGltZz5gIEhUTUwgZWxlbWVudFxyXG5cdC8vIHN0eWxlZCBhY2NvcmRpbmcgdG8gdGhlIG9wdGlvbnMuXHJcblx0Y3JlYXRlSWNvbjogZnVuY3Rpb24gKG9sZEljb24pIHtcclxuXHRcdHJldHVybiB0aGlzLl9jcmVhdGVJY29uKCdpY29uJywgb2xkSWNvbik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjcmVhdGVTaGFkb3cob2xkSWNvbj86IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuXHQvLyBBcyBgY3JlYXRlSWNvbmAsIGJ1dCBmb3IgdGhlIHNoYWRvdyBiZW5lYXRoIGl0LlxyXG5cdGNyZWF0ZVNoYWRvdzogZnVuY3Rpb24gKG9sZEljb24pIHtcclxuXHRcdHJldHVybiB0aGlzLl9jcmVhdGVJY29uKCdzaGFkb3cnLCBvbGRJY29uKTtcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlSWNvbjogZnVuY3Rpb24gKG5hbWUsIG9sZEljb24pIHtcclxuXHRcdHZhciBzcmMgPSB0aGlzLl9nZXRJY29uVXJsKG5hbWUpO1xyXG5cclxuXHRcdGlmICghc3JjKSB7XHJcblx0XHRcdGlmIChuYW1lID09PSAnaWNvbicpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ljb25Vcmwgbm90IHNldCBpbiBJY29uIG9wdGlvbnMgKHNlZSB0aGUgZG9jcykuJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGltZyA9IHRoaXMuX2NyZWF0ZUltZyhzcmMsIG9sZEljb24gJiYgb2xkSWNvbi50YWdOYW1lID09PSAnSU1HJyA/IG9sZEljb24gOiBudWxsKTtcclxuXHRcdHRoaXMuX3NldEljb25TdHlsZXMoaW1nLCBuYW1lKTtcclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luIHx8IHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gJycpIHtcclxuXHRcdFx0aW1nLmNyb3NzT3JpZ2luID0gdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJycgOiB0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW47XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGltZztcclxuXHR9LFxyXG5cclxuXHRfc2V0SWNvblN0eWxlczogZnVuY3Rpb24gKGltZywgbmFtZSkge1xyXG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XHJcblx0XHR2YXIgc2l6ZU9wdGlvbiA9IG9wdGlvbnNbbmFtZSArICdTaXplJ107XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBzaXplT3B0aW9uID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRzaXplT3B0aW9uID0gW3NpemVPcHRpb24sIHNpemVPcHRpb25dO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBzaXplID0gcG9pbnQoc2l6ZU9wdGlvbiksXHJcblx0XHQgICAgYW5jaG9yID0gcG9pbnQobmFtZSA9PT0gJ3NoYWRvdycgJiYgb3B0aW9ucy5zaGFkb3dBbmNob3IgfHwgb3B0aW9ucy5pY29uQW5jaG9yIHx8XHJcblx0XHQgICAgICAgICAgICBzaXplICYmIHNpemUuZGl2aWRlQnkoMiwgdHJ1ZSkpO1xyXG5cclxuXHRcdGltZy5jbGFzc05hbWUgPSAnbGVhZmxldC1tYXJrZXItJyArIG5hbWUgKyAnICcgKyAob3B0aW9ucy5jbGFzc05hbWUgfHwgJycpO1xyXG5cclxuXHRcdGlmIChhbmNob3IpIHtcclxuXHRcdFx0aW1nLnN0eWxlLm1hcmdpbkxlZnQgPSAoLWFuY2hvci54KSArICdweCc7XHJcblx0XHRcdGltZy5zdHlsZS5tYXJnaW5Ub3AgID0gKC1hbmNob3IueSkgKyAncHgnO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChzaXplKSB7XHJcblx0XHRcdGltZy5zdHlsZS53aWR0aCAgPSBzaXplLnggKyAncHgnO1xyXG5cdFx0XHRpbWcuc3R5bGUuaGVpZ2h0ID0gc2l6ZS55ICsgJ3B4JztcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlSW1nOiBmdW5jdGlvbiAoc3JjLCBlbCkge1xyXG5cdFx0ZWwgPSBlbCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHRcdGVsLnNyYyA9IHNyYztcclxuXHRcdHJldHVybiBlbDtcclxuXHR9LFxyXG5cclxuXHRfZ2V0SWNvblVybDogZnVuY3Rpb24gKG5hbWUpIHtcclxuXHRcdHJldHVybiBCcm93c2VyLnJldGluYSAmJiB0aGlzLm9wdGlvbnNbbmFtZSArICdSZXRpbmFVcmwnXSB8fCB0aGlzLm9wdGlvbnNbbmFtZSArICdVcmwnXTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbi8vIEBmYWN0b3J5IEwuaWNvbihvcHRpb25zOiBJY29uIG9wdGlvbnMpXHJcbi8vIENyZWF0ZXMgYW4gaWNvbiBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxyXG5leHBvcnQgZnVuY3Rpb24gaWNvbihvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBJY29uKG9wdGlvbnMpO1xyXG59XHJcbiIsICJpbXBvcnQge0ljb259IGZyb20gJy4vSWNvbic7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcblxuLypcbiAqIEBtaW5pY2xhc3MgSWNvbi5EZWZhdWx0IChJY29uKVxuICogQGFrYSBMLkljb24uRGVmYXVsdFxuICogQHNlY3Rpb25cbiAqXG4gKiBBIHRyaXZpYWwgc3ViY2xhc3Mgb2YgYEljb25gLCByZXByZXNlbnRzIHRoZSBpY29uIHRvIHVzZSBpbiBgTWFya2VyYHMgd2hlblxuICogbm8gaWNvbiBpcyBzcGVjaWZpZWQuIFBvaW50cyB0byB0aGUgYmx1ZSBtYXJrZXIgaW1hZ2UgZGlzdHJpYnV0ZWQgd2l0aCBMZWFmbGV0XG4gKiByZWxlYXNlcy5cbiAqXG4gKiBJbiBvcmRlciB0byBjdXN0b21pemUgdGhlIGRlZmF1bHQgaWNvbiwganVzdCBjaGFuZ2UgdGhlIHByb3BlcnRpZXMgb2YgYEwuSWNvbi5EZWZhdWx0LnByb3RvdHlwZS5vcHRpb25zYFxuICogKHdoaWNoIGlzIGEgc2V0IG9mIGBJY29uIG9wdGlvbnNgKS5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byBfY29tcGxldGVseV8gcmVwbGFjZSB0aGUgZGVmYXVsdCBpY29uLCBvdmVycmlkZSB0aGVcbiAqIGBMLk1hcmtlci5wcm90b3R5cGUub3B0aW9ucy5pY29uYCB3aXRoIHlvdXIgb3duIGljb24gaW5zdGVhZC5cbiAqL1xuXG5leHBvcnQgdmFyIEljb25EZWZhdWx0ID0gSWNvbi5leHRlbmQoe1xuXG5cdG9wdGlvbnM6IHtcblx0XHRpY29uVXJsOiAgICAgICAnbWFya2VyLWljb24ucG5nJyxcblx0XHRpY29uUmV0aW5hVXJsOiAnbWFya2VyLWljb24tMngucG5nJyxcblx0XHRzaGFkb3dVcmw6ICAgICAnbWFya2VyLXNoYWRvdy5wbmcnLFxuXHRcdGljb25TaXplOiAgICBbMjUsIDQxXSxcblx0XHRpY29uQW5jaG9yOiAgWzEyLCA0MV0sXG5cdFx0cG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuXHRcdHRvb2x0aXBBbmNob3I6IFsxNiwgLTI4XSxcblx0XHRzaGFkb3dTaXplOiAgWzQxLCA0MV1cblx0fSxcblxuXHRfZ2V0SWNvblVybDogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRpZiAodHlwZW9mIEljb25EZWZhdWx0LmltYWdlUGF0aCAhPT0gJ3N0cmluZycpIHtcdC8vIERlcHJlY2F0ZWQsIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5IG9ubHlcblx0XHRcdEljb25EZWZhdWx0LmltYWdlUGF0aCA9IHRoaXMuX2RldGVjdEljb25QYXRoKCk7XG5cdFx0fVxuXG5cdFx0Ly8gQG9wdGlvbiBpbWFnZVBhdGg6IFN0cmluZ1xuXHRcdC8vIGBJY29uLkRlZmF1bHRgIHdpbGwgdHJ5IHRvIGF1dG8tZGV0ZWN0IHRoZSBsb2NhdGlvbiBvZiB0aGVcblx0XHQvLyBibHVlIGljb24gaW1hZ2VzLiBJZiB5b3UgYXJlIHBsYWNpbmcgdGhlc2UgaW1hZ2VzIGluIGEgbm9uLXN0YW5kYXJkXG5cdFx0Ly8gd2F5LCBzZXQgdGhpcyBvcHRpb24gdG8gcG9pbnQgdG8gdGhlIHJpZ2h0IHBhdGguXG5cdFx0cmV0dXJuICh0aGlzLm9wdGlvbnMuaW1hZ2VQYXRoIHx8IEljb25EZWZhdWx0LmltYWdlUGF0aCkgKyBJY29uLnByb3RvdHlwZS5fZ2V0SWNvblVybC5jYWxsKHRoaXMsIG5hbWUpO1xuXHR9LFxuXG5cdF9zdHJpcFVybDogZnVuY3Rpb24gKHBhdGgpIHtcdC8vIHNlcGFyYXRlIGZ1bmN0aW9uIHRvIHVzZSBpbiB0ZXN0c1xuXHRcdHZhciBzdHJpcCA9IGZ1bmN0aW9uIChzdHIsIHJlLCBpZHgpIHtcblx0XHRcdHZhciBtYXRjaCA9IHJlLmV4ZWMoc3RyKTtcblx0XHRcdHJldHVybiBtYXRjaCAmJiBtYXRjaFtpZHhdO1xuXHRcdH07XG5cdFx0cGF0aCA9IHN0cmlwKHBhdGgsIC9edXJsXFwoKFsnXCJdKT8oLispXFwxXFwpJC8sIDIpO1xuXHRcdHJldHVybiBwYXRoICYmIHN0cmlwKHBhdGgsIC9eKC4qKW1hcmtlci1pY29uXFwucG5nJC8sIDEpO1xuXHR9LFxuXG5cdF9kZXRlY3RJY29uUGF0aDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBlbCA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCAgJ2xlYWZsZXQtZGVmYXVsdC1pY29uLXBhdGgnLCBkb2N1bWVudC5ib2R5KTtcblx0XHR2YXIgcGF0aCA9IERvbVV0aWwuZ2V0U3R5bGUoZWwsICdiYWNrZ3JvdW5kLWltYWdlJykgfHxcblx0XHQgICAgICAgICAgIERvbVV0aWwuZ2V0U3R5bGUoZWwsICdiYWNrZ3JvdW5kSW1hZ2UnKTtcdC8vIElFOFxuXG5cdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG5cdFx0cGF0aCA9IHRoaXMuX3N0cmlwVXJsKHBhdGgpO1xuXHRcdGlmIChwYXRoKSB7IHJldHVybiBwYXRoOyB9XG5cdFx0dmFyIGxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsaW5rW2hyZWYkPVwibGVhZmxldC5jc3NcIl0nKTtcblx0XHRpZiAoIWxpbmspIHsgcmV0dXJuICcnOyB9XG5cdFx0cmV0dXJuIGxpbmsuaHJlZi5zdWJzdHJpbmcoMCwgbGluay5ocmVmLmxlbmd0aCAtICdsZWFmbGV0LmNzcycubGVuZ3RoIC0gMSk7XG5cdH1cbn0pO1xuIiwgImltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vLi4vZG9tL0RvbVV0aWwnO1xuaW1wb3J0IHtEcmFnZ2FibGV9IGZyb20gJy4uLy4uL2RvbS9EcmFnZ2FibGUnO1xuaW1wb3J0IHt0b0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcbmltcG9ydCB7dG9Qb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xuaW1wb3J0IHtyZXF1ZXN0QW5pbUZyYW1lLCBjYW5jZWxBbmltRnJhbWV9IGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5cbi8qXG4gKiBMLkhhbmRsZXIuTWFya2VyRHJhZyBpcyB1c2VkIGludGVybmFsbHkgYnkgTC5NYXJrZXIgdG8gbWFrZSB0aGUgbWFya2VycyBkcmFnZ2FibGUuXG4gKi9cblxuXG4vKiBAbmFtZXNwYWNlIE1hcmtlclxuICogQHNlY3Rpb24gSW50ZXJhY3Rpb24gaGFuZGxlcnNcbiAqXG4gKiBJbnRlcmFjdGlvbiBoYW5kbGVycyBhcmUgcHJvcGVydGllcyBvZiBhIG1hcmtlciBpbnN0YW5jZSB0aGF0IGFsbG93IHlvdSB0byBjb250cm9sIGludGVyYWN0aW9uIGJlaGF2aW9yIGluIHJ1bnRpbWUsIGVuYWJsaW5nIG9yIGRpc2FibGluZyBjZXJ0YWluIGZlYXR1cmVzIHN1Y2ggYXMgZHJhZ2dpbmcgKHNlZSBgSGFuZGxlcmAgbWV0aG9kcykuIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIG1hcmtlci5kcmFnZ2luZy5kaXNhYmxlKCk7XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkgZHJhZ2dpbmc6IEhhbmRsZXJcbiAqIE1hcmtlciBkcmFnZ2luZyBoYW5kbGVyIChieSBib3RoIG1vdXNlIGFuZCB0b3VjaCkuIE9ubHkgdmFsaWQgd2hlbiB0aGUgbWFya2VyIGlzIG9uIHRoZSBtYXAgKE90aGVyd2lzZSBzZXQgW2BtYXJrZXIub3B0aW9ucy5kcmFnZ2FibGVgXSgjbWFya2VyLWRyYWdnYWJsZSkpLlxuICovXG5cbmV4cG9ydCB2YXIgTWFya2VyRHJhZyA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcmtlcikge1xuXHRcdHRoaXMuX21hcmtlciA9IG1hcmtlcjtcblx0fSxcblxuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBpY29uID0gdGhpcy5fbWFya2VyLl9pY29uO1xuXG5cdFx0aWYgKCF0aGlzLl9kcmFnZ2FibGUpIHtcblx0XHRcdHRoaXMuX2RyYWdnYWJsZSA9IG5ldyBEcmFnZ2FibGUoaWNvbiwgaWNvbiwgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZHJhZ2dhYmxlLm9uKHtcblx0XHRcdGRyYWdzdGFydDogdGhpcy5fb25EcmFnU3RhcnQsXG5cdFx0XHRwcmVkcmFnOiB0aGlzLl9vblByZURyYWcsXG5cdFx0XHRkcmFnOiB0aGlzLl9vbkRyYWcsXG5cdFx0XHRkcmFnZW5kOiB0aGlzLl9vbkRyYWdFbmRcblx0XHR9LCB0aGlzKS5lbmFibGUoKTtcblxuXHRcdERvbVV0aWwuYWRkQ2xhc3MoaWNvbiwgJ2xlYWZsZXQtbWFya2VyLWRyYWdnYWJsZScpO1xuXHR9LFxuXG5cdHJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fZHJhZ2dhYmxlLm9mZih7XG5cdFx0XHRkcmFnc3RhcnQ6IHRoaXMuX29uRHJhZ1N0YXJ0LFxuXHRcdFx0cHJlZHJhZzogdGhpcy5fb25QcmVEcmFnLFxuXHRcdFx0ZHJhZzogdGhpcy5fb25EcmFnLFxuXHRcdFx0ZHJhZ2VuZDogdGhpcy5fb25EcmFnRW5kXG5cdFx0fSwgdGhpcykuZGlzYWJsZSgpO1xuXG5cdFx0aWYgKHRoaXMuX21hcmtlci5faWNvbikge1xuXHRcdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXJrZXIuX2ljb24sICdsZWFmbGV0LW1hcmtlci1kcmFnZ2FibGUnKTtcblx0XHR9XG5cdH0sXG5cblx0bW92ZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlICYmIHRoaXMuX2RyYWdnYWJsZS5fbW92ZWQ7XG5cdH0sXG5cblx0X2FkanVzdFBhbjogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgbWFya2VyID0gdGhpcy5fbWFya2VyLFxuXHRcdCAgICBtYXAgPSBtYXJrZXIuX21hcCxcblx0XHQgICAgc3BlZWQgPSB0aGlzLl9tYXJrZXIub3B0aW9ucy5hdXRvUGFuU3BlZWQsXG5cdFx0ICAgIHBhZGRpbmcgPSB0aGlzLl9tYXJrZXIub3B0aW9ucy5hdXRvUGFuUGFkZGluZyxcblx0XHQgICAgaWNvblBvcyA9IERvbVV0aWwuZ2V0UG9zaXRpb24obWFya2VyLl9pY29uKSxcblx0XHQgICAgYm91bmRzID0gbWFwLmdldFBpeGVsQm91bmRzKCksXG5cdFx0ICAgIG9yaWdpbiA9IG1hcC5nZXRQaXhlbE9yaWdpbigpO1xuXG5cdFx0dmFyIHBhbkJvdW5kcyA9IHRvQm91bmRzKFxuXHRcdFx0Ym91bmRzLm1pbi5fc3VidHJhY3Qob3JpZ2luKS5hZGQocGFkZGluZyksXG5cdFx0XHRib3VuZHMubWF4Ll9zdWJ0cmFjdChvcmlnaW4pLnN1YnRyYWN0KHBhZGRpbmcpXG5cdFx0KTtcblxuXHRcdGlmICghcGFuQm91bmRzLmNvbnRhaW5zKGljb25Qb3MpKSB7XG5cdFx0XHQvLyBDb21wdXRlIGluY3JlbWVudGFsIG1vdmVtZW50XG5cdFx0XHR2YXIgbW92ZW1lbnQgPSB0b1BvaW50KFxuXHRcdFx0XHQoTWF0aC5tYXgocGFuQm91bmRzLm1heC54LCBpY29uUG9zLngpIC0gcGFuQm91bmRzLm1heC54KSAvIChib3VuZHMubWF4LnggLSBwYW5Cb3VuZHMubWF4LngpIC1cblx0XHRcdFx0KE1hdGgubWluKHBhbkJvdW5kcy5taW4ueCwgaWNvblBvcy54KSAtIHBhbkJvdW5kcy5taW4ueCkgLyAoYm91bmRzLm1pbi54IC0gcGFuQm91bmRzLm1pbi54KSxcblxuXHRcdFx0XHQoTWF0aC5tYXgocGFuQm91bmRzLm1heC55LCBpY29uUG9zLnkpIC0gcGFuQm91bmRzLm1heC55KSAvIChib3VuZHMubWF4LnkgLSBwYW5Cb3VuZHMubWF4LnkpIC1cblx0XHRcdFx0KE1hdGgubWluKHBhbkJvdW5kcy5taW4ueSwgaWNvblBvcy55KSAtIHBhbkJvdW5kcy5taW4ueSkgLyAoYm91bmRzLm1pbi55IC0gcGFuQm91bmRzLm1pbi55KVxuXHRcdFx0KS5tdWx0aXBseUJ5KHNwZWVkKTtcblxuXHRcdFx0bWFwLnBhbkJ5KG1vdmVtZW50LCB7YW5pbWF0ZTogZmFsc2V9KTtcblxuXHRcdFx0dGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MuX2FkZChtb3ZlbWVudCk7XG5cdFx0XHR0aGlzLl9kcmFnZ2FibGUuX3N0YXJ0UG9zLl9hZGQobW92ZW1lbnQpO1xuXG5cdFx0XHREb21VdGlsLnNldFBvc2l0aW9uKG1hcmtlci5faWNvbiwgdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MpO1xuXHRcdFx0dGhpcy5fb25EcmFnKGUpO1xuXG5cdFx0XHR0aGlzLl9wYW5SZXF1ZXN0ID0gcmVxdWVzdEFuaW1GcmFtZSh0aGlzLl9hZGp1c3RQYW4uYmluZCh0aGlzLCBlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9vbkRyYWdTdGFydDogZnVuY3Rpb24gKCkge1xuXHRcdC8vIEBzZWN0aW9uIERyYWdnaW5nIGV2ZW50c1xuXHRcdC8vIEBldmVudCBkcmFnc3RhcnQ6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciBzdGFydHMgZHJhZ2dpbmcgdGhlIG1hcmtlci5cblxuXHRcdC8vIEBldmVudCBtb3Zlc3RhcnQ6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFya2VyIHN0YXJ0cyBtb3ZpbmcgKGJlY2F1c2Ugb2YgZHJhZ2dpbmcpLlxuXG5cdFx0dGhpcy5fb2xkTGF0TG5nID0gdGhpcy5fbWFya2VyLmdldExhdExuZygpO1xuXG5cdFx0Ly8gV2hlbiB1c2luZyBFUzYgaW1wb3J0cyBpdCBjb3VsZCBub3QgYmUgc2V0IHdoZW4gYFBvcHVwYCB3YXMgbm90IGltcG9ydGVkIGFzIHdlbGxcblx0XHR0aGlzLl9tYXJrZXIuY2xvc2VQb3B1cCAmJiB0aGlzLl9tYXJrZXIuY2xvc2VQb3B1cCgpO1xuXG5cdFx0dGhpcy5fbWFya2VyXG5cdFx0XHQuZmlyZSgnbW92ZXN0YXJ0Jylcblx0XHRcdC5maXJlKCdkcmFnc3RhcnQnKTtcblx0fSxcblxuXHRfb25QcmVEcmFnOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICh0aGlzLl9tYXJrZXIub3B0aW9ucy5hdXRvUGFuKSB7XG5cdFx0XHRjYW5jZWxBbmltRnJhbWUodGhpcy5fcGFuUmVxdWVzdCk7XG5cdFx0XHR0aGlzLl9wYW5SZXF1ZXN0ID0gcmVxdWVzdEFuaW1GcmFtZSh0aGlzLl9hZGp1c3RQYW4uYmluZCh0aGlzLCBlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9vbkRyYWc6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIG1hcmtlciA9IHRoaXMuX21hcmtlcixcblx0XHQgICAgc2hhZG93ID0gbWFya2VyLl9zaGFkb3csXG5cdFx0ICAgIGljb25Qb3MgPSBEb21VdGlsLmdldFBvc2l0aW9uKG1hcmtlci5faWNvbiksXG5cdFx0ICAgIGxhdGxuZyA9IG1hcmtlci5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyhpY29uUG9zKTtcblxuXHRcdC8vIHVwZGF0ZSBzaGFkb3cgcG9zaXRpb25cblx0XHRpZiAoc2hhZG93KSB7XG5cdFx0XHREb21VdGlsLnNldFBvc2l0aW9uKHNoYWRvdywgaWNvblBvcyk7XG5cdFx0fVxuXG5cdFx0bWFya2VyLl9sYXRsbmcgPSBsYXRsbmc7XG5cdFx0ZS5sYXRsbmcgPSBsYXRsbmc7XG5cdFx0ZS5vbGRMYXRMbmcgPSB0aGlzLl9vbGRMYXRMbmc7XG5cblx0XHQvLyBAZXZlbnQgZHJhZzogRXZlbnRcblx0XHQvLyBGaXJlZCByZXBlYXRlZGx5IHdoaWxlIHRoZSB1c2VyIGRyYWdzIHRoZSBtYXJrZXIuXG5cdFx0bWFya2VyXG5cdFx0ICAgIC5maXJlKCdtb3ZlJywgZSlcblx0XHQgICAgLmZpcmUoJ2RyYWcnLCBlKTtcblx0fSxcblxuXHRfb25EcmFnRW5kOiBmdW5jdGlvbiAoZSkge1xuXHRcdC8vIEBldmVudCBkcmFnZW5kOiBEcmFnRW5kRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHN0b3BzIGRyYWdnaW5nIHRoZSBtYXJrZXIuXG5cblx0XHQgY2FuY2VsQW5pbUZyYW1lKHRoaXMuX3BhblJlcXVlc3QpO1xuXG5cdFx0Ly8gQGV2ZW50IG1vdmVlbmQ6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFya2VyIHN0b3BzIG1vdmluZyAoYmVjYXVzZSBvZiBkcmFnZ2luZykuXG5cdFx0ZGVsZXRlIHRoaXMuX29sZExhdExuZztcblx0XHR0aGlzLl9tYXJrZXJcblx0XHQgICAgLmZpcmUoJ21vdmVlbmQnKVxuXHRcdCAgICAuZmlyZSgnZHJhZ2VuZCcsIGUpO1xuXHR9XG59KTtcbiIsICJpbXBvcnQge0xheWVyfSBmcm9tICcuLi9MYXllcic7XHJcbmltcG9ydCB7SWNvbkRlZmF1bHR9IGZyb20gJy4vSWNvbi5EZWZhdWx0JztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge3RvTGF0TG5nIGFzIGxhdExuZ30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZyc7XHJcbmltcG9ydCB7dG9Qb2ludCBhcyBwb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcclxuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vLi4vZG9tL0RvbUV2ZW50JztcclxuaW1wb3J0IHtNYXJrZXJEcmFnfSBmcm9tICcuL01hcmtlci5EcmFnJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBNYXJrZXJcclxuICogQGluaGVyaXRzIEludGVyYWN0aXZlIGxheWVyXHJcbiAqIEBha2EgTC5NYXJrZXJcclxuICogTC5NYXJrZXIgaXMgdXNlZCB0byBkaXNwbGF5IGNsaWNrYWJsZS9kcmFnZ2FibGUgaWNvbnMgb24gdGhlIG1hcC4gRXh0ZW5kcyBgTGF5ZXJgLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBMLm1hcmtlcihbNTAuNSwgMzAuNV0pLmFkZFRvKG1hcCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgTWFya2VyID0gTGF5ZXIuZXh0ZW5kKHtcclxuXHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIE1hcmtlciBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBpY29uOiBJY29uID0gKlxyXG5cdFx0Ly8gSWNvbiBpbnN0YW5jZSB0byB1c2UgZm9yIHJlbmRlcmluZyB0aGUgbWFya2VyLlxyXG5cdFx0Ly8gU2VlIFtJY29uIGRvY3VtZW50YXRpb25dKCNMLkljb24pIGZvciBkZXRhaWxzIG9uIGhvdyB0byBjdXN0b21pemUgdGhlIG1hcmtlciBpY29uLlxyXG5cdFx0Ly8gSWYgbm90IHNwZWNpZmllZCwgYSBjb21tb24gaW5zdGFuY2Ugb2YgYEwuSWNvbi5EZWZhdWx0YCBpcyB1c2VkLlxyXG5cdFx0aWNvbjogbmV3IEljb25EZWZhdWx0KCksXHJcblxyXG5cdFx0Ly8gT3B0aW9uIGluaGVyaXRlZCBmcm9tIFwiSW50ZXJhY3RpdmUgbGF5ZXJcIiBhYnN0cmFjdCBjbGFzc1xyXG5cdFx0aW50ZXJhY3RpdmU6IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBrZXlib2FyZDogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZXRoZXIgdGhlIG1hcmtlciBjYW4gYmUgdGFiYmVkIHRvIHdpdGggYSBrZXlib2FyZCBhbmQgY2xpY2tlZCBieSBwcmVzc2luZyBlbnRlci5cclxuXHRcdGtleWJvYXJkOiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gdGl0bGU6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBUZXh0IGZvciB0aGUgYnJvd3NlciB0b29sdGlwIHRoYXQgYXBwZWFyIG9uIG1hcmtlciBob3ZlciAobm8gdG9vbHRpcCBieSBkZWZhdWx0KS5cclxuXHRcdC8vIFtVc2VmdWwgZm9yIGFjY2Vzc2liaWxpdHldKGh0dHBzOi8vbGVhZmxldGpzLmNvbS9leGFtcGxlcy9hY2Nlc3NpYmlsaXR5LyNtYXJrZXJzLW11c3QtYmUtbGFiZWxsZWQpLlxyXG5cdFx0dGl0bGU6ICcnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYWx0OiBTdHJpbmcgPSAnTWFya2VyJ1xyXG5cdFx0Ly8gVGV4dCBmb3IgdGhlIGBhbHRgIGF0dHJpYnV0ZSBvZiB0aGUgaWNvbiBpbWFnZS5cclxuXHRcdC8vIFtVc2VmdWwgZm9yIGFjY2Vzc2liaWxpdHldKGh0dHBzOi8vbGVhZmxldGpzLmNvbS9leGFtcGxlcy9hY2Nlc3NpYmlsaXR5LyNtYXJrZXJzLW11c3QtYmUtbGFiZWxsZWQpLlxyXG5cdFx0YWx0OiAnTWFya2VyJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpJbmRleE9mZnNldDogTnVtYmVyID0gMFxyXG5cdFx0Ly8gQnkgZGVmYXVsdCwgbWFya2VyIGltYWdlcyB6SW5kZXggaXMgc2V0IGF1dG9tYXRpY2FsbHkgYmFzZWQgb24gaXRzIGxhdGl0dWRlLiBVc2UgdGhpcyBvcHRpb24gaWYgeW91IHdhbnQgdG8gcHV0IHRoZSBtYXJrZXIgb24gdG9wIG9mIGFsbCBvdGhlcnMgKG9yIGJlbG93KSwgc3BlY2lmeWluZyBhIGhpZ2ggdmFsdWUgbGlrZSBgMTAwMGAgKG9yIGhpZ2ggbmVnYXRpdmUgdmFsdWUsIHJlc3BlY3RpdmVseSkuXHJcblx0XHR6SW5kZXhPZmZzZXQ6IDAsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBvcGFjaXR5OiBOdW1iZXIgPSAxLjBcclxuXHRcdC8vIFRoZSBvcGFjaXR5IG9mIHRoZSBtYXJrZXIuXHJcblx0XHRvcGFjaXR5OiAxLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gcmlzZU9uSG92ZXI6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gSWYgYHRydWVgLCB0aGUgbWFya2VyIHdpbGwgZ2V0IG9uIHRvcCBvZiBvdGhlcnMgd2hlbiB5b3UgaG92ZXIgdGhlIG1vdXNlIG92ZXIgaXQuXHJcblx0XHRyaXNlT25Ib3ZlcjogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiByaXNlT2Zmc2V0OiBOdW1iZXIgPSAyNTBcclxuXHRcdC8vIFRoZSB6LWluZGV4IG9mZnNldCB1c2VkIGZvciB0aGUgYHJpc2VPbkhvdmVyYCBmZWF0dXJlLlxyXG5cdFx0cmlzZU9mZnNldDogMjUwLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gcGFuZTogU3RyaW5nID0gJ21hcmtlclBhbmUnXHJcblx0XHQvLyBgTWFwIHBhbmVgIHdoZXJlIHRoZSBtYXJrZXJzIGljb24gd2lsbCBiZSBhZGRlZC5cclxuXHRcdHBhbmU6ICdtYXJrZXJQYW5lJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHNoYWRvd1BhbmU6IFN0cmluZyA9ICdzaGFkb3dQYW5lJ1xyXG5cdFx0Ly8gYE1hcCBwYW5lYCB3aGVyZSB0aGUgbWFya2VycyBzaGFkb3cgd2lsbCBiZSBhZGRlZC5cclxuXHRcdHNoYWRvd1BhbmU6ICdzaGFkb3dQYW5lJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGJ1YmJsaW5nTW91c2VFdmVudHM6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gV2hlbiBgdHJ1ZWAsIGEgbW91c2UgZXZlbnQgb24gdGhpcyBtYXJrZXIgd2lsbCB0cmlnZ2VyIHRoZSBzYW1lIGV2ZW50IG9uIHRoZSBtYXBcclxuXHRcdC8vICh1bmxlc3MgW2BMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbmBdKCNkb21ldmVudC1zdG9wcHJvcGFnYXRpb24pIGlzIHVzZWQpLlxyXG5cdFx0YnViYmxpbmdNb3VzZUV2ZW50czogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBhdXRvUGFuT25Gb2N1czogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZW4gYHRydWVgLCB0aGUgbWFwIHdpbGwgcGFuIHdoZW5ldmVyIHRoZSBtYXJrZXIgaXMgZm9jdXNlZCAodmlhXHJcblx0XHQvLyBlLmcuIHByZXNzaW5nIGB0YWJgIG9uIHRoZSBrZXlib2FyZCkgdG8gZW5zdXJlIHRoZSBtYXJrZXIgaXNcclxuXHRcdC8vIHZpc2libGUgd2l0aGluIHRoZSBtYXAncyBib3VuZHNcclxuXHRcdGF1dG9QYW5PbkZvY3VzOiB0cnVlLFxyXG5cclxuXHRcdC8vIEBzZWN0aW9uIERyYWdnYWJsZSBtYXJrZXIgb3B0aW9uc1xyXG5cdFx0Ly8gQG9wdGlvbiBkcmFnZ2FibGU6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgbWFya2VyIGlzIGRyYWdnYWJsZSB3aXRoIG1vdXNlL3RvdWNoIG9yIG5vdC5cclxuXHRcdGRyYWdnYWJsZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBhdXRvUGFuOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIFdoZXRoZXIgdG8gcGFuIHRoZSBtYXAgd2hlbiBkcmFnZ2luZyB0aGlzIG1hcmtlciBuZWFyIGl0cyBlZGdlIG9yIG5vdC5cclxuXHRcdGF1dG9QYW46IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYXV0b1BhblBhZGRpbmc6IFBvaW50ID0gUG9pbnQoNTAsIDUwKVxyXG5cdFx0Ly8gRGlzdGFuY2UgKGluIHBpeGVscyB0byB0aGUgbGVmdC9yaWdodCBhbmQgdG8gdGhlIHRvcC9ib3R0b20pIG9mIHRoZVxyXG5cdFx0Ly8gbWFwIGVkZ2UgdG8gc3RhcnQgcGFubmluZyB0aGUgbWFwLlxyXG5cdFx0YXV0b1BhblBhZGRpbmc6IFs1MCwgNTBdLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYXV0b1BhblNwZWVkOiBOdW1iZXIgPSAxMFxyXG5cdFx0Ly8gTnVtYmVyIG9mIHBpeGVscyB0aGUgbWFwIHNob3VsZCBwYW4gYnkuXHJcblx0XHRhdXRvUGFuU3BlZWQ6IDEwXHJcblx0fSxcclxuXHJcblx0LyogQHNlY3Rpb25cclxuXHQgKlxyXG5cdCAqIEluIGFkZGl0aW9uIHRvIFtzaGFyZWQgbGF5ZXIgbWV0aG9kc10oI0xheWVyKSBsaWtlIGBhZGRUbygpYCBhbmQgYHJlbW92ZSgpYCBhbmQgW3BvcHVwIG1ldGhvZHNdKCNQb3B1cCkgbGlrZSBiaW5kUG9wdXAoKSB5b3UgY2FuIGFsc28gdXNlIHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcclxuXHQgKi9cclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGxhdGxuZywgb3B0aW9ucykge1xyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cdFx0dGhpcy5fbGF0bG5nID0gbGF0TG5nKGxhdGxuZyk7XHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdHRoaXMuX3pvb21BbmltYXRlZCA9IHRoaXMuX3pvb21BbmltYXRlZCAmJiBtYXAub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9uO1xyXG5cclxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcclxuXHRcdFx0bWFwLm9uKCd6b29tYW5pbScsIHRoaXMuX2FuaW1hdGVab29tLCB0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9pbml0SWNvbigpO1xyXG5cdFx0dGhpcy51cGRhdGUoKTtcclxuXHR9LFxyXG5cclxuXHRvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0aWYgKHRoaXMuZHJhZ2dpbmcgJiYgdGhpcy5kcmFnZ2luZy5lbmFibGVkKCkpIHtcclxuXHRcdFx0dGhpcy5vcHRpb25zLmRyYWdnYWJsZSA9IHRydWU7XHJcblx0XHRcdHRoaXMuZHJhZ2dpbmcucmVtb3ZlSG9va3MoKTtcclxuXHRcdH1cclxuXHRcdGRlbGV0ZSB0aGlzLmRyYWdnaW5nO1xyXG5cclxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcclxuXHRcdFx0bWFwLm9mZignem9vbWFuaW0nLCB0aGlzLl9hbmltYXRlWm9vbSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fcmVtb3ZlSWNvbigpO1xyXG5cdFx0dGhpcy5fcmVtb3ZlU2hhZG93KCk7XHJcblx0fSxcclxuXHJcblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR6b29tOiB0aGlzLnVwZGF0ZSxcclxuXHRcdFx0dmlld3Jlc2V0OiB0aGlzLnVwZGF0ZVxyXG5cdFx0fTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldExhdExuZzogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyB0aGUgY3VycmVudCBnZW9ncmFwaGljYWwgcG9zaXRpb24gb2YgdGhlIG1hcmtlci5cclxuXHRnZXRMYXRMbmc6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9sYXRsbmc7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRMYXRMbmcobGF0bG5nOiBMYXRMbmcpOiB0aGlzXHJcblx0Ly8gQ2hhbmdlcyB0aGUgbWFya2VyIHBvc2l0aW9uIHRvIHRoZSBnaXZlbiBwb2ludC5cclxuXHRzZXRMYXRMbmc6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHZhciBvbGRMYXRMbmcgPSB0aGlzLl9sYXRsbmc7XHJcblx0XHR0aGlzLl9sYXRsbmcgPSBsYXRMbmcobGF0bG5nKTtcclxuXHRcdHRoaXMudXBkYXRlKCk7XHJcblxyXG5cdFx0Ly8gQGV2ZW50IG1vdmU6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXJrZXIgaXMgbW92ZWQgdmlhIFtgc2V0TGF0TG5nYF0oI21hcmtlci1zZXRsYXRsbmcpIG9yIGJ5IFtkcmFnZ2luZ10oI21hcmtlci1kcmFnZ2luZykuIE9sZCBhbmQgbmV3IGNvb3JkaW5hdGVzIGFyZSBpbmNsdWRlZCBpbiBldmVudCBhcmd1bWVudHMgYXMgYG9sZExhdExuZ2AsIGBsYXRsbmdgLlxyXG5cdFx0cmV0dXJuIHRoaXMuZmlyZSgnbW92ZScsIHtvbGRMYXRMbmc6IG9sZExhdExuZywgbGF0bG5nOiB0aGlzLl9sYXRsbmd9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFpJbmRleE9mZnNldChvZmZzZXQ6IE51bWJlcik6IHRoaXNcclxuXHQvLyBDaGFuZ2VzIHRoZSBbekluZGV4IG9mZnNldF0oI21hcmtlci16aW5kZXhvZmZzZXQpIG9mIHRoZSBtYXJrZXIuXHJcblx0c2V0WkluZGV4T2Zmc2V0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcblx0XHR0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0ID0gb2Zmc2V0O1xyXG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRJY29uOiBJY29uXHJcblx0Ly8gUmV0dXJucyB0aGUgY3VycmVudCBpY29uIHVzZWQgYnkgdGhlIG1hcmtlclxyXG5cdGdldEljb246IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuaWNvbjtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldEljb24oaWNvbjogSWNvbik6IHRoaXNcclxuXHQvLyBDaGFuZ2VzIHRoZSBtYXJrZXIgaWNvbi5cclxuXHRzZXRJY29uOiBmdW5jdGlvbiAoaWNvbikge1xyXG5cclxuXHRcdHRoaXMub3B0aW9ucy5pY29uID0gaWNvbjtcclxuXHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdHRoaXMuX2luaXRJY29uKCk7XHJcblx0XHRcdHRoaXMudXBkYXRlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuX3BvcHVwKSB7XHJcblx0XHRcdHRoaXMuYmluZFBvcHVwKHRoaXMuX3BvcHVwLCB0aGlzLl9wb3B1cC5vcHRpb25zKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRnZXRFbGVtZW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5faWNvbjtcclxuXHR9LFxyXG5cclxuXHR1cGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRpZiAodGhpcy5faWNvbiAmJiB0aGlzLl9tYXApIHtcclxuXHRcdFx0dmFyIHBvcyA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKS5yb3VuZCgpO1xyXG5cdFx0XHR0aGlzLl9zZXRQb3MocG9zKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfaW5pdEljb246IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0ICAgIGNsYXNzVG9BZGQgPSAnbGVhZmxldC16b29tLScgKyAodGhpcy5fem9vbUFuaW1hdGVkID8gJ2FuaW1hdGVkJyA6ICdoaWRlJyk7XHJcblxyXG5cdFx0dmFyIGljb24gPSBvcHRpb25zLmljb24uY3JlYXRlSWNvbih0aGlzLl9pY29uKSxcclxuXHRcdCAgICBhZGRJY29uID0gZmFsc2U7XHJcblxyXG5cdFx0Ly8gaWYgd2UncmUgbm90IHJldXNpbmcgdGhlIGljb24sIHJlbW92ZSB0aGUgb2xkIG9uZSBhbmQgaW5pdCBuZXcgb25lXHJcblx0XHRpZiAoaWNvbiAhPT0gdGhpcy5faWNvbikge1xyXG5cdFx0XHRpZiAodGhpcy5faWNvbikge1xyXG5cdFx0XHRcdHRoaXMuX3JlbW92ZUljb24oKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhZGRJY29uID0gdHJ1ZTtcclxuXHJcblx0XHRcdGlmIChvcHRpb25zLnRpdGxlKSB7XHJcblx0XHRcdFx0aWNvbi50aXRsZSA9IG9wdGlvbnMudGl0bGU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChpY29uLnRhZ05hbWUgPT09ICdJTUcnKSB7XHJcblx0XHRcdFx0aWNvbi5hbHQgPSBvcHRpb25zLmFsdCB8fCAnJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdERvbVV0aWwuYWRkQ2xhc3MoaWNvbiwgY2xhc3NUb0FkZCk7XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMua2V5Ym9hcmQpIHtcclxuXHRcdFx0aWNvbi50YWJJbmRleCA9ICcwJztcclxuXHRcdFx0aWNvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5faWNvbiA9IGljb247XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMucmlzZU9uSG92ZXIpIHtcclxuXHRcdFx0dGhpcy5vbih7XHJcblx0XHRcdFx0bW91c2VvdmVyOiB0aGlzLl9icmluZ1RvRnJvbnQsXHJcblx0XHRcdFx0bW91c2VvdXQ6IHRoaXMuX3Jlc2V0WkluZGV4XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuYXV0b1Bhbk9uRm9jdXMpIHtcclxuXHRcdFx0RG9tRXZlbnQub24oaWNvbiwgJ2ZvY3VzJywgdGhpcy5fcGFuT25Gb2N1cywgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG5ld1NoYWRvdyA9IG9wdGlvbnMuaWNvbi5jcmVhdGVTaGFkb3codGhpcy5fc2hhZG93KSxcclxuXHRcdCAgICBhZGRTaGFkb3cgPSBmYWxzZTtcclxuXHJcblx0XHRpZiAobmV3U2hhZG93ICE9PSB0aGlzLl9zaGFkb3cpIHtcclxuXHRcdFx0dGhpcy5fcmVtb3ZlU2hhZG93KCk7XHJcblx0XHRcdGFkZFNoYWRvdyA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG5ld1NoYWRvdykge1xyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKG5ld1NoYWRvdywgY2xhc3NUb0FkZCk7XHJcblx0XHRcdG5ld1NoYWRvdy5hbHQgPSAnJztcclxuXHRcdH1cclxuXHRcdHRoaXMuX3NoYWRvdyA9IG5ld1NoYWRvdztcclxuXHJcblxyXG5cdFx0aWYgKG9wdGlvbnMub3BhY2l0eSA8IDEpIHtcclxuXHRcdFx0dGhpcy5fdXBkYXRlT3BhY2l0eSgpO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRpZiAoYWRkSWNvbikge1xyXG5cdFx0XHR0aGlzLmdldFBhbmUoKS5hcHBlbmRDaGlsZCh0aGlzLl9pY29uKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX2luaXRJbnRlcmFjdGlvbigpO1xyXG5cdFx0aWYgKG5ld1NoYWRvdyAmJiBhZGRTaGFkb3cpIHtcclxuXHRcdFx0dGhpcy5nZXRQYW5lKG9wdGlvbnMuc2hhZG93UGFuZSkuYXBwZW5kQ2hpbGQodGhpcy5fc2hhZG93KTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfcmVtb3ZlSWNvbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5yaXNlT25Ib3Zlcikge1xyXG5cdFx0XHR0aGlzLm9mZih7XHJcblx0XHRcdFx0bW91c2VvdmVyOiB0aGlzLl9icmluZ1RvRnJvbnQsXHJcblx0XHRcdFx0bW91c2VvdXQ6IHRoaXMuX3Jlc2V0WkluZGV4XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuYXV0b1Bhbk9uRm9jdXMpIHtcclxuXHRcdFx0RG9tRXZlbnQub2ZmKHRoaXMuX2ljb24sICdmb2N1cycsIHRoaXMuX3Bhbk9uRm9jdXMsIHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2ljb24pO1xyXG5cdFx0dGhpcy5yZW1vdmVJbnRlcmFjdGl2ZVRhcmdldCh0aGlzLl9pY29uKTtcclxuXHJcblx0XHR0aGlzLl9pY29uID0gbnVsbDtcclxuXHR9LFxyXG5cclxuXHRfcmVtb3ZlU2hhZG93OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fc2hhZG93KSB7XHJcblx0XHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX3NoYWRvdyk7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9zaGFkb3cgPSBudWxsO1xyXG5cdH0sXHJcblxyXG5cdF9zZXRQb3M6IGZ1bmN0aW9uIChwb3MpIHtcclxuXHJcblx0XHRpZiAodGhpcy5faWNvbikge1xyXG5cdFx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2ljb24sIHBvcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuX3NoYWRvdykge1xyXG5cdFx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX3NoYWRvdywgcG9zKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl96SW5kZXggPSBwb3MueSArIHRoaXMub3B0aW9ucy56SW5kZXhPZmZzZXQ7XHJcblxyXG5cdFx0dGhpcy5fcmVzZXRaSW5kZXgoKTtcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlWkluZGV4OiBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcblx0XHRpZiAodGhpcy5faWNvbikge1xyXG5cdFx0XHR0aGlzLl9pY29uLnN0eWxlLnpJbmRleCA9IHRoaXMuX3pJbmRleCArIG9mZnNldDtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChvcHQpIHtcclxuXHRcdHZhciBwb3MgPSB0aGlzLl9tYXAuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcsIG9wdC56b29tLCBvcHQuY2VudGVyKS5yb3VuZCgpO1xyXG5cclxuXHRcdHRoaXMuX3NldFBvcyhwb3MpO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0SW50ZXJhY3Rpb246IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRpZiAoIXRoaXMub3B0aW9ucy5pbnRlcmFjdGl2ZSkgeyByZXR1cm47IH1cclxuXHJcblx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX2ljb24sICdsZWFmbGV0LWludGVyYWN0aXZlJyk7XHJcblxyXG5cdFx0dGhpcy5hZGRJbnRlcmFjdGl2ZVRhcmdldCh0aGlzLl9pY29uKTtcclxuXHJcblx0XHRpZiAoTWFya2VyRHJhZykge1xyXG5cdFx0XHR2YXIgZHJhZ2dhYmxlID0gdGhpcy5vcHRpb25zLmRyYWdnYWJsZTtcclxuXHRcdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHtcclxuXHRcdFx0XHRkcmFnZ2FibGUgPSB0aGlzLmRyYWdnaW5nLmVuYWJsZWQoKTtcclxuXHRcdFx0XHR0aGlzLmRyYWdnaW5nLmRpc2FibGUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5kcmFnZ2luZyA9IG5ldyBNYXJrZXJEcmFnKHRoaXMpO1xyXG5cclxuXHRcdFx0aWYgKGRyYWdnYWJsZSkge1xyXG5cdFx0XHRcdHRoaXMuZHJhZ2dpbmcuZW5hYmxlKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldE9wYWNpdHkob3BhY2l0eTogTnVtYmVyKTogdGhpc1xyXG5cdC8vIENoYW5nZXMgdGhlIG9wYWNpdHkgb2YgdGhlIG1hcmtlci5cclxuXHRzZXRPcGFjaXR5OiBmdW5jdGlvbiAob3BhY2l0eSkge1xyXG5cdFx0dGhpcy5vcHRpb25zLm9wYWNpdHkgPSBvcGFjaXR5O1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLl91cGRhdGVPcGFjaXR5KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZU9wYWNpdHk6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBvcGFjaXR5ID0gdGhpcy5vcHRpb25zLm9wYWNpdHk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2ljb24pIHtcclxuXHRcdFx0RG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2ljb24sIG9wYWNpdHkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLl9zaGFkb3cpIHtcclxuXHRcdFx0RG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX3NoYWRvdywgb3BhY2l0eSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2JyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5fdXBkYXRlWkluZGV4KHRoaXMub3B0aW9ucy5yaXNlT2Zmc2V0KTtcclxuXHR9LFxyXG5cclxuXHRfcmVzZXRaSW5kZXg6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX3VwZGF0ZVpJbmRleCgwKTtcclxuXHR9LFxyXG5cclxuXHRfcGFuT25Gb2N1czogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcDtcclxuXHRcdGlmICghbWFwKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHZhciBpY29uT3B0cyA9IHRoaXMub3B0aW9ucy5pY29uLm9wdGlvbnM7XHJcblx0XHR2YXIgc2l6ZSA9IGljb25PcHRzLmljb25TaXplID8gcG9pbnQoaWNvbk9wdHMuaWNvblNpemUpIDogcG9pbnQoMCwgMCk7XHJcblx0XHR2YXIgYW5jaG9yID0gaWNvbk9wdHMuaWNvbkFuY2hvciA/IHBvaW50KGljb25PcHRzLmljb25BbmNob3IpIDogcG9pbnQoMCwgMCk7XHJcblxyXG5cdFx0bWFwLnBhbkluc2lkZSh0aGlzLl9sYXRsbmcsIHtcclxuXHRcdFx0cGFkZGluZ1RvcExlZnQ6IGFuY2hvcixcclxuXHRcdFx0cGFkZGluZ0JvdHRvbVJpZ2h0OiBzaXplLnN1YnRyYWN0KGFuY2hvcilcclxuXHRcdH0pO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRQb3B1cEFuY2hvcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5pY29uLm9wdGlvbnMucG9wdXBBbmNob3I7XHJcblx0fSxcclxuXHJcblx0X2dldFRvb2x0aXBBbmNob3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuaWNvbi5vcHRpb25zLnRvb2x0aXBBbmNob3I7XHJcblx0fVxyXG59KTtcclxuXHJcblxyXG4vLyBmYWN0b3J5IEwubWFya2VyKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPyA6IE1hcmtlciBvcHRpb25zKVxyXG5cclxuLy8gQGZhY3RvcnkgTC5tYXJrZXIobGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/IDogTWFya2VyIG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhIE1hcmtlciBvYmplY3QgZ2l2ZW4gYSBnZW9ncmFwaGljYWwgcG9pbnQgYW5kIG9wdGlvbmFsbHkgYW4gb3B0aW9ucyBvYmplY3QuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYXJrZXIobGF0bG5nLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBNYXJrZXIobGF0bG5nLCBvcHRpb25zKTtcclxufVxyXG4iLCAiaW1wb3J0IHtMYXllcn0gZnJvbSAnLi4vTGF5ZXInO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuXG4vKlxuICogQGNsYXNzIFBhdGhcbiAqIEBha2EgTC5QYXRoXG4gKiBAaW5oZXJpdHMgSW50ZXJhY3RpdmUgbGF5ZXJcbiAqXG4gKiBBbiBhYnN0cmFjdCBjbGFzcyB0aGF0IGNvbnRhaW5zIG9wdGlvbnMgYW5kIGNvbnN0YW50cyBzaGFyZWQgYmV0d2VlbiB2ZWN0b3JcbiAqIG92ZXJsYXlzIChQb2x5Z29uLCBQb2x5bGluZSwgQ2lyY2xlKS4gRG8gbm90IHVzZSBpdCBkaXJlY3RseS4gRXh0ZW5kcyBgTGF5ZXJgLlxuICovXG5cbmV4cG9ydCB2YXIgUGF0aCA9IExheWVyLmV4dGVuZCh7XG5cblx0Ly8gQHNlY3Rpb25cblx0Ly8gQGFrYSBQYXRoIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gc3Ryb2tlOiBCb29sZWFuID0gdHJ1ZVxuXHRcdC8vIFdoZXRoZXIgdG8gZHJhdyBzdHJva2UgYWxvbmcgdGhlIHBhdGguIFNldCBpdCB0byBgZmFsc2VgIHRvIGRpc2FibGUgYm9yZGVycyBvbiBwb2x5Z29ucyBvciBjaXJjbGVzLlxuXHRcdHN0cm9rZTogdHJ1ZSxcblxuXHRcdC8vIEBvcHRpb24gY29sb3I6IFN0cmluZyA9ICcjMzM4OGZmJ1xuXHRcdC8vIFN0cm9rZSBjb2xvclxuXHRcdGNvbG9yOiAnIzMzODhmZicsXG5cblx0XHQvLyBAb3B0aW9uIHdlaWdodDogTnVtYmVyID0gM1xuXHRcdC8vIFN0cm9rZSB3aWR0aCBpbiBwaXhlbHNcblx0XHR3ZWlnaHQ6IDMsXG5cblx0XHQvLyBAb3B0aW9uIG9wYWNpdHk6IE51bWJlciA9IDEuMFxuXHRcdC8vIFN0cm9rZSBvcGFjaXR5XG5cdFx0b3BhY2l0eTogMSxcblxuXHRcdC8vIEBvcHRpb24gbGluZUNhcDogU3RyaW5nPSAncm91bmQnXG5cdFx0Ly8gQSBzdHJpbmcgdGhhdCBkZWZpbmVzIFtzaGFwZSB0byBiZSB1c2VkIGF0IHRoZSBlbmRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvc3Ryb2tlLWxpbmVjYXApIG9mIHRoZSBzdHJva2UuXG5cdFx0bGluZUNhcDogJ3JvdW5kJyxcblxuXHRcdC8vIEBvcHRpb24gbGluZUpvaW46IFN0cmluZyA9ICdyb3VuZCdcblx0XHQvLyBBIHN0cmluZyB0aGF0IGRlZmluZXMgW3NoYXBlIHRvIGJlIHVzZWQgYXQgdGhlIGNvcm5lcnNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvc3Ryb2tlLWxpbmVqb2luKSBvZiB0aGUgc3Ryb2tlLlxuXHRcdGxpbmVKb2luOiAncm91bmQnLFxuXG5cdFx0Ly8gQG9wdGlvbiBkYXNoQXJyYXk6IFN0cmluZyA9IG51bGxcblx0XHQvLyBBIHN0cmluZyB0aGF0IGRlZmluZXMgdGhlIHN0cm9rZSBbZGFzaCBwYXR0ZXJuXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3N0cm9rZS1kYXNoYXJyYXkpLiBEb2Vzbid0IHdvcmsgb24gYENhbnZhc2AtcG93ZXJlZCBsYXllcnMgaW4gW3NvbWUgb2xkIGJyb3dzZXJzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3NldExpbmVEYXNoI0Jyb3dzZXJfY29tcGF0aWJpbGl0eSkuXG5cdFx0ZGFzaEFycmF5OiBudWxsLFxuXG5cdFx0Ly8gQG9wdGlvbiBkYXNoT2Zmc2V0OiBTdHJpbmcgPSBudWxsXG5cdFx0Ly8gQSBzdHJpbmcgdGhhdCBkZWZpbmVzIHRoZSBbZGlzdGFuY2UgaW50byB0aGUgZGFzaCBwYXR0ZXJuIHRvIHN0YXJ0IHRoZSBkYXNoXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3N0cm9rZS1kYXNob2Zmc2V0KS4gRG9lc24ndCB3b3JrIG9uIGBDYW52YXNgLXBvd2VyZWQgbGF5ZXJzIGluIFtzb21lIG9sZCBicm93c2Vyc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zZXRMaW5lRGFzaCNCcm93c2VyX2NvbXBhdGliaWxpdHkpLlxuXHRcdGRhc2hPZmZzZXQ6IG51bGwsXG5cblx0XHQvLyBAb3B0aW9uIGZpbGw6IEJvb2xlYW4gPSBkZXBlbmRzXG5cdFx0Ly8gV2hldGhlciB0byBmaWxsIHRoZSBwYXRoIHdpdGggY29sb3IuIFNldCBpdCB0byBgZmFsc2VgIHRvIGRpc2FibGUgZmlsbGluZyBvbiBwb2x5Z29ucyBvciBjaXJjbGVzLlxuXHRcdGZpbGw6IGZhbHNlLFxuXG5cdFx0Ly8gQG9wdGlvbiBmaWxsQ29sb3I6IFN0cmluZyA9ICpcblx0XHQvLyBGaWxsIGNvbG9yLiBEZWZhdWx0cyB0byB0aGUgdmFsdWUgb2YgdGhlIFtgY29sb3JgXSgjcGF0aC1jb2xvcikgb3B0aW9uXG5cdFx0ZmlsbENvbG9yOiBudWxsLFxuXG5cdFx0Ly8gQG9wdGlvbiBmaWxsT3BhY2l0eTogTnVtYmVyID0gMC4yXG5cdFx0Ly8gRmlsbCBvcGFjaXR5LlxuXHRcdGZpbGxPcGFjaXR5OiAwLjIsXG5cblx0XHQvLyBAb3B0aW9uIGZpbGxSdWxlOiBTdHJpbmcgPSAnZXZlbm9kZCdcblx0XHQvLyBBIHN0cmluZyB0aGF0IGRlZmluZXMgW2hvdyB0aGUgaW5zaWRlIG9mIGEgc2hhcGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvZmlsbC1ydWxlKSBpcyBkZXRlcm1pbmVkLlxuXHRcdGZpbGxSdWxlOiAnZXZlbm9kZCcsXG5cblx0XHQvLyBjbGFzc05hbWU6ICcnLFxuXG5cdFx0Ly8gT3B0aW9uIGluaGVyaXRlZCBmcm9tIFwiSW50ZXJhY3RpdmUgbGF5ZXJcIiBhYnN0cmFjdCBjbGFzc1xuXHRcdGludGVyYWN0aXZlOiB0cnVlLFxuXG5cdFx0Ly8gQG9wdGlvbiBidWJibGluZ01vdXNlRXZlbnRzOiBCb29sZWFuID0gdHJ1ZVxuXHRcdC8vIFdoZW4gYHRydWVgLCBhIG1vdXNlIGV2ZW50IG9uIHRoaXMgcGF0aCB3aWxsIHRyaWdnZXIgdGhlIHNhbWUgZXZlbnQgb24gdGhlIG1hcFxuXHRcdC8vICh1bmxlc3MgW2BMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbmBdKCNkb21ldmVudC1zdG9wcHJvcGFnYXRpb24pIGlzIHVzZWQpLlxuXHRcdGJ1YmJsaW5nTW91c2VFdmVudHM6IHRydWVcblx0fSxcblxuXHRiZWZvcmVBZGQ6IGZ1bmN0aW9uIChtYXApIHtcblx0XHQvLyBSZW5kZXJlciBpcyBzZXQgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gY2FsbCByZW5kZXJlci5nZXRFdmVudHNcblx0XHQvLyBiZWZvcmUgdGhpcy5nZXRFdmVudHMuXG5cdFx0dGhpcy5fcmVuZGVyZXIgPSBtYXAuZ2V0UmVuZGVyZXIodGhpcyk7XG5cdH0sXG5cblx0b25BZGQ6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZW5kZXJlci5faW5pdFBhdGgodGhpcyk7XG5cdFx0dGhpcy5fcmVzZXQoKTtcblx0XHR0aGlzLl9yZW5kZXJlci5fYWRkUGF0aCh0aGlzKTtcblx0fSxcblxuXHRvblJlbW92ZTogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlbmRlcmVyLl9yZW1vdmVQYXRoKHRoaXMpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgcmVkcmF3KCk6IHRoaXNcblx0Ly8gUmVkcmF3cyB0aGUgbGF5ZXIuIFNvbWV0aW1lcyB1c2VmdWwgYWZ0ZXIgeW91IGNoYW5nZWQgdGhlIGNvb3JkaW5hdGVzIHRoYXQgdGhlIHBhdGggdXNlcy5cblx0cmVkcmF3OiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX21hcCkge1xuXHRcdFx0dGhpcy5fcmVuZGVyZXIuX3VwZGF0ZVBhdGgodGhpcyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0U3R5bGUoc3R5bGU6IFBhdGggb3B0aW9ucyk6IHRoaXNcblx0Ly8gQ2hhbmdlcyB0aGUgYXBwZWFyYW5jZSBvZiBhIFBhdGggYmFzZWQgb24gdGhlIG9wdGlvbnMgaW4gdGhlIGBQYXRoIG9wdGlvbnNgIG9iamVjdC5cblx0c2V0U3R5bGU6IGZ1bmN0aW9uIChzdHlsZSkge1xuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBzdHlsZSk7XG5cdFx0aWYgKHRoaXMuX3JlbmRlcmVyKSB7XG5cdFx0XHR0aGlzLl9yZW5kZXJlci5fdXBkYXRlU3R5bGUodGhpcyk7XG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLnN0cm9rZSAmJiBzdHlsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc3R5bGUsICd3ZWlnaHQnKSkge1xuXHRcdFx0XHR0aGlzLl91cGRhdGVCb3VuZHMoKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBicmluZ1RvRnJvbnQoKTogdGhpc1xuXHQvLyBCcmluZ3MgdGhlIGxheWVyIHRvIHRoZSB0b3Agb2YgYWxsIHBhdGggbGF5ZXJzLlxuXHRicmluZ1RvRnJvbnQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fcmVuZGVyZXIpIHtcblx0XHRcdHRoaXMuX3JlbmRlcmVyLl9icmluZ1RvRnJvbnQodGhpcyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgYnJpbmdUb0JhY2soKTogdGhpc1xuXHQvLyBCcmluZ3MgdGhlIGxheWVyIHRvIHRoZSBib3R0b20gb2YgYWxsIHBhdGggbGF5ZXJzLlxuXHRicmluZ1RvQmFjazogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9yZW5kZXJlcikge1xuXHRcdFx0dGhpcy5fcmVuZGVyZXIuX2JyaW5nVG9CYWNrKHRoaXMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRnZXRFbGVtZW50OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3BhdGg7XG5cdH0sXG5cblx0X3Jlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gZGVmaW5lZCBpbiBjaGlsZCBjbGFzc2VzXG5cdFx0dGhpcy5fcHJvamVjdCgpO1xuXHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHR9LFxuXG5cdF9jbGlja1RvbGVyYW5jZTogZnVuY3Rpb24gKCkge1xuXHRcdC8vIHVzZWQgd2hlbiBkb2luZyBoaXQgZGV0ZWN0aW9uIGZvciBDYW52YXMgbGF5ZXJzXG5cdFx0cmV0dXJuICh0aGlzLm9wdGlvbnMuc3Ryb2tlID8gdGhpcy5vcHRpb25zLndlaWdodCAvIDIgOiAwKSArXG5cdFx0ICAodGhpcy5fcmVuZGVyZXIub3B0aW9ucy50b2xlcmFuY2UgfHwgMCk7XG5cdH1cbn0pO1xuIiwgImltcG9ydCB7UGF0aH0gZnJvbSAnLi9QYXRoJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcbmltcG9ydCB7dG9MYXRMbmd9IGZyb20gJy4uLy4uL2dlby9MYXRMbmcnO1xuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XG5cblxuLypcbiAqIEBjbGFzcyBDaXJjbGVNYXJrZXJcbiAqIEBha2EgTC5DaXJjbGVNYXJrZXJcbiAqIEBpbmhlcml0cyBQYXRoXG4gKlxuICogQSBjaXJjbGUgb2YgYSBmaXhlZCBzaXplIHdpdGggcmFkaXVzIHNwZWNpZmllZCBpbiBwaXhlbHMuIEV4dGVuZHMgYFBhdGhgLlxuICovXG5cbmV4cG9ydCB2YXIgQ2lyY2xlTWFya2VyID0gUGF0aC5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgQ2lyY2xlTWFya2VyIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdGZpbGw6IHRydWUsXG5cblx0XHQvLyBAb3B0aW9uIHJhZGl1czogTnVtYmVyID0gMTBcblx0XHQvLyBSYWRpdXMgb2YgdGhlIGNpcmNsZSBtYXJrZXIsIGluIHBpeGVsc1xuXHRcdHJhZGl1czogMTBcblx0fSxcblxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAobGF0bG5nLCBvcHRpb25zKSB7XG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXHRcdHRoaXMuX2xhdGxuZyA9IHRvTGF0TG5nKGxhdGxuZyk7XG5cdFx0dGhpcy5fcmFkaXVzID0gdGhpcy5vcHRpb25zLnJhZGl1cztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldExhdExuZyhsYXRMbmc6IExhdExuZyk6IHRoaXNcblx0Ly8gU2V0cyB0aGUgcG9zaXRpb24gb2YgYSBjaXJjbGUgbWFya2VyIHRvIGEgbmV3IGxvY2F0aW9uLlxuXHRzZXRMYXRMbmc6IGZ1bmN0aW9uIChsYXRsbmcpIHtcblx0XHR2YXIgb2xkTGF0TG5nID0gdGhpcy5fbGF0bG5nO1xuXHRcdHRoaXMuX2xhdGxuZyA9IHRvTGF0TG5nKGxhdGxuZyk7XG5cdFx0dGhpcy5yZWRyYXcoKTtcblxuXHRcdC8vIEBldmVudCBtb3ZlOiBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcmtlciBpcyBtb3ZlZCB2aWEgW2BzZXRMYXRMbmdgXSgjY2lyY2xlbWFya2VyLXNldGxhdGxuZykuIE9sZCBhbmQgbmV3IGNvb3JkaW5hdGVzIGFyZSBpbmNsdWRlZCBpbiBldmVudCBhcmd1bWVudHMgYXMgYG9sZExhdExuZ2AsIGBsYXRsbmdgLlxuXHRcdHJldHVybiB0aGlzLmZpcmUoJ21vdmUnLCB7b2xkTGF0TG5nOiBvbGRMYXRMbmcsIGxhdGxuZzogdGhpcy5fbGF0bG5nfSk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRMYXRMbmcoKTogTGF0TG5nXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgZ2VvZ3JhcGhpY2FsIHBvc2l0aW9uIG9mIHRoZSBjaXJjbGUgbWFya2VyXG5cdGdldExhdExuZzogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9sYXRsbmc7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBzZXRSYWRpdXMocmFkaXVzOiBOdW1iZXIpOiB0aGlzXG5cdC8vIFNldHMgdGhlIHJhZGl1cyBvZiBhIGNpcmNsZSBtYXJrZXIuIFVuaXRzIGFyZSBpbiBwaXhlbHMuXG5cdHNldFJhZGl1czogZnVuY3Rpb24gKHJhZGl1cykge1xuXHRcdHRoaXMub3B0aW9ucy5yYWRpdXMgPSB0aGlzLl9yYWRpdXMgPSByYWRpdXM7XG5cdFx0cmV0dXJuIHRoaXMucmVkcmF3KCk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRSYWRpdXMoKTogTnVtYmVyXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgcmFkaXVzIG9mIHRoZSBjaXJjbGVcblx0Z2V0UmFkaXVzOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JhZGl1cztcblx0fSxcblxuXHRzZXRTdHlsZSA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0dmFyIHJhZGl1cyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5yYWRpdXMgfHwgdGhpcy5fcmFkaXVzO1xuXHRcdFBhdGgucHJvdG90eXBlLnNldFN0eWxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cdFx0dGhpcy5zZXRSYWRpdXMocmFkaXVzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfcHJvamVjdDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3BvaW50ID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpO1xuXHRcdHRoaXMuX3VwZGF0ZUJvdW5kcygpO1xuXHR9LFxuXG5cdF91cGRhdGVCb3VuZHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgciA9IHRoaXMuX3JhZGl1cyxcblx0XHQgICAgcjIgPSB0aGlzLl9yYWRpdXNZIHx8IHIsXG5cdFx0ICAgIHcgPSB0aGlzLl9jbGlja1RvbGVyYW5jZSgpLFxuXHRcdCAgICBwID0gW3IgKyB3LCByMiArIHddO1xuXHRcdHRoaXMuX3B4Qm91bmRzID0gbmV3IEJvdW5kcyh0aGlzLl9wb2ludC5zdWJ0cmFjdChwKSwgdGhpcy5fcG9pbnQuYWRkKHApKTtcblx0fSxcblxuXHRfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX21hcCkge1xuXHRcdFx0dGhpcy5fdXBkYXRlUGF0aCgpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlUGF0aDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlbmRlcmVyLl91cGRhdGVDaXJjbGUodGhpcyk7XG5cdH0sXG5cblx0X2VtcHR5OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JhZGl1cyAmJiAhdGhpcy5fcmVuZGVyZXIuX2JvdW5kcy5pbnRlcnNlY3RzKHRoaXMuX3B4Qm91bmRzKTtcblx0fSxcblxuXHQvLyBOZWVkZWQgYnkgdGhlIGBDYW52YXNgIHJlbmRlcmVyIGZvciBpbnRlcmFjdGl2aXR5XG5cdF9jb250YWluc1BvaW50OiBmdW5jdGlvbiAocCkge1xuXHRcdHJldHVybiBwLmRpc3RhbmNlVG8odGhpcy5fcG9pbnQpIDw9IHRoaXMuX3JhZGl1cyArIHRoaXMuX2NsaWNrVG9sZXJhbmNlKCk7XG5cdH1cbn0pO1xuXG5cbi8vIEBmYWN0b3J5IEwuY2lyY2xlTWFya2VyKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogQ2lyY2xlTWFya2VyIG9wdGlvbnMpXG4vLyBJbnN0YW50aWF0ZXMgYSBjaXJjbGUgbWFya2VyIG9iamVjdCBnaXZlbiBhIGdlb2dyYXBoaWNhbCBwb2ludCwgYW5kIGFuIG9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIGNpcmNsZU1hcmtlcihsYXRsbmcsIG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBDaXJjbGVNYXJrZXIobGF0bG5nLCBvcHRpb25zKTtcbn1cbiIsICJpbXBvcnQge0NpcmNsZU1hcmtlcn0gZnJvbSAnLi9DaXJjbGVNYXJrZXInO1xuaW1wb3J0IHtQYXRofSBmcm9tICcuL1BhdGgnO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuaW1wb3J0IHt0b0xhdExuZ30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZyc7XG5pbXBvcnQge0xhdExuZ0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZ0JvdW5kcyc7XG5pbXBvcnQge0VhcnRofSBmcm9tICcuLi8uLi9nZW8vY3JzL0NSUy5FYXJ0aCc7XG5cblxuLypcbiAqIEBjbGFzcyBDaXJjbGVcbiAqIEBha2EgTC5DaXJjbGVcbiAqIEBpbmhlcml0cyBDaXJjbGVNYXJrZXJcbiAqXG4gKiBBIGNsYXNzIGZvciBkcmF3aW5nIGNpcmNsZSBvdmVybGF5cyBvbiBhIG1hcC4gRXh0ZW5kcyBgQ2lyY2xlTWFya2VyYC5cbiAqXG4gKiBJdCdzIGFuIGFwcHJveGltYXRpb24gYW5kIHN0YXJ0cyB0byBkaXZlcmdlIGZyb20gYSByZWFsIGNpcmNsZSBjbG9zZXIgdG8gcG9sZXMgKGR1ZSB0byBwcm9qZWN0aW9uIGRpc3RvcnRpb24pLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIEwuY2lyY2xlKFs1MC41LCAzMC41XSwge3JhZGl1czogMjAwfSkuYWRkVG8obWFwKTtcbiAqIGBgYFxuICovXG5cbmV4cG9ydCB2YXIgQ2lyY2xlID0gQ2lyY2xlTWFya2VyLmV4dGVuZCh7XG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGxhdGxuZywgb3B0aW9ucywgbGVnYWN5T3B0aW9ucykge1xuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcblx0XHRcdC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggMC43LnggZmFjdG9yeSAobGF0bG5nLCByYWRpdXMsIG9wdGlvbnM/KVxuXHRcdFx0b3B0aW9ucyA9IFV0aWwuZXh0ZW5kKHt9LCBsZWdhY3lPcHRpb25zLCB7cmFkaXVzOiBvcHRpb25zfSk7XG5cdFx0fVxuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblx0XHR0aGlzLl9sYXRsbmcgPSB0b0xhdExuZyhsYXRsbmcpO1xuXG5cdFx0aWYgKGlzTmFOKHRoaXMub3B0aW9ucy5yYWRpdXMpKSB7IHRocm93IG5ldyBFcnJvcignQ2lyY2xlIHJhZGl1cyBjYW5ub3QgYmUgTmFOJyk7IH1cblxuXHRcdC8vIEBzZWN0aW9uXG5cdFx0Ly8gQGFrYSBDaXJjbGUgb3B0aW9uc1xuXHRcdC8vIEBvcHRpb24gcmFkaXVzOiBOdW1iZXI7IFJhZGl1cyBvZiB0aGUgY2lyY2xlLCBpbiBtZXRlcnMuXG5cdFx0dGhpcy5fbVJhZGl1cyA9IHRoaXMub3B0aW9ucy5yYWRpdXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBzZXRSYWRpdXMocmFkaXVzOiBOdW1iZXIpOiB0aGlzXG5cdC8vIFNldHMgdGhlIHJhZGl1cyBvZiBhIGNpcmNsZS4gVW5pdHMgYXJlIGluIG1ldGVycy5cblx0c2V0UmFkaXVzOiBmdW5jdGlvbiAocmFkaXVzKSB7XG5cdFx0dGhpcy5fbVJhZGl1cyA9IHJhZGl1cztcblx0XHRyZXR1cm4gdGhpcy5yZWRyYXcoKTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIGdldFJhZGl1cygpOiBOdW1iZXJcblx0Ly8gUmV0dXJucyB0aGUgY3VycmVudCByYWRpdXMgb2YgYSBjaXJjbGUuIFVuaXRzIGFyZSBpbiBtZXRlcnMuXG5cdGdldFJhZGl1czogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9tUmFkaXVzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0Qm91bmRzKCk6IExhdExuZ0JvdW5kc1xuXHQvLyBSZXR1cm5zIHRoZSBgTGF0TG5nQm91bmRzYCBvZiB0aGUgcGF0aC5cblx0Z2V0Qm91bmRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGhhbGYgPSBbdGhpcy5fcmFkaXVzLCB0aGlzLl9yYWRpdXNZIHx8IHRoaXMuX3JhZGl1c107XG5cblx0XHRyZXR1cm4gbmV3IExhdExuZ0JvdW5kcyhcblx0XHRcdHRoaXMuX21hcC5sYXllclBvaW50VG9MYXRMbmcodGhpcy5fcG9pbnQuc3VidHJhY3QoaGFsZikpLFxuXHRcdFx0dGhpcy5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyh0aGlzLl9wb2ludC5hZGQoaGFsZikpKTtcblx0fSxcblxuXHRzZXRTdHlsZTogUGF0aC5wcm90b3R5cGUuc2V0U3R5bGUsXG5cblx0X3Byb2plY3Q6IGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciBsbmcgPSB0aGlzLl9sYXRsbmcubG5nLFxuXHRcdCAgICBsYXQgPSB0aGlzLl9sYXRsbmcubGF0LFxuXHRcdCAgICBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIGNycyA9IG1hcC5vcHRpb25zLmNycztcblxuXHRcdGlmIChjcnMuZGlzdGFuY2UgPT09IEVhcnRoLmRpc3RhbmNlKSB7XG5cdFx0XHR2YXIgZCA9IE1hdGguUEkgLyAxODAsXG5cdFx0XHQgICAgbGF0UiA9ICh0aGlzLl9tUmFkaXVzIC8gRWFydGguUikgLyBkLFxuXHRcdFx0ICAgIHRvcCA9IG1hcC5wcm9qZWN0KFtsYXQgKyBsYXRSLCBsbmddKSxcblx0XHRcdCAgICBib3R0b20gPSBtYXAucHJvamVjdChbbGF0IC0gbGF0UiwgbG5nXSksXG5cdFx0XHQgICAgcCA9IHRvcC5hZGQoYm90dG9tKS5kaXZpZGVCeSgyKSxcblx0XHRcdCAgICBsYXQyID0gbWFwLnVucHJvamVjdChwKS5sYXQsXG5cdFx0XHQgICAgbG5nUiA9IE1hdGguYWNvcygoTWF0aC5jb3MobGF0UiAqIGQpIC0gTWF0aC5zaW4obGF0ICogZCkgKiBNYXRoLnNpbihsYXQyICogZCkpIC9cblx0XHRcdCAgICAgICAgICAgIChNYXRoLmNvcyhsYXQgKiBkKSAqIE1hdGguY29zKGxhdDIgKiBkKSkpIC8gZDtcblxuXHRcdFx0aWYgKGlzTmFOKGxuZ1IpIHx8IGxuZ1IgPT09IDApIHtcblx0XHRcdFx0bG5nUiA9IGxhdFIgLyBNYXRoLmNvcyhNYXRoLlBJIC8gMTgwICogbGF0KTsgLy8gRmFsbGJhY2sgZm9yIGVkZ2UgY2FzZSwgIzI0MjVcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fcG9pbnQgPSBwLnN1YnRyYWN0KG1hcC5nZXRQaXhlbE9yaWdpbigpKTtcblx0XHRcdHRoaXMuX3JhZGl1cyA9IGlzTmFOKGxuZ1IpID8gMCA6IHAueCAtIG1hcC5wcm9qZWN0KFtsYXQyLCBsbmcgLSBsbmdSXSkueDtcblx0XHRcdHRoaXMuX3JhZGl1c1kgPSBwLnkgLSB0b3AueTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgbGF0bG5nMiA9IGNycy51bnByb2plY3QoY3JzLnByb2plY3QodGhpcy5fbGF0bG5nKS5zdWJ0cmFjdChbdGhpcy5fbVJhZGl1cywgMF0pKTtcblxuXHRcdFx0dGhpcy5fcG9pbnQgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZyk7XG5cdFx0XHR0aGlzLl9yYWRpdXMgPSB0aGlzLl9wb2ludC54IC0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmcyKS54O1xuXHRcdH1cblxuXHRcdHRoaXMuX3VwZGF0ZUJvdW5kcygpO1xuXHR9XG59KTtcblxuLy8gQGZhY3RvcnkgTC5jaXJjbGUobGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/OiBDaXJjbGUgb3B0aW9ucylcbi8vIEluc3RhbnRpYXRlcyBhIGNpcmNsZSBvYmplY3QgZ2l2ZW4gYSBnZW9ncmFwaGljYWwgcG9pbnQsIGFuZCBhbiBvcHRpb25zIG9iamVjdFxuLy8gd2hpY2ggY29udGFpbnMgdGhlIGNpcmNsZSByYWRpdXMuXG4vLyBAYWx0ZXJuYXRpdmVcbi8vIEBmYWN0b3J5IEwuY2lyY2xlKGxhdGxuZzogTGF0TG5nLCByYWRpdXM6IE51bWJlciwgb3B0aW9ucz86IENpcmNsZSBvcHRpb25zKVxuLy8gT2Jzb2xldGUgd2F5IG9mIGluc3RhbnRpYXRpbmcgYSBjaXJjbGUsIGZvciBjb21wYXRpYmlsaXR5IHdpdGggMC43LnggY29kZS5cbi8vIERvIG5vdCB1c2UgaW4gbmV3IGFwcGxpY2F0aW9ucyBvciBwbHVnaW5zLlxuZXhwb3J0IGZ1bmN0aW9uIGNpcmNsZShsYXRsbmcsIG9wdGlvbnMsIGxlZ2FjeU9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBDaXJjbGUobGF0bG5nLCBvcHRpb25zLCBsZWdhY3lPcHRpb25zKTtcbn1cbiIsICJpbXBvcnQge1BhdGh9IGZyb20gJy4vUGF0aCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQgKiBhcyBMaW5lVXRpbCBmcm9tICcuLi8uLi9nZW9tZXRyeS9MaW5lVXRpbCc7XG5pbXBvcnQge0xhdExuZywgdG9MYXRMbmd9IGZyb20gJy4uLy4uL2dlby9MYXRMbmcnO1xuaW1wb3J0IHtMYXRMbmdCb3VuZHN9IGZyb20gJy4uLy4uL2dlby9MYXRMbmdCb3VuZHMnO1xuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XG5cbi8qXG4gKiBAY2xhc3MgUG9seWxpbmVcbiAqIEBha2EgTC5Qb2x5bGluZVxuICogQGluaGVyaXRzIFBhdGhcbiAqXG4gKiBBIGNsYXNzIGZvciBkcmF3aW5nIHBvbHlsaW5lIG92ZXJsYXlzIG9uIGEgbWFwLiBFeHRlbmRzIGBQYXRoYC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGpzXG4gKiAvLyBjcmVhdGUgYSByZWQgcG9seWxpbmUgZnJvbSBhbiBhcnJheSBvZiBMYXRMbmcgcG9pbnRzXG4gKiB2YXIgbGF0bG5ncyA9IFtcbiAqIFx0WzQ1LjUxLCAtMTIyLjY4XSxcbiAqIFx0WzM3Ljc3LCAtMTIyLjQzXSxcbiAqIFx0WzM0LjA0LCAtMTE4LjJdXG4gKiBdO1xuICpcbiAqIHZhciBwb2x5bGluZSA9IEwucG9seWxpbmUobGF0bG5ncywge2NvbG9yOiAncmVkJ30pLmFkZFRvKG1hcCk7XG4gKlxuICogLy8gem9vbSB0aGUgbWFwIHRvIHRoZSBwb2x5bGluZVxuICogbWFwLmZpdEJvdW5kcyhwb2x5bGluZS5nZXRCb3VuZHMoKSk7XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGFsc28gcGFzcyBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IHRvIHJlcHJlc2VudCBhIGBNdWx0aVBvbHlsaW5lYCBzaGFwZTpcbiAqXG4gKiBgYGBqc1xuICogLy8gY3JlYXRlIGEgcmVkIHBvbHlsaW5lIGZyb20gYW4gYXJyYXkgb2YgYXJyYXlzIG9mIExhdExuZyBwb2ludHNcbiAqIHZhciBsYXRsbmdzID0gW1xuICogXHRbWzQ1LjUxLCAtMTIyLjY4XSxcbiAqIFx0IFszNy43NywgLTEyMi40M10sXG4gKiBcdCBbMzQuMDQsIC0xMTguMl1dLFxuICogXHRbWzQwLjc4LCAtNzMuOTFdLFxuICogXHQgWzQxLjgzLCAtODcuNjJdLFxuICogXHQgWzMyLjc2LCAtOTYuNzJdXVxuICogXTtcbiAqIGBgYFxuICovXG5cblxuZXhwb3J0IHZhciBQb2x5bGluZSA9IFBhdGguZXh0ZW5kKHtcblxuXHQvLyBAc2VjdGlvblxuXHQvLyBAYWthIFBvbHlsaW5lIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gc21vb3RoRmFjdG9yOiBOdW1iZXIgPSAxLjBcblx0XHQvLyBIb3cgbXVjaCB0byBzaW1wbGlmeSB0aGUgcG9seWxpbmUgb24gZWFjaCB6b29tIGxldmVsLiBNb3JlIG1lYW5zXG5cdFx0Ly8gYmV0dGVyIHBlcmZvcm1hbmNlIGFuZCBzbW9vdGhlciBsb29rLCBhbmQgbGVzcyBtZWFucyBtb3JlIGFjY3VyYXRlIHJlcHJlc2VudGF0aW9uLlxuXHRcdHNtb290aEZhY3RvcjogMS4wLFxuXG5cdFx0Ly8gQG9wdGlvbiBub0NsaXA6IEJvb2xlYW4gPSBmYWxzZVxuXHRcdC8vIERpc2FibGUgcG9seWxpbmUgY2xpcHBpbmcuXG5cdFx0bm9DbGlwOiBmYWxzZVxuXHR9LFxuXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRsbmdzLCBvcHRpb25zKSB7XG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXHRcdHRoaXMuX3NldExhdExuZ3MobGF0bG5ncyk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRMYXRMbmdzKCk6IExhdExuZ1tdXG5cdC8vIFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHBvaW50cyBpbiB0aGUgcGF0aCwgb3IgbmVzdGVkIGFycmF5cyBvZiBwb2ludHMgaW4gY2FzZSBvZiBtdWx0aS1wb2x5bGluZS5cblx0Z2V0TGF0TG5nczogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9sYXRsbmdzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0TGF0TG5ncyhsYXRsbmdzOiBMYXRMbmdbXSk6IHRoaXNcblx0Ly8gUmVwbGFjZXMgYWxsIHRoZSBwb2ludHMgaW4gdGhlIHBvbHlsaW5lIHdpdGggdGhlIGdpdmVuIGFycmF5IG9mIGdlb2dyYXBoaWNhbCBwb2ludHMuXG5cdHNldExhdExuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzKSB7XG5cdFx0dGhpcy5fc2V0TGF0TG5ncyhsYXRsbmdzKTtcblx0XHRyZXR1cm4gdGhpcy5yZWRyYXcoKTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIGlzRW1wdHkoKTogQm9vbGVhblxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgUG9seWxpbmUgaGFzIG5vIExhdExuZ3MuXG5cdGlzRW1wdHk6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gIXRoaXMuX2xhdGxuZ3MubGVuZ3RoO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgY2xvc2VzdExheWVyUG9pbnQocDogUG9pbnQpOiBQb2ludFxuXHQvLyBSZXR1cm5zIHRoZSBwb2ludCBjbG9zZXN0IHRvIGBwYCBvbiB0aGUgUG9seWxpbmUuXG5cdGNsb3Nlc3RMYXllclBvaW50OiBmdW5jdGlvbiAocCkge1xuXHRcdHZhciBtaW5EaXN0YW5jZSA9IEluZmluaXR5LFxuXHRcdCAgICBtaW5Qb2ludCA9IG51bGwsXG5cdFx0ICAgIGNsb3Nlc3QgPSBMaW5lVXRpbC5fc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQsXG5cdFx0ICAgIHAxLCBwMjtcblxuXHRcdGZvciAodmFyIGogPSAwLCBqTGVuID0gdGhpcy5fcGFydHMubGVuZ3RoOyBqIDwgakxlbjsgaisrKSB7XG5cdFx0XHR2YXIgcG9pbnRzID0gdGhpcy5fcGFydHNbal07XG5cblx0XHRcdGZvciAodmFyIGkgPSAxLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0cDEgPSBwb2ludHNbaSAtIDFdO1xuXHRcdFx0XHRwMiA9IHBvaW50c1tpXTtcblxuXHRcdFx0XHR2YXIgc3FEaXN0ID0gY2xvc2VzdChwLCBwMSwgcDIsIHRydWUpO1xuXG5cdFx0XHRcdGlmIChzcURpc3QgPCBtaW5EaXN0YW5jZSkge1xuXHRcdFx0XHRcdG1pbkRpc3RhbmNlID0gc3FEaXN0O1xuXHRcdFx0XHRcdG1pblBvaW50ID0gY2xvc2VzdChwLCBwMSwgcDIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChtaW5Qb2ludCkge1xuXHRcdFx0bWluUG9pbnQuZGlzdGFuY2UgPSBNYXRoLnNxcnQobWluRGlzdGFuY2UpO1xuXHRcdH1cblx0XHRyZXR1cm4gbWluUG9pbnQ7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRDZW50ZXIoKTogTGF0TG5nXG5cdC8vIFJldHVybnMgdGhlIGNlbnRlciAoW2NlbnRyb2lkXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cm9pZCkpIG9mIHRoZSBwb2x5bGluZS5cblx0Z2V0Q2VudGVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gdGhyb3dzIGVycm9yIHdoZW4gbm90IHlldCBhZGRlZCB0byBtYXAgYXMgdGhpcyBjZW50ZXIgY2FsY3VsYXRpb24gcmVxdWlyZXMgcHJvamVjdGVkIGNvb3JkaW5hdGVzXG5cdFx0aWYgKCF0aGlzLl9tYXApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignTXVzdCBhZGQgbGF5ZXIgdG8gbWFwIGJlZm9yZSB1c2luZyBnZXRDZW50ZXIoKScpO1xuXHRcdH1cblx0XHRyZXR1cm4gTGluZVV0aWwucG9seWxpbmVDZW50ZXIodGhpcy5fZGVmYXVsdFNoYXBlKCksIHRoaXMuX21hcC5vcHRpb25zLmNycyk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRCb3VuZHMoKTogTGF0TG5nQm91bmRzXG5cdC8vIFJldHVybnMgdGhlIGBMYXRMbmdCb3VuZHNgIG9mIHRoZSBwYXRoLlxuXHRnZXRCb3VuZHM6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fYm91bmRzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgYWRkTGF0TG5nKGxhdGxuZzogTGF0TG5nLCBsYXRsbmdzPzogTGF0TG5nW10pOiB0aGlzXG5cdC8vIEFkZHMgYSBnaXZlbiBwb2ludCB0byB0aGUgcG9seWxpbmUuIEJ5IGRlZmF1bHQsIGFkZHMgdG8gdGhlIGZpcnN0IHJpbmcgb2Zcblx0Ly8gdGhlIHBvbHlsaW5lIGluIGNhc2Ugb2YgYSBtdWx0aS1wb2x5bGluZSwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHBhc3Npbmdcblx0Ly8gYSBzcGVjaWZpYyByaW5nIGFzIGEgTGF0TG5nIGFycmF5ICh0aGF0IHlvdSBjYW4gZWFybGllciBhY2Nlc3Mgd2l0aCBbYGdldExhdExuZ3NgXSgjcG9seWxpbmUtZ2V0bGF0bG5ncykpLlxuXHRhZGRMYXRMbmc6IGZ1bmN0aW9uIChsYXRsbmcsIGxhdGxuZ3MpIHtcblx0XHRsYXRsbmdzID0gbGF0bG5ncyB8fCB0aGlzLl9kZWZhdWx0U2hhcGUoKTtcblx0XHRsYXRsbmcgPSB0b0xhdExuZyhsYXRsbmcpO1xuXHRcdGxhdGxuZ3MucHVzaChsYXRsbmcpO1xuXHRcdHRoaXMuX2JvdW5kcy5leHRlbmQobGF0bG5nKTtcblx0XHRyZXR1cm4gdGhpcy5yZWRyYXcoKTtcblx0fSxcblxuXHRfc2V0TGF0TG5nczogZnVuY3Rpb24gKGxhdGxuZ3MpIHtcblx0XHR0aGlzLl9ib3VuZHMgPSBuZXcgTGF0TG5nQm91bmRzKCk7XG5cdFx0dGhpcy5fbGF0bG5ncyA9IHRoaXMuX2NvbnZlcnRMYXRMbmdzKGxhdGxuZ3MpO1xuXHR9LFxuXG5cdF9kZWZhdWx0U2hhcGU6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gTGluZVV0aWwuaXNGbGF0KHRoaXMuX2xhdGxuZ3MpID8gdGhpcy5fbGF0bG5ncyA6IHRoaXMuX2xhdGxuZ3NbMF07XG5cdH0sXG5cblx0Ly8gcmVjdXJzaXZlbHkgY29udmVydCBsYXRsbmdzIGlucHV0IGludG8gYWN0dWFsIExhdExuZyBpbnN0YW5jZXM7IGNhbGN1bGF0ZSBib3VuZHMgYWxvbmcgdGhlIHdheVxuXHRfY29udmVydExhdExuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzKSB7XG5cdFx0dmFyIHJlc3VsdCA9IFtdLFxuXHRcdCAgICBmbGF0ID0gTGluZVV0aWwuaXNGbGF0KGxhdGxuZ3MpO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxhdGxuZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChmbGF0KSB7XG5cdFx0XHRcdHJlc3VsdFtpXSA9IHRvTGF0TG5nKGxhdGxuZ3NbaV0pO1xuXHRcdFx0XHR0aGlzLl9ib3VuZHMuZXh0ZW5kKHJlc3VsdFtpXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHRbaV0gPSB0aGlzLl9jb252ZXJ0TGF0TG5ncyhsYXRsbmdzW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdF9wcm9qZWN0OiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHB4Qm91bmRzID0gbmV3IEJvdW5kcygpO1xuXHRcdHRoaXMuX3JpbmdzID0gW107XG5cdFx0dGhpcy5fcHJvamVjdExhdGxuZ3ModGhpcy5fbGF0bG5ncywgdGhpcy5fcmluZ3MsIHB4Qm91bmRzKTtcblxuXHRcdGlmICh0aGlzLl9ib3VuZHMuaXNWYWxpZCgpICYmIHB4Qm91bmRzLmlzVmFsaWQoKSkge1xuXHRcdFx0dGhpcy5fcmF3UHhCb3VuZHMgPSBweEJvdW5kcztcblx0XHRcdHRoaXMuX3VwZGF0ZUJvdW5kcygpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlQm91bmRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHcgPSB0aGlzLl9jbGlja1RvbGVyYW5jZSgpLFxuXHRcdCAgICBwID0gbmV3IFBvaW50KHcsIHcpO1xuXG5cdFx0aWYgKCF0aGlzLl9yYXdQeEJvdW5kcykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3B4Qm91bmRzID0gbmV3IEJvdW5kcyhbXG5cdFx0XHR0aGlzLl9yYXdQeEJvdW5kcy5taW4uc3VidHJhY3QocCksXG5cdFx0XHR0aGlzLl9yYXdQeEJvdW5kcy5tYXguYWRkKHApXG5cdFx0XSk7XG5cdH0sXG5cblx0Ly8gcmVjdXJzaXZlbHkgdHVybnMgbGF0bG5ncyBpbnRvIGEgc2V0IG9mIHJpbmdzIHdpdGggcHJvamVjdGVkIGNvb3JkaW5hdGVzXG5cdF9wcm9qZWN0TGF0bG5nczogZnVuY3Rpb24gKGxhdGxuZ3MsIHJlc3VsdCwgcHJvamVjdGVkQm91bmRzKSB7XG5cdFx0dmFyIGZsYXQgPSBsYXRsbmdzWzBdIGluc3RhbmNlb2YgTGF0TG5nLFxuXHRcdCAgICBsZW4gPSBsYXRsbmdzLmxlbmd0aCxcblx0XHQgICAgaSwgcmluZztcblxuXHRcdGlmIChmbGF0KSB7XG5cdFx0XHRyaW5nID0gW107XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0cmluZ1tpXSA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nc1tpXSk7XG5cdFx0XHRcdHByb2plY3RlZEJvdW5kcy5leHRlbmQocmluZ1tpXSk7XG5cdFx0XHR9XG5cdFx0XHRyZXN1bHQucHVzaChyaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdHRoaXMuX3Byb2plY3RMYXRsbmdzKGxhdGxuZ3NbaV0sIHJlc3VsdCwgcHJvamVjdGVkQm91bmRzKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gY2xpcCBwb2x5bGluZSBieSByZW5kZXJlciBib3VuZHMgc28gdGhhdCB3ZSBoYXZlIGxlc3MgdG8gcmVuZGVyIGZvciBwZXJmb3JtYW5jZVxuXHRfY2xpcFBvaW50czogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBib3VuZHMgPSB0aGlzLl9yZW5kZXJlci5fYm91bmRzO1xuXG5cdFx0dGhpcy5fcGFydHMgPSBbXTtcblx0XHRpZiAoIXRoaXMuX3B4Qm91bmRzIHx8ICF0aGlzLl9weEJvdW5kcy5pbnRlcnNlY3RzKGJvdW5kcykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5vcHRpb25zLm5vQ2xpcCkge1xuXHRcdFx0dGhpcy5fcGFydHMgPSB0aGlzLl9yaW5ncztcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgcGFydHMgPSB0aGlzLl9wYXJ0cyxcblx0XHQgICAgaSwgaiwgaywgbGVuLCBsZW4yLCBzZWdtZW50LCBwb2ludHM7XG5cblx0XHRmb3IgKGkgPSAwLCBrID0gMCwgbGVuID0gdGhpcy5fcmluZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHBvaW50cyA9IHRoaXMuX3JpbmdzW2ldO1xuXG5cdFx0XHRmb3IgKGogPSAwLCBsZW4yID0gcG9pbnRzLmxlbmd0aDsgaiA8IGxlbjIgLSAxOyBqKyspIHtcblx0XHRcdFx0c2VnbWVudCA9IExpbmVVdGlsLmNsaXBTZWdtZW50KHBvaW50c1tqXSwgcG9pbnRzW2ogKyAxXSwgYm91bmRzLCBqLCB0cnVlKTtcblxuXHRcdFx0XHRpZiAoIXNlZ21lbnQpIHsgY29udGludWU7IH1cblxuXHRcdFx0XHRwYXJ0c1trXSA9IHBhcnRzW2tdIHx8IFtdO1xuXHRcdFx0XHRwYXJ0c1trXS5wdXNoKHNlZ21lbnRbMF0pO1xuXG5cdFx0XHRcdC8vIGlmIHNlZ21lbnQgZ29lcyBvdXQgb2Ygc2NyZWVuLCBvciBpdCdzIHRoZSBsYXN0IG9uZSwgaXQncyB0aGUgZW5kIG9mIHRoZSBsaW5lIHBhcnRcblx0XHRcdFx0aWYgKChzZWdtZW50WzFdICE9PSBwb2ludHNbaiArIDFdKSB8fCAoaiA9PT0gbGVuMiAtIDIpKSB7XG5cdFx0XHRcdFx0cGFydHNba10ucHVzaChzZWdtZW50WzFdKTtcblx0XHRcdFx0XHRrKys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gc2ltcGxpZnkgZWFjaCBjbGlwcGVkIHBhcnQgb2YgdGhlIHBvbHlsaW5lIGZvciBwZXJmb3JtYW5jZVxuXHRfc2ltcGxpZnlQb2ludHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcGFydHMgPSB0aGlzLl9wYXJ0cyxcblx0XHQgICAgdG9sZXJhbmNlID0gdGhpcy5vcHRpb25zLnNtb290aEZhY3RvcjtcblxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0cGFydHNbaV0gPSBMaW5lVXRpbC5zaW1wbGlmeShwYXJ0c1tpXSwgdG9sZXJhbmNlKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fbWFwKSB7IHJldHVybjsgfVxuXG5cdFx0dGhpcy5fY2xpcFBvaW50cygpO1xuXHRcdHRoaXMuX3NpbXBsaWZ5UG9pbnRzKCk7XG5cdFx0dGhpcy5fdXBkYXRlUGF0aCgpO1xuXHR9LFxuXG5cdF91cGRhdGVQYXRoOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVuZGVyZXIuX3VwZGF0ZVBvbHkodGhpcyk7XG5cdH0sXG5cblx0Ly8gTmVlZGVkIGJ5IHRoZSBgQ2FudmFzYCByZW5kZXJlciBmb3IgaW50ZXJhY3Rpdml0eVxuXHRfY29udGFpbnNQb2ludDogZnVuY3Rpb24gKHAsIGNsb3NlZCkge1xuXHRcdHZhciBpLCBqLCBrLCBsZW4sIGxlbjIsIHBhcnQsXG5cdFx0ICAgIHcgPSB0aGlzLl9jbGlja1RvbGVyYW5jZSgpO1xuXG5cdFx0aWYgKCF0aGlzLl9weEJvdW5kcyB8fCAhdGhpcy5fcHhCb3VuZHMuY29udGFpbnMocCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0XHQvLyBoaXQgZGV0ZWN0aW9uIGZvciBwb2x5bGluZXNcblx0XHRmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLl9wYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0cGFydCA9IHRoaXMuX3BhcnRzW2ldO1xuXG5cdFx0XHRmb3IgKGogPSAwLCBsZW4yID0gcGFydC5sZW5ndGgsIGsgPSBsZW4yIC0gMTsgaiA8IGxlbjI7IGsgPSBqKyspIHtcblx0XHRcdFx0aWYgKCFjbG9zZWQgJiYgKGogPT09IDApKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdFx0aWYgKExpbmVVdGlsLnBvaW50VG9TZWdtZW50RGlzdGFuY2UocCwgcGFydFtrXSwgcGFydFtqXSkgPD0gdykge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSk7XG5cbi8vIEBmYWN0b3J5IEwucG9seWxpbmUobGF0bG5nczogTGF0TG5nW10sIG9wdGlvbnM/OiBQb2x5bGluZSBvcHRpb25zKVxuLy8gSW5zdGFudGlhdGVzIGEgcG9seWxpbmUgb2JqZWN0IGdpdmVuIGFuIGFycmF5IG9mIGdlb2dyYXBoaWNhbCBwb2ludHMgYW5kXG4vLyBvcHRpb25hbGx5IGFuIG9wdGlvbnMgb2JqZWN0LiBZb3UgY2FuIGNyZWF0ZSBhIGBQb2x5bGluZWAgb2JqZWN0IHdpdGhcbi8vIG11bHRpcGxlIHNlcGFyYXRlIGxpbmVzIChgTXVsdGlQb2x5bGluZWApIGJ5IHBhc3NpbmcgYW4gYXJyYXkgb2YgYXJyYXlzXG4vLyBvZiBnZW9ncmFwaGljIHBvaW50cy5cbmV4cG9ydCBmdW5jdGlvbiBwb2x5bGluZShsYXRsbmdzLCBvcHRpb25zKSB7XG5cdHJldHVybiBuZXcgUG9seWxpbmUobGF0bG5ncywgb3B0aW9ucyk7XG59XG5cbi8vIFJldHJvY29tcGF0LiBBbGxvdyBwbHVnaW5zIHRvIHN1cHBvcnQgTGVhZmxldCB2ZXJzaW9ucyBiZWZvcmUgYW5kIGFmdGVyIDEuMS5cblBvbHlsaW5lLl9mbGF0ID0gTGluZVV0aWwuX2ZsYXQ7XG4iLCAiaW1wb3J0IHtQb2x5bGluZX0gZnJvbSAnLi9Qb2x5bGluZSc7XG5pbXBvcnQge0xhdExuZ30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZyc7XG5pbXBvcnQgKiBhcyBMaW5lVXRpbCBmcm9tICcuLi8uLi9nZW9tZXRyeS9MaW5lVXRpbCc7XG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcbmltcG9ydCAqIGFzIFBvbHlVdGlsIGZyb20gJy4uLy4uL2dlb21ldHJ5L1BvbHlVdGlsJztcblxuLypcbiAqIEBjbGFzcyBQb2x5Z29uXG4gKiBAYWthIEwuUG9seWdvblxuICogQGluaGVyaXRzIFBvbHlsaW5lXG4gKlxuICogQSBjbGFzcyBmb3IgZHJhd2luZyBwb2x5Z29uIG92ZXJsYXlzIG9uIGEgbWFwLiBFeHRlbmRzIGBQb2x5bGluZWAuXG4gKlxuICogTm90ZSB0aGF0IHBvaW50cyB5b3UgcGFzcyB3aGVuIGNyZWF0aW5nIGEgcG9seWdvbiBzaG91bGRuJ3QgaGF2ZSBhbiBhZGRpdGlvbmFsIGxhc3QgcG9pbnQgZXF1YWwgdG8gdGhlIGZpcnN0IG9uZSDigJQgaXQncyBiZXR0ZXIgdG8gZmlsdGVyIG91dCBzdWNoIHBvaW50cy5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqc1xuICogLy8gY3JlYXRlIGEgcmVkIHBvbHlnb24gZnJvbSBhbiBhcnJheSBvZiBMYXRMbmcgcG9pbnRzXG4gKiB2YXIgbGF0bG5ncyA9IFtbMzcsIC0xMDkuMDVdLFs0MSwgLTEwOS4wM10sWzQxLCAtMTAyLjA1XSxbMzcsIC0xMDIuMDRdXTtcbiAqXG4gKiB2YXIgcG9seWdvbiA9IEwucG9seWdvbihsYXRsbmdzLCB7Y29sb3I6ICdyZWQnfSkuYWRkVG8obWFwKTtcbiAqXG4gKiAvLyB6b29tIHRoZSBtYXAgdG8gdGhlIHBvbHlnb25cbiAqIG1hcC5maXRCb3VuZHMocG9seWdvbi5nZXRCb3VuZHMoKSk7XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGFsc28gcGFzcyBhbiBhcnJheSBvZiBhcnJheXMgb2YgbGF0bG5ncywgd2l0aCB0aGUgZmlyc3QgYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBvdXRlciBzaGFwZSBhbmQgdGhlIG90aGVyIGFycmF5cyByZXByZXNlbnRpbmcgaG9sZXMgaW4gdGhlIG91dGVyIHNoYXBlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbGF0bG5ncyA9IFtcbiAqICAgW1szNywgLTEwOS4wNV0sWzQxLCAtMTA5LjAzXSxbNDEsIC0xMDIuMDVdLFszNywgLTEwMi4wNF1dLCAvLyBvdXRlciByaW5nXG4gKiAgIFtbMzcuMjksIC0xMDguNThdLFs0MC43MSwgLTEwOC41OF0sWzQwLjcxLCAtMTAyLjUwXSxbMzcuMjksIC0xMDIuNTBdXSAvLyBob2xlXG4gKiBdO1xuICogYGBgXG4gKlxuICogQWRkaXRpb25hbGx5LCB5b3UgY2FuIHBhc3MgYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSB0byByZXByZXNlbnQgYSBNdWx0aVBvbHlnb24gc2hhcGUuXG4gKlxuICogYGBganNcbiAqIHZhciBsYXRsbmdzID0gW1xuICogICBbIC8vIGZpcnN0IHBvbHlnb25cbiAqICAgICBbWzM3LCAtMTA5LjA1XSxbNDEsIC0xMDkuMDNdLFs0MSwgLTEwMi4wNV0sWzM3LCAtMTAyLjA0XV0sIC8vIG91dGVyIHJpbmdcbiAqICAgICBbWzM3LjI5LCAtMTA4LjU4XSxbNDAuNzEsIC0xMDguNThdLFs0MC43MSwgLTEwMi41MF0sWzM3LjI5LCAtMTAyLjUwXV0gLy8gaG9sZVxuICogICBdLFxuICogICBbIC8vIHNlY29uZCBwb2x5Z29uXG4gKiAgICAgW1s0MSwgLTExMS4wM10sWzQ1LCAtMTExLjA0XSxbNDUsIC0xMDQuMDVdLFs0MSwgLTEwNC4wNV1dXG4gKiAgIF1cbiAqIF07XG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgdmFyIFBvbHlnb24gPSBQb2x5bGluZS5leHRlbmQoe1xuXG5cdG9wdGlvbnM6IHtcblx0XHRmaWxsOiB0cnVlXG5cdH0sXG5cblx0aXNFbXB0eTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAhdGhpcy5fbGF0bG5ncy5sZW5ndGggfHwgIXRoaXMuX2xhdGxuZ3NbMF0ubGVuZ3RoO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0Q2VudGVyKCk6IExhdExuZ1xuXHQvLyBSZXR1cm5zIHRoZSBjZW50ZXIgKFtjZW50cm9pZF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cm9pZCkpIG9mIHRoZSBQb2x5Z29uLlxuXHRnZXRDZW50ZXI6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyB0aHJvd3MgZXJyb3Igd2hlbiBub3QgeWV0IGFkZGVkIHRvIG1hcCBhcyB0aGlzIGNlbnRlciBjYWxjdWxhdGlvbiByZXF1aXJlcyBwcm9qZWN0ZWQgY29vcmRpbmF0ZXNcblx0XHRpZiAoIXRoaXMuX21hcCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdNdXN0IGFkZCBsYXllciB0byBtYXAgYmVmb3JlIHVzaW5nIGdldENlbnRlcigpJyk7XG5cdFx0fVxuXHRcdHJldHVybiBQb2x5VXRpbC5wb2x5Z29uQ2VudGVyKHRoaXMuX2RlZmF1bHRTaGFwZSgpLCB0aGlzLl9tYXAub3B0aW9ucy5jcnMpO1xuXHR9LFxuXG5cdF9jb252ZXJ0TGF0TG5nczogZnVuY3Rpb24gKGxhdGxuZ3MpIHtcblx0XHR2YXIgcmVzdWx0ID0gUG9seWxpbmUucHJvdG90eXBlLl9jb252ZXJ0TGF0TG5ncy5jYWxsKHRoaXMsIGxhdGxuZ3MpLFxuXHRcdCAgICBsZW4gPSByZXN1bHQubGVuZ3RoO1xuXG5cdFx0Ly8gcmVtb3ZlIGxhc3QgcG9pbnQgaWYgaXQgZXF1YWxzIGZpcnN0IG9uZVxuXHRcdGlmIChsZW4gPj0gMiAmJiByZXN1bHRbMF0gaW5zdGFuY2VvZiBMYXRMbmcgJiYgcmVzdWx0WzBdLmVxdWFscyhyZXN1bHRbbGVuIC0gMV0pKSB7XG5cdFx0XHRyZXN1bHQucG9wKCk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0X3NldExhdExuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzKSB7XG5cdFx0UG9seWxpbmUucHJvdG90eXBlLl9zZXRMYXRMbmdzLmNhbGwodGhpcywgbGF0bG5ncyk7XG5cdFx0aWYgKExpbmVVdGlsLmlzRmxhdCh0aGlzLl9sYXRsbmdzKSkge1xuXHRcdFx0dGhpcy5fbGF0bG5ncyA9IFt0aGlzLl9sYXRsbmdzXTtcblx0XHR9XG5cdH0sXG5cblx0X2RlZmF1bHRTaGFwZTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBMaW5lVXRpbC5pc0ZsYXQodGhpcy5fbGF0bG5nc1swXSkgPyB0aGlzLl9sYXRsbmdzWzBdIDogdGhpcy5fbGF0bG5nc1swXVswXTtcblx0fSxcblxuXHRfY2xpcFBvaW50czogZnVuY3Rpb24gKCkge1xuXHRcdC8vIHBvbHlnb25zIG5lZWQgYSBkaWZmZXJlbnQgY2xpcHBpbmcgYWxnb3JpdGhtIHNvIHdlIHJlZGVmaW5lIHRoYXRcblxuXHRcdHZhciBib3VuZHMgPSB0aGlzLl9yZW5kZXJlci5fYm91bmRzLFxuXHRcdCAgICB3ID0gdGhpcy5vcHRpb25zLndlaWdodCxcblx0XHQgICAgcCA9IG5ldyBQb2ludCh3LCB3KTtcblxuXHRcdC8vIGluY3JlYXNlIGNsaXAgcGFkZGluZyBieSBzdHJva2Ugd2lkdGggdG8gYXZvaWQgc3Ryb2tlIG9uIGNsaXAgZWRnZXNcblx0XHRib3VuZHMgPSBuZXcgQm91bmRzKGJvdW5kcy5taW4uc3VidHJhY3QocCksIGJvdW5kcy5tYXguYWRkKHApKTtcblxuXHRcdHRoaXMuX3BhcnRzID0gW107XG5cdFx0aWYgKCF0aGlzLl9weEJvdW5kcyB8fCAhdGhpcy5fcHhCb3VuZHMuaW50ZXJzZWN0cyhib3VuZHMpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5ub0NsaXApIHtcblx0XHRcdHRoaXMuX3BhcnRzID0gdGhpcy5fcmluZ3M7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3JpbmdzLmxlbmd0aCwgY2xpcHBlZDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRjbGlwcGVkID0gUG9seVV0aWwuY2xpcFBvbHlnb24odGhpcy5fcmluZ3NbaV0sIGJvdW5kcywgdHJ1ZSk7XG5cdFx0XHRpZiAoY2xpcHBlZC5sZW5ndGgpIHtcblx0XHRcdFx0dGhpcy5fcGFydHMucHVzaChjbGlwcGVkKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZVBhdGg6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZW5kZXJlci5fdXBkYXRlUG9seSh0aGlzLCB0cnVlKTtcblx0fSxcblxuXHQvLyBOZWVkZWQgYnkgdGhlIGBDYW52YXNgIHJlbmRlcmVyIGZvciBpbnRlcmFjdGl2aXR5XG5cdF9jb250YWluc1BvaW50OiBmdW5jdGlvbiAocCkge1xuXHRcdHZhciBpbnNpZGUgPSBmYWxzZSxcblx0XHQgICAgcGFydCwgcDEsIHAyLCBpLCBqLCBrLCBsZW4sIGxlbjI7XG5cblx0XHRpZiAoIXRoaXMuX3B4Qm91bmRzIHx8ICF0aGlzLl9weEJvdW5kcy5jb250YWlucyhwKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRcdC8vIHJheSBjYXN0aW5nIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGlmIHBvaW50IGlzIGluIHBvbHlnb25cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLl9wYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0cGFydCA9IHRoaXMuX3BhcnRzW2ldO1xuXG5cdFx0XHRmb3IgKGogPSAwLCBsZW4yID0gcGFydC5sZW5ndGgsIGsgPSBsZW4yIC0gMTsgaiA8IGxlbjI7IGsgPSBqKyspIHtcblx0XHRcdFx0cDEgPSBwYXJ0W2pdO1xuXHRcdFx0XHRwMiA9IHBhcnRba107XG5cblx0XHRcdFx0aWYgKCgocDEueSA+IHAueSkgIT09IChwMi55ID4gcC55KSkgJiYgKHAueCA8IChwMi54IC0gcDEueCkgKiAocC55IC0gcDEueSkgLyAocDIueSAtIHAxLnkpICsgcDEueCkpIHtcblx0XHRcdFx0XHRpbnNpZGUgPSAhaW5zaWRlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gYWxzbyBjaGVjayBpZiBpdCdzIG9uIHBvbHlnb24gc3Ryb2tlXG5cdFx0cmV0dXJuIGluc2lkZSB8fCBQb2x5bGluZS5wcm90b3R5cGUuX2NvbnRhaW5zUG9pbnQuY2FsbCh0aGlzLCBwLCB0cnVlKTtcblx0fVxuXG59KTtcblxuXG4vLyBAZmFjdG9yeSBMLnBvbHlnb24obGF0bG5nczogTGF0TG5nW10sIG9wdGlvbnM/OiBQb2x5bGluZSBvcHRpb25zKVxuZXhwb3J0IGZ1bmN0aW9uIHBvbHlnb24obGF0bG5ncywgb3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IFBvbHlnb24obGF0bG5ncywgb3B0aW9ucyk7XG59XG4iLCAiaW1wb3J0IHtMYXllckdyb3VwfSBmcm9tICcuL0xheWVyR3JvdXAnO1xyXG5pbXBvcnQge0ZlYXR1cmVHcm91cH0gZnJvbSAnLi9GZWF0dXJlR3JvdXAnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7TWFya2VyfSBmcm9tICcuL21hcmtlci9NYXJrZXInO1xyXG5pbXBvcnQge0NpcmNsZX0gZnJvbSAnLi92ZWN0b3IvQ2lyY2xlJztcclxuaW1wb3J0IHtDaXJjbGVNYXJrZXJ9IGZyb20gJy4vdmVjdG9yL0NpcmNsZU1hcmtlcic7XHJcbmltcG9ydCB7UG9seWxpbmV9IGZyb20gJy4vdmVjdG9yL1BvbHlsaW5lJztcclxuaW1wb3J0IHtQb2x5Z29ufSBmcm9tICcuL3ZlY3Rvci9Qb2x5Z29uJztcclxuaW1wb3J0IHtMYXRMbmd9IGZyb20gJy4uL2dlby9MYXRMbmcnO1xyXG5pbXBvcnQgKiBhcyBMaW5lVXRpbCBmcm9tICcuLi9nZW9tZXRyeS9MaW5lVXRpbCc7XHJcbmltcG9ydCB7dG9MYXRMbmd9IGZyb20gJy4uL2dlby9MYXRMbmcnO1xyXG5cclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBHZW9KU09OXHJcbiAqIEBha2EgTC5HZW9KU09OXHJcbiAqIEBpbmhlcml0cyBGZWF0dXJlR3JvdXBcclxuICpcclxuICogUmVwcmVzZW50cyBhIEdlb0pTT04gb2JqZWN0IG9yIGFuIGFycmF5IG9mIEdlb0pTT04gb2JqZWN0cy4gQWxsb3dzIHlvdSB0byBwYXJzZVxyXG4gKiBHZW9KU09OIGRhdGEgYW5kIGRpc3BsYXkgaXQgb24gdGhlIG1hcC4gRXh0ZW5kcyBgRmVhdHVyZUdyb3VwYC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogTC5nZW9KU09OKGRhdGEsIHtcclxuICogXHRzdHlsZTogZnVuY3Rpb24gKGZlYXR1cmUpIHtcclxuICogXHRcdHJldHVybiB7Y29sb3I6IGZlYXR1cmUucHJvcGVydGllcy5jb2xvcn07XHJcbiAqIFx0fVxyXG4gKiB9KS5iaW5kUG9wdXAoZnVuY3Rpb24gKGxheWVyKSB7XHJcbiAqIFx0cmV0dXJuIGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5kZXNjcmlwdGlvbjtcclxuICogfSkuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBHZW9KU09OID0gRmVhdHVyZUdyb3VwLmV4dGVuZCh7XHJcblxyXG5cdC8qIEBzZWN0aW9uXHJcblx0ICogQGFrYSBHZW9KU09OIG9wdGlvbnNcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gcG9pbnRUb0xheWVyOiBGdW5jdGlvbiA9ICpcclxuXHQgKiBBIGBGdW5jdGlvbmAgZGVmaW5pbmcgaG93IEdlb0pTT04gcG9pbnRzIHNwYXduIExlYWZsZXQgbGF5ZXJzLiBJdCBpcyBpbnRlcm5hbGx5XHJcblx0ICogY2FsbGVkIHdoZW4gZGF0YSBpcyBhZGRlZCwgcGFzc2luZyB0aGUgR2VvSlNPTiBwb2ludCBmZWF0dXJlIGFuZCBpdHMgYExhdExuZ2AuXHJcblx0ICogVGhlIGRlZmF1bHQgaXMgdG8gc3Bhd24gYSBkZWZhdWx0IGBNYXJrZXJgOlxyXG5cdCAqIGBgYGpzXHJcblx0ICogZnVuY3Rpb24oZ2VvSnNvblBvaW50LCBsYXRsbmcpIHtcclxuXHQgKiBcdHJldHVybiBMLm1hcmtlcihsYXRsbmcpO1xyXG5cdCAqIH1cclxuXHQgKiBgYGBcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gc3R5bGU6IEZ1bmN0aW9uID0gKlxyXG5cdCAqIEEgYEZ1bmN0aW9uYCBkZWZpbmluZyB0aGUgYFBhdGggb3B0aW9uc2AgZm9yIHN0eWxpbmcgR2VvSlNPTiBsaW5lcyBhbmQgcG9seWdvbnMsXHJcblx0ICogY2FsbGVkIGludGVybmFsbHkgd2hlbiBkYXRhIGlzIGFkZGVkLlxyXG5cdCAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRvIG5vdCBvdmVycmlkZSBhbnkgZGVmYXVsdHM6XHJcblx0ICogYGBganNcclxuXHQgKiBmdW5jdGlvbiAoZ2VvSnNvbkZlYXR1cmUpIHtcclxuXHQgKiBcdHJldHVybiB7fVxyXG5cdCAqIH1cclxuXHQgKiBgYGBcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gb25FYWNoRmVhdHVyZTogRnVuY3Rpb24gPSAqXHJcblx0ICogQSBgRnVuY3Rpb25gIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25jZSBmb3IgZWFjaCBjcmVhdGVkIGBGZWF0dXJlYCwgYWZ0ZXIgaXQgaGFzXHJcblx0ICogYmVlbiBjcmVhdGVkIGFuZCBzdHlsZWQuIFVzZWZ1bCBmb3IgYXR0YWNoaW5nIGV2ZW50cyBhbmQgcG9wdXBzIHRvIGZlYXR1cmVzLlxyXG5cdCAqIFRoZSBkZWZhdWx0IGlzIHRvIGRvIG5vdGhpbmcgd2l0aCB0aGUgbmV3bHkgY3JlYXRlZCBsYXllcnM6XHJcblx0ICogYGBganNcclxuXHQgKiBmdW5jdGlvbiAoZmVhdHVyZSwgbGF5ZXIpIHt9XHJcblx0ICogYGBgXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIGZpbHRlcjogRnVuY3Rpb24gPSAqXHJcblx0ICogQSBgRnVuY3Rpb25gIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRlY2lkZSB3aGV0aGVyIHRvIGluY2x1ZGUgYSBmZWF0dXJlIG9yIG5vdC5cclxuXHQgKiBUaGUgZGVmYXVsdCBpcyB0byBpbmNsdWRlIGFsbCBmZWF0dXJlczpcclxuXHQgKiBgYGBqc1xyXG5cdCAqIGZ1bmN0aW9uIChnZW9Kc29uRmVhdHVyZSkge1xyXG5cdCAqIFx0cmV0dXJuIHRydWU7XHJcblx0ICogfVxyXG5cdCAqIGBgYFxyXG5cdCAqIE5vdGU6IGR5bmFtaWNhbGx5IGNoYW5naW5nIHRoZSBgZmlsdGVyYCBvcHRpb24gd2lsbCBoYXZlIGVmZmVjdCBvbmx5IG9uIG5ld2x5XHJcblx0ICogYWRkZWQgZGF0YS4gSXQgd2lsbCBfbm90XyByZS1ldmFsdWF0ZSBhbHJlYWR5IGluY2x1ZGVkIGZlYXR1cmVzLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBjb29yZHNUb0xhdExuZzogRnVuY3Rpb24gPSAqXHJcblx0ICogQSBgRnVuY3Rpb25gIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBjb252ZXJ0aW5nIEdlb0pTT04gY29vcmRpbmF0ZXMgdG8gYExhdExuZ2BzLlxyXG5cdCAqIFRoZSBkZWZhdWx0IGlzIHRoZSBgY29vcmRzVG9MYXRMbmdgIHN0YXRpYyBtZXRob2QuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIG1hcmtlcnNJbmhlcml0T3B0aW9uczogQm9vbGVhbiA9IGZhbHNlXHJcblx0ICogV2hldGhlciBkZWZhdWx0IE1hcmtlcnMgZm9yIFwiUG9pbnRcIiB0eXBlIEZlYXR1cmVzIGluaGVyaXQgZnJvbSBncm91cCBvcHRpb25zLlxyXG5cdCAqL1xyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAoZ2VvanNvbiwgb3B0aW9ucykge1xyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHRoaXMuX2xheWVycyA9IHt9O1xyXG5cclxuXHRcdGlmIChnZW9qc29uKSB7XHJcblx0XHRcdHRoaXMuYWRkRGF0YShnZW9qc29uKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZERhdGEoIDxHZW9KU09OPiBkYXRhICk6IHRoaXNcclxuXHQvLyBBZGRzIGEgR2VvSlNPTiBvYmplY3QgdG8gdGhlIGxheWVyLlxyXG5cdGFkZERhdGE6IGZ1bmN0aW9uIChnZW9qc29uKSB7XHJcblx0XHR2YXIgZmVhdHVyZXMgPSBVdGlsLmlzQXJyYXkoZ2VvanNvbikgPyBnZW9qc29uIDogZ2VvanNvbi5mZWF0dXJlcyxcclxuXHRcdCAgICBpLCBsZW4sIGZlYXR1cmU7XHJcblxyXG5cdFx0aWYgKGZlYXR1cmVzKSB7XHJcblx0XHRcdGZvciAoaSA9IDAsIGxlbiA9IGZlYXR1cmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0Ly8gb25seSBhZGQgdGhpcyBpZiBnZW9tZXRyeSBvciBnZW9tZXRyaWVzIGFyZSBzZXQgYW5kIG5vdCBudWxsXHJcblx0XHRcdFx0ZmVhdHVyZSA9IGZlYXR1cmVzW2ldO1xyXG5cdFx0XHRcdGlmIChmZWF0dXJlLmdlb21ldHJpZXMgfHwgZmVhdHVyZS5nZW9tZXRyeSB8fCBmZWF0dXJlLmZlYXR1cmVzIHx8IGZlYXR1cmUuY29vcmRpbmF0ZXMpIHtcclxuXHRcdFx0XHRcdHRoaXMuYWRkRGF0YShmZWF0dXJlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMuZmlsdGVyICYmICFvcHRpb25zLmZpbHRlcihnZW9qc29uKSkgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdHZhciBsYXllciA9IGdlb21ldHJ5VG9MYXllcihnZW9qc29uLCBvcHRpb25zKTtcclxuXHRcdGlmICghbGF5ZXIpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0XHRsYXllci5mZWF0dXJlID0gYXNGZWF0dXJlKGdlb2pzb24pO1xyXG5cclxuXHRcdGxheWVyLmRlZmF1bHRPcHRpb25zID0gbGF5ZXIub3B0aW9ucztcclxuXHRcdHRoaXMucmVzZXRTdHlsZShsYXllcik7XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMub25FYWNoRmVhdHVyZSkge1xyXG5cdFx0XHRvcHRpb25zLm9uRWFjaEZlYXR1cmUoZ2VvanNvbiwgbGF5ZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmFkZExheWVyKGxheWVyKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlc2V0U3R5bGUoIDxQYXRoPiBsYXllcj8gKTogdGhpc1xyXG5cdC8vIFJlc2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIGxheWVyJ3Mgc3R5bGUgdG8gdGhlIG9yaWdpbmFsIEdlb0pTT04gc3R5bGUsIHVzZWZ1bCBmb3IgcmVzZXR0aW5nIHN0eWxlIGFmdGVyIGhvdmVyIGV2ZW50cy5cclxuXHQvLyBJZiBgbGF5ZXJgIGlzIG9taXR0ZWQsIHRoZSBzdHlsZSBvZiBhbGwgZmVhdHVyZXMgaW4gdGhlIGN1cnJlbnQgbGF5ZXIgaXMgcmVzZXQuXHJcblx0cmVzZXRTdHlsZTogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRpZiAobGF5ZXIgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoTGF5ZXIodGhpcy5yZXNldFN0eWxlLCB0aGlzKTtcclxuXHRcdH1cclxuXHRcdC8vIHJlc2V0IGFueSBjdXN0b20gc3R5bGVzXHJcblx0XHRsYXllci5vcHRpb25zID0gVXRpbC5leHRlbmQoe30sIGxheWVyLmRlZmF1bHRPcHRpb25zKTtcclxuXHRcdHRoaXMuX3NldExheWVyU3R5bGUobGF5ZXIsIHRoaXMub3B0aW9ucy5zdHlsZSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFN0eWxlKCA8RnVuY3Rpb24+IHN0eWxlICk6IHRoaXNcclxuXHQvLyBDaGFuZ2VzIHN0eWxlcyBvZiBHZW9KU09OIHZlY3RvciBsYXllcnMgd2l0aCB0aGUgZ2l2ZW4gc3R5bGUgZnVuY3Rpb24uXHJcblx0c2V0U3R5bGU6IGZ1bmN0aW9uIChzdHlsZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0XHR0aGlzLl9zZXRMYXllclN0eWxlKGxheWVyLCBzdHlsZSk7XHJcblx0XHR9LCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHRfc2V0TGF5ZXJTdHlsZTogZnVuY3Rpb24gKGxheWVyLCBzdHlsZSkge1xyXG5cdFx0aWYgKGxheWVyLnNldFN0eWxlKSB7XHJcblx0XHRcdGlmICh0eXBlb2Ygc3R5bGUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRzdHlsZSA9IHN0eWxlKGxheWVyLmZlYXR1cmUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxheWVyLnNldFN0eWxlKHN0eWxlKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQHNlY3Rpb25cclxuLy8gVGhlcmUgYXJlIHNldmVyYWwgc3RhdGljIGZ1bmN0aW9ucyB3aGljaCBjYW4gYmUgY2FsbGVkIHdpdGhvdXQgaW5zdGFudGlhdGluZyBMLkdlb0pTT046XHJcblxyXG4vLyBAZnVuY3Rpb24gZ2VvbWV0cnlUb0xheWVyKGZlYXR1cmVEYXRhOiBPYmplY3QsIG9wdGlvbnM/OiBHZW9KU09OIG9wdGlvbnMpOiBMYXllclxyXG4vLyBDcmVhdGVzIGEgYExheWVyYCBmcm9tIGEgZ2l2ZW4gR2VvSlNPTiBmZWF0dXJlLiBDYW4gdXNlIGEgY3VzdG9tXHJcbi8vIFtgcG9pbnRUb0xheWVyYF0oI2dlb2pzb24tcG9pbnR0b2xheWVyKSBhbmQvb3IgW2Bjb29yZHNUb0xhdExuZ2BdKCNnZW9qc29uLWNvb3Jkc3RvbGF0bG5nKVxyXG4vLyBmdW5jdGlvbnMgaWYgcHJvdmlkZWQgYXMgb3B0aW9ucy5cclxuZXhwb3J0IGZ1bmN0aW9uIGdlb21ldHJ5VG9MYXllcihnZW9qc29uLCBvcHRpb25zKSB7XHJcblxyXG5cdHZhciBnZW9tZXRyeSA9IGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmUnID8gZ2VvanNvbi5nZW9tZXRyeSA6IGdlb2pzb24sXHJcblx0ICAgIGNvb3JkcyA9IGdlb21ldHJ5ID8gZ2VvbWV0cnkuY29vcmRpbmF0ZXMgOiBudWxsLFxyXG5cdCAgICBsYXllcnMgPSBbXSxcclxuXHQgICAgcG9pbnRUb0xheWVyID0gb3B0aW9ucyAmJiBvcHRpb25zLnBvaW50VG9MYXllcixcclxuXHQgICAgX2Nvb3Jkc1RvTGF0TG5nID0gb3B0aW9ucyAmJiBvcHRpb25zLmNvb3Jkc1RvTGF0TG5nIHx8IGNvb3Jkc1RvTGF0TG5nLFxyXG5cdCAgICBsYXRsbmcsIGxhdGxuZ3MsIGksIGxlbjtcclxuXHJcblx0aWYgKCFjb29yZHMgJiYgIWdlb21ldHJ5KSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdHN3aXRjaCAoZ2VvbWV0cnkudHlwZSkge1xyXG5cdGNhc2UgJ1BvaW50JzpcclxuXHRcdGxhdGxuZyA9IF9jb29yZHNUb0xhdExuZyhjb29yZHMpO1xyXG5cdFx0cmV0dXJuIF9wb2ludFRvTGF5ZXIocG9pbnRUb0xheWVyLCBnZW9qc29uLCBsYXRsbmcsIG9wdGlvbnMpO1xyXG5cclxuXHRjYXNlICdNdWx0aVBvaW50JzpcclxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvb3Jkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRsYXRsbmcgPSBfY29vcmRzVG9MYXRMbmcoY29vcmRzW2ldKTtcclxuXHRcdFx0bGF5ZXJzLnB1c2goX3BvaW50VG9MYXllcihwb2ludFRvTGF5ZXIsIGdlb2pzb24sIGxhdGxuZywgb3B0aW9ucykpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ldyBGZWF0dXJlR3JvdXAobGF5ZXJzKTtcclxuXHJcblx0Y2FzZSAnTGluZVN0cmluZyc6XHJcblx0Y2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcclxuXHRcdGxhdGxuZ3MgPSBjb29yZHNUb0xhdExuZ3MoY29vcmRzLCBnZW9tZXRyeS50eXBlID09PSAnTGluZVN0cmluZycgPyAwIDogMSwgX2Nvb3Jkc1RvTGF0TG5nKTtcclxuXHRcdHJldHVybiBuZXcgUG9seWxpbmUobGF0bG5ncywgb3B0aW9ucyk7XHJcblxyXG5cdGNhc2UgJ1BvbHlnb24nOlxyXG5cdGNhc2UgJ011bHRpUG9seWdvbic6XHJcblx0XHRsYXRsbmdzID0gY29vcmRzVG9MYXRMbmdzKGNvb3JkcywgZ2VvbWV0cnkudHlwZSA9PT0gJ1BvbHlnb24nID8gMSA6IDIsIF9jb29yZHNUb0xhdExuZyk7XHJcblx0XHRyZXR1cm4gbmV3IFBvbHlnb24obGF0bG5ncywgb3B0aW9ucyk7XHJcblxyXG5cdGNhc2UgJ0dlb21ldHJ5Q29sbGVjdGlvbic6XHJcblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBnZW9tZXRyeS5nZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdHZhciBnZW9MYXllciA9IGdlb21ldHJ5VG9MYXllcih7XHJcblx0XHRcdFx0Z2VvbWV0cnk6IGdlb21ldHJ5Lmdlb21ldHJpZXNbaV0sXHJcblx0XHRcdFx0dHlwZTogJ0ZlYXR1cmUnLFxyXG5cdFx0XHRcdHByb3BlcnRpZXM6IGdlb2pzb24ucHJvcGVydGllc1xyXG5cdFx0XHR9LCBvcHRpb25zKTtcclxuXHJcblx0XHRcdGlmIChnZW9MYXllcikge1xyXG5cdFx0XHRcdGxheWVycy5wdXNoKGdlb0xheWVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ldyBGZWF0dXJlR3JvdXAobGF5ZXJzKTtcclxuXHJcblx0Y2FzZSAnRmVhdHVyZUNvbGxlY3Rpb24nOlxyXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gZ2VvbWV0cnkuZmVhdHVyZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0dmFyIGZlYXR1cmVMYXllciA9IGdlb21ldHJ5VG9MYXllcihnZW9tZXRyeS5mZWF0dXJlc1tpXSwgb3B0aW9ucyk7XHJcblxyXG5cdFx0XHRpZiAoZmVhdHVyZUxheWVyKSB7XHJcblx0XHRcdFx0bGF5ZXJzLnB1c2goZmVhdHVyZUxheWVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ldyBGZWF0dXJlR3JvdXAobGF5ZXJzKTtcclxuXHJcblx0ZGVmYXVsdDpcclxuXHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBHZW9KU09OIG9iamVjdC4nKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9wb2ludFRvTGF5ZXIocG9pbnRUb0xheWVyRm4sIGdlb2pzb24sIGxhdGxuZywgb3B0aW9ucykge1xyXG5cdHJldHVybiBwb2ludFRvTGF5ZXJGbiA/XHJcblx0XHRwb2ludFRvTGF5ZXJGbihnZW9qc29uLCBsYXRsbmcpIDpcclxuXHRcdG5ldyBNYXJrZXIobGF0bG5nLCBvcHRpb25zICYmIG9wdGlvbnMubWFya2Vyc0luaGVyaXRPcHRpb25zICYmIG9wdGlvbnMpO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gY29vcmRzVG9MYXRMbmcoY29vcmRzOiBBcnJheSk6IExhdExuZ1xyXG4vLyBDcmVhdGVzIGEgYExhdExuZ2Agb2JqZWN0IGZyb20gYW4gYXJyYXkgb2YgMiBudW1iZXJzIChsb25naXR1ZGUsIGxhdGl0dWRlKVxyXG4vLyBvciAzIG51bWJlcnMgKGxvbmdpdHVkZSwgbGF0aXR1ZGUsIGFsdGl0dWRlKSB1c2VkIGluIEdlb0pTT04gZm9yIHBvaW50cy5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvb3Jkc1RvTGF0TG5nKGNvb3Jkcykge1xyXG5cdHJldHVybiBuZXcgTGF0TG5nKGNvb3Jkc1sxXSwgY29vcmRzWzBdLCBjb29yZHNbMl0pO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gY29vcmRzVG9MYXRMbmdzKGNvb3JkczogQXJyYXksIGxldmVsc0RlZXA/OiBOdW1iZXIsIGNvb3Jkc1RvTGF0TG5nPzogRnVuY3Rpb24pOiBBcnJheVxyXG4vLyBDcmVhdGVzIGEgbXVsdGlkaW1lbnNpb25hbCBhcnJheSBvZiBgTGF0TG5nYHMgZnJvbSBhIEdlb0pTT04gY29vcmRpbmF0ZXMgYXJyYXkuXHJcbi8vIGBsZXZlbHNEZWVwYCBzcGVjaWZpZXMgdGhlIG5lc3RpbmcgbGV2ZWwgKDAgaXMgZm9yIGFuIGFycmF5IG9mIHBvaW50cywgMSBmb3IgYW4gYXJyYXkgb2YgYXJyYXlzIG9mIHBvaW50cywgZXRjLiwgMCBieSBkZWZhdWx0KS5cclxuLy8gQ2FuIHVzZSBhIGN1c3RvbSBbYGNvb3Jkc1RvTGF0TG5nYF0oI2dlb2pzb24tY29vcmRzdG9sYXRsbmcpIGZ1bmN0aW9uLlxyXG5leHBvcnQgZnVuY3Rpb24gY29vcmRzVG9MYXRMbmdzKGNvb3JkcywgbGV2ZWxzRGVlcCwgX2Nvb3Jkc1RvTGF0TG5nKSB7XHJcblx0dmFyIGxhdGxuZ3MgPSBbXTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvb3Jkcy5sZW5ndGgsIGxhdGxuZzsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRsYXRsbmcgPSBsZXZlbHNEZWVwID9cclxuXHRcdFx0Y29vcmRzVG9MYXRMbmdzKGNvb3Jkc1tpXSwgbGV2ZWxzRGVlcCAtIDEsIF9jb29yZHNUb0xhdExuZykgOlxyXG5cdFx0XHQoX2Nvb3Jkc1RvTGF0TG5nIHx8IGNvb3Jkc1RvTGF0TG5nKShjb29yZHNbaV0pO1xyXG5cclxuXHRcdGxhdGxuZ3MucHVzaChsYXRsbmcpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGxhdGxuZ3M7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBsYXRMbmdUb0Nvb3JkcyhsYXRsbmc6IExhdExuZywgcHJlY2lzaW9uPzogTnVtYmVyfGZhbHNlKTogQXJyYXlcclxuLy8gUmV2ZXJzZSBvZiBbYGNvb3Jkc1RvTGF0TG5nYF0oI2dlb2pzb24tY29vcmRzdG9sYXRsbmcpXHJcbi8vIENvb3JkaW5hdGVzIHZhbHVlcyBhcmUgcm91bmRlZCB3aXRoIFtgZm9ybWF0TnVtYF0oI3V0aWwtZm9ybWF0bnVtKSBmdW5jdGlvbi5cclxuZXhwb3J0IGZ1bmN0aW9uIGxhdExuZ1RvQ29vcmRzKGxhdGxuZywgcHJlY2lzaW9uKSB7XHJcblx0bGF0bG5nID0gdG9MYXRMbmcobGF0bG5nKTtcclxuXHRyZXR1cm4gbGF0bG5nLmFsdCAhPT0gdW5kZWZpbmVkID9cclxuXHRcdFtVdGlsLmZvcm1hdE51bShsYXRsbmcubG5nLCBwcmVjaXNpb24pLCBVdGlsLmZvcm1hdE51bShsYXRsbmcubGF0LCBwcmVjaXNpb24pLCBVdGlsLmZvcm1hdE51bShsYXRsbmcuYWx0LCBwcmVjaXNpb24pXSA6XHJcblx0XHRbVXRpbC5mb3JtYXROdW0obGF0bG5nLmxuZywgcHJlY2lzaW9uKSwgVXRpbC5mb3JtYXROdW0obGF0bG5nLmxhdCwgcHJlY2lzaW9uKV07XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBsYXRMbmdzVG9Db29yZHMobGF0bG5nczogQXJyYXksIGxldmVsc0RlZXA/OiBOdW1iZXIsIGNsb3NlZD86IEJvb2xlYW4sIHByZWNpc2lvbj86IE51bWJlcnxmYWxzZSk6IEFycmF5XHJcbi8vIFJldmVyc2Ugb2YgW2Bjb29yZHNUb0xhdExuZ3NgXSgjZ2VvanNvbi1jb29yZHN0b2xhdGxuZ3MpXHJcbi8vIGBjbG9zZWRgIGRldGVybWluZXMgd2hldGhlciB0aGUgZmlyc3QgcG9pbnQgc2hvdWxkIGJlIGFwcGVuZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGFycmF5IHRvIGNsb3NlIHRoZSBmZWF0dXJlLCBvbmx5IHVzZWQgd2hlbiBgbGV2ZWxzRGVlcGAgaXMgMC4gRmFsc2UgYnkgZGVmYXVsdC5cclxuLy8gQ29vcmRpbmF0ZXMgdmFsdWVzIGFyZSByb3VuZGVkIHdpdGggW2Bmb3JtYXROdW1gXSgjdXRpbC1mb3JtYXRudW0pIGZ1bmN0aW9uLlxyXG5leHBvcnQgZnVuY3Rpb24gbGF0TG5nc1RvQ29vcmRzKGxhdGxuZ3MsIGxldmVsc0RlZXAsIGNsb3NlZCwgcHJlY2lzaW9uKSB7XHJcblx0dmFyIGNvb3JkcyA9IFtdO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGF0bG5ncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0Ly8gQ2hlY2sgZm9yIGZsYXQgYXJyYXlzIHJlcXVpcmVkIHRvIGVuc3VyZSB1bmJhbGFuY2VkIGFycmF5cyBhcmUgY29ycmVjdGx5IGNvbnZlcnRlZCBpbiByZWN1cnNpb25cclxuXHRcdGNvb3Jkcy5wdXNoKGxldmVsc0RlZXAgP1xyXG5cdFx0XHRsYXRMbmdzVG9Db29yZHMobGF0bG5nc1tpXSwgTGluZVV0aWwuaXNGbGF0KGxhdGxuZ3NbaV0pID8gMCA6IGxldmVsc0RlZXAgLSAxLCBjbG9zZWQsIHByZWNpc2lvbikgOlxyXG5cdFx0XHRsYXRMbmdUb0Nvb3JkcyhsYXRsbmdzW2ldLCBwcmVjaXNpb24pKTtcclxuXHR9XHJcblxyXG5cdGlmICghbGV2ZWxzRGVlcCAmJiBjbG9zZWQgJiYgY29vcmRzLmxlbmd0aCA+IDApIHtcclxuXHRcdGNvb3Jkcy5wdXNoKGNvb3Jkc1swXS5zbGljZSgpKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBjb29yZHM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGZWF0dXJlKGxheWVyLCBuZXdHZW9tZXRyeSkge1xyXG5cdHJldHVybiBsYXllci5mZWF0dXJlID9cclxuXHRcdFV0aWwuZXh0ZW5kKHt9LCBsYXllci5mZWF0dXJlLCB7Z2VvbWV0cnk6IG5ld0dlb21ldHJ5fSkgOlxyXG5cdFx0YXNGZWF0dXJlKG5ld0dlb21ldHJ5KTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGFzRmVhdHVyZShnZW9qc29uOiBPYmplY3QpOiBPYmplY3RcclxuLy8gTm9ybWFsaXplIEdlb0pTT04gZ2VvbWV0cmllcy9mZWF0dXJlcyBpbnRvIEdlb0pTT04gZmVhdHVyZXMuXHJcbmV4cG9ydCBmdW5jdGlvbiBhc0ZlYXR1cmUoZ2VvanNvbikge1xyXG5cdGlmIChnZW9qc29uLnR5cGUgPT09ICdGZWF0dXJlJyB8fCBnZW9qc29uLnR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicpIHtcclxuXHRcdHJldHVybiBnZW9qc29uO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdHR5cGU6ICdGZWF0dXJlJyxcclxuXHRcdHByb3BlcnRpZXM6IHt9LFxyXG5cdFx0Z2VvbWV0cnk6IGdlb2pzb25cclxuXHR9O1xyXG59XHJcblxyXG52YXIgUG9pbnRUb0dlb0pTT04gPSB7XHJcblx0dG9HZW9KU09OOiBmdW5jdGlvbiAocHJlY2lzaW9uKSB7XHJcblx0XHRyZXR1cm4gZ2V0RmVhdHVyZSh0aGlzLCB7XHJcblx0XHRcdHR5cGU6ICdQb2ludCcsXHJcblx0XHRcdGNvb3JkaW5hdGVzOiBsYXRMbmdUb0Nvb3Jkcyh0aGlzLmdldExhdExuZygpLCBwcmVjaXNpb24pXHJcblx0XHR9KTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBAbmFtZXNwYWNlIE1hcmtlclxyXG4vLyBAc2VjdGlvbiBPdGhlciBtZXRob2RzXHJcbi8vIEBtZXRob2QgdG9HZW9KU09OKHByZWNpc2lvbj86IE51bWJlcnxmYWxzZSk6IE9iamVjdFxyXG4vLyBDb29yZGluYXRlcyB2YWx1ZXMgYXJlIHJvdW5kZWQgd2l0aCBbYGZvcm1hdE51bWBdKCN1dGlsLWZvcm1hdG51bSkgZnVuY3Rpb24gd2l0aCBnaXZlbiBgcHJlY2lzaW9uYC5cclxuLy8gUmV0dXJucyBhIFtgR2VvSlNPTmBdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dlb0pTT04pIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXJrZXIgKGFzIGEgR2VvSlNPTiBgUG9pbnRgIEZlYXR1cmUpLlxyXG5NYXJrZXIuaW5jbHVkZShQb2ludFRvR2VvSlNPTik7XHJcblxyXG4vLyBAbmFtZXNwYWNlIENpcmNsZU1hcmtlclxyXG4vLyBAbWV0aG9kIHRvR2VvSlNPTihwcmVjaXNpb24/OiBOdW1iZXJ8ZmFsc2UpOiBPYmplY3RcclxuLy8gQ29vcmRpbmF0ZXMgdmFsdWVzIGFyZSByb3VuZGVkIHdpdGggW2Bmb3JtYXROdW1gXSgjdXRpbC1mb3JtYXRudW0pIGZ1bmN0aW9uIHdpdGggZ2l2ZW4gYHByZWNpc2lvbmAuXHJcbi8vIFJldHVybnMgYSBbYEdlb0pTT05gXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9HZW9KU09OKSByZXByZXNlbnRhdGlvbiBvZiB0aGUgY2lyY2xlIG1hcmtlciAoYXMgYSBHZW9KU09OIGBQb2ludGAgRmVhdHVyZSkuXHJcbkNpcmNsZS5pbmNsdWRlKFBvaW50VG9HZW9KU09OKTtcclxuQ2lyY2xlTWFya2VyLmluY2x1ZGUoUG9pbnRUb0dlb0pTT04pO1xyXG5cclxuXHJcbi8vIEBuYW1lc3BhY2UgUG9seWxpbmVcclxuLy8gQG1ldGhvZCB0b0dlb0pTT04ocHJlY2lzaW9uPzogTnVtYmVyfGZhbHNlKTogT2JqZWN0XHJcbi8vIENvb3JkaW5hdGVzIHZhbHVlcyBhcmUgcm91bmRlZCB3aXRoIFtgZm9ybWF0TnVtYF0oI3V0aWwtZm9ybWF0bnVtKSBmdW5jdGlvbiB3aXRoIGdpdmVuIGBwcmVjaXNpb25gLlxyXG4vLyBSZXR1cm5zIGEgW2BHZW9KU09OYF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2VvSlNPTikgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBvbHlsaW5lIChhcyBhIEdlb0pTT04gYExpbmVTdHJpbmdgIG9yIGBNdWx0aUxpbmVTdHJpbmdgIEZlYXR1cmUpLlxyXG5Qb2x5bGluZS5pbmNsdWRlKHtcclxuXHR0b0dlb0pTT046IGZ1bmN0aW9uIChwcmVjaXNpb24pIHtcclxuXHRcdHZhciBtdWx0aSA9ICFMaW5lVXRpbC5pc0ZsYXQodGhpcy5fbGF0bG5ncyk7XHJcblxyXG5cdFx0dmFyIGNvb3JkcyA9IGxhdExuZ3NUb0Nvb3Jkcyh0aGlzLl9sYXRsbmdzLCBtdWx0aSA/IDEgOiAwLCBmYWxzZSwgcHJlY2lzaW9uKTtcclxuXHJcblx0XHRyZXR1cm4gZ2V0RmVhdHVyZSh0aGlzLCB7XHJcblx0XHRcdHR5cGU6IChtdWx0aSA/ICdNdWx0aScgOiAnJykgKyAnTGluZVN0cmluZycsXHJcblx0XHRcdGNvb3JkaW5hdGVzOiBjb29yZHNcclxuXHRcdH0pO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyBAbmFtZXNwYWNlIFBvbHlnb25cclxuLy8gQG1ldGhvZCB0b0dlb0pTT04ocHJlY2lzaW9uPzogTnVtYmVyfGZhbHNlKTogT2JqZWN0XHJcbi8vIENvb3JkaW5hdGVzIHZhbHVlcyBhcmUgcm91bmRlZCB3aXRoIFtgZm9ybWF0TnVtYF0oI3V0aWwtZm9ybWF0bnVtKSBmdW5jdGlvbiB3aXRoIGdpdmVuIGBwcmVjaXNpb25gLlxyXG4vLyBSZXR1cm5zIGEgW2BHZW9KU09OYF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2VvSlNPTikgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBvbHlnb24gKGFzIGEgR2VvSlNPTiBgUG9seWdvbmAgb3IgYE11bHRpUG9seWdvbmAgRmVhdHVyZSkuXHJcblBvbHlnb24uaW5jbHVkZSh7XHJcblx0dG9HZW9KU09OOiBmdW5jdGlvbiAocHJlY2lzaW9uKSB7XHJcblx0XHR2YXIgaG9sZXMgPSAhTGluZVV0aWwuaXNGbGF0KHRoaXMuX2xhdGxuZ3MpLFxyXG5cdFx0ICAgIG11bHRpID0gaG9sZXMgJiYgIUxpbmVVdGlsLmlzRmxhdCh0aGlzLl9sYXRsbmdzWzBdKTtcclxuXHJcblx0XHR2YXIgY29vcmRzID0gbGF0TG5nc1RvQ29vcmRzKHRoaXMuX2xhdGxuZ3MsIG11bHRpID8gMiA6IGhvbGVzID8gMSA6IDAsIHRydWUsIHByZWNpc2lvbik7XHJcblxyXG5cdFx0aWYgKCFob2xlcykge1xyXG5cdFx0XHRjb29yZHMgPSBbY29vcmRzXTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZ2V0RmVhdHVyZSh0aGlzLCB7XHJcblx0XHRcdHR5cGU6IChtdWx0aSA/ICdNdWx0aScgOiAnJykgKyAnUG9seWdvbicsXHJcblx0XHRcdGNvb3JkaW5hdGVzOiBjb29yZHNcclxuXHRcdH0pO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuLy8gQG5hbWVzcGFjZSBMYXllckdyb3VwXHJcbkxheWVyR3JvdXAuaW5jbHVkZSh7XHJcblx0dG9NdWx0aVBvaW50OiBmdW5jdGlvbiAocHJlY2lzaW9uKSB7XHJcblx0XHR2YXIgY29vcmRzID0gW107XHJcblxyXG5cdFx0dGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRcdGNvb3Jkcy5wdXNoKGxheWVyLnRvR2VvSlNPTihwcmVjaXNpb24pLmdlb21ldHJ5LmNvb3JkaW5hdGVzKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBnZXRGZWF0dXJlKHRoaXMsIHtcclxuXHRcdFx0dHlwZTogJ011bHRpUG9pbnQnLFxyXG5cdFx0XHRjb29yZGluYXRlczogY29vcmRzXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHRvR2VvSlNPTihwcmVjaXNpb24/OiBOdW1iZXJ8ZmFsc2UpOiBPYmplY3RcclxuXHQvLyBDb29yZGluYXRlcyB2YWx1ZXMgYXJlIHJvdW5kZWQgd2l0aCBbYGZvcm1hdE51bWBdKCN1dGlsLWZvcm1hdG51bSkgZnVuY3Rpb24gd2l0aCBnaXZlbiBgcHJlY2lzaW9uYC5cclxuXHQvLyBSZXR1cm5zIGEgW2BHZW9KU09OYF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2VvSlNPTikgcmVwcmVzZW50YXRpb24gb2YgdGhlIGxheWVyIGdyb3VwIChhcyBhIEdlb0pTT04gYEZlYXR1cmVDb2xsZWN0aW9uYCwgYEdlb21ldHJ5Q29sbGVjdGlvbmAsIG9yIGBNdWx0aVBvaW50YCkuXHJcblx0dG9HZW9KU09OOiBmdW5jdGlvbiAocHJlY2lzaW9uKSB7XHJcblxyXG5cdFx0dmFyIHR5cGUgPSB0aGlzLmZlYXR1cmUgJiYgdGhpcy5mZWF0dXJlLmdlb21ldHJ5ICYmIHRoaXMuZmVhdHVyZS5nZW9tZXRyeS50eXBlO1xyXG5cclxuXHRcdGlmICh0eXBlID09PSAnTXVsdGlQb2ludCcpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMudG9NdWx0aVBvaW50KHByZWNpc2lvbik7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGlzR2VvbWV0cnlDb2xsZWN0aW9uID0gdHlwZSA9PT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicsXHJcblx0XHQgICAganNvbnMgPSBbXTtcclxuXHJcblx0XHR0aGlzLmVhY2hMYXllcihmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdFx0aWYgKGxheWVyLnRvR2VvSlNPTikge1xyXG5cdFx0XHRcdHZhciBqc29uID0gbGF5ZXIudG9HZW9KU09OKHByZWNpc2lvbik7XHJcblx0XHRcdFx0aWYgKGlzR2VvbWV0cnlDb2xsZWN0aW9uKSB7XHJcblx0XHRcdFx0XHRqc29ucy5wdXNoKGpzb24uZ2VvbWV0cnkpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR2YXIgZmVhdHVyZSA9IGFzRmVhdHVyZShqc29uKTtcclxuXHRcdFx0XHRcdC8vIFNxdWFzaCBuZXN0ZWQgZmVhdHVyZSBjb2xsZWN0aW9uc1xyXG5cdFx0XHRcdFx0aWYgKGZlYXR1cmUudHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xyXG5cdFx0XHRcdFx0XHRqc29ucy5wdXNoLmFwcGx5KGpzb25zLCBmZWF0dXJlLmZlYXR1cmVzKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGpzb25zLnB1c2goZmVhdHVyZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAoaXNHZW9tZXRyeUNvbGxlY3Rpb24pIHtcclxuXHRcdFx0cmV0dXJuIGdldEZlYXR1cmUodGhpcywge1xyXG5cdFx0XHRcdGdlb21ldHJpZXM6IGpzb25zLFxyXG5cdFx0XHRcdHR5cGU6ICdHZW9tZXRyeUNvbGxlY3Rpb24nXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXHJcblx0XHRcdGZlYXR1cmVzOiBqc29uc1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQG5hbWVzcGFjZSBHZW9KU09OXHJcbi8vIEBmYWN0b3J5IEwuZ2VvSlNPTihnZW9qc29uPzogT2JqZWN0LCBvcHRpb25zPzogR2VvSlNPTiBvcHRpb25zKVxyXG4vLyBDcmVhdGVzIGEgR2VvSlNPTiBsYXllci4gT3B0aW9uYWxseSBhY2NlcHRzIGFuIG9iamVjdCBpblxyXG4vLyBbR2VvSlNPTiBmb3JtYXRdKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3OTQ2KSB0byBkaXNwbGF5IG9uIHRoZSBtYXBcclxuLy8gKHlvdSBjYW4gYWx0ZXJuYXRpdmVseSBhZGQgaXQgbGF0ZXIgd2l0aCBgYWRkRGF0YWAgbWV0aG9kKSBhbmQgYW4gYG9wdGlvbnNgIG9iamVjdC5cclxuZXhwb3J0IGZ1bmN0aW9uIGdlb0pTT04oZ2VvanNvbiwgb3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgR2VvSlNPTihnZW9qc29uLCBvcHRpb25zKTtcclxufVxyXG5cclxuLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eS5cclxuZXhwb3J0IHZhciBnZW9Kc29uID0gZ2VvSlNPTjtcclxuIiwgImltcG9ydCB7TGF5ZXJ9IGZyb20gJy4vTGF5ZXInO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7dG9MYXRMbmdCb3VuZHN9IGZyb20gJy4uL2dlby9MYXRMbmdCb3VuZHMnO1xyXG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vZ2VvbWV0cnkvQm91bmRzJztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi9kb20vRG9tVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgSW1hZ2VPdmVybGF5XHJcbiAqIEBha2EgTC5JbWFnZU92ZXJsYXlcclxuICogQGluaGVyaXRzIEludGVyYWN0aXZlIGxheWVyXHJcbiAqXHJcbiAqIFVzZWQgdG8gbG9hZCBhbmQgZGlzcGxheSBhIHNpbmdsZSBpbWFnZSBvdmVyIHNwZWNpZmljIGJvdW5kcyBvZiB0aGUgbWFwLiBFeHRlbmRzIGBMYXllcmAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciBpbWFnZVVybCA9ICdodHRwczovL21hcHMubGliLnV0ZXhhcy5lZHUvbWFwcy9oaXN0b3JpY2FsL25ld2Fya19ual8xOTIyLmpwZycsXHJcbiAqIFx0aW1hZ2VCb3VuZHMgPSBbWzQwLjcxMjIxNiwgLTc0LjIyNjU1XSwgWzQwLjc3Mzk0MSwgLTc0LjEyNTQ0XV07XHJcbiAqIEwuaW1hZ2VPdmVybGF5KGltYWdlVXJsLCBpbWFnZUJvdW5kcykuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBJbWFnZU92ZXJsYXkgPSBMYXllci5leHRlbmQoe1xyXG5cclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgSW1hZ2VPdmVybGF5IG9wdGlvbnNcclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIG9wYWNpdHk6IE51bWJlciA9IDEuMFxyXG5cdFx0Ly8gVGhlIG9wYWNpdHkgb2YgdGhlIGltYWdlIG92ZXJsYXkuXHJcblx0XHRvcGFjaXR5OiAxLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYWx0OiBTdHJpbmcgPSAnJ1xyXG5cdFx0Ly8gVGV4dCBmb3IgdGhlIGBhbHRgIGF0dHJpYnV0ZSBvZiB0aGUgaW1hZ2UgKHVzZWZ1bCBmb3IgYWNjZXNzaWJpbGl0eSkuXHJcblx0XHRhbHQ6ICcnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gaW50ZXJhY3RpdmU6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gSWYgYHRydWVgLCB0aGUgaW1hZ2Ugb3ZlcmxheSB3aWxsIGVtaXQgW21vdXNlIGV2ZW50c10oI2ludGVyYWN0aXZlLWxheWVyKSB3aGVuIGNsaWNrZWQgb3IgaG92ZXJlZC5cclxuXHRcdGludGVyYWN0aXZlOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNyb3NzT3JpZ2luOiBCb29sZWFufFN0cmluZyA9IGZhbHNlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSBjcm9zc09yaWdpbiBhdHRyaWJ1dGUgd2lsbCBiZSBhZGRlZCB0byB0aGUgaW1hZ2UuXHJcblx0XHQvLyBJZiBhIFN0cmluZyBpcyBwcm92aWRlZCwgdGhlIGltYWdlIHdpbGwgaGF2ZSBpdHMgY3Jvc3NPcmlnaW4gYXR0cmlidXRlIHNldCB0byB0aGUgU3RyaW5nIHByb3ZpZGVkLiBUaGlzIGlzIG5lZWRlZCBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgaW1hZ2UgcGl4ZWwgZGF0YS5cclxuXHRcdC8vIFJlZmVyIHRvIFtDT1JTIFNldHRpbmdzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfc2V0dGluZ3NfYXR0cmlidXRlcykgZm9yIHZhbGlkIFN0cmluZyB2YWx1ZXMuXHJcblx0XHRjcm9zc09yaWdpbjogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBlcnJvck92ZXJsYXlVcmw6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBVUkwgdG8gdGhlIG92ZXJsYXkgaW1hZ2UgdG8gc2hvdyBpbiBwbGFjZSBvZiB0aGUgb3ZlcmxheSB0aGF0IGZhaWxlZCB0byBsb2FkLlxyXG5cdFx0ZXJyb3JPdmVybGF5VXJsOiAnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpJbmRleDogTnVtYmVyID0gMVxyXG5cdFx0Ly8gVGhlIGV4cGxpY2l0IFt6SW5kZXhdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0NTUy9DU1NfUG9zaXRpb25pbmcvVW5kZXJzdGFuZGluZ196X2luZGV4KSBvZiB0aGUgb3ZlcmxheSBsYXllci5cclxuXHRcdHpJbmRleDogMSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNsYXNzTmFtZTogU3RyaW5nID0gJydcclxuXHRcdC8vIEEgY3VzdG9tIGNsYXNzIG5hbWUgdG8gYXNzaWduIHRvIHRoZSBpbWFnZS4gRW1wdHkgYnkgZGVmYXVsdC5cclxuXHRcdGNsYXNzTmFtZTogJydcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAodXJsLCBib3VuZHMsIG9wdGlvbnMpIHsgLy8gKFN0cmluZywgTGF0TG5nQm91bmRzLCBPYmplY3QpXHJcblx0XHR0aGlzLl91cmwgPSB1cmw7XHJcblx0XHR0aGlzLl9ib3VuZHMgPSB0b0xhdExuZ0JvdW5kcyhib3VuZHMpO1xyXG5cclxuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9pbWFnZSkge1xyXG5cdFx0XHR0aGlzLl9pbml0SW1hZ2UoKTtcclxuXHJcblx0XHRcdGlmICh0aGlzLm9wdGlvbnMub3BhY2l0eSA8IDEpIHtcclxuXHRcdFx0XHR0aGlzLl91cGRhdGVPcGFjaXR5KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmludGVyYWN0aXZlKSB7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5faW1hZ2UsICdsZWFmbGV0LWludGVyYWN0aXZlJyk7XHJcblx0XHRcdHRoaXMuYWRkSW50ZXJhY3RpdmVUYXJnZXQodGhpcy5faW1hZ2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZ2V0UGFuZSgpLmFwcGVuZENoaWxkKHRoaXMuX2ltYWdlKTtcclxuXHRcdHRoaXMuX3Jlc2V0KCk7XHJcblx0fSxcclxuXHJcblx0b25SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2ltYWdlKTtcclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcclxuXHRcdFx0dGhpcy5yZW1vdmVJbnRlcmFjdGl2ZVRhcmdldCh0aGlzLl9pbWFnZSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRPcGFjaXR5KG9wYWNpdHk6IE51bWJlcik6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBvcGFjaXR5IG9mIHRoZSBvdmVybGF5LlxyXG5cdHNldE9wYWNpdHk6IGZ1bmN0aW9uIChvcGFjaXR5KSB7XHJcblx0XHR0aGlzLm9wdGlvbnMub3BhY2l0eSA9IG9wYWNpdHk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2ltYWdlKSB7XHJcblx0XHRcdHRoaXMuX3VwZGF0ZU9wYWNpdHkoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdHNldFN0eWxlOiBmdW5jdGlvbiAoc3R5bGVPcHRzKSB7XHJcblx0XHRpZiAoc3R5bGVPcHRzLm9wYWNpdHkpIHtcclxuXHRcdFx0dGhpcy5zZXRPcGFjaXR5KHN0eWxlT3B0cy5vcGFjaXR5KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYnJpbmdUb0Zyb250KCk6IHRoaXNcclxuXHQvLyBCcmluZ3MgdGhlIGxheWVyIHRvIHRoZSB0b3Agb2YgYWxsIG92ZXJsYXlzLlxyXG5cdGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHREb21VdGlsLnRvRnJvbnQodGhpcy5faW1hZ2UpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBicmluZ1RvQmFjaygpOiB0aGlzXHJcblx0Ly8gQnJpbmdzIHRoZSBsYXllciB0byB0aGUgYm90dG9tIG9mIGFsbCBvdmVybGF5cy5cclxuXHRicmluZ1RvQmFjazogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHREb21VdGlsLnRvQmFjayh0aGlzLl9pbWFnZSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFVybCh1cmw6IFN0cmluZyk6IHRoaXNcclxuXHQvLyBDaGFuZ2VzIHRoZSBVUkwgb2YgdGhlIGltYWdlLlxyXG5cdHNldFVybDogZnVuY3Rpb24gKHVybCkge1xyXG5cdFx0dGhpcy5fdXJsID0gdXJsO1xyXG5cclxuXHRcdGlmICh0aGlzLl9pbWFnZSkge1xyXG5cdFx0XHR0aGlzLl9pbWFnZS5zcmMgPSB1cmw7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldEJvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcyk6IHRoaXNcclxuXHQvLyBVcGRhdGUgdGhlIGJvdW5kcyB0aGF0IHRoaXMgSW1hZ2VPdmVybGF5IGNvdmVyc1xyXG5cdHNldEJvdW5kczogZnVuY3Rpb24gKGJvdW5kcykge1xyXG5cdFx0dGhpcy5fYm91bmRzID0gdG9MYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdHRoaXMuX3Jlc2V0KCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBldmVudHMgPSB7XHJcblx0XHRcdHpvb206IHRoaXMuX3Jlc2V0LFxyXG5cdFx0XHR2aWV3cmVzZXQ6IHRoaXMuX3Jlc2V0XHJcblx0XHR9O1xyXG5cclxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcclxuXHRcdFx0ZXZlbnRzLnpvb21hbmltID0gdGhpcy5fYW5pbWF0ZVpvb207XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGV2ZW50cztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFpJbmRleCh2YWx1ZTogTnVtYmVyKTogdGhpc1xyXG5cdC8vIENoYW5nZXMgdGhlIFt6SW5kZXhdKCNpbWFnZW92ZXJsYXktemluZGV4KSBvZiB0aGUgaW1hZ2Ugb3ZlcmxheS5cclxuXHRzZXRaSW5kZXg6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0dGhpcy5vcHRpb25zLnpJbmRleCA9IHZhbHVlO1xyXG5cdFx0dGhpcy5fdXBkYXRlWkluZGV4KCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEJvdW5kcygpOiBMYXRMbmdCb3VuZHNcclxuXHQvLyBHZXQgdGhlIGJvdW5kcyB0aGF0IHRoaXMgSW1hZ2VPdmVybGF5IGNvdmVyc1xyXG5cdGdldEJvdW5kczogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2JvdW5kcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEVsZW1lbnQoKTogSFRNTEVsZW1lbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBpbnN0YW5jZSBvZiBbYEhUTUxJbWFnZUVsZW1lbnRgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvSFRNTEltYWdlRWxlbWVudClcclxuXHQvLyB1c2VkIGJ5IHRoaXMgb3ZlcmxheS5cclxuXHRnZXRFbGVtZW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5faW1hZ2U7XHJcblx0fSxcclxuXHJcblx0X2luaXRJbWFnZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHdhc0VsZW1lbnRTdXBwbGllZCA9IHRoaXMuX3VybC50YWdOYW1lID09PSAnSU1HJztcclxuXHRcdHZhciBpbWcgPSB0aGlzLl9pbWFnZSA9IHdhc0VsZW1lbnRTdXBwbGllZCA/IHRoaXMuX3VybCA6IERvbVV0aWwuY3JlYXRlKCdpbWcnKTtcclxuXHJcblx0XHREb21VdGlsLmFkZENsYXNzKGltZywgJ2xlYWZsZXQtaW1hZ2UtbGF5ZXInKTtcclxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHsgRG9tVXRpbC5hZGRDbGFzcyhpbWcsICdsZWFmbGV0LXpvb20tYW5pbWF0ZWQnKTsgfVxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUpIHsgRG9tVXRpbC5hZGRDbGFzcyhpbWcsIHRoaXMub3B0aW9ucy5jbGFzc05hbWUpOyB9XHJcblxyXG5cdFx0aW1nLm9uc2VsZWN0c3RhcnQgPSBVdGlsLmZhbHNlRm47XHJcblx0XHRpbWcub25tb3VzZW1vdmUgPSBVdGlsLmZhbHNlRm47XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGxvYWQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBJbWFnZU92ZXJsYXkgbGF5ZXIgaGFzIGxvYWRlZCBpdHMgaW1hZ2VcclxuXHRcdGltZy5vbmxvYWQgPSBVdGlsLmJpbmQodGhpcy5maXJlLCB0aGlzLCAnbG9hZCcpO1xyXG5cdFx0aW1nLm9uZXJyb3IgPSBVdGlsLmJpbmQodGhpcy5fb3ZlcmxheU9uRXJyb3IsIHRoaXMsICdlcnJvcicpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4gfHwgdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSAnJykge1xyXG5cdFx0XHRpbWcuY3Jvc3NPcmlnaW4gPSB0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09IHRydWUgPyAnJyA6IHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLnpJbmRleCkge1xyXG5cdFx0XHR0aGlzLl91cGRhdGVaSW5kZXgoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAod2FzRWxlbWVudFN1cHBsaWVkKSB7XHJcblx0XHRcdHRoaXMuX3VybCA9IGltZy5zcmM7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpbWcuc3JjID0gdGhpcy5fdXJsO1xyXG5cdFx0aW1nLmFsdCA9IHRoaXMub3B0aW9ucy5hbHQ7XHJcblx0fSxcclxuXHJcblx0X2FuaW1hdGVab29tOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0dmFyIHNjYWxlID0gdGhpcy5fbWFwLmdldFpvb21TY2FsZShlLnpvb20pLFxyXG5cdFx0ICAgIG9mZnNldCA9IHRoaXMuX21hcC5fbGF0TG5nQm91bmRzVG9OZXdMYXllckJvdW5kcyh0aGlzLl9ib3VuZHMsIGUuem9vbSwgZS5jZW50ZXIpLm1pbjtcclxuXHJcblx0XHREb21VdGlsLnNldFRyYW5zZm9ybSh0aGlzLl9pbWFnZSwgb2Zmc2V0LCBzY2FsZSk7XHJcblx0fSxcclxuXHJcblx0X3Jlc2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgaW1hZ2UgPSB0aGlzLl9pbWFnZSxcclxuXHRcdCAgICBib3VuZHMgPSBuZXcgQm91bmRzKFxyXG5cdFx0ICAgICAgICB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2JvdW5kcy5nZXROb3J0aFdlc3QoKSksXHJcblx0XHQgICAgICAgIHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fYm91bmRzLmdldFNvdXRoRWFzdCgpKSksXHJcblx0XHQgICAgc2l6ZSA9IGJvdW5kcy5nZXRTaXplKCk7XHJcblxyXG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbihpbWFnZSwgYm91bmRzLm1pbik7XHJcblxyXG5cdFx0aW1hZ2Uuc3R5bGUud2lkdGggID0gc2l6ZS54ICsgJ3B4JztcclxuXHRcdGltYWdlLnN0eWxlLmhlaWdodCA9IHNpemUueSArICdweCc7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZU9wYWNpdHk6IGZ1bmN0aW9uICgpIHtcclxuXHRcdERvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9pbWFnZSwgdGhpcy5vcHRpb25zLm9wYWNpdHkpO1xyXG5cdH0sXHJcblxyXG5cdF91cGRhdGVaSW5kZXg6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9pbWFnZSAmJiB0aGlzLm9wdGlvbnMuekluZGV4ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5vcHRpb25zLnpJbmRleCAhPT0gbnVsbCkge1xyXG5cdFx0XHR0aGlzLl9pbWFnZS5zdHlsZS56SW5kZXggPSB0aGlzLm9wdGlvbnMuekluZGV4O1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9vdmVybGF5T25FcnJvcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0Ly8gQGV2ZW50IGVycm9yOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgSW1hZ2VPdmVybGF5IGxheWVyIGZhaWxzIHRvIGxvYWQgaXRzIGltYWdlXHJcblx0XHR0aGlzLmZpcmUoJ2Vycm9yJyk7XHJcblxyXG5cdFx0dmFyIGVycm9yVXJsID0gdGhpcy5vcHRpb25zLmVycm9yT3ZlcmxheVVybDtcclxuXHRcdGlmIChlcnJvclVybCAmJiB0aGlzLl91cmwgIT09IGVycm9yVXJsKSB7XHJcblx0XHRcdHRoaXMuX3VybCA9IGVycm9yVXJsO1xyXG5cdFx0XHR0aGlzLl9pbWFnZS5zcmMgPSBlcnJvclVybDtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENlbnRlcigpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBjZW50ZXIgb2YgdGhlIEltYWdlT3ZlcmxheS5cclxuXHRnZXRDZW50ZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0Q2VudGVyKCk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBmYWN0b3J5IEwuaW1hZ2VPdmVybGF5KGltYWdlVXJsOiBTdHJpbmcsIGJvdW5kczogTGF0TG5nQm91bmRzLCBvcHRpb25zPzogSW1hZ2VPdmVybGF5IG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhbiBpbWFnZSBvdmVybGF5IG9iamVjdCBnaXZlbiB0aGUgVVJMIG9mIHRoZSBpbWFnZSBhbmQgdGhlXHJcbi8vIGdlb2dyYXBoaWNhbCBib3VuZHMgaXQgaXMgdGllZCB0by5cclxuZXhwb3J0IHZhciBpbWFnZU92ZXJsYXkgPSBmdW5jdGlvbiAodXJsLCBib3VuZHMsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IEltYWdlT3ZlcmxheSh1cmwsIGJvdW5kcywgb3B0aW9ucyk7XHJcbn07XHJcbiIsICJpbXBvcnQge0ltYWdlT3ZlcmxheX0gZnJvbSAnLi9JbWFnZU92ZXJsYXknO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5cclxuLypcclxuICogQGNsYXNzIFZpZGVvT3ZlcmxheVxyXG4gKiBAYWthIEwuVmlkZW9PdmVybGF5XHJcbiAqIEBpbmhlcml0cyBJbWFnZU92ZXJsYXlcclxuICpcclxuICogVXNlZCB0byBsb2FkIGFuZCBkaXNwbGF5IGEgdmlkZW8gcGxheWVyIG92ZXIgc3BlY2lmaWMgYm91bmRzIG9mIHRoZSBtYXAuIEV4dGVuZHMgYEltYWdlT3ZlcmxheWAuXHJcbiAqXHJcbiAqIEEgdmlkZW8gb3ZlcmxheSB1c2VzIHRoZSBbYDx2aWRlbz5gXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvdmlkZW8pXHJcbiAqIEhUTUw1IGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciB2aWRlb1VybCA9ICdodHRwczovL3d3dy5tYXBib3guY29tL2JpdGVzLzAwMTg4L3BhdHJpY2lhX25hc2Eud2VibScsXHJcbiAqIFx0dmlkZW9Cb3VuZHMgPSBbWyAzMiwgLTEzMF0sIFsgMTMsIC0xMDBdXTtcclxuICogTC52aWRlb092ZXJsYXkodmlkZW9VcmwsIHZpZGVvQm91bmRzICkuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBWaWRlb092ZXJsYXkgPSBJbWFnZU92ZXJsYXkuZXh0ZW5kKHtcclxuXHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIFZpZGVvT3ZlcmxheSBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBhdXRvcGxheTogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZXRoZXIgdGhlIHZpZGVvIHN0YXJ0cyBwbGF5aW5nIGF1dG9tYXRpY2FsbHkgd2hlbiBsb2FkZWQuXHJcblx0XHQvLyBPbiBzb21lIGJyb3dzZXJzIGF1dG9wbGF5IHdpbGwgb25seSB3b3JrIHdpdGggYG11dGVkOiB0cnVlYFxyXG5cdFx0YXV0b3BsYXk6IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBsb29wOiBCb29sZWFuID0gdHJ1ZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgdmlkZW8gd2lsbCBsb29wIGJhY2sgdG8gdGhlIGJlZ2lubmluZyB3aGVuIHBsYXllZC5cclxuXHRcdGxvb3A6IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBrZWVwQXNwZWN0UmF0aW86IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSB2aWRlbyB3aWxsIHNhdmUgYXNwZWN0IHJhdGlvIGFmdGVyIHRoZSBwcm9qZWN0aW9uLlxyXG5cdFx0Ly8gUmVsZXZhbnQgZm9yIHN1cHBvcnRlZCBicm93c2Vycy4gU2VlIFticm93c2VyIGNvbXBhdGliaWxpdHldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9vYmplY3QtZml0KVxyXG5cdFx0a2VlcEFzcGVjdFJhdGlvOiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbXV0ZWQ6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgdmlkZW8gc3RhcnRzIG9uIG11dGUgd2hlbiBsb2FkZWQuXHJcblx0XHRtdXRlZDogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBwbGF5c0lubGluZTogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIE1vYmlsZSBicm93c2VycyB3aWxsIHBsYXkgdGhlIHZpZGVvIHJpZ2h0IHdoZXJlIGl0IGlzIGluc3RlYWQgb2Ygb3BlbiBpdCB1cCBpbiBmdWxsc2NyZWVuIG1vZGUuXHJcblx0XHRwbGF5c0lubGluZTogdHJ1ZVxyXG5cdH0sXHJcblxyXG5cdF9pbml0SW1hZ2U6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciB3YXNFbGVtZW50U3VwcGxpZWQgPSB0aGlzLl91cmwudGFnTmFtZSA9PT0gJ1ZJREVPJztcclxuXHRcdHZhciB2aWQgPSB0aGlzLl9pbWFnZSA9IHdhc0VsZW1lbnRTdXBwbGllZCA/IHRoaXMuX3VybCA6IERvbVV0aWwuY3JlYXRlKCd2aWRlbycpO1xyXG5cclxuXHRcdERvbVV0aWwuYWRkQ2xhc3ModmlkLCAnbGVhZmxldC1pbWFnZS1sYXllcicpO1xyXG5cdFx0aWYgKHRoaXMuX3pvb21BbmltYXRlZCkgeyBEb21VdGlsLmFkZENsYXNzKHZpZCwgJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcpOyB9XHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSkgeyBEb21VdGlsLmFkZENsYXNzKHZpZCwgdGhpcy5vcHRpb25zLmNsYXNzTmFtZSk7IH1cclxuXHJcblx0XHR2aWQub25zZWxlY3RzdGFydCA9IFV0aWwuZmFsc2VGbjtcclxuXHRcdHZpZC5vbm1vdXNlbW92ZSA9IFV0aWwuZmFsc2VGbjtcclxuXHJcblx0XHQvLyBAZXZlbnQgbG9hZDogRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHZpZGVvIGhhcyBmaW5pc2hlZCBsb2FkaW5nIHRoZSBmaXJzdCBmcmFtZVxyXG5cdFx0dmlkLm9ubG9hZGVkZGF0YSA9IFV0aWwuYmluZCh0aGlzLmZpcmUsIHRoaXMsICdsb2FkJyk7XHJcblxyXG5cdFx0aWYgKHdhc0VsZW1lbnRTdXBwbGllZCkge1xyXG5cdFx0XHR2YXIgc291cmNlRWxlbWVudHMgPSB2aWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NvdXJjZScpO1xyXG5cdFx0XHR2YXIgc291cmNlcyA9IFtdO1xyXG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHNvdXJjZUVsZW1lbnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0c291cmNlcy5wdXNoKHNvdXJjZUVsZW1lbnRzW2pdLnNyYyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuX3VybCA9IChzb3VyY2VFbGVtZW50cy5sZW5ndGggPiAwKSA/IHNvdXJjZXMgOiBbdmlkLnNyY107XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIVV0aWwuaXNBcnJheSh0aGlzLl91cmwpKSB7IHRoaXMuX3VybCA9IFt0aGlzLl91cmxdOyB9XHJcblxyXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMua2VlcEFzcGVjdFJhdGlvICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2aWQuc3R5bGUsICdvYmplY3RGaXQnKSkge1xyXG5cdFx0XHR2aWQuc3R5bGVbJ29iamVjdEZpdCddID0gJ2ZpbGwnO1xyXG5cdFx0fVxyXG5cdFx0dmlkLmF1dG9wbGF5ID0gISF0aGlzLm9wdGlvbnMuYXV0b3BsYXk7XHJcblx0XHR2aWQubG9vcCA9ICEhdGhpcy5vcHRpb25zLmxvb3A7XHJcblx0XHR2aWQubXV0ZWQgPSAhIXRoaXMub3B0aW9ucy5tdXRlZDtcclxuXHRcdHZpZC5wbGF5c0lubGluZSA9ICEhdGhpcy5vcHRpb25zLnBsYXlzSW5saW5lO1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl91cmwubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIHNvdXJjZSA9IERvbVV0aWwuY3JlYXRlKCdzb3VyY2UnKTtcclxuXHRcdFx0c291cmNlLnNyYyA9IHRoaXMuX3VybFtpXTtcclxuXHRcdFx0dmlkLmFwcGVuZENoaWxkKHNvdXJjZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEVsZW1lbnQoKTogSFRNTFZpZGVvRWxlbWVudFxyXG5cdC8vIFJldHVybnMgdGhlIGluc3RhbmNlIG9mIFtgSFRNTFZpZGVvRWxlbWVudGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9IVE1MVmlkZW9FbGVtZW50KVxyXG5cdC8vIHVzZWQgYnkgdGhpcyBvdmVybGF5LlxyXG59KTtcclxuXHJcblxyXG4vLyBAZmFjdG9yeSBMLnZpZGVvT3ZlcmxheSh2aWRlbzogU3RyaW5nfEFycmF5fEhUTUxWaWRlb0VsZW1lbnQsIGJvdW5kczogTGF0TG5nQm91bmRzLCBvcHRpb25zPzogVmlkZW9PdmVybGF5IG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhbiBpbWFnZSBvdmVybGF5IG9iamVjdCBnaXZlbiB0aGUgVVJMIG9mIHRoZSB2aWRlbyAob3IgYXJyYXkgb2YgVVJMcywgb3IgZXZlbiBhIHZpZGVvIGVsZW1lbnQpIGFuZCB0aGVcclxuLy8gZ2VvZ3JhcGhpY2FsIGJvdW5kcyBpdCBpcyB0aWVkIHRvLlxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZpZGVvT3ZlcmxheSh2aWRlbywgYm91bmRzLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBWaWRlb092ZXJsYXkodmlkZW8sIGJvdW5kcywgb3B0aW9ucyk7XHJcbn1cclxuIiwgImltcG9ydCB7SW1hZ2VPdmVybGF5fSBmcm9tICcuL0ltYWdlT3ZlcmxheSc7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcblxuLypcbiAqIEBjbGFzcyBTVkdPdmVybGF5XG4gKiBAYWthIEwuU1ZHT3ZlcmxheVxuICogQGluaGVyaXRzIEltYWdlT3ZlcmxheVxuICpcbiAqIFVzZWQgdG8gbG9hZCwgZGlzcGxheSBhbmQgcHJvdmlkZSBET00gYWNjZXNzIHRvIGFuIFNWRyBmaWxlIG92ZXIgc3BlY2lmaWMgYm91bmRzIG9mIHRoZSBtYXAuIEV4dGVuZHMgYEltYWdlT3ZlcmxheWAuXG4gKlxuICogQW4gU1ZHIG92ZXJsYXkgdXNlcyB0aGUgW2A8c3ZnPmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRy9FbGVtZW50L3N2ZykgZWxlbWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGpzXG4gKiB2YXIgc3ZnRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICogc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3htbG5zJywgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKTtcbiAqIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgXCIwIDAgMjAwIDIwMFwiKTtcbiAqIHN2Z0VsZW1lbnQuaW5uZXJIVE1MID0gJzxyZWN0IHdpZHRoPVwiMjAwXCIgaGVpZ2h0PVwiMjAwXCIvPjxyZWN0IHg9XCI3NVwiIHk9XCIyM1wiIHdpZHRoPVwiNTBcIiBoZWlnaHQ9XCI1MFwiIHN0eWxlPVwiZmlsbDpyZWRcIi8+PHJlY3QgeD1cIjc1XCIgeT1cIjEyM1wiIHdpZHRoPVwiNTBcIiBoZWlnaHQ9XCI1MFwiIHN0eWxlPVwiZmlsbDojMDAxM2ZmXCIvPic7XG4gKiB2YXIgc3ZnRWxlbWVudEJvdW5kcyA9IFsgWyAzMiwgLTEzMCBdLCBbIDEzLCAtMTAwIF0gXTtcbiAqIEwuc3ZnT3ZlcmxheShzdmdFbGVtZW50LCBzdmdFbGVtZW50Qm91bmRzKS5hZGRUbyhtYXApO1xuICogYGBgXG4gKi9cblxuZXhwb3J0IHZhciBTVkdPdmVybGF5ID0gSW1hZ2VPdmVybGF5LmV4dGVuZCh7XG5cdF9pbml0SW1hZ2U6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZWwgPSB0aGlzLl9pbWFnZSA9IHRoaXMuX3VybDtcblxuXHRcdERvbVV0aWwuYWRkQ2xhc3MoZWwsICdsZWFmbGV0LWltYWdlLWxheWVyJyk7XG5cdFx0aWYgKHRoaXMuX3pvb21BbmltYXRlZCkgeyBEb21VdGlsLmFkZENsYXNzKGVsLCAnbGVhZmxldC16b29tLWFuaW1hdGVkJyk7IH1cblx0XHRpZiAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSkgeyBEb21VdGlsLmFkZENsYXNzKGVsLCB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKTsgfVxuXG5cdFx0ZWwub25zZWxlY3RzdGFydCA9IFV0aWwuZmFsc2VGbjtcblx0XHRlbC5vbm1vdXNlbW92ZSA9IFV0aWwuZmFsc2VGbjtcblx0fVxuXG5cdC8vIEBtZXRob2QgZ2V0RWxlbWVudCgpOiBTVkdFbGVtZW50XG5cdC8vIFJldHVybnMgdGhlIGluc3RhbmNlIG9mIFtgU1ZHRWxlbWVudGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9TVkdFbGVtZW50KVxuXHQvLyB1c2VkIGJ5IHRoaXMgb3ZlcmxheS5cbn0pO1xuXG5cbi8vIEBmYWN0b3J5IEwuc3ZnT3ZlcmxheShzdmc6IFN0cmluZ3xTVkdFbGVtZW50LCBib3VuZHM6IExhdExuZ0JvdW5kcywgb3B0aW9ucz86IFNWR092ZXJsYXkgb3B0aW9ucylcbi8vIEluc3RhbnRpYXRlcyBhbiBpbWFnZSBvdmVybGF5IG9iamVjdCBnaXZlbiBhbiBTVkcgZWxlbWVudCBhbmQgdGhlIGdlb2dyYXBoaWNhbCBib3VuZHMgaXQgaXMgdGllZCB0by5cbi8vIEEgdmlld0JveCBhdHRyaWJ1dGUgaXMgcmVxdWlyZWQgb24gdGhlIFNWRyBlbGVtZW50IHRvIHpvb20gaW4gYW5kIG91dCBwcm9wZXJseS5cblxuZXhwb3J0IGZ1bmN0aW9uIHN2Z092ZXJsYXkoZWwsIGJvdW5kcywgb3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IFNWR092ZXJsYXkoZWwsIGJvdW5kcywgb3B0aW9ucyk7XG59XG4iLCAiaW1wb3J0IHtNYXB9IGZyb20gJy4uL21hcC9NYXAnO1xyXG5pbXBvcnQge0xheWVyfSBmcm9tICcuL0xheWVyJztcclxuaW1wb3J0IHtGZWF0dXJlR3JvdXB9IGZyb20gJy4vRmVhdHVyZUdyb3VwJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge3RvTGF0TG5nLCBMYXRMbmd9IGZyb20gJy4uL2dlby9MYXRMbmcnO1xyXG5pbXBvcnQge3RvUG9pbnR9IGZyb20gJy4uL2dlb21ldHJ5L1BvaW50JztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi9kb20vRG9tVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgRGl2T3ZlcmxheVxyXG4gKiBAaW5oZXJpdHMgSW50ZXJhY3RpdmUgbGF5ZXJcclxuICogQGFrYSBMLkRpdk92ZXJsYXlcclxuICogQmFzZSBtb2RlbCBmb3IgTC5Qb3B1cCBhbmQgTC5Ub29sdGlwLiBJbmhlcml0IGZyb20gaXQgZm9yIGN1c3RvbSBvdmVybGF5cyBsaWtlIHBsdWdpbnMuXHJcbiAqL1xyXG5cclxuLy8gQG5hbWVzcGFjZSBEaXZPdmVybGF5XHJcbmV4cG9ydCB2YXIgRGl2T3ZlcmxheSA9IExheWVyLmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBEaXZPdmVybGF5IG9wdGlvbnNcclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIGludGVyYWN0aXZlOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIHRydWUsIHRoZSBwb3B1cC90b29sdGlwIHdpbGwgbGlzdGVuIHRvIHRoZSBtb3VzZSBldmVudHMuXHJcblx0XHRpbnRlcmFjdGl2ZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBvZmZzZXQ6IFBvaW50ID0gUG9pbnQoMCwgMClcclxuXHRcdC8vIFRoZSBvZmZzZXQgb2YgdGhlIG92ZXJsYXkgcG9zaXRpb24uXHJcblx0XHRvZmZzZXQ6IFswLCAwXSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNsYXNzTmFtZTogU3RyaW5nID0gJydcclxuXHRcdC8vIEEgY3VzdG9tIENTUyBjbGFzcyBuYW1lIHRvIGFzc2lnbiB0byB0aGUgb3ZlcmxheS5cclxuXHRcdGNsYXNzTmFtZTogJycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBwYW5lOiBTdHJpbmcgPSB1bmRlZmluZWRcclxuXHRcdC8vIGBNYXAgcGFuZWAgd2hlcmUgdGhlIG92ZXJsYXkgd2lsbCBiZSBhZGRlZC5cclxuXHRcdHBhbmU6IHVuZGVmaW5lZCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudHxGdW5jdGlvbiA9ICcnXHJcblx0XHQvLyBTZXRzIHRoZSBIVE1MIGNvbnRlbnQgb2YgdGhlIG92ZXJsYXkgd2hpbGUgaW5pdGlhbGl6aW5nLiBJZiBhIGZ1bmN0aW9uIGlzIHBhc3NlZCB0aGUgc291cmNlIGxheWVyIHdpbGwgYmVcclxuXHRcdC8vIHBhc3NlZCB0byB0aGUgZnVuY3Rpb24uIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGEgYFN0cmluZ2Agb3IgYEhUTUxFbGVtZW50YCB0byBiZSB1c2VkIGluIHRoZSBvdmVybGF5LlxyXG5cdFx0Y29udGVudDogJydcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgc291cmNlKSB7XHJcblx0XHRpZiAob3B0aW9ucyAmJiAob3B0aW9ucyBpbnN0YW5jZW9mIExhdExuZyB8fCBVdGlsLmlzQXJyYXkob3B0aW9ucykpKSB7XHJcblx0XHRcdHRoaXMuX2xhdGxuZyA9IHRvTGF0TG5nKG9wdGlvbnMpO1xyXG5cdFx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgc291cmNlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHRcdFx0dGhpcy5fc291cmNlID0gc291cmNlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jb250ZW50KSB7XHJcblx0XHRcdHRoaXMuX2NvbnRlbnQgPSB0aGlzLm9wdGlvbnMuY29udGVudDtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG9wZW5PbihtYXA6IE1hcCk6IHRoaXNcclxuXHQvLyBBZGRzIHRoZSBvdmVybGF5IHRvIHRoZSBtYXAuXHJcblx0Ly8gQWx0ZXJuYXRpdmUgdG8gYG1hcC5vcGVuUG9wdXAocG9wdXApYC9gLm9wZW5Ub29sdGlwKHRvb2x0aXApYC5cclxuXHRvcGVuT246IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdG1hcCA9IGFyZ3VtZW50cy5sZW5ndGggPyBtYXAgOiB0aGlzLl9zb3VyY2UuX21hcDsgLy8gZXhwZXJpbWVudGFsLCBub3QgdGhlIHBhcnQgb2YgcHVibGljIGFwaVxyXG5cdFx0aWYgKCFtYXAuaGFzTGF5ZXIodGhpcykpIHtcclxuXHRcdFx0bWFwLmFkZExheWVyKHRoaXMpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjbG9zZSgpOiB0aGlzXHJcblx0Ly8gQ2xvc2VzIHRoZSBvdmVybGF5LlxyXG5cdC8vIEFsdGVybmF0aXZlIHRvIGBtYXAuY2xvc2VQb3B1cChwb3B1cClgL2AuY2xvc2VUb29sdGlwKHRvb2x0aXApYFxyXG5cdC8vIGFuZCBgbGF5ZXIuY2xvc2VQb3B1cCgpYC9gLmNsb3NlVG9vbHRpcCgpYC5cclxuXHRjbG9zZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcyk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHRvZ2dsZShsYXllcj86IExheWVyKTogdGhpc1xyXG5cdC8vIE9wZW5zIG9yIGNsb3NlcyB0aGUgb3ZlcmxheSBib3VuZCB0byBsYXllciBkZXBlbmRpbmcgb24gaXRzIGN1cnJlbnQgc3RhdGUuXHJcblx0Ly8gQXJndW1lbnQgbWF5IGJlIG9taXR0ZWQgb25seSBmb3Igb3ZlcmxheSBib3VuZCB0byBsYXllci5cclxuXHQvLyBBbHRlcm5hdGl2ZSB0byBgbGF5ZXIudG9nZ2xlUG9wdXAoKWAvYC50b2dnbGVUb29sdGlwKClgLlxyXG5cdHRvZ2dsZTogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcblx0XHRcdFx0dGhpcy5fc291cmNlID0gbGF5ZXI7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bGF5ZXIgPSB0aGlzLl9zb3VyY2U7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5fcHJlcGFyZU9wZW4oKTtcclxuXHJcblx0XHRcdC8vIG9wZW4gdGhlIG92ZXJsYXkgb24gdGhlIG1hcFxyXG5cdFx0XHR0aGlzLm9wZW5PbihsYXllci5fbWFwKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHR0aGlzLl96b29tQW5pbWF0ZWQgPSBtYXAuX3pvb21BbmltYXRlZDtcclxuXHJcblx0XHRpZiAoIXRoaXMuX2NvbnRhaW5lcikge1xyXG5cdFx0XHR0aGlzLl9pbml0TGF5b3V0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG1hcC5fZmFkZUFuaW1hdGVkKSB7XHJcblx0XHRcdERvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsIDApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNsZWFyVGltZW91dCh0aGlzLl9yZW1vdmVUaW1lb3V0KTtcclxuXHRcdHRoaXMuZ2V0UGFuZSgpLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHR0aGlzLnVwZGF0ZSgpO1xyXG5cclxuXHRcdGlmIChtYXAuX2ZhZGVBbmltYXRlZCkge1xyXG5cdFx0XHREb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLCAxKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmJyaW5nVG9Gcm9udCgpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcclxuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWludGVyYWN0aXZlJyk7XHJcblx0XHRcdHRoaXMuYWRkSW50ZXJhY3RpdmVUYXJnZXQodGhpcy5fY29udGFpbmVyKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0aWYgKG1hcC5fZmFkZUFuaW1hdGVkKSB7XHJcblx0XHRcdERvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsIDApO1xyXG5cdFx0XHR0aGlzLl9yZW1vdmVUaW1lb3V0ID0gc2V0VGltZW91dChVdGlsLmJpbmQoRG9tVXRpbC5yZW1vdmUsIHVuZGVmaW5lZCwgdGhpcy5fY29udGFpbmVyKSwgMjAwKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xyXG5cdFx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtaW50ZXJhY3RpdmUnKTtcclxuXHRcdFx0dGhpcy5yZW1vdmVJbnRlcmFjdGl2ZVRhcmdldCh0aGlzLl9jb250YWluZXIpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBuYW1lc3BhY2UgRGl2T3ZlcmxheVxyXG5cdC8vIEBtZXRob2QgZ2V0TGF0TG5nOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBnZW9ncmFwaGljYWwgcG9pbnQgb2YgdGhlIG92ZXJsYXkuXHJcblx0Z2V0TGF0TG5nOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fbGF0bG5nO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0TGF0TG5nKGxhdGxuZzogTGF0TG5nKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIGdlb2dyYXBoaWNhbCBwb2ludCB3aGVyZSB0aGUgb3ZlcmxheSB3aWxsIG9wZW4uXHJcblx0c2V0TGF0TG5nOiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHR0aGlzLl9sYXRsbmcgPSB0b0xhdExuZyhsYXRsbmcpO1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xyXG5cdFx0XHR0aGlzLl9hZGp1c3RQYW4oKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Q29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50XHJcblx0Ly8gUmV0dXJucyB0aGUgY29udGVudCBvZiB0aGUgb3ZlcmxheS5cclxuXHRnZXRDb250ZW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY29udGVudDtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldENvbnRlbnQoaHRtbENvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudHxGdW5jdGlvbik6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBIVE1MIGNvbnRlbnQgb2YgdGhlIG92ZXJsYXkuIElmIGEgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBzb3VyY2UgbGF5ZXIgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uLlxyXG5cdC8vIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGEgYFN0cmluZ2Agb3IgYEhUTUxFbGVtZW50YCB0byBiZSB1c2VkIGluIHRoZSBvdmVybGF5LlxyXG5cdHNldENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcblx0XHR0aGlzLl9jb250ZW50ID0gY29udGVudDtcclxuXHRcdHRoaXMudXBkYXRlKCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEVsZW1lbnQ6IFN0cmluZ3xIVE1MRWxlbWVudFxyXG5cdC8vIFJldHVybnMgdGhlIEhUTUwgY29udGFpbmVyIG9mIHRoZSBvdmVybGF5LlxyXG5cdGdldEVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB1cGRhdGU6IG51bGxcclxuXHQvLyBVcGRhdGVzIHRoZSBvdmVybGF5IGNvbnRlbnQsIGxheW91dCBhbmQgcG9zaXRpb24uIFVzZWZ1bCBmb3IgdXBkYXRpbmcgdGhlIG92ZXJsYXkgYWZ0ZXIgc29tZXRoaW5nIGluc2lkZSBjaGFuZ2VkLCBlLmcuIGltYWdlIGxvYWRlZC5cclxuXHR1cGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fbWFwKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcblxyXG5cdFx0dGhpcy5fdXBkYXRlQ29udGVudCgpO1xyXG5cdFx0dGhpcy5fdXBkYXRlTGF5b3V0KCk7XHJcblx0XHR0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xyXG5cclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XHJcblxyXG5cdFx0dGhpcy5fYWRqdXN0UGFuKCk7XHJcblx0fSxcclxuXHJcblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZXZlbnRzID0ge1xyXG5cdFx0XHR6b29tOiB0aGlzLl91cGRhdGVQb3NpdGlvbixcclxuXHRcdFx0dmlld3Jlc2V0OiB0aGlzLl91cGRhdGVQb3NpdGlvblxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XHJcblx0XHRcdGV2ZW50cy56b29tYW5pbSA9IHRoaXMuX2FuaW1hdGVab29tO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGV2ZW50cztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGlzT3BlbjogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIHdoZW4gdGhlIG92ZXJsYXkgaXMgdmlzaWJsZSBvbiB0aGUgbWFwLlxyXG5cdGlzT3BlbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICEhdGhpcy5fbWFwICYmIHRoaXMuX21hcC5oYXNMYXllcih0aGlzKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGJyaW5nVG9Gcm9udDogdGhpc1xyXG5cdC8vIEJyaW5ncyB0aGlzIG92ZXJsYXkgaW4gZnJvbnQgb2Ygb3RoZXIgb3ZlcmxheXMgKGluIHRoZSBzYW1lIG1hcCBwYW5lKS5cclxuXHRicmluZ1RvRnJvbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0RG9tVXRpbC50b0Zyb250KHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGJyaW5nVG9CYWNrOiB0aGlzXHJcblx0Ly8gQnJpbmdzIHRoaXMgb3ZlcmxheSB0byB0aGUgYmFjayBvZiBvdGhlciBvdmVybGF5cyAoaW4gdGhlIHNhbWUgbWFwIHBhbmUpLlxyXG5cdGJyaW5nVG9CYWNrOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdERvbVV0aWwudG9CYWNrKHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBwcmVwYXJlIGJvdW5kIG92ZXJsYXkgdG8gb3BlbjogdXBkYXRlIGxhdGxuZyBwb3MgLyBjb250ZW50IHNvdXJjZSAoZm9yIEZlYXR1cmVHcm91cClcclxuXHRfcHJlcGFyZU9wZW46IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHZhciBzb3VyY2UgPSB0aGlzLl9zb3VyY2U7XHJcblx0XHRpZiAoIXNvdXJjZS5fbWFwKSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuXHRcdGlmIChzb3VyY2UgaW5zdGFuY2VvZiBGZWF0dXJlR3JvdXApIHtcclxuXHRcdFx0c291cmNlID0gbnVsbDtcclxuXHRcdFx0dmFyIGxheWVycyA9IHRoaXMuX3NvdXJjZS5fbGF5ZXJzO1xyXG5cdFx0XHRmb3IgKHZhciBpZCBpbiBsYXllcnMpIHtcclxuXHRcdFx0XHRpZiAobGF5ZXJzW2lkXS5fbWFwKSB7XHJcblx0XHRcdFx0XHRzb3VyY2UgPSBsYXllcnNbaWRdO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghc291cmNlKSB7IHJldHVybiBmYWxzZTsgfSAvLyBVbmFibGUgdG8gZ2V0IHNvdXJjZSBsYXllci5cclxuXHJcblx0XHRcdC8vIHNldCBvdmVybGF5IHNvdXJjZSB0byB0aGlzIGxheWVyXHJcblx0XHRcdHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWxhdGxuZykge1xyXG5cdFx0XHRpZiAoc291cmNlLmdldENlbnRlcikge1xyXG5cdFx0XHRcdGxhdGxuZyA9IHNvdXJjZS5nZXRDZW50ZXIoKTtcclxuXHRcdFx0fSBlbHNlIGlmIChzb3VyY2UuZ2V0TGF0TG5nKSB7XHJcblx0XHRcdFx0bGF0bG5nID0gc291cmNlLmdldExhdExuZygpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHNvdXJjZS5nZXRCb3VuZHMpIHtcclxuXHRcdFx0XHRsYXRsbmcgPSBzb3VyY2UuZ2V0Qm91bmRzKCkuZ2V0Q2VudGVyKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZ2V0IHNvdXJjZSBsYXllciBMYXRMbmcuJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMuc2V0TGF0TG5nKGxhdGxuZyk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHQvLyB1cGRhdGUgdGhlIG92ZXJsYXkgKGNvbnRlbnQsIGxheW91dCwgZXRjLi4uKVxyXG5cdFx0XHR0aGlzLnVwZGF0ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0sXHJcblxyXG5cdF91cGRhdGVDb250ZW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX2NvbnRlbnQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0dmFyIG5vZGUgPSB0aGlzLl9jb250ZW50Tm9kZTtcclxuXHRcdHZhciBjb250ZW50ID0gKHR5cGVvZiB0aGlzLl9jb250ZW50ID09PSAnZnVuY3Rpb24nKSA/IHRoaXMuX2NvbnRlbnQodGhpcy5fc291cmNlIHx8IHRoaXMpIDogdGhpcy5fY29udGVudDtcclxuXHJcblx0XHRpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdG5vZGUuaW5uZXJIVE1MID0gY29udGVudDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdoaWxlIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xyXG5cdFx0XHRcdG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5maXJzdENoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRub2RlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBuYW1lc3BhY2UgRGl2T3ZlcmxheVxyXG5cdFx0Ly8gQHNlY3Rpb24gRGl2T3ZlcmxheSBldmVudHNcclxuXHRcdC8vIEBldmVudCBjb250ZW50dXBkYXRlOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgY29udGVudCBvZiB0aGUgb3ZlcmxheSBpcyB1cGRhdGVkXHJcblx0XHR0aGlzLmZpcmUoJ2NvbnRlbnR1cGRhdGUnKTtcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fbWFwKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHZhciBwb3MgPSB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZyksXHJcblx0XHQgICAgb2Zmc2V0ID0gdG9Qb2ludCh0aGlzLm9wdGlvbnMub2Zmc2V0KSxcclxuXHRcdCAgICBhbmNob3IgPSB0aGlzLl9nZXRBbmNob3IoKTtcclxuXHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XHJcblx0XHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyLCBwb3MuYWRkKGFuY2hvcikpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b2Zmc2V0ID0gb2Zmc2V0LmFkZChwb3MpLmFkZChhbmNob3IpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBib3R0b20gPSB0aGlzLl9jb250YWluZXJCb3R0b20gPSAtb2Zmc2V0LnksXHJcblx0XHQgICAgbGVmdCA9IHRoaXMuX2NvbnRhaW5lckxlZnQgPSAtTWF0aC5yb3VuZCh0aGlzLl9jb250YWluZXJXaWR0aCAvIDIpICsgb2Zmc2V0Lng7XHJcblxyXG5cdFx0Ly8gYm90dG9tIHBvc2l0aW9uIHRoZSBvdmVybGF5IGluIGNhc2UgdGhlIGhlaWdodCBvZiB0aGUgb3ZlcmxheSBjaGFuZ2VzIChpbWFnZXMgbG9hZGluZyBldGMpXHJcblx0XHR0aGlzLl9jb250YWluZXIuc3R5bGUuYm90dG9tID0gYm90dG9tICsgJ3B4JztcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7XHJcblx0fSxcclxuXHJcblx0X2dldEFuY2hvcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIFswLCAwXTtcclxuXHR9XHJcblxyXG59KTtcclxuXHJcbk1hcC5pbmNsdWRlKHtcclxuXHRfaW5pdE92ZXJsYXk6IGZ1bmN0aW9uIChPdmVybGF5Q2xhc3MsIGNvbnRlbnQsIGxhdGxuZywgb3B0aW9ucykge1xyXG5cdFx0dmFyIG92ZXJsYXkgPSBjb250ZW50O1xyXG5cdFx0aWYgKCEob3ZlcmxheSBpbnN0YW5jZW9mIE92ZXJsYXlDbGFzcykpIHtcclxuXHRcdFx0b3ZlcmxheSA9IG5ldyBPdmVybGF5Q2xhc3Mob3B0aW9ucykuc2V0Q29udGVudChjb250ZW50KTtcclxuXHRcdH1cclxuXHRcdGlmIChsYXRsbmcpIHtcclxuXHRcdFx0b3ZlcmxheS5zZXRMYXRMbmcobGF0bG5nKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBvdmVybGF5O1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuTGF5ZXIuaW5jbHVkZSh7XHJcblx0X2luaXRPdmVybGF5OiBmdW5jdGlvbiAoT3ZlcmxheUNsYXNzLCBvbGQsIGNvbnRlbnQsIG9wdGlvbnMpIHtcclxuXHRcdHZhciBvdmVybGF5ID0gY29udGVudDtcclxuXHRcdGlmIChvdmVybGF5IGluc3RhbmNlb2YgT3ZlcmxheUNsYXNzKSB7XHJcblx0XHRcdFV0aWwuc2V0T3B0aW9ucyhvdmVybGF5LCBvcHRpb25zKTtcclxuXHRcdFx0b3ZlcmxheS5fc291cmNlID0gdGhpcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG92ZXJsYXkgPSAob2xkICYmICFvcHRpb25zKSA/IG9sZCA6IG5ldyBPdmVybGF5Q2xhc3Mob3B0aW9ucywgdGhpcyk7XHJcblx0XHRcdG92ZXJsYXkuc2V0Q29udGVudChjb250ZW50KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBvdmVybGF5O1xyXG5cdH1cclxufSk7XHJcbiIsICJpbXBvcnQge0Rpdk92ZXJsYXl9IGZyb20gJy4vRGl2T3ZlcmxheSc7XHJcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uL2RvbS9Eb21FdmVudCc7XHJcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xyXG5pbXBvcnQge1BvaW50LCB0b1BvaW50fSBmcm9tICcuLi9nZW9tZXRyeS9Qb2ludCc7XHJcbmltcG9ydCB7TWFwfSBmcm9tICcuLi9tYXAvTWFwJztcclxuaW1wb3J0IHtMYXllcn0gZnJvbSAnLi9MYXllcic7XHJcbmltcG9ydCB7UGF0aH0gZnJvbSAnLi92ZWN0b3IvUGF0aCc7XHJcbmltcG9ydCB7RmVhdHVyZUdyb3VwfSBmcm9tICcuL0ZlYXR1cmVHcm91cCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgUG9wdXBcclxuICogQGluaGVyaXRzIERpdk92ZXJsYXlcclxuICogQGFrYSBMLlBvcHVwXHJcbiAqIFVzZWQgdG8gb3BlbiBwb3B1cHMgaW4gY2VydGFpbiBwbGFjZXMgb2YgdGhlIG1hcC4gVXNlIFtNYXAub3BlblBvcHVwXSgjbWFwLW9wZW5wb3B1cCkgdG9cclxuICogb3BlbiBwb3B1cHMgd2hpbGUgbWFraW5nIHN1cmUgdGhhdCBvbmx5IG9uZSBwb3B1cCBpcyBvcGVuIGF0IG9uZSB0aW1lXHJcbiAqIChyZWNvbW1lbmRlZCBmb3IgdXNhYmlsaXR5KSwgb3IgdXNlIFtNYXAuYWRkTGF5ZXJdKCNtYXAtYWRkbGF5ZXIpIHRvIG9wZW4gYXMgbWFueSBhcyB5b3Ugd2FudC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogSWYgeW91IHdhbnQgdG8ganVzdCBiaW5kIGEgcG9wdXAgdG8gbWFya2VyIGNsaWNrIGFuZCB0aGVuIG9wZW4gaXQsIGl0J3MgcmVhbGx5IGVhc3k6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIG1hcmtlci5iaW5kUG9wdXAocG9wdXBDb250ZW50KS5vcGVuUG9wdXAoKTtcclxuICogYGBgXHJcbiAqIFBhdGggb3ZlcmxheXMgbGlrZSBwb2x5bGluZXMgYWxzbyBoYXZlIGEgYGJpbmRQb3B1cGAgbWV0aG9kLlxyXG4gKlxyXG4gKiBBIHBvcHVwIGNhbiBiZSBhbHNvIHN0YW5kYWxvbmU6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciBwb3B1cCA9IEwucG9wdXAoKVxyXG4gKiBcdC5zZXRMYXRMbmcobGF0bG5nKVxyXG4gKiBcdC5zZXRDb250ZW50KCc8cD5IZWxsbyB3b3JsZCE8YnIgLz5UaGlzIGlzIGEgbmljZSBwb3B1cC48L3A+JylcclxuICogXHQub3Blbk9uKG1hcCk7XHJcbiAqIGBgYFxyXG4gKiBvclxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgcG9wdXAgPSBMLnBvcHVwKGxhdGxuZywge2NvbnRlbnQ6ICc8cD5IZWxsbyB3b3JsZCE8YnIgLz5UaGlzIGlzIGEgbmljZSBwb3B1cC48L3A+JylcclxuICogXHQub3Blbk9uKG1hcCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcblxyXG4vLyBAbmFtZXNwYWNlIFBvcHVwXHJcbmV4cG9ydCB2YXIgUG9wdXAgPSBEaXZPdmVybGF5LmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBQb3B1cCBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBwYW5lOiBTdHJpbmcgPSAncG9wdXBQYW5lJ1xyXG5cdFx0Ly8gYE1hcCBwYW5lYCB3aGVyZSB0aGUgcG9wdXAgd2lsbCBiZSBhZGRlZC5cclxuXHRcdHBhbmU6ICdwb3B1cFBhbmUnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gb2Zmc2V0OiBQb2ludCA9IFBvaW50KDAsIDcpXHJcblx0XHQvLyBUaGUgb2Zmc2V0IG9mIHRoZSBwb3B1cCBwb3NpdGlvbi5cclxuXHRcdG9mZnNldDogWzAsIDddLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbWF4V2lkdGg6IE51bWJlciA9IDMwMFxyXG5cdFx0Ly8gTWF4IHdpZHRoIG9mIHRoZSBwb3B1cCwgaW4gcGl4ZWxzLlxyXG5cdFx0bWF4V2lkdGg6IDMwMCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1pbldpZHRoOiBOdW1iZXIgPSA1MFxyXG5cdFx0Ly8gTWluIHdpZHRoIG9mIHRoZSBwb3B1cCwgaW4gcGl4ZWxzLlxyXG5cdFx0bWluV2lkdGg6IDUwLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbWF4SGVpZ2h0OiBOdW1iZXIgPSBudWxsXHJcblx0XHQvLyBJZiBzZXQsIGNyZWF0ZXMgYSBzY3JvbGxhYmxlIGNvbnRhaW5lciBvZiB0aGUgZ2l2ZW4gaGVpZ2h0XHJcblx0XHQvLyBpbnNpZGUgYSBwb3B1cCBpZiBpdHMgY29udGVudCBleGNlZWRzIGl0LlxyXG5cdFx0Ly8gVGhlIHNjcm9sbGFibGUgY29udGFpbmVyIGNhbiBiZSBzdHlsZWQgdXNpbmcgdGhlXHJcblx0XHQvLyBgbGVhZmxldC1wb3B1cC1zY3JvbGxlZGAgQ1NTIGNsYXNzIHNlbGVjdG9yLlxyXG5cdFx0bWF4SGVpZ2h0OiBudWxsLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYXV0b1BhbjogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFNldCBpdCB0byBgZmFsc2VgIGlmIHlvdSBkb24ndCB3YW50IHRoZSBtYXAgdG8gZG8gcGFubmluZyBhbmltYXRpb25cclxuXHRcdC8vIHRvIGZpdCB0aGUgb3BlbmVkIHBvcHVwLlxyXG5cdFx0YXV0b1BhbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW5QYWRkaW5nVG9wTGVmdDogUG9pbnQgPSBudWxsXHJcblx0XHQvLyBUaGUgbWFyZ2luIGJldHdlZW4gdGhlIHBvcHVwIGFuZCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBtYXBcclxuXHRcdC8vIHZpZXcgYWZ0ZXIgYXV0b3Bhbm5pbmcgd2FzIHBlcmZvcm1lZC5cclxuXHRcdGF1dG9QYW5QYWRkaW5nVG9wTGVmdDogbnVsbCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW5QYWRkaW5nQm90dG9tUmlnaHQ6IFBvaW50ID0gbnVsbFxyXG5cdFx0Ly8gVGhlIG1hcmdpbiBiZXR3ZWVuIHRoZSBwb3B1cCBhbmQgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIgb2YgdGhlIG1hcFxyXG5cdFx0Ly8gdmlldyBhZnRlciBhdXRvcGFubmluZyB3YXMgcGVyZm9ybWVkLlxyXG5cdFx0YXV0b1BhblBhZGRpbmdCb3R0b21SaWdodDogbnVsbCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW5QYWRkaW5nOiBQb2ludCA9IFBvaW50KDUsIDUpXHJcblx0XHQvLyBFcXVpdmFsZW50IG9mIHNldHRpbmcgYm90aCB0b3AgbGVmdCBhbmQgYm90dG9tIHJpZ2h0IGF1dG9wYW4gcGFkZGluZyB0byB0aGUgc2FtZSB2YWx1ZS5cclxuXHRcdGF1dG9QYW5QYWRkaW5nOiBbNSwgNV0sXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBrZWVwSW5WaWV3OiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIFNldCBpdCB0byBgdHJ1ZWAgaWYgeW91IHdhbnQgdG8gcHJldmVudCB1c2VycyBmcm9tIHBhbm5pbmcgdGhlIHBvcHVwXHJcblx0XHQvLyBvZmYgb2YgdGhlIHNjcmVlbiB3aGlsZSBpdCBpcyBvcGVuLlxyXG5cdFx0a2VlcEluVmlldzogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjbG9zZUJ1dHRvbjogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIENvbnRyb2xzIHRoZSBwcmVzZW5jZSBvZiBhIGNsb3NlIGJ1dHRvbiBpbiB0aGUgcG9wdXAuXHJcblx0XHRjbG9zZUJ1dHRvbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9DbG9zZTogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFNldCBpdCB0byBgZmFsc2VgIGlmIHlvdSB3YW50IHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mXHJcblx0XHQvLyB0aGUgcG9wdXAgY2xvc2luZyB3aGVuIGFub3RoZXIgcG9wdXAgaXMgb3BlbmVkLlxyXG5cdFx0YXV0b0Nsb3NlOiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gY2xvc2VPbkVzY2FwZUtleTogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFNldCBpdCB0byBgZmFsc2VgIGlmIHlvdSB3YW50IHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mXHJcblx0XHQvLyB0aGUgRVNDIGtleSBmb3IgY2xvc2luZyBvZiB0aGUgcG9wdXAuXHJcblx0XHRjbG9zZU9uRXNjYXBlS2V5OiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gY2xvc2VPbkNsaWNrOiBCb29sZWFuID0gKlxyXG5cdFx0Ly8gU2V0IGl0IGlmIHlvdSB3YW50IHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSBwb3B1cCBjbG9zaW5nIHdoZW4gdXNlciBjbGlja3NcclxuXHRcdC8vIG9uIHRoZSBtYXAuIERlZmF1bHRzIHRvIHRoZSBtYXAncyBbYGNsb3NlUG9wdXBPbkNsaWNrYF0oI21hcC1jbG9zZXBvcHVwb25jbGljaykgb3B0aW9uLlxyXG5cclxuXHRcdC8vIEBvcHRpb24gY2xhc3NOYW1lOiBTdHJpbmcgPSAnJ1xyXG5cdFx0Ly8gQSBjdXN0b20gQ1NTIGNsYXNzIG5hbWUgdG8gYXNzaWduIHRvIHRoZSBwb3B1cC5cclxuXHRcdGNsYXNzTmFtZTogJydcclxuXHR9LFxyXG5cclxuXHQvLyBAbmFtZXNwYWNlIFBvcHVwXHJcblx0Ly8gQG1ldGhvZCBvcGVuT24obWFwOiBNYXApOiB0aGlzXHJcblx0Ly8gQWx0ZXJuYXRpdmUgdG8gYG1hcC5vcGVuUG9wdXAocG9wdXApYC5cclxuXHQvLyBBZGRzIHRoZSBwb3B1cCB0byB0aGUgbWFwIGFuZCBjbG9zZXMgdGhlIHByZXZpb3VzIG9uZS5cclxuXHRvcGVuT246IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdG1hcCA9IGFyZ3VtZW50cy5sZW5ndGggPyBtYXAgOiB0aGlzLl9zb3VyY2UuX21hcDsgLy8gZXhwZXJpbWVudGFsLCBub3QgdGhlIHBhcnQgb2YgcHVibGljIGFwaVxyXG5cclxuXHRcdGlmICghbWFwLmhhc0xheWVyKHRoaXMpICYmIG1hcC5fcG9wdXAgJiYgbWFwLl9wb3B1cC5vcHRpb25zLmF1dG9DbG9zZSkge1xyXG5cdFx0XHRtYXAucmVtb3ZlTGF5ZXIobWFwLl9wb3B1cCk7XHJcblx0XHR9XHJcblx0XHRtYXAuX3BvcHVwID0gdGhpcztcclxuXHJcblx0XHRyZXR1cm4gRGl2T3ZlcmxheS5wcm90b3R5cGUub3Blbk9uLmNhbGwodGhpcywgbWFwKTtcclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0RGl2T3ZlcmxheS5wcm90b3R5cGUub25BZGQuY2FsbCh0aGlzLCBtYXApO1xyXG5cclxuXHRcdC8vIEBuYW1lc3BhY2UgTWFwXHJcblx0XHQvLyBAc2VjdGlvbiBQb3B1cCBldmVudHNcclxuXHRcdC8vIEBldmVudCBwb3B1cG9wZW46IFBvcHVwRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gYSBwb3B1cCBpcyBvcGVuZWQgaW4gdGhlIG1hcFxyXG5cdFx0bWFwLmZpcmUoJ3BvcHVwb3BlbicsIHtwb3B1cDogdGhpc30pO1xyXG5cclxuXHRcdGlmICh0aGlzLl9zb3VyY2UpIHtcclxuXHRcdFx0Ly8gQG5hbWVzcGFjZSBMYXllclxyXG5cdFx0XHQvLyBAc2VjdGlvbiBQb3B1cCBldmVudHNcclxuXHRcdFx0Ly8gQGV2ZW50IHBvcHVwb3BlbjogUG9wdXBFdmVudFxyXG5cdFx0XHQvLyBGaXJlZCB3aGVuIGEgcG9wdXAgYm91bmQgdG8gdGhpcyBsYXllciBpcyBvcGVuZWRcclxuXHRcdFx0dGhpcy5fc291cmNlLmZpcmUoJ3BvcHVwb3BlbicsIHtwb3B1cDogdGhpc30sIHRydWUpO1xyXG5cdFx0XHQvLyBGb3Igbm9uLXBhdGggbGF5ZXJzLCB3ZSB0b2dnbGUgdGhlIHBvcHVwIHdoZW4gY2xpY2tpbmdcclxuXHRcdFx0Ly8gYWdhaW4gdGhlIGxheWVyLCBzbyBwcmV2ZW50IHRoZSBtYXAgdG8gcmVvcGVuIGl0LlxyXG5cdFx0XHRpZiAoISh0aGlzLl9zb3VyY2UgaW5zdGFuY2VvZiBQYXRoKSkge1xyXG5cdFx0XHRcdHRoaXMuX3NvdXJjZS5vbigncHJlY2xpY2snLCBEb21FdmVudC5zdG9wUHJvcGFnYXRpb24pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0b25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdERpdk92ZXJsYXkucHJvdG90eXBlLm9uUmVtb3ZlLmNhbGwodGhpcywgbWFwKTtcclxuXHJcblx0XHQvLyBAbmFtZXNwYWNlIE1hcFxyXG5cdFx0Ly8gQHNlY3Rpb24gUG9wdXAgZXZlbnRzXHJcblx0XHQvLyBAZXZlbnQgcG9wdXBjbG9zZTogUG9wdXBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBhIHBvcHVwIGluIHRoZSBtYXAgaXMgY2xvc2VkXHJcblx0XHRtYXAuZmlyZSgncG9wdXBjbG9zZScsIHtwb3B1cDogdGhpc30pO1xyXG5cclxuXHRcdGlmICh0aGlzLl9zb3VyY2UpIHtcclxuXHRcdFx0Ly8gQG5hbWVzcGFjZSBMYXllclxyXG5cdFx0XHQvLyBAc2VjdGlvbiBQb3B1cCBldmVudHNcclxuXHRcdFx0Ly8gQGV2ZW50IHBvcHVwY2xvc2U6IFBvcHVwRXZlbnRcclxuXHRcdFx0Ly8gRmlyZWQgd2hlbiBhIHBvcHVwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaXMgY2xvc2VkXHJcblx0XHRcdHRoaXMuX3NvdXJjZS5maXJlKCdwb3B1cGNsb3NlJywge3BvcHVwOiB0aGlzfSwgdHJ1ZSk7XHJcblx0XHRcdGlmICghKHRoaXMuX3NvdXJjZSBpbnN0YW5jZW9mIFBhdGgpKSB7XHJcblx0XHRcdFx0dGhpcy5fc291cmNlLm9mZigncHJlY2xpY2snLCBEb21FdmVudC5zdG9wUHJvcGFnYXRpb24pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZXZlbnRzID0gRGl2T3ZlcmxheS5wcm90b3R5cGUuZ2V0RXZlbnRzLmNhbGwodGhpcyk7XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2sgIT09IHVuZGVmaW5lZCA/IHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2sgOiB0aGlzLl9tYXAub3B0aW9ucy5jbG9zZVBvcHVwT25DbGljaykge1xyXG5cdFx0XHRldmVudHMucHJlY2xpY2sgPSB0aGlzLmNsb3NlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMua2VlcEluVmlldykge1xyXG5cdFx0XHRldmVudHMubW92ZWVuZCA9IHRoaXMuX2FkanVzdFBhbjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZXZlbnRzO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0TGF5b3V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgcHJlZml4ID0gJ2xlYWZsZXQtcG9wdXAnLFxyXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLFxyXG5cdFx0XHRwcmVmaXggKyAnICcgKyAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSB8fCAnJykgK1xyXG5cdFx0XHQnIGxlYWZsZXQtem9vbS1hbmltYXRlZCcpO1xyXG5cclxuXHRcdHZhciB3cmFwcGVyID0gdGhpcy5fd3JhcHBlciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBwcmVmaXggKyAnLWNvbnRlbnQtd3JhcHBlcicsIGNvbnRhaW5lcik7XHJcblx0XHR0aGlzLl9jb250ZW50Tm9kZSA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBwcmVmaXggKyAnLWNvbnRlbnQnLCB3cmFwcGVyKTtcclxuXHJcblx0XHREb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihjb250YWluZXIpO1xyXG5cdFx0RG9tRXZlbnQuZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uKHRoaXMuX2NvbnRlbnROb2RlKTtcclxuXHRcdERvbUV2ZW50Lm9uKGNvbnRhaW5lciwgJ2NvbnRleHRtZW51JywgRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKTtcclxuXHJcblx0XHR0aGlzLl90aXBDb250YWluZXIgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgcHJlZml4ICsgJy10aXAtY29udGFpbmVyJywgY29udGFpbmVyKTtcclxuXHRcdHRoaXMuX3RpcCA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBwcmVmaXggKyAnLXRpcCcsIHRoaXMuX3RpcENvbnRhaW5lcik7XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbikge1xyXG5cdFx0XHR2YXIgY2xvc2VCdXR0b24gPSB0aGlzLl9jbG9zZUJ1dHRvbiA9IERvbVV0aWwuY3JlYXRlKCdhJywgcHJlZml4ICsgJy1jbG9zZS1idXR0b24nLCBjb250YWluZXIpO1xyXG5cdFx0XHRjbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7IC8vIG92ZXJyaWRlcyB0aGUgaW1wbGljaXQgcm9sZT1saW5rIG9mIDxhPiBlbGVtZW50cyAjNzM5OVxyXG5cdFx0XHRjbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnQ2xvc2UgcG9wdXAnKTtcclxuXHRcdFx0Y2xvc2VCdXR0b24uaHJlZiA9ICcjY2xvc2UnO1xyXG5cdFx0XHRjbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSAnPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JiMyMTU7PC9zcGFuPic7XHJcblxyXG5cdFx0XHREb21FdmVudC5vbihjbG9zZUJ1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKGV2KSB7XHJcblx0XHRcdFx0RG9tRXZlbnQucHJldmVudERlZmF1bHQoZXYpO1xyXG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZUxheW91dDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRlbnROb2RlLFxyXG5cdFx0ICAgIHN0eWxlID0gY29udGFpbmVyLnN0eWxlO1xyXG5cclxuXHRcdHN0eWxlLndpZHRoID0gJyc7XHJcblx0XHRzdHlsZS53aGl0ZVNwYWNlID0gJ25vd3JhcCc7XHJcblxyXG5cdFx0dmFyIHdpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xyXG5cdFx0d2lkdGggPSBNYXRoLm1pbih3aWR0aCwgdGhpcy5vcHRpb25zLm1heFdpZHRoKTtcclxuXHRcdHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIHRoaXMub3B0aW9ucy5taW5XaWR0aCk7XHJcblxyXG5cdFx0c3R5bGUud2lkdGggPSAod2lkdGggKyAxKSArICdweCc7XHJcblx0XHRzdHlsZS53aGl0ZVNwYWNlID0gJyc7XHJcblxyXG5cdFx0c3R5bGUuaGVpZ2h0ID0gJyc7XHJcblxyXG5cdFx0dmFyIGhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQsXHJcblx0XHQgICAgbWF4SGVpZ2h0ID0gdGhpcy5vcHRpb25zLm1heEhlaWdodCxcclxuXHRcdCAgICBzY3JvbGxlZENsYXNzID0gJ2xlYWZsZXQtcG9wdXAtc2Nyb2xsZWQnO1xyXG5cclxuXHRcdGlmIChtYXhIZWlnaHQgJiYgaGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XHJcblx0XHRcdHN0eWxlLmhlaWdodCA9IG1heEhlaWdodCArICdweCc7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3MoY29udGFpbmVyLCBzY3JvbGxlZENsYXNzKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdERvbVV0aWwucmVtb3ZlQ2xhc3MoY29udGFpbmVyLCBzY3JvbGxlZENsYXNzKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9jb250YWluZXJXaWR0aCA9IHRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aDtcclxuXHR9LFxyXG5cclxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChlKSB7XHJcblx0XHR2YXIgcG9zID0gdGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLCBlLnpvb20sIGUuY2VudGVyKSxcclxuXHRcdCAgICBhbmNob3IgPSB0aGlzLl9nZXRBbmNob3IoKTtcclxuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyLCBwb3MuYWRkKGFuY2hvcikpO1xyXG5cdH0sXHJcblxyXG5cdF9hZGp1c3RQYW46IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5vcHRpb25zLmF1dG9QYW4pIHsgcmV0dXJuOyB9XHJcblx0XHRpZiAodGhpcy5fbWFwLl9wYW5BbmltKSB7IHRoaXMuX21hcC5fcGFuQW5pbS5zdG9wKCk7IH1cclxuXHJcblx0XHQvLyBXZSBjYW4gZW5kbGVzc2x5IHJlY3Vyc2UgaWYga2VlcEluVmlldyBpcyBzZXQgYW5kIHRoZSB2aWV3IHJlc2V0cy5cclxuXHRcdC8vIExldCdzIGd1YXJkIGFnYWluc3QgdGhhdCBieSBleGl0aW5nIGVhcmx5IGlmIHdlJ3JlIHJlc3BvbmRpbmcgdG8gb3VyIG93biBhdXRvcGFuLlxyXG5cdFx0aWYgKHRoaXMuX2F1dG9wYW5uaW5nKSB7XHJcblx0XHRcdHRoaXMuX2F1dG9wYW5uaW5nID0gZmFsc2U7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwLFxyXG5cdFx0ICAgIG1hcmdpbkJvdHRvbSA9IHBhcnNlSW50KERvbVV0aWwuZ2V0U3R5bGUodGhpcy5fY29udGFpbmVyLCAnbWFyZ2luQm90dG9tJyksIDEwKSB8fCAwLFxyXG5cdFx0ICAgIGNvbnRhaW5lckhlaWdodCA9IHRoaXMuX2NvbnRhaW5lci5vZmZzZXRIZWlnaHQgKyBtYXJnaW5Cb3R0b20sXHJcblx0XHQgICAgY29udGFpbmVyV2lkdGggPSB0aGlzLl9jb250YWluZXJXaWR0aCxcclxuXHRcdCAgICBsYXllclBvcyA9IG5ldyBQb2ludCh0aGlzLl9jb250YWluZXJMZWZ0LCAtY29udGFpbmVySGVpZ2h0IC0gdGhpcy5fY29udGFpbmVyQm90dG9tKTtcclxuXHJcblx0XHRsYXllclBvcy5fYWRkKERvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyKSk7XHJcblxyXG5cdFx0dmFyIGNvbnRhaW5lclBvcyA9IG1hcC5sYXllclBvaW50VG9Db250YWluZXJQb2ludChsYXllclBvcyksXHJcblx0XHQgICAgcGFkZGluZyA9IHRvUG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nKSxcclxuXHRcdCAgICBwYWRkaW5nVEwgPSB0b1BvaW50KHRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZ1RvcExlZnQgfHwgcGFkZGluZyksXHJcblx0XHQgICAgcGFkZGluZ0JSID0gdG9Qb2ludCh0aGlzLm9wdGlvbnMuYXV0b1BhblBhZGRpbmdCb3R0b21SaWdodCB8fCBwYWRkaW5nKSxcclxuXHRcdCAgICBzaXplID0gbWFwLmdldFNpemUoKSxcclxuXHRcdCAgICBkeCA9IDAsXHJcblx0XHQgICAgZHkgPSAwO1xyXG5cclxuXHRcdGlmIChjb250YWluZXJQb3MueCArIGNvbnRhaW5lcldpZHRoICsgcGFkZGluZ0JSLnggPiBzaXplLngpIHsgLy8gcmlnaHRcclxuXHRcdFx0ZHggPSBjb250YWluZXJQb3MueCArIGNvbnRhaW5lcldpZHRoIC0gc2l6ZS54ICsgcGFkZGluZ0JSLng7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyUG9zLnggLSBkeCAtIHBhZGRpbmdUTC54IDwgMCkgeyAvLyBsZWZ0XHJcblx0XHRcdGR4ID0gY29udGFpbmVyUG9zLnggLSBwYWRkaW5nVEwueDtcclxuXHRcdH1cclxuXHRcdGlmIChjb250YWluZXJQb3MueSArIGNvbnRhaW5lckhlaWdodCArIHBhZGRpbmdCUi55ID4gc2l6ZS55KSB7IC8vIGJvdHRvbVxyXG5cdFx0XHRkeSA9IGNvbnRhaW5lclBvcy55ICsgY29udGFpbmVySGVpZ2h0IC0gc2l6ZS55ICsgcGFkZGluZ0JSLnk7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyUG9zLnkgLSBkeSAtIHBhZGRpbmdUTC55IDwgMCkgeyAvLyB0b3BcclxuXHRcdFx0ZHkgPSBjb250YWluZXJQb3MueSAtIHBhZGRpbmdUTC55O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBuYW1lc3BhY2UgTWFwXHJcblx0XHQvLyBAc2VjdGlvbiBQb3B1cCBldmVudHNcclxuXHRcdC8vIEBldmVudCBhdXRvcGFuc3RhcnQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgc3RhcnRzIGF1dG9wYW5uaW5nIHdoZW4gb3BlbmluZyBhIHBvcHVwLlxyXG5cdFx0aWYgKGR4IHx8IGR5KSB7XHJcblx0XHRcdC8vIFRyYWNrIHRoYXQgd2UncmUgYXV0b3Bhbm5pbmcsIGFzIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSByZS1yYW4gb24gbW92ZWVuZFxyXG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLmtlZXBJblZpZXcpIHtcclxuXHRcdFx0XHR0aGlzLl9hdXRvcGFubmluZyA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1hcFxyXG5cdFx0XHQgICAgLmZpcmUoJ2F1dG9wYW5zdGFydCcpXHJcblx0XHRcdCAgICAucGFuQnkoW2R4LCBkeV0pO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9nZXRBbmNob3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdC8vIFdoZXJlIHNob3VsZCB3ZSBhbmNob3IgdGhlIHBvcHVwIG9uIHRoZSBzb3VyY2UgbGF5ZXI/XHJcblx0XHRyZXR1cm4gdG9Qb2ludCh0aGlzLl9zb3VyY2UgJiYgdGhpcy5fc291cmNlLl9nZXRQb3B1cEFuY2hvciA/IHRoaXMuX3NvdXJjZS5fZ2V0UG9wdXBBbmNob3IoKSA6IFswLCAwXSk7XHJcblx0fVxyXG5cclxufSk7XHJcblxyXG4vLyBAbmFtZXNwYWNlIFBvcHVwXHJcbi8vIEBmYWN0b3J5IEwucG9wdXAob3B0aW9ucz86IFBvcHVwIG9wdGlvbnMsIHNvdXJjZT86IExheWVyKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSBgUG9wdXBgIG9iamVjdCBnaXZlbiBhbiBvcHRpb25hbCBgb3B0aW9uc2Agb2JqZWN0IHRoYXQgZGVzY3JpYmVzIGl0cyBhcHBlYXJhbmNlIGFuZCBsb2NhdGlvbiBhbmQgYW4gb3B0aW9uYWwgYHNvdXJjZWAgb2JqZWN0IHRoYXQgaXMgdXNlZCB0byB0YWcgdGhlIHBvcHVwIHdpdGggYSByZWZlcmVuY2UgdG8gdGhlIExheWVyIHRvIHdoaWNoIGl0IHJlZmVycy5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmYWN0b3J5IEwucG9wdXAobGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/OiBQb3B1cCBvcHRpb25zKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSBgUG9wdXBgIG9iamVjdCBnaXZlbiBgbGF0bG5nYCB3aGVyZSB0aGUgcG9wdXAgd2lsbCBvcGVuIGFuZCBhbiBvcHRpb25hbCBgb3B0aW9uc2Agb2JqZWN0IHRoYXQgZGVzY3JpYmVzIGl0cyBhcHBlYXJhbmNlIGFuZCBsb2NhdGlvbi5cclxuZXhwb3J0IHZhciBwb3B1cCA9IGZ1bmN0aW9uIChvcHRpb25zLCBzb3VyY2UpIHtcclxuXHRyZXR1cm4gbmV3IFBvcHVwKG9wdGlvbnMsIHNvdXJjZSk7XHJcbn07XHJcblxyXG5cclxuLyogQG5hbWVzcGFjZSBNYXBcclxuICogQHNlY3Rpb24gSW50ZXJhY3Rpb24gT3B0aW9uc1xyXG4gKiBAb3B0aW9uIGNsb3NlUG9wdXBPbkNsaWNrOiBCb29sZWFuID0gdHJ1ZVxyXG4gKiBTZXQgaXQgdG8gYGZhbHNlYCBpZiB5b3UgZG9uJ3Qgd2FudCBwb3B1cHMgdG8gY2xvc2Ugd2hlbiB1c2VyIGNsaWNrcyB0aGUgbWFwLlxyXG4gKi9cclxuTWFwLm1lcmdlT3B0aW9ucyh7XHJcblx0Y2xvc2VQb3B1cE9uQ2xpY2s6IHRydWVcclxufSk7XHJcblxyXG5cclxuLy8gQG5hbWVzcGFjZSBNYXBcclxuLy8gQHNlY3Rpb24gTWV0aG9kcyBmb3IgTGF5ZXJzIGFuZCBDb250cm9sc1xyXG5NYXAuaW5jbHVkZSh7XHJcblx0Ly8gQG1ldGhvZCBvcGVuUG9wdXAocG9wdXA6IFBvcHVwKTogdGhpc1xyXG5cdC8vIE9wZW5zIHRoZSBzcGVjaWZpZWQgcG9wdXAgd2hpbGUgY2xvc2luZyB0aGUgcHJldmlvdXNseSBvcGVuZWQgKHRvIG1ha2Ugc3VyZSBvbmx5IG9uZSBpcyBvcGVuZWQgYXQgb25lIHRpbWUgZm9yIHVzYWJpbGl0eSkuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQG1ldGhvZCBvcGVuUG9wdXAoY29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50LCBsYXRsbmc6IExhdExuZywgb3B0aW9ucz86IFBvcHVwIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gQ3JlYXRlcyBhIHBvcHVwIHdpdGggdGhlIHNwZWNpZmllZCBjb250ZW50IGFuZCBvcHRpb25zIGFuZCBvcGVucyBpdCBpbiB0aGUgZ2l2ZW4gcG9pbnQgb24gYSBtYXAuXHJcblx0b3BlblBvcHVwOiBmdW5jdGlvbiAocG9wdXAsIGxhdGxuZywgb3B0aW9ucykge1xyXG5cdFx0dGhpcy5faW5pdE92ZXJsYXkoUG9wdXAsIHBvcHVwLCBsYXRsbmcsIG9wdGlvbnMpXHJcblx0XHQgIC5vcGVuT24odGhpcyk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjbG9zZVBvcHVwKHBvcHVwPzogUG9wdXApOiB0aGlzXHJcblx0Ly8gQ2xvc2VzIHRoZSBwb3B1cCBwcmV2aW91c2x5IG9wZW5lZCB3aXRoIFtvcGVuUG9wdXBdKCNtYXAtb3BlbnBvcHVwKSAob3IgdGhlIGdpdmVuIG9uZSkuXHJcblx0Y2xvc2VQb3B1cDogZnVuY3Rpb24gKHBvcHVwKSB7XHJcblx0XHRwb3B1cCA9IGFyZ3VtZW50cy5sZW5ndGggPyBwb3B1cCA6IHRoaXMuX3BvcHVwO1xyXG5cdFx0aWYgKHBvcHVwKSB7XHJcblx0XHRcdHBvcHVwLmNsb3NlKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcbn0pO1xyXG5cclxuLypcclxuICogQG5hbWVzcGFjZSBMYXllclxyXG4gKiBAc2VjdGlvbiBQb3B1cCBtZXRob2RzIGV4YW1wbGVcclxuICpcclxuICogQWxsIGxheWVycyBzaGFyZSBhIHNldCBvZiBtZXRob2RzIGNvbnZlbmllbnQgZm9yIGJpbmRpbmcgcG9wdXBzIHRvIGl0LlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgbGF5ZXIgPSBMLlBvbHlnb24obGF0bG5ncykuYmluZFBvcHVwKCdIaSBUaGVyZSEnKS5hZGRUbyhtYXApO1xyXG4gKiBsYXllci5vcGVuUG9wdXAoKTtcclxuICogbGF5ZXIuY2xvc2VQb3B1cCgpO1xyXG4gKiBgYGBcclxuICpcclxuICogUG9wdXBzIHdpbGwgYWxzbyBiZSBhdXRvbWF0aWNhbGx5IG9wZW5lZCB3aGVuIHRoZSBsYXllciBpcyBjbGlja2VkIG9uIGFuZCBjbG9zZWQgd2hlbiB0aGUgbGF5ZXIgaXMgcmVtb3ZlZCBmcm9tIHRoZSBtYXAgb3IgYW5vdGhlciBwb3B1cCBpcyBvcGVuZWQuXHJcbiAqL1xyXG5cclxuLy8gQHNlY3Rpb24gUG9wdXAgbWV0aG9kc1xyXG5MYXllci5pbmNsdWRlKHtcclxuXHJcblx0Ly8gQG1ldGhvZCBiaW5kUG9wdXAoY29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50fEZ1bmN0aW9ufFBvcHVwLCBvcHRpb25zPzogUG9wdXAgb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBCaW5kcyBhIHBvcHVwIHRvIHRoZSBsYXllciB3aXRoIHRoZSBwYXNzZWQgYGNvbnRlbnRgIGFuZCBzZXRzIHVwIHRoZVxyXG5cdC8vIG5lY2Vzc2FyeSBldmVudCBsaXN0ZW5lcnMuIElmIGEgYEZ1bmN0aW9uYCBpcyBwYXNzZWQgaXQgd2lsbCByZWNlaXZlXHJcblx0Ly8gdGhlIGxheWVyIGFzIHRoZSBmaXJzdCBhcmd1bWVudCBhbmQgc2hvdWxkIHJldHVybiBhIGBTdHJpbmdgIG9yIGBIVE1MRWxlbWVudGAuXHJcblx0YmluZFBvcHVwOiBmdW5jdGlvbiAoY29udGVudCwgb3B0aW9ucykge1xyXG5cdFx0dGhpcy5fcG9wdXAgPSB0aGlzLl9pbml0T3ZlcmxheShQb3B1cCwgdGhpcy5fcG9wdXAsIGNvbnRlbnQsIG9wdGlvbnMpO1xyXG5cdFx0aWYgKCF0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQpIHtcclxuXHRcdFx0dGhpcy5vbih7XHJcblx0XHRcdFx0Y2xpY2s6IHRoaXMuX29wZW5Qb3B1cCxcclxuXHRcdFx0XHRrZXlwcmVzczogdGhpcy5fb25LZXlQcmVzcyxcclxuXHRcdFx0XHRyZW1vdmU6IHRoaXMuY2xvc2VQb3B1cCxcclxuXHRcdFx0XHRtb3ZlOiB0aGlzLl9tb3ZlUG9wdXBcclxuXHRcdFx0fSk7XHJcblx0XHRcdHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZCA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB1bmJpbmRQb3B1cCgpOiB0aGlzXHJcblx0Ly8gUmVtb3ZlcyB0aGUgcG9wdXAgcHJldmlvdXNseSBib3VuZCB3aXRoIGBiaW5kUG9wdXBgLlxyXG5cdHVuYmluZFBvcHVwOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fcG9wdXApIHtcclxuXHRcdFx0dGhpcy5vZmYoe1xyXG5cdFx0XHRcdGNsaWNrOiB0aGlzLl9vcGVuUG9wdXAsXHJcblx0XHRcdFx0a2V5cHJlc3M6IHRoaXMuX29uS2V5UHJlc3MsXHJcblx0XHRcdFx0cmVtb3ZlOiB0aGlzLmNsb3NlUG9wdXAsXHJcblx0XHRcdFx0bW92ZTogdGhpcy5fbW92ZVBvcHVwXHJcblx0XHRcdH0pO1xyXG5cdFx0XHR0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5fcG9wdXAgPSBudWxsO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBvcGVuUG9wdXAobGF0bG5nPzogTGF0TG5nKTogdGhpc1xyXG5cdC8vIE9wZW5zIHRoZSBib3VuZCBwb3B1cCBhdCB0aGUgc3BlY2lmaWVkIGBsYXRsbmdgIG9yIGF0IHRoZSBkZWZhdWx0IHBvcHVwIGFuY2hvciBpZiBubyBgbGF0bG5nYCBpcyBwYXNzZWQuXHJcblx0b3BlblBvcHVwOiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHRpZiAodGhpcy5fcG9wdXApIHtcclxuXHRcdFx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIEZlYXR1cmVHcm91cCkpIHtcclxuXHRcdFx0XHR0aGlzLl9wb3B1cC5fc291cmNlID0gdGhpcztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy5fcG9wdXAuX3ByZXBhcmVPcGVuKGxhdGxuZyB8fCB0aGlzLl9sYXRsbmcpKSB7XHJcblx0XHRcdFx0Ly8gb3BlbiB0aGUgcG9wdXAgb24gdGhlIG1hcFxyXG5cdFx0XHRcdHRoaXMuX3BvcHVwLm9wZW5Pbih0aGlzLl9tYXApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNsb3NlUG9wdXAoKTogdGhpc1xyXG5cdC8vIENsb3NlcyB0aGUgcG9wdXAgYm91bmQgdG8gdGhpcyBsYXllciBpZiBpdCBpcyBvcGVuLlxyXG5cdGNsb3NlUG9wdXA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9wb3B1cCkge1xyXG5cdFx0XHR0aGlzLl9wb3B1cC5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b2dnbGVQb3B1cCgpOiB0aGlzXHJcblx0Ly8gT3BlbnMgb3IgY2xvc2VzIHRoZSBwb3B1cCBib3VuZCB0byB0aGlzIGxheWVyIGRlcGVuZGluZyBvbiBpdHMgY3VycmVudCBzdGF0ZS5cclxuXHR0b2dnbGVQb3B1cDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX3BvcHVwKSB7XHJcblx0XHRcdHRoaXMuX3BvcHVwLnRvZ2dsZSh0aGlzKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgaXNQb3B1cE9wZW4oKTogYm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBwb3B1cCBib3VuZCB0byB0aGlzIGxheWVyIGlzIGN1cnJlbnRseSBvcGVuLlxyXG5cdGlzUG9wdXBPcGVuOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gKHRoaXMuX3BvcHVwID8gdGhpcy5fcG9wdXAuaXNPcGVuKCkgOiBmYWxzZSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRQb3B1cENvbnRlbnQoY29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50fFBvcHVwKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIGNvbnRlbnQgb2YgdGhlIHBvcHVwIGJvdW5kIHRvIHRoaXMgbGF5ZXIuXHJcblx0c2V0UG9wdXBDb250ZW50OiBmdW5jdGlvbiAoY29udGVudCkge1xyXG5cdFx0aWYgKHRoaXMuX3BvcHVwKSB7XHJcblx0XHRcdHRoaXMuX3BvcHVwLnNldENvbnRlbnQoY29udGVudCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFBvcHVwKCk6IFBvcHVwXHJcblx0Ly8gUmV0dXJucyB0aGUgcG9wdXAgYm91bmQgdG8gdGhpcyBsYXllci5cclxuXHRnZXRQb3B1cDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3BvcHVwO1xyXG5cdH0sXHJcblxyXG5cdF9vcGVuUG9wdXA6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRpZiAoIXRoaXMuX3BvcHVwIHx8ICF0aGlzLl9tYXApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0Ly8gcHJldmVudCBtYXAgY2xpY2tcclxuXHRcdERvbUV2ZW50LnN0b3AoZSk7XHJcblxyXG5cdFx0dmFyIHRhcmdldCA9IGUubGF5ZXIgfHwgZS50YXJnZXQ7XHJcblx0XHRpZiAodGhpcy5fcG9wdXAuX3NvdXJjZSA9PT0gdGFyZ2V0ICYmICEodGFyZ2V0IGluc3RhbmNlb2YgUGF0aCkpIHtcclxuXHRcdFx0Ly8gdHJlYXQgaXQgbGlrZSBhIG1hcmtlciBhbmQgZmlndXJlIG91dFxyXG5cdFx0XHQvLyBpZiB3ZSBzaG91bGQgdG9nZ2xlIGl0IG9wZW4vY2xvc2VkXHJcblx0XHRcdGlmICh0aGlzLl9tYXAuaGFzTGF5ZXIodGhpcy5fcG9wdXApKSB7XHJcblx0XHRcdFx0dGhpcy5jbG9zZVBvcHVwKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5vcGVuUG9wdXAoZS5sYXRsbmcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdHRoaXMuX3BvcHVwLl9zb3VyY2UgPSB0YXJnZXQ7XHJcblx0XHR0aGlzLm9wZW5Qb3B1cChlLmxhdGxuZyk7XHJcblx0fSxcclxuXHJcblx0X21vdmVQb3B1cDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdHRoaXMuX3BvcHVwLnNldExhdExuZyhlLmxhdGxuZyk7XHJcblx0fSxcclxuXHJcblx0X29uS2V5UHJlc3M6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRpZiAoZS5vcmlnaW5hbEV2ZW50LmtleUNvZGUgPT09IDEzKSB7XHJcblx0XHRcdHRoaXMuX29wZW5Qb3B1cChlKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG4iLCAiaW1wb3J0IHtEaXZPdmVybGF5fSBmcm9tICcuL0Rpdk92ZXJsYXknO1xuaW1wb3J0IHt0b1BvaW50fSBmcm9tICcuLi9nZW9tZXRyeS9Qb2ludCc7XG5pbXBvcnQge01hcH0gZnJvbSAnLi4vbWFwL01hcCc7XG5pbXBvcnQge0xheWVyfSBmcm9tICcuL0xheWVyJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vZG9tL0RvbUV2ZW50JztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcbmltcG9ydCB7RmVhdHVyZUdyb3VwfSBmcm9tICcuL0ZlYXR1cmVHcm91cCc7XG5cbi8qXG4gKiBAY2xhc3MgVG9vbHRpcFxuICogQGluaGVyaXRzIERpdk92ZXJsYXlcbiAqIEBha2EgTC5Ub29sdGlwXG4gKiBVc2VkIHRvIGRpc3BsYXkgc21hbGwgdGV4dHMgb24gdG9wIG9mIG1hcCBsYXllcnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIElmIHlvdSB3YW50IHRvIGp1c3QgYmluZCBhIHRvb2x0aXAgdG8gbWFya2VyOlxuICpcbiAqIGBgYGpzXG4gKiBtYXJrZXIuYmluZFRvb2x0aXAoXCJteSB0b29sdGlwIHRleHRcIikub3BlblRvb2x0aXAoKTtcbiAqIGBgYFxuICogUGF0aCBvdmVybGF5cyBsaWtlIHBvbHlsaW5lcyBhbHNvIGhhdmUgYSBgYmluZFRvb2x0aXBgIG1ldGhvZC5cbiAqXG4gKiBBIHRvb2x0aXAgY2FuIGJlIGFsc28gc3RhbmRhbG9uZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHRvb2x0aXAgPSBMLnRvb2x0aXAoKVxuICogXHQuc2V0TGF0TG5nKGxhdGxuZylcbiAqIFx0LnNldENvbnRlbnQoJ0hlbGxvIHdvcmxkITxiciAvPlRoaXMgaXMgYSBuaWNlIHRvb2x0aXAuJylcbiAqIFx0LmFkZFRvKG1hcCk7XG4gKiBgYGBcbiAqIG9yXG4gKiBgYGBqc1xuICogdmFyIHRvb2x0aXAgPSBMLnRvb2x0aXAobGF0bG5nLCB7Y29udGVudDogJ0hlbGxvIHdvcmxkITxiciAvPlRoaXMgaXMgYSBuaWNlIHRvb2x0aXAuJ30pXG4gKiBcdC5hZGRUbyhtYXApO1xuICogYGBgXG4gKlxuICpcbiAqIE5vdGUgYWJvdXQgdG9vbHRpcCBvZmZzZXQuIExlYWZsZXQgdGFrZXMgdHdvIG9wdGlvbnMgaW4gY29uc2lkZXJhdGlvblxuICogZm9yIGNvbXB1dGluZyB0b29sdGlwIG9mZnNldHRpbmc6XG4gKiAtIHRoZSBgb2Zmc2V0YCBUb29sdGlwIG9wdGlvbjogaXQgZGVmYXVsdHMgdG8gWzAsIDBdLCBhbmQgaXQncyBzcGVjaWZpYyB0byBvbmUgdG9vbHRpcC5cbiAqICAgQWRkIGEgcG9zaXRpdmUgeCBvZmZzZXQgdG8gbW92ZSB0aGUgdG9vbHRpcCB0byB0aGUgcmlnaHQsIGFuZCBhIHBvc2l0aXZlIHkgb2Zmc2V0IHRvXG4gKiAgIG1vdmUgaXQgdG8gdGhlIGJvdHRvbS4gTmVnYXRpdmVzIHdpbGwgbW92ZSB0byB0aGUgbGVmdCBhbmQgdG9wLlxuICogLSB0aGUgYHRvb2x0aXBBbmNob3JgIEljb24gb3B0aW9uOiB0aGlzIHdpbGwgb25seSBiZSBjb25zaWRlcmVkIGZvciBNYXJrZXIuIFlvdVxuICogICBzaG91bGQgYWRhcHQgdGhpcyB2YWx1ZSBpZiB5b3UgdXNlIGEgY3VzdG9tIGljb24uXG4gKi9cblxuXG4vLyBAbmFtZXNwYWNlIFRvb2x0aXBcbmV4cG9ydCB2YXIgVG9vbHRpcCA9IERpdk92ZXJsYXkuZXh0ZW5kKHtcblxuXHQvLyBAc2VjdGlvblxuXHQvLyBAYWthIFRvb2x0aXAgb3B0aW9uc1xuXHRvcHRpb25zOiB7XG5cdFx0Ly8gQG9wdGlvbiBwYW5lOiBTdHJpbmcgPSAndG9vbHRpcFBhbmUnXG5cdFx0Ly8gYE1hcCBwYW5lYCB3aGVyZSB0aGUgdG9vbHRpcCB3aWxsIGJlIGFkZGVkLlxuXHRcdHBhbmU6ICd0b29sdGlwUGFuZScsXG5cblx0XHQvLyBAb3B0aW9uIG9mZnNldDogUG9pbnQgPSBQb2ludCgwLCAwKVxuXHRcdC8vIE9wdGlvbmFsIG9mZnNldCBvZiB0aGUgdG9vbHRpcCBwb3NpdGlvbi5cblx0XHRvZmZzZXQ6IFswLCAwXSxcblxuXHRcdC8vIEBvcHRpb24gZGlyZWN0aW9uOiBTdHJpbmcgPSAnYXV0bydcblx0XHQvLyBEaXJlY3Rpb24gd2hlcmUgdG8gb3BlbiB0aGUgdG9vbHRpcC4gUG9zc2libGUgdmFsdWVzIGFyZTogYHJpZ2h0YCwgYGxlZnRgLFxuXHRcdC8vIGB0b3BgLCBgYm90dG9tYCwgYGNlbnRlcmAsIGBhdXRvYC5cblx0XHQvLyBgYXV0b2Agd2lsbCBkeW5hbWljYWxseSBzd2l0Y2ggYmV0d2VlbiBgcmlnaHRgIGFuZCBgbGVmdGAgYWNjb3JkaW5nIHRvIHRoZSB0b29sdGlwXG5cdFx0Ly8gcG9zaXRpb24gb24gdGhlIG1hcC5cblx0XHRkaXJlY3Rpb246ICdhdXRvJyxcblxuXHRcdC8vIEBvcHRpb24gcGVybWFuZW50OiBCb29sZWFuID0gZmFsc2Vcblx0XHQvLyBXaGV0aGVyIHRvIG9wZW4gdGhlIHRvb2x0aXAgcGVybWFuZW50bHkgb3Igb25seSBvbiBtb3VzZW92ZXIuXG5cdFx0cGVybWFuZW50OiBmYWxzZSxcblxuXHRcdC8vIEBvcHRpb24gc3RpY2t5OiBCb29sZWFuID0gZmFsc2Vcblx0XHQvLyBJZiB0cnVlLCB0aGUgdG9vbHRpcCB3aWxsIGZvbGxvdyB0aGUgbW91c2UgaW5zdGVhZCBvZiBiZWluZyBmaXhlZCBhdCB0aGUgZmVhdHVyZSBjZW50ZXIuXG5cdFx0c3RpY2t5OiBmYWxzZSxcblxuXHRcdC8vIEBvcHRpb24gb3BhY2l0eTogTnVtYmVyID0gMC45XG5cdFx0Ly8gVG9vbHRpcCBjb250YWluZXIgb3BhY2l0eS5cblx0XHRvcGFjaXR5OiAwLjlcblx0fSxcblxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xuXHRcdERpdk92ZXJsYXkucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTtcblx0XHR0aGlzLnNldE9wYWNpdHkodGhpcy5vcHRpb25zLm9wYWNpdHkpO1xuXG5cdFx0Ly8gQG5hbWVzcGFjZSBNYXBcblx0XHQvLyBAc2VjdGlvbiBUb29sdGlwIGV2ZW50c1xuXHRcdC8vIEBldmVudCB0b29sdGlwb3BlbjogVG9vbHRpcEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiBhIHRvb2x0aXAgaXMgb3BlbmVkIGluIHRoZSBtYXAuXG5cdFx0bWFwLmZpcmUoJ3Rvb2x0aXBvcGVuJywge3Rvb2x0aXA6IHRoaXN9KTtcblxuXHRcdGlmICh0aGlzLl9zb3VyY2UpIHtcblx0XHRcdHRoaXMuYWRkRXZlbnRQYXJlbnQodGhpcy5fc291cmNlKTtcblxuXHRcdFx0Ly8gQG5hbWVzcGFjZSBMYXllclxuXHRcdFx0Ly8gQHNlY3Rpb24gVG9vbHRpcCBldmVudHNcblx0XHRcdC8vIEBldmVudCB0b29sdGlwb3BlbjogVG9vbHRpcEV2ZW50XG5cdFx0XHQvLyBGaXJlZCB3aGVuIGEgdG9vbHRpcCBib3VuZCB0byB0aGlzIGxheWVyIGlzIG9wZW5lZC5cblx0XHRcdHRoaXMuX3NvdXJjZS5maXJlKCd0b29sdGlwb3BlbicsIHt0b29sdGlwOiB0aGlzfSwgdHJ1ZSk7XG5cdFx0fVxuXHR9LFxuXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0RGl2T3ZlcmxheS5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLCBtYXApO1xuXG5cdFx0Ly8gQG5hbWVzcGFjZSBNYXBcblx0XHQvLyBAc2VjdGlvbiBUb29sdGlwIGV2ZW50c1xuXHRcdC8vIEBldmVudCB0b29sdGlwY2xvc2U6IFRvb2x0aXBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gYSB0b29sdGlwIGluIHRoZSBtYXAgaXMgY2xvc2VkLlxuXHRcdG1hcC5maXJlKCd0b29sdGlwY2xvc2UnLCB7dG9vbHRpcDogdGhpc30pO1xuXG5cdFx0aWYgKHRoaXMuX3NvdXJjZSkge1xuXHRcdFx0dGhpcy5yZW1vdmVFdmVudFBhcmVudCh0aGlzLl9zb3VyY2UpO1xuXG5cdFx0XHQvLyBAbmFtZXNwYWNlIExheWVyXG5cdFx0XHQvLyBAc2VjdGlvbiBUb29sdGlwIGV2ZW50c1xuXHRcdFx0Ly8gQGV2ZW50IHRvb2x0aXBjbG9zZTogVG9vbHRpcEV2ZW50XG5cdFx0XHQvLyBGaXJlZCB3aGVuIGEgdG9vbHRpcCBib3VuZCB0byB0aGlzIGxheWVyIGlzIGNsb3NlZC5cblx0XHRcdHRoaXMuX3NvdXJjZS5maXJlKCd0b29sdGlwY2xvc2UnLCB7dG9vbHRpcDogdGhpc30sIHRydWUpO1xuXHRcdH1cblx0fSxcblxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZXZlbnRzID0gRGl2T3ZlcmxheS5wcm90b3R5cGUuZ2V0RXZlbnRzLmNhbGwodGhpcyk7XG5cblx0XHRpZiAoIXRoaXMub3B0aW9ucy5wZXJtYW5lbnQpIHtcblx0XHRcdGV2ZW50cy5wcmVjbGljayA9IHRoaXMuY2xvc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50cztcblx0fSxcblxuXHRfaW5pdExheW91dDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBwcmVmaXggPSAnbGVhZmxldC10b29sdGlwJyxcblx0XHQgICAgY2xhc3NOYW1lID0gcHJlZml4ICsgJyAnICsgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUgfHwgJycpICsgJyBsZWFmbGV0LXpvb20tJyArICh0aGlzLl96b29tQW5pbWF0ZWQgPyAnYW5pbWF0ZWQnIDogJ2hpZGUnKTtcblxuXHRcdHRoaXMuX2NvbnRlbnROb2RlID0gdGhpcy5fY29udGFpbmVyID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSk7XG5cblx0XHR0aGlzLl9jb250YWluZXIuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3Rvb2x0aXAnKTtcblx0XHR0aGlzLl9jb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdsZWFmbGV0LXRvb2x0aXAtJyArIFV0aWwuc3RhbXAodGhpcykpO1xuXHR9LFxuXG5cdF91cGRhdGVMYXlvdXQ6IGZ1bmN0aW9uICgpIHt9LFxuXG5cdF9hZGp1c3RQYW46IGZ1bmN0aW9uICgpIHt9LFxuXG5cdF9zZXRQb3NpdGlvbjogZnVuY3Rpb24gKHBvcykge1xuXHRcdHZhciBzdWJYLCBzdWJZLFxuXHRcdCAgICBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcixcblx0XHQgICAgY2VudGVyUG9pbnQgPSBtYXAubGF0TG5nVG9Db250YWluZXJQb2ludChtYXAuZ2V0Q2VudGVyKCkpLFxuXHRcdCAgICB0b29sdGlwUG9pbnQgPSBtYXAubGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQocG9zKSxcblx0XHQgICAgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbixcblx0XHQgICAgdG9vbHRpcFdpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoLFxuXHRcdCAgICB0b29sdGlwSGVpZ2h0ID0gY29udGFpbmVyLm9mZnNldEhlaWdodCxcblx0XHQgICAgb2Zmc2V0ID0gdG9Qb2ludCh0aGlzLm9wdGlvbnMub2Zmc2V0KSxcblx0XHQgICAgYW5jaG9yID0gdGhpcy5fZ2V0QW5jaG9yKCk7XG5cblx0XHRpZiAoZGlyZWN0aW9uID09PSAndG9wJykge1xuXHRcdFx0c3ViWCA9IHRvb2x0aXBXaWR0aCAvIDI7XG5cdFx0XHRzdWJZID0gdG9vbHRpcEhlaWdodDtcblx0XHR9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2JvdHRvbScpIHtcblx0XHRcdHN1YlggPSB0b29sdGlwV2lkdGggLyAyO1xuXHRcdFx0c3ViWSA9IDA7XG5cdFx0fSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdjZW50ZXInKSB7XG5cdFx0XHRzdWJYID0gdG9vbHRpcFdpZHRoIC8gMjtcblx0XHRcdHN1YlkgPSB0b29sdGlwSGVpZ2h0IC8gMjtcblx0XHR9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuXHRcdFx0c3ViWCA9IDA7XG5cdFx0XHRzdWJZID0gdG9vbHRpcEhlaWdodCAvIDI7XG5cdFx0fSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuXHRcdFx0c3ViWCA9IHRvb2x0aXBXaWR0aDtcblx0XHRcdHN1YlkgPSB0b29sdGlwSGVpZ2h0IC8gMjtcblx0XHR9IGVsc2UgaWYgKHRvb2x0aXBQb2ludC54IDwgY2VudGVyUG9pbnQueCkge1xuXHRcdFx0ZGlyZWN0aW9uID0gJ3JpZ2h0Jztcblx0XHRcdHN1YlggPSAwO1xuXHRcdFx0c3ViWSA9IHRvb2x0aXBIZWlnaHQgLyAyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkaXJlY3Rpb24gPSAnbGVmdCc7XG5cdFx0XHRzdWJYID0gdG9vbHRpcFdpZHRoICsgKG9mZnNldC54ICsgYW5jaG9yLngpICogMjtcblx0XHRcdHN1YlkgPSB0b29sdGlwSGVpZ2h0IC8gMjtcblx0XHR9XG5cblx0XHRwb3MgPSBwb3Muc3VidHJhY3QodG9Qb2ludChzdWJYLCBzdWJZLCB0cnVlKSkuYWRkKG9mZnNldCkuYWRkKGFuY2hvcik7XG5cblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdG9vbHRpcC1yaWdodCcpO1xuXHRcdERvbVV0aWwucmVtb3ZlQ2xhc3MoY29udGFpbmVyLCAnbGVhZmxldC10b29sdGlwLWxlZnQnKTtcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdG9vbHRpcC10b3AnKTtcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdG9vbHRpcC1ib3R0b20nKTtcblx0XHREb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdG9vbHRpcC0nICsgZGlyZWN0aW9uKTtcblx0XHREb21VdGlsLnNldFBvc2l0aW9uKGNvbnRhaW5lciwgcG9zKTtcblx0fSxcblxuXHRfdXBkYXRlUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcG9zID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpO1xuXHRcdHRoaXMuX3NldFBvc2l0aW9uKHBvcyk7XG5cdH0sXG5cblx0c2V0T3BhY2l0eTogZnVuY3Rpb24gKG9wYWNpdHkpIHtcblx0XHR0aGlzLm9wdGlvbnMub3BhY2l0eSA9IG9wYWNpdHk7XG5cblx0XHRpZiAodGhpcy5fY29udGFpbmVyKSB7XG5cdFx0XHREb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLCBvcGFjaXR5KTtcblx0XHR9XG5cdH0sXG5cblx0X2FuaW1hdGVab29tOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBwb3MgPSB0aGlzLl9tYXAuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcsIGUuem9vbSwgZS5jZW50ZXIpO1xuXHRcdHRoaXMuX3NldFBvc2l0aW9uKHBvcyk7XG5cdH0sXG5cblx0X2dldEFuY2hvcjogZnVuY3Rpb24gKCkge1xuXHRcdC8vIFdoZXJlIHNob3VsZCB3ZSBhbmNob3IgdGhlIHRvb2x0aXAgb24gdGhlIHNvdXJjZSBsYXllcj9cblx0XHRyZXR1cm4gdG9Qb2ludCh0aGlzLl9zb3VyY2UgJiYgdGhpcy5fc291cmNlLl9nZXRUb29sdGlwQW5jaG9yICYmICF0aGlzLm9wdGlvbnMuc3RpY2t5ID8gdGhpcy5fc291cmNlLl9nZXRUb29sdGlwQW5jaG9yKCkgOiBbMCwgMF0pO1xuXHR9XG5cbn0pO1xuXG4vLyBAbmFtZXNwYWNlIFRvb2x0aXBcbi8vIEBmYWN0b3J5IEwudG9vbHRpcChvcHRpb25zPzogVG9vbHRpcCBvcHRpb25zLCBzb3VyY2U/OiBMYXllcilcbi8vIEluc3RhbnRpYXRlcyBhIGBUb29sdGlwYCBvYmplY3QgZ2l2ZW4gYW4gb3B0aW9uYWwgYG9wdGlvbnNgIG9iamVjdCB0aGF0IGRlc2NyaWJlcyBpdHMgYXBwZWFyYW5jZSBhbmQgbG9jYXRpb24gYW5kIGFuIG9wdGlvbmFsIGBzb3VyY2VgIG9iamVjdCB0aGF0IGlzIHVzZWQgdG8gdGFnIHRoZSB0b29sdGlwIHdpdGggYSByZWZlcmVuY2UgdG8gdGhlIExheWVyIHRvIHdoaWNoIGl0IHJlZmVycy5cbi8vIEBhbHRlcm5hdGl2ZVxuLy8gQGZhY3RvcnkgTC50b29sdGlwKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogVG9vbHRpcCBvcHRpb25zKVxuLy8gSW5zdGFudGlhdGVzIGEgYFRvb2x0aXBgIG9iamVjdCBnaXZlbiBgbGF0bG5nYCB3aGVyZSB0aGUgdG9vbHRpcCB3aWxsIG9wZW4gYW5kIGFuIG9wdGlvbmFsIGBvcHRpb25zYCBvYmplY3QgdGhhdCBkZXNjcmliZXMgaXRzIGFwcGVhcmFuY2UgYW5kIGxvY2F0aW9uLlxuZXhwb3J0IHZhciB0b29sdGlwID0gZnVuY3Rpb24gKG9wdGlvbnMsIHNvdXJjZSkge1xuXHRyZXR1cm4gbmV3IFRvb2x0aXAob3B0aW9ucywgc291cmNlKTtcbn07XG5cbi8vIEBuYW1lc3BhY2UgTWFwXG4vLyBAc2VjdGlvbiBNZXRob2RzIGZvciBMYXllcnMgYW5kIENvbnRyb2xzXG5NYXAuaW5jbHVkZSh7XG5cblx0Ly8gQG1ldGhvZCBvcGVuVG9vbHRpcCh0b29sdGlwOiBUb29sdGlwKTogdGhpc1xuXHQvLyBPcGVucyB0aGUgc3BlY2lmaWVkIHRvb2x0aXAuXG5cdC8vIEBhbHRlcm5hdGl2ZVxuXHQvLyBAbWV0aG9kIG9wZW5Ub29sdGlwKGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudCwgbGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/OiBUb29sdGlwIG9wdGlvbnMpOiB0aGlzXG5cdC8vIENyZWF0ZXMgYSB0b29sdGlwIHdpdGggdGhlIHNwZWNpZmllZCBjb250ZW50IGFuZCBvcHRpb25zIGFuZCBvcGVuIGl0LlxuXHRvcGVuVG9vbHRpcDogZnVuY3Rpb24gKHRvb2x0aXAsIGxhdGxuZywgb3B0aW9ucykge1xuXHRcdHRoaXMuX2luaXRPdmVybGF5KFRvb2x0aXAsIHRvb2x0aXAsIGxhdGxuZywgb3B0aW9ucylcblx0XHQgIC5vcGVuT24odGhpcyk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGNsb3NlVG9vbHRpcCh0b29sdGlwOiBUb29sdGlwKTogdGhpc1xuXHQvLyBDbG9zZXMgdGhlIHRvb2x0aXAgZ2l2ZW4gYXMgcGFyYW1ldGVyLlxuXHRjbG9zZVRvb2x0aXA6IGZ1bmN0aW9uICh0b29sdGlwKSB7XG5cdFx0dG9vbHRpcC5jbG9zZSgpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cbn0pO1xuXG4vKlxuICogQG5hbWVzcGFjZSBMYXllclxuICogQHNlY3Rpb24gVG9vbHRpcCBtZXRob2RzIGV4YW1wbGVcbiAqXG4gKiBBbGwgbGF5ZXJzIHNoYXJlIGEgc2V0IG9mIG1ldGhvZHMgY29udmVuaWVudCBmb3IgYmluZGluZyB0b29sdGlwcyB0byBpdC5cbiAqXG4gKiBgYGBqc1xuICogdmFyIGxheWVyID0gTC5Qb2x5Z29uKGxhdGxuZ3MpLmJpbmRUb29sdGlwKCdIaSBUaGVyZSEnKS5hZGRUbyhtYXApO1xuICogbGF5ZXIub3BlblRvb2x0aXAoKTtcbiAqIGxheWVyLmNsb3NlVG9vbHRpcCgpO1xuICogYGBgXG4gKi9cblxuLy8gQHNlY3Rpb24gVG9vbHRpcCBtZXRob2RzXG5MYXllci5pbmNsdWRlKHtcblxuXHQvLyBAbWV0aG9kIGJpbmRUb29sdGlwKGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudHxGdW5jdGlvbnxUb29sdGlwLCBvcHRpb25zPzogVG9vbHRpcCBvcHRpb25zKTogdGhpc1xuXHQvLyBCaW5kcyBhIHRvb2x0aXAgdG8gdGhlIGxheWVyIHdpdGggdGhlIHBhc3NlZCBgY29udGVudGAgYW5kIHNldHMgdXAgdGhlXG5cdC8vIG5lY2Vzc2FyeSBldmVudCBsaXN0ZW5lcnMuIElmIGEgYEZ1bmN0aW9uYCBpcyBwYXNzZWQgaXQgd2lsbCByZWNlaXZlXG5cdC8vIHRoZSBsYXllciBhcyB0aGUgZmlyc3QgYXJndW1lbnQgYW5kIHNob3VsZCByZXR1cm4gYSBgU3RyaW5nYCBvciBgSFRNTEVsZW1lbnRgLlxuXHRiaW5kVG9vbHRpcDogZnVuY3Rpb24gKGNvbnRlbnQsIG9wdGlvbnMpIHtcblxuXHRcdGlmICh0aGlzLl90b29sdGlwICYmIHRoaXMuaXNUb29sdGlwT3BlbigpKSB7XG5cdFx0XHR0aGlzLnVuYmluZFRvb2x0aXAoKTtcblx0XHR9XG5cblx0XHR0aGlzLl90b29sdGlwID0gdGhpcy5faW5pdE92ZXJsYXkoVG9vbHRpcCwgdGhpcy5fdG9vbHRpcCwgY29udGVudCwgb3B0aW9ucyk7XG5cdFx0dGhpcy5faW5pdFRvb2x0aXBJbnRlcmFjdGlvbnMoKTtcblxuXHRcdGlmICh0aGlzLl90b29sdGlwLm9wdGlvbnMucGVybWFuZW50ICYmIHRoaXMuX21hcCAmJiB0aGlzLl9tYXAuaGFzTGF5ZXIodGhpcykpIHtcblx0XHRcdHRoaXMub3BlblRvb2x0aXAoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHVuYmluZFRvb2x0aXAoKTogdGhpc1xuXHQvLyBSZW1vdmVzIHRoZSB0b29sdGlwIHByZXZpb3VzbHkgYm91bmQgd2l0aCBgYmluZFRvb2x0aXBgLlxuXHR1bmJpbmRUb29sdGlwOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXApIHtcblx0XHRcdHRoaXMuX2luaXRUb29sdGlwSW50ZXJhY3Rpb25zKHRydWUpO1xuXHRcdFx0dGhpcy5jbG9zZVRvb2x0aXAoKTtcblx0XHRcdHRoaXMuX3Rvb2x0aXAgPSBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfaW5pdFRvb2x0aXBJbnRlcmFjdGlvbnM6IGZ1bmN0aW9uIChyZW1vdmUpIHtcblx0XHRpZiAoIXJlbW92ZSAmJiB0aGlzLl90b29sdGlwSGFuZGxlcnNBZGRlZCkgeyByZXR1cm47IH1cblx0XHR2YXIgb25PZmYgPSByZW1vdmUgPyAnb2ZmJyA6ICdvbicsXG5cdFx0ICAgIGV2ZW50cyA9IHtcblx0XHRcdHJlbW92ZTogdGhpcy5jbG9zZVRvb2x0aXAsXG5cdFx0XHRtb3ZlOiB0aGlzLl9tb3ZlVG9vbHRpcFxuXHRcdCAgICB9O1xuXHRcdGlmICghdGhpcy5fdG9vbHRpcC5vcHRpb25zLnBlcm1hbmVudCkge1xuXHRcdFx0ZXZlbnRzLm1vdXNlb3ZlciA9IHRoaXMuX29wZW5Ub29sdGlwO1xuXHRcdFx0ZXZlbnRzLm1vdXNlb3V0ID0gdGhpcy5jbG9zZVRvb2x0aXA7XG5cdFx0XHRldmVudHMuY2xpY2sgPSB0aGlzLl9vcGVuVG9vbHRpcDtcblx0XHRcdGlmICh0aGlzLl9tYXApIHtcblx0XHRcdFx0dGhpcy5fYWRkRm9jdXNMaXN0ZW5lcnMoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGV2ZW50cy5hZGQgPSB0aGlzLl9hZGRGb2N1c0xpc3RlbmVycztcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXZlbnRzLmFkZCA9IHRoaXMuX29wZW5Ub29sdGlwO1xuXHRcdH1cblx0XHRpZiAodGhpcy5fdG9vbHRpcC5vcHRpb25zLnN0aWNreSkge1xuXHRcdFx0ZXZlbnRzLm1vdXNlbW92ZSA9IHRoaXMuX21vdmVUb29sdGlwO1xuXHRcdH1cblx0XHR0aGlzW29uT2ZmXShldmVudHMpO1xuXHRcdHRoaXMuX3Rvb2x0aXBIYW5kbGVyc0FkZGVkID0gIXJlbW92ZTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIG9wZW5Ub29sdGlwKGxhdGxuZz86IExhdExuZyk6IHRoaXNcblx0Ly8gT3BlbnMgdGhlIGJvdW5kIHRvb2x0aXAgYXQgdGhlIHNwZWNpZmllZCBgbGF0bG5nYCBvciBhdCB0aGUgZGVmYXVsdCB0b29sdGlwIGFuY2hvciBpZiBubyBgbGF0bG5nYCBpcyBwYXNzZWQuXG5cdG9wZW5Ub29sdGlwOiBmdW5jdGlvbiAobGF0bG5nKSB7XG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXApIHtcblx0XHRcdGlmICghKHRoaXMgaW5zdGFuY2VvZiBGZWF0dXJlR3JvdXApKSB7XG5cdFx0XHRcdHRoaXMuX3Rvb2x0aXAuX3NvdXJjZSA9IHRoaXM7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5fdG9vbHRpcC5fcHJlcGFyZU9wZW4obGF0bG5nKSkge1xuXHRcdFx0XHQvLyBvcGVuIHRoZSB0b29sdGlwIG9uIHRoZSBtYXBcblx0XHRcdFx0dGhpcy5fdG9vbHRpcC5vcGVuT24odGhpcy5fbWFwKTtcblxuXHRcdFx0XHRpZiAodGhpcy5nZXRFbGVtZW50KSB7XG5cdFx0XHRcdFx0dGhpcy5fc2V0QXJpYURlc2NyaWJlZEJ5T25MYXllcih0aGlzKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLmVhY2hMYXllcikge1xuXHRcdFx0XHRcdHRoaXMuZWFjaExheWVyKHRoaXMuX3NldEFyaWFEZXNjcmliZWRCeU9uTGF5ZXIsIHRoaXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgY2xvc2VUb29sdGlwKCk6IHRoaXNcblx0Ly8gQ2xvc2VzIHRoZSB0b29sdGlwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaWYgaXQgaXMgb3Blbi5cblx0Y2xvc2VUb29sdGlwOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXApIHtcblx0XHRcdHJldHVybiB0aGlzLl90b29sdGlwLmNsb3NlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIEBtZXRob2QgdG9nZ2xlVG9vbHRpcCgpOiB0aGlzXG5cdC8vIE9wZW5zIG9yIGNsb3NlcyB0aGUgdG9vbHRpcCBib3VuZCB0byB0aGlzIGxheWVyIGRlcGVuZGluZyBvbiBpdHMgY3VycmVudCBzdGF0ZS5cblx0dG9nZ2xlVG9vbHRpcDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl90b29sdGlwKSB7XG5cdFx0XHR0aGlzLl90b29sdGlwLnRvZ2dsZSh0aGlzKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBpc1Rvb2x0aXBPcGVuKCk6IGJvb2xlYW5cblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRvb2x0aXAgYm91bmQgdG8gdGhpcyBsYXllciBpcyBjdXJyZW50bHkgb3Blbi5cblx0aXNUb29sdGlwT3BlbjogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl90b29sdGlwLmlzT3BlbigpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0VG9vbHRpcENvbnRlbnQoY29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50fFRvb2x0aXApOiB0aGlzXG5cdC8vIFNldHMgdGhlIGNvbnRlbnQgb2YgdGhlIHRvb2x0aXAgYm91bmQgdG8gdGhpcyBsYXllci5cblx0c2V0VG9vbHRpcENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXApIHtcblx0XHRcdHRoaXMuX3Rvb2x0aXAuc2V0Q29udGVudChjb250ZW50KTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRUb29sdGlwKCk6IFRvb2x0aXBcblx0Ly8gUmV0dXJucyB0aGUgdG9vbHRpcCBib3VuZCB0byB0aGlzIGxheWVyLlxuXHRnZXRUb29sdGlwOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3Rvb2x0aXA7XG5cdH0sXG5cblx0X2FkZEZvY3VzTGlzdGVuZXJzOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuZ2V0RWxlbWVudCkge1xuXHRcdFx0dGhpcy5fYWRkRm9jdXNMaXN0ZW5lcnNPbkxheWVyKHRoaXMpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5lYWNoTGF5ZXIpIHtcblx0XHRcdHRoaXMuZWFjaExheWVyKHRoaXMuX2FkZEZvY3VzTGlzdGVuZXJzT25MYXllciwgdGhpcyk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hZGRGb2N1c0xpc3RlbmVyc09uTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBlbCA9IHR5cGVvZiBsYXllci5nZXRFbGVtZW50ID09PSAnZnVuY3Rpb24nICYmIGxheWVyLmdldEVsZW1lbnQoKTtcblx0XHRpZiAoZWwpIHtcblx0XHRcdERvbUV2ZW50Lm9uKGVsLCAnZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRoaXMuX3Rvb2x0aXAuX3NvdXJjZSA9IGxheWVyO1xuXHRcdFx0XHR0aGlzLm9wZW5Ub29sdGlwKCk7XG5cdFx0XHR9LCB0aGlzKTtcblx0XHRcdERvbUV2ZW50Lm9uKGVsLCAnYmx1cicsIHRoaXMuY2xvc2VUb29sdGlwLCB0aGlzKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldEFyaWFEZXNjcmliZWRCeU9uTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBlbCA9IHR5cGVvZiBsYXllci5nZXRFbGVtZW50ID09PSAnZnVuY3Rpb24nICYmIGxheWVyLmdldEVsZW1lbnQoKTtcblx0XHRpZiAoZWwpIHtcblx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsIHRoaXMuX3Rvb2x0aXAuX2NvbnRhaW5lci5pZCk7XG5cdFx0fVxuXHR9LFxuXG5cblx0X29wZW5Ub29sdGlwOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICghdGhpcy5fdG9vbHRpcCB8fCAhdGhpcy5fbWFwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlIG1hcCBpcyBtb3ZpbmcsIHdlIHdpbGwgc2hvdyB0aGUgdG9vbHRpcCBhZnRlciBpdCdzIGRvbmUuXG5cdFx0aWYgKHRoaXMuX21hcC5kcmFnZ2luZyAmJiB0aGlzLl9tYXAuZHJhZ2dpbmcubW92aW5nKCkgJiYgIXRoaXMuX29wZW5PbmNlRmxhZykge1xuXHRcdFx0dGhpcy5fb3Blbk9uY2VGbGFnID0gdHJ1ZTtcblx0XHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHRcdHRoaXMuX21hcC5vbmNlKCdtb3ZlZW5kJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aGF0Ll9vcGVuT25jZUZsYWcgPSBmYWxzZTtcblx0XHRcdFx0dGhhdC5fb3BlblRvb2x0aXAoZSk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl90b29sdGlwLl9zb3VyY2UgPSBlLmxheWVyIHx8IGUudGFyZ2V0O1xuXG5cdFx0dGhpcy5vcGVuVG9vbHRpcCh0aGlzLl90b29sdGlwLm9wdGlvbnMuc3RpY2t5ID8gZS5sYXRsbmcgOiB1bmRlZmluZWQpO1xuXHR9LFxuXG5cdF9tb3ZlVG9vbHRpcDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgbGF0bG5nID0gZS5sYXRsbmcsIGNvbnRhaW5lclBvaW50LCBsYXllclBvaW50O1xuXHRcdGlmICh0aGlzLl90b29sdGlwLm9wdGlvbnMuc3RpY2t5ICYmIGUub3JpZ2luYWxFdmVudCkge1xuXHRcdFx0Y29udGFpbmVyUG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZS5vcmlnaW5hbEV2ZW50KTtcblx0XHRcdGxheWVyUG9pbnQgPSB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoY29udGFpbmVyUG9pbnQpO1xuXHRcdFx0bGF0bG5nID0gdGhpcy5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyhsYXllclBvaW50KTtcblx0XHR9XG5cdFx0dGhpcy5fdG9vbHRpcC5zZXRMYXRMbmcobGF0bG5nKTtcblx0fVxufSk7XG4iLCAiaW1wb3J0IHtJY29ufSBmcm9tICcuL0ljb24nO1xuaW1wb3J0IHt0b1BvaW50IGFzIHBvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XG5pbXBvcnQge2VtcHR5fSBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5cbi8qXG4gKiBAY2xhc3MgRGl2SWNvblxuICogQGFrYSBMLkRpdkljb25cbiAqIEBpbmhlcml0cyBJY29uXG4gKlxuICogUmVwcmVzZW50cyBhIGxpZ2h0d2VpZ2h0IGljb24gZm9yIG1hcmtlcnMgdGhhdCB1c2VzIGEgc2ltcGxlIGA8ZGl2PmBcbiAqIGVsZW1lbnQgaW5zdGVhZCBvZiBhbiBpbWFnZS4gSW5oZXJpdHMgZnJvbSBgSWNvbmAgYnV0IGlnbm9yZXMgdGhlIGBpY29uVXJsYCBhbmQgc2hhZG93IG9wdGlvbnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiB2YXIgbXlJY29uID0gTC5kaXZJY29uKHtjbGFzc05hbWU6ICdteS1kaXYtaWNvbid9KTtcbiAqIC8vIHlvdSBjYW4gc2V0IC5teS1kaXYtaWNvbiBzdHlsZXMgaW4gQ1NTXG4gKlxuICogTC5tYXJrZXIoWzUwLjUwNSwgMzAuNTddLCB7aWNvbjogbXlJY29ufSkuYWRkVG8obWFwKTtcbiAqIGBgYFxuICpcbiAqIEJ5IGRlZmF1bHQsIGl0IGhhcyBhICdsZWFmbGV0LWRpdi1pY29uJyBDU1MgY2xhc3MgYW5kIGlzIHN0eWxlZCBhcyBhIGxpdHRsZSB3aGl0ZSBzcXVhcmUgd2l0aCBhIHNoYWRvdy5cbiAqL1xuXG5leHBvcnQgdmFyIERpdkljb24gPSBJY29uLmV4dGVuZCh7XG5cdG9wdGlvbnM6IHtcblx0XHQvLyBAc2VjdGlvblxuXHRcdC8vIEBha2EgRGl2SWNvbiBvcHRpb25zXG5cdFx0aWNvblNpemU6IFsxMiwgMTJdLCAvLyBhbHNvIGNhbiBiZSBzZXQgdGhyb3VnaCBDU1NcblxuXHRcdC8vIGljb25BbmNob3I6IChQb2ludCksXG5cdFx0Ly8gcG9wdXBBbmNob3I6IChQb2ludCksXG5cblx0XHQvLyBAb3B0aW9uIGh0bWw6IFN0cmluZ3xIVE1MRWxlbWVudCA9ICcnXG5cdFx0Ly8gQ3VzdG9tIEhUTUwgY29kZSB0byBwdXQgaW5zaWRlIHRoZSBkaXYgZWxlbWVudCwgZW1wdHkgYnkgZGVmYXVsdC4gQWx0ZXJuYXRpdmVseSxcblx0XHQvLyBhbiBpbnN0YW5jZSBvZiBgSFRNTEVsZW1lbnRgLlxuXHRcdGh0bWw6IGZhbHNlLFxuXG5cdFx0Ly8gQG9wdGlvbiBiZ1BvczogUG9pbnQgPSBbMCwgMF1cblx0XHQvLyBPcHRpb25hbCByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgYmFja2dyb3VuZCwgaW4gcGl4ZWxzXG5cdFx0YmdQb3M6IG51bGwsXG5cblx0XHRjbGFzc05hbWU6ICdsZWFmbGV0LWRpdi1pY29uJ1xuXHR9LFxuXG5cdGNyZWF0ZUljb246IGZ1bmN0aW9uIChvbGRJY29uKSB7XG5cdFx0dmFyIGRpdiA9IChvbGRJY29uICYmIG9sZEljb24udGFnTmFtZSA9PT0gJ0RJVicpID8gb2xkSWNvbiA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuXHRcdCAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0aWYgKG9wdGlvbnMuaHRtbCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcblx0XHRcdGVtcHR5KGRpdik7XG5cdFx0XHRkaXYuYXBwZW5kQ2hpbGQob3B0aW9ucy5odG1sKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGl2LmlubmVySFRNTCA9IG9wdGlvbnMuaHRtbCAhPT0gZmFsc2UgPyBvcHRpb25zLmh0bWwgOiAnJztcblx0XHR9XG5cblx0XHRpZiAob3B0aW9ucy5iZ1Bvcykge1xuXHRcdFx0dmFyIGJnUG9zID0gcG9pbnQob3B0aW9ucy5iZ1Bvcyk7XG5cdFx0XHRkaXYuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gKC1iZ1Bvcy54KSArICdweCAnICsgKC1iZ1Bvcy55KSArICdweCc7XG5cdFx0fVxuXHRcdHRoaXMuX3NldEljb25TdHlsZXMoZGl2LCAnaWNvbicpO1xuXG5cdFx0cmV0dXJuIGRpdjtcblx0fSxcblxuXHRjcmVhdGVTaGFkb3c6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxufSk7XG5cbi8vIEBmYWN0b3J5IEwuZGl2SWNvbihvcHRpb25zOiBEaXZJY29uIG9wdGlvbnMpXG4vLyBDcmVhdGVzIGEgYERpdkljb25gIGluc3RhbmNlIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG5leHBvcnQgZnVuY3Rpb24gZGl2SWNvbihvcHRpb25zKSB7XG5cdHJldHVybiBuZXcgRGl2SWNvbihvcHRpb25zKTtcbn1cbiIsICJpbXBvcnQge0ljb259IGZyb20gJy4vSWNvbic7XG5leHBvcnQge2ljb259IGZyb20gJy4vSWNvbic7XG5pbXBvcnQge0ljb25EZWZhdWx0fSBmcm9tICcuL0ljb24uRGVmYXVsdCc7XG5JY29uLkRlZmF1bHQgPSBJY29uRGVmYXVsdDtcbmV4cG9ydCB7SWNvbn07XG5cbmV4cG9ydCB7RGl2SWNvbiwgZGl2SWNvbn0gZnJvbSAnLi9EaXZJY29uJztcbmV4cG9ydCB7TWFya2VyLCBtYXJrZXJ9IGZyb20gJy4vTWFya2VyJztcbiIsICJpbXBvcnQge0xheWVyfSBmcm9tICcuLi9MYXllcic7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi8uLi9jb3JlL0Jyb3dzZXInO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcbmltcG9ydCB7TGF0TG5nQm91bmRzLCB0b0xhdExuZ0JvdW5kcyBhcyBsYXRMbmdCb3VuZHN9IGZyb20gJy4uLy4uL2dlby9MYXRMbmdCb3VuZHMnO1xuXG4vKlxuICogQGNsYXNzIEdyaWRMYXllclxuICogQGluaGVyaXRzIExheWVyXG4gKiBAYWthIEwuR3JpZExheWVyXG4gKlxuICogR2VuZXJpYyBjbGFzcyBmb3IgaGFuZGxpbmcgYSB0aWxlZCBncmlkIG9mIEhUTUwgZWxlbWVudHMuIFRoaXMgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIGFsbCB0aWxlIGxheWVycyBhbmQgcmVwbGFjZXMgYFRpbGVMYXllci5DYW52YXNgLlxuICogR3JpZExheWVyIGNhbiBiZSBleHRlbmRlZCB0byBjcmVhdGUgYSB0aWxlZCBncmlkIG9mIEhUTUwgZWxlbWVudHMgbGlrZSBgPGNhbnZhcz5gLCBgPGltZz5gIG9yIGA8ZGl2PmAuIEdyaWRMYXllciB3aWxsIGhhbmRsZSBjcmVhdGluZyBhbmQgYW5pbWF0aW5nIHRoZXNlIERPTSBlbGVtZW50cyBmb3IgeW91LlxuICpcbiAqXG4gKiBAc2VjdGlvbiBTeW5jaHJvbm91cyB1c2FnZVxuICogQGV4YW1wbGVcbiAqXG4gKiBUbyBjcmVhdGUgYSBjdXN0b20gbGF5ZXIsIGV4dGVuZCBHcmlkTGF5ZXIgYW5kIGltcGxlbWVudCB0aGUgYGNyZWF0ZVRpbGUoKWAgbWV0aG9kLCB3aGljaCB3aWxsIGJlIHBhc3NlZCBhIGBQb2ludGAgb2JqZWN0IHdpdGggdGhlIGB4YCwgYHlgLCBhbmQgYHpgICh6b29tIGxldmVsKSBjb29yZGluYXRlcyB0byBkcmF3IHlvdXIgdGlsZS5cbiAqXG4gKiBgYGBqc1xuICogdmFyIENhbnZhc0xheWVyID0gTC5HcmlkTGF5ZXIuZXh0ZW5kKHtcbiAqICAgICBjcmVhdGVUaWxlOiBmdW5jdGlvbihjb29yZHMpe1xuICogICAgICAgICAvLyBjcmVhdGUgYSA8Y2FudmFzPiBlbGVtZW50IGZvciBkcmF3aW5nXG4gKiAgICAgICAgIHZhciB0aWxlID0gTC5Eb21VdGlsLmNyZWF0ZSgnY2FudmFzJywgJ2xlYWZsZXQtdGlsZScpO1xuICpcbiAqICAgICAgICAgLy8gc2V0dXAgdGlsZSB3aWR0aCBhbmQgaGVpZ2h0IGFjY29yZGluZyB0byB0aGUgb3B0aW9uc1xuICogICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0VGlsZVNpemUoKTtcbiAqICAgICAgICAgdGlsZS53aWR0aCA9IHNpemUueDtcbiAqICAgICAgICAgdGlsZS5oZWlnaHQgPSBzaXplLnk7XG4gKlxuICogICAgICAgICAvLyBnZXQgYSBjYW52YXMgY29udGV4dCBhbmQgZHJhdyBzb21ldGhpbmcgb24gaXQgdXNpbmcgY29vcmRzLngsIGNvb3Jkcy55IGFuZCBjb29yZHMuelxuICogICAgICAgICB2YXIgY3R4ID0gdGlsZS5nZXRDb250ZXh0KCcyZCcpO1xuICpcbiAqICAgICAgICAgLy8gcmV0dXJuIHRoZSB0aWxlIHNvIGl0IGNhbiBiZSByZW5kZXJlZCBvbiBzY3JlZW5cbiAqICAgICAgICAgcmV0dXJuIHRpbGU7XG4gKiAgICAgfVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VjdGlvbiBBc3luY2hyb25vdXMgdXNhZ2VcbiAqIEBleGFtcGxlXG4gKlxuICogVGlsZSBjcmVhdGlvbiBjYW4gYWxzbyBiZSBhc3luY2hyb25vdXMsIHRoaXMgaXMgdXNlZnVsIHdoZW4gdXNpbmcgYSB0aGlyZC1wYXJ0eSBkcmF3aW5nIGxpYnJhcnkuIE9uY2UgdGhlIHRpbGUgaXMgZmluaXNoZWQgZHJhd2luZyBpdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBgZG9uZSgpYCBjYWxsYmFjay5cbiAqXG4gKiBgYGBqc1xuICogdmFyIENhbnZhc0xheWVyID0gTC5HcmlkTGF5ZXIuZXh0ZW5kKHtcbiAqICAgICBjcmVhdGVUaWxlOiBmdW5jdGlvbihjb29yZHMsIGRvbmUpe1xuICogICAgICAgICB2YXIgZXJyb3I7XG4gKlxuICogICAgICAgICAvLyBjcmVhdGUgYSA8Y2FudmFzPiBlbGVtZW50IGZvciBkcmF3aW5nXG4gKiAgICAgICAgIHZhciB0aWxlID0gTC5Eb21VdGlsLmNyZWF0ZSgnY2FudmFzJywgJ2xlYWZsZXQtdGlsZScpO1xuICpcbiAqICAgICAgICAgLy8gc2V0dXAgdGlsZSB3aWR0aCBhbmQgaGVpZ2h0IGFjY29yZGluZyB0byB0aGUgb3B0aW9uc1xuICogICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0VGlsZVNpemUoKTtcbiAqICAgICAgICAgdGlsZS53aWR0aCA9IHNpemUueDtcbiAqICAgICAgICAgdGlsZS5oZWlnaHQgPSBzaXplLnk7XG4gKlxuICogICAgICAgICAvLyBkcmF3IHNvbWV0aGluZyBhc3luY2hyb25vdXNseSBhbmQgcGFzcyB0aGUgdGlsZSB0byB0aGUgZG9uZSgpIGNhbGxiYWNrXG4gKiAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICBkb25lKGVycm9yLCB0aWxlKTtcbiAqICAgICAgICAgfSwgMTAwMCk7XG4gKlxuICogICAgICAgICByZXR1cm4gdGlsZTtcbiAqICAgICB9XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWN0aW9uXG4gKi9cblxuXG5leHBvcnQgdmFyIEdyaWRMYXllciA9IExheWVyLmV4dGVuZCh7XG5cblx0Ly8gQHNlY3Rpb25cblx0Ly8gQGFrYSBHcmlkTGF5ZXIgb3B0aW9uc1xuXHRvcHRpb25zOiB7XG5cdFx0Ly8gQG9wdGlvbiB0aWxlU2l6ZTogTnVtYmVyfFBvaW50ID0gMjU2XG5cdFx0Ly8gV2lkdGggYW5kIGhlaWdodCBvZiB0aWxlcyBpbiB0aGUgZ3JpZC4gVXNlIGEgbnVtYmVyIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGVxdWFsLCBvciBgTC5wb2ludCh3aWR0aCwgaGVpZ2h0KWAgb3RoZXJ3aXNlLlxuXHRcdHRpbGVTaXplOiAyNTYsXG5cblx0XHQvLyBAb3B0aW9uIG9wYWNpdHk6IE51bWJlciA9IDEuMFxuXHRcdC8vIE9wYWNpdHkgb2YgdGhlIHRpbGVzLiBDYW4gYmUgdXNlZCBpbiB0aGUgYGNyZWF0ZVRpbGUoKWAgZnVuY3Rpb24uXG5cdFx0b3BhY2l0eTogMSxcblxuXHRcdC8vIEBvcHRpb24gdXBkYXRlV2hlbklkbGU6IEJvb2xlYW4gPSAoZGVwZW5kcylcblx0XHQvLyBMb2FkIG5ldyB0aWxlcyBvbmx5IHdoZW4gcGFubmluZyBlbmRzLlxuXHRcdC8vIGB0cnVlYCBieSBkZWZhdWx0IG9uIG1vYmlsZSBicm93c2VycywgaW4gb3JkZXIgdG8gYXZvaWQgdG9vIG1hbnkgcmVxdWVzdHMgYW5kIGtlZXAgc21vb3RoIG5hdmlnYXRpb24uXG5cdFx0Ly8gYGZhbHNlYCBvdGhlcndpc2UgaW4gb3JkZXIgdG8gZGlzcGxheSBuZXcgdGlsZXMgX2R1cmluZ18gcGFubmluZywgc2luY2UgaXQgaXMgZWFzeSB0byBwYW4gb3V0c2lkZSB0aGVcblx0XHQvLyBbYGtlZXBCdWZmZXJgXSgjZ3JpZGxheWVyLWtlZXBidWZmZXIpIG9wdGlvbiBpbiBkZXNrdG9wIGJyb3dzZXJzLlxuXHRcdHVwZGF0ZVdoZW5JZGxlOiBCcm93c2VyLm1vYmlsZSxcblxuXHRcdC8vIEBvcHRpb24gdXBkYXRlV2hlblpvb21pbmc6IEJvb2xlYW4gPSB0cnVlXG5cdFx0Ly8gQnkgZGVmYXVsdCwgYSBzbW9vdGggem9vbSBhbmltYXRpb24gKGR1cmluZyBhIFt0b3VjaCB6b29tXSgjbWFwLXRvdWNoem9vbSkgb3IgYSBbYGZseVRvKClgXSgjbWFwLWZseXRvKSkgd2lsbCB1cGRhdGUgZ3JpZCBsYXllcnMgZXZlcnkgaW50ZWdlciB6b29tIGxldmVsLiBTZXR0aW5nIHRoaXMgb3B0aW9uIHRvIGBmYWxzZWAgd2lsbCB1cGRhdGUgdGhlIGdyaWQgbGF5ZXIgb25seSB3aGVuIHRoZSBzbW9vdGggYW5pbWF0aW9uIGVuZHMuXG5cdFx0dXBkYXRlV2hlblpvb21pbmc6IHRydWUsXG5cblx0XHQvLyBAb3B0aW9uIHVwZGF0ZUludGVydmFsOiBOdW1iZXIgPSAyMDBcblx0XHQvLyBUaWxlcyB3aWxsIG5vdCB1cGRhdGUgbW9yZSB0aGFuIG9uY2UgZXZlcnkgYHVwZGF0ZUludGVydmFsYCBtaWxsaXNlY29uZHMgd2hlbiBwYW5uaW5nLlxuXHRcdHVwZGF0ZUludGVydmFsOiAyMDAsXG5cblx0XHQvLyBAb3B0aW9uIHpJbmRleDogTnVtYmVyID0gMVxuXHRcdC8vIFRoZSBleHBsaWNpdCB6SW5kZXggb2YgdGhlIHRpbGUgbGF5ZXIuXG5cdFx0ekluZGV4OiAxLFxuXG5cdFx0Ly8gQG9wdGlvbiBib3VuZHM6IExhdExuZ0JvdW5kcyA9IHVuZGVmaW5lZFxuXHRcdC8vIElmIHNldCwgdGlsZXMgd2lsbCBvbmx5IGJlIGxvYWRlZCBpbnNpZGUgdGhlIHNldCBgTGF0TG5nQm91bmRzYC5cblx0XHRib3VuZHM6IG51bGwsXG5cblx0XHQvLyBAb3B0aW9uIG1pblpvb206IE51bWJlciA9IDBcblx0XHQvLyBUaGUgbWluaW11bSB6b29tIGxldmVsIGRvd24gdG8gd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlIGRpc3BsYXllZCAoaW5jbHVzaXZlKS5cblx0XHRtaW5ab29tOiAwLFxuXG5cdFx0Ly8gQG9wdGlvbiBtYXhab29tOiBOdW1iZXIgPSB1bmRlZmluZWRcblx0XHQvLyBUaGUgbWF4aW11bSB6b29tIGxldmVsIHVwIHRvIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZSBkaXNwbGF5ZWQgKGluY2x1c2l2ZSkuXG5cdFx0bWF4Wm9vbTogdW5kZWZpbmVkLFxuXG5cdFx0Ly8gQG9wdGlvbiBtYXhOYXRpdmVab29tOiBOdW1iZXIgPSB1bmRlZmluZWRcblx0XHQvLyBNYXhpbXVtIHpvb20gbnVtYmVyIHRoZSB0aWxlIHNvdXJjZSBoYXMgYXZhaWxhYmxlLiBJZiBpdCBpcyBzcGVjaWZpZWQsXG5cdFx0Ly8gdGhlIHRpbGVzIG9uIGFsbCB6b29tIGxldmVscyBoaWdoZXIgdGhhbiBgbWF4TmF0aXZlWm9vbWAgd2lsbCBiZSBsb2FkZWRcblx0XHQvLyBmcm9tIGBtYXhOYXRpdmVab29tYCBsZXZlbCBhbmQgYXV0by1zY2FsZWQuXG5cdFx0bWF4TmF0aXZlWm9vbTogdW5kZWZpbmVkLFxuXG5cdFx0Ly8gQG9wdGlvbiBtaW5OYXRpdmVab29tOiBOdW1iZXIgPSB1bmRlZmluZWRcblx0XHQvLyBNaW5pbXVtIHpvb20gbnVtYmVyIHRoZSB0aWxlIHNvdXJjZSBoYXMgYXZhaWxhYmxlLiBJZiBpdCBpcyBzcGVjaWZpZWQsXG5cdFx0Ly8gdGhlIHRpbGVzIG9uIGFsbCB6b29tIGxldmVscyBsb3dlciB0aGFuIGBtaW5OYXRpdmVab29tYCB3aWxsIGJlIGxvYWRlZFxuXHRcdC8vIGZyb20gYG1pbk5hdGl2ZVpvb21gIGxldmVsIGFuZCBhdXRvLXNjYWxlZC5cblx0XHRtaW5OYXRpdmVab29tOiB1bmRlZmluZWQsXG5cblx0XHQvLyBAb3B0aW9uIG5vV3JhcDogQm9vbGVhbiA9IGZhbHNlXG5cdFx0Ly8gV2hldGhlciB0aGUgbGF5ZXIgaXMgd3JhcHBlZCBhcm91bmQgdGhlIGFudGltZXJpZGlhbi4gSWYgYHRydWVgLCB0aGVcblx0XHQvLyBHcmlkTGF5ZXIgd2lsbCBvbmx5IGJlIGRpc3BsYXllZCBvbmNlIGF0IGxvdyB6b29tIGxldmVscy4gSGFzIG5vXG5cdFx0Ly8gZWZmZWN0IHdoZW4gdGhlIFttYXAgQ1JTXSgjbWFwLWNycykgZG9lc24ndCB3cmFwIGFyb3VuZC4gQ2FuIGJlIHVzZWRcblx0XHQvLyBpbiBjb21iaW5hdGlvbiB3aXRoIFtgYm91bmRzYF0oI2dyaWRsYXllci1ib3VuZHMpIHRvIHByZXZlbnQgcmVxdWVzdGluZ1xuXHRcdC8vIHRpbGVzIG91dHNpZGUgdGhlIENSUyBsaW1pdHMuXG5cdFx0bm9XcmFwOiBmYWxzZSxcblxuXHRcdC8vIEBvcHRpb24gcGFuZTogU3RyaW5nID0gJ3RpbGVQYW5lJ1xuXHRcdC8vIGBNYXAgcGFuZWAgd2hlcmUgdGhlIGdyaWQgbGF5ZXIgd2lsbCBiZSBhZGRlZC5cblx0XHRwYW5lOiAndGlsZVBhbmUnLFxuXG5cdFx0Ly8gQG9wdGlvbiBjbGFzc05hbWU6IFN0cmluZyA9ICcnXG5cdFx0Ly8gQSBjdXN0b20gY2xhc3MgbmFtZSB0byBhc3NpZ24gdG8gdGhlIHRpbGUgbGF5ZXIuIEVtcHR5IGJ5IGRlZmF1bHQuXG5cdFx0Y2xhc3NOYW1lOiAnJyxcblxuXHRcdC8vIEBvcHRpb24ga2VlcEJ1ZmZlcjogTnVtYmVyID0gMlxuXHRcdC8vIFdoZW4gcGFubmluZyB0aGUgbWFwLCBrZWVwIHRoaXMgbWFueSByb3dzIGFuZCBjb2x1bW5zIG9mIHRpbGVzIGJlZm9yZSB1bmxvYWRpbmcgdGhlbS5cblx0XHRrZWVwQnVmZmVyOiAyXG5cdH0sXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cdH0sXG5cblx0b25BZGQ6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9pbml0Q29udGFpbmVyKCk7XG5cblx0XHR0aGlzLl9sZXZlbHMgPSB7fTtcblx0XHR0aGlzLl90aWxlcyA9IHt9O1xuXG5cdFx0dGhpcy5fcmVzZXRWaWV3KCk7IC8vIGltcGxpY2l0IF91cGRhdGUoKSBjYWxsXG5cdH0sXG5cblx0YmVmb3JlQWRkOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0bWFwLl9hZGRab29tTGltaXQodGhpcyk7XG5cdH0sXG5cblx0b25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHtcblx0XHR0aGlzLl9yZW1vdmVBbGxUaWxlcygpO1xuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0bWFwLl9yZW1vdmVab29tTGltaXQodGhpcyk7XG5cdFx0dGhpcy5fY29udGFpbmVyID0gbnVsbDtcblx0XHR0aGlzLl90aWxlWm9vbSA9IHVuZGVmaW5lZDtcblx0fSxcblxuXHQvLyBAbWV0aG9kIGJyaW5nVG9Gcm9udDogdGhpc1xuXHQvLyBCcmluZ3MgdGhlIHRpbGUgbGF5ZXIgdG8gdGhlIHRvcCBvZiBhbGwgdGlsZSBsYXllcnMuXG5cdGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tYXApIHtcblx0XHRcdERvbVV0aWwudG9Gcm9udCh0aGlzLl9jb250YWluZXIpO1xuXHRcdFx0dGhpcy5fc2V0QXV0b1pJbmRleChNYXRoLm1heCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgYnJpbmdUb0JhY2s6IHRoaXNcblx0Ly8gQnJpbmdzIHRoZSB0aWxlIGxheWVyIHRvIHRoZSBib3R0b20gb2YgYWxsIHRpbGUgbGF5ZXJzLlxuXHRicmluZ1RvQmFjazogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tYXApIHtcblx0XHRcdERvbVV0aWwudG9CYWNrKHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0XHR0aGlzLl9zZXRBdXRvWkluZGV4KE1hdGgubWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRDb250YWluZXI6IEhUTUxFbGVtZW50XG5cdC8vIFJldHVybnMgdGhlIEhUTUwgZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSB0aWxlcyBmb3IgdGhpcyBsYXllci5cblx0Z2V0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldE9wYWNpdHkob3BhY2l0eTogTnVtYmVyKTogdGhpc1xuXHQvLyBDaGFuZ2VzIHRoZSBbb3BhY2l0eV0oI2dyaWRsYXllci1vcGFjaXR5KSBvZiB0aGUgZ3JpZCBsYXllci5cblx0c2V0T3BhY2l0eTogZnVuY3Rpb24gKG9wYWNpdHkpIHtcblx0XHR0aGlzLm9wdGlvbnMub3BhY2l0eSA9IG9wYWNpdHk7XG5cdFx0dGhpcy5fdXBkYXRlT3BhY2l0eSgpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0WkluZGV4KHpJbmRleDogTnVtYmVyKTogdGhpc1xuXHQvLyBDaGFuZ2VzIHRoZSBbekluZGV4XSgjZ3JpZGxheWVyLXppbmRleCkgb2YgdGhlIGdyaWQgbGF5ZXIuXG5cdHNldFpJbmRleDogZnVuY3Rpb24gKHpJbmRleCkge1xuXHRcdHRoaXMub3B0aW9ucy56SW5kZXggPSB6SW5kZXg7XG5cdFx0dGhpcy5fdXBkYXRlWkluZGV4KCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGlzTG9hZGluZzogQm9vbGVhblxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgdGlsZSBpbiB0aGUgZ3JpZCBsYXllciBoYXMgbm90IGZpbmlzaGVkIGxvYWRpbmcuXG5cdGlzTG9hZGluZzogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9sb2FkaW5nO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgcmVkcmF3OiB0aGlzXG5cdC8vIENhdXNlcyB0aGUgbGF5ZXIgdG8gY2xlYXIgYWxsIHRoZSB0aWxlcyBhbmQgcmVxdWVzdCB0aGVtIGFnYWluLlxuXHRyZWRyYXc6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwKSB7XG5cdFx0XHR0aGlzLl9yZW1vdmVBbGxUaWxlcygpO1xuXHRcdFx0dmFyIHRpbGVab29tID0gdGhpcy5fY2xhbXBab29tKHRoaXMuX21hcC5nZXRab29tKCkpO1xuXHRcdFx0aWYgKHRpbGVab29tICE9PSB0aGlzLl90aWxlWm9vbSkge1xuXHRcdFx0XHR0aGlzLl90aWxlWm9vbSA9IHRpbGVab29tO1xuXHRcdFx0XHR0aGlzLl91cGRhdGVMZXZlbHMoKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZXZlbnRzID0ge1xuXHRcdFx0dmlld3ByZXJlc2V0OiB0aGlzLl9pbnZhbGlkYXRlQWxsLFxuXHRcdFx0dmlld3Jlc2V0OiB0aGlzLl9yZXNldFZpZXcsXG5cdFx0XHR6b29tOiB0aGlzLl9yZXNldFZpZXcsXG5cdFx0XHRtb3ZlZW5kOiB0aGlzLl9vbk1vdmVFbmRcblx0XHR9O1xuXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMudXBkYXRlV2hlbklkbGUpIHtcblx0XHRcdC8vIHVwZGF0ZSB0aWxlcyBvbiBtb3ZlLCBidXQgbm90IG1vcmUgb2Z0ZW4gdGhhbiBvbmNlIHBlciBnaXZlbiBpbnRlcnZhbFxuXHRcdFx0aWYgKCF0aGlzLl9vbk1vdmUpIHtcblx0XHRcdFx0dGhpcy5fb25Nb3ZlID0gVXRpbC50aHJvdHRsZSh0aGlzLl9vbk1vdmVFbmQsIHRoaXMub3B0aW9ucy51cGRhdGVJbnRlcnZhbCwgdGhpcyk7XG5cdFx0XHR9XG5cblx0XHRcdGV2ZW50cy5tb3ZlID0gdGhpcy5fb25Nb3ZlO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcblx0XHRcdGV2ZW50cy56b29tYW5pbSA9IHRoaXMuX2FuaW1hdGVab29tO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudHM7XG5cdH0sXG5cblx0Ly8gQHNlY3Rpb24gRXh0ZW5zaW9uIG1ldGhvZHNcblx0Ly8gTGF5ZXJzIGV4dGVuZGluZyBgR3JpZExheWVyYCBzaGFsbCByZWltcGxlbWVudCB0aGUgZm9sbG93aW5nIG1ldGhvZC5cblx0Ly8gQG1ldGhvZCBjcmVhdGVUaWxlKGNvb3JkczogT2JqZWN0LCBkb25lPzogRnVuY3Rpb24pOiBIVE1MRWxlbWVudFxuXHQvLyBDYWxsZWQgb25seSBpbnRlcm5hbGx5LCBtdXN0IGJlIG92ZXJyaWRkZW4gYnkgY2xhc3NlcyBleHRlbmRpbmcgYEdyaWRMYXllcmAuXG5cdC8vIFJldHVybnMgdGhlIGBIVE1MRWxlbWVudGAgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gYGNvb3Jkc2AuIElmIHRoZSBgZG9uZWAgY2FsbGJhY2tcblx0Ly8gaXMgc3BlY2lmaWVkLCBpdCBtdXN0IGJlIGNhbGxlZCB3aGVuIHRoZSB0aWxlIGhhcyBmaW5pc2hlZCBsb2FkaW5nIGFuZCBkcmF3aW5nLlxuXHRjcmVhdGVUaWxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHR9LFxuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBtZXRob2QgZ2V0VGlsZVNpemU6IFBvaW50XG5cdC8vIE5vcm1hbGl6ZXMgdGhlIFt0aWxlU2l6ZSBvcHRpb25dKCNncmlkbGF5ZXItdGlsZXNpemUpIGludG8gYSBwb2ludC4gVXNlZCBieSB0aGUgYGNyZWF0ZVRpbGUoKWAgbWV0aG9kLlxuXHRnZXRUaWxlU2l6ZTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBzID0gdGhpcy5vcHRpb25zLnRpbGVTaXplO1xuXHRcdHJldHVybiBzIGluc3RhbmNlb2YgUG9pbnQgPyBzIDogbmV3IFBvaW50KHMsIHMpO1xuXHR9LFxuXG5cdF91cGRhdGVaSW5kZXg6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fY29udGFpbmVyICYmIHRoaXMub3B0aW9ucy56SW5kZXggIT09IHVuZGVmaW5lZCAmJiB0aGlzLm9wdGlvbnMuekluZGV4ICE9PSBudWxsKSB7XG5cdFx0XHR0aGlzLl9jb250YWluZXIuc3R5bGUuekluZGV4ID0gdGhpcy5vcHRpb25zLnpJbmRleDtcblx0XHR9XG5cdH0sXG5cblx0X3NldEF1dG9aSW5kZXg6IGZ1bmN0aW9uIChjb21wYXJlKSB7XG5cdFx0Ly8gZ28gdGhyb3VnaCBhbGwgb3RoZXIgbGF5ZXJzIG9mIHRoZSBzYW1lIHBhbmUsIHNldCB6SW5kZXggdG8gbWF4ICsgMSAoZnJvbnQpIG9yIG1pbiAtIDEgKGJhY2spXG5cblx0XHR2YXIgbGF5ZXJzID0gdGhpcy5nZXRQYW5lKCkuY2hpbGRyZW4sXG5cdFx0ICAgIGVkZ2VaSW5kZXggPSAtY29tcGFyZSgtSW5maW5pdHksIEluZmluaXR5KTsgLy8gLUluZmluaXR5IGZvciBtYXgsIEluZmluaXR5IGZvciBtaW5cblxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBsYXllcnMubGVuZ3RoLCB6SW5kZXg7IGkgPCBsZW47IGkrKykge1xuXG5cdFx0XHR6SW5kZXggPSBsYXllcnNbaV0uc3R5bGUuekluZGV4O1xuXG5cdFx0XHRpZiAobGF5ZXJzW2ldICE9PSB0aGlzLl9jb250YWluZXIgJiYgekluZGV4KSB7XG5cdFx0XHRcdGVkZ2VaSW5kZXggPSBjb21wYXJlKGVkZ2VaSW5kZXgsICt6SW5kZXgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpc0Zpbml0ZShlZGdlWkluZGV4KSkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnpJbmRleCA9IGVkZ2VaSW5kZXggKyBjb21wYXJlKC0xLCAxKTtcblx0XHRcdHRoaXMuX3VwZGF0ZVpJbmRleCgpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlT3BhY2l0eTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fbWFwKSB7IHJldHVybjsgfVxuXG5cdFx0Ly8gSUUgZG9lc24ndCBpbmhlcml0IGZpbHRlciBvcGFjaXR5IHByb3Blcmx5LCBzbyB3ZSdyZSBmb3JjZWQgdG8gc2V0IGl0IG9uIHRpbGVzXG5cdFx0aWYgKEJyb3dzZXIuaWVsdDkpIHsgcmV0dXJuOyB9XG5cblx0XHREb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLCB0aGlzLm9wdGlvbnMub3BhY2l0eSk7XG5cblx0XHR2YXIgbm93ID0gK25ldyBEYXRlKCksXG5cdFx0ICAgIG5leHRGcmFtZSA9IGZhbHNlLFxuXHRcdCAgICB3aWxsUHJ1bmUgPSBmYWxzZTtcblxuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0dmFyIHRpbGUgPSB0aGlzLl90aWxlc1trZXldO1xuXHRcdFx0aWYgKCF0aWxlLmN1cnJlbnQgfHwgIXRpbGUubG9hZGVkKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdHZhciBmYWRlID0gTWF0aC5taW4oMSwgKG5vdyAtIHRpbGUubG9hZGVkKSAvIDIwMCk7XG5cblx0XHRcdERvbVV0aWwuc2V0T3BhY2l0eSh0aWxlLmVsLCBmYWRlKTtcblx0XHRcdGlmIChmYWRlIDwgMSkge1xuXHRcdFx0XHRuZXh0RnJhbWUgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHRpbGUuYWN0aXZlKSB7XG5cdFx0XHRcdFx0d2lsbFBydW5lID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLl9vbk9wYXF1ZVRpbGUodGlsZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGlsZS5hY3RpdmUgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh3aWxsUHJ1bmUgJiYgIXRoaXMuX25vUHJ1bmUpIHsgdGhpcy5fcHJ1bmVUaWxlcygpOyB9XG5cblx0XHRpZiAobmV4dEZyYW1lKSB7XG5cdFx0XHRVdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9mYWRlRnJhbWUpO1xuXHRcdFx0dGhpcy5fZmFkZUZyYW1lID0gVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3VwZGF0ZU9wYWNpdHksIHRoaXMpO1xuXHRcdH1cblx0fSxcblxuXHRfb25PcGFxdWVUaWxlOiBVdGlsLmZhbHNlRm4sXG5cblx0X2luaXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fY29udGFpbmVyKSB7IHJldHVybjsgfVxuXG5cdFx0dGhpcy5fY29udGFpbmVyID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LWxheWVyICcgKyAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSB8fCAnJykpO1xuXHRcdHRoaXMuX3VwZGF0ZVpJbmRleCgpO1xuXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5vcGFjaXR5IDwgMSkge1xuXHRcdFx0dGhpcy5fdXBkYXRlT3BhY2l0eSgpO1xuXHRcdH1cblxuXHRcdHRoaXMuZ2V0UGFuZSgpLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XG5cdH0sXG5cblx0X3VwZGF0ZUxldmVsczogZnVuY3Rpb24gKCkge1xuXG5cdFx0dmFyIHpvb20gPSB0aGlzLl90aWxlWm9vbSxcblx0XHQgICAgbWF4Wm9vbSA9IHRoaXMub3B0aW9ucy5tYXhab29tO1xuXG5cdFx0aWYgKHpvb20gPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9XG5cblx0XHRmb3IgKHZhciB6IGluIHRoaXMuX2xldmVscykge1xuXHRcdFx0eiA9IE51bWJlcih6KTtcblx0XHRcdGlmICh0aGlzLl9sZXZlbHNbel0uZWwuY2hpbGRyZW4ubGVuZ3RoIHx8IHogPT09IHpvb20pIHtcblx0XHRcdFx0dGhpcy5fbGV2ZWxzW3pdLmVsLnN0eWxlLnpJbmRleCA9IG1heFpvb20gLSBNYXRoLmFicyh6b29tIC0geik7XG5cdFx0XHRcdHRoaXMuX29uVXBkYXRlTGV2ZWwoeik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9sZXZlbHNbel0uZWwpO1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVUaWxlc0F0Wm9vbSh6KTtcblx0XHRcdFx0dGhpcy5fb25SZW1vdmVMZXZlbCh6KTtcblx0XHRcdFx0ZGVsZXRlIHRoaXMuX2xldmVsc1t6XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgbGV2ZWwgPSB0aGlzLl9sZXZlbHNbem9vbV0sXG5cdFx0ICAgIG1hcCA9IHRoaXMuX21hcDtcblxuXHRcdGlmICghbGV2ZWwpIHtcblx0XHRcdGxldmVsID0gdGhpcy5fbGV2ZWxzW3pvb21dID0ge307XG5cblx0XHRcdGxldmVsLmVsID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LXRpbGUtY29udGFpbmVyIGxlYWZsZXQtem9vbS1hbmltYXRlZCcsIHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0XHRsZXZlbC5lbC5zdHlsZS56SW5kZXggPSBtYXhab29tO1xuXG5cdFx0XHRsZXZlbC5vcmlnaW4gPSBtYXAucHJvamVjdChtYXAudW5wcm9qZWN0KG1hcC5nZXRQaXhlbE9yaWdpbigpKSwgem9vbSkucm91bmQoKTtcblx0XHRcdGxldmVsLnpvb20gPSB6b29tO1xuXG5cdFx0XHR0aGlzLl9zZXRab29tVHJhbnNmb3JtKGxldmVsLCBtYXAuZ2V0Q2VudGVyKCksIG1hcC5nZXRab29tKCkpO1xuXG5cdFx0XHQvLyBmb3JjZSB0aGUgYnJvd3NlciB0byBjb25zaWRlciB0aGUgbmV3bHkgYWRkZWQgZWxlbWVudCBmb3IgdHJhbnNpdGlvblxuXHRcdFx0VXRpbC5mYWxzZUZuKGxldmVsLmVsLm9mZnNldFdpZHRoKTtcblxuXHRcdFx0dGhpcy5fb25DcmVhdGVMZXZlbChsZXZlbCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fbGV2ZWwgPSBsZXZlbDtcblxuXHRcdHJldHVybiBsZXZlbDtcblx0fSxcblxuXHRfb25VcGRhdGVMZXZlbDogVXRpbC5mYWxzZUZuLFxuXG5cdF9vblJlbW92ZUxldmVsOiBVdGlsLmZhbHNlRm4sXG5cblx0X29uQ3JlYXRlTGV2ZWw6IFV0aWwuZmFsc2VGbixcblxuXHRfcHJ1bmVUaWxlczogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fbWFwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGtleSwgdGlsZTtcblxuXHRcdHZhciB6b29tID0gdGhpcy5fbWFwLmdldFpvb20oKTtcblx0XHRpZiAoem9vbSA+IHRoaXMub3B0aW9ucy5tYXhab29tIHx8XG5cdFx0XHR6b29tIDwgdGhpcy5vcHRpb25zLm1pblpvb20pIHtcblx0XHRcdHRoaXMuX3JlbW92ZUFsbFRpbGVzKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yIChrZXkgaW4gdGhpcy5fdGlsZXMpIHtcblx0XHRcdHRpbGUgPSB0aGlzLl90aWxlc1trZXldO1xuXHRcdFx0dGlsZS5yZXRhaW4gPSB0aWxlLmN1cnJlbnQ7XG5cdFx0fVxuXG5cdFx0Zm9yIChrZXkgaW4gdGhpcy5fdGlsZXMpIHtcblx0XHRcdHRpbGUgPSB0aGlzLl90aWxlc1trZXldO1xuXHRcdFx0aWYgKHRpbGUuY3VycmVudCAmJiAhdGlsZS5hY3RpdmUpIHtcblx0XHRcdFx0dmFyIGNvb3JkcyA9IHRpbGUuY29vcmRzO1xuXHRcdFx0XHRpZiAoIXRoaXMuX3JldGFpblBhcmVudChjb29yZHMueCwgY29vcmRzLnksIGNvb3Jkcy56LCBjb29yZHMueiAtIDUpKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmV0YWluQ2hpbGRyZW4oY29vcmRzLngsIGNvb3Jkcy55LCBjb29yZHMueiwgY29vcmRzLnogKyAyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoa2V5IGluIHRoaXMuX3RpbGVzKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3RpbGVzW2tleV0ucmV0YWluKSB7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZVRpbGUoa2V5KTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X3JlbW92ZVRpbGVzQXRab29tOiBmdW5jdGlvbiAoem9vbSkge1xuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0aWYgKHRoaXMuX3RpbGVzW2tleV0uY29vcmRzLnogIT09IHpvb20pIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9yZW1vdmVUaWxlKGtleSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZW1vdmVBbGxUaWxlczogZnVuY3Rpb24gKCkge1xuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0dGhpcy5fcmVtb3ZlVGlsZShrZXkpO1xuXHRcdH1cblx0fSxcblxuXHRfaW52YWxpZGF0ZUFsbDogZnVuY3Rpb24gKCkge1xuXHRcdGZvciAodmFyIHogaW4gdGhpcy5fbGV2ZWxzKSB7XG5cdFx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9sZXZlbHNbel0uZWwpO1xuXHRcdFx0dGhpcy5fb25SZW1vdmVMZXZlbChOdW1iZXIoeikpO1xuXHRcdFx0ZGVsZXRlIHRoaXMuX2xldmVsc1t6XTtcblx0XHR9XG5cdFx0dGhpcy5fcmVtb3ZlQWxsVGlsZXMoKTtcblxuXHRcdHRoaXMuX3RpbGVab29tID0gdW5kZWZpbmVkO1xuXHR9LFxuXG5cdF9yZXRhaW5QYXJlbnQ6IGZ1bmN0aW9uICh4LCB5LCB6LCBtaW5ab29tKSB7XG5cdFx0dmFyIHgyID0gTWF0aC5mbG9vcih4IC8gMiksXG5cdFx0ICAgIHkyID0gTWF0aC5mbG9vcih5IC8gMiksXG5cdFx0ICAgIHoyID0geiAtIDEsXG5cdFx0ICAgIGNvb3JkczIgPSBuZXcgUG9pbnQoK3gyLCAreTIpO1xuXHRcdGNvb3JkczIueiA9ICt6MjtcblxuXHRcdHZhciBrZXkgPSB0aGlzLl90aWxlQ29vcmRzVG9LZXkoY29vcmRzMiksXG5cdFx0ICAgIHRpbGUgPSB0aGlzLl90aWxlc1trZXldO1xuXG5cdFx0aWYgKHRpbGUgJiYgdGlsZS5hY3RpdmUpIHtcblx0XHRcdHRpbGUucmV0YWluID0gdHJ1ZTtcblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0fSBlbHNlIGlmICh0aWxlICYmIHRpbGUubG9hZGVkKSB7XG5cdFx0XHR0aWxlLnJldGFpbiA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHoyID4gbWluWm9vbSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3JldGFpblBhcmVudCh4MiwgeTIsIHoyLCBtaW5ab29tKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X3JldGFpbkNoaWxkcmVuOiBmdW5jdGlvbiAoeCwgeSwgeiwgbWF4Wm9vbSkge1xuXG5cdFx0Zm9yICh2YXIgaSA9IDIgKiB4OyBpIDwgMiAqIHggKyAyOyBpKyspIHtcblx0XHRcdGZvciAodmFyIGogPSAyICogeTsgaiA8IDIgKiB5ICsgMjsgaisrKSB7XG5cblx0XHRcdFx0dmFyIGNvb3JkcyA9IG5ldyBQb2ludChpLCBqKTtcblx0XHRcdFx0Y29vcmRzLnogPSB6ICsgMTtcblxuXHRcdFx0XHR2YXIga2V5ID0gdGhpcy5fdGlsZUNvb3Jkc1RvS2V5KGNvb3JkcyksXG5cdFx0XHRcdCAgICB0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblxuXHRcdFx0XHRpZiAodGlsZSAmJiB0aWxlLmFjdGl2ZSkge1xuXHRcdFx0XHRcdHRpbGUucmV0YWluID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHR9IGVsc2UgaWYgKHRpbGUgJiYgdGlsZS5sb2FkZWQpIHtcblx0XHRcdFx0XHR0aWxlLnJldGFpbiA9IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoeiArIDEgPCBtYXhab29tKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmV0YWluQ2hpbGRyZW4oaSwgaiwgeiArIDEsIG1heFpvb20pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9yZXNldFZpZXc6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIGFuaW1hdGluZyA9IGUgJiYgKGUucGluY2ggfHwgZS5mbHlUbyk7XG5cdFx0dGhpcy5fc2V0Vmlldyh0aGlzLl9tYXAuZ2V0Q2VudGVyKCksIHRoaXMuX21hcC5nZXRab29tKCksIGFuaW1hdGluZywgYW5pbWF0aW5nKTtcblx0fSxcblxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChlKSB7XG5cdFx0dGhpcy5fc2V0VmlldyhlLmNlbnRlciwgZS56b29tLCB0cnVlLCBlLm5vVXBkYXRlKTtcblx0fSxcblxuXHRfY2xhbXBab29tOiBmdW5jdGlvbiAoem9vbSkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0aWYgKHVuZGVmaW5lZCAhPT0gb3B0aW9ucy5taW5OYXRpdmVab29tICYmIHpvb20gPCBvcHRpb25zLm1pbk5hdGl2ZVpvb20pIHtcblx0XHRcdHJldHVybiBvcHRpb25zLm1pbk5hdGl2ZVpvb207XG5cdFx0fVxuXG5cdFx0aWYgKHVuZGVmaW5lZCAhPT0gb3B0aW9ucy5tYXhOYXRpdmVab29tICYmIG9wdGlvbnMubWF4TmF0aXZlWm9vbSA8IHpvb20pIHtcblx0XHRcdHJldHVybiBvcHRpb25zLm1heE5hdGl2ZVpvb207XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHpvb207XG5cdH0sXG5cblx0X3NldFZpZXc6IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20sIG5vUHJ1bmUsIG5vVXBkYXRlKSB7XG5cdFx0dmFyIHRpbGVab29tID0gTWF0aC5yb3VuZCh6b29tKTtcblx0XHRpZiAoKHRoaXMub3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQgJiYgdGlsZVpvb20gPiB0aGlzLm9wdGlvbnMubWF4Wm9vbSkgfHxcblx0XHQgICAgKHRoaXMub3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgJiYgdGlsZVpvb20gPCB0aGlzLm9wdGlvbnMubWluWm9vbSkpIHtcblx0XHRcdHRpbGVab29tID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aWxlWm9vbSA9IHRoaXMuX2NsYW1wWm9vbSh0aWxlWm9vbSk7XG5cdFx0fVxuXG5cdFx0dmFyIHRpbGVab29tQ2hhbmdlZCA9IHRoaXMub3B0aW9ucy51cGRhdGVXaGVuWm9vbWluZyAmJiAodGlsZVpvb20gIT09IHRoaXMuX3RpbGVab29tKTtcblxuXHRcdGlmICghbm9VcGRhdGUgfHwgdGlsZVpvb21DaGFuZ2VkKSB7XG5cblx0XHRcdHRoaXMuX3RpbGVab29tID0gdGlsZVpvb207XG5cblx0XHRcdGlmICh0aGlzLl9hYm9ydExvYWRpbmcpIHtcblx0XHRcdFx0dGhpcy5fYWJvcnRMb2FkaW5nKCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3VwZGF0ZUxldmVscygpO1xuXHRcdFx0dGhpcy5fcmVzZXRHcmlkKCk7XG5cblx0XHRcdGlmICh0aWxlWm9vbSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRoaXMuX3VwZGF0ZShjZW50ZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIW5vUHJ1bmUpIHtcblx0XHRcdFx0dGhpcy5fcHJ1bmVUaWxlcygpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGbGFnIHRvIHByZXZlbnQgX3VwZGF0ZU9wYWNpdHkgZnJvbSBwcnVuaW5nIHRpbGVzIGR1cmluZ1xuXHRcdFx0Ly8gYSB6b29tIGFuaW0gb3IgYSBwaW5jaCBnZXN0dXJlXG5cdFx0XHR0aGlzLl9ub1BydW5lID0gISFub1BydW5lO1xuXHRcdH1cblxuXHRcdHRoaXMuX3NldFpvb21UcmFuc2Zvcm1zKGNlbnRlciwgem9vbSk7XG5cdH0sXG5cblx0X3NldFpvb21UcmFuc2Zvcm1zOiBmdW5jdGlvbiAoY2VudGVyLCB6b29tKSB7XG5cdFx0Zm9yICh2YXIgaSBpbiB0aGlzLl9sZXZlbHMpIHtcblx0XHRcdHRoaXMuX3NldFpvb21UcmFuc2Zvcm0odGhpcy5fbGV2ZWxzW2ldLCBjZW50ZXIsIHpvb20pO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0Wm9vbVRyYW5zZm9ybTogZnVuY3Rpb24gKGxldmVsLCBjZW50ZXIsIHpvb20pIHtcblx0XHR2YXIgc2NhbGUgPSB0aGlzLl9tYXAuZ2V0Wm9vbVNjYWxlKHpvb20sIGxldmVsLnpvb20pLFxuXHRcdCAgICB0cmFuc2xhdGUgPSBsZXZlbC5vcmlnaW4ubXVsdGlwbHlCeShzY2FsZSlcblx0XHQgICAgICAgIC5zdWJ0cmFjdCh0aGlzLl9tYXAuX2dldE5ld1BpeGVsT3JpZ2luKGNlbnRlciwgem9vbSkpLnJvdW5kKCk7XG5cblx0XHRpZiAoQnJvd3Nlci5hbnkzZCkge1xuXHRcdFx0RG9tVXRpbC5zZXRUcmFuc2Zvcm0obGV2ZWwuZWwsIHRyYW5zbGF0ZSwgc2NhbGUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHREb21VdGlsLnNldFBvc2l0aW9uKGxldmVsLmVsLCB0cmFuc2xhdGUpO1xuXHRcdH1cblx0fSxcblxuXHRfcmVzZXRHcmlkOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgY3JzID0gbWFwLm9wdGlvbnMuY3JzLFxuXHRcdCAgICB0aWxlU2l6ZSA9IHRoaXMuX3RpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpLFxuXHRcdCAgICB0aWxlWm9vbSA9IHRoaXMuX3RpbGVab29tO1xuXG5cdFx0dmFyIGJvdW5kcyA9IHRoaXMuX21hcC5nZXRQaXhlbFdvcmxkQm91bmRzKHRoaXMuX3RpbGVab29tKTtcblx0XHRpZiAoYm91bmRzKSB7XG5cdFx0XHR0aGlzLl9nbG9iYWxUaWxlUmFuZ2UgPSB0aGlzLl9weEJvdW5kc1RvVGlsZVJhbmdlKGJvdW5kcyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fd3JhcFggPSBjcnMud3JhcExuZyAmJiAhdGhpcy5vcHRpb25zLm5vV3JhcCAmJiBbXG5cdFx0XHRNYXRoLmZsb29yKG1hcC5wcm9qZWN0KFswLCBjcnMud3JhcExuZ1swXV0sIHRpbGVab29tKS54IC8gdGlsZVNpemUueCksXG5cdFx0XHRNYXRoLmNlaWwobWFwLnByb2plY3QoWzAsIGNycy53cmFwTG5nWzFdXSwgdGlsZVpvb20pLnggLyB0aWxlU2l6ZS55KVxuXHRcdF07XG5cdFx0dGhpcy5fd3JhcFkgPSBjcnMud3JhcExhdCAmJiAhdGhpcy5vcHRpb25zLm5vV3JhcCAmJiBbXG5cdFx0XHRNYXRoLmZsb29yKG1hcC5wcm9qZWN0KFtjcnMud3JhcExhdFswXSwgMF0sIHRpbGVab29tKS55IC8gdGlsZVNpemUueCksXG5cdFx0XHRNYXRoLmNlaWwobWFwLnByb2plY3QoW2Nycy53cmFwTGF0WzFdLCAwXSwgdGlsZVpvb20pLnkgLyB0aWxlU2l6ZS55KVxuXHRcdF07XG5cdH0sXG5cblx0X29uTW92ZUVuZDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fbWFwIHx8IHRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSkgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHR9LFxuXG5cdF9nZXRUaWxlZFBpeGVsQm91bmRzOiBmdW5jdGlvbiAoY2VudGVyKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgbWFwWm9vbSA9IG1hcC5fYW5pbWF0aW5nWm9vbSA/IE1hdGgubWF4KG1hcC5fYW5pbWF0ZVRvWm9vbSwgbWFwLmdldFpvb20oKSkgOiBtYXAuZ2V0Wm9vbSgpLFxuXHRcdCAgICBzY2FsZSA9IG1hcC5nZXRab29tU2NhbGUobWFwWm9vbSwgdGhpcy5fdGlsZVpvb20pLFxuXHRcdCAgICBwaXhlbENlbnRlciA9IG1hcC5wcm9qZWN0KGNlbnRlciwgdGhpcy5fdGlsZVpvb20pLmZsb29yKCksXG5cdFx0ICAgIGhhbGZTaXplID0gbWFwLmdldFNpemUoKS5kaXZpZGVCeShzY2FsZSAqIDIpO1xuXG5cdFx0cmV0dXJuIG5ldyBCb3VuZHMocGl4ZWxDZW50ZXIuc3VidHJhY3QoaGFsZlNpemUpLCBwaXhlbENlbnRlci5hZGQoaGFsZlNpemUpKTtcblx0fSxcblxuXHQvLyBQcml2YXRlIG1ldGhvZCB0byBsb2FkIHRpbGVzIGluIHRoZSBncmlkJ3MgYWN0aXZlIHpvb20gbGV2ZWwgYWNjb3JkaW5nIHRvIG1hcCBib3VuZHNcblx0X3VwZGF0ZTogZnVuY3Rpb24gKGNlbnRlcikge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXA7XG5cdFx0aWYgKCFtYXApIHsgcmV0dXJuOyB9XG5cdFx0dmFyIHpvb20gPSB0aGlzLl9jbGFtcFpvb20obWFwLmdldFpvb20oKSk7XG5cblx0XHRpZiAoY2VudGVyID09PSB1bmRlZmluZWQpIHsgY2VudGVyID0gbWFwLmdldENlbnRlcigpOyB9XG5cdFx0aWYgKHRoaXMuX3RpbGVab29tID09PSB1bmRlZmluZWQpIHsgcmV0dXJuOyB9XHQvLyBpZiBvdXQgb2YgbWluem9vbS9tYXh6b29tXG5cblx0XHR2YXIgcGl4ZWxCb3VuZHMgPSB0aGlzLl9nZXRUaWxlZFBpeGVsQm91bmRzKGNlbnRlciksXG5cdFx0ICAgIHRpbGVSYW5nZSA9IHRoaXMuX3B4Qm91bmRzVG9UaWxlUmFuZ2UocGl4ZWxCb3VuZHMpLFxuXHRcdCAgICB0aWxlQ2VudGVyID0gdGlsZVJhbmdlLmdldENlbnRlcigpLFxuXHRcdCAgICBxdWV1ZSA9IFtdLFxuXHRcdCAgICBtYXJnaW4gPSB0aGlzLm9wdGlvbnMua2VlcEJ1ZmZlcixcblx0XHQgICAgbm9QcnVuZVJhbmdlID0gbmV3IEJvdW5kcyh0aWxlUmFuZ2UuZ2V0Qm90dG9tTGVmdCgpLnN1YnRyYWN0KFttYXJnaW4sIC1tYXJnaW5dKSxcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlUmFuZ2UuZ2V0VG9wUmlnaHQoKS5hZGQoW21hcmdpbiwgLW1hcmdpbl0pKTtcblxuXHRcdC8vIFNhbml0eSBjaGVjazogcGFuaWMgaWYgdGhlIHRpbGUgcmFuZ2UgY29udGFpbnMgSW5maW5pdHkgc29tZXdoZXJlLlxuXHRcdGlmICghKGlzRmluaXRlKHRpbGVSYW5nZS5taW4ueCkgJiZcblx0XHQgICAgICBpc0Zpbml0ZSh0aWxlUmFuZ2UubWluLnkpICYmXG5cdFx0ICAgICAgaXNGaW5pdGUodGlsZVJhbmdlLm1heC54KSAmJlxuXHRcdCAgICAgIGlzRmluaXRlKHRpbGVSYW5nZS5tYXgueSkpKSB7IHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIGxvYWQgYW4gaW5maW5pdGUgbnVtYmVyIG9mIHRpbGVzJyk7IH1cblxuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0dmFyIGMgPSB0aGlzLl90aWxlc1trZXldLmNvb3Jkcztcblx0XHRcdGlmIChjLnogIT09IHRoaXMuX3RpbGVab29tIHx8ICFub1BydW5lUmFuZ2UuY29udGFpbnMobmV3IFBvaW50KGMueCwgYy55KSkpIHtcblx0XHRcdFx0dGhpcy5fdGlsZXNba2V5XS5jdXJyZW50ID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gX3VwZGF0ZSBqdXN0IGxvYWRzIG1vcmUgdGlsZXMuIElmIHRoZSB0aWxlIHpvb20gbGV2ZWwgZGlmZmVycyB0b28gbXVjaFxuXHRcdC8vIGZyb20gdGhlIG1hcCdzLCBsZXQgX3NldFZpZXcgcmVzZXQgbGV2ZWxzIGFuZCBwcnVuZSBvbGQgdGlsZXMuXG5cdFx0aWYgKE1hdGguYWJzKHpvb20gLSB0aGlzLl90aWxlWm9vbSkgPiAxKSB7IHRoaXMuX3NldFZpZXcoY2VudGVyLCB6b29tKTsgcmV0dXJuOyB9XG5cblx0XHQvLyBjcmVhdGUgYSBxdWV1ZSBvZiBjb29yZGluYXRlcyB0byBsb2FkIHRpbGVzIGZyb21cblx0XHRmb3IgKHZhciBqID0gdGlsZVJhbmdlLm1pbi55OyBqIDw9IHRpbGVSYW5nZS5tYXgueTsgaisrKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gdGlsZVJhbmdlLm1pbi54OyBpIDw9IHRpbGVSYW5nZS5tYXgueDsgaSsrKSB7XG5cdFx0XHRcdHZhciBjb29yZHMgPSBuZXcgUG9pbnQoaSwgaik7XG5cdFx0XHRcdGNvb3Jkcy56ID0gdGhpcy5fdGlsZVpvb207XG5cblx0XHRcdFx0aWYgKCF0aGlzLl9pc1ZhbGlkVGlsZShjb29yZHMpKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdFx0dmFyIHRpbGUgPSB0aGlzLl90aWxlc1t0aGlzLl90aWxlQ29vcmRzVG9LZXkoY29vcmRzKV07XG5cdFx0XHRcdGlmICh0aWxlKSB7XG5cdFx0XHRcdFx0dGlsZS5jdXJyZW50ID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKGNvb3Jkcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBzb3J0IHRpbGUgcXVldWUgdG8gbG9hZCB0aWxlcyBpbiBvcmRlciBvZiB0aGVpciBkaXN0YW5jZSB0byBjZW50ZXJcblx0XHRxdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0XHRyZXR1cm4gYS5kaXN0YW5jZVRvKHRpbGVDZW50ZXIpIC0gYi5kaXN0YW5jZVRvKHRpbGVDZW50ZXIpO1xuXHRcdH0pO1xuXG5cdFx0aWYgKHF1ZXVlLmxlbmd0aCAhPT0gMCkge1xuXHRcdFx0Ly8gaWYgaXQncyB0aGUgZmlyc3QgYmF0Y2ggb2YgdGlsZXMgdG8gbG9hZFxuXHRcdFx0aWYgKCF0aGlzLl9sb2FkaW5nKSB7XG5cdFx0XHRcdHRoaXMuX2xvYWRpbmcgPSB0cnVlO1xuXHRcdFx0XHQvLyBAZXZlbnQgbG9hZGluZzogRXZlbnRcblx0XHRcdFx0Ly8gRmlyZWQgd2hlbiB0aGUgZ3JpZCBsYXllciBzdGFydHMgbG9hZGluZyB0aWxlcy5cblx0XHRcdFx0dGhpcy5maXJlKCdsb2FkaW5nJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNyZWF0ZSBET00gZnJhZ21lbnQgdG8gYXBwZW5kIHRpbGVzIGluIG9uZSBiYXRjaFxuXHRcdFx0dmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dGhpcy5fYWRkVGlsZShxdWV1ZVtpXSwgZnJhZ21lbnQpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9sZXZlbC5lbC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9pc1ZhbGlkVGlsZTogZnVuY3Rpb24gKGNvb3Jkcykge1xuXHRcdHZhciBjcnMgPSB0aGlzLl9tYXAub3B0aW9ucy5jcnM7XG5cblx0XHRpZiAoIWNycy5pbmZpbml0ZSkge1xuXHRcdFx0Ly8gZG9uJ3QgbG9hZCB0aWxlIGlmIGl0J3Mgb3V0IG9mIGJvdW5kcyBhbmQgbm90IHdyYXBwZWRcblx0XHRcdHZhciBib3VuZHMgPSB0aGlzLl9nbG9iYWxUaWxlUmFuZ2U7XG5cdFx0XHRpZiAoKCFjcnMud3JhcExuZyAmJiAoY29vcmRzLnggPCBib3VuZHMubWluLnggfHwgY29vcmRzLnggPiBib3VuZHMubWF4LngpKSB8fFxuXHRcdFx0ICAgICghY3JzLndyYXBMYXQgJiYgKGNvb3Jkcy55IDwgYm91bmRzLm1pbi55IHx8IGNvb3Jkcy55ID4gYm91bmRzLm1heC55KSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMuYm91bmRzKSB7IHJldHVybiB0cnVlOyB9XG5cblx0XHQvLyBkb24ndCBsb2FkIHRpbGUgaWYgaXQgZG9lc24ndCBpbnRlcnNlY3QgdGhlIGJvdW5kcyBpbiBvcHRpb25zXG5cdFx0dmFyIHRpbGVCb3VuZHMgPSB0aGlzLl90aWxlQ29vcmRzVG9Cb3VuZHMoY29vcmRzKTtcblx0XHRyZXR1cm4gbGF0TG5nQm91bmRzKHRoaXMub3B0aW9ucy5ib3VuZHMpLm92ZXJsYXBzKHRpbGVCb3VuZHMpO1xuXHR9LFxuXG5cdF9rZXlUb0JvdW5kczogZnVuY3Rpb24gKGtleSkge1xuXHRcdHJldHVybiB0aGlzLl90aWxlQ29vcmRzVG9Cb3VuZHModGhpcy5fa2V5VG9UaWxlQ29vcmRzKGtleSkpO1xuXHR9LFxuXG5cdF90aWxlQ29vcmRzVG9Od1NlOiBmdW5jdGlvbiAoY29vcmRzKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgdGlsZVNpemUgPSB0aGlzLmdldFRpbGVTaXplKCksXG5cdFx0ICAgIG53UG9pbnQgPSBjb29yZHMuc2NhbGVCeSh0aWxlU2l6ZSksXG5cdFx0ICAgIHNlUG9pbnQgPSBud1BvaW50LmFkZCh0aWxlU2l6ZSksXG5cdFx0ICAgIG53ID0gbWFwLnVucHJvamVjdChud1BvaW50LCBjb29yZHMueiksXG5cdFx0ICAgIHNlID0gbWFwLnVucHJvamVjdChzZVBvaW50LCBjb29yZHMueik7XG5cdFx0cmV0dXJuIFtudywgc2VdO1xuXHR9LFxuXG5cdC8vIGNvbnZlcnRzIHRpbGUgY29vcmRpbmF0ZXMgdG8gaXRzIGdlb2dyYXBoaWNhbCBib3VuZHNcblx0X3RpbGVDb29yZHNUb0JvdW5kczogZnVuY3Rpb24gKGNvb3Jkcykge1xuXHRcdHZhciBicCA9IHRoaXMuX3RpbGVDb29yZHNUb053U2UoY29vcmRzKSxcblx0XHQgICAgYm91bmRzID0gbmV3IExhdExuZ0JvdW5kcyhicFswXSwgYnBbMV0pO1xuXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMubm9XcmFwKSB7XG5cdFx0XHRib3VuZHMgPSB0aGlzLl9tYXAud3JhcExhdExuZ0JvdW5kcyhib3VuZHMpO1xuXHRcdH1cblx0XHRyZXR1cm4gYm91bmRzO1xuXHR9LFxuXHQvLyBjb252ZXJ0cyB0aWxlIGNvb3JkaW5hdGVzIHRvIGtleSBmb3IgdGhlIHRpbGUgY2FjaGVcblx0X3RpbGVDb29yZHNUb0tleTogZnVuY3Rpb24gKGNvb3Jkcykge1xuXHRcdHJldHVybiBjb29yZHMueCArICc6JyArIGNvb3Jkcy55ICsgJzonICsgY29vcmRzLno7XG5cdH0sXG5cblx0Ly8gY29udmVydHMgdGlsZSBjYWNoZSBrZXkgdG8gY29vcmRpbmF0ZXNcblx0X2tleVRvVGlsZUNvb3JkczogZnVuY3Rpb24gKGtleSkge1xuXHRcdHZhciBrID0ga2V5LnNwbGl0KCc6JyksXG5cdFx0ICAgIGNvb3JkcyA9IG5ldyBQb2ludCgra1swXSwgK2tbMV0pO1xuXHRcdGNvb3Jkcy56ID0gK2tbMl07XG5cdFx0cmV0dXJuIGNvb3Jkcztcblx0fSxcblxuXHRfcmVtb3ZlVGlsZTogZnVuY3Rpb24gKGtleSkge1xuXHRcdHZhciB0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblx0XHRpZiAoIXRpbGUpIHsgcmV0dXJuOyB9XG5cblx0XHREb21VdGlsLnJlbW92ZSh0aWxlLmVsKTtcblxuXHRcdGRlbGV0ZSB0aGlzLl90aWxlc1trZXldO1xuXG5cdFx0Ly8gQGV2ZW50IHRpbGV1bmxvYWQ6IFRpbGVFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gYSB0aWxlIGlzIHJlbW92ZWQgKGUuZy4gd2hlbiBhIHRpbGUgZ29lcyBvZmYgdGhlIHNjcmVlbikuXG5cdFx0dGhpcy5maXJlKCd0aWxldW5sb2FkJywge1xuXHRcdFx0dGlsZTogdGlsZS5lbCxcblx0XHRcdGNvb3JkczogdGhpcy5fa2V5VG9UaWxlQ29vcmRzKGtleSlcblx0XHR9KTtcblx0fSxcblxuXHRfaW5pdFRpbGU6IGZ1bmN0aW9uICh0aWxlKSB7XG5cdFx0RG9tVXRpbC5hZGRDbGFzcyh0aWxlLCAnbGVhZmxldC10aWxlJyk7XG5cblx0XHR2YXIgdGlsZVNpemUgPSB0aGlzLmdldFRpbGVTaXplKCk7XG5cdFx0dGlsZS5zdHlsZS53aWR0aCA9IHRpbGVTaXplLnggKyAncHgnO1xuXHRcdHRpbGUuc3R5bGUuaGVpZ2h0ID0gdGlsZVNpemUueSArICdweCc7XG5cblx0XHR0aWxlLm9uc2VsZWN0c3RhcnQgPSBVdGlsLmZhbHNlRm47XG5cdFx0dGlsZS5vbm1vdXNlbW92ZSA9IFV0aWwuZmFsc2VGbjtcblxuXHRcdC8vIHVwZGF0ZSBvcGFjaXR5IG9uIHRpbGVzIGluIElFNy04IGJlY2F1c2Ugb2YgZmlsdGVyIGluaGVyaXRhbmNlIHByb2JsZW1zXG5cdFx0aWYgKEJyb3dzZXIuaWVsdDkgJiYgdGhpcy5vcHRpb25zLm9wYWNpdHkgPCAxKSB7XG5cdFx0XHREb21VdGlsLnNldE9wYWNpdHkodGlsZSwgdGhpcy5vcHRpb25zLm9wYWNpdHkpO1xuXHRcdH1cblx0fSxcblxuXHRfYWRkVGlsZTogZnVuY3Rpb24gKGNvb3JkcywgY29udGFpbmVyKSB7XG5cdFx0dmFyIHRpbGVQb3MgPSB0aGlzLl9nZXRUaWxlUG9zKGNvb3JkcyksXG5cdFx0ICAgIGtleSA9IHRoaXMuX3RpbGVDb29yZHNUb0tleShjb29yZHMpO1xuXG5cdFx0dmFyIHRpbGUgPSB0aGlzLmNyZWF0ZVRpbGUodGhpcy5fd3JhcENvb3Jkcyhjb29yZHMpLCBVdGlsLmJpbmQodGhpcy5fdGlsZVJlYWR5LCB0aGlzLCBjb29yZHMpKTtcblxuXHRcdHRoaXMuX2luaXRUaWxlKHRpbGUpO1xuXG5cdFx0Ly8gaWYgY3JlYXRlVGlsZSBpcyBkZWZpbmVkIHdpdGggYSBzZWNvbmQgYXJndW1lbnQgKFwiZG9uZVwiIGNhbGxiYWNrKSxcblx0XHQvLyB3ZSBrbm93IHRoYXQgdGlsZSBpcyBhc3luYyBhbmQgd2lsbCBiZSByZWFkeSBsYXRlcjsgb3RoZXJ3aXNlXG5cdFx0aWYgKHRoaXMuY3JlYXRlVGlsZS5sZW5ndGggPCAyKSB7XG5cdFx0XHQvLyBtYXJrIHRpbGUgYXMgcmVhZHksIGJ1dCBkZWxheSBvbmUgZnJhbWUgZm9yIG9wYWNpdHkgYW5pbWF0aW9uIHRvIGhhcHBlblxuXHRcdFx0VXRpbC5yZXF1ZXN0QW5pbUZyYW1lKFV0aWwuYmluZCh0aGlzLl90aWxlUmVhZHksIHRoaXMsIGNvb3JkcywgbnVsbCwgdGlsZSkpO1xuXHRcdH1cblxuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGlsZSwgdGlsZVBvcyk7XG5cblx0XHQvLyBzYXZlIHRpbGUgaW4gY2FjaGVcblx0XHR0aGlzLl90aWxlc1trZXldID0ge1xuXHRcdFx0ZWw6IHRpbGUsXG5cdFx0XHRjb29yZHM6IGNvb3Jkcyxcblx0XHRcdGN1cnJlbnQ6IHRydWVcblx0XHR9O1xuXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHRpbGUpO1xuXHRcdC8vIEBldmVudCB0aWxlbG9hZHN0YXJ0OiBUaWxlRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIGEgdGlsZSBpcyByZXF1ZXN0ZWQgYW5kIHN0YXJ0cyBsb2FkaW5nLlxuXHRcdHRoaXMuZmlyZSgndGlsZWxvYWRzdGFydCcsIHtcblx0XHRcdHRpbGU6IHRpbGUsXG5cdFx0XHRjb29yZHM6IGNvb3Jkc1xuXHRcdH0pO1xuXHR9LFxuXG5cdF90aWxlUmVhZHk6IGZ1bmN0aW9uIChjb29yZHMsIGVyciwgdGlsZSkge1xuXHRcdGlmIChlcnIpIHtcblx0XHRcdC8vIEBldmVudCB0aWxlZXJyb3I6IFRpbGVFcnJvckV2ZW50XG5cdFx0XHQvLyBGaXJlZCB3aGVuIHRoZXJlIGlzIGFuIGVycm9yIGxvYWRpbmcgYSB0aWxlLlxuXHRcdFx0dGhpcy5maXJlKCd0aWxlZXJyb3InLCB7XG5cdFx0XHRcdGVycm9yOiBlcnIsXG5cdFx0XHRcdHRpbGU6IHRpbGUsXG5cdFx0XHRcdGNvb3JkczogY29vcmRzXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHR2YXIga2V5ID0gdGhpcy5fdGlsZUNvb3Jkc1RvS2V5KGNvb3Jkcyk7XG5cblx0XHR0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblx0XHRpZiAoIXRpbGUpIHsgcmV0dXJuOyB9XG5cblx0XHR0aWxlLmxvYWRlZCA9ICtuZXcgRGF0ZSgpO1xuXHRcdGlmICh0aGlzLl9tYXAuX2ZhZGVBbmltYXRlZCkge1xuXHRcdFx0RG9tVXRpbC5zZXRPcGFjaXR5KHRpbGUuZWwsIDApO1xuXHRcdFx0VXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fZmFkZUZyYW1lKTtcblx0XHRcdHRoaXMuX2ZhZGVGcmFtZSA9IFV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl91cGRhdGVPcGFjaXR5LCB0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGlsZS5hY3RpdmUgPSB0cnVlO1xuXHRcdFx0dGhpcy5fcHJ1bmVUaWxlcygpO1xuXHRcdH1cblxuXHRcdGlmICghZXJyKSB7XG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRpbGUuZWwsICdsZWFmbGV0LXRpbGUtbG9hZGVkJyk7XG5cblx0XHRcdC8vIEBldmVudCB0aWxlbG9hZDogVGlsZUV2ZW50XG5cdFx0XHQvLyBGaXJlZCB3aGVuIGEgdGlsZSBsb2Fkcy5cblx0XHRcdHRoaXMuZmlyZSgndGlsZWxvYWQnLCB7XG5cdFx0XHRcdHRpbGU6IHRpbGUuZWwsXG5cdFx0XHRcdGNvb3JkczogY29vcmRzXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fbm9UaWxlc1RvTG9hZCgpKSB7XG5cdFx0XHR0aGlzLl9sb2FkaW5nID0gZmFsc2U7XG5cdFx0XHQvLyBAZXZlbnQgbG9hZDogRXZlbnRcblx0XHRcdC8vIEZpcmVkIHdoZW4gdGhlIGdyaWQgbGF5ZXIgbG9hZGVkIGFsbCB2aXNpYmxlIHRpbGVzLlxuXHRcdFx0dGhpcy5maXJlKCdsb2FkJyk7XG5cblx0XHRcdGlmIChCcm93c2VyLmllbHQ5IHx8ICF0aGlzLl9tYXAuX2ZhZGVBbmltYXRlZCkge1xuXHRcdFx0XHRVdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fcHJ1bmVUaWxlcywgdGhpcyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBXYWl0IGEgYml0IG1vcmUgdGhhbiAwLjIgc2VjcyAodGhlIGR1cmF0aW9uIG9mIHRoZSB0aWxlIGZhZGUtaW4pXG5cdFx0XHRcdC8vIHRvIHRyaWdnZXIgYSBwcnVuaW5nLlxuXHRcdFx0XHRzZXRUaW1lb3V0KFV0aWwuYmluZCh0aGlzLl9wcnVuZVRpbGVzLCB0aGlzKSwgMjUwKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X2dldFRpbGVQb3M6IGZ1bmN0aW9uIChjb29yZHMpIHtcblx0XHRyZXR1cm4gY29vcmRzLnNjYWxlQnkodGhpcy5nZXRUaWxlU2l6ZSgpKS5zdWJ0cmFjdCh0aGlzLl9sZXZlbC5vcmlnaW4pO1xuXHR9LFxuXG5cdF93cmFwQ29vcmRzOiBmdW5jdGlvbiAoY29vcmRzKSB7XG5cdFx0dmFyIG5ld0Nvb3JkcyA9IG5ldyBQb2ludChcblx0XHRcdHRoaXMuX3dyYXBYID8gVXRpbC53cmFwTnVtKGNvb3Jkcy54LCB0aGlzLl93cmFwWCkgOiBjb29yZHMueCxcblx0XHRcdHRoaXMuX3dyYXBZID8gVXRpbC53cmFwTnVtKGNvb3Jkcy55LCB0aGlzLl93cmFwWSkgOiBjb29yZHMueSk7XG5cdFx0bmV3Q29vcmRzLnogPSBjb29yZHMuejtcblx0XHRyZXR1cm4gbmV3Q29vcmRzO1xuXHR9LFxuXG5cdF9weEJvdW5kc1RvVGlsZVJhbmdlOiBmdW5jdGlvbiAoYm91bmRzKSB7XG5cdFx0dmFyIHRpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpO1xuXHRcdHJldHVybiBuZXcgQm91bmRzKFxuXHRcdFx0Ym91bmRzLm1pbi51bnNjYWxlQnkodGlsZVNpemUpLmZsb29yKCksXG5cdFx0XHRib3VuZHMubWF4LnVuc2NhbGVCeSh0aWxlU2l6ZSkuY2VpbCgpLnN1YnRyYWN0KFsxLCAxXSkpO1xuXHR9LFxuXG5cdF9ub1RpbGVzVG9Mb2FkOiBmdW5jdGlvbiAoKSB7XG5cdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX3RpbGVzKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3RpbGVzW2tleV0ubG9hZGVkKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufSk7XG5cbi8vIEBmYWN0b3J5IEwuZ3JpZExheWVyKG9wdGlvbnM/OiBHcmlkTGF5ZXIgb3B0aW9ucylcbi8vIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgR3JpZExheWVyIHdpdGggdGhlIHN1cHBsaWVkIG9wdGlvbnMuXG5leHBvcnQgZnVuY3Rpb24gZ3JpZExheWVyKG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBHcmlkTGF5ZXIob3B0aW9ucyk7XG59XG4iLCAiaW1wb3J0IHtHcmlkTGF5ZXJ9IGZyb20gJy4vR3JpZExheWVyJztcclxuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi8uLi9kb20vRG9tRXZlbnQnO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcclxuXHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgVGlsZUxheWVyXHJcbiAqIEBpbmhlcml0cyBHcmlkTGF5ZXJcclxuICogQGFrYSBMLlRpbGVMYXllclxyXG4gKiBVc2VkIHRvIGxvYWQgYW5kIGRpc3BsYXkgdGlsZSBsYXllcnMgb24gdGhlIG1hcC4gTm90ZSB0aGF0IG1vc3QgdGlsZSBzZXJ2ZXJzIHJlcXVpcmUgYXR0cmlidXRpb24sIHdoaWNoIHlvdSBjYW4gc2V0IHVuZGVyIGBMYXllcmAuIEV4dGVuZHMgYEdyaWRMYXllcmAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIEwudGlsZUxheWVyKCdodHRwczovL3RpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nP3tmb299Jywge2ZvbzogJ2JhcicsIGF0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnfSkuYWRkVG8obWFwKTtcbiAqIGBgYFxyXG4gKlxyXG4gKiBAc2VjdGlvbiBVUkwgdGVtcGxhdGVcclxuICogQGV4YW1wbGVcclxuICpcclxuICogQSBzdHJpbmcgb2YgdGhlIGZvbGxvd2luZyBmb3JtOlxyXG4gKlxyXG4gKiBgYGBcclxuICogJ2h0dHBzOi8ve3N9LnNvbWVkb21haW4uY29tL2JsYWJsYS97en0ve3h9L3t5fXtyfS5wbmcnXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBge3N9YCBtZWFucyBvbmUgb2YgdGhlIGF2YWlsYWJsZSBzdWJkb21haW5zICh1c2VkIHNlcXVlbnRpYWxseSB0byBoZWxwIHdpdGggYnJvd3NlciBwYXJhbGxlbCByZXF1ZXN0cyBwZXIgZG9tYWluIGxpbWl0YXRpb247IHN1YmRvbWFpbiB2YWx1ZXMgYXJlIHNwZWNpZmllZCBpbiBvcHRpb25zOyBgYWAsIGBiYCBvciBgY2AgYnkgZGVmYXVsdCwgY2FuIGJlIG9taXR0ZWQpLCBge3p9YCDigJQgem9vbSBsZXZlbCwgYHt4fWAgYW5kIGB7eX1gIOKAlCB0aWxlIGNvb3JkaW5hdGVzLiBge3J9YCBjYW4gYmUgdXNlZCB0byBhZGQgXCImY29tbWF0OzJ4XCIgdG8gdGhlIFVSTCB0byBsb2FkIHJldGluYSB0aWxlcy5cclxuICpcclxuICogWW91IGNhbiB1c2UgY3VzdG9tIGtleXMgaW4gdGhlIHRlbXBsYXRlLCB3aGljaCB3aWxsIGJlIFtldmFsdWF0ZWRdKCN1dGlsLXRlbXBsYXRlKSBmcm9tIFRpbGVMYXllciBvcHRpb25zLCBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYFxyXG4gKiBMLnRpbGVMYXllcignaHR0cHM6Ly97c30uc29tZWRvbWFpbi5jb20ve2Zvb30ve3p9L3t4fS97eX0ucG5nJywge2ZvbzogJ2Jhcid9KTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuXHJcbmV4cG9ydCB2YXIgVGlsZUxheWVyID0gR3JpZExheWVyLmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBUaWxlTGF5ZXIgb3B0aW9uc1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBvcHRpb24gbWluWm9vbTogTnVtYmVyID0gMFxyXG5cdFx0Ly8gVGhlIG1pbmltdW0gem9vbSBsZXZlbCBkb3duIHRvIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZSBkaXNwbGF5ZWQgKGluY2x1c2l2ZSkuXHJcblx0XHRtaW5ab29tOiAwLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbWF4Wm9vbTogTnVtYmVyID0gMThcclxuXHRcdC8vIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdXAgdG8gd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlIGRpc3BsYXllZCAoaW5jbHVzaXZlKS5cclxuXHRcdG1heFpvb206IDE4LFxyXG5cclxuXHRcdC8vIEBvcHRpb24gc3ViZG9tYWluczogU3RyaW5nfFN0cmluZ1tdID0gJ2FiYydcclxuXHRcdC8vIFN1YmRvbWFpbnMgb2YgdGhlIHRpbGUgc2VydmljZS4gQ2FuIGJlIHBhc3NlZCBpbiB0aGUgZm9ybSBvZiBvbmUgc3RyaW5nICh3aGVyZSBlYWNoIGxldHRlciBpcyBhIHN1YmRvbWFpbiBuYW1lKSBvciBhbiBhcnJheSBvZiBzdHJpbmdzLlxyXG5cdFx0c3ViZG9tYWluczogJ2FiYycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBlcnJvclRpbGVVcmw6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBVUkwgdG8gdGhlIHRpbGUgaW1hZ2UgdG8gc2hvdyBpbiBwbGFjZSBvZiB0aGUgdGlsZSB0aGF0IGZhaWxlZCB0byBsb2FkLlxyXG5cdFx0ZXJyb3JUaWxlVXJsOiAnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21PZmZzZXQ6IE51bWJlciA9IDBcclxuXHRcdC8vIFRoZSB6b29tIG51bWJlciB1c2VkIGluIHRpbGUgVVJMcyB3aWxsIGJlIG9mZnNldCB3aXRoIHRoaXMgdmFsdWUuXHJcblx0XHR6b29tT2Zmc2V0OiAwLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gdG1zOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIGB0cnVlYCwgaW52ZXJzZXMgWSBheGlzIG51bWJlcmluZyBmb3IgdGlsZXMgKHR1cm4gdGhpcyBvbiBmb3IgW1RNU10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVGlsZV9NYXBfU2VydmljZSkgc2VydmljZXMpLlxyXG5cdFx0dG1zOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21SZXZlcnNlOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIHNldCB0byB0cnVlLCB0aGUgem9vbSBudW1iZXIgdXNlZCBpbiB0aWxlIFVSTHMgd2lsbCBiZSByZXZlcnNlZCAoYG1heFpvb20gLSB6b29tYCBpbnN0ZWFkIG9mIGB6b29tYClcclxuXHRcdHpvb21SZXZlcnNlOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGRldGVjdFJldGluYTogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBgdHJ1ZWAgYW5kIHVzZXIgaXMgb24gYSByZXRpbmEgZGlzcGxheSwgaXQgd2lsbCByZXF1ZXN0IGZvdXIgdGlsZXMgb2YgaGFsZiB0aGUgc3BlY2lmaWVkIHNpemUgYW5kIGEgYmlnZ2VyIHpvb20gbGV2ZWwgaW4gcGxhY2Ugb2Ygb25lIHRvIHV0aWxpemUgdGhlIGhpZ2ggcmVzb2x1dGlvbi5cclxuXHRcdGRldGVjdFJldGluYTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjcm9zc09yaWdpbjogQm9vbGVhbnxTdHJpbmcgPSBmYWxzZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgY3Jvc3NPcmlnaW4gYXR0cmlidXRlIHdpbGwgYmUgYWRkZWQgdG8gdGhlIHRpbGVzLlxyXG5cdFx0Ly8gSWYgYSBTdHJpbmcgaXMgcHJvdmlkZWQsIGFsbCB0aWxlcyB3aWxsIGhhdmUgdGhlaXIgY3Jvc3NPcmlnaW4gYXR0cmlidXRlIHNldCB0byB0aGUgU3RyaW5nIHByb3ZpZGVkLiBUaGlzIGlzIG5lZWRlZCBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgdGlsZSBwaXhlbCBkYXRhLlxyXG5cdFx0Ly8gUmVmZXIgdG8gW0NPUlMgU2V0dGluZ3NdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19zZXR0aW5nc19hdHRyaWJ1dGVzKSBmb3IgdmFsaWQgU3RyaW5nIHZhbHVlcy5cclxuXHRcdGNyb3NzT3JpZ2luOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHJlZmVycmVyUG9saWN5OiBCb29sZWFufFN0cmluZyA9IGZhbHNlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSByZWZlcnJlclBvbGljeSBhdHRyaWJ1dGUgd2lsbCBiZSBhZGRlZCB0byB0aGUgdGlsZXMuXHJcblx0XHQvLyBJZiBhIFN0cmluZyBpcyBwcm92aWRlZCwgYWxsIHRpbGVzIHdpbGwgaGF2ZSB0aGVpciByZWZlcnJlclBvbGljeSBhdHRyaWJ1dGUgc2V0IHRvIHRoZSBTdHJpbmcgcHJvdmlkZWQuXHJcblx0XHQvLyBUaGlzIG1heSBiZSBuZWVkZWQgaWYgeW91ciBtYXAncyByZW5kZXJpbmcgY29udGV4dCBoYXMgYSBzdHJpY3QgZGVmYXVsdCBidXQgeW91ciB0aWxlIHByb3ZpZGVyIGV4cGVjdHMgYSB2YWxpZCByZWZlcnJlclxyXG5cdFx0Ly8gKGUuZy4gdG8gdmFsaWRhdGUgYW4gQVBJIHRva2VuKS5cclxuXHRcdC8vIFJlZmVyIHRvIFtIVE1MSW1hZ2VFbGVtZW50LnJlZmVycmVyUG9saWN5XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEltYWdlRWxlbWVudC9yZWZlcnJlclBvbGljeSkgZm9yIHZhbGlkIFN0cmluZyB2YWx1ZXMuXHJcblx0XHRyZWZlcnJlclBvbGljeTogZmFsc2VcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0dGhpcy5fdXJsID0gdXJsO1xyXG5cclxuXHRcdG9wdGlvbnMgPSBVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblxyXG5cdFx0Ly8gZGV0ZWN0aW5nIHJldGluYSBkaXNwbGF5cywgYWRqdXN0aW5nIHRpbGVTaXplIGFuZCB6b29tIGxldmVsc1xyXG5cdFx0aWYgKG9wdGlvbnMuZGV0ZWN0UmV0aW5hICYmIEJyb3dzZXIucmV0aW5hICYmIG9wdGlvbnMubWF4Wm9vbSA+IDApIHtcclxuXHJcblx0XHRcdG9wdGlvbnMudGlsZVNpemUgPSBNYXRoLmZsb29yKG9wdGlvbnMudGlsZVNpemUgLyAyKTtcclxuXHJcblx0XHRcdGlmICghb3B0aW9ucy56b29tUmV2ZXJzZSkge1xyXG5cdFx0XHRcdG9wdGlvbnMuem9vbU9mZnNldCsrO1xyXG5cdFx0XHRcdG9wdGlvbnMubWF4Wm9vbSA9IE1hdGgubWF4KG9wdGlvbnMubWluWm9vbSwgb3B0aW9ucy5tYXhab29tIC0gMSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0b3B0aW9ucy56b29tT2Zmc2V0LS07XHJcblx0XHRcdFx0b3B0aW9ucy5taW5ab29tID0gTWF0aC5taW4ob3B0aW9ucy5tYXhab29tLCBvcHRpb25zLm1pblpvb20gKyAxKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0b3B0aW9ucy5taW5ab29tID0gTWF0aC5tYXgoMCwgb3B0aW9ucy5taW5ab29tKTtcclxuXHRcdH0gZWxzZSBpZiAoIW9wdGlvbnMuem9vbVJldmVyc2UpIHtcclxuXHRcdFx0Ly8gbWFrZSBzdXJlIG1heFpvb20gaXMgZ3RlIG1pblpvb21cclxuXHRcdFx0b3B0aW9ucy5tYXhab29tID0gTWF0aC5tYXgob3B0aW9ucy5taW5ab29tLCBvcHRpb25zLm1heFpvb20pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gbWFrZSBzdXJlIG1pblpvb20gaXMgbHRlIG1heFpvb21cclxuXHRcdFx0b3B0aW9ucy5taW5ab29tID0gTWF0aC5taW4ob3B0aW9ucy5tYXhab29tLCBvcHRpb25zLm1pblpvb20pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5zdWJkb21haW5zID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRvcHRpb25zLnN1YmRvbWFpbnMgPSBvcHRpb25zLnN1YmRvbWFpbnMuc3BsaXQoJycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMub24oJ3RpbGV1bmxvYWQnLCB0aGlzLl9vblRpbGVSZW1vdmUpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0VXJsKHVybDogU3RyaW5nLCBub1JlZHJhdz86IEJvb2xlYW4pOiB0aGlzXHJcblx0Ly8gVXBkYXRlcyB0aGUgbGF5ZXIncyBVUkwgdGVtcGxhdGUgYW5kIHJlZHJhd3MgaXQgKHVubGVzcyBgbm9SZWRyYXdgIGlzIHNldCB0byBgdHJ1ZWApLlxyXG5cdC8vIElmIHRoZSBVUkwgZG9lcyBub3QgY2hhbmdlLCB0aGUgbGF5ZXIgd2lsbCBub3QgYmUgcmVkcmF3biB1bmxlc3NcclxuXHQvLyB0aGUgbm9SZWRyYXcgcGFyYW1ldGVyIGlzIHNldCB0byBmYWxzZS5cclxuXHRzZXRVcmw6IGZ1bmN0aW9uICh1cmwsIG5vUmVkcmF3KSB7XHJcblx0XHRpZiAodGhpcy5fdXJsID09PSB1cmwgJiYgbm9SZWRyYXcgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRub1JlZHJhdyA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fdXJsID0gdXJsO1xyXG5cclxuXHRcdGlmICghbm9SZWRyYXcpIHtcclxuXHRcdFx0dGhpcy5yZWRyYXcoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY3JlYXRlVGlsZShjb29yZHM6IE9iamVjdCwgZG9uZT86IEZ1bmN0aW9uKTogSFRNTEVsZW1lbnRcclxuXHQvLyBDYWxsZWQgb25seSBpbnRlcm5hbGx5LCBvdmVycmlkZXMgR3JpZExheWVyJ3MgW2BjcmVhdGVUaWxlKClgXSgjZ3JpZGxheWVyLWNyZWF0ZXRpbGUpXHJcblx0Ly8gdG8gcmV0dXJuIGFuIGA8aW1nPmAgSFRNTCBlbGVtZW50IHdpdGggdGhlIGFwcHJvcHJpYXRlIGltYWdlIFVSTCBnaXZlbiBgY29vcmRzYC4gVGhlIGBkb25lYFxyXG5cdC8vIGNhbGxiYWNrIGlzIGNhbGxlZCB3aGVuIHRoZSB0aWxlIGhhcyBiZWVuIGxvYWRlZC5cclxuXHRjcmVhdGVUaWxlOiBmdW5jdGlvbiAoY29vcmRzLCBkb25lKSB7XHJcblx0XHR2YXIgdGlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG5cclxuXHRcdERvbUV2ZW50Lm9uKHRpbGUsICdsb2FkJywgVXRpbC5iaW5kKHRoaXMuX3RpbGVPbkxvYWQsIHRoaXMsIGRvbmUsIHRpbGUpKTtcclxuXHRcdERvbUV2ZW50Lm9uKHRpbGUsICdlcnJvcicsIFV0aWwuYmluZCh0aGlzLl90aWxlT25FcnJvciwgdGhpcywgZG9uZSwgdGlsZSkpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4gfHwgdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSAnJykge1xyXG5cdFx0XHR0aWxlLmNyb3NzT3JpZ2luID0gdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJycgOiB0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZm9yIHRoaXMgbmV3IG9wdGlvbiB3ZSBmb2xsb3cgdGhlIGRvY3VtZW50ZWQgYmVoYXZpb3JcclxuXHRcdC8vIG1vcmUgY2xvc2VseSBieSBvbmx5IHNldHRpbmcgdGhlIHByb3BlcnR5IHdoZW4gc3RyaW5nXHJcblx0XHRpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5yZWZlcnJlclBvbGljeSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0dGlsZS5yZWZlcnJlclBvbGljeSA9IHRoaXMub3B0aW9ucy5yZWZlcnJlclBvbGljeTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBUaGUgYWx0IGF0dHJpYnV0ZSBpcyBzZXQgdG8gdGhlIGVtcHR5IHN0cmluZyxcclxuXHRcdC8vIGFsbG93aW5nIHNjcmVlbiByZWFkZXJzIHRvIGlnbm9yZSB0aGUgZGVjb3JhdGl2ZSBpbWFnZSB0aWxlcy5cclxuXHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9XQUkvdHV0b3JpYWxzL2ltYWdlcy9kZWNvcmF0aXZlL1xyXG5cdFx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWwtYXJpYS8jZWwtaW1nLWVtcHR5LWFsdFxyXG5cdFx0dGlsZS5hbHQgPSAnJztcclxuXHJcblx0XHR0aWxlLnNyYyA9IHRoaXMuZ2V0VGlsZVVybChjb29yZHMpO1xyXG5cclxuXHRcdHJldHVybiB0aWxlO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBzZWN0aW9uIEV4dGVuc2lvbiBtZXRob2RzXHJcblx0Ly8gQHVuaW5oZXJpdGFibGVcclxuXHQvLyBMYXllcnMgZXh0ZW5kaW5nIGBUaWxlTGF5ZXJgIG1pZ2h0IHJlaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgbWV0aG9kLlxyXG5cdC8vIEBtZXRob2QgZ2V0VGlsZVVybChjb29yZHM6IE9iamVjdCk6IFN0cmluZ1xyXG5cdC8vIENhbGxlZCBvbmx5IGludGVybmFsbHksIHJldHVybnMgdGhlIFVSTCBmb3IgYSB0aWxlIGdpdmVuIGl0cyBjb29yZGluYXRlcy5cclxuXHQvLyBDbGFzc2VzIGV4dGVuZGluZyBgVGlsZUxheWVyYCBjYW4gb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiB0byBwcm92aWRlIGN1c3RvbSB0aWxlIFVSTCBuYW1pbmcgc2NoZW1lcy5cclxuXHRnZXRUaWxlVXJsOiBmdW5jdGlvbiAoY29vcmRzKSB7XHJcblx0XHR2YXIgZGF0YSA9IHtcclxuXHRcdFx0cjogQnJvd3Nlci5yZXRpbmEgPyAnQDJ4JyA6ICcnLFxyXG5cdFx0XHRzOiB0aGlzLl9nZXRTdWJkb21haW4oY29vcmRzKSxcclxuXHRcdFx0eDogY29vcmRzLngsXHJcblx0XHRcdHk6IGNvb3Jkcy55LFxyXG5cdFx0XHR6OiB0aGlzLl9nZXRab29tRm9yVXJsKClcclxuXHRcdH07XHJcblx0XHRpZiAodGhpcy5fbWFwICYmICF0aGlzLl9tYXAub3B0aW9ucy5jcnMuaW5maW5pdGUpIHtcclxuXHRcdFx0dmFyIGludmVydGVkWSA9IHRoaXMuX2dsb2JhbFRpbGVSYW5nZS5tYXgueSAtIGNvb3Jkcy55O1xyXG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLnRtcykge1xyXG5cdFx0XHRcdGRhdGFbJ3knXSA9IGludmVydGVkWTtcclxuXHRcdFx0fVxyXG5cdFx0XHRkYXRhWycteSddID0gaW52ZXJ0ZWRZO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBVdGlsLnRlbXBsYXRlKHRoaXMuX3VybCwgVXRpbC5leHRlbmQoZGF0YSwgdGhpcy5vcHRpb25zKSk7XHJcblx0fSxcclxuXHJcblx0X3RpbGVPbkxvYWQ6IGZ1bmN0aW9uIChkb25lLCB0aWxlKSB7XHJcblx0XHQvLyBGb3IgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvMzMzMlxyXG5cdFx0aWYgKEJyb3dzZXIuaWVsdDkpIHtcclxuXHRcdFx0c2V0VGltZW91dChVdGlsLmJpbmQoZG9uZSwgdGhpcywgbnVsbCwgdGlsZSksIDApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZG9uZShudWxsLCB0aWxlKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfdGlsZU9uRXJyb3I6IGZ1bmN0aW9uIChkb25lLCB0aWxlLCBlKSB7XHJcblx0XHR2YXIgZXJyb3JVcmwgPSB0aGlzLm9wdGlvbnMuZXJyb3JUaWxlVXJsO1xyXG5cdFx0aWYgKGVycm9yVXJsICYmIHRpbGUuZ2V0QXR0cmlidXRlKCdzcmMnKSAhPT0gZXJyb3JVcmwpIHtcclxuXHRcdFx0dGlsZS5zcmMgPSBlcnJvclVybDtcclxuXHRcdH1cclxuXHRcdGRvbmUoZSwgdGlsZSk7XHJcblx0fSxcclxuXHJcblx0X29uVGlsZVJlbW92ZTogZnVuY3Rpb24gKGUpIHtcclxuXHRcdGUudGlsZS5vbmxvYWQgPSBudWxsO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRab29tRm9yVXJsOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgem9vbSA9IHRoaXMuX3RpbGVab29tLFxyXG5cdFx0bWF4Wm9vbSA9IHRoaXMub3B0aW9ucy5tYXhab29tLFxyXG5cdFx0em9vbVJldmVyc2UgPSB0aGlzLm9wdGlvbnMuem9vbVJldmVyc2UsXHJcblx0XHR6b29tT2Zmc2V0ID0gdGhpcy5vcHRpb25zLnpvb21PZmZzZXQ7XHJcblxyXG5cdFx0aWYgKHpvb21SZXZlcnNlKSB7XHJcblx0XHRcdHpvb20gPSBtYXhab29tIC0gem9vbTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gem9vbSArIHpvb21PZmZzZXQ7XHJcblx0fSxcclxuXHJcblx0X2dldFN1YmRvbWFpbjogZnVuY3Rpb24gKHRpbGVQb2ludCkge1xyXG5cdFx0dmFyIGluZGV4ID0gTWF0aC5hYnModGlsZVBvaW50LnggKyB0aWxlUG9pbnQueSkgJSB0aGlzLm9wdGlvbnMuc3ViZG9tYWlucy5sZW5ndGg7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLnN1YmRvbWFpbnNbaW5kZXhdO1xyXG5cdH0sXHJcblxyXG5cdC8vIHN0b3BzIGxvYWRpbmcgYWxsIHRpbGVzIGluIHRoZSBiYWNrZ3JvdW5kIGxheWVyXHJcblx0X2Fib3J0TG9hZGluZzogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGksIHRpbGU7XHJcblx0XHRmb3IgKGkgaW4gdGhpcy5fdGlsZXMpIHtcclxuXHRcdFx0aWYgKHRoaXMuX3RpbGVzW2ldLmNvb3Jkcy56ICE9PSB0aGlzLl90aWxlWm9vbSkge1xyXG5cdFx0XHRcdHRpbGUgPSB0aGlzLl90aWxlc1tpXS5lbDtcclxuXHJcblx0XHRcdFx0dGlsZS5vbmxvYWQgPSBVdGlsLmZhbHNlRm47XHJcblx0XHRcdFx0dGlsZS5vbmVycm9yID0gVXRpbC5mYWxzZUZuO1xyXG5cclxuXHRcdFx0XHRpZiAoIXRpbGUuY29tcGxldGUpIHtcclxuXHRcdFx0XHRcdHRpbGUuc3JjID0gVXRpbC5lbXB0eUltYWdlVXJsO1xyXG5cdFx0XHRcdFx0dmFyIGNvb3JkcyA9IHRoaXMuX3RpbGVzW2ldLmNvb3JkcztcclxuXHRcdFx0XHRcdERvbVV0aWwucmVtb3ZlKHRpbGUpO1xyXG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuX3RpbGVzW2ldO1xyXG5cdFx0XHRcdFx0Ly8gQGV2ZW50IHRpbGVhYm9ydDogVGlsZUV2ZW50XHJcblx0XHRcdFx0XHQvLyBGaXJlZCB3aGVuIGEgdGlsZSB3YXMgbG9hZGluZyBidXQgaXMgbm93IG5vdCB3YW50ZWQuXHJcblx0XHRcdFx0XHR0aGlzLmZpcmUoJ3RpbGVhYm9ydCcsIHtcclxuXHRcdFx0XHRcdFx0dGlsZTogdGlsZSxcclxuXHRcdFx0XHRcdFx0Y29vcmRzOiBjb29yZHNcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9yZW1vdmVUaWxlOiBmdW5jdGlvbiAoa2V5KSB7XHJcblx0XHR2YXIgdGlsZSA9IHRoaXMuX3RpbGVzW2tleV07XHJcblx0XHRpZiAoIXRpbGUpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0Ly8gQ2FuY2VscyBhbnkgcGVuZGluZyBodHRwIHJlcXVlc3RzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdGlsZVxyXG5cdFx0dGlsZS5lbC5zZXRBdHRyaWJ1dGUoJ3NyYycsIFV0aWwuZW1wdHlJbWFnZVVybCk7XHJcblxyXG5cdFx0cmV0dXJuIEdyaWRMYXllci5wcm90b3R5cGUuX3JlbW92ZVRpbGUuY2FsbCh0aGlzLCBrZXkpO1xyXG5cdH0sXHJcblxyXG5cdF90aWxlUmVhZHk6IGZ1bmN0aW9uIChjb29yZHMsIGVyciwgdGlsZSkge1xyXG5cdFx0aWYgKCF0aGlzLl9tYXAgfHwgKHRpbGUgJiYgdGlsZS5nZXRBdHRyaWJ1dGUoJ3NyYycpID09PSBVdGlsLmVtcHR5SW1hZ2VVcmwpKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gR3JpZExheWVyLnByb3RvdHlwZS5fdGlsZVJlYWR5LmNhbGwodGhpcywgY29vcmRzLCBlcnIsIHRpbGUpO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC50aWxlbGF5ZXIodXJsVGVtcGxhdGU6IFN0cmluZywgb3B0aW9ucz86IFRpbGVMYXllciBvcHRpb25zKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSB0aWxlIGxheWVyIG9iamVjdCBnaXZlbiBhIGBVUkwgdGVtcGxhdGVgIGFuZCBvcHRpb25hbGx5IGFuIG9wdGlvbnMgb2JqZWN0LlxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRpbGVMYXllcih1cmwsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IFRpbGVMYXllcih1cmwsIG9wdGlvbnMpO1xyXG59XHJcbiIsICJpbXBvcnQge1RpbGVMYXllcn0gZnJvbSAnLi9UaWxlTGF5ZXInO1xyXG5pbXBvcnQge2V4dGVuZCwgc2V0T3B0aW9ucywgZ2V0UGFyYW1TdHJpbmd9IGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uLy4uL2NvcmUvQnJvd3Nlcic7XHJcbmltcG9ydCB7RVBTRzQzMjZ9IGZyb20gJy4uLy4uL2dlby9jcnMvQ1JTLkVQU0c0MzI2JztcclxuaW1wb3J0IHt0b0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBUaWxlTGF5ZXIuV01TXHJcbiAqIEBpbmhlcml0cyBUaWxlTGF5ZXJcclxuICogQGFrYSBMLlRpbGVMYXllci5XTVNcclxuICogVXNlZCB0byBkaXNwbGF5IFtXTVNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dlYl9NYXBfU2VydmljZSkgc2VydmljZXMgYXMgdGlsZSBsYXllcnMgb24gdGhlIG1hcC4gRXh0ZW5kcyBgVGlsZUxheWVyYC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIG5leHJhZCA9IEwudGlsZUxheWVyLndtcyhcImh0dHA6Ly9tZXNvbmV0LmFncm9uLmlhc3RhdGUuZWR1L2NnaS1iaW4vd21zL25leHJhZC9uMHIuY2dpXCIsIHtcclxuICogXHRsYXllcnM6ICduZXhyYWQtbjByLTkwMDkxMycsXHJcbiAqIFx0Zm9ybWF0OiAnaW1hZ2UvcG5nJyxcclxuICogXHR0cmFuc3BhcmVudDogdHJ1ZSxcclxuICogXHRhdHRyaWJ1dGlvbjogXCJXZWF0aGVyIGRhdGEgwqkgMjAxMiBJRU0gTmV4cmFkXCJcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgVGlsZUxheWVyV01TID0gVGlsZUxheWVyLmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBUaWxlTGF5ZXIuV01TIG9wdGlvbnNcclxuXHQvLyBJZiBhbnkgY3VzdG9tIG9wdGlvbnMgbm90IGRvY3VtZW50ZWQgaGVyZSBhcmUgdXNlZCwgdGhleSB3aWxsIGJlIHNlbnQgdG8gdGhlXHJcblx0Ly8gV01TIHNlcnZlciBhcyBleHRyYSBwYXJhbWV0ZXJzIGluIGVhY2ggcmVxdWVzdCBVUkwuIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3JcclxuXHQvLyBbbm9uLXN0YW5kYXJkIHZlbmRvciBXTVMgcGFyYW1ldGVyc10oaHR0cHM6Ly9kb2NzLmdlb3NlcnZlci5vcmcvc3RhYmxlL2VuL3VzZXIvc2VydmljZXMvd21zL3ZlbmRvci5odG1sKS5cclxuXHRkZWZhdWx0V21zUGFyYW1zOiB7XHJcblx0XHRzZXJ2aWNlOiAnV01TJyxcclxuXHRcdHJlcXVlc3Q6ICdHZXRNYXAnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbGF5ZXJzOiBTdHJpbmcgPSAnJ1xyXG5cdFx0Ly8gKioocmVxdWlyZWQpKiogQ29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgV01TIGxheWVycyB0byBzaG93LlxyXG5cdFx0bGF5ZXJzOiAnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHN0eWxlczogU3RyaW5nID0gJydcclxuXHRcdC8vIENvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIFdNUyBzdHlsZXMuXHJcblx0XHRzdHlsZXM6ICcnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gZm9ybWF0OiBTdHJpbmcgPSAnaW1hZ2UvanBlZydcclxuXHRcdC8vIFdNUyBpbWFnZSBmb3JtYXQgKHVzZSBgJ2ltYWdlL3BuZydgIGZvciBsYXllcnMgd2l0aCB0cmFuc3BhcmVuY3kpLlxyXG5cdFx0Zm9ybWF0OiAnaW1hZ2UvanBlZycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB0cmFuc3BhcmVudDogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBgdHJ1ZWAsIHRoZSBXTVMgc2VydmljZSB3aWxsIHJldHVybiBpbWFnZXMgd2l0aCB0cmFuc3BhcmVuY3kuXHJcblx0XHR0cmFuc3BhcmVudDogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB2ZXJzaW9uOiBTdHJpbmcgPSAnMS4xLjEnXHJcblx0XHQvLyBWZXJzaW9uIG9mIHRoZSBXTVMgc2VydmljZSB0byB1c2VcclxuXHRcdHZlcnNpb246ICcxLjEuMSdcclxuXHR9LFxyXG5cclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIGNyczogQ1JTID0gbnVsbFxyXG5cdFx0Ly8gQ29vcmRpbmF0ZSBSZWZlcmVuY2UgU3lzdGVtIHRvIHVzZSBmb3IgdGhlIFdNUyByZXF1ZXN0cywgZGVmYXVsdHMgdG9cclxuXHRcdC8vIG1hcCBDUlMuIERvbid0IGNoYW5nZSB0aGlzIGlmIHlvdSdyZSBub3Qgc3VyZSB3aGF0IGl0IG1lYW5zLlxyXG5cdFx0Y3JzOiBudWxsLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gdXBwZXJjYXNlOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIGB0cnVlYCwgV01TIHJlcXVlc3QgcGFyYW1ldGVyIGtleXMgd2lsbCBiZSB1cHBlcmNhc2UuXHJcblx0XHR1cHBlcmNhc2U6IGZhbHNlXHJcblx0fSxcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xyXG5cclxuXHRcdHRoaXMuX3VybCA9IHVybDtcclxuXHJcblx0XHR2YXIgd21zUGFyYW1zID0gZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRXbXNQYXJhbXMpO1xyXG5cclxuXHRcdC8vIGFsbCBrZXlzIHRoYXQgYXJlIG5vdCBUaWxlTGF5ZXIgb3B0aW9ucyBnbyB0byBXTVMgcGFyYW1zXHJcblx0XHRmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcclxuXHRcdFx0aWYgKCEoaSBpbiB0aGlzLm9wdGlvbnMpKSB7XHJcblx0XHRcdFx0d21zUGFyYW1zW2ldID0gb3B0aW9uc1tpXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdG9wdGlvbnMgPSBzZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHZhciByZWFsUmV0aW5hID0gb3B0aW9ucy5kZXRlY3RSZXRpbmEgJiYgQnJvd3Nlci5yZXRpbmEgPyAyIDogMTtcclxuXHRcdHZhciB0aWxlU2l6ZSA9IHRoaXMuZ2V0VGlsZVNpemUoKTtcclxuXHRcdHdtc1BhcmFtcy53aWR0aCA9IHRpbGVTaXplLnggKiByZWFsUmV0aW5hO1xyXG5cdFx0d21zUGFyYW1zLmhlaWdodCA9IHRpbGVTaXplLnkgKiByZWFsUmV0aW5hO1xyXG5cclxuXHRcdHRoaXMud21zUGFyYW1zID0gd21zUGFyYW1zO1xyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XHJcblxyXG5cdFx0dGhpcy5fY3JzID0gdGhpcy5vcHRpb25zLmNycyB8fCBtYXAub3B0aW9ucy5jcnM7XHJcblx0XHR0aGlzLl93bXNWZXJzaW9uID0gcGFyc2VGbG9hdCh0aGlzLndtc1BhcmFtcy52ZXJzaW9uKTtcclxuXHJcblx0XHR2YXIgcHJvamVjdGlvbktleSA9IHRoaXMuX3dtc1ZlcnNpb24gPj0gMS4zID8gJ2NycycgOiAnc3JzJztcclxuXHRcdHRoaXMud21zUGFyYW1zW3Byb2plY3Rpb25LZXldID0gdGhpcy5fY3JzLmNvZGU7XHJcblxyXG5cdFx0VGlsZUxheWVyLnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMsIG1hcCk7XHJcblx0fSxcclxuXHJcblx0Z2V0VGlsZVVybDogZnVuY3Rpb24gKGNvb3Jkcykge1xyXG5cclxuXHRcdHZhciB0aWxlQm91bmRzID0gdGhpcy5fdGlsZUNvb3Jkc1RvTndTZShjb29yZHMpLFxyXG5cdFx0ICAgIGNycyA9IHRoaXMuX2NycyxcclxuXHRcdCAgICBib3VuZHMgPSB0b0JvdW5kcyhjcnMucHJvamVjdCh0aWxlQm91bmRzWzBdKSwgY3JzLnByb2plY3QodGlsZUJvdW5kc1sxXSkpLFxyXG5cdFx0ICAgIG1pbiA9IGJvdW5kcy5taW4sXHJcblx0XHQgICAgbWF4ID0gYm91bmRzLm1heCxcclxuXHRcdCAgICBiYm94ID0gKHRoaXMuX3dtc1ZlcnNpb24gPj0gMS4zICYmIHRoaXMuX2NycyA9PT0gRVBTRzQzMjYgP1xyXG5cdFx0ICAgIFttaW4ueSwgbWluLngsIG1heC55LCBtYXgueF0gOlxyXG5cdFx0ICAgIFttaW4ueCwgbWluLnksIG1heC54LCBtYXgueV0pLmpvaW4oJywnKSxcclxuXHRcdCAgICB1cmwgPSBUaWxlTGF5ZXIucHJvdG90eXBlLmdldFRpbGVVcmwuY2FsbCh0aGlzLCBjb29yZHMpO1xyXG5cdFx0cmV0dXJuIHVybCArXHJcblx0XHRcdGdldFBhcmFtU3RyaW5nKHRoaXMud21zUGFyYW1zLCB1cmwsIHRoaXMub3B0aW9ucy51cHBlcmNhc2UpICtcclxuXHRcdFx0KHRoaXMub3B0aW9ucy51cHBlcmNhc2UgPyAnJkJCT1g9JyA6ICcmYmJveD0nKSArIGJib3g7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRQYXJhbXMocGFyYW1zOiBPYmplY3QsIG5vUmVkcmF3PzogQm9vbGVhbik6IHRoaXNcclxuXHQvLyBNZXJnZXMgYW4gb2JqZWN0IHdpdGggdGhlIG5ldyBwYXJhbWV0ZXJzIGFuZCByZS1yZXF1ZXN0cyB0aWxlcyBvbiB0aGUgY3VycmVudCBzY3JlZW4gKHVubGVzcyBgbm9SZWRyYXdgIHdhcyBzZXQgdG8gdHJ1ZSkuXHJcblx0c2V0UGFyYW1zOiBmdW5jdGlvbiAocGFyYW1zLCBub1JlZHJhdykge1xyXG5cclxuXHRcdGV4dGVuZCh0aGlzLndtc1BhcmFtcywgcGFyYW1zKTtcclxuXHJcblx0XHRpZiAoIW5vUmVkcmF3KSB7XHJcblx0XHRcdHRoaXMucmVkcmF3KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG59KTtcclxuXHJcblxyXG4vLyBAZmFjdG9yeSBMLnRpbGVMYXllci53bXMoYmFzZVVybDogU3RyaW5nLCBvcHRpb25zOiBUaWxlTGF5ZXIuV01TIG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhIFdNUyB0aWxlIGxheWVyIG9iamVjdCBnaXZlbiBhIGJhc2UgVVJMIG9mIHRoZSBXTVMgc2VydmljZSBhbmQgYSBXTVMgcGFyYW1ldGVycy9vcHRpb25zIG9iamVjdC5cclxuZXhwb3J0IGZ1bmN0aW9uIHRpbGVMYXllcldNUyh1cmwsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IFRpbGVMYXllcldNUyh1cmwsIG9wdGlvbnMpO1xyXG59XHJcbiIsICJleHBvcnQge0dyaWRMYXllciwgZ3JpZExheWVyfSBmcm9tICcuL0dyaWRMYXllcic7XG5pbXBvcnQge1RpbGVMYXllciwgdGlsZUxheWVyfSBmcm9tICcuL1RpbGVMYXllcic7XG5pbXBvcnQge1RpbGVMYXllcldNUywgdGlsZUxheWVyV01TfSBmcm9tICcuL1RpbGVMYXllci5XTVMnO1xuVGlsZUxheWVyLldNUyA9IFRpbGVMYXllcldNUztcbnRpbGVMYXllci53bXMgPSB0aWxlTGF5ZXJXTVM7XG5leHBvcnQge1RpbGVMYXllciwgdGlsZUxheWVyfTtcbiIsICJpbXBvcnQge0xheWVyfSBmcm9tICcuLi9MYXllcic7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uLy4uL2NvcmUvQnJvd3Nlcic7XG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcblxuXG5cbi8qXG4gKiBAY2xhc3MgUmVuZGVyZXJcbiAqIEBpbmhlcml0cyBMYXllclxuICogQGFrYSBMLlJlbmRlcmVyXG4gKlxuICogQmFzZSBjbGFzcyBmb3IgdmVjdG9yIHJlbmRlcmVyIGltcGxlbWVudGF0aW9ucyAoYFNWR2AsIGBDYW52YXNgKS4gSGFuZGxlcyB0aGVcbiAqIERPTSBjb250YWluZXIgb2YgdGhlIHJlbmRlcmVyLCBpdHMgYm91bmRzLCBhbmQgaXRzIHpvb20gYW5pbWF0aW9uLlxuICpcbiAqIEEgYFJlbmRlcmVyYCB3b3JrcyBhcyBhbiBpbXBsaWNpdCBsYXllciBncm91cCBmb3IgYWxsIGBQYXRoYHMgLSB0aGUgcmVuZGVyZXJcbiAqIGl0c2VsZiBjYW4gYmUgYWRkZWQgb3IgcmVtb3ZlZCB0byB0aGUgbWFwLiBBbGwgcGF0aHMgdXNlIGEgcmVuZGVyZXIsIHdoaWNoIGNhblxuICogYmUgaW1wbGljaXQgKHRoZSBtYXAgd2lsbCBkZWNpZGUgdGhlIHR5cGUgb2YgcmVuZGVyZXIgYW5kIHVzZSBpdCBhdXRvbWF0aWNhbGx5KVxuICogb3IgZXhwbGljaXQgKHVzaW5nIHRoZSBbYHJlbmRlcmVyYF0oI3BhdGgtcmVuZGVyZXIpIG9wdGlvbiBvZiB0aGUgcGF0aCkuXG4gKlxuICogRG8gbm90IHVzZSB0aGlzIGNsYXNzIGRpcmVjdGx5LCB1c2UgYFNWR2AgYW5kIGBDYW52YXNgIGluc3RlYWQuXG4gKlxuICogQGV2ZW50IHVwZGF0ZTogRXZlbnRcbiAqIEZpcmVkIHdoZW4gdGhlIHJlbmRlcmVyIHVwZGF0ZXMgaXRzIGJvdW5kcywgY2VudGVyIGFuZCB6b29tLCBmb3IgZXhhbXBsZSB3aGVuXG4gKiBpdHMgbWFwIGhhcyBtb3ZlZFxuICovXG5cbmV4cG9ydCB2YXIgUmVuZGVyZXIgPSBMYXllci5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgUmVuZGVyZXIgb3B0aW9uc1xuXHRvcHRpb25zOiB7XG5cdFx0Ly8gQG9wdGlvbiBwYWRkaW5nOiBOdW1iZXIgPSAwLjFcblx0XHQvLyBIb3cgbXVjaCB0byBleHRlbmQgdGhlIGNsaXAgYXJlYSBhcm91bmQgdGhlIG1hcCB2aWV3IChyZWxhdGl2ZSB0byBpdHMgc2l6ZSlcblx0XHQvLyBlLmcuIDAuMSB3b3VsZCBiZSAxMCUgb2YgbWFwIHZpZXcgaW4gZWFjaCBkaXJlY3Rpb25cblx0XHRwYWRkaW5nOiAwLjFcblx0fSxcblxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblx0XHRVdGlsLnN0YW1wKHRoaXMpO1xuXHRcdHRoaXMuX2xheWVycyA9IHRoaXMuX2xheWVycyB8fCB7fTtcblx0fSxcblxuXHRvbkFkZDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fY29udGFpbmVyKSB7XG5cdFx0XHR0aGlzLl9pbml0Q29udGFpbmVyKCk7IC8vIGRlZmluZWQgYnkgcmVuZGVyZXIgaW1wbGVtZW50YXRpb25zXG5cblx0XHRcdC8vIGFsd2F5cyBrZWVwIHRyYW5zZm9ybS1vcmlnaW4gYXMgMCAwXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcpO1xuXHRcdH1cblxuXHRcdHRoaXMuZ2V0UGFuZSgpLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0dGhpcy5fdXBkYXRlKCk7XG5cdFx0dGhpcy5vbigndXBkYXRlJywgdGhpcy5fdXBkYXRlUGF0aHMsIHRoaXMpO1xuXHR9LFxuXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5vZmYoJ3VwZGF0ZScsIHRoaXMuX3VwZGF0ZVBhdGhzLCB0aGlzKTtcblx0XHR0aGlzLl9kZXN0cm95Q29udGFpbmVyKCk7XG5cdH0sXG5cblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGV2ZW50cyA9IHtcblx0XHRcdHZpZXdyZXNldDogdGhpcy5fcmVzZXQsXG5cdFx0XHR6b29tOiB0aGlzLl9vblpvb20sXG5cdFx0XHRtb3ZlZW5kOiB0aGlzLl91cGRhdGUsXG5cdFx0XHR6b29tZW5kOiB0aGlzLl9vblpvb21FbmRcblx0XHR9O1xuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcblx0XHRcdGV2ZW50cy56b29tYW5pbSA9IHRoaXMuX29uQW5pbVpvb207XG5cdFx0fVxuXHRcdHJldHVybiBldmVudHM7XG5cdH0sXG5cblx0X29uQW5pbVpvb206IGZ1bmN0aW9uIChldikge1xuXHRcdHRoaXMuX3VwZGF0ZVRyYW5zZm9ybShldi5jZW50ZXIsIGV2Lnpvb20pO1xuXHR9LFxuXG5cdF9vblpvb206IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl91cGRhdGVUcmFuc2Zvcm0odGhpcy5fbWFwLmdldENlbnRlcigpLCB0aGlzLl9tYXAuZ2V0Wm9vbSgpKTtcblx0fSxcblxuXHRfdXBkYXRlVHJhbnNmb3JtOiBmdW5jdGlvbiAoY2VudGVyLCB6b29tKSB7XG5cdFx0dmFyIHNjYWxlID0gdGhpcy5fbWFwLmdldFpvb21TY2FsZSh6b29tLCB0aGlzLl96b29tKSxcblx0XHQgICAgdmlld0hhbGYgPSB0aGlzLl9tYXAuZ2V0U2l6ZSgpLm11bHRpcGx5QnkoMC41ICsgdGhpcy5vcHRpb25zLnBhZGRpbmcpLFxuXHRcdCAgICBjdXJyZW50Q2VudGVyUG9pbnQgPSB0aGlzLl9tYXAucHJvamVjdCh0aGlzLl9jZW50ZXIsIHpvb20pLFxuXG5cdFx0ICAgIHRvcExlZnRPZmZzZXQgPSB2aWV3SGFsZi5tdWx0aXBseUJ5KC1zY2FsZSkuYWRkKGN1cnJlbnRDZW50ZXJQb2ludClcblx0XHRcdFx0ICAuc3VidHJhY3QodGhpcy5fbWFwLl9nZXROZXdQaXhlbE9yaWdpbihjZW50ZXIsIHpvb20pKTtcblxuXHRcdGlmIChCcm93c2VyLmFueTNkKSB7XG5cdFx0XHREb21VdGlsLnNldFRyYW5zZm9ybSh0aGlzLl9jb250YWluZXIsIHRvcExlZnRPZmZzZXQsIHNjYWxlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9jb250YWluZXIsIHRvcExlZnRPZmZzZXQpO1xuXHRcdH1cblx0fSxcblxuXHRfcmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl91cGRhdGUoKTtcblx0XHR0aGlzLl91cGRhdGVUcmFuc2Zvcm0odGhpcy5fY2VudGVyLCB0aGlzLl96b29tKTtcblxuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2xheWVycykge1xuXHRcdFx0dGhpcy5fbGF5ZXJzW2lkXS5fcmVzZXQoKTtcblx0XHR9XG5cdH0sXG5cblx0X29uWm9vbUVuZDogZnVuY3Rpb24gKCkge1xuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2xheWVycykge1xuXHRcdFx0dGhpcy5fbGF5ZXJzW2lkXS5fcHJvamVjdCgpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlUGF0aHM6IGZ1bmN0aW9uICgpIHtcblx0XHRmb3IgKHZhciBpZCBpbiB0aGlzLl9sYXllcnMpIHtcblx0XHRcdHRoaXMuX2xheWVyc1tpZF0uX3VwZGF0ZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gVXBkYXRlIHBpeGVsIGJvdW5kcyBvZiByZW5kZXJlciBjb250YWluZXIgKGZvciBwb3NpdGlvbmluZy9zaXppbmcvY2xpcHBpbmcgbGF0ZXIpXG5cdFx0Ly8gU3ViY2xhc3NlcyBhcmUgcmVzcG9uc2libGUgb2YgZmlyaW5nIHRoZSAndXBkYXRlJyBldmVudC5cblx0XHR2YXIgcCA9IHRoaXMub3B0aW9ucy5wYWRkaW5nLFxuXHRcdCAgICBzaXplID0gdGhpcy5fbWFwLmdldFNpemUoKSxcblx0XHQgICAgbWluID0gdGhpcy5fbWFwLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KHNpemUubXVsdGlwbHlCeSgtcCkpLnJvdW5kKCk7XG5cblx0XHR0aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKG1pbiwgbWluLmFkZChzaXplLm11bHRpcGx5QnkoMSArIHAgKiAyKSkucm91bmQoKSk7XG5cblx0XHR0aGlzLl9jZW50ZXIgPSB0aGlzLl9tYXAuZ2V0Q2VudGVyKCk7XG5cdFx0dGhpcy5fem9vbSA9IHRoaXMuX21hcC5nZXRab29tKCk7XG5cdH1cbn0pO1xuIiwgImltcG9ydCB7UmVuZGVyZXJ9IGZyb20gJy4vUmVuZGVyZXInO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi8uLi9kb20vRG9tRXZlbnQnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcbmltcG9ydCB7Qm91bmRzfSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Cb3VuZHMnO1xuXG4vKlxuICogQGNsYXNzIENhbnZhc1xuICogQGluaGVyaXRzIFJlbmRlcmVyXG4gKiBAYWthIEwuQ2FudmFzXG4gKlxuICogQWxsb3dzIHZlY3RvciBsYXllcnMgdG8gYmUgZGlzcGxheWVkIHdpdGggW2A8Y2FudmFzPmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJKS5cbiAqIEluaGVyaXRzIGBSZW5kZXJlcmAuXG4gKlxuICogRHVlIHRvIFt0ZWNobmljYWwgbGltaXRhdGlvbnNdKGh0dHBzOi8vY2FuaXVzZS5jb20vY2FudmFzKSwgQ2FudmFzIGlzIG5vdFxuICogYXZhaWxhYmxlIGluIGFsbCB3ZWIgYnJvd3NlcnMsIG5vdGFibHkgSUU4LCBhbmQgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcyBtaWdodFxuICogbm90IGRpc3BsYXkgcHJvcGVybHkgaW4gc29tZSBlZGdlIGNhc2VzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogVXNlIENhbnZhcyBieSBkZWZhdWx0IGZvciBhbGwgcGF0aHMgaW4gdGhlIG1hcDpcbiAqXG4gKiBgYGBqc1xuICogdmFyIG1hcCA9IEwubWFwKCdtYXAnLCB7XG4gKiBcdHJlbmRlcmVyOiBMLmNhbnZhcygpXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFVzZSBhIENhbnZhcyByZW5kZXJlciB3aXRoIGV4dHJhIHBhZGRpbmcgZm9yIHNwZWNpZmljIHZlY3RvciBnZW9tZXRyaWVzOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbWFwID0gTC5tYXAoJ21hcCcpO1xuICogdmFyIG15UmVuZGVyZXIgPSBMLmNhbnZhcyh7IHBhZGRpbmc6IDAuNSB9KTtcbiAqIHZhciBsaW5lID0gTC5wb2x5bGluZSggY29vcmRpbmF0ZXMsIHsgcmVuZGVyZXI6IG15UmVuZGVyZXIgfSApO1xuICogdmFyIGNpcmNsZSA9IEwuY2lyY2xlKCBjZW50ZXIsIHsgcmVuZGVyZXI6IG15UmVuZGVyZXIgfSApO1xuICogYGBgXG4gKi9cblxuZXhwb3J0IHZhciBDYW52YXMgPSBSZW5kZXJlci5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgQ2FudmFzIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gdG9sZXJhbmNlOiBOdW1iZXIgPSAwXG5cdFx0Ly8gSG93IG11Y2ggdG8gZXh0ZW5kIHRoZSBjbGljayB0b2xlcmFuY2UgYXJvdW5kIGEgcGF0aC9vYmplY3Qgb24gdGhlIG1hcC5cblx0XHR0b2xlcmFuY2U6IDBcblx0fSxcblxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZXZlbnRzID0gUmVuZGVyZXIucHJvdG90eXBlLmdldEV2ZW50cy5jYWxsKHRoaXMpO1xuXHRcdGV2ZW50cy52aWV3cHJlcmVzZXQgPSB0aGlzLl9vblZpZXdQcmVSZXNldDtcblx0XHRyZXR1cm4gZXZlbnRzO1xuXHR9LFxuXG5cdF9vblZpZXdQcmVSZXNldDogZnVuY3Rpb24gKCkge1xuXHRcdC8vIFNldCBhIGZsYWcgc28gdGhhdCBhIHZpZXdwcmVyZXNldCttb3ZlZW5kK3ZpZXdyZXNldCBvbmx5IHVwZGF0ZXMmcmVkcmF3cyBvbmNlXG5cdFx0dGhpcy5fcG9zdHBvbmVVcGRhdGVQYXRocyA9IHRydWU7XG5cdH0sXG5cblx0b25BZGQ6IGZ1bmN0aW9uICgpIHtcblx0XHRSZW5kZXJlci5wcm90b3R5cGUub25BZGQuY2FsbCh0aGlzKTtcblxuXHRcdC8vIFJlZHJhdyB2ZWN0b3JzIHNpbmNlIGNhbnZhcyBpcyBjbGVhcmVkIHVwb24gcmVtb3ZhbCxcblx0XHQvLyBpbiBjYXNlIG9mIHJlbW92aW5nIHRoZSByZW5kZXJlciBpdHNlbGYgZnJvbSB0aGUgbWFwLlxuXHRcdHRoaXMuX2RyYXcoKTtcblx0fSxcblxuXHRfaW5pdENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuXHRcdERvbUV2ZW50Lm9uKGNvbnRhaW5lciwgJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0aGlzKTtcblx0XHREb21FdmVudC5vbihjb250YWluZXIsICdjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBjb250ZXh0bWVudScsIHRoaXMuX29uQ2xpY2ssIHRoaXMpO1xuXHRcdERvbUV2ZW50Lm9uKGNvbnRhaW5lciwgJ21vdXNlb3V0JywgdGhpcy5faGFuZGxlTW91c2VPdXQsIHRoaXMpO1xuXHRcdGNvbnRhaW5lclsnX2xlYWZsZXRfZGlzYWJsZV9ldmVudHMnXSA9IHRydWU7XG5cblx0XHR0aGlzLl9jdHggPSBjb250YWluZXIuZ2V0Q29udGV4dCgnMmQnKTtcblx0fSxcblxuXHRfZGVzdHJveUNvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuXHRcdFV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX3JlZHJhd1JlcXVlc3QpO1xuXHRcdGRlbGV0ZSB0aGlzLl9jdHg7XG5cdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcblx0XHREb21FdmVudC5vZmYodGhpcy5fY29udGFpbmVyKTtcblx0XHRkZWxldGUgdGhpcy5fY29udGFpbmVyO1xuXHR9LFxuXG5cdF91cGRhdGVQYXRoczogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9wb3N0cG9uZVVwZGF0ZVBhdGhzKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIGxheWVyO1xuXHRcdHRoaXMuX3JlZHJhd0JvdW5kcyA9IG51bGw7XG5cdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG5cdFx0XHRsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XG5cdFx0XHRsYXllci5fdXBkYXRlKCk7XG5cdFx0fVxuXHRcdHRoaXMuX3JlZHJhdygpO1xuXHR9LFxuXG5cdF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwLl9hbmltYXRpbmdab29tICYmIHRoaXMuX2JvdW5kcykgeyByZXR1cm47IH1cblxuXHRcdFJlbmRlcmVyLnByb3RvdHlwZS5fdXBkYXRlLmNhbGwodGhpcyk7XG5cblx0XHR2YXIgYiA9IHRoaXMuX2JvdW5kcyxcblx0XHQgICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyLFxuXHRcdCAgICBzaXplID0gYi5nZXRTaXplKCksXG5cdFx0ICAgIG0gPSBCcm93c2VyLnJldGluYSA/IDIgOiAxO1xuXG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbihjb250YWluZXIsIGIubWluKTtcblxuXHRcdC8vIHNldCBjYW52YXMgc2l6ZSAoYWxzbyBjbGVhcmluZyBpdCk7IHVzZSBkb3VibGUgc2l6ZSBvbiByZXRpbmFcblx0XHRjb250YWluZXIud2lkdGggPSBtICogc2l6ZS54O1xuXHRcdGNvbnRhaW5lci5oZWlnaHQgPSBtICogc2l6ZS55O1xuXHRcdGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHNpemUueCArICdweCc7XG5cdFx0Y29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHNpemUueSArICdweCc7XG5cblx0XHRpZiAoQnJvd3Nlci5yZXRpbmEpIHtcblx0XHRcdHRoaXMuX2N0eC5zY2FsZSgyLCAyKTtcblx0XHR9XG5cblx0XHQvLyB0cmFuc2xhdGUgc28gd2UgdXNlIHRoZSBzYW1lIHBhdGggY29vcmRpbmF0ZXMgYWZ0ZXIgY2FudmFzIGVsZW1lbnQgbW92ZXNcblx0XHR0aGlzLl9jdHgudHJhbnNsYXRlKC1iLm1pbi54LCAtYi5taW4ueSk7XG5cblx0XHQvLyBUZWxsIHBhdGhzIHRvIHJlZHJhdyB0aGVtc2VsdmVzXG5cdFx0dGhpcy5maXJlKCd1cGRhdGUnKTtcblx0fSxcblxuXHRfcmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRSZW5kZXJlci5wcm90b3R5cGUuX3Jlc2V0LmNhbGwodGhpcyk7XG5cblx0XHRpZiAodGhpcy5fcG9zdHBvbmVVcGRhdGVQYXRocykge1xuXHRcdFx0dGhpcy5fcG9zdHBvbmVVcGRhdGVQYXRocyA9IGZhbHNlO1xuXHRcdFx0dGhpcy5fdXBkYXRlUGF0aHMoKTtcblx0XHR9XG5cdH0sXG5cblx0X2luaXRQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR0aGlzLl91cGRhdGVEYXNoQXJyYXkobGF5ZXIpO1xuXHRcdHRoaXMuX2xheWVyc1tVdGlsLnN0YW1wKGxheWVyKV0gPSBsYXllcjtcblxuXHRcdHZhciBvcmRlciA9IGxheWVyLl9vcmRlciA9IHtcblx0XHRcdGxheWVyOiBsYXllcixcblx0XHRcdHByZXY6IHRoaXMuX2RyYXdMYXN0LFxuXHRcdFx0bmV4dDogbnVsbFxuXHRcdH07XG5cdFx0aWYgKHRoaXMuX2RyYXdMYXN0KSB7IHRoaXMuX2RyYXdMYXN0Lm5leHQgPSBvcmRlcjsgfVxuXHRcdHRoaXMuX2RyYXdMYXN0ID0gb3JkZXI7XG5cdFx0dGhpcy5fZHJhd0ZpcnN0ID0gdGhpcy5fZHJhd0ZpcnN0IHx8IHRoaXMuX2RyYXdMYXN0O1xuXHR9LFxuXG5cdF9hZGRQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR0aGlzLl9yZXF1ZXN0UmVkcmF3KGxheWVyKTtcblx0fSxcblxuXHRfcmVtb3ZlUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIG9yZGVyID0gbGF5ZXIuX29yZGVyO1xuXHRcdHZhciBuZXh0ID0gb3JkZXIubmV4dDtcblx0XHR2YXIgcHJldiA9IG9yZGVyLnByZXY7XG5cblx0XHRpZiAobmV4dCkge1xuXHRcdFx0bmV4dC5wcmV2ID0gcHJldjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fZHJhd0xhc3QgPSBwcmV2O1xuXHRcdH1cblx0XHRpZiAocHJldikge1xuXHRcdFx0cHJldi5uZXh0ID0gbmV4dDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fZHJhd0ZpcnN0ID0gbmV4dDtcblx0XHR9XG5cblx0XHRkZWxldGUgbGF5ZXIuX29yZGVyO1xuXG5cdFx0ZGVsZXRlIHRoaXMuX2xheWVyc1tVdGlsLnN0YW1wKGxheWVyKV07XG5cblx0XHR0aGlzLl9yZXF1ZXN0UmVkcmF3KGxheWVyKTtcblx0fSxcblxuXHRfdXBkYXRlUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0Ly8gUmVkcmF3IHRoZSB1bmlvbiBvZiB0aGUgbGF5ZXIncyBvbGQgcGl4ZWxcblx0XHQvLyBib3VuZHMgYW5kIHRoZSBuZXcgcGl4ZWwgYm91bmRzLlxuXHRcdHRoaXMuX2V4dGVuZFJlZHJhd0JvdW5kcyhsYXllcik7XG5cdFx0bGF5ZXIuX3Byb2plY3QoKTtcblx0XHRsYXllci5fdXBkYXRlKCk7XG5cdFx0Ly8gVGhlIHJlZHJhdyB3aWxsIGV4dGVuZCB0aGUgcmVkcmF3IGJvdW5kc1xuXHRcdC8vIHdpdGggdGhlIG5ldyBwaXhlbCBib3VuZHMuXG5cdFx0dGhpcy5fcmVxdWVzdFJlZHJhdyhsYXllcik7XG5cdH0sXG5cblx0X3VwZGF0ZVN0eWxlOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR0aGlzLl91cGRhdGVEYXNoQXJyYXkobGF5ZXIpO1xuXHRcdHRoaXMuX3JlcXVlc3RSZWRyYXcobGF5ZXIpO1xuXHR9LFxuXG5cdF91cGRhdGVEYXNoQXJyYXk6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdGlmICh0eXBlb2YgbGF5ZXIub3B0aW9ucy5kYXNoQXJyYXkgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHR2YXIgcGFydHMgPSBsYXllci5vcHRpb25zLmRhc2hBcnJheS5zcGxpdCgvWywgXSsvKSxcblx0XHRcdCAgICBkYXNoQXJyYXkgPSBbXSxcblx0XHRcdCAgICBkYXNoVmFsdWUsXG5cdFx0XHQgICAgaTtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRkYXNoVmFsdWUgPSBOdW1iZXIocGFydHNbaV0pO1xuXHRcdFx0XHQvLyBJZ25vcmUgZGFzaCBhcnJheSBjb250YWluaW5nIGludmFsaWQgbGVuZ3Roc1xuXHRcdFx0XHRpZiAoaXNOYU4oZGFzaFZhbHVlKSkgeyByZXR1cm47IH1cblx0XHRcdFx0ZGFzaEFycmF5LnB1c2goZGFzaFZhbHVlKTtcblx0XHRcdH1cblx0XHRcdGxheWVyLm9wdGlvbnMuX2Rhc2hBcnJheSA9IGRhc2hBcnJheTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bGF5ZXIub3B0aW9ucy5fZGFzaEFycmF5ID0gbGF5ZXIub3B0aW9ucy5kYXNoQXJyYXk7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZXF1ZXN0UmVkcmF3OiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX2V4dGVuZFJlZHJhd0JvdW5kcyhsYXllcik7XG5cdFx0dGhpcy5fcmVkcmF3UmVxdWVzdCA9IHRoaXMuX3JlZHJhd1JlcXVlc3QgfHwgVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3JlZHJhdywgdGhpcyk7XG5cdH0sXG5cblx0X2V4dGVuZFJlZHJhd0JvdW5kczogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0aWYgKGxheWVyLl9weEJvdW5kcykge1xuXHRcdFx0dmFyIHBhZGRpbmcgPSAobGF5ZXIub3B0aW9ucy53ZWlnaHQgfHwgMCkgKyAxO1xuXHRcdFx0dGhpcy5fcmVkcmF3Qm91bmRzID0gdGhpcy5fcmVkcmF3Qm91bmRzIHx8IG5ldyBCb3VuZHMoKTtcblx0XHRcdHRoaXMuX3JlZHJhd0JvdW5kcy5leHRlbmQobGF5ZXIuX3B4Qm91bmRzLm1pbi5zdWJ0cmFjdChbcGFkZGluZywgcGFkZGluZ10pKTtcblx0XHRcdHRoaXMuX3JlZHJhd0JvdW5kcy5leHRlbmQobGF5ZXIuX3B4Qm91bmRzLm1heC5hZGQoW3BhZGRpbmcsIHBhZGRpbmddKSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZWRyYXc6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZWRyYXdSZXF1ZXN0ID0gbnVsbDtcblxuXHRcdGlmICh0aGlzLl9yZWRyYXdCb3VuZHMpIHtcblx0XHRcdHRoaXMuX3JlZHJhd0JvdW5kcy5taW4uX2Zsb29yKCk7XG5cdFx0XHR0aGlzLl9yZWRyYXdCb3VuZHMubWF4Ll9jZWlsKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fY2xlYXIoKTsgLy8gY2xlYXIgbGF5ZXJzIGluIHJlZHJhdyBib3VuZHNcblx0XHR0aGlzLl9kcmF3KCk7IC8vIGRyYXcgbGF5ZXJzXG5cblx0XHR0aGlzLl9yZWRyYXdCb3VuZHMgPSBudWxsO1xuXHR9LFxuXG5cdF9jbGVhcjogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBib3VuZHMgPSB0aGlzLl9yZWRyYXdCb3VuZHM7XG5cdFx0aWYgKGJvdW5kcykge1xuXHRcdFx0dmFyIHNpemUgPSBib3VuZHMuZ2V0U2l6ZSgpO1xuXHRcdFx0dGhpcy5fY3R4LmNsZWFyUmVjdChib3VuZHMubWluLngsIGJvdW5kcy5taW4ueSwgc2l6ZS54LCBzaXplLnkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9jdHguc2F2ZSgpO1xuXHRcdFx0dGhpcy5fY3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcblx0XHRcdHRoaXMuX2N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5fY29udGFpbmVyLndpZHRoLCB0aGlzLl9jb250YWluZXIuaGVpZ2h0KTtcblx0XHRcdHRoaXMuX2N0eC5yZXN0b3JlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9kcmF3OiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGxheWVyLCBib3VuZHMgPSB0aGlzLl9yZWRyYXdCb3VuZHM7XG5cdFx0dGhpcy5fY3R4LnNhdmUoKTtcblx0XHRpZiAoYm91bmRzKSB7XG5cdFx0XHR2YXIgc2l6ZSA9IGJvdW5kcy5nZXRTaXplKCk7XG5cdFx0XHR0aGlzLl9jdHguYmVnaW5QYXRoKCk7XG5cdFx0XHR0aGlzLl9jdHgucmVjdChib3VuZHMubWluLngsIGJvdW5kcy5taW4ueSwgc2l6ZS54LCBzaXplLnkpO1xuXHRcdFx0dGhpcy5fY3R4LmNsaXAoKTtcblx0XHR9XG5cblx0XHR0aGlzLl9kcmF3aW5nID0gdHJ1ZTtcblxuXHRcdGZvciAodmFyIG9yZGVyID0gdGhpcy5fZHJhd0ZpcnN0OyBvcmRlcjsgb3JkZXIgPSBvcmRlci5uZXh0KSB7XG5cdFx0XHRsYXllciA9IG9yZGVyLmxheWVyO1xuXHRcdFx0aWYgKCFib3VuZHMgfHwgKGxheWVyLl9weEJvdW5kcyAmJiBsYXllci5fcHhCb3VuZHMuaW50ZXJzZWN0cyhib3VuZHMpKSkge1xuXHRcdFx0XHRsYXllci5fdXBkYXRlUGF0aCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX2RyYXdpbmcgPSBmYWxzZTtcblxuXHRcdHRoaXMuX2N0eC5yZXN0b3JlKCk7ICAvLyBSZXN0b3JlIHN0YXRlIGJlZm9yZSBjbGlwcGluZy5cblx0fSxcblxuXHRfdXBkYXRlUG9seTogZnVuY3Rpb24gKGxheWVyLCBjbG9zZWQpIHtcblx0XHRpZiAoIXRoaXMuX2RyYXdpbmcpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgaSwgaiwgbGVuMiwgcCxcblx0XHQgICAgcGFydHMgPSBsYXllci5fcGFydHMsXG5cdFx0ICAgIGxlbiA9IHBhcnRzLmxlbmd0aCxcblx0XHQgICAgY3R4ID0gdGhpcy5fY3R4O1xuXG5cdFx0aWYgKCFsZW4pIHsgcmV0dXJuOyB9XG5cblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGZvciAoaiA9IDAsIGxlbjIgPSBwYXJ0c1tpXS5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHtcblx0XHRcdFx0cCA9IHBhcnRzW2ldW2pdO1xuXHRcdFx0XHRjdHhbaiA/ICdsaW5lVG8nIDogJ21vdmVUbyddKHAueCwgcC55KTtcblx0XHRcdH1cblx0XHRcdGlmIChjbG9zZWQpIHtcblx0XHRcdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX2ZpbGxTdHJva2UoY3R4LCBsYXllcik7XG5cblx0XHQvLyBUT0RPIG9wdGltaXphdGlvbjogMSBmaWxsL3N0cm9rZSBmb3IgYWxsIGZlYXR1cmVzIHdpdGggZXF1YWwgc3R5bGUgaW5zdGVhZCBvZiAxIGZvciBlYWNoIGZlYXR1cmVcblx0fSxcblxuXHRfdXBkYXRlQ2lyY2xlOiBmdW5jdGlvbiAobGF5ZXIpIHtcblxuXHRcdGlmICghdGhpcy5fZHJhd2luZyB8fCBsYXllci5fZW1wdHkoKSkgeyByZXR1cm47IH1cblxuXHRcdHZhciBwID0gbGF5ZXIuX3BvaW50LFxuXHRcdCAgICBjdHggPSB0aGlzLl9jdHgsXG5cdFx0ICAgIHIgPSBNYXRoLm1heChNYXRoLnJvdW5kKGxheWVyLl9yYWRpdXMpLCAxKSxcblx0XHQgICAgcyA9IChNYXRoLm1heChNYXRoLnJvdW5kKGxheWVyLl9yYWRpdXNZKSwgMSkgfHwgcikgLyByO1xuXG5cdFx0aWYgKHMgIT09IDEpIHtcblx0XHRcdGN0eC5zYXZlKCk7XG5cdFx0XHRjdHguc2NhbGUoMSwgcyk7XG5cdFx0fVxuXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5hcmMocC54LCBwLnkgLyBzLCByLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xuXG5cdFx0aWYgKHMgIT09IDEpIHtcblx0XHRcdGN0eC5yZXN0b3JlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZmlsbFN0cm9rZShjdHgsIGxheWVyKTtcblx0fSxcblxuXHRfZmlsbFN0cm9rZTogZnVuY3Rpb24gKGN0eCwgbGF5ZXIpIHtcblx0XHR2YXIgb3B0aW9ucyA9IGxheWVyLm9wdGlvbnM7XG5cblx0XHRpZiAob3B0aW9ucy5maWxsKSB7XG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSBvcHRpb25zLmZpbGxPcGFjaXR5O1xuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMuZmlsbENvbG9yIHx8IG9wdGlvbnMuY29sb3I7XG5cdFx0XHRjdHguZmlsbChvcHRpb25zLmZpbGxSdWxlIHx8ICdldmVub2RkJyk7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMuc3Ryb2tlICYmIG9wdGlvbnMud2VpZ2h0ICE9PSAwKSB7XG5cdFx0XHRpZiAoY3R4LnNldExpbmVEYXNoKSB7XG5cdFx0XHRcdGN0eC5zZXRMaW5lRGFzaChsYXllci5vcHRpb25zICYmIGxheWVyLm9wdGlvbnMuX2Rhc2hBcnJheSB8fCBbXSk7XG5cdFx0XHR9XG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSBvcHRpb25zLm9wYWNpdHk7XG5cdFx0XHRjdHgubGluZVdpZHRoID0gb3B0aW9ucy53ZWlnaHQ7XG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBvcHRpb25zLmNvbG9yO1xuXHRcdFx0Y3R4LmxpbmVDYXAgPSBvcHRpb25zLmxpbmVDYXA7XG5cdFx0XHRjdHgubGluZUpvaW4gPSBvcHRpb25zLmxpbmVKb2luO1xuXHRcdFx0Y3R4LnN0cm9rZSgpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBDYW52YXMgb2J2aW91c2x5IGRvZXNuJ3QgaGF2ZSBtb3VzZSBldmVudHMgZm9yIGluZGl2aWR1YWwgZHJhd24gb2JqZWN0cyxcblx0Ly8gc28gd2UgZW11bGF0ZSB0aGF0IGJ5IGNhbGN1bGF0aW5nIHdoYXQncyB1bmRlciB0aGUgbW91c2Ugb24gbW91c2Vtb3ZlL2NsaWNrIG1hbnVhbGx5XG5cblx0X29uQ2xpY2s6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHBvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQoZSksIGxheWVyLCBjbGlja2VkTGF5ZXI7XG5cblx0XHRmb3IgKHZhciBvcmRlciA9IHRoaXMuX2RyYXdGaXJzdDsgb3JkZXI7IG9yZGVyID0gb3JkZXIubmV4dCkge1xuXHRcdFx0bGF5ZXIgPSBvcmRlci5sYXllcjtcblx0XHRcdGlmIChsYXllci5vcHRpb25zLmludGVyYWN0aXZlICYmIGxheWVyLl9jb250YWluc1BvaW50KHBvaW50KSkge1xuXHRcdFx0XHRpZiAoIShlLnR5cGUgPT09ICdjbGljaycgfHwgZS50eXBlID09PSAncHJlY2xpY2snKSB8fCAhdGhpcy5fbWFwLl9kcmFnZ2FibGVNb3ZlZChsYXllcikpIHtcblx0XHRcdFx0XHRjbGlja2VkTGF5ZXIgPSBsYXllcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl9maXJlRXZlbnQoY2xpY2tlZExheWVyID8gW2NsaWNrZWRMYXllcl0gOiBmYWxzZSwgZSk7XG5cdH0sXG5cblx0X29uTW91c2VNb3ZlOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICghdGhpcy5fbWFwIHx8IHRoaXMuX21hcC5kcmFnZ2luZy5tb3ZpbmcoKSB8fCB0aGlzLl9tYXAuX2FuaW1hdGluZ1pvb20pIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgcG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludChlKTtcblx0XHR0aGlzLl9oYW5kbGVNb3VzZUhvdmVyKGUsIHBvaW50KTtcblx0fSxcblxuXG5cdF9oYW5kbGVNb3VzZU91dDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgbGF5ZXIgPSB0aGlzLl9ob3ZlcmVkTGF5ZXI7XG5cdFx0aWYgKGxheWVyKSB7XG5cdFx0XHQvLyBpZiB3ZSdyZSBsZWF2aW5nIHRoZSBsYXllciwgZmlyZSBtb3VzZW91dFxuXHRcdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWludGVyYWN0aXZlJyk7XG5cdFx0XHR0aGlzLl9maXJlRXZlbnQoW2xheWVyXSwgZSwgJ21vdXNlb3V0Jyk7XG5cdFx0XHR0aGlzLl9ob3ZlcmVkTGF5ZXIgPSBudWxsO1xuXHRcdFx0dGhpcy5fbW91c2VIb3ZlclRocm90dGxlZCA9IGZhbHNlO1xuXHRcdH1cblx0fSxcblxuXHRfaGFuZGxlTW91c2VIb3ZlcjogZnVuY3Rpb24gKGUsIHBvaW50KSB7XG5cdFx0aWYgKHRoaXMuX21vdXNlSG92ZXJUaHJvdHRsZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgbGF5ZXIsIGNhbmRpZGF0ZUhvdmVyZWRMYXllcjtcblxuXHRcdGZvciAodmFyIG9yZGVyID0gdGhpcy5fZHJhd0ZpcnN0OyBvcmRlcjsgb3JkZXIgPSBvcmRlci5uZXh0KSB7XG5cdFx0XHRsYXllciA9IG9yZGVyLmxheWVyO1xuXHRcdFx0aWYgKGxheWVyLm9wdGlvbnMuaW50ZXJhY3RpdmUgJiYgbGF5ZXIuX2NvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG5cdFx0XHRcdGNhbmRpZGF0ZUhvdmVyZWRMYXllciA9IGxheWVyO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChjYW5kaWRhdGVIb3ZlcmVkTGF5ZXIgIT09IHRoaXMuX2hvdmVyZWRMYXllcikge1xuXHRcdFx0dGhpcy5faGFuZGxlTW91c2VPdXQoZSk7XG5cblx0XHRcdGlmIChjYW5kaWRhdGVIb3ZlcmVkTGF5ZXIpIHtcblx0XHRcdFx0RG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWludGVyYWN0aXZlJyk7IC8vIGNoYW5nZSBjdXJzb3Jcblx0XHRcdFx0dGhpcy5fZmlyZUV2ZW50KFtjYW5kaWRhdGVIb3ZlcmVkTGF5ZXJdLCBlLCAnbW91c2VvdmVyJyk7XG5cdFx0XHRcdHRoaXMuX2hvdmVyZWRMYXllciA9IGNhbmRpZGF0ZUhvdmVyZWRMYXllcjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLl9maXJlRXZlbnQodGhpcy5faG92ZXJlZExheWVyID8gW3RoaXMuX2hvdmVyZWRMYXllcl0gOiBmYWxzZSwgZSk7XG5cblx0XHR0aGlzLl9tb3VzZUhvdmVyVGhyb3R0bGVkID0gdHJ1ZTtcblx0XHRzZXRUaW1lb3V0KFV0aWwuYmluZChmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl9tb3VzZUhvdmVyVGhyb3R0bGVkID0gZmFsc2U7XG5cdFx0fSwgdGhpcyksIDMyKTtcblx0fSxcblxuXHRfZmlyZUV2ZW50OiBmdW5jdGlvbiAobGF5ZXJzLCBlLCB0eXBlKSB7XG5cdFx0dGhpcy5fbWFwLl9maXJlRE9NRXZlbnQoZSwgdHlwZSB8fCBlLnR5cGUsIGxheWVycyk7XG5cdH0sXG5cblx0X2JyaW5nVG9Gcm9udDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIG9yZGVyID0gbGF5ZXIuX29yZGVyO1xuXG5cdFx0aWYgKCFvcmRlcikgeyByZXR1cm47IH1cblxuXHRcdHZhciBuZXh0ID0gb3JkZXIubmV4dDtcblx0XHR2YXIgcHJldiA9IG9yZGVyLnByZXY7XG5cblx0XHRpZiAobmV4dCkge1xuXHRcdFx0bmV4dC5wcmV2ID0gcHJldjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gQWxyZWFkeSBsYXN0XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChwcmV2KSB7XG5cdFx0XHRwcmV2Lm5leHQgPSBuZXh0O1xuXHRcdH0gZWxzZSBpZiAobmV4dCkge1xuXHRcdFx0Ly8gVXBkYXRlIGZpcnN0IGVudHJ5IHVubGVzcyB0aGlzIGlzIHRoZVxuXHRcdFx0Ly8gc2luZ2xlIGVudHJ5XG5cdFx0XHR0aGlzLl9kcmF3Rmlyc3QgPSBuZXh0O1xuXHRcdH1cblxuXHRcdG9yZGVyLnByZXYgPSB0aGlzLl9kcmF3TGFzdDtcblx0XHR0aGlzLl9kcmF3TGFzdC5uZXh0ID0gb3JkZXI7XG5cblx0XHRvcmRlci5uZXh0ID0gbnVsbDtcblx0XHR0aGlzLl9kcmF3TGFzdCA9IG9yZGVyO1xuXG5cdFx0dGhpcy5fcmVxdWVzdFJlZHJhdyhsYXllcik7XG5cdH0sXG5cblx0X2JyaW5nVG9CYWNrOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgb3JkZXIgPSBsYXllci5fb3JkZXI7XG5cblx0XHRpZiAoIW9yZGVyKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIG5leHQgPSBvcmRlci5uZXh0O1xuXHRcdHZhciBwcmV2ID0gb3JkZXIucHJldjtcblxuXHRcdGlmIChwcmV2KSB7XG5cdFx0XHRwcmV2Lm5leHQgPSBuZXh0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBBbHJlYWR5IGZpcnN0XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChuZXh0KSB7XG5cdFx0XHRuZXh0LnByZXYgPSBwcmV2O1xuXHRcdH0gZWxzZSBpZiAocHJldikge1xuXHRcdFx0Ly8gVXBkYXRlIGxhc3QgZW50cnkgdW5sZXNzIHRoaXMgaXMgdGhlXG5cdFx0XHQvLyBzaW5nbGUgZW50cnlcblx0XHRcdHRoaXMuX2RyYXdMYXN0ID0gcHJldjtcblx0XHR9XG5cblx0XHRvcmRlci5wcmV2ID0gbnVsbDtcblxuXHRcdG9yZGVyLm5leHQgPSB0aGlzLl9kcmF3Rmlyc3Q7XG5cdFx0dGhpcy5fZHJhd0ZpcnN0LnByZXYgPSBvcmRlcjtcblx0XHR0aGlzLl9kcmF3Rmlyc3QgPSBvcmRlcjtcblxuXHRcdHRoaXMuX3JlcXVlc3RSZWRyYXcobGF5ZXIpO1xuXHR9XG59KTtcblxuLy8gQGZhY3RvcnkgTC5jYW52YXMob3B0aW9ucz86IFJlbmRlcmVyIG9wdGlvbnMpXG4vLyBDcmVhdGVzIGEgQ2FudmFzIHJlbmRlcmVyIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG5leHBvcnQgZnVuY3Rpb24gY2FudmFzKG9wdGlvbnMpIHtcblx0cmV0dXJuIEJyb3dzZXIuY2FudmFzID8gbmV3IENhbnZhcyhvcHRpb25zKSA6IG51bGw7XG59XG4iLCAiaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQge1JlbmRlcmVyfSBmcm9tICcuL1JlbmRlcmVyJztcblxuLypcbiAqIFRoYW5rcyB0byBEbWl0cnkgQmFyYW5vdnNreSBhbmQgaGlzIFJhcGhhZWwgbGlicmFyeSBmb3IgaW5zcGlyYXRpb24hXG4gKi9cblxuXG5leHBvcnQgdmFyIHZtbENyZWF0ZSA9IChmdW5jdGlvbiAoKSB7XG5cdHRyeSB7XG5cdFx0ZG9jdW1lbnQubmFtZXNwYWNlcy5hZGQoJ2x2bWwnLCAndXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwnKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCc8bHZtbDonICsgbmFtZSArICcgY2xhc3M9XCJsdm1sXCI+Jyk7XG5cdFx0fTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIERvIG5vdCByZXR1cm4gZm4gZnJvbSBjYXRjaCBibG9jayBzbyBgZWAgY2FuIGJlIGdhcmJhZ2UgY29sbGVjdGVkXG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvcHVsbC83Mjc5XG5cdH1cblx0cmV0dXJuIGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJzwnICsgbmFtZSArICcgeG1sbnM9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQuY29tOnZtbFwiIGNsYXNzPVwibHZtbFwiPicpO1xuXHR9O1xufSkoKTtcblxuXG4vKlxuICogQGNsYXNzIFNWR1xuICpcbiAqXG4gKiBWTUwgd2FzIGRlcHJlY2F0ZWQgaW4gMjAxMiwgd2hpY2ggbWVhbnMgVk1MIGZ1bmN0aW9uYWxpdHkgZXhpc3RzIG9ubHkgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gKiB3aXRoIG9sZCB2ZXJzaW9ucyBvZiBJbnRlcm5ldCBFeHBsb3Jlci5cbiAqL1xuXG4vLyBtaXhpbiB0byByZWRlZmluZSBzb21lIFNWRyBtZXRob2RzIHRvIGhhbmRsZSBWTUwgc3ludGF4IHdoaWNoIGlzIHNpbWlsYXIgYnV0IHdpdGggc29tZSBkaWZmZXJlbmNlc1xuZXhwb3J0IHZhciB2bWxNaXhpbiA9IHtcblxuXHRfaW5pdENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2NvbnRhaW5lciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC12bWwtY29udGFpbmVyJyk7XG5cdH0sXG5cblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tYXAuX2FuaW1hdGluZ1pvb20pIHsgcmV0dXJuOyB9XG5cdFx0UmVuZGVyZXIucHJvdG90eXBlLl91cGRhdGUuY2FsbCh0aGlzKTtcblx0XHR0aGlzLmZpcmUoJ3VwZGF0ZScpO1xuXHR9LFxuXG5cdF9pbml0UGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIGNvbnRhaW5lciA9IGxheWVyLl9jb250YWluZXIgPSB2bWxDcmVhdGUoJ3NoYXBlJyk7XG5cblx0XHREb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdm1sLXNoYXBlICcgKyAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSB8fCAnJykpO1xuXG5cdFx0Y29udGFpbmVyLmNvb3Jkc2l6ZSA9ICcxIDEnO1xuXG5cdFx0bGF5ZXIuX3BhdGggPSB2bWxDcmVhdGUoJ3BhdGgnKTtcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQobGF5ZXIuX3BhdGgpO1xuXG5cdFx0dGhpcy5fdXBkYXRlU3R5bGUobGF5ZXIpO1xuXHRcdHRoaXMuX2xheWVyc1tVdGlsLnN0YW1wKGxheWVyKV0gPSBsYXllcjtcblx0fSxcblxuXHRfYWRkUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIGNvbnRhaW5lciA9IGxheWVyLl9jb250YWluZXI7XG5cdFx0dGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cblx0XHRpZiAobGF5ZXIub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuXHRcdFx0bGF5ZXIuYWRkSW50ZXJhY3RpdmVUYXJnZXQoY29udGFpbmVyKTtcblx0XHR9XG5cdH0sXG5cblx0X3JlbW92ZVBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBjb250YWluZXIgPSBsYXllci5fY29udGFpbmVyO1xuXHRcdERvbVV0aWwucmVtb3ZlKGNvbnRhaW5lcik7XG5cdFx0bGF5ZXIucmVtb3ZlSW50ZXJhY3RpdmVUYXJnZXQoY29udGFpbmVyKTtcblx0XHRkZWxldGUgdGhpcy5fbGF5ZXJzW1V0aWwuc3RhbXAobGF5ZXIpXTtcblx0fSxcblxuXHRfdXBkYXRlU3R5bGU6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBzdHJva2UgPSBsYXllci5fc3Ryb2tlLFxuXHRcdCAgICBmaWxsID0gbGF5ZXIuX2ZpbGwsXG5cdFx0ICAgIG9wdGlvbnMgPSBsYXllci5vcHRpb25zLFxuXHRcdCAgICBjb250YWluZXIgPSBsYXllci5fY29udGFpbmVyO1xuXG5cdFx0Y29udGFpbmVyLnN0cm9rZWQgPSAhIW9wdGlvbnMuc3Ryb2tlO1xuXHRcdGNvbnRhaW5lci5maWxsZWQgPSAhIW9wdGlvbnMuZmlsbDtcblxuXHRcdGlmIChvcHRpb25zLnN0cm9rZSkge1xuXHRcdFx0aWYgKCFzdHJva2UpIHtcblx0XHRcdFx0c3Ryb2tlID0gbGF5ZXIuX3N0cm9rZSA9IHZtbENyZWF0ZSgnc3Ryb2tlJyk7XG5cdFx0XHR9XG5cdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoc3Ryb2tlKTtcblx0XHRcdHN0cm9rZS53ZWlnaHQgPSBvcHRpb25zLndlaWdodCArICdweCc7XG5cdFx0XHRzdHJva2UuY29sb3IgPSBvcHRpb25zLmNvbG9yO1xuXHRcdFx0c3Ryb2tlLm9wYWNpdHkgPSBvcHRpb25zLm9wYWNpdHk7XG5cblx0XHRcdGlmIChvcHRpb25zLmRhc2hBcnJheSkge1xuXHRcdFx0XHRzdHJva2UuZGFzaFN0eWxlID0gVXRpbC5pc0FycmF5KG9wdGlvbnMuZGFzaEFycmF5KSA/XG5cdFx0XHRcdCAgICBvcHRpb25zLmRhc2hBcnJheS5qb2luKCcgJykgOlxuXHRcdFx0XHQgICAgb3B0aW9ucy5kYXNoQXJyYXkucmVwbGFjZSgvKCAqLCAqKS9nLCAnICcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3Ryb2tlLmRhc2hTdHlsZSA9ICcnO1xuXHRcdFx0fVxuXHRcdFx0c3Ryb2tlLmVuZGNhcCA9IG9wdGlvbnMubGluZUNhcC5yZXBsYWNlKCdidXR0JywgJ2ZsYXQnKTtcblx0XHRcdHN0cm9rZS5qb2luc3R5bGUgPSBvcHRpb25zLmxpbmVKb2luO1xuXG5cdFx0fSBlbHNlIGlmIChzdHJva2UpIHtcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVDaGlsZChzdHJva2UpO1xuXHRcdFx0bGF5ZXIuX3N0cm9rZSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMuZmlsbCkge1xuXHRcdFx0aWYgKCFmaWxsKSB7XG5cdFx0XHRcdGZpbGwgPSBsYXllci5fZmlsbCA9IHZtbENyZWF0ZSgnZmlsbCcpO1xuXHRcdFx0fVxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGZpbGwpO1xuXHRcdFx0ZmlsbC5jb2xvciA9IG9wdGlvbnMuZmlsbENvbG9yIHx8IG9wdGlvbnMuY29sb3I7XG5cdFx0XHRmaWxsLm9wYWNpdHkgPSBvcHRpb25zLmZpbGxPcGFjaXR5O1xuXG5cdFx0fSBlbHNlIGlmIChmaWxsKSB7XG5cdFx0XHRjb250YWluZXIucmVtb3ZlQ2hpbGQoZmlsbCk7XG5cdFx0XHRsYXllci5fZmlsbCA9IG51bGw7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVDaXJjbGU6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBwID0gbGF5ZXIuX3BvaW50LnJvdW5kKCksXG5cdFx0ICAgIHIgPSBNYXRoLnJvdW5kKGxheWVyLl9yYWRpdXMpLFxuXHRcdCAgICByMiA9IE1hdGgucm91bmQobGF5ZXIuX3JhZGl1c1kgfHwgcik7XG5cblx0XHR0aGlzLl9zZXRQYXRoKGxheWVyLCBsYXllci5fZW1wdHkoKSA/ICdNMCAwJyA6XG5cdFx0XHQnQUwgJyArIHAueCArICcsJyArIHAueSArICcgJyArIHIgKyAnLCcgKyByMiArICcgMCwnICsgKDY1NTM1ICogMzYwKSk7XG5cdH0sXG5cblx0X3NldFBhdGg6IGZ1bmN0aW9uIChsYXllciwgcGF0aCkge1xuXHRcdGxheWVyLl9wYXRoLnYgPSBwYXRoO1xuXHR9LFxuXG5cdF9icmluZ1RvRnJvbnQ6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdERvbVV0aWwudG9Gcm9udChsYXllci5fY29udGFpbmVyKTtcblx0fSxcblxuXHRfYnJpbmdUb0JhY2s6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdERvbVV0aWwudG9CYWNrKGxheWVyLl9jb250YWluZXIpO1xuXHR9XG59O1xuIiwgImltcG9ydCB7UmVuZGVyZXJ9IGZyb20gJy4vUmVuZGVyZXInO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi8uLi9kb20vRG9tRXZlbnQnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcbmltcG9ydCB7c3RhbXB9IGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQge3N2Z0NyZWF0ZSwgcG9pbnRzVG9QYXRofSBmcm9tICcuL1NWRy5VdGlsJztcbmV4cG9ydCB7cG9pbnRzVG9QYXRofTtcbmltcG9ydCB7dm1sTWl4aW4sIHZtbENyZWF0ZX0gZnJvbSAnLi9TVkcuVk1MJztcblxuZXhwb3J0IHZhciBjcmVhdGUgPSBCcm93c2VyLnZtbCA/IHZtbENyZWF0ZSA6IHN2Z0NyZWF0ZTtcblxuLypcbiAqIEBjbGFzcyBTVkdcbiAqIEBpbmhlcml0cyBSZW5kZXJlclxuICogQGFrYSBMLlNWR1xuICpcbiAqIEFsbG93cyB2ZWN0b3IgbGF5ZXJzIHRvIGJlIGRpc3BsYXllZCB3aXRoIFtTVkddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRykuXG4gKiBJbmhlcml0cyBgUmVuZGVyZXJgLlxuICpcbiAqIER1ZSB0byBbdGVjaG5pY2FsIGxpbWl0YXRpb25zXShodHRwczovL2Nhbml1c2UuY29tL3N2ZyksIFNWRyBpcyBub3RcbiAqIGF2YWlsYWJsZSBpbiBhbGwgd2ViIGJyb3dzZXJzLCBub3RhYmx5IEFuZHJvaWQgMi54IGFuZCAzLnguXG4gKlxuICogQWx0aG91Z2ggU1ZHIGlzIG5vdCBhdmFpbGFibGUgb24gSUU3IGFuZCBJRTgsIHRoZXNlIGJyb3dzZXJzIHN1cHBvcnRcbiAqIFtWTUxdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZlY3Rvcl9NYXJrdXBfTGFuZ3VhZ2UpXG4gKiAoYSBub3cgZGVwcmVjYXRlZCB0ZWNobm9sb2d5KSwgYW5kIHRoZSBTVkcgcmVuZGVyZXIgd2lsbCBmYWxsIGJhY2sgdG8gVk1MIGluXG4gKiB0aGlzIGNhc2UuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBVc2UgU1ZHIGJ5IGRlZmF1bHQgZm9yIGFsbCBwYXRocyBpbiB0aGUgbWFwOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbWFwID0gTC5tYXAoJ21hcCcsIHtcbiAqIFx0cmVuZGVyZXI6IEwuc3ZnKClcbiAqIH0pO1xuICogYGBgXG4gKlxuICogVXNlIGEgU1ZHIHJlbmRlcmVyIHdpdGggZXh0cmEgcGFkZGluZyBmb3Igc3BlY2lmaWMgdmVjdG9yIGdlb21ldHJpZXM6XG4gKlxuICogYGBganNcbiAqIHZhciBtYXAgPSBMLm1hcCgnbWFwJyk7XG4gKiB2YXIgbXlSZW5kZXJlciA9IEwuc3ZnKHsgcGFkZGluZzogMC41IH0pO1xuICogdmFyIGxpbmUgPSBMLnBvbHlsaW5lKCBjb29yZGluYXRlcywgeyByZW5kZXJlcjogbXlSZW5kZXJlciB9ICk7XG4gKiB2YXIgY2lyY2xlID0gTC5jaXJjbGUoIGNlbnRlciwgeyByZW5kZXJlcjogbXlSZW5kZXJlciB9ICk7XG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgdmFyIFNWRyA9IFJlbmRlcmVyLmV4dGVuZCh7XG5cblx0X2luaXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9jb250YWluZXIgPSBjcmVhdGUoJ3N2ZycpO1xuXG5cdFx0Ly8gbWFrZXMgaXQgcG9zc2libGUgdG8gY2xpY2sgdGhyb3VnaCBzdmcgcm9vdDsgd2UnbGwgcmVzZXQgaXQgYmFjayBpbiBpbmRpdmlkdWFsIHBhdGhzXG5cdFx0dGhpcy5fY29udGFpbmVyLnNldEF0dHJpYnV0ZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xuXG5cdFx0dGhpcy5fcm9vdEdyb3VwID0gY3JlYXRlKCdnJyk7XG5cdFx0dGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX3Jvb3RHcm91cCk7XG5cdH0sXG5cblx0X2Rlc3Ryb3lDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcblx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuXHRcdERvbUV2ZW50Lm9mZih0aGlzLl9jb250YWluZXIpO1xuXHRcdGRlbGV0ZSB0aGlzLl9jb250YWluZXI7XG5cdFx0ZGVsZXRlIHRoaXMuX3Jvb3RHcm91cDtcblx0XHRkZWxldGUgdGhpcy5fc3ZnU2l6ZTtcblx0fSxcblxuXHRfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSAmJiB0aGlzLl9ib3VuZHMpIHsgcmV0dXJuOyB9XG5cblx0XHRSZW5kZXJlci5wcm90b3R5cGUuX3VwZGF0ZS5jYWxsKHRoaXMpO1xuXG5cdFx0dmFyIGIgPSB0aGlzLl9ib3VuZHMsXG5cdFx0ICAgIHNpemUgPSBiLmdldFNpemUoKSxcblx0XHQgICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xuXG5cdFx0Ly8gc2V0IHNpemUgb2Ygc3ZnLWNvbnRhaW5lciBpZiBjaGFuZ2VkXG5cdFx0aWYgKCF0aGlzLl9zdmdTaXplIHx8ICF0aGlzLl9zdmdTaXplLmVxdWFscyhzaXplKSkge1xuXHRcdFx0dGhpcy5fc3ZnU2l6ZSA9IHNpemU7XG5cdFx0XHRjb250YWluZXIuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHNpemUueCk7XG5cdFx0XHRjb250YWluZXIuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBzaXplLnkpO1xuXHRcdH1cblxuXHRcdC8vIG1vdmVtZW50OiB1cGRhdGUgY29udGFpbmVyIHZpZXdCb3ggc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIGNoYW5nZSBjb29yZGluYXRlcyBvZiBpbmRpdmlkdWFsIGxheWVyc1xuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24oY29udGFpbmVyLCBiLm1pbik7XG5cdFx0Y29udGFpbmVyLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIFtiLm1pbi54LCBiLm1pbi55LCBzaXplLngsIHNpemUueV0uam9pbignICcpKTtcblxuXHRcdHRoaXMuZmlyZSgndXBkYXRlJyk7XG5cdH0sXG5cblx0Ly8gbWV0aG9kcyBiZWxvdyBhcmUgY2FsbGVkIGJ5IHZlY3RvciBsYXllcnMgaW1wbGVtZW50YXRpb25zXG5cblx0X2luaXRQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgcGF0aCA9IGxheWVyLl9wYXRoID0gY3JlYXRlKCdwYXRoJyk7XG5cblx0XHQvLyBAbmFtZXNwYWNlIFBhdGhcblx0XHQvLyBAb3B0aW9uIGNsYXNzTmFtZTogU3RyaW5nID0gbnVsbFxuXHRcdC8vIEN1c3RvbSBjbGFzcyBuYW1lIHNldCBvbiBhbiBlbGVtZW50LiBPbmx5IGZvciBTVkcgcmVuZGVyZXIuXG5cdFx0aWYgKGxheWVyLm9wdGlvbnMuY2xhc3NOYW1lKSB7XG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHBhdGgsIGxheWVyLm9wdGlvbnMuY2xhc3NOYW1lKTtcblx0XHR9XG5cblx0XHRpZiAobGF5ZXIub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyhwYXRoLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3VwZGF0ZVN0eWxlKGxheWVyKTtcblx0XHR0aGlzLl9sYXllcnNbc3RhbXAobGF5ZXIpXSA9IGxheWVyO1xuXHR9LFxuXG5cdF9hZGRQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRpZiAoIXRoaXMuX3Jvb3RHcm91cCkgeyB0aGlzLl9pbml0Q29udGFpbmVyKCk7IH1cblx0XHR0aGlzLl9yb290R3JvdXAuYXBwZW5kQ2hpbGQobGF5ZXIuX3BhdGgpO1xuXHRcdGxheWVyLmFkZEludGVyYWN0aXZlVGFyZ2V0KGxheWVyLl9wYXRoKTtcblx0fSxcblxuXHRfcmVtb3ZlUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0RG9tVXRpbC5yZW1vdmUobGF5ZXIuX3BhdGgpO1xuXHRcdGxheWVyLnJlbW92ZUludGVyYWN0aXZlVGFyZ2V0KGxheWVyLl9wYXRoKTtcblx0XHRkZWxldGUgdGhpcy5fbGF5ZXJzW3N0YW1wKGxheWVyKV07XG5cdH0sXG5cblx0X3VwZGF0ZVBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdGxheWVyLl9wcm9qZWN0KCk7XG5cdFx0bGF5ZXIuX3VwZGF0ZSgpO1xuXHR9LFxuXG5cdF91cGRhdGVTdHlsZTogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIHBhdGggPSBsYXllci5fcGF0aCxcblx0XHQgICAgb3B0aW9ucyA9IGxheWVyLm9wdGlvbnM7XG5cblx0XHRpZiAoIXBhdGgpIHsgcmV0dXJuOyB9XG5cblx0XHRpZiAob3B0aW9ucy5zdHJva2UpIHtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCBvcHRpb25zLmNvbG9yKTtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2Utb3BhY2l0eScsIG9wdGlvbnMub3BhY2l0eSk7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgb3B0aW9ucy53ZWlnaHQpO1xuXHRcdFx0cGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1saW5lY2FwJywgb3B0aW9ucy5saW5lQ2FwKTtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWpvaW4nLCBvcHRpb25zLmxpbmVKb2luKTtcblxuXHRcdFx0aWYgKG9wdGlvbnMuZGFzaEFycmF5KSB7XG5cdFx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5Jywgb3B0aW9ucy5kYXNoQXJyYXkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGF0aC5yZW1vdmVBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9wdGlvbnMuZGFzaE9mZnNldCkge1xuXHRcdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnLCBvcHRpb25zLmRhc2hPZmZzZXQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGF0aC5yZW1vdmVBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNob2Zmc2V0Jyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnbm9uZScpO1xuXHRcdH1cblxuXHRcdGlmIChvcHRpb25zLmZpbGwpIHtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgb3B0aW9ucy5maWxsQ29sb3IgfHwgb3B0aW9ucy5jb2xvcik7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5Jywgb3B0aW9ucy5maWxsT3BhY2l0eSk7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbC1ydWxlJywgb3B0aW9ucy5maWxsUnVsZSB8fCAnZXZlbm9kZCcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdub25lJyk7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVQb2x5OiBmdW5jdGlvbiAobGF5ZXIsIGNsb3NlZCkge1xuXHRcdHRoaXMuX3NldFBhdGgobGF5ZXIsIHBvaW50c1RvUGF0aChsYXllci5fcGFydHMsIGNsb3NlZCkpO1xuXHR9LFxuXG5cdF91cGRhdGVDaXJjbGU6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBwID0gbGF5ZXIuX3BvaW50LFxuXHRcdCAgICByID0gTWF0aC5tYXgoTWF0aC5yb3VuZChsYXllci5fcmFkaXVzKSwgMSksXG5cdFx0ICAgIHIyID0gTWF0aC5tYXgoTWF0aC5yb3VuZChsYXllci5fcmFkaXVzWSksIDEpIHx8IHIsXG5cdFx0ICAgIGFyYyA9ICdhJyArIHIgKyAnLCcgKyByMiArICcgMCAxLDAgJztcblxuXHRcdC8vIGRyYXdpbmcgYSBjaXJjbGUgd2l0aCB0d28gaGFsZi1hcmNzXG5cdFx0dmFyIGQgPSBsYXllci5fZW1wdHkoKSA/ICdNMCAwJyA6XG5cdFx0XHQnTScgKyAocC54IC0gcikgKyAnLCcgKyBwLnkgK1xuXHRcdFx0YXJjICsgKHIgKiAyKSArICcsMCAnICtcblx0XHRcdGFyYyArICgtciAqIDIpICsgJywwICc7XG5cblx0XHR0aGlzLl9zZXRQYXRoKGxheWVyLCBkKTtcblx0fSxcblxuXHRfc2V0UGF0aDogZnVuY3Rpb24gKGxheWVyLCBwYXRoKSB7XG5cdFx0bGF5ZXIuX3BhdGguc2V0QXR0cmlidXRlKCdkJywgcGF0aCk7XG5cdH0sXG5cblx0Ly8gU1ZHIGRvZXMgbm90IGhhdmUgdGhlIGNvbmNlcHQgb2YgekluZGV4IHNvIHdlIHJlc29ydCB0byBjaGFuZ2luZyB0aGUgRE9NIG9yZGVyIG9mIGVsZW1lbnRzXG5cdF9icmluZ1RvRnJvbnQ6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdERvbVV0aWwudG9Gcm9udChsYXllci5fcGF0aCk7XG5cdH0sXG5cblx0X2JyaW5nVG9CYWNrOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHREb21VdGlsLnRvQmFjayhsYXllci5fcGF0aCk7XG5cdH1cbn0pO1xuXG5pZiAoQnJvd3Nlci52bWwpIHtcblx0U1ZHLmluY2x1ZGUodm1sTWl4aW4pO1xufVxuXG4vLyBAbmFtZXNwYWNlIFNWR1xuLy8gQGZhY3RvcnkgTC5zdmcob3B0aW9ucz86IFJlbmRlcmVyIG9wdGlvbnMpXG4vLyBDcmVhdGVzIGEgU1ZHIHJlbmRlcmVyIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG5leHBvcnQgZnVuY3Rpb24gc3ZnKG9wdGlvbnMpIHtcblx0cmV0dXJuIEJyb3dzZXIuc3ZnIHx8IEJyb3dzZXIudm1sID8gbmV3IFNWRyhvcHRpb25zKSA6IG51bGw7XG59XG4iLCAiaW1wb3J0IHtNYXB9IGZyb20gJy4uLy4uL21hcC9NYXAnO1xuaW1wb3J0IHtjYW52YXN9IGZyb20gJy4vQ2FudmFzJztcbmltcG9ydCB7c3ZnfSBmcm9tICcuL1NWRyc7XG5cbk1hcC5pbmNsdWRlKHtcblx0Ly8gQG5hbWVzcGFjZSBNYXA7IEBtZXRob2QgZ2V0UmVuZGVyZXIobGF5ZXI6IFBhdGgpOiBSZW5kZXJlclxuXHQvLyBSZXR1cm5zIHRoZSBpbnN0YW5jZSBvZiBgUmVuZGVyZXJgIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gcmVuZGVyIHRoZSBnaXZlblxuXHQvLyBgUGF0aGAuIEl0IHdpbGwgZW5zdXJlIHRoYXQgdGhlIGByZW5kZXJlcmAgb3B0aW9ucyBvZiB0aGUgbWFwIGFuZCBwYXRoc1xuXHQvLyBhcmUgcmVzcGVjdGVkLCBhbmQgdGhhdCB0aGUgcmVuZGVyZXJzIGRvIGV4aXN0IG9uIHRoZSBtYXAuXG5cdGdldFJlbmRlcmVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHQvLyBAbmFtZXNwYWNlIFBhdGg7IEBvcHRpb24gcmVuZGVyZXI6IFJlbmRlcmVyXG5cdFx0Ly8gVXNlIHRoaXMgc3BlY2lmaWMgaW5zdGFuY2Ugb2YgYFJlbmRlcmVyYCBmb3IgdGhpcyBwYXRoLiBUYWtlc1xuXHRcdC8vIHByZWNlZGVuY2Ugb3ZlciB0aGUgbWFwJ3MgW2RlZmF1bHQgcmVuZGVyZXJdKCNtYXAtcmVuZGVyZXIpLlxuXHRcdHZhciByZW5kZXJlciA9IGxheWVyLm9wdGlvbnMucmVuZGVyZXIgfHwgdGhpcy5fZ2V0UGFuZVJlbmRlcmVyKGxheWVyLm9wdGlvbnMucGFuZSkgfHwgdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IHRoaXMuX3JlbmRlcmVyO1xuXG5cdFx0aWYgKCFyZW5kZXJlcikge1xuXHRcdFx0cmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlciA9IHRoaXMuX2NyZWF0ZVJlbmRlcmVyKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLmhhc0xheWVyKHJlbmRlcmVyKSkge1xuXHRcdFx0dGhpcy5hZGRMYXllcihyZW5kZXJlcik7XG5cdFx0fVxuXHRcdHJldHVybiByZW5kZXJlcjtcblx0fSxcblxuXHRfZ2V0UGFuZVJlbmRlcmVyOiBmdW5jdGlvbiAobmFtZSkge1xuXHRcdGlmIChuYW1lID09PSAnb3ZlcmxheVBhbmUnIHx8IG5hbWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHZhciByZW5kZXJlciA9IHRoaXMuX3BhbmVSZW5kZXJlcnNbbmFtZV07XG5cdFx0aWYgKHJlbmRlcmVyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJlbmRlcmVyID0gdGhpcy5fY3JlYXRlUmVuZGVyZXIoe3BhbmU6IG5hbWV9KTtcblx0XHRcdHRoaXMuX3BhbmVSZW5kZXJlcnNbbmFtZV0gPSByZW5kZXJlcjtcblx0XHR9XG5cdFx0cmV0dXJuIHJlbmRlcmVyO1xuXHR9LFxuXG5cdF9jcmVhdGVSZW5kZXJlcjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHQvLyBAbmFtZXNwYWNlIE1hcDsgQG9wdGlvbiBwcmVmZXJDYW52YXM6IEJvb2xlYW4gPSBmYWxzZVxuXHRcdC8vIFdoZXRoZXIgYFBhdGhgcyBzaG91bGQgYmUgcmVuZGVyZWQgb24gYSBgQ2FudmFzYCByZW5kZXJlci5cblx0XHQvLyBCeSBkZWZhdWx0LCBhbGwgYFBhdGhgcyBhcmUgcmVuZGVyZWQgaW4gYSBgU1ZHYCByZW5kZXJlci5cblx0XHRyZXR1cm4gKHRoaXMub3B0aW9ucy5wcmVmZXJDYW52YXMgJiYgY2FudmFzKG9wdGlvbnMpKSB8fCBzdmcob3B0aW9ucyk7XG5cdH1cbn0pO1xuIiwgImltcG9ydCB7UG9seWdvbn0gZnJvbSAnLi9Qb2x5Z29uJztcbmltcG9ydCB7dG9MYXRMbmdCb3VuZHN9IGZyb20gJy4uLy4uL2dlby9MYXRMbmdCb3VuZHMnO1xuXG4vKlxuICogTC5SZWN0YW5nbGUgZXh0ZW5kcyBQb2x5Z29uIGFuZCBjcmVhdGVzIGEgcmVjdGFuZ2xlIHdoZW4gcGFzc2VkIGEgTGF0TG5nQm91bmRzIG9iamVjdC5cbiAqL1xuXG4vKlxuICogQGNsYXNzIFJlY3RhbmdsZVxuICogQGFrYSBMLlJlY3RhbmdsZVxuICogQGluaGVyaXRzIFBvbHlnb25cbiAqXG4gKiBBIGNsYXNzIGZvciBkcmF3aW5nIHJlY3RhbmdsZSBvdmVybGF5cyBvbiBhIG1hcC4gRXh0ZW5kcyBgUG9seWdvbmAuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqc1xuICogLy8gZGVmaW5lIHJlY3RhbmdsZSBnZW9ncmFwaGljYWwgYm91bmRzXG4gKiB2YXIgYm91bmRzID0gW1s1NC41NTkzMjIsIC01Ljc2NzgyMl0sIFs1Ni4xMjEwNjA0LCAtMy4wMjEyNDBdXTtcbiAqXG4gKiAvLyBjcmVhdGUgYW4gb3JhbmdlIHJlY3RhbmdsZVxuICogTC5yZWN0YW5nbGUoYm91bmRzLCB7Y29sb3I6IFwiI2ZmNzgwMFwiLCB3ZWlnaHQ6IDF9KS5hZGRUbyhtYXApO1xuICpcbiAqIC8vIHpvb20gdGhlIG1hcCB0byB0aGUgcmVjdGFuZ2xlIGJvdW5kc1xuICogbWFwLmZpdEJvdW5kcyhib3VuZHMpO1xuICogYGBgXG4gKlxuICovXG5cblxuZXhwb3J0IHZhciBSZWN0YW5nbGUgPSBQb2x5Z29uLmV4dGVuZCh7XG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRMbmdCb3VuZHMsIG9wdGlvbnMpIHtcblx0XHRQb2x5Z29uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgdGhpcy5fYm91bmRzVG9MYXRMbmdzKGxhdExuZ0JvdW5kcyksIG9wdGlvbnMpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0Qm91bmRzKGxhdExuZ0JvdW5kczogTGF0TG5nQm91bmRzKTogdGhpc1xuXHQvLyBSZWRyYXdzIHRoZSByZWN0YW5nbGUgd2l0aCB0aGUgcGFzc2VkIGJvdW5kcy5cblx0c2V0Qm91bmRzOiBmdW5jdGlvbiAobGF0TG5nQm91bmRzKSB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0TGF0TG5ncyh0aGlzLl9ib3VuZHNUb0xhdExuZ3MobGF0TG5nQm91bmRzKSk7XG5cdH0sXG5cblx0X2JvdW5kc1RvTGF0TG5nczogZnVuY3Rpb24gKGxhdExuZ0JvdW5kcykge1xuXHRcdGxhdExuZ0JvdW5kcyA9IHRvTGF0TG5nQm91bmRzKGxhdExuZ0JvdW5kcyk7XG5cdFx0cmV0dXJuIFtcblx0XHRcdGxhdExuZ0JvdW5kcy5nZXRTb3V0aFdlc3QoKSxcblx0XHRcdGxhdExuZ0JvdW5kcy5nZXROb3J0aFdlc3QoKSxcblx0XHRcdGxhdExuZ0JvdW5kcy5nZXROb3J0aEVhc3QoKSxcblx0XHRcdGxhdExuZ0JvdW5kcy5nZXRTb3V0aEVhc3QoKVxuXHRcdF07XG5cdH1cbn0pO1xuXG5cbi8vIEBmYWN0b3J5IEwucmVjdGFuZ2xlKGxhdExuZ0JvdW5kczogTGF0TG5nQm91bmRzLCBvcHRpb25zPzogUG9seWxpbmUgb3B0aW9ucylcbmV4cG9ydCBmdW5jdGlvbiByZWN0YW5nbGUobGF0TG5nQm91bmRzLCBvcHRpb25zKSB7XG5cdHJldHVybiBuZXcgUmVjdGFuZ2xlKGxhdExuZ0JvdW5kcywgb3B0aW9ucyk7XG59XG4iLCAiZXhwb3J0IHtSZW5kZXJlcn0gZnJvbSAnLi9SZW5kZXJlcic7XG5leHBvcnQge0NhbnZhcywgY2FudmFzfSBmcm9tICcuL0NhbnZhcyc7XG5pbXBvcnQge1NWRywgY3JlYXRlLCBwb2ludHNUb1BhdGgsIHN2Z30gZnJvbSAnLi9TVkcnO1xuU1ZHLmNyZWF0ZSA9IGNyZWF0ZTtcblNWRy5wb2ludHNUb1BhdGggPSBwb2ludHNUb1BhdGg7XG5leHBvcnQge1NWRywgc3ZnfTtcbmltcG9ydCAnLi9SZW5kZXJlci5nZXRSZW5kZXJlcic7XHQvLyBUaGlzIGlzIGEgYml0IG9mIGEgaGFjaywgYnV0IG5lZWRlZCBiZWNhdXNlIGNpcmN1bGFyIGRlcGVuZGVuY2llc1xuXG5leHBvcnQge1BhdGh9IGZyb20gJy4vUGF0aCc7XG5leHBvcnQge0NpcmNsZU1hcmtlciwgY2lyY2xlTWFya2VyfSBmcm9tICcuL0NpcmNsZU1hcmtlcic7XG5leHBvcnQge0NpcmNsZSwgY2lyY2xlfSBmcm9tICcuL0NpcmNsZSc7XG5leHBvcnQge1BvbHlsaW5lLCBwb2x5bGluZX0gZnJvbSAnLi9Qb2x5bGluZSc7XG5leHBvcnQge1BvbHlnb24sIHBvbHlnb259IGZyb20gJy4vUG9seWdvbic7XG5leHBvcnQge1JlY3RhbmdsZSwgcmVjdGFuZ2xlfSBmcm9tICcuL1JlY3RhbmdsZSc7XG4iLCAiZXhwb3J0IHtMYXllcn0gZnJvbSAnLi9MYXllcic7XG5leHBvcnQge0xheWVyR3JvdXAsIGxheWVyR3JvdXB9IGZyb20gJy4vTGF5ZXJHcm91cCc7XG5leHBvcnQge0ZlYXR1cmVHcm91cCwgZmVhdHVyZUdyb3VwfSBmcm9tICcuL0ZlYXR1cmVHcm91cCc7XG5pbXBvcnQge0dlb0pTT04sIGdlb0pTT04sIGdlb0pzb24sIGdlb21ldHJ5VG9MYXllciwgY29vcmRzVG9MYXRMbmcsIGNvb3Jkc1RvTGF0TG5ncywgbGF0TG5nVG9Db29yZHMsIGxhdExuZ3NUb0Nvb3JkcywgZ2V0RmVhdHVyZSwgYXNGZWF0dXJlfSBmcm9tICcuL0dlb0pTT04nO1xuR2VvSlNPTi5nZW9tZXRyeVRvTGF5ZXIgPSBnZW9tZXRyeVRvTGF5ZXI7XG5HZW9KU09OLmNvb3Jkc1RvTGF0TG5nID0gY29vcmRzVG9MYXRMbmc7XG5HZW9KU09OLmNvb3Jkc1RvTGF0TG5ncyA9IGNvb3Jkc1RvTGF0TG5ncztcbkdlb0pTT04ubGF0TG5nVG9Db29yZHMgPSBsYXRMbmdUb0Nvb3Jkcztcbkdlb0pTT04ubGF0TG5nc1RvQ29vcmRzID0gbGF0TG5nc1RvQ29vcmRzO1xuR2VvSlNPTi5nZXRGZWF0dXJlID0gZ2V0RmVhdHVyZTtcbkdlb0pTT04uYXNGZWF0dXJlID0gYXNGZWF0dXJlO1xuZXhwb3J0IHtHZW9KU09OLCBnZW9KU09OLCBnZW9Kc29ufTtcblxuZXhwb3J0IHtJbWFnZU92ZXJsYXksIGltYWdlT3ZlcmxheX0gZnJvbSAnLi9JbWFnZU92ZXJsYXknO1xuZXhwb3J0IHtWaWRlb092ZXJsYXksIHZpZGVvT3ZlcmxheX0gZnJvbSAnLi9WaWRlb092ZXJsYXknO1xuZXhwb3J0IHtTVkdPdmVybGF5LCBzdmdPdmVybGF5fSBmcm9tICcuL1NWR092ZXJsYXknO1xuXG5leHBvcnQge0Rpdk92ZXJsYXl9IGZyb20gJy4vRGl2T3ZlcmxheSc7XG5leHBvcnQge1BvcHVwLCBwb3B1cH0gZnJvbSAnLi9Qb3B1cCc7XG5leHBvcnQge1Rvb2x0aXAsIHRvb2x0aXB9IGZyb20gJy4vVG9vbHRpcCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vbWFya2VyL2luZGV4JztcbmV4cG9ydCAqIGZyb20gJy4vdGlsZS9pbmRleCc7XG5leHBvcnQgKiBmcm9tICcuL3ZlY3Rvci9pbmRleCc7XG4iLCAiaW1wb3J0IHtNYXB9IGZyb20gJy4uL01hcCc7XG5pbXBvcnQge0hhbmRsZXJ9IGZyb20gJy4uLy4uL2NvcmUvSGFuZGxlcic7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uLy4uL2RvbS9Eb21FdmVudCc7XG5pbXBvcnQge0xhdExuZ0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZ0JvdW5kcyc7XG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcblxuLypcbiAqIEwuSGFuZGxlci5Cb3hab29tIGlzIHVzZWQgdG8gYWRkIHNoaWZ0LWRyYWcgem9vbSBpbnRlcmFjdGlvbiB0byB0aGUgbWFwXG4gKiAoem9vbSB0byBhIHNlbGVjdGVkIGJvdW5kaW5nIGJveCksIGVuYWJsZWQgYnkgZGVmYXVsdC5cbiAqL1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gSW50ZXJhY3Rpb24gT3B0aW9uc1xuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBvcHRpb24gYm94Wm9vbTogQm9vbGVhbiA9IHRydWVcblx0Ly8gV2hldGhlciB0aGUgbWFwIGNhbiBiZSB6b29tZWQgdG8gYSByZWN0YW5ndWxhciBhcmVhIHNwZWNpZmllZCBieVxuXHQvLyBkcmFnZ2luZyB0aGUgbW91c2Ugd2hpbGUgcHJlc3NpbmcgdGhlIHNoaWZ0IGtleS5cblx0Ym94Wm9vbTogdHJ1ZVxufSk7XG5cbmV4cG9ydCB2YXIgQm94Wm9vbSA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcCkge1xuXHRcdHRoaXMuX21hcCA9IG1hcDtcblx0XHR0aGlzLl9jb250YWluZXIgPSBtYXAuX2NvbnRhaW5lcjtcblx0XHR0aGlzLl9wYW5lID0gbWFwLl9wYW5lcy5vdmVybGF5UGFuZTtcblx0XHR0aGlzLl9yZXNldFN0YXRlVGltZW91dCA9IDA7XG5cdFx0bWFwLm9uKCd1bmxvYWQnLCB0aGlzLl9kZXN0cm95LCB0aGlzKTtcblx0fSxcblxuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdERvbUV2ZW50Lm9uKHRoaXMuX2NvbnRhaW5lciwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdERvbUV2ZW50Lm9mZih0aGlzLl9jb250YWluZXIsICdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93biwgdGhpcyk7XG5cdH0sXG5cblx0bW92ZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbW92ZWQ7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcblx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9wYW5lKTtcblx0XHRkZWxldGUgdGhpcy5fcGFuZTtcblx0fSxcblxuXHRfcmVzZXRTdGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3Jlc2V0U3RhdGVUaW1lb3V0ID0gMDtcblx0XHR0aGlzLl9tb3ZlZCA9IGZhbHNlO1xuXHR9LFxuXG5cdF9jbGVhckRlZmVycmVkUmVzZXRTdGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9yZXNldFN0YXRlVGltZW91dCAhPT0gMCkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2V0U3RhdGVUaW1lb3V0KTtcblx0XHRcdHRoaXMuX3Jlc2V0U3RhdGVUaW1lb3V0ID0gMDtcblx0XHR9XG5cdH0sXG5cblx0X29uTW91c2VEb3duOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICghZS5zaGlmdEtleSB8fCAoKGUud2hpY2ggIT09IDEpICYmIChlLmJ1dHRvbiAhPT0gMSkpKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdFx0Ly8gQ2xlYXIgdGhlIGRlZmVycmVkIHJlc2V0U3RhdGUgaWYgaXQgaGFzbid0IGV4ZWN1dGVkIHlldCwgb3RoZXJ3aXNlIGl0XG5cdFx0Ly8gd2lsbCBpbnRlcnJ1cHQgdGhlIGludGVyYWN0aW9uIGFuZCBvcnBoYW4gYSBib3ggZWxlbWVudCBpbiB0aGUgY29udGFpbmVyLlxuXHRcdHRoaXMuX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCk7XG5cdFx0dGhpcy5fcmVzZXRTdGF0ZSgpO1xuXG5cdFx0RG9tVXRpbC5kaXNhYmxlVGV4dFNlbGVjdGlvbigpO1xuXHRcdERvbVV0aWwuZGlzYWJsZUltYWdlRHJhZygpO1xuXG5cdFx0dGhpcy5fc3RhcnRQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKTtcblxuXHRcdERvbUV2ZW50Lm9uKGRvY3VtZW50LCB7XG5cdFx0XHRjb250ZXh0bWVudTogRG9tRXZlbnQuc3RvcCxcblx0XHRcdG1vdXNlbW92ZTogdGhpcy5fb25Nb3VzZU1vdmUsXG5cdFx0XHRtb3VzZXVwOiB0aGlzLl9vbk1vdXNlVXAsXG5cdFx0XHRrZXlkb3duOiB0aGlzLl9vbktleURvd25cblx0XHR9LCB0aGlzKTtcblx0fSxcblxuXHRfb25Nb3VzZU1vdmU6IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKCF0aGlzLl9tb3ZlZCkge1xuXHRcdFx0dGhpcy5fbW92ZWQgPSB0cnVlO1xuXG5cdFx0XHR0aGlzLl9ib3ggPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtem9vbS1ib3gnLCB0aGlzLl9jb250YWluZXIpO1xuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWNyb3NzaGFpcicpO1xuXG5cdFx0XHR0aGlzLl9tYXAuZmlyZSgnYm94em9vbXN0YXJ0Jyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fcG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZSk7XG5cblx0XHR2YXIgYm91bmRzID0gbmV3IEJvdW5kcyh0aGlzLl9wb2ludCwgdGhpcy5fc3RhcnRQb2ludCksXG5cdFx0ICAgIHNpemUgPSBib3VuZHMuZ2V0U2l6ZSgpO1xuXG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9ib3gsIGJvdW5kcy5taW4pO1xuXG5cdFx0dGhpcy5fYm94LnN0eWxlLndpZHRoICA9IHNpemUueCArICdweCc7XG5cdFx0dGhpcy5fYm94LnN0eWxlLmhlaWdodCA9IHNpemUueSArICdweCc7XG5cdH0sXG5cblx0X2ZpbmlzaDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tb3ZlZCkge1xuXHRcdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fYm94KTtcblx0XHRcdERvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnbGVhZmxldC1jcm9zc2hhaXInKTtcblx0XHR9XG5cblx0XHREb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24oKTtcblx0XHREb21VdGlsLmVuYWJsZUltYWdlRHJhZygpO1xuXG5cdFx0RG9tRXZlbnQub2ZmKGRvY3VtZW50LCB7XG5cdFx0XHRjb250ZXh0bWVudTogRG9tRXZlbnQuc3RvcCxcblx0XHRcdG1vdXNlbW92ZTogdGhpcy5fb25Nb3VzZU1vdmUsXG5cdFx0XHRtb3VzZXVwOiB0aGlzLl9vbk1vdXNlVXAsXG5cdFx0XHRrZXlkb3duOiB0aGlzLl9vbktleURvd25cblx0XHR9LCB0aGlzKTtcblx0fSxcblxuXHRfb25Nb3VzZVVwOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICgoZS53aGljaCAhPT0gMSkgJiYgKGUuYnV0dG9uICE9PSAxKSkgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX2ZpbmlzaCgpO1xuXG5cdFx0aWYgKCF0aGlzLl9tb3ZlZCkgeyByZXR1cm47IH1cblx0XHQvLyBQb3N0cG9uZSB0byBuZXh0IEpTIHRpY2sgc28gaW50ZXJuYWwgY2xpY2sgZXZlbnQgaGFuZGxpbmdcblx0XHQvLyBzdGlsbCBzZWUgaXQgYXMgXCJtb3ZlZFwiLlxuXHRcdHRoaXMuX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCk7XG5cdFx0dGhpcy5fcmVzZXRTdGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KFV0aWwuYmluZCh0aGlzLl9yZXNldFN0YXRlLCB0aGlzKSwgMCk7XG5cblx0XHR2YXIgYm91bmRzID0gbmV3IExhdExuZ0JvdW5kcyhcblx0XHQgICAgICAgIHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKHRoaXMuX3N0YXJ0UG9pbnQpLFxuXHRcdCAgICAgICAgdGhpcy5fbWFwLmNvbnRhaW5lclBvaW50VG9MYXRMbmcodGhpcy5fcG9pbnQpKTtcblxuXHRcdHRoaXMuX21hcFxuXHRcdFx0LmZpdEJvdW5kcyhib3VuZHMpXG5cdFx0XHQuZmlyZSgnYm94em9vbWVuZCcsIHtib3hab29tQm91bmRzOiBib3VuZHN9KTtcblx0fSxcblxuXHRfb25LZXlEb3duOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmIChlLmtleUNvZGUgPT09IDI3KSB7XG5cdFx0XHR0aGlzLl9maW5pc2goKTtcblx0XHRcdHRoaXMuX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCk7XG5cdFx0XHR0aGlzLl9yZXNldFN0YXRlKCk7XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gQHNlY3Rpb24gSGFuZGxlcnNcbi8vIEBwcm9wZXJ0eSBib3hab29tOiBIYW5kbGVyXG4vLyBCb3ggKHNoaWZ0LWRyYWcgd2l0aCBtb3VzZSkgem9vbSBoYW5kbGVyLlxuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ2JveFpvb20nLCBCb3hab29tKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi4vTWFwJztcbmltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcblxuLypcbiAqIEwuSGFuZGxlci5Eb3VibGVDbGlja1pvb20gaXMgdXNlZCB0byBoYW5kbGUgZG91YmxlLWNsaWNrIHpvb20gb24gdGhlIG1hcCwgZW5hYmxlZCBieSBkZWZhdWx0LlxuICovXG5cbi8vIEBuYW1lc3BhY2UgTWFwXG4vLyBAc2VjdGlvbiBJbnRlcmFjdGlvbiBPcHRpb25zXG5cbk1hcC5tZXJnZU9wdGlvbnMoe1xuXHQvLyBAb3B0aW9uIGRvdWJsZUNsaWNrWm9vbTogQm9vbGVhbnxTdHJpbmcgPSB0cnVlXG5cdC8vIFdoZXRoZXIgdGhlIG1hcCBjYW4gYmUgem9vbWVkIGluIGJ5IGRvdWJsZSBjbGlja2luZyBvbiBpdCBhbmRcblx0Ly8gem9vbWVkIG91dCBieSBkb3VibGUgY2xpY2tpbmcgd2hpbGUgaG9sZGluZyBzaGlmdC4gSWYgcGFzc2VkXG5cdC8vIGAnY2VudGVyJ2AsIGRvdWJsZS1jbGljayB6b29tIHdpbGwgem9vbSB0byB0aGUgY2VudGVyIG9mIHRoZVxuXHQvLyAgdmlldyByZWdhcmRsZXNzIG9mIHdoZXJlIHRoZSBtb3VzZSB3YXMuXG5cdGRvdWJsZUNsaWNrWm9vbTogdHJ1ZVxufSk7XG5cbmV4cG9ydCB2YXIgRG91YmxlQ2xpY2tab29tID0gSGFuZGxlci5leHRlbmQoe1xuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX21hcC5vbignZGJsY2xpY2snLCB0aGlzLl9vbkRvdWJsZUNsaWNrLCB0aGlzKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX21hcC5vZmYoJ2RibGNsaWNrJywgdGhpcy5fb25Eb3VibGVDbGljaywgdGhpcyk7XG5cdH0sXG5cblx0X29uRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgb2xkWm9vbSA9IG1hcC5nZXRab29tKCksXG5cdFx0ICAgIGRlbHRhID0gbWFwLm9wdGlvbnMuem9vbURlbHRhLFxuXHRcdCAgICB6b29tID0gZS5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5ID8gb2xkWm9vbSAtIGRlbHRhIDogb2xkWm9vbSArIGRlbHRhO1xuXG5cdFx0aWYgKG1hcC5vcHRpb25zLmRvdWJsZUNsaWNrWm9vbSA9PT0gJ2NlbnRlcicpIHtcblx0XHRcdG1hcC5zZXRab29tKHpvb20pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXAuc2V0Wm9vbUFyb3VuZChlLmNvbnRhaW5lclBvaW50LCB6b29tKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBAc2VjdGlvbiBIYW5kbGVyc1xuLy9cbi8vIE1hcCBwcm9wZXJ0aWVzIGluY2x1ZGUgaW50ZXJhY3Rpb24gaGFuZGxlcnMgdGhhdCBhbGxvdyB5b3UgdG8gY29udHJvbFxuLy8gaW50ZXJhY3Rpb24gYmVoYXZpb3IgaW4gcnVudGltZSwgZW5hYmxpbmcgb3IgZGlzYWJsaW5nIGNlcnRhaW4gZmVhdHVyZXMgc3VjaFxuLy8gYXMgZHJhZ2dpbmcgb3IgdG91Y2ggem9vbSAoc2VlIGBIYW5kbGVyYCBtZXRob2RzKS4gRm9yIGV4YW1wbGU6XG4vL1xuLy8gYGBganNcbi8vIG1hcC5kb3VibGVDbGlja1pvb20uZGlzYWJsZSgpO1xuLy8gYGBgXG4vL1xuLy8gQHByb3BlcnR5IGRvdWJsZUNsaWNrWm9vbTogSGFuZGxlclxuLy8gRG91YmxlIGNsaWNrIHpvb20gaGFuZGxlci5cbk1hcC5hZGRJbml0SG9vaygnYWRkSGFuZGxlcicsICdkb3VibGVDbGlja1pvb20nLCBEb3VibGVDbGlja1pvb20pO1xuIiwgImltcG9ydCB7TWFwfSBmcm9tICcuLi9NYXAnO1xuaW1wb3J0IHtIYW5kbGVyfSBmcm9tICcuLi8uLi9jb3JlL0hhbmRsZXInO1xuaW1wb3J0IHtEcmFnZ2FibGV9IGZyb20gJy4uLy4uL2RvbS9EcmFnZ2FibGUnO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQge3RvTGF0TG5nQm91bmRzIGFzIGxhdExuZ0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZ0JvdW5kcyc7XG5pbXBvcnQge3RvQm91bmRzfSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Cb3VuZHMnO1xuXG4vKlxuICogTC5IYW5kbGVyLk1hcERyYWcgaXMgdXNlZCB0byBtYWtlIHRoZSBtYXAgZHJhZ2dhYmxlICh3aXRoIHBhbm5pbmcgaW5lcnRpYSksIGVuYWJsZWQgYnkgZGVmYXVsdC5cbiAqL1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gSW50ZXJhY3Rpb24gT3B0aW9uc1xuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBvcHRpb24gZHJhZ2dpbmc6IEJvb2xlYW4gPSB0cnVlXG5cdC8vIFdoZXRoZXIgdGhlIG1hcCBpcyBkcmFnZ2FibGUgd2l0aCBtb3VzZS90b3VjaCBvciBub3QuXG5cdGRyYWdnaW5nOiB0cnVlLFxuXG5cdC8vIEBzZWN0aW9uIFBhbm5pbmcgSW5lcnRpYSBPcHRpb25zXG5cdC8vIEBvcHRpb24gaW5lcnRpYTogQm9vbGVhbiA9ICpcblx0Ly8gSWYgZW5hYmxlZCwgcGFubmluZyBvZiB0aGUgbWFwIHdpbGwgaGF2ZSBhbiBpbmVydGlhIGVmZmVjdCB3aGVyZVxuXHQvLyB0aGUgbWFwIGJ1aWxkcyBtb21lbnR1bSB3aGlsZSBkcmFnZ2luZyBhbmQgY29udGludWVzIG1vdmluZyBpblxuXHQvLyB0aGUgc2FtZSBkaXJlY3Rpb24gZm9yIHNvbWUgdGltZS4gRmVlbHMgZXNwZWNpYWxseSBuaWNlIG9uIHRvdWNoXG5cdC8vIGRldmljZXMuIEVuYWJsZWQgYnkgZGVmYXVsdC5cblx0aW5lcnRpYTogdHJ1ZSxcblxuXHQvLyBAb3B0aW9uIGluZXJ0aWFEZWNlbGVyYXRpb246IE51bWJlciA9IDMwMDBcblx0Ly8gVGhlIHJhdGUgd2l0aCB3aGljaCB0aGUgaW5lcnRpYWwgbW92ZW1lbnQgc2xvd3MgZG93biwgaW4gcGl4ZWxzL3NlY29uZMKyLlxuXHRpbmVydGlhRGVjZWxlcmF0aW9uOiAzNDAwLCAvLyBweC9zXjJcblxuXHQvLyBAb3B0aW9uIGluZXJ0aWFNYXhTcGVlZDogTnVtYmVyID0gSW5maW5pdHlcblx0Ly8gTWF4IHNwZWVkIG9mIHRoZSBpbmVydGlhbCBtb3ZlbWVudCwgaW4gcGl4ZWxzL3NlY29uZC5cblx0aW5lcnRpYU1heFNwZWVkOiBJbmZpbml0eSwgLy8gcHgvc1xuXG5cdC8vIEBvcHRpb24gZWFzZUxpbmVhcml0eTogTnVtYmVyID0gMC4yXG5cdGVhc2VMaW5lYXJpdHk6IDAuMixcblxuXHQvLyBUT0RPIHJlZmFjdG9yLCBtb3ZlIHRvIENSU1xuXHQvLyBAb3B0aW9uIHdvcmxkQ29weUp1bXA6IEJvb2xlYW4gPSBmYWxzZVxuXHQvLyBXaXRoIHRoaXMgb3B0aW9uIGVuYWJsZWQsIHRoZSBtYXAgdHJhY2tzIHdoZW4geW91IHBhbiB0byBhbm90aGVyIFwiY29weVwiXG5cdC8vIG9mIHRoZSB3b3JsZCBhbmQgc2VhbWxlc3NseSBqdW1wcyB0byB0aGUgb3JpZ2luYWwgb25lIHNvIHRoYXQgYWxsIG92ZXJsYXlzXG5cdC8vIGxpa2UgbWFya2VycyBhbmQgdmVjdG9yIGxheWVycyBhcmUgc3RpbGwgdmlzaWJsZS5cblx0d29ybGRDb3B5SnVtcDogZmFsc2UsXG5cblx0Ly8gQG9wdGlvbiBtYXhCb3VuZHNWaXNjb3NpdHk6IE51bWJlciA9IDAuMFxuXHQvLyBJZiBgbWF4Qm91bmRzYCBpcyBzZXQsIHRoaXMgb3B0aW9uIHdpbGwgY29udHJvbCBob3cgc29saWQgdGhlIGJvdW5kc1xuXHQvLyBhcmUgd2hlbiBkcmFnZ2luZyB0aGUgbWFwIGFyb3VuZC4gVGhlIGRlZmF1bHQgdmFsdWUgb2YgYDAuMGAgYWxsb3dzIHRoZVxuXHQvLyB1c2VyIHRvIGRyYWcgb3V0c2lkZSB0aGUgYm91bmRzIGF0IG5vcm1hbCBzcGVlZCwgaGlnaGVyIHZhbHVlcyB3aWxsXG5cdC8vIHNsb3cgZG93biBtYXAgZHJhZ2dpbmcgb3V0c2lkZSBib3VuZHMsIGFuZCBgMS4wYCBtYWtlcyB0aGUgYm91bmRzIGZ1bGx5XG5cdC8vIHNvbGlkLCBwcmV2ZW50aW5nIHRoZSB1c2VyIGZyb20gZHJhZ2dpbmcgb3V0c2lkZSB0aGUgYm91bmRzLlxuXHRtYXhCb3VuZHNWaXNjb3NpdHk6IDAuMFxufSk7XG5cbmV4cG9ydCB2YXIgRHJhZyA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0YWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX2RyYWdnYWJsZSkge1xuXHRcdFx0dmFyIG1hcCA9IHRoaXMuX21hcDtcblxuXHRcdFx0dGhpcy5fZHJhZ2dhYmxlID0gbmV3IERyYWdnYWJsZShtYXAuX21hcFBhbmUsIG1hcC5fY29udGFpbmVyKTtcblxuXHRcdFx0dGhpcy5fZHJhZ2dhYmxlLm9uKHtcblx0XHRcdFx0ZHJhZ3N0YXJ0OiB0aGlzLl9vbkRyYWdTdGFydCxcblx0XHRcdFx0ZHJhZzogdGhpcy5fb25EcmFnLFxuXHRcdFx0XHRkcmFnZW5kOiB0aGlzLl9vbkRyYWdFbmRcblx0XHRcdH0sIHRoaXMpO1xuXG5cdFx0XHR0aGlzLl9kcmFnZ2FibGUub24oJ3ByZWRyYWcnLCB0aGlzLl9vblByZURyYWdMaW1pdCwgdGhpcyk7XG5cdFx0XHRpZiAobWFwLm9wdGlvbnMud29ybGRDb3B5SnVtcCkge1xuXHRcdFx0XHR0aGlzLl9kcmFnZ2FibGUub24oJ3ByZWRyYWcnLCB0aGlzLl9vblByZURyYWdXcmFwLCB0aGlzKTtcblx0XHRcdFx0bWFwLm9uKCd6b29tZW5kJywgdGhpcy5fb25ab29tRW5kLCB0aGlzKTtcblxuXHRcdFx0XHRtYXAud2hlblJlYWR5KHRoaXMuX29uWm9vbUVuZCwgdGhpcyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFwLl9jb250YWluZXIsICdsZWFmbGV0LWdyYWIgbGVhZmxldC10b3VjaC1kcmFnJyk7XG5cdFx0dGhpcy5fZHJhZ2dhYmxlLmVuYWJsZSgpO1xuXHRcdHRoaXMuX3Bvc2l0aW9ucyA9IFtdO1xuXHRcdHRoaXMuX3RpbWVzID0gW107XG5cdH0sXG5cblx0cmVtb3ZlSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcC5fY29udGFpbmVyLCAnbGVhZmxldC1ncmFiJyk7XG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ2xlYWZsZXQtdG91Y2gtZHJhZycpO1xuXHRcdHRoaXMuX2RyYWdnYWJsZS5kaXNhYmxlKCk7XG5cdH0sXG5cblx0bW92ZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlICYmIHRoaXMuX2RyYWdnYWJsZS5fbW92ZWQ7XG5cdH0sXG5cblx0bW92aW5nOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RyYWdnYWJsZSAmJiB0aGlzLl9kcmFnZ2FibGUuX21vdmluZztcblx0fSxcblxuXHRfb25EcmFnU3RhcnQ6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwO1xuXG5cdFx0bWFwLl9zdG9wKCk7XG5cdFx0aWYgKHRoaXMuX21hcC5vcHRpb25zLm1heEJvdW5kcyAmJiB0aGlzLl9tYXAub3B0aW9ucy5tYXhCb3VuZHNWaXNjb3NpdHkpIHtcblx0XHRcdHZhciBib3VuZHMgPSBsYXRMbmdCb3VuZHModGhpcy5fbWFwLm9wdGlvbnMubWF4Qm91bmRzKTtcblxuXHRcdFx0dGhpcy5fb2Zmc2V0TGltaXQgPSB0b0JvdW5kcyhcblx0XHRcdFx0dGhpcy5fbWFwLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQoYm91bmRzLmdldE5vcnRoV2VzdCgpKS5tdWx0aXBseUJ5KC0xKSxcblx0XHRcdFx0dGhpcy5fbWFwLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQoYm91bmRzLmdldFNvdXRoRWFzdCgpKS5tdWx0aXBseUJ5KC0xKVxuXHRcdFx0XHRcdC5hZGQodGhpcy5fbWFwLmdldFNpemUoKSkpO1xuXG5cdFx0XHR0aGlzLl92aXNjb3NpdHkgPSBNYXRoLm1pbigxLjAsIE1hdGgubWF4KDAuMCwgdGhpcy5fbWFwLm9wdGlvbnMubWF4Qm91bmRzVmlzY29zaXR5KSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX29mZnNldExpbWl0ID0gbnVsbDtcblx0XHR9XG5cblx0XHRtYXBcblx0XHQgICAgLmZpcmUoJ21vdmVzdGFydCcpXG5cdFx0ICAgIC5maXJlKCdkcmFnc3RhcnQnKTtcblxuXHRcdGlmIChtYXAub3B0aW9ucy5pbmVydGlhKSB7XG5cdFx0XHR0aGlzLl9wb3NpdGlvbnMgPSBbXTtcblx0XHRcdHRoaXMuX3RpbWVzID0gW107XG5cdFx0fVxuXHR9LFxuXG5cdF9vbkRyYWc6IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKHRoaXMuX21hcC5vcHRpb25zLmluZXJ0aWEpIHtcblx0XHRcdHZhciB0aW1lID0gdGhpcy5fbGFzdFRpbWUgPSArbmV3IERhdGUoKSxcblx0XHRcdCAgICBwb3MgPSB0aGlzLl9sYXN0UG9zID0gdGhpcy5fZHJhZ2dhYmxlLl9hYnNQb3MgfHwgdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3M7XG5cblx0XHRcdHRoaXMuX3Bvc2l0aW9ucy5wdXNoKHBvcyk7XG5cdFx0XHR0aGlzLl90aW1lcy5wdXNoKHRpbWUpO1xuXG5cdFx0XHR0aGlzLl9wcnVuZVBvc2l0aW9ucyh0aW1lKTtcblx0XHR9XG5cblx0XHR0aGlzLl9tYXBcblx0XHQgICAgLmZpcmUoJ21vdmUnLCBlKVxuXHRcdCAgICAuZmlyZSgnZHJhZycsIGUpO1xuXHR9LFxuXG5cdF9wcnVuZVBvc2l0aW9uczogZnVuY3Rpb24gKHRpbWUpIHtcblx0XHR3aGlsZSAodGhpcy5fcG9zaXRpb25zLmxlbmd0aCA+IDEgJiYgdGltZSAtIHRoaXMuX3RpbWVzWzBdID4gNTApIHtcblx0XHRcdHRoaXMuX3Bvc2l0aW9ucy5zaGlmdCgpO1xuXHRcdFx0dGhpcy5fdGltZXMuc2hpZnQoKTtcblx0XHR9XG5cdH0sXG5cblx0X29uWm9vbUVuZDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBweENlbnRlciA9IHRoaXMuX21hcC5nZXRTaXplKCkuZGl2aWRlQnkoMiksXG5cdFx0ICAgIHB4V29ybGRDZW50ZXIgPSB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KFswLCAwXSk7XG5cblx0XHR0aGlzLl9pbml0aWFsV29ybGRPZmZzZXQgPSBweFdvcmxkQ2VudGVyLnN1YnRyYWN0KHB4Q2VudGVyKS54O1xuXHRcdHRoaXMuX3dvcmxkV2lkdGggPSB0aGlzLl9tYXAuZ2V0UGl4ZWxXb3JsZEJvdW5kcygpLmdldFNpemUoKS54O1xuXHR9LFxuXG5cdF92aXNjb3VzTGltaXQ6IGZ1bmN0aW9uICh2YWx1ZSwgdGhyZXNob2xkKSB7XG5cdFx0cmV0dXJuIHZhbHVlIC0gKHZhbHVlIC0gdGhyZXNob2xkKSAqIHRoaXMuX3Zpc2Nvc2l0eTtcblx0fSxcblxuXHRfb25QcmVEcmFnTGltaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX3Zpc2Nvc2l0eSB8fCAhdGhpcy5fb2Zmc2V0TGltaXQpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgb2Zmc2V0ID0gdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3Muc3VidHJhY3QodGhpcy5fZHJhZ2dhYmxlLl9zdGFydFBvcyk7XG5cblx0XHR2YXIgbGltaXQgPSB0aGlzLl9vZmZzZXRMaW1pdDtcblx0XHRpZiAob2Zmc2V0LnggPCBsaW1pdC5taW4ueCkgeyBvZmZzZXQueCA9IHRoaXMuX3Zpc2NvdXNMaW1pdChvZmZzZXQueCwgbGltaXQubWluLngpOyB9XG5cdFx0aWYgKG9mZnNldC55IDwgbGltaXQubWluLnkpIHsgb2Zmc2V0LnkgPSB0aGlzLl92aXNjb3VzTGltaXQob2Zmc2V0LnksIGxpbWl0Lm1pbi55KTsgfVxuXHRcdGlmIChvZmZzZXQueCA+IGxpbWl0Lm1heC54KSB7IG9mZnNldC54ID0gdGhpcy5fdmlzY291c0xpbWl0KG9mZnNldC54LCBsaW1pdC5tYXgueCk7IH1cblx0XHRpZiAob2Zmc2V0LnkgPiBsaW1pdC5tYXgueSkgeyBvZmZzZXQueSA9IHRoaXMuX3Zpc2NvdXNMaW1pdChvZmZzZXQueSwgbGltaXQubWF4LnkpOyB9XG5cblx0XHR0aGlzLl9kcmFnZ2FibGUuX25ld1BvcyA9IHRoaXMuX2RyYWdnYWJsZS5fc3RhcnRQb3MuYWRkKG9mZnNldCk7XG5cdH0sXG5cblx0X29uUHJlRHJhZ1dyYXA6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBUT0RPIHJlZmFjdG9yIHRvIGJlIGFibGUgdG8gYWRqdXN0IG1hcCBwYW5lIHBvc2l0aW9uIGFmdGVyIHpvb21cblx0XHR2YXIgd29ybGRXaWR0aCA9IHRoaXMuX3dvcmxkV2lkdGgsXG5cdFx0ICAgIGhhbGZXaWR0aCA9IE1hdGgucm91bmQod29ybGRXaWR0aCAvIDIpLFxuXHRcdCAgICBkeCA9IHRoaXMuX2luaXRpYWxXb3JsZE9mZnNldCxcblx0XHQgICAgeCA9IHRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zLngsXG5cdFx0ICAgIG5ld1gxID0gKHggLSBoYWxmV2lkdGggKyBkeCkgJSB3b3JsZFdpZHRoICsgaGFsZldpZHRoIC0gZHgsXG5cdFx0ICAgIG5ld1gyID0gKHggKyBoYWxmV2lkdGggKyBkeCkgJSB3b3JsZFdpZHRoIC0gaGFsZldpZHRoIC0gZHgsXG5cdFx0ICAgIG5ld1ggPSBNYXRoLmFicyhuZXdYMSArIGR4KSA8IE1hdGguYWJzKG5ld1gyICsgZHgpID8gbmV3WDEgOiBuZXdYMjtcblxuXHRcdHRoaXMuX2RyYWdnYWJsZS5fYWJzUG9zID0gdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MuY2xvbmUoKTtcblx0XHR0aGlzLl9kcmFnZ2FibGUuX25ld1Bvcy54ID0gbmV3WDtcblx0fSxcblxuXHRfb25EcmFnRW5kOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIG9wdGlvbnMgPSBtYXAub3B0aW9ucyxcblxuXHRcdCAgICBub0luZXJ0aWEgPSAhb3B0aW9ucy5pbmVydGlhIHx8IGUubm9JbmVydGlhIHx8IHRoaXMuX3RpbWVzLmxlbmd0aCA8IDI7XG5cblx0XHRtYXAuZmlyZSgnZHJhZ2VuZCcsIGUpO1xuXG5cdFx0aWYgKG5vSW5lcnRpYSkge1xuXHRcdFx0bWFwLmZpcmUoJ21vdmVlbmQnKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9wcnVuZVBvc2l0aW9ucygrbmV3IERhdGUoKSk7XG5cblx0XHRcdHZhciBkaXJlY3Rpb24gPSB0aGlzLl9sYXN0UG9zLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uc1swXSksXG5cdFx0XHQgICAgZHVyYXRpb24gPSAodGhpcy5fbGFzdFRpbWUgLSB0aGlzLl90aW1lc1swXSkgLyAxMDAwLFxuXHRcdFx0ICAgIGVhc2UgPSBvcHRpb25zLmVhc2VMaW5lYXJpdHksXG5cblx0XHRcdCAgICBzcGVlZFZlY3RvciA9IGRpcmVjdGlvbi5tdWx0aXBseUJ5KGVhc2UgLyBkdXJhdGlvbiksXG5cdFx0XHQgICAgc3BlZWQgPSBzcGVlZFZlY3Rvci5kaXN0YW5jZVRvKFswLCAwXSksXG5cblx0XHRcdCAgICBsaW1pdGVkU3BlZWQgPSBNYXRoLm1pbihvcHRpb25zLmluZXJ0aWFNYXhTcGVlZCwgc3BlZWQpLFxuXHRcdFx0ICAgIGxpbWl0ZWRTcGVlZFZlY3RvciA9IHNwZWVkVmVjdG9yLm11bHRpcGx5QnkobGltaXRlZFNwZWVkIC8gc3BlZWQpLFxuXG5cdFx0XHQgICAgZGVjZWxlcmF0aW9uRHVyYXRpb24gPSBsaW1pdGVkU3BlZWQgLyAob3B0aW9ucy5pbmVydGlhRGVjZWxlcmF0aW9uICogZWFzZSksXG5cdFx0XHQgICAgb2Zmc2V0ID0gbGltaXRlZFNwZWVkVmVjdG9yLm11bHRpcGx5QnkoLWRlY2VsZXJhdGlvbkR1cmF0aW9uIC8gMikucm91bmQoKTtcblxuXHRcdFx0aWYgKCFvZmZzZXQueCAmJiAhb2Zmc2V0LnkpIHtcblx0XHRcdFx0bWFwLmZpcmUoJ21vdmVlbmQnKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b2Zmc2V0ID0gbWFwLl9saW1pdE9mZnNldChvZmZzZXQsIG1hcC5vcHRpb25zLm1heEJvdW5kcyk7XG5cblx0XHRcdFx0VXRpbC5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRtYXAucGFuQnkob2Zmc2V0LCB7XG5cdFx0XHRcdFx0XHRkdXJhdGlvbjogZGVjZWxlcmF0aW9uRHVyYXRpb24sXG5cdFx0XHRcdFx0XHRlYXNlTGluZWFyaXR5OiBlYXNlLFxuXHRcdFx0XHRcdFx0bm9Nb3ZlU3RhcnQ6IHRydWUsXG5cdFx0XHRcdFx0XHRhbmltYXRlOiB0cnVlXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSk7XG5cbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkgZHJhZ2dpbmc6IEhhbmRsZXJcbi8vIE1hcCBkcmFnZ2luZyBoYW5kbGVyIChieSBib3RoIG1vdXNlIGFuZCB0b3VjaCkuXG5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnZHJhZ2dpbmcnLCBEcmFnKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi4vTWFwJztcbmltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcbmltcG9ydCB7b24sIG9mZiwgc3RvcH0gZnJvbSAnLi4vLi4vZG9tL0RvbUV2ZW50JztcbmltcG9ydCB7dG9Qb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xuXG5cbi8qXG4gKiBMLk1hcC5LZXlib2FyZCBpcyBoYW5kbGluZyBrZXlib2FyZCBpbnRlcmFjdGlvbiB3aXRoIHRoZSBtYXAsIGVuYWJsZWQgYnkgZGVmYXVsdC5cbiAqL1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gS2V5Ym9hcmQgTmF2aWdhdGlvbiBPcHRpb25zXG5NYXAubWVyZ2VPcHRpb25zKHtcblx0Ly8gQG9wdGlvbiBrZXlib2FyZDogQm9vbGVhbiA9IHRydWVcblx0Ly8gTWFrZXMgdGhlIG1hcCBmb2N1c2FibGUgYW5kIGFsbG93cyB1c2VycyB0byBuYXZpZ2F0ZSB0aGUgbWFwIHdpdGgga2V5Ym9hcmRcblx0Ly8gYXJyb3dzIGFuZCBgK2AvYC1gIGtleXMuXG5cdGtleWJvYXJkOiB0cnVlLFxuXG5cdC8vIEBvcHRpb24ga2V5Ym9hcmRQYW5EZWx0YTogTnVtYmVyID0gODBcblx0Ly8gQW1vdW50IG9mIHBpeGVscyB0byBwYW4gd2hlbiBwcmVzc2luZyBhbiBhcnJvdyBrZXkuXG5cdGtleWJvYXJkUGFuRGVsdGE6IDgwXG59KTtcblxuZXhwb3J0IHZhciBLZXlib2FyZCA9IEhhbmRsZXIuZXh0ZW5kKHtcblxuXHRrZXlDb2Rlczoge1xuXHRcdGxlZnQ6ICAgIFszN10sXG5cdFx0cmlnaHQ6ICAgWzM5XSxcblx0XHRkb3duOiAgICBbNDBdLFxuXHRcdHVwOiAgICAgIFszOF0sXG5cdFx0em9vbUluOiAgWzE4NywgMTA3LCA2MSwgMTcxXSxcblx0XHR6b29tT3V0OiBbMTg5LCAxMDksIDU0LCAxNzNdXG5cdH0sXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcCkge1xuXHRcdHRoaXMuX21hcCA9IG1hcDtcblxuXHRcdHRoaXMuX3NldFBhbkRlbHRhKG1hcC5vcHRpb25zLmtleWJvYXJkUGFuRGVsdGEpO1xuXHRcdHRoaXMuX3NldFpvb21EZWx0YShtYXAub3B0aW9ucy56b29tRGVsdGEpO1xuXHR9LFxuXG5cdGFkZEhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuX21hcC5fY29udGFpbmVyO1xuXG5cdFx0Ly8gbWFrZSB0aGUgY29udGFpbmVyIGZvY3VzYWJsZSBieSB0YWJiaW5nXG5cdFx0aWYgKGNvbnRhaW5lci50YWJJbmRleCA8PSAwKSB7XG5cdFx0XHRjb250YWluZXIudGFiSW5kZXggPSAnMCc7XG5cdFx0fVxuXG5cdFx0b24oY29udGFpbmVyLCB7XG5cdFx0XHRmb2N1czogdGhpcy5fb25Gb2N1cyxcblx0XHRcdGJsdXI6IHRoaXMuX29uQmx1cixcblx0XHRcdG1vdXNlZG93bjogdGhpcy5fb25Nb3VzZURvd25cblx0XHR9LCB0aGlzKTtcblxuXHRcdHRoaXMuX21hcC5vbih7XG5cdFx0XHRmb2N1czogdGhpcy5fYWRkSG9va3MsXG5cdFx0XHRibHVyOiB0aGlzLl9yZW1vdmVIb29rc1xuXHRcdH0sIHRoaXMpO1xuXHR9LFxuXG5cdHJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVtb3ZlSG9va3MoKTtcblxuXHRcdG9mZih0aGlzLl9tYXAuX2NvbnRhaW5lciwge1xuXHRcdFx0Zm9jdXM6IHRoaXMuX29uRm9jdXMsXG5cdFx0XHRibHVyOiB0aGlzLl9vbkJsdXIsXG5cdFx0XHRtb3VzZWRvd246IHRoaXMuX29uTW91c2VEb3duXG5cdFx0fSwgdGhpcyk7XG5cblx0XHR0aGlzLl9tYXAub2ZmKHtcblx0XHRcdGZvY3VzOiB0aGlzLl9hZGRIb29rcyxcblx0XHRcdGJsdXI6IHRoaXMuX3JlbW92ZUhvb2tzXG5cdFx0fSwgdGhpcyk7XG5cdH0sXG5cblx0X29uTW91c2VEb3duOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX2ZvY3VzZWQpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgYm9keSA9IGRvY3VtZW50LmJvZHksXG5cdFx0ICAgIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuXHRcdCAgICB0b3AgPSBib2R5LnNjcm9sbFRvcCB8fCBkb2NFbC5zY3JvbGxUb3AsXG5cdFx0ICAgIGxlZnQgPSBib2R5LnNjcm9sbExlZnQgfHwgZG9jRWwuc2Nyb2xsTGVmdDtcblxuXHRcdHRoaXMuX21hcC5fY29udGFpbmVyLmZvY3VzKCk7XG5cblx0XHR3aW5kb3cuc2Nyb2xsVG8obGVmdCwgdG9wKTtcblx0fSxcblxuXHRfb25Gb2N1czogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2ZvY3VzZWQgPSB0cnVlO1xuXHRcdHRoaXMuX21hcC5maXJlKCdmb2N1cycpO1xuXHR9LFxuXG5cdF9vbkJsdXI6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9mb2N1c2VkID0gZmFsc2U7XG5cdFx0dGhpcy5fbWFwLmZpcmUoJ2JsdXInKTtcblx0fSxcblxuXHRfc2V0UGFuRGVsdGE6IGZ1bmN0aW9uIChwYW5EZWx0YSkge1xuXHRcdHZhciBrZXlzID0gdGhpcy5fcGFuS2V5cyA9IHt9LFxuXHRcdCAgICBjb2RlcyA9IHRoaXMua2V5Q29kZXMsXG5cdFx0ICAgIGksIGxlbjtcblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLmxlZnQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGtleXNbY29kZXMubGVmdFtpXV0gPSBbLTEgKiBwYW5EZWx0YSwgMF07XG5cdFx0fVxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLnJpZ2h0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRrZXlzW2NvZGVzLnJpZ2h0W2ldXSA9IFtwYW5EZWx0YSwgMF07XG5cdFx0fVxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLmRvd24ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGtleXNbY29kZXMuZG93bltpXV0gPSBbMCwgcGFuRGVsdGFdO1xuXHRcdH1cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjb2Rlcy51cC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0a2V5c1tjb2Rlcy51cFtpXV0gPSBbMCwgLTEgKiBwYW5EZWx0YV07XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRab29tRGVsdGE6IGZ1bmN0aW9uICh6b29tRGVsdGEpIHtcblx0XHR2YXIga2V5cyA9IHRoaXMuX3pvb21LZXlzID0ge30sXG5cdFx0ICAgIGNvZGVzID0gdGhpcy5rZXlDb2Rlcyxcblx0XHQgICAgaSwgbGVuO1xuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY29kZXMuem9vbUluLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRrZXlzW2NvZGVzLnpvb21JbltpXV0gPSB6b29tRGVsdGE7XG5cdFx0fVxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLnpvb21PdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGtleXNbY29kZXMuem9vbU91dFtpXV0gPSAtem9vbURlbHRhO1xuXHRcdH1cblx0fSxcblxuXHRfYWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHRvbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIHRoaXMpO1xuXHR9LFxuXG5cdF9yZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdG9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIHRoaXMpO1xuXHR9LFxuXG5cdF9vbktleURvd246IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKGUuYWx0S2V5IHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIga2V5ID0gZS5rZXlDb2RlLFxuXHRcdCAgICBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIG9mZnNldDtcblxuXHRcdGlmIChrZXkgaW4gdGhpcy5fcGFuS2V5cykge1xuXHRcdFx0aWYgKCFtYXAuX3BhbkFuaW0gfHwgIW1hcC5fcGFuQW5pbS5faW5Qcm9ncmVzcykge1xuXHRcdFx0XHRvZmZzZXQgPSB0aGlzLl9wYW5LZXlzW2tleV07XG5cdFx0XHRcdGlmIChlLnNoaWZ0S2V5KSB7XG5cdFx0XHRcdFx0b2Zmc2V0ID0gdG9Qb2ludChvZmZzZXQpLm11bHRpcGx5QnkoMyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAobWFwLm9wdGlvbnMubWF4Qm91bmRzKSB7XG5cdFx0XHRcdFx0b2Zmc2V0ID0gbWFwLl9saW1pdE9mZnNldCh0b1BvaW50KG9mZnNldCksIG1hcC5vcHRpb25zLm1heEJvdW5kcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAobWFwLm9wdGlvbnMud29ybGRDb3B5SnVtcCkge1xuXHRcdFx0XHRcdHZhciBuZXdMYXRMbmcgPSBtYXAud3JhcExhdExuZyhtYXAudW5wcm9qZWN0KG1hcC5wcm9qZWN0KG1hcC5nZXRDZW50ZXIoKSkuYWRkKG9mZnNldCkpKTtcblx0XHRcdFx0XHRtYXAucGFuVG8obmV3TGF0TG5nKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRtYXAucGFuQnkob2Zmc2V0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoa2V5IGluIHRoaXMuX3pvb21LZXlzKSB7XG5cdFx0XHRtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpICsgKGUuc2hpZnRLZXkgPyAzIDogMSkgKiB0aGlzLl96b29tS2V5c1trZXldKTtcblxuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAyNyAmJiBtYXAuX3BvcHVwICYmIG1hcC5fcG9wdXAub3B0aW9ucy5jbG9zZU9uRXNjYXBlS2V5KSB7XG5cdFx0XHRtYXAuY2xvc2VQb3B1cCgpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRzdG9wKGUpO1xuXHR9XG59KTtcblxuLy8gQHNlY3Rpb24gSGFuZGxlcnNcbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkga2V5Ym9hcmQ6IEhhbmRsZXJcbi8vIEtleWJvYXJkIG5hdmlnYXRpb24gaGFuZGxlci5cbk1hcC5hZGRJbml0SG9vaygnYWRkSGFuZGxlcicsICdrZXlib2FyZCcsIEtleWJvYXJkKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi4vTWFwJztcbmltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uLy4uL2RvbS9Eb21FdmVudCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5cbi8qXG4gKiBMLkhhbmRsZXIuU2Nyb2xsV2hlZWxab29tIGlzIHVzZWQgYnkgTC5NYXAgdG8gZW5hYmxlIG1vdXNlIHNjcm9sbCB3aGVlbCB6b29tIG9uIHRoZSBtYXAuXG4gKi9cblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcbk1hcC5tZXJnZU9wdGlvbnMoe1xuXHQvLyBAc2VjdGlvbiBNb3VzZSB3aGVlbCBvcHRpb25zXG5cdC8vIEBvcHRpb24gc2Nyb2xsV2hlZWxab29tOiBCb29sZWFufFN0cmluZyA9IHRydWVcblx0Ly8gV2hldGhlciB0aGUgbWFwIGNhbiBiZSB6b29tZWQgYnkgdXNpbmcgdGhlIG1vdXNlIHdoZWVsLiBJZiBwYXNzZWQgYCdjZW50ZXInYCxcblx0Ly8gaXQgd2lsbCB6b29tIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXcgcmVnYXJkbGVzcyBvZiB3aGVyZSB0aGUgbW91c2Ugd2FzLlxuXHRzY3JvbGxXaGVlbFpvb206IHRydWUsXG5cblx0Ly8gQG9wdGlvbiB3aGVlbERlYm91bmNlVGltZTogTnVtYmVyID0gNDBcblx0Ly8gTGltaXRzIHRoZSByYXRlIGF0IHdoaWNoIGEgd2hlZWwgY2FuIGZpcmUgKGluIG1pbGxpc2Vjb25kcykuIEJ5IGRlZmF1bHRcblx0Ly8gdXNlciBjYW4ndCB6b29tIHZpYSB3aGVlbCBtb3JlIG9mdGVuIHRoYW4gb25jZSBwZXIgNDAgbXMuXG5cdHdoZWVsRGVib3VuY2VUaW1lOiA0MCxcblxuXHQvLyBAb3B0aW9uIHdoZWVsUHhQZXJab29tTGV2ZWw6IE51bWJlciA9IDYwXG5cdC8vIEhvdyBtYW55IHNjcm9sbCBwaXhlbHMgKGFzIHJlcG9ydGVkIGJ5IFtMLkRvbUV2ZW50LmdldFdoZWVsRGVsdGFdKCNkb21ldmVudC1nZXR3aGVlbGRlbHRhKSlcblx0Ly8gbWVhbiBhIGNoYW5nZSBvZiBvbmUgZnVsbCB6b29tIGxldmVsLiBTbWFsbGVyIHZhbHVlcyB3aWxsIG1ha2Ugd2hlZWwtem9vbWluZ1xuXHQvLyBmYXN0ZXIgKGFuZCB2aWNlIHZlcnNhKS5cblx0d2hlZWxQeFBlclpvb21MZXZlbDogNjBcbn0pO1xuXG5leHBvcnQgdmFyIFNjcm9sbFdoZWVsWm9vbSA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0YWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHREb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ3doZWVsJywgdGhpcy5fb25XaGVlbFNjcm9sbCwgdGhpcyk7XG5cblx0XHR0aGlzLl9kZWx0YSA9IDA7XG5cdH0sXG5cblx0cmVtb3ZlSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHREb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsICd3aGVlbCcsIHRoaXMuX29uV2hlZWxTY3JvbGwsIHRoaXMpO1xuXHR9LFxuXG5cdF9vbldoZWVsU2Nyb2xsOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBkZWx0YSA9IERvbUV2ZW50LmdldFdoZWVsRGVsdGEoZSk7XG5cblx0XHR2YXIgZGVib3VuY2UgPSB0aGlzLl9tYXAub3B0aW9ucy53aGVlbERlYm91bmNlVGltZTtcblxuXHRcdHRoaXMuX2RlbHRhICs9IGRlbHRhO1xuXHRcdHRoaXMuX2xhc3RNb3VzZVBvcyA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKTtcblxuXHRcdGlmICghdGhpcy5fc3RhcnRUaW1lKSB7XG5cdFx0XHR0aGlzLl9zdGFydFRpbWUgPSArbmV3IERhdGUoKTtcblx0XHR9XG5cblx0XHR2YXIgbGVmdCA9IE1hdGgubWF4KGRlYm91bmNlIC0gKCtuZXcgRGF0ZSgpIC0gdGhpcy5fc3RhcnRUaW1lKSwgMCk7XG5cblx0XHRjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuXHRcdHRoaXMuX3RpbWVyID0gc2V0VGltZW91dChVdGlsLmJpbmQodGhpcy5fcGVyZm9ybVpvb20sIHRoaXMpLCBsZWZ0KTtcblxuXHRcdERvbUV2ZW50LnN0b3AoZSk7XG5cdH0sXG5cblx0X3BlcmZvcm1ab29tOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgem9vbSA9IG1hcC5nZXRab29tKCksXG5cdFx0ICAgIHNuYXAgPSB0aGlzLl9tYXAub3B0aW9ucy56b29tU25hcCB8fCAwO1xuXG5cdFx0bWFwLl9zdG9wKCk7IC8vIHN0b3AgcGFubmluZyBhbmQgZmx5IGFuaW1hdGlvbnMgaWYgYW55XG5cblx0XHQvLyBtYXAgdGhlIGRlbHRhIHdpdGggYSBzaWdtb2lkIGZ1bmN0aW9uIHRvIC00Li40IHJhbmdlIGxlYW5pbmcgb24gLTEuLjFcblx0XHR2YXIgZDIgPSB0aGlzLl9kZWx0YSAvICh0aGlzLl9tYXAub3B0aW9ucy53aGVlbFB4UGVyWm9vbUxldmVsICogNCksXG5cdFx0ICAgIGQzID0gNCAqIE1hdGgubG9nKDIgLyAoMSArIE1hdGguZXhwKC1NYXRoLmFicyhkMikpKSkgLyBNYXRoLkxOMixcblx0XHQgICAgZDQgPSBzbmFwID8gTWF0aC5jZWlsKGQzIC8gc25hcCkgKiBzbmFwIDogZDMsXG5cdFx0ICAgIGRlbHRhID0gbWFwLl9saW1pdFpvb20oem9vbSArICh0aGlzLl9kZWx0YSA+IDAgPyBkNCA6IC1kNCkpIC0gem9vbTtcblxuXHRcdHRoaXMuX2RlbHRhID0gMDtcblx0XHR0aGlzLl9zdGFydFRpbWUgPSBudWxsO1xuXG5cdFx0aWYgKCFkZWx0YSkgeyByZXR1cm47IH1cblxuXHRcdGlmIChtYXAub3B0aW9ucy5zY3JvbGxXaGVlbFpvb20gPT09ICdjZW50ZXInKSB7XG5cdFx0XHRtYXAuc2V0Wm9vbSh6b29tICsgZGVsdGEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXAuc2V0Wm9vbUFyb3VuZCh0aGlzLl9sYXN0TW91c2VQb3MsIHpvb20gKyBkZWx0YSk7XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gQHNlY3Rpb24gSGFuZGxlcnNcbi8vIEBwcm9wZXJ0eSBzY3JvbGxXaGVlbFpvb206IEhhbmRsZXJcbi8vIFNjcm9sbCB3aGVlbCB6b29tIGhhbmRsZXIuXG5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnc2Nyb2xsV2hlZWxab29tJywgU2Nyb2xsV2hlZWxab29tKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi4vTWFwJztcbmltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uLy4uL2RvbS9Eb21FdmVudCc7XG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi8uLi9jb3JlL0Jyb3dzZXInO1xuXG4vKlxuICogTC5NYXAuVGFwSG9sZCBpcyB1c2VkIHRvIHNpbXVsYXRlIGBjb250ZXh0bWVudWAgZXZlbnQgb24gbG9uZyBob2xkLFxuICogd2hpY2ggb3RoZXJ3aXNlIGlzIG5vdCBmaXJlZCBieSBtb2JpbGUgU2FmYXJpLlxuICovXG5cbnZhciB0YXBIb2xkRGVsYXkgPSA2MDA7XG5cbi8vIEBuYW1lc3BhY2UgTWFwXG4vLyBAc2VjdGlvbiBJbnRlcmFjdGlvbiBPcHRpb25zXG5NYXAubWVyZ2VPcHRpb25zKHtcblx0Ly8gQHNlY3Rpb24gVG91Y2ggaW50ZXJhY3Rpb24gb3B0aW9uc1xuXHQvLyBAb3B0aW9uIHRhcEhvbGQ6IEJvb2xlYW5cblx0Ly8gRW5hYmxlcyBzaW11bGF0aW9uIG9mIGBjb250ZXh0bWVudWAgZXZlbnQsIGRlZmF1bHQgaXMgYHRydWVgIGZvciBtb2JpbGUgU2FmYXJpLlxuXHR0YXBIb2xkOiBCcm93c2VyLnRvdWNoTmF0aXZlICYmIEJyb3dzZXIuc2FmYXJpICYmIEJyb3dzZXIubW9iaWxlLFxuXG5cdC8vIEBvcHRpb24gdGFwVG9sZXJhbmNlOiBOdW1iZXIgPSAxNVxuXHQvLyBUaGUgbWF4IG51bWJlciBvZiBwaXhlbHMgYSB1c2VyIGNhbiBzaGlmdCBoaXMgZmluZ2VyIGR1cmluZyB0b3VjaFxuXHQvLyBmb3IgaXQgdG8gYmUgY29uc2lkZXJlZCBhIHZhbGlkIHRhcC5cblx0dGFwVG9sZXJhbmNlOiAxNVxufSk7XG5cbmV4cG9ydCB2YXIgVGFwSG9sZCA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0YWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHREb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vbkRvd24sIHRoaXMpO1xuXHR9LFxuXG5cdHJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0RG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCAndG91Y2hzdGFydCcsIHRoaXMuX29uRG93biwgdGhpcyk7XG5cdH0sXG5cblx0X29uRG93bjogZnVuY3Rpb24gKGUpIHtcblx0XHRjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpO1xuXHRcdGlmIChlLnRvdWNoZXMubGVuZ3RoICE9PSAxKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIGZpcnN0ID0gZS50b3VjaGVzWzBdO1xuXHRcdHRoaXMuX3N0YXJ0UG9zID0gdGhpcy5fbmV3UG9zID0gbmV3IFBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpO1xuXG5cdFx0dGhpcy5faG9sZFRpbWVvdXQgPSBzZXRUaW1lb3V0KFV0aWwuYmluZChmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl9jYW5jZWwoKTtcblx0XHRcdGlmICghdGhpcy5faXNUYXBWYWxpZCgpKSB7IHJldHVybjsgfVxuXG5cdFx0XHQvLyBwcmV2ZW50IHNpbXVsYXRlZCBtb3VzZSBldmVudHMgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3RvdWNoLWV2ZW50cy8jbW91c2UtZXZlbnRzXG5cdFx0XHREb21FdmVudC5vbihkb2N1bWVudCwgJ3RvdWNoZW5kJywgRG9tRXZlbnQucHJldmVudERlZmF1bHQpO1xuXHRcdFx0RG9tRXZlbnQub24oZG9jdW1lbnQsICd0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIHRoaXMuX2NhbmNlbENsaWNrUHJldmVudCk7XG5cdFx0XHR0aGlzLl9zaW11bGF0ZUV2ZW50KCdjb250ZXh0bWVudScsIGZpcnN0KTtcblx0XHR9LCB0aGlzKSwgdGFwSG9sZERlbGF5KTtcblxuXHRcdERvbUV2ZW50Lm9uKGRvY3VtZW50LCAndG91Y2hlbmQgdG91Y2hjYW5jZWwgY29udGV4dG1lbnUnLCB0aGlzLl9jYW5jZWwsIHRoaXMpO1xuXHRcdERvbUV2ZW50Lm9uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlLCB0aGlzKTtcblx0fSxcblxuXHRfY2FuY2VsQ2xpY2tQcmV2ZW50OiBmdW5jdGlvbiBjYW5jZWxDbGlja1ByZXZlbnQoKSB7XG5cdFx0RG9tRXZlbnQub2ZmKGRvY3VtZW50LCAndG91Y2hlbmQnLCBEb21FdmVudC5wcmV2ZW50RGVmYXVsdCk7XG5cdFx0RG9tRXZlbnQub2ZmKGRvY3VtZW50LCAndG91Y2hlbmQgdG91Y2hjYW5jZWwnLCBjYW5jZWxDbGlja1ByZXZlbnQpO1xuXHR9LFxuXG5cdF9jYW5jZWw6IGZ1bmN0aW9uICgpIHtcblx0XHRjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpO1xuXHRcdERvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ3RvdWNoZW5kIHRvdWNoY2FuY2VsIGNvbnRleHRtZW51JywgdGhpcy5fY2FuY2VsLCB0aGlzKTtcblx0XHREb21FdmVudC5vZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUsIHRoaXMpO1xuXHR9LFxuXG5cdF9vbk1vdmU6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIGZpcnN0ID0gZS50b3VjaGVzWzBdO1xuXHRcdHRoaXMuX25ld1BvcyA9IG5ldyBQb2ludChmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZKTtcblx0fSxcblxuXHRfaXNUYXBWYWxpZDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9uZXdQb3MuZGlzdGFuY2VUbyh0aGlzLl9zdGFydFBvcykgPD0gdGhpcy5fbWFwLm9wdGlvbnMudGFwVG9sZXJhbmNlO1xuXHR9LFxuXG5cdF9zaW11bGF0ZUV2ZW50OiBmdW5jdGlvbiAodHlwZSwgZSkge1xuXHRcdHZhciBzaW11bGF0ZWRFdmVudCA9IG5ldyBNb3VzZUV2ZW50KHR5cGUsIHtcblx0XHRcdGJ1YmJsZXM6IHRydWUsXG5cdFx0XHRjYW5jZWxhYmxlOiB0cnVlLFxuXHRcdFx0dmlldzogd2luZG93LFxuXHRcdFx0Ly8gZGV0YWlsOiAxLFxuXHRcdFx0c2NyZWVuWDogZS5zY3JlZW5YLFxuXHRcdFx0c2NyZWVuWTogZS5zY3JlZW5ZLFxuXHRcdFx0Y2xpZW50WDogZS5jbGllbnRYLFxuXHRcdFx0Y2xpZW50WTogZS5jbGllbnRZLFxuXHRcdFx0Ly8gYnV0dG9uOiAyLFxuXHRcdFx0Ly8gYnV0dG9uczogMlxuXHRcdH0pO1xuXG5cdFx0c2ltdWxhdGVkRXZlbnQuX3NpbXVsYXRlZCA9IHRydWU7XG5cblx0XHRlLnRhcmdldC5kaXNwYXRjaEV2ZW50KHNpbXVsYXRlZEV2ZW50KTtcblx0fVxufSk7XG5cbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkgdGFwSG9sZDogSGFuZGxlclxuLy8gTG9uZyB0YXAgaGFuZGxlciB0byBzaW11bGF0ZSBgY29udGV4dG1lbnVgIGV2ZW50ICh1c2VmdWwgaW4gbW9iaWxlIFNhZmFyaSkuXG5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAndGFwSG9sZCcsIFRhcEhvbGQpO1xuIiwgImltcG9ydCB7TWFwfSBmcm9tICcuLi9NYXAnO1xuaW1wb3J0IHtIYW5kbGVyfSBmcm9tICcuLi8uLi9jb3JlL0hhbmRsZXInO1xuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vLi4vZG9tL0RvbUV2ZW50JztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vLi4vZG9tL0RvbVV0aWwnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcblxuLypcbiAqIEwuSGFuZGxlci5Ub3VjaFpvb20gaXMgdXNlZCBieSBMLk1hcCB0byBhZGQgcGluY2ggem9vbSBvbiBzdXBwb3J0ZWQgbW9iaWxlIGJyb3dzZXJzLlxuICovXG5cbi8vIEBuYW1lc3BhY2UgTWFwXG4vLyBAc2VjdGlvbiBJbnRlcmFjdGlvbiBPcHRpb25zXG5NYXAubWVyZ2VPcHRpb25zKHtcblx0Ly8gQHNlY3Rpb24gVG91Y2ggaW50ZXJhY3Rpb24gb3B0aW9uc1xuXHQvLyBAb3B0aW9uIHRvdWNoWm9vbTogQm9vbGVhbnxTdHJpbmcgPSAqXG5cdC8vIFdoZXRoZXIgdGhlIG1hcCBjYW4gYmUgem9vbWVkIGJ5IHRvdWNoLWRyYWdnaW5nIHdpdGggdHdvIGZpbmdlcnMuIElmXG5cdC8vIHBhc3NlZCBgJ2NlbnRlcidgLCBpdCB3aWxsIHpvb20gdG8gdGhlIGNlbnRlciBvZiB0aGUgdmlldyByZWdhcmRsZXNzIG9mXG5cdC8vIHdoZXJlIHRoZSB0b3VjaCBldmVudHMgKGZpbmdlcnMpIHdlcmUuIEVuYWJsZWQgZm9yIHRvdWNoLWNhcGFibGUgd2ViXG5cdC8vIGJyb3dzZXJzLlxuXHR0b3VjaFpvb206IEJyb3dzZXIudG91Y2gsXG5cblx0Ly8gQG9wdGlvbiBib3VuY2VBdFpvb21MaW1pdHM6IEJvb2xlYW4gPSB0cnVlXG5cdC8vIFNldCBpdCB0byBmYWxzZSBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgbWFwIHRvIHpvb20gYmV5b25kIG1pbi9tYXggem9vbVxuXHQvLyBhbmQgdGhlbiBib3VuY2UgYmFjayB3aGVuIHBpbmNoLXpvb21pbmcuXG5cdGJvdW5jZUF0Wm9vbUxpbWl0czogdHJ1ZVxufSk7XG5cbmV4cG9ydCB2YXIgVG91Y2hab29tID0gSGFuZGxlci5leHRlbmQoe1xuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFwLl9jb250YWluZXIsICdsZWFmbGV0LXRvdWNoLXpvb20nKTtcblx0XHREb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRvdWNoU3RhcnQsIHRoaXMpO1xuXHR9LFxuXG5cdHJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ2xlYWZsZXQtdG91Y2gtem9vbScpO1xuXHRcdERvbUV2ZW50Lm9mZih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRvdWNoU3RhcnQsIHRoaXMpO1xuXHR9LFxuXG5cdF9vblRvdWNoU3RhcnQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcDtcblx0XHRpZiAoIWUudG91Y2hlcyB8fCBlLnRvdWNoZXMubGVuZ3RoICE9PSAyIHx8IG1hcC5fYW5pbWF0aW5nWm9vbSB8fCB0aGlzLl96b29taW5nKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIHAxID0gbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUudG91Y2hlc1swXSksXG5cdFx0ICAgIHAyID0gbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUudG91Y2hlc1sxXSk7XG5cblx0XHR0aGlzLl9jZW50ZXJQb2ludCA9IG1hcC5nZXRTaXplKCkuX2RpdmlkZUJ5KDIpO1xuXHRcdHRoaXMuX3N0YXJ0TGF0TG5nID0gbWFwLmNvbnRhaW5lclBvaW50VG9MYXRMbmcodGhpcy5fY2VudGVyUG9pbnQpO1xuXHRcdGlmIChtYXAub3B0aW9ucy50b3VjaFpvb20gIT09ICdjZW50ZXInKSB7XG5cdFx0XHR0aGlzLl9waW5jaFN0YXJ0TGF0TG5nID0gbWFwLmNvbnRhaW5lclBvaW50VG9MYXRMbmcocDEuYWRkKHAyKS5fZGl2aWRlQnkoMikpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N0YXJ0RGlzdCA9IHAxLmRpc3RhbmNlVG8ocDIpO1xuXHRcdHRoaXMuX3N0YXJ0Wm9vbSA9IG1hcC5nZXRab29tKCk7XG5cblx0XHR0aGlzLl9tb3ZlZCA9IGZhbHNlO1xuXHRcdHRoaXMuX3pvb21pbmcgPSB0cnVlO1xuXG5cdFx0bWFwLl9zdG9wKCk7XG5cblx0XHREb21FdmVudC5vbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlLCB0aGlzKTtcblx0XHREb21FdmVudC5vbihkb2N1bWVudCwgJ3RvdWNoZW5kIHRvdWNoY2FuY2VsJywgdGhpcy5fb25Ub3VjaEVuZCwgdGhpcyk7XG5cblx0XHREb21FdmVudC5wcmV2ZW50RGVmYXVsdChlKTtcblx0fSxcblxuXHRfb25Ub3VjaE1vdmU6IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKCFlLnRvdWNoZXMgfHwgZS50b3VjaGVzLmxlbmd0aCAhPT0gMiB8fCAhdGhpcy5fem9vbWluZykgeyByZXR1cm47IH1cblxuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIHAxID0gbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUudG91Y2hlc1swXSksXG5cdFx0ICAgIHAyID0gbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUudG91Y2hlc1sxXSksXG5cdFx0ICAgIHNjYWxlID0gcDEuZGlzdGFuY2VUbyhwMikgLyB0aGlzLl9zdGFydERpc3Q7XG5cblx0XHR0aGlzLl96b29tID0gbWFwLmdldFNjYWxlWm9vbShzY2FsZSwgdGhpcy5fc3RhcnRab29tKTtcblxuXHRcdGlmICghbWFwLm9wdGlvbnMuYm91bmNlQXRab29tTGltaXRzICYmIChcblx0XHRcdCh0aGlzLl96b29tIDwgbWFwLmdldE1pblpvb20oKSAmJiBzY2FsZSA8IDEpIHx8XG5cdFx0XHQodGhpcy5fem9vbSA+IG1hcC5nZXRNYXhab29tKCkgJiYgc2NhbGUgPiAxKSkpIHtcblx0XHRcdHRoaXMuX3pvb20gPSBtYXAuX2xpbWl0Wm9vbSh0aGlzLl96b29tKTtcblx0XHR9XG5cblx0XHRpZiAobWFwLm9wdGlvbnMudG91Y2hab29tID09PSAnY2VudGVyJykge1xuXHRcdFx0dGhpcy5fY2VudGVyID0gdGhpcy5fc3RhcnRMYXRMbmc7XG5cdFx0XHRpZiAoc2NhbGUgPT09IDEpIHsgcmV0dXJuOyB9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdldCBkZWx0YSBmcm9tIHBpbmNoIHRvIGNlbnRlciwgc28gY2VudGVyTGF0TG5nIGlzIGRlbHRhIGFwcGxpZWQgdG8gaW5pdGlhbCBwaW5jaExhdExuZ1xuXHRcdFx0dmFyIGRlbHRhID0gcDEuX2FkZChwMikuX2RpdmlkZUJ5KDIpLl9zdWJ0cmFjdCh0aGlzLl9jZW50ZXJQb2ludCk7XG5cdFx0XHRpZiAoc2NhbGUgPT09IDEgJiYgZGVsdGEueCA9PT0gMCAmJiBkZWx0YS55ID09PSAwKSB7IHJldHVybjsgfVxuXHRcdFx0dGhpcy5fY2VudGVyID0gbWFwLnVucHJvamVjdChtYXAucHJvamVjdCh0aGlzLl9waW5jaFN0YXJ0TGF0TG5nLCB0aGlzLl96b29tKS5zdWJ0cmFjdChkZWx0YSksIHRoaXMuX3pvb20pO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5fbW92ZWQpIHtcblx0XHRcdG1hcC5fbW92ZVN0YXJ0KHRydWUsIGZhbHNlKTtcblx0XHRcdHRoaXMuX21vdmVkID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRVdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltUmVxdWVzdCk7XG5cblx0XHR2YXIgbW92ZUZuID0gVXRpbC5iaW5kKG1hcC5fbW92ZSwgbWFwLCB0aGlzLl9jZW50ZXIsIHRoaXMuX3pvb20sIHtwaW5jaDogdHJ1ZSwgcm91bmQ6IGZhbHNlfSwgdW5kZWZpbmVkKTtcblx0XHR0aGlzLl9hbmltUmVxdWVzdCA9IFV0aWwucmVxdWVzdEFuaW1GcmFtZShtb3ZlRm4sIHRoaXMsIHRydWUpO1xuXG5cdFx0RG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XG5cdH0sXG5cblx0X29uVG91Y2hFbmQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX21vdmVkIHx8ICF0aGlzLl96b29taW5nKSB7XG5cdFx0XHR0aGlzLl96b29taW5nID0gZmFsc2U7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fem9vbWluZyA9IGZhbHNlO1xuXHRcdFV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KTtcblxuXHRcdERvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlLCB0aGlzKTtcblx0XHREb21FdmVudC5vZmYoZG9jdW1lbnQsICd0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIHRoaXMuX29uVG91Y2hFbmQsIHRoaXMpO1xuXG5cdFx0Ly8gUGluY2ggdXBkYXRlcyBHcmlkTGF5ZXJzJyBsZXZlbHMgb25seSB3aGVuIHpvb21TbmFwIGlzIG9mZiwgc28gem9vbVNuYXAgYmVjb21lcyBub1VwZGF0ZS5cblx0XHRpZiAodGhpcy5fbWFwLm9wdGlvbnMuem9vbUFuaW1hdGlvbikge1xuXHRcdFx0dGhpcy5fbWFwLl9hbmltYXRlWm9vbSh0aGlzLl9jZW50ZXIsIHRoaXMuX21hcC5fbGltaXRab29tKHRoaXMuX3pvb20pLCB0cnVlLCB0aGlzLl9tYXAub3B0aW9ucy56b29tU25hcCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX21hcC5fcmVzZXRWaWV3KHRoaXMuX2NlbnRlciwgdGhpcy5fbWFwLl9saW1pdFpvb20odGhpcy5fem9vbSkpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkgdG91Y2hab29tOiBIYW5kbGVyXG4vLyBUb3VjaCB6b29tIGhhbmRsZXIuXG5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAndG91Y2hab29tJywgVG91Y2hab29tKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi9NYXAnO1xuaW1wb3J0IHtCb3hab29tfSBmcm9tICcuL2hhbmRsZXIvTWFwLkJveFpvb20nO1xuTWFwLkJveFpvb20gPSBCb3hab29tO1xuaW1wb3J0IHtEb3VibGVDbGlja1pvb219IGZyb20gJy4vaGFuZGxlci9NYXAuRG91YmxlQ2xpY2tab29tJztcbk1hcC5Eb3VibGVDbGlja1pvb20gPSBEb3VibGVDbGlja1pvb207XG5pbXBvcnQge0RyYWd9IGZyb20gJy4vaGFuZGxlci9NYXAuRHJhZyc7XG5NYXAuRHJhZyA9IERyYWc7XG5pbXBvcnQge0tleWJvYXJkfSBmcm9tICcuL2hhbmRsZXIvTWFwLktleWJvYXJkJztcbk1hcC5LZXlib2FyZCA9IEtleWJvYXJkO1xuaW1wb3J0IHtTY3JvbGxXaGVlbFpvb219IGZyb20gJy4vaGFuZGxlci9NYXAuU2Nyb2xsV2hlZWxab29tJztcbk1hcC5TY3JvbGxXaGVlbFpvb20gPSBTY3JvbGxXaGVlbFpvb207XG5pbXBvcnQge1RhcEhvbGR9IGZyb20gJy4vaGFuZGxlci9NYXAuVGFwSG9sZCc7XG5NYXAuVGFwSG9sZCA9IFRhcEhvbGQ7XG5pbXBvcnQge1RvdWNoWm9vbX0gZnJvbSAnLi9oYW5kbGVyL01hcC5Ub3VjaFpvb20nO1xuTWFwLlRvdWNoWm9vbSA9IFRvdWNoWm9vbTtcblxuZXhwb3J0IHtNYXAsIGNyZWF0ZU1hcCBhcyBtYXB9IGZyb20gJy4vTWFwJztcbiIsICJpbXBvcnQgKiBhcyBMRiBmcm9tICdsZWFmbGV0JztcbmltcG9ydCAnbGVhZmxldC1mdWxsc2NyZWVuJztcbmltcG9ydCBcIkBnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZVwiO1xuXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gICAgY29uc3QgbWFwUGlja2VyID0gKCR3aXJlLCBjb25maWcsIHN0YXRlKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXA6IG51bGwsXG4gICAgICAgICAgICB0aWxlOiBudWxsLFxuICAgICAgICAgICAgbWFya2VyOiBudWxsLFxuICAgICAgICAgICAgcmFuZ2VDaXJjbGU6IG51bGwsXG4gICAgICAgICAgICBkcmF3SXRlbXM6IG51bGwsXG4gICAgICAgICAgICByYW5nZVNlbGVjdEZpZWxkOiBudWxsLFxuICAgICAgICAgICAgZm9ybVJlc3RvcmF0aW9uSGlkZGVuSW5wdXQ6bnVsbCxcblxuICAgICAgICAgICAgY3JlYXRlTWFwOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMubWFwID0gTEYubWFwKGVsLCBjb25maWcuY29udHJvbHMpO1xuXG5cbiAgICAgICAgICAgICAgICBpZihjb25maWcuYm91bmRzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNvdXRoV2VzdCA9IExGLmxhdExuZyhjb25maWcuYm91bmRzLnN3LmxhdCwgY29uZmlnLmJvdW5kcy5zdy5sbmcpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbm9ydGhFYXN0ID0gTEYubGF0TG5nKGNvbmZpZy5ib3VuZHMubmUubGF0LCBjb25maWcuYm91bmRzLm5lLmxuZyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBib3VuZHMgPSBMRi5sYXRMbmdCb3VuZHMoc291dGhXZXN0LCBub3J0aEVhc3QpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXRNYXhCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKGJvdW5kcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLm9uKCdkcmFnJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAucGFuSW5zaWRlQm91bmRzKGJvdW5kcywgeyBhbmltYXRlOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubWFwLm9uKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMubWFwLmludmFsaWRhdGVTaXplKHRydWUpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5zaG93TWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZighY29uZmlnLmNsaWNrYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtlci5zZXRMYXRMbmcodGhpcy5tYXAuZ2V0Q2VudGVyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZy5kcmFnZ2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKGNvbmZpZy5jbGlja2FibGUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnNldENvb3JkaW5hdGVzKGUubGF0bG5nKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudGlsZSA9IExGLnRpbGVMYXllcihjb25maWcudGlsZXNVcmwsIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRpb246IGNvbmZpZy5hdHRyaWJ1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgbWluWm9vbTogY29uZmlnLm1pblpvb20sXG4gICAgICAgICAgICAgICAgICAgIG1heFpvb206IGNvbmZpZy5tYXhab29tLFxuICAgICAgICAgICAgICAgICAgICB0aWxlU2l6ZTogY29uZmlnLnRpbGVTaXplLFxuICAgICAgICAgICAgICAgICAgICB6b29tT2Zmc2V0OiBjb25maWcuem9vbU9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgZGV0ZWN0UmV0aW5hOiBjb25maWcuZGV0ZWN0UmV0aW5hLFxuICAgICAgICAgICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb25maWcuc2hvd01hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXJrZXJDb2xvciA9IGNvbmZpZy5tYXJrZXJDb2xvciB8fCBcIiMzYjgyZjZcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ZnSWNvbiA9IExGLmRpdkljb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzPVwibWFwLWljb25cIiBmaWxsPVwiJHttYXJrZXJDb2xvcn1cIiB3aWR0aD1cIjM2XCIgaGVpZ2h0PVwiMzZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0xMiAwYy00LjE5OCAwLTggMy40MDMtOCA3LjYwMiAwIDQuMTk4IDMuNDY5IDkuMjEgOCAxNi4zOTggNC41MzEtNy4xODggOC0xMi4yIDgtMTYuMzk4IDAtNC4xOTktMy44MDEtNy42MDItOC03LjYwMnptMCAxMWMtMS42NTcgMC0zLTEuMzQzLTMtM3MxLjM0My0zIDMtMyAzIDEuMzQzIDMgMy0xLjM0MyAzLTMgM3pcIi8+PC9zdmc+YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMzYsIDM2XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFsxOCwgMzZdLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJrZXIgPSBMRi5tYXJrZXIodGhpcy5nZXRDb29yZGluYXRlcygpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBzdmdJY29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9QYW46IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE1hcmtlclJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKCFjb25maWcuY2xpY2thYmxlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5vbignbW92ZScsICgpID0+IHRoaXMuc2V0Q29vcmRpbmF0ZXModGhpcy5tYXAuZ2V0Q2VudGVyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCFjb25maWcuY2xpY2thYmxlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ21vdmVlbmQnLCAoKSA9PiBzZXRUaW1lb3V0KCgpID0+IHRoaXMudXBkYXRlTG9jYXRpb24oKSwgNTAwKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ2xvY2F0aW9uZm91bmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQubWFwLnNldFpvb20oY29uZmlnLmNvbnRyb2xzLnpvb20pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbGV0IGxvY2F0aW9uID0gdGhpcy5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgIGlmICghbG9jYXRpb24ubGF0ICYmICFsb2NhdGlvbi5sbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAubG9jYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZpZXc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhab29tOiBjb25maWcuY29udHJvbHMubWF4Wm9vbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KG5ldyBMRi5MYXRMbmcobG9jYXRpb24ubGF0LCBsb2NhdGlvbi5sbmcpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLnNob3dNeUxvY2F0aW9uQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTG9jYXRpb25CdXR0b24oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmxpdmVMb2NhdGlvbi5zZW5kICYmIGNvbmZpZy5saXZlTG9jYXRpb24ucmVhbHRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaEN1cnJlbnRMb2NhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9LCBjb25maWcubGl2ZUxvY2F0aW9uLm1pbGlzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ3pvb21lbmQnLGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0Rm9ybVJlc3RvcmF0aW9uU3RhdGUoZmFsc2UsIHRoYXQubWFwLmdldFpvb20oKSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBHZW9tYW4gc2V0dXBcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmdlb01hbi5zaG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5wbS5hZGRDb250cm9scyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGNvbmZpZy5nZW9NYW4ucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0NpcmNsZU1hcmtlcjogY29uZmlnLmdlb01hbi5kcmF3Q2lyY2xlTWFya2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZU1vZGU6IGNvbmZpZy5nZW9NYW4ucm90YXRlTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3TWFya2VyOiBjb25maWcuZ2VvTWFuLmRyYXdNYXJrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd1BvbHlnb246IGNvbmZpZy5nZW9NYW4uZHJhd1BvbHlnb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd1BvbHlsaW5lOiBjb25maWcuZ2VvTWFuLmRyYXdQb2x5bGluZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3Q2lyY2xlOiBjb25maWcuZ2VvTWFuLmRyYXdDaXJjbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1vZGU6IGNvbmZpZy5nZW9NYW4uZWRpdE1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ01vZGU6IGNvbmZpZy5nZW9NYW4uZHJhZ01vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3V0UG9seWdvbjogY29uZmlnLmdlb01hbi5jdXRQb2x5Z29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRQb2x5Z29uOiBjb25maWcuZ2VvTWFuLmVkaXRQb2x5Z29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxheWVyOiBjb25maWcuZ2VvTWFuLmRlbGV0ZUxheWVyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3SXRlbXMgPSBuZXcgTEYuRmVhdHVyZUdyb3VwKCkuYWRkVG8odGhpcy5tYXApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5vbigncG06Y3JlYXRlJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5sYXllciAmJiBlLmxheWVyLnBtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUubGF5ZXIucG0uZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0l0ZW1zLmFkZExheWVyKGUubGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUdlb0pzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ3BtOmVkaXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVHZW9Kc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ3BtOnJlbW92ZScsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3SXRlbXMucmVtb3ZlTGF5ZXIoZS5sYXllcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlR2VvSnNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgcmVtb3ZhbCBvZiBsYXllcjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIExvYWQgZXhpc3RpbmcgR2VvSlNPTiBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdHZW9Kc29uID0gdGhpcy5nZXRHZW9Kc29uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0dlb0pzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdJdGVtcyA9IExGLmdlb0pTT04oZXhpc3RpbmdHZW9Kc29uLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50VG9MYXllcjogKGZlYXR1cmUsIGxhdGxuZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExGLmNpcmNsZU1hcmtlcihsYXRsbmcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDE1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzMzODhmZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzMzODhmZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBmdW5jdGlvbihmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5nZW9tZXRyeS50eXBlID09PSAnUG9seWdvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29uZmlnLmdlb01hbi5jb2xvciB8fCBcIiMzMzg4ZmZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiBjb25maWcuZ2VvTWFuLmZpbGxlZENvbG9yIHx8ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC40XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogKGZlYXR1cmUsIGxheWVyKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT09ICdQb2x5Z29uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmJpbmRQb3B1cChcIlBvbHlnb24gQXJlYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmVhdHVyZS5nZW9tZXRyeS50eXBlID09PSAnUG9pbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuYmluZFBvcHVwKFwiUG9pbnQgTG9jYXRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5nZW9NYW4uZWRpdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5nZW9tZXRyeS50eXBlID09PSAnUG9seWdvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIucG0uZW5hYmxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93U2VsZkludGVyc2VjdGlvbjogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT09ICdQb2ludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIucG0uZW5hYmxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLm9uKCdwbTplZGl0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlR2VvSnNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb25maWcuZ2VvTWFuLmVkaXRhYmxlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5hYmxlIGVkaXRpbmcgZm9yIGVhY2ggbGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3SXRlbXMuZWFjaExheWVyKGxheWVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLnBtLmVuYWJsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dTZWxmSW50ZXJzZWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5maXRCb3VuZHModGhpcy5kcmF3SXRlbXMuZ2V0Qm91bmRzKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbml0Rm9ybVJlc3RvcmF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JtUmVzdG9yYXRpb25IaWRkZW5JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZy5zdGF0ZVBhdGgrJ19mbXJlc3QnKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VzaG93XCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsZWQgYWZ0ZXIgZm9ybSByZXN0b3JhdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyB0cnVlIGlmIHBhZ2UgbG9hZGVkIGZyb20gc2Vzc2lvblxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdG9yZWRTdGF0ZSA9IHRoaXMuZ2V0Rm9ybVJlc3RvcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzdG9yZWRTdGF0ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29vcmRzID0gbmV3IExGLkxhdExuZyhyZXN0b3JlZFN0YXRlLmxhdCwgcmVzdG9yZWRTdGF0ZS5sbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnpvb20gPSByZXN0b3JlZFN0YXRlLnpvb207XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuY29udHJvbHMuem9vbT1yZXN0b3JlZFN0YXRlLnpvb207XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENvb3JkaW5hdGVzKGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldEZvcm1SZXN0b3JhdGlvblN0YXRlOiBmdW5jdGlvbiAoY29vcmRzLHpvb20gKSB7XG4gICAgICAgICAgICAgICAgaWYoIWNvb3JkcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvb3Jkcz10aGlzLmdldEZvcm1SZXN0b3JhdGlvblN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKCFjb29yZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3Jkcz10aGlzLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodGhpcy5tYXApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZighem9vbSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzLnpvb209dGhpcy5tYXAuZ2V0Wm9vbSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzLnpvb209em9vbTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmZvcm1SZXN0b3JhdGlvbkhpZGRlbklucHV0LnZhbHVlPUpTT04uc3RyaW5naWZ5KGNvb3Jkcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Rm9ybVJlc3RvcmF0aW9uU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmZvcm1SZXN0b3JhdGlvbkhpZGRlbklucHV0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmZvcm1SZXN0b3JhdGlvbkhpZGRlbklucHV0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlR2VvSnNvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VvSnNvbkRhdGEgPSB0aGlzLmRyYXdJdGVtcy50b0dlb0pTT04oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBnZW9Kc29uRGF0YSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJHZW9KU09OIGRhdGEgaXMgbm90IGFuIG9iamVjdDpcIiwgZ2VvSnNvbkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICR3aXJlLnNldChjb25maWcuc3RhdGVQYXRoLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4kd2lyZS5nZXQoY29uZmlnLnN0YXRlUGF0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9qc29uOiBnZW9Kc29uRGF0YVxuICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBHZW9KU09OOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0R2VvSnNvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSAkd2lyZS5nZXQoY29uZmlnLnN0YXRlUGF0aCkgPz8ge307XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmdlb2pzb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlTG9jYXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxldCBvbGRDb29yZGluYXRlcyA9IHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudENvb3JkaW5hdGVzID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XG4gICAgICAgICAgICAgICAgaWYoY29uZmlnLmNsaWNrYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENvb3JkaW5hdGVzID0gdGhpcy5tYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAob2xkQ29vcmRpbmF0ZXMubG5nICE9PSBjdXJyZW50Q29vcmRpbmF0ZXMubG5nIHx8IG9sZENvb3JkaW5hdGVzLmxhdCAhPT0gY3VycmVudENvb3JkaW5hdGVzLmxhdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENvb3JkaW5hdGVzKGN1cnJlbnRDb29yZGluYXRlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcmVtb3ZlTWFwOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJrZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFya2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50aWxlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudGlsZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAub2ZmKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAgPSBudWxsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0Q29vcmRpbmF0ZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgbG9jYXRpb24gPSAkd2lyZS5nZXQoY29uZmlnLnN0YXRlUGF0aCkgID8/IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc1ZhbGlkQ29vcmRpbmF0ZXMgPSBsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eSgnbGF0JykgJiYgbG9jYXRpb24uaGFzT3duUHJvcGVydHkoJ2xuZycpICYmXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmxhdCAhPT0gbnVsbCAmJiBsb2NhdGlvbi5sbmcgIT09IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWhhc1ZhbGlkQ29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IGNvbmZpZy5kZWZhdWx0LmxhdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogY29uZmlnLmRlZmF1bHQubG5nXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2F0aW9uO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc2V0Q29vcmRpbmF0ZXM6IGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEZvcm1SZXN0b3JhdGlvblN0YXRlKGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgJHdpcmUuc2V0KGNvbmZpZy5zdGF0ZVBhdGgsIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uJHdpcmUuZ2V0KGNvbmZpZy5zdGF0ZVBhdGgpLFxuICAgICAgICAgICAgICAgICAgICBsYXQ6IGNvb3Jkcy5sYXQsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogY29vcmRzLmxuZ1xuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb25maWcubGl2ZUxvY2F0aW9uLnNlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgJHdpcmUuJHJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29vcmRzO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYXR0YWNoOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU1hcChlbCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1hcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVNYXAoZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU1hcChlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcm9vdE1hcmdpbjogJzBweCcsXG4gICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogMS4wXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBmZXRjaEN1cnJlbnRMb2NhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgnZ2VvbG9jYXRpb24nIGluIG5hdmlnYXRvcikge1xuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGFzeW5jIHBvc2l0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IG5ldyBMRi5MYXRMbmcocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubWFwLmZseVRvKGN1cnJlbnRQb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTG9jYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTWFya2VyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1cnJlbnQgbG9jYXRpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgnR2VvbG9jYXRpb24gaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYWRkTG9jYXRpb25CdXR0b246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgbG9jYXRpb25CdXR0b24uaW5uZXJIVE1MID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIj48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0xMiAwQzguMjUgMCA1IDMuMjUgNSA3YzAgNS4yNSA3IDEzIDcgMTNzNy03Ljc1IDctMTNjMC0zLjc1LTMuMjUtNy03LTd6bTAgMTBjLTEuNjYgMC0zLTEuMzQtMy0zczEuMzQtMyAzLTMgMyAxLjM0IDMgMy0xLjM0IDMtMyAzem0wLTVjLTEuMTEgMC0yIC44OS0yIDJzLjg5IDIgMiAyIDItLjg5IDItMi0uODktMi0yLTJ6XCIvPjwvc3ZnPic7XG4gICAgICAgICAgICAgICAgbG9jYXRpb25CdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcC1sb2NhdGlvbi1idXR0b24nKTtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbkJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5mZXRjaEN1cnJlbnRMb2NhdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLmdldENvbnRhaW5lcigpLmFwcGVuZENoaWxkKGxvY2F0aW9uQnV0dG9uKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHNldE1hcmtlclJhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYoY29uZmlnLmNsaWNrYWJsZSAmJiAhdGhpcy5tYXJrZXIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgICAgICAgICAgaWYoIXRoaXMucmFuZ2VTZWxlY3RGaWVsZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZT1wYXJzZUludCh0aGlzLnJhbmdlU2VsZWN0RmllbGQudmFsdWUgfHwgMCApIDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yYW5nZUNpcmNsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmdlQ2lyY2xlLnNldExhdExuZyh0aGlzLmdldENvb3JkaW5hdGVzKCkpLnNldFJhZGl1cyhkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYW5nZUNpcmNsZSA9IExGLmNpcmNsZSh0aGlzLmdldENvb3JkaW5hdGVzKCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjZjAzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IGRpc3RhbmNlIC8vIFRoZSByYWRpdXMgaW4gbWV0ZXJzXG4gICAgICAgICAgICAgICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR3aXJlID0gJHdpcmU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VTZWxlY3RGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZy5yYW5nZVNlbGVjdEZpZWxkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRGb3JtUmVzdG9yYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIGxldCB0aGF0PXRoaXNcbiAgICAgICAgICAgICAgICBpZih0aGlzLnJhbmdlU2VsZWN0RmllbGQpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmdlU2VsZWN0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge3RoYXQudXBkYXRlTWFya2VyKCk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkd2lyZS5vbigncmVmcmVzaE1hcCcsIHRoaXMucmVmcmVzaE1hcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHVwZGF0ZU1hcmtlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5zaG93TWFya2VyICYmIHRoaXMubWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFya2VyLnNldExhdExuZyh0aGlzLmdldENvb3JkaW5hdGVzKCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE1hcmtlclJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy51cGRhdGVMb2NhdGlvbigpLCA1MDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHJlZnJlc2hNYXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLmZseVRvKHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgd2luZG93Lm1hcFBpY2tlciA9IG1hcFBpY2tlcjtcblxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbWFwLXNjcmlwdC1sb2FkZWQnKSk7XG59KTtcbiIsICJMLkNvbnRyb2wuRnVsbHNjcmVlbiA9IEwuQ29udHJvbC5leHRlbmQoe1xuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgcG9zaXRpb246ICd0b3BsZWZ0JyxcbiAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICAgICdmYWxzZSc6ICdWaWV3IEZ1bGxzY3JlZW4nLFxuICAgICAgICAgICAgJ3RydWUnOiAnRXhpdCBGdWxsc2NyZWVuJ1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC1jb250cm9sLWZ1bGxzY3JlZW4gbGVhZmxldC1iYXIgbGVhZmxldC1jb250cm9sJyk7XG5cbiAgICAgICAgdGhpcy5saW5rID0gTC5Eb21VdGlsLmNyZWF0ZSgnYScsICdsZWFmbGV0LWNvbnRyb2wtZnVsbHNjcmVlbi1idXR0b24gbGVhZmxldC1iYXItcGFydCcsIGNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMubGluay5ocmVmID0gJyMnO1xuXG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fbWFwLm9uKCdmdWxsc2NyZWVuY2hhbmdlJywgdGhpcy5fdG9nZ2xlVGl0bGUsIHRoaXMpO1xuICAgICAgICB0aGlzLl90b2dnbGVUaXRsZSgpO1xuXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy5saW5rLCAnY2xpY2snLCB0aGlzLl9jbGljaywgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9LFxuXG4gICAgX2NsaWNrOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbihlKTtcbiAgICAgICAgTC5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgdGhpcy5fbWFwLnRvZ2dsZUZ1bGxzY3JlZW4odGhpcy5vcHRpb25zKTtcbiAgICB9LFxuXG4gICAgX3RvZ2dsZVRpdGxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5saW5rLnRpdGxlID0gdGhpcy5vcHRpb25zLnRpdGxlW3RoaXMuX21hcC5pc0Z1bGxzY3JlZW4oKV07XG4gICAgfVxufSk7XG5cbkwuTWFwLmluY2x1ZGUoe1xuICAgIGlzRnVsbHNjcmVlbjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNGdWxsc2NyZWVuIHx8IGZhbHNlO1xuICAgIH0sXG5cbiAgICB0b2dnbGVGdWxsc2NyZWVuOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5nZXRDb250YWluZXIoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNGdWxsc2NyZWVuKCkpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucHNldWRvRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVQc2V1ZG9GdWxsc2NyZWVuKGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzYWJsZVBzZXVkb0Z1bGxzY3JlZW4oY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucHNldWRvRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZVBzZXVkb0Z1bGxzY3JlZW4oY29udGFpbmVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oRWxlbWVudC5BTExPV19LRVlCT0FSRF9JTlBVVCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlUHNldWRvRnVsbHNjcmVlbihjb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFxuXG4gICAgX2VuYWJsZVBzZXVkb0Z1bGxzY3JlZW46IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtcHNldWRvLWZ1bGxzY3JlZW4nKTtcbiAgICAgICAgdGhpcy5fc2V0RnVsbHNjcmVlbih0cnVlKTtcbiAgICAgICAgdGhpcy5maXJlKCdmdWxsc2NyZWVuY2hhbmdlJyk7XG4gICAgfSxcblxuICAgIF9kaXNhYmxlUHNldWRvRnVsbHNjcmVlbjogZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3MoY29udGFpbmVyLCAnbGVhZmxldC1wc2V1ZG8tZnVsbHNjcmVlbicpO1xuICAgICAgICB0aGlzLl9zZXRGdWxsc2NyZWVuKGZhbHNlKTtcbiAgICAgICAgdGhpcy5maXJlKCdmdWxsc2NyZWVuY2hhbmdlJyk7XG4gICAgfSxcblxuICAgIF9zZXRGdWxsc2NyZWVuOiBmdW5jdGlvbihmdWxsc2NyZWVuKSB7XG4gICAgICAgIHRoaXMuX2lzRnVsbHNjcmVlbiA9IGZ1bGxzY3JlZW47XG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmdldENvbnRhaW5lcigpO1xuICAgICAgICBpZiAoZnVsbHNjcmVlbikge1xuICAgICAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtZnVsbHNjcmVlbi1vbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtZnVsbHNjcmVlbi1vbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZVNpemUoKTtcbiAgICB9LFxuXG4gICAgX29uRnVsbHNjcmVlbkNoYW5nZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGZ1bGxzY3JlZW5FbGVtZW50ID1cbiAgICAgICAgICAgIGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAgICAgICBkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgfHxcbiAgICAgICAgICAgIGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKGZ1bGxzY3JlZW5FbGVtZW50ID09PSB0aGlzLmdldENvbnRhaW5lcigpICYmICF0aGlzLl9pc0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEZ1bGxzY3JlZW4odHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ2Z1bGxzY3JlZW5jaGFuZ2UnKTtcbiAgICAgICAgfSBlbHNlIGlmIChmdWxsc2NyZWVuRWxlbWVudCAhPT0gdGhpcy5nZXRDb250YWluZXIoKSAmJiB0aGlzLl9pc0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEZ1bGxzY3JlZW4oZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5maXJlKCdmdWxsc2NyZWVuY2hhbmdlJyk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuTC5NYXAubWVyZ2VPcHRpb25zKHtcbiAgICBmdWxsc2NyZWVuQ29udHJvbDogZmFsc2Vcbn0pO1xuXG5MLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuQ29udHJvbCkge1xuICAgICAgICB0aGlzLmZ1bGxzY3JlZW5Db250cm9sID0gbmV3IEwuQ29udHJvbC5GdWxsc2NyZWVuKHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuQ29udHJvbCk7XG4gICAgICAgIHRoaXMuYWRkQ29udHJvbCh0aGlzLmZ1bGxzY3JlZW5Db250cm9sKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbHNjcmVlbmNoYW5nZTtcblxuICAgIGlmICgnb25mdWxsc2NyZWVuY2hhbmdlJyBpbiBkb2N1bWVudCkge1xuICAgICAgICBmdWxsc2NyZWVuY2hhbmdlID0gJ2Z1bGxzY3JlZW5jaGFuZ2UnO1xuICAgIH0gZWxzZSBpZiAoJ29ubW96ZnVsbHNjcmVlbmNoYW5nZScgaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgZnVsbHNjcmVlbmNoYW5nZSA9ICdtb3pmdWxsc2NyZWVuY2hhbmdlJztcbiAgICB9IGVsc2UgaWYgKCdvbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnIGluIGRvY3VtZW50KSB7XG4gICAgICAgIGZ1bGxzY3JlZW5jaGFuZ2UgPSAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZSc7XG4gICAgfSBlbHNlIGlmICgnb25tc2Z1bGxzY3JlZW5jaGFuZ2UnIGluIGRvY3VtZW50KSB7XG4gICAgICAgIGZ1bGxzY3JlZW5jaGFuZ2UgPSAnTVNGdWxsc2NyZWVuQ2hhbmdlJztcbiAgICB9XG5cbiAgICBpZiAoZnVsbHNjcmVlbmNoYW5nZSkge1xuICAgICAgICB2YXIgb25GdWxsc2NyZWVuQ2hhbmdlID0gTC5iaW5kKHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy53aGVuUmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgTC5Eb21FdmVudC5vbihkb2N1bWVudCwgZnVsbHNjcmVlbmNoYW5nZSwgb25GdWxsc2NyZWVuQ2hhbmdlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vbigndW5sb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgTC5Eb21FdmVudC5vZmYoZG9jdW1lbnQsIGZ1bGxzY3JlZW5jaGFuZ2UsIG9uRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG5MLmNvbnRyb2wuZnVsbHNjcmVlbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBMLkNvbnRyb2wuRnVsbHNjcmVlbihvcHRpb25zKTtcbn07XG4iLCAiLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZUNsZWFyO1xuIiwgIi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxO1xuIiwgInZhciBlcSA9IHJlcXVpcmUoJy4vZXEnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhc3NvY0luZGV4T2Y7XG4iLCAidmFyIGFzc29jSW5kZXhPZiA9IHJlcXVpcmUoJy4vX2Fzc29jSW5kZXhPZicpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2U7XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlRGVsZXRlO1xuIiwgInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVHZXQ7XG4iLCAidmFyIGFzc29jSW5kZXhPZiA9IHJlcXVpcmUoJy4vX2Fzc29jSW5kZXhPZicpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVIYXM7XG4iLCAidmFyIGFzc29jSW5kZXhPZiA9IHJlcXVpcmUoJy4vX2Fzc29jSW5kZXhPZicpO1xuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlU2V0O1xuIiwgInZhciBsaXN0Q2FjaGVDbGVhciA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZUNsZWFyJyksXG4gICAgbGlzdENhY2hlRGVsZXRlID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlRGVsZXRlJyksXG4gICAgbGlzdENhY2hlR2V0ID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlR2V0JyksXG4gICAgbGlzdENhY2hlSGFzID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlSGFzJyksXG4gICAgbGlzdENhY2hlU2V0ID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlU2V0Jyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxubW9kdWxlLmV4cG9ydHMgPSBMaXN0Q2FjaGU7XG4iLCAidmFyIExpc3RDYWNoZSA9IHJlcXVpcmUoJy4vX0xpc3RDYWNoZScpO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrQ2xlYXI7XG4iLCAiLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrRGVsZXRlO1xuIiwgIi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0dldDtcbiIsICIvKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrSGFzO1xuIiwgIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiIsICJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iLCAidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbDtcbiIsICJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRSYXdUYWc7XG4iLCAiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0VG9TdHJpbmc7XG4iLCAidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcbiIsICIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiIsICJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0Z1bmN0aW9uO1xuIiwgInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcmVKc0RhdGE7XG4iLCAidmFyIGNvcmVKc0RhdGEgPSByZXF1aXJlKCcuL19jb3JlSnNEYXRhJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNNYXNrZWQ7XG4iLCAiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU291cmNlO1xuIiwgInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNNYXNrZWQgPSByZXF1aXJlKCcuL19pc01hc2tlZCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIHRvU291cmNlID0gcmVxdWlyZSgnLi9fdG9Tb3VyY2UnKTtcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNOYXRpdmU7XG4iLCAiLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0VmFsdWU7XG4iLCAidmFyIGJhc2VJc05hdGl2ZSA9IHJlcXVpcmUoJy4vX2Jhc2VJc05hdGl2ZScpLFxuICAgIGdldFZhbHVlID0gcmVxdWlyZSgnLi9fZ2V0VmFsdWUnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXROYXRpdmU7XG4iLCAidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpLFxuICAgIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcDtcbiIsICJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gbmF0aXZlQ3JlYXRlO1xuIiwgInZhciBuYXRpdmVDcmVhdGUgPSByZXF1aXJlKCcuL19uYXRpdmVDcmVhdGUnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaENsZWFyO1xuIiwgIi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaERlbGV0ZTtcbiIsICJ2YXIgbmF0aXZlQ3JlYXRlID0gcmVxdWlyZSgnLi9fbmF0aXZlQ3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoR2V0O1xuIiwgInZhciBuYXRpdmVDcmVhdGUgPSByZXF1aXJlKCcuL19uYXRpdmVDcmVhdGUnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hIYXM7XG4iLCAidmFyIG5hdGl2ZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX25hdGl2ZUNyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoU2V0O1xuIiwgInZhciBoYXNoQ2xlYXIgPSByZXF1aXJlKCcuL19oYXNoQ2xlYXInKSxcbiAgICBoYXNoRGVsZXRlID0gcmVxdWlyZSgnLi9faGFzaERlbGV0ZScpLFxuICAgIGhhc2hHZXQgPSByZXF1aXJlKCcuL19oYXNoR2V0JyksXG4gICAgaGFzaEhhcyA9IHJlcXVpcmUoJy4vX2hhc2hIYXMnKSxcbiAgICBoYXNoU2V0ID0gcmVxdWlyZSgnLi9faGFzaFNldCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxubW9kdWxlLmV4cG9ydHMgPSBIYXNoO1xuIiwgInZhciBIYXNoID0gcmVxdWlyZSgnLi9fSGFzaCcpLFxuICAgIExpc3RDYWNoZSA9IHJlcXVpcmUoJy4vX0xpc3RDYWNoZScpLFxuICAgIE1hcCA9IHJlcXVpcmUoJy4vX01hcCcpO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVDbGVhcjtcbiIsICIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNLZXlhYmxlO1xuIiwgInZhciBpc0tleWFibGUgPSByZXF1aXJlKCcuL19pc0tleWFibGUnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE1hcERhdGE7XG4iLCAidmFyIGdldE1hcERhdGEgPSByZXF1aXJlKCcuL19nZXRNYXBEYXRhJyk7XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlRGVsZXRlO1xuIiwgInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVHZXQ7XG4iLCAidmFyIGdldE1hcERhdGEgPSByZXF1aXJlKCcuL19nZXRNYXBEYXRhJyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVIYXM7XG4iLCAidmFyIGdldE1hcERhdGEgPSByZXF1aXJlKCcuL19nZXRNYXBEYXRhJyk7XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZVNldDtcbiIsICJ2YXIgbWFwQ2FjaGVDbGVhciA9IHJlcXVpcmUoJy4vX21hcENhY2hlQ2xlYXInKSxcbiAgICBtYXBDYWNoZURlbGV0ZSA9IHJlcXVpcmUoJy4vX21hcENhY2hlRGVsZXRlJyksXG4gICAgbWFwQ2FjaGVHZXQgPSByZXF1aXJlKCcuL19tYXBDYWNoZUdldCcpLFxuICAgIG1hcENhY2hlSGFzID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVIYXMnKSxcbiAgICBtYXBDYWNoZVNldCA9IHJlcXVpcmUoJy4vX21hcENhY2hlU2V0Jyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcENhY2hlO1xuIiwgInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBNYXAgPSByZXF1aXJlKCcuL19NYXAnKSxcbiAgICBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyk7XG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrU2V0O1xuIiwgInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBzdGFja0NsZWFyID0gcmVxdWlyZSgnLi9fc3RhY2tDbGVhcicpLFxuICAgIHN0YWNrRGVsZXRlID0gcmVxdWlyZSgnLi9fc3RhY2tEZWxldGUnKSxcbiAgICBzdGFja0dldCA9IHJlcXVpcmUoJy4vX3N0YWNrR2V0JyksXG4gICAgc3RhY2tIYXMgPSByZXF1aXJlKCcuL19zdGFja0hhcycpLFxuICAgIHN0YWNrU2V0ID0gcmVxdWlyZSgnLi9fc3RhY2tTZXQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YWNrO1xuIiwgInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKTtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICByZXR1cm4gZnVuYztcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmaW5lUHJvcGVydHk7XG4iLCAidmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fZGVmaW5lUHJvcGVydHknKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICogdmFsdWUgY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlQXNzaWduVmFsdWU7XG4iLCAidmFyIGJhc2VBc3NpZ25WYWx1ZSA9IHJlcXVpcmUoJy4vX2Jhc2VBc3NpZ25WYWx1ZScpLFxuICAgIGVxID0gcmVxdWlyZSgnLi9lcScpO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFzc2lnbk1lcmdlVmFsdWU7XG4iLCAiLyoqXG4gKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQmFzZUZvcjtcbiIsICJ2YXIgY3JlYXRlQmFzZUZvciA9IHJlcXVpcmUoJy4vX2NyZWF0ZUJhc2VGb3InKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbnZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VGb3I7XG4iLCAidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICBpZiAoaXNEZWVwKSB7XG4gICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICB9XG4gIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2xvbmVCdWZmZXI7XG4iLCAidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXk7XG5cbm1vZHVsZS5leHBvcnRzID0gVWludDhBcnJheTtcbiIsICJ2YXIgVWludDhBcnJheSA9IHJlcXVpcmUoJy4vX1VpbnQ4QXJyYXknKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lQXJyYXlCdWZmZXI7XG4iLCAidmFyIGNsb25lQXJyYXlCdWZmZXIgPSByZXF1aXJlKCcuL19jbG9uZUFycmF5QnVmZmVyJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2xvbmVUeXBlZEFycmF5O1xuIiwgIi8qKlxuICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcHlBcnJheTtcbiIsICJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gKi9cbnZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICB9XG4gICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn0oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUNyZWF0ZTtcbiIsICIvKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvdmVyQXJnO1xuIiwgInZhciBvdmVyQXJnID0gcmVxdWlyZSgnLi9fb3ZlckFyZycpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG4iLCAiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUHJvdG90eXBlO1xuIiwgInZhciBiYXNlQ3JlYXRlID0gcmVxdWlyZSgnLi9fYmFzZUNyZWF0ZScpLFxuICAgIGdldFByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2dldFByb3RvdHlwZScpLFxuICAgIGlzUHJvdG90eXBlID0gcmVxdWlyZSgnLi9faXNQcm90b3R5cGUnKTtcblxuLyoqXG4gKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICovXG5mdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICA6IHt9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluaXRDbG9uZU9iamVjdDtcbiIsICIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG4iLCAidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNBcmd1bWVudHM7XG4iLCAidmFyIGJhc2VJc0FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vX2Jhc2VJc0FyZ3VtZW50cycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJndW1lbnRzO1xuIiwgIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXk7XG4iLCAiLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTGVuZ3RoO1xuIiwgInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNMZW5ndGggPSByZXF1aXJlKCcuL2lzTGVuZ3RoJyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXlMaWtlO1xuIiwgInZhciBpc0FycmF5TGlrZSA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2UnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAqIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNBcnJheUxpa2VPYmplY3Q7XG4iLCAiLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0dWJGYWxzZTtcbiIsICJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKSxcbiAgICBzdHViRmFsc2UgPSByZXF1aXJlKCcuL3N0dWJGYWxzZScpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZDtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNCdWZmZXI7XG4iLCAidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgZ2V0UHJvdG90eXBlID0gcmVxdWlyZSgnLi9fZ2V0UHJvdG90eXBlJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuOC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUGxhaW5PYmplY3Q7XG4iLCAidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNMZW5ndGggPSByZXF1aXJlKCcuL2lzTGVuZ3RoJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc1R5cGVkQXJyYXk7XG4iLCAiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VVbmFyeTtcbiIsICJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgIGlmICh0eXBlcykge1xuICAgICAgcmV0dXJuIHR5cGVzO1xuICAgIH1cblxuICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBub2RlVXRpbDtcbiIsICJ2YXIgYmFzZUlzVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vX2Jhc2VJc1R5cGVkQXJyYXknKSxcbiAgICBiYXNlVW5hcnkgPSByZXF1aXJlKCcuL19iYXNlVW5hcnknKSxcbiAgICBub2RlVXRpbCA9IHJlcXVpcmUoJy4vX25vZGVVdGlsJyk7XG5cbi8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG52YXIgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzVHlwZWRBcnJheTtcbiIsICIvKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzYWZlR2V0KG9iamVjdCwga2V5KSB7XG4gIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Rba2V5XTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzYWZlR2V0O1xuIiwgInZhciBiYXNlQXNzaWduVmFsdWUgPSByZXF1aXJlKCcuL19iYXNlQXNzaWduVmFsdWUnKSxcbiAgICBlcSA9IHJlcXVpcmUoJy4vZXEnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhc3NpZ25WYWx1ZTtcbiIsICJ2YXIgYXNzaWduVmFsdWUgPSByZXF1aXJlKCcuL19hc3NpZ25WYWx1ZScpLFxuICAgIGJhc2VBc3NpZ25WYWx1ZSA9IHJlcXVpcmUoJy4vX2Jhc2VBc3NpZ25WYWx1ZScpO1xuXG4vKipcbiAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gICAgaWYgKGlzTmV3KSB7XG4gICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb3B5T2JqZWN0O1xuIiwgIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVRpbWVzO1xuIiwgIi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0luZGV4O1xuIiwgInZhciBiYXNlVGltZXMgPSByZXF1aXJlKCcuL19iYXNlVGltZXMnKSxcbiAgICBpc0FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vaXNBcmd1bWVudHMnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNCdWZmZXIgPSByZXF1aXJlKCcuL2lzQnVmZmVyJyksXG4gICAgaXNJbmRleCA9IHJlcXVpcmUoJy4vX2lzSW5kZXgnKSxcbiAgICBpc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL2lzVHlwZWRBcnJheScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlMaWtlS2V5cztcbiIsICIvKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuYXRpdmVLZXlzSW47XG4iLCAidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzUHJvdG90eXBlID0gcmVxdWlyZSgnLi9faXNQcm90b3R5cGUnKSxcbiAgICBuYXRpdmVLZXlzSW4gPSByZXF1aXJlKCcuL19uYXRpdmVLZXlzSW4nKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICB9XG4gIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlS2V5c0luO1xuIiwgInZhciBhcnJheUxpa2VLZXlzID0gcmVxdWlyZSgnLi9fYXJyYXlMaWtlS2V5cycpLFxuICAgIGJhc2VLZXlzSW4gPSByZXF1aXJlKCcuL19iYXNlS2V5c0luJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXNJbihuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG5mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleXNJbjtcbiIsICJ2YXIgY29weU9iamVjdCA9IHJlcXVpcmUoJy4vX2NvcHlPYmplY3QnKSxcbiAgICBrZXlzSW4gPSByZXF1aXJlKCcuL2tleXNJbicpO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29udmVydGVkIHBsYWluIG9iamVjdC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgbmV3IEZvbyk7XG4gKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAqXG4gKiBfLmFzc2lnbih7ICdhJzogMSB9LCBfLnRvUGxhaW5PYmplY3QobmV3IEZvbykpO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAqL1xuZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9QbGFpbk9iamVjdDtcbiIsICJ2YXIgYXNzaWduTWVyZ2VWYWx1ZSA9IHJlcXVpcmUoJy4vX2Fzc2lnbk1lcmdlVmFsdWUnKSxcbiAgICBjbG9uZUJ1ZmZlciA9IHJlcXVpcmUoJy4vX2Nsb25lQnVmZmVyJyksXG4gICAgY2xvbmVUeXBlZEFycmF5ID0gcmVxdWlyZSgnLi9fY2xvbmVUeXBlZEFycmF5JyksXG4gICAgY29weUFycmF5ID0gcmVxdWlyZSgnLi9fY29weUFycmF5JyksXG4gICAgaW5pdENsb25lT2JqZWN0ID0gcmVxdWlyZSgnLi9faW5pdENsb25lT2JqZWN0JyksXG4gICAgaXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL2lzQXJndW1lbnRzJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzQXJyYXlMaWtlT2JqZWN0ID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZU9iamVjdCcpLFxuICAgIGlzQnVmZmVyID0gcmVxdWlyZSgnLi9pc0J1ZmZlcicpLFxuICAgIGlzRnVuY3Rpb24gPSByZXF1aXJlKCcuL2lzRnVuY3Rpb24nKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBpc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnLi9pc1BsYWluT2JqZWN0JyksXG4gICAgaXNUeXBlZEFycmF5ID0gcmVxdWlyZSgnLi9pc1R5cGVkQXJyYXknKSxcbiAgICBzYWZlR2V0ID0gcmVxdWlyZSgnLi9fc2FmZUdldCcpLFxuICAgIHRvUGxhaW5PYmplY3QgPSByZXF1aXJlKCcuL3RvUGxhaW5PYmplY3QnKTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gKiAgY291bnRlcnBhcnRzLlxuICovXG5mdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gIGlmIChzdGFja2VkKSB7XG4gICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICBpZiAoaXNDb21tb24pIHtcbiAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICB9XG4gIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlTWVyZ2VEZWVwO1xuIiwgInZhciBTdGFjayA9IHJlcXVpcmUoJy4vX1N0YWNrJyksXG4gICAgYXNzaWduTWVyZ2VWYWx1ZSA9IHJlcXVpcmUoJy4vX2Fzc2lnbk1lcmdlVmFsdWUnKSxcbiAgICBiYXNlRm9yID0gcmVxdWlyZSgnLi9fYmFzZUZvcicpLFxuICAgIGJhc2VNZXJnZURlZXAgPSByZXF1aXJlKCcuL19iYXNlTWVyZ2VEZWVwJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAga2V5c0luID0gcmVxdWlyZSgnLi9rZXlzSW4nKSxcbiAgICBzYWZlR2V0ID0gcmVxdWlyZSgnLi9fc2FmZUdldCcpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gKiAgY291bnRlcnBhcnRzLlxuICovXG5mdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH0sIGtleXNJbik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZU1lcmdlO1xuIiwgIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaWRlbnRpdHk7XG4iLCAiLyoqXG4gKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAqL1xuZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICB9XG4gIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcGx5O1xuIiwgInZhciBhcHBseSA9IHJlcXVpcmUoJy4vX2FwcGx5Jyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgIH1cbiAgICBpbmRleCA9IC0xO1xuICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICB9XG4gICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlclJlc3Q7XG4iLCAiLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29uc3RhbnQ7XG4iLCAidmFyIGNvbnN0YW50ID0gcmVxdWlyZSgnLi9jb25zdGFudCcpLFxuICAgIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fZGVmaW5lUHJvcGVydHknKSxcbiAgICBpZGVudGl0eSA9IHJlcXVpcmUoJy4vaWRlbnRpdHknKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0VG9TdHJpbmdgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVNldFRvU3RyaW5nO1xuIiwgIi8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbnZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgSE9UX1NQQU4gPSAxNjtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gKiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gIHZhciBjb3VudCA9IDAsXG4gICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG9ydE91dDtcbiIsICJ2YXIgYmFzZVNldFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fYmFzZVNldFRvU3RyaW5nJyksXG4gICAgc2hvcnRPdXQgPSByZXF1aXJlKCcuL19zaG9ydE91dCcpO1xuXG4vKipcbiAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNldFRvU3RyaW5nO1xuIiwgInZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4vaWRlbnRpdHknKSxcbiAgICBvdmVyUmVzdCA9IHJlcXVpcmUoJy4vX292ZXJSZXN0JyksXG4gICAgc2V0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19zZXRUb1N0cmluZycpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlUmVzdDtcbiIsICJ2YXIgZXEgPSByZXF1aXJlKCcuL2VxJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyksXG4gICAgaXNJbmRleCA9IHJlcXVpcmUoJy4vX2lzSW5kZXgnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICkge1xuICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSXRlcmF0ZWVDYWxsO1xuIiwgInZhciBiYXNlUmVzdCA9IHJlcXVpcmUoJy4vX2Jhc2VSZXN0JyksXG4gICAgaXNJdGVyYXRlZUNhbGwgPSByZXF1aXJlKCcuL19pc0l0ZXJhdGVlQ2FsbCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgIGxlbmd0aCA9IDE7XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUFzc2lnbmVyO1xuIiwgInZhciBiYXNlTWVyZ2UgPSByZXF1aXJlKCcuL19iYXNlTWVyZ2UnKSxcbiAgICBjcmVhdGVBc3NpZ25lciA9IHJlcXVpcmUoJy4vX2NyZWF0ZUFzc2lnbmVyJyk7XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kXG4gKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gKiBza2lwcGVkIGlmIGEgZGVzdGluYXRpb24gdmFsdWUgZXhpc3RzLiBBcnJheSBhbmQgcGxhaW4gb2JqZWN0IHByb3BlcnRpZXNcbiAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAqIHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjUuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0ge1xuICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICogfTtcbiAqXG4gKiB2YXIgb3RoZXIgPSB7XG4gKiAgICdhJzogW3sgJ2MnOiAzIH0sIHsgJ2UnOiA1IH1dXG4gKiB9O1xuICpcbiAqIF8ubWVyZ2Uob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gKi9cbnZhciBtZXJnZSA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCkge1xuICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1lcmdlO1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1N5bWJvbDtcbiIsICJ2YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC87XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNLZXk7XG4iLCAidmFyIE1hcENhY2hlID0gcmVxdWlyZSgnLi9fTWFwQ2FjaGUnKTtcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKlxuICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gKlxuICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIHZhbHVlcyhvdGhlcik7XG4gKiAvLyA9PiBbMywgNF1cbiAqXG4gKiBvYmplY3QuYSA9IDI7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddXG4gKlxuICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gKi9cbmZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICE9IG51bGwgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbi8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxubWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1lbW9pemU7XG4iLCAidmFyIG1lbW9pemUgPSByZXF1aXJlKCcuL21lbW9pemUnKTtcblxuLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xudmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1lbW9pemVgIHdoaWNoIGNsZWFycyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24nc1xuICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoY2FjaGUuc2l6ZSA9PT0gTUFYX01FTU9JWkVfU0laRSkge1xuICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfSk7XG5cbiAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1lbW9pemVDYXBwZWQ7XG4iLCAidmFyIG1lbW9pemVDYXBwZWQgPSByZXF1aXJlKCcuL19tZW1vaXplQ2FwcGVkJyk7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG52YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICByZXN1bHQucHVzaCgnJyk7XG4gIH1cbiAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdHJpbmdUb1BhdGg7XG4iLCAiLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcnJheU1hcDtcbiIsICJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgYXJyYXlNYXAgPSByZXF1aXJlKCcuL19hcnJheU1hcCcpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVG9TdHJpbmc7XG4iLCAidmFyIGJhc2VUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VUb1N0cmluZycpO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9TdHJpbmc7XG4iLCAidmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc0tleSA9IHJlcXVpcmUoJy4vX2lzS2V5JyksXG4gICAgc3RyaW5nVG9QYXRoID0gcmVxdWlyZSgnLi9fc3RyaW5nVG9QYXRoJyksXG4gICAgdG9TdHJpbmcgPSByZXF1aXJlKCcuL3RvU3RyaW5nJyk7XG5cbi8qKlxuICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG5mdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2FzdFBhdGg7XG4iLCAidmFyIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gKi9cbmZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b0tleTtcbiIsICJ2YXIgY2FzdFBhdGggPSByZXF1aXJlKCcuL19jYXN0UGF0aCcpLFxuICAgIHRvS2V5ID0gcmVxdWlyZSgnLi9fdG9LZXknKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gIHZhciBpbmRleCA9IDAsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICB9XG4gIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlR2V0O1xuIiwgInZhciBiYXNlR2V0ID0gcmVxdWlyZSgnLi9fYmFzZUdldCcpO1xuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuNy4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAqXG4gKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICogLy8gPT4gM1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICogLy8gPT4gM1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAqIC8vID0+ICdkZWZhdWx0J1xuICovXG5mdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0O1xuIiwgIiFmdW5jdGlvbih0LGkpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWkoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGkpOih0PXR8fHNlbGYpLlJCdXNoPWkoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxyLGUsYSxoKXshZnVuY3Rpb24gdChuLHIsZSxhLGgpe2Zvcig7YT5lOyl7aWYoYS1lPjYwMCl7dmFyIG89YS1lKzEscz1yLWUrMSxsPU1hdGgubG9nKG8pLGY9LjUqTWF0aC5leHAoMipsLzMpLHU9LjUqTWF0aC5zcXJ0KGwqZiooby1mKS9vKSoocy1vLzI8MD8tMToxKSxtPU1hdGgubWF4KGUsTWF0aC5mbG9vcihyLXMqZi9vK3UpKSxjPU1hdGgubWluKGEsTWF0aC5mbG9vcihyKyhvLXMpKmYvbyt1KSk7dChuLHIsbSxjLGgpfXZhciBwPW5bcl0sZD1lLHg9YTtmb3IoaShuLGUsciksaChuW2FdLHApPjAmJmkobixlLGEpO2Q8eDspe2ZvcihpKG4sZCx4KSxkKysseC0tO2gobltkXSxwKTwwOylkKys7Zm9yKDtoKG5beF0scCk+MDspeC0tfTA9PT1oKG5bZV0scCk/aShuLGUseCk6aShuLCsreCxhKSx4PD1yJiYoZT14KzEpLHI8PXgmJihhPXgtMSl9fSh0LHIsZXx8MCxhfHx0Lmxlbmd0aC0xLGh8fG4pfWZ1bmN0aW9uIGkodCxpLG4pe3ZhciByPXRbaV07dFtpXT10W25dLHRbbl09cn1mdW5jdGlvbiBuKHQsaSl7cmV0dXJuIHQ8aT8tMTp0Pmk/MTowfXZhciByPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PTkpLHRoaXMuX21heEVudHJpZXM9TWF0aC5tYXgoNCx0KSx0aGlzLl9taW5FbnRyaWVzPU1hdGgubWF4KDIsTWF0aC5jZWlsKC40KnRoaXMuX21heEVudHJpZXMpKSx0aGlzLmNsZWFyKCl9O2Z1bmN0aW9uIGUodCxpLG4pe2lmKCFuKXJldHVybiBpLmluZGV4T2YodCk7Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspaWYobih0LGlbcl0pKXJldHVybiByO3JldHVybi0xfWZ1bmN0aW9uIGEodCxpKXtoKHQsMCx0LmNoaWxkcmVuLmxlbmd0aCxpLHQpfWZ1bmN0aW9uIGgodCxpLG4scixlKXtlfHwoZT1wKG51bGwpKSxlLm1pblg9MS8wLGUubWluWT0xLzAsZS5tYXhYPS0xLzAsZS5tYXhZPS0xLzA7Zm9yKHZhciBhPWk7YTxuO2ErKyl7dmFyIGg9dC5jaGlsZHJlblthXTtvKGUsdC5sZWFmP3IoaCk6aCl9cmV0dXJuIGV9ZnVuY3Rpb24gbyh0LGkpe3JldHVybiB0Lm1pblg9TWF0aC5taW4odC5taW5YLGkubWluWCksdC5taW5ZPU1hdGgubWluKHQubWluWSxpLm1pblkpLHQubWF4WD1NYXRoLm1heCh0Lm1heFgsaS5tYXhYKSx0Lm1heFk9TWF0aC5tYXgodC5tYXhZLGkubWF4WSksdH1mdW5jdGlvbiBzKHQsaSl7cmV0dXJuIHQubWluWC1pLm1pblh9ZnVuY3Rpb24gbCh0LGkpe3JldHVybiB0Lm1pblktaS5taW5ZfWZ1bmN0aW9uIGYodCl7cmV0dXJuKHQubWF4WC10Lm1pblgpKih0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiB1KHQpe3JldHVybiB0Lm1heFgtdC5taW5YKyh0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiBtKHQsaSl7cmV0dXJuIHQubWluWDw9aS5taW5YJiZ0Lm1pblk8PWkubWluWSYmaS5tYXhYPD10Lm1heFgmJmkubWF4WTw9dC5tYXhZfWZ1bmN0aW9uIGModCxpKXtyZXR1cm4gaS5taW5YPD10Lm1heFgmJmkubWluWTw9dC5tYXhZJiZpLm1heFg+PXQubWluWCYmaS5tYXhZPj10Lm1pbll9ZnVuY3Rpb24gcCh0KXtyZXR1cm57Y2hpbGRyZW46dCxoZWlnaHQ6MSxsZWFmOiEwLG1pblg6MS8wLG1pblk6MS8wLG1heFg6LTEvMCxtYXhZOi0xLzB9fWZ1bmN0aW9uIGQoaSxuLHIsZSxhKXtmb3IodmFyIGg9W24scl07aC5sZW5ndGg7KWlmKCEoKHI9aC5wb3AoKSktKG49aC5wb3AoKSk8PWUpKXt2YXIgbz1uK01hdGguY2VpbCgoci1uKS9lLzIpKmU7dChpLG8sbixyLGEpLGgucHVzaChuLG8sbyxyKX19cmV0dXJuIHIucHJvdG90eXBlLmFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbGwodGhpcy5kYXRhLFtdKX0sci5wcm90b3R5cGUuc2VhcmNoPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZGF0YSxuPVtdO2lmKCFjKHQsaSkpcmV0dXJuIG47Zm9yKHZhciByPXRoaXMudG9CQm94LGU9W107aTspe2Zvcih2YXIgYT0wO2E8aS5jaGlsZHJlbi5sZW5ndGg7YSsrKXt2YXIgaD1pLmNoaWxkcmVuW2FdLG89aS5sZWFmP3IoaCk6aDtjKHQsbykmJihpLmxlYWY/bi5wdXNoKGgpOm0odCxvKT90aGlzLl9hbGwoaCxuKTplLnB1c2goaCkpfWk9ZS5wb3AoKX1yZXR1cm4gbn0sci5wcm90b3R5cGUuY29sbGlkZXM9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5kYXRhO2lmKCFjKHQsaSkpcmV0dXJuITE7Zm9yKHZhciBuPVtdO2k7KXtmb3IodmFyIHI9MDtyPGkuY2hpbGRyZW4ubGVuZ3RoO3IrKyl7dmFyIGU9aS5jaGlsZHJlbltyXSxhPWkubGVhZj90aGlzLnRvQkJveChlKTplO2lmKGModCxhKSl7aWYoaS5sZWFmfHxtKHQsYSkpcmV0dXJuITA7bi5wdXNoKGUpfX1pPW4ucG9wKCl9cmV0dXJuITF9LHIucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCl7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4gdGhpcztpZih0Lmxlbmd0aDx0aGlzLl9taW5FbnRyaWVzKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl0aGlzLmluc2VydCh0W2ldKTtyZXR1cm4gdGhpc312YXIgbj10aGlzLl9idWlsZCh0LnNsaWNlKCksMCx0Lmxlbmd0aC0xLDApO2lmKHRoaXMuZGF0YS5jaGlsZHJlbi5sZW5ndGgpaWYodGhpcy5kYXRhLmhlaWdodD09PW4uaGVpZ2h0KXRoaXMuX3NwbGl0Um9vdCh0aGlzLmRhdGEsbik7ZWxzZXtpZih0aGlzLmRhdGEuaGVpZ2h0PG4uaGVpZ2h0KXt2YXIgcj10aGlzLmRhdGE7dGhpcy5kYXRhPW4sbj1yfXRoaXMuX2luc2VydChuLHRoaXMuZGF0YS5oZWlnaHQtbi5oZWlnaHQtMSwhMCl9ZWxzZSB0aGlzLmRhdGE9bjtyZXR1cm4gdGhpc30sci5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLl9pbnNlcnQodCx0aGlzLmRhdGEuaGVpZ2h0LTEpLHRoaXN9LHIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YT1wKFtdKSx0aGlzfSxyLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxpKXtpZighdClyZXR1cm4gdGhpcztmb3IodmFyIG4scixhLGg9dGhpcy5kYXRhLG89dGhpcy50b0JCb3godCkscz1bXSxsPVtdO2h8fHMubGVuZ3RoOyl7aWYoaHx8KGg9cy5wb3AoKSxyPXNbcy5sZW5ndGgtMV0sbj1sLnBvcCgpLGE9ITApLGgubGVhZil7dmFyIGY9ZSh0LGguY2hpbGRyZW4saSk7aWYoLTEhPT1mKXJldHVybiBoLmNoaWxkcmVuLnNwbGljZShmLDEpLHMucHVzaChoKSx0aGlzLl9jb25kZW5zZShzKSx0aGlzfWF8fGgubGVhZnx8IW0oaCxvKT9yPyhuKyssaD1yLmNoaWxkcmVuW25dLGE9ITEpOmg9bnVsbDoocy5wdXNoKGgpLGwucHVzaChuKSxuPTAscj1oLGg9aC5jaGlsZHJlblswXSl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLnRvQkJveD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sci5wcm90b3R5cGUuY29tcGFyZU1pblg9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5taW5YLWkubWluWH0sci5wcm90b3R5cGUuY29tcGFyZU1pblk9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5taW5ZLWkubWluWX0sci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YX0sci5wcm90b3R5cGUuZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YT10LHRoaXN9LHIucHJvdG90eXBlLl9hbGw9ZnVuY3Rpb24odCxpKXtmb3IodmFyIG49W107dDspdC5sZWFmP2kucHVzaC5hcHBseShpLHQuY2hpbGRyZW4pOm4ucHVzaC5hcHBseShuLHQuY2hpbGRyZW4pLHQ9bi5wb3AoKTtyZXR1cm4gaX0sci5wcm90b3R5cGUuX2J1aWxkPWZ1bmN0aW9uKHQsaSxuLHIpe3ZhciBlLGg9bi1pKzEsbz10aGlzLl9tYXhFbnRyaWVzO2lmKGg8PW8pcmV0dXJuIGEoZT1wKHQuc2xpY2UoaSxuKzEpKSx0aGlzLnRvQkJveCksZTtyfHwocj1NYXRoLmNlaWwoTWF0aC5sb2coaCkvTWF0aC5sb2cobykpLG89TWF0aC5jZWlsKGgvTWF0aC5wb3cobyxyLTEpKSksKGU9cChbXSkpLmxlYWY9ITEsZS5oZWlnaHQ9cjt2YXIgcz1NYXRoLmNlaWwoaC9vKSxsPXMqTWF0aC5jZWlsKE1hdGguc3FydChvKSk7ZCh0LGksbixsLHRoaXMuY29tcGFyZU1pblgpO2Zvcih2YXIgZj1pO2Y8PW47Zis9bCl7dmFyIHU9TWF0aC5taW4oZitsLTEsbik7ZCh0LGYsdSxzLHRoaXMuY29tcGFyZU1pblkpO2Zvcih2YXIgbT1mO208PXU7bSs9cyl7dmFyIGM9TWF0aC5taW4obStzLTEsdSk7ZS5jaGlsZHJlbi5wdXNoKHRoaXMuX2J1aWxkKHQsbSxjLHItMSkpfX1yZXR1cm4gYShlLHRoaXMudG9CQm94KSxlfSxyLnByb3RvdHlwZS5fY2hvb3NlU3VidHJlZT1mdW5jdGlvbih0LGksbixyKXtmb3IoO3IucHVzaChpKSwhaS5sZWFmJiZyLmxlbmd0aC0xIT09bjspe2Zvcih2YXIgZT0xLzAsYT0xLzAsaD12b2lkIDAsbz0wO288aS5jaGlsZHJlbi5sZW5ndGg7bysrKXt2YXIgcz1pLmNoaWxkcmVuW29dLGw9ZihzKSx1PShtPXQsYz1zLChNYXRoLm1heChjLm1heFgsbS5tYXhYKS1NYXRoLm1pbihjLm1pblgsbS5taW5YKSkqKE1hdGgubWF4KGMubWF4WSxtLm1heFkpLU1hdGgubWluKGMubWluWSxtLm1pblkpKS1sKTt1PGE/KGE9dSxlPWw8ZT9sOmUsaD1zKTp1PT09YSYmbDxlJiYoZT1sLGg9cyl9aT1ofHxpLmNoaWxkcmVuWzBdfXZhciBtLGM7cmV0dXJuIGl9LHIucHJvdG90eXBlLl9pbnNlcnQ9ZnVuY3Rpb24odCxpLG4pe3ZhciByPW4/dDp0aGlzLnRvQkJveCh0KSxlPVtdLGE9dGhpcy5fY2hvb3NlU3VidHJlZShyLHRoaXMuZGF0YSxpLGUpO2ZvcihhLmNoaWxkcmVuLnB1c2godCksbyhhLHIpO2k+PTAmJmVbaV0uY2hpbGRyZW4ubGVuZ3RoPnRoaXMuX21heEVudHJpZXM7KXRoaXMuX3NwbGl0KGUsaSksaS0tO3RoaXMuX2FkanVzdFBhcmVudEJCb3hlcyhyLGUsaSl9LHIucHJvdG90eXBlLl9zcGxpdD1mdW5jdGlvbih0LGkpe3ZhciBuPXRbaV0scj1uLmNoaWxkcmVuLmxlbmd0aCxlPXRoaXMuX21pbkVudHJpZXM7dGhpcy5fY2hvb3NlU3BsaXRBeGlzKG4sZSxyKTt2YXIgaD10aGlzLl9jaG9vc2VTcGxpdEluZGV4KG4sZSxyKSxvPXAobi5jaGlsZHJlbi5zcGxpY2UoaCxuLmNoaWxkcmVuLmxlbmd0aC1oKSk7by5oZWlnaHQ9bi5oZWlnaHQsby5sZWFmPW4ubGVhZixhKG4sdGhpcy50b0JCb3gpLGEobyx0aGlzLnRvQkJveCksaT90W2ktMV0uY2hpbGRyZW4ucHVzaChvKTp0aGlzLl9zcGxpdFJvb3QobixvKX0sci5wcm90b3R5cGUuX3NwbGl0Um9vdD1mdW5jdGlvbih0LGkpe3RoaXMuZGF0YT1wKFt0LGldKSx0aGlzLmRhdGEuaGVpZ2h0PXQuaGVpZ2h0KzEsdGhpcy5kYXRhLmxlYWY9ITEsYSh0aGlzLmRhdGEsdGhpcy50b0JCb3gpfSxyLnByb3RvdHlwZS5fY2hvb3NlU3BsaXRJbmRleD1mdW5jdGlvbih0LGksbil7Zm9yKHZhciByLGUsYSxvLHMsbCx1LG09MS8wLGM9MS8wLHA9aTtwPD1uLWk7cCsrKXt2YXIgZD1oKHQsMCxwLHRoaXMudG9CQm94KSx4PWgodCxwLG4sdGhpcy50b0JCb3gpLHY9KGU9ZCxhPXgsbz12b2lkIDAscz12b2lkIDAsbD12b2lkIDAsdT12b2lkIDAsbz1NYXRoLm1heChlLm1pblgsYS5taW5YKSxzPU1hdGgubWF4KGUubWluWSxhLm1pblkpLGw9TWF0aC5taW4oZS5tYXhYLGEubWF4WCksdT1NYXRoLm1pbihlLm1heFksYS5tYXhZKSxNYXRoLm1heCgwLGwtbykqTWF0aC5tYXgoMCx1LXMpKSxNPWYoZCkrZih4KTt2PG0/KG09dixyPXAsYz1NPGM/TTpjKTp2PT09bSYmTTxjJiYoYz1NLHI9cCl9cmV0dXJuIHJ8fG4taX0sci5wcm90b3R5cGUuX2Nob29zZVNwbGl0QXhpcz1mdW5jdGlvbih0LGksbil7dmFyIHI9dC5sZWFmP3RoaXMuY29tcGFyZU1pblg6cyxlPXQubGVhZj90aGlzLmNvbXBhcmVNaW5ZOmw7dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixyKTx0aGlzLl9hbGxEaXN0TWFyZ2luKHQsaSxuLGUpJiZ0LmNoaWxkcmVuLnNvcnQocil9LHIucHJvdG90eXBlLl9hbGxEaXN0TWFyZ2luPWZ1bmN0aW9uKHQsaSxuLHIpe3QuY2hpbGRyZW4uc29ydChyKTtmb3IodmFyIGU9dGhpcy50b0JCb3gsYT1oKHQsMCxpLGUpLHM9aCh0LG4taSxuLGUpLGw9dShhKSt1KHMpLGY9aTtmPG4taTtmKyspe3ZhciBtPXQuY2hpbGRyZW5bZl07byhhLHQubGVhZj9lKG0pOm0pLGwrPXUoYSl9Zm9yKHZhciBjPW4taS0xO2M+PWk7Yy0tKXt2YXIgcD10LmNoaWxkcmVuW2NdO28ocyx0LmxlYWY/ZShwKTpwKSxsKz11KHMpfXJldHVybiBsfSxyLnByb3RvdHlwZS5fYWRqdXN0UGFyZW50QkJveGVzPWZ1bmN0aW9uKHQsaSxuKXtmb3IodmFyIHI9bjtyPj0wO3ItLSlvKGlbcl0sdCl9LHIucHJvdG90eXBlLl9jb25kZW5zZT1mdW5jdGlvbih0KXtmb3IodmFyIGk9dC5sZW5ndGgtMSxuPXZvaWQgMDtpPj0wO2ktLSkwPT09dFtpXS5jaGlsZHJlbi5sZW5ndGg/aT4wPyhuPXRbaS0xXS5jaGlsZHJlbikuc3BsaWNlKG4uaW5kZXhPZih0W2ldKSwxKTp0aGlzLmNsZWFyKCk6YSh0W2ldLHRoaXMudG9CQm94KX0scn0pO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAbW9kdWxlIGhlbHBlcnNcbiAqL1xuLyoqXG4gKiBFYXJ0aCBSYWRpdXMgdXNlZCB3aXRoIHRoZSBIYXJ2ZXNpbmUgZm9ybXVsYSBhbmQgYXBwcm94aW1hdGVzIHVzaW5nIGEgc3BoZXJpY2FsIChub24tZWxsaXBzb2lkKSBFYXJ0aC5cbiAqXG4gKiBAbWVtYmVyb2YgaGVscGVyc1xuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0cy5lYXJ0aFJhZGl1cyA9IDYzNzEwMDguODtcbi8qKlxuICogVW5pdCBvZiBtZWFzdXJlbWVudCBmYWN0b3JzIHVzaW5nIGEgc3BoZXJpY2FsIChub24tZWxsaXBzb2lkKSBlYXJ0aCByYWRpdXMuXG4gKlxuICogQG1lbWJlcm9mIGhlbHBlcnNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuZmFjdG9ycyA9IHtcbiAgICBjZW50aW1ldGVyczogZXhwb3J0cy5lYXJ0aFJhZGl1cyAqIDEwMCxcbiAgICBjZW50aW1ldHJlczogZXhwb3J0cy5lYXJ0aFJhZGl1cyAqIDEwMCxcbiAgICBkZWdyZWVzOiBleHBvcnRzLmVhcnRoUmFkaXVzIC8gMTExMzI1LFxuICAgIGZlZXQ6IGV4cG9ydHMuZWFydGhSYWRpdXMgKiAzLjI4MDg0LFxuICAgIGluY2hlczogZXhwb3J0cy5lYXJ0aFJhZGl1cyAqIDM5LjM3LFxuICAgIGtpbG9tZXRlcnM6IGV4cG9ydHMuZWFydGhSYWRpdXMgLyAxMDAwLFxuICAgIGtpbG9tZXRyZXM6IGV4cG9ydHMuZWFydGhSYWRpdXMgLyAxMDAwLFxuICAgIG1ldGVyczogZXhwb3J0cy5lYXJ0aFJhZGl1cyxcbiAgICBtZXRyZXM6IGV4cG9ydHMuZWFydGhSYWRpdXMsXG4gICAgbWlsZXM6IGV4cG9ydHMuZWFydGhSYWRpdXMgLyAxNjA5LjM0NCxcbiAgICBtaWxsaW1ldGVyczogZXhwb3J0cy5lYXJ0aFJhZGl1cyAqIDEwMDAsXG4gICAgbWlsbGltZXRyZXM6IGV4cG9ydHMuZWFydGhSYWRpdXMgKiAxMDAwLFxuICAgIG5hdXRpY2FsbWlsZXM6IGV4cG9ydHMuZWFydGhSYWRpdXMgLyAxODUyLFxuICAgIHJhZGlhbnM6IDEsXG4gICAgeWFyZHM6IGV4cG9ydHMuZWFydGhSYWRpdXMgKiAxLjA5MzYsXG59O1xuLyoqXG4gKiBVbml0cyBvZiBtZWFzdXJlbWVudCBmYWN0b3JzIGJhc2VkIG9uIDEgbWV0ZXIuXG4gKlxuICogQG1lbWJlcm9mIGhlbHBlcnNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMudW5pdHNGYWN0b3JzID0ge1xuICAgIGNlbnRpbWV0ZXJzOiAxMDAsXG4gICAgY2VudGltZXRyZXM6IDEwMCxcbiAgICBkZWdyZWVzOiAxIC8gMTExMzI1LFxuICAgIGZlZXQ6IDMuMjgwODQsXG4gICAgaW5jaGVzOiAzOS4zNyxcbiAgICBraWxvbWV0ZXJzOiAxIC8gMTAwMCxcbiAgICBraWxvbWV0cmVzOiAxIC8gMTAwMCxcbiAgICBtZXRlcnM6IDEsXG4gICAgbWV0cmVzOiAxLFxuICAgIG1pbGVzOiAxIC8gMTYwOS4zNDQsXG4gICAgbWlsbGltZXRlcnM6IDEwMDAsXG4gICAgbWlsbGltZXRyZXM6IDEwMDAsXG4gICAgbmF1dGljYWxtaWxlczogMSAvIDE4NTIsXG4gICAgcmFkaWFuczogMSAvIGV4cG9ydHMuZWFydGhSYWRpdXMsXG4gICAgeWFyZHM6IDEuMDkzNjEzMyxcbn07XG4vKipcbiAqIEFyZWEgb2YgbWVhc3VyZW1lbnQgZmFjdG9ycyBiYXNlZCBvbiAxIHNxdWFyZSBtZXRlci5cbiAqXG4gKiBAbWVtYmVyb2YgaGVscGVyc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5hcmVhRmFjdG9ycyA9IHtcbiAgICBhY3JlczogMC4wMDAyNDcxMDUsXG4gICAgY2VudGltZXRlcnM6IDEwMDAwLFxuICAgIGNlbnRpbWV0cmVzOiAxMDAwMCxcbiAgICBmZWV0OiAxMC43NjM5MTA0MTcsXG4gICAgaGVjdGFyZXM6IDAuMDAwMSxcbiAgICBpbmNoZXM6IDE1NTAuMDAzMTAwMDA2LFxuICAgIGtpbG9tZXRlcnM6IDAuMDAwMDAxLFxuICAgIGtpbG9tZXRyZXM6IDAuMDAwMDAxLFxuICAgIG1ldGVyczogMSxcbiAgICBtZXRyZXM6IDEsXG4gICAgbWlsZXM6IDMuODZlLTcsXG4gICAgbWlsbGltZXRlcnM6IDEwMDAwMDAsXG4gICAgbWlsbGltZXRyZXM6IDEwMDAwMDAsXG4gICAgeWFyZHM6IDEuMTk1OTkwMDQ2LFxufTtcbi8qKlxuICogV3JhcHMgYSBHZW9KU09OIHtAbGluayBHZW9tZXRyeX0gaW4gYSBHZW9KU09OIHtAbGluayBGZWF0dXJlfS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlXG4gKiBAcGFyYW0ge0dlb21ldHJ5fSBnZW9tZXRyeSBpbnB1dCBnZW9tZXRyeVxuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlfSBhIEdlb0pTT04gRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBnZW9tZXRyeSA9IHtcbiAqICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAqICAgXCJjb29yZGluYXRlc1wiOiBbMTEwLCA1MF1cbiAqIH07XG4gKlxuICogdmFyIGZlYXR1cmUgPSB0dXJmLmZlYXR1cmUoZ2VvbWV0cnkpO1xuICpcbiAqIC8vPWZlYXR1cmVcbiAqL1xuZnVuY3Rpb24gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgZmVhdCA9IHsgdHlwZTogXCJGZWF0dXJlXCIgfTtcbiAgICBpZiAob3B0aW9ucy5pZCA9PT0gMCB8fCBvcHRpb25zLmlkKSB7XG4gICAgICAgIGZlYXQuaWQgPSBvcHRpb25zLmlkO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5iYm94KSB7XG4gICAgICAgIGZlYXQuYmJveCA9IG9wdGlvbnMuYmJveDtcbiAgICB9XG4gICAgZmVhdC5wcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCB7fTtcbiAgICBmZWF0Lmdlb21ldHJ5ID0gZ2VvbTtcbiAgICByZXR1cm4gZmVhdDtcbn1cbmV4cG9ydHMuZmVhdHVyZSA9IGZlYXR1cmU7XG4vKipcbiAqIENyZWF0ZXMgYSBHZW9KU09OIHtAbGluayBHZW9tZXRyeX0gZnJvbSBhIEdlb21ldHJ5IHN0cmluZyB0eXBlICYgY29vcmRpbmF0ZXMuXG4gKiBGb3IgR2VvbWV0cnlDb2xsZWN0aW9uIHR5cGUgdXNlIGBoZWxwZXJzLmdlb21ldHJ5Q29sbGVjdGlvbmBcbiAqXG4gKiBAbmFtZSBnZW9tZXRyeVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgR2VvbWV0cnkgVHlwZVxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBjb29yZGluYXRlcyBDb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcmV0dXJucyB7R2VvbWV0cnl9IGEgR2VvSlNPTiBHZW9tZXRyeVxuICogQGV4YW1wbGVcbiAqIHZhciB0eXBlID0gXCJQb2ludFwiO1xuICogdmFyIGNvb3JkaW5hdGVzID0gWzExMCwgNTBdO1xuICogdmFyIGdlb21ldHJ5ID0gdHVyZi5nZW9tZXRyeSh0eXBlLCBjb29yZGluYXRlcyk7XG4gKiAvLyA9PiBnZW9tZXRyeVxuICovXG5mdW5jdGlvbiBnZW9tZXRyeSh0eXBlLCBjb29yZGluYXRlcywgX29wdGlvbnMpIHtcbiAgICBpZiAoX29wdGlvbnMgPT09IHZvaWQgMCkgeyBfb3B0aW9ucyA9IHt9OyB9XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIHBvaW50KGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBsaW5lU3RyaW5nKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgICAgIHJldHVybiBwb2x5Z29uKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBtdWx0aVBvaW50KGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIG11bHRpTGluZVN0cmluZyhjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICAgICAgICAgIHJldHVybiBtdWx0aVBvbHlnb24oY29vcmRpbmF0ZXMpLmdlb21ldHJ5O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHR5cGUgKyBcIiBpcyBpbnZhbGlkXCIpO1xuICAgIH1cbn1cbmV4cG9ydHMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBQb2ludH0ge0BsaW5rIEZlYXR1cmV9IGZyb20gYSBQb3NpdGlvbi5cbiAqXG4gKiBAbmFtZSBwb2ludFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlcyBsb25naXR1ZGUsIGxhdGl0dWRlIHBvc2l0aW9uIChlYWNoIGluIGRlY2ltYWwgZGVncmVlcylcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxQb2ludD59IGEgUG9pbnQgZmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2ludCA9IHR1cmYucG9pbnQoWy03NS4zNDMsIDM5Ljk4NF0pO1xuICpcbiAqIC8vPXBvaW50XG4gKi9cbmZ1bmN0aW9uIHBvaW50KGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBpZiAoIWNvb3JkaW5hdGVzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkaW5hdGVzIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29vcmRpbmF0ZXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkaW5hdGVzIG11c3QgYmUgYW4gQXJyYXlcIik7XG4gICAgfVxuICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkaW5hdGVzIG11c3QgYmUgYXQgbGVhc3QgMiBudW1iZXJzIGxvbmdcIik7XG4gICAgfVxuICAgIGlmICghaXNOdW1iZXIoY29vcmRpbmF0ZXNbMF0pIHx8ICFpc051bWJlcihjb29yZGluYXRlc1sxXSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRpbmF0ZXMgbXVzdCBjb250YWluIG51bWJlcnNcIik7XG4gICAgfVxuICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBcIlBvaW50XCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5wb2ludCA9IHBvaW50O1xuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFBvaW50fSB7QGxpbmsgRmVhdHVyZUNvbGxlY3Rpb259IGZyb20gYW4gQXJyYXkgb2YgUG9pbnQgY29vcmRpbmF0ZXMuXG4gKlxuICogQG5hbWUgcG9pbnRzXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBQb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gVHJhbnNsYXRlIHRoZXNlIHByb3BlcnRpZXMgdG8gZWFjaCBGZWF0dXJlXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxQb2ludD59IFBvaW50IEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnRzID0gdHVyZi5wb2ludHMoW1xuICogICBbLTc1LCAzOV0sXG4gKiAgIFstODAsIDQ1XSxcbiAqICAgWy03OCwgNTBdXG4gKiBdKTtcbiAqXG4gKiAvLz1wb2ludHNcbiAqL1xuZnVuY3Rpb24gcG9pbnRzKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50KGNvb3JkcywgcHJvcGVydGllcyk7XG4gICAgfSksIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5wb2ludHMgPSBwb2ludHM7XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9seWdvbn0ge0BsaW5rIEZlYXR1cmV9IGZyb20gYW4gQXJyYXkgb2YgTGluZWFyUmluZ3MuXG4gKlxuICogQG5hbWUgcG9seWdvblxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxudW1iZXI+Pj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIExpbmVhclJpbmdzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8UG9seWdvbj59IFBvbHlnb24gRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5Z29uID0gdHVyZi5wb2x5Z29uKFtbWy01LCA1Ml0sIFstNCwgNTZdLCBbLTIsIDUxXSwgWy03LCA1NF0sIFstNSwgNTJdXV0sIHsgbmFtZTogJ3BvbHkxJyB9KTtcbiAqXG4gKiAvLz1wb2x5Z29uXG4gKi9cbmZ1bmN0aW9uIHBvbHlnb24oY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGZvciAodmFyIF9pID0gMCwgY29vcmRpbmF0ZXNfMSA9IGNvb3JkaW5hdGVzOyBfaSA8IGNvb3JkaW5hdGVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciByaW5nID0gY29vcmRpbmF0ZXNfMVtfaV07XG4gICAgICAgIGlmIChyaW5nLmxlbmd0aCA8IDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVhY2ggTGluZWFyUmluZyBvZiBhIFBvbHlnb24gbXVzdCBoYXZlIDQgb3IgbW9yZSBQb3NpdGlvbnMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmluZ1tyaW5nLmxlbmd0aCAtIDFdLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBmaXJzdCBwb2ludCBvZiBQb2x5Z29uIGNvbnRhaW5zIHR3byBudW1iZXJzXG4gICAgICAgICAgICBpZiAocmluZ1tyaW5nLmxlbmd0aCAtIDFdW2pdICE9PSByaW5nWzBdW2pdKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgYW5kIGxhc3QgUG9zaXRpb24gYXJlIG5vdCBlcXVpdmFsZW50LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJQb2x5Z29uXCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5wb2x5Z29uID0gcG9seWdvbjtcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBQb2x5Z29ufSB7QGxpbmsgRmVhdHVyZUNvbGxlY3Rpb259IGZyb20gYW4gQXJyYXkgb2YgUG9seWdvbiBjb29yZGluYXRlcy5cbiAqXG4gKiBAbmFtZSBwb2x5Z29uc1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxBcnJheTxudW1iZXI+Pj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBQb2x5Z29uIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxQb2x5Z29uPn0gUG9seWdvbiBGZWF0dXJlQ29sbGVjdGlvblxuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5Z29ucyA9IHR1cmYucG9seWdvbnMoW1xuICogICBbW1stNSwgNTJdLCBbLTQsIDU2XSwgWy0yLCA1MV0sIFstNywgNTRdLCBbLTUsIDUyXV1dLFxuICogICBbW1stMTUsIDQyXSwgWy0xNCwgNDZdLCBbLTEyLCA0MV0sIFstMTcsIDQ0XSwgWy0xNSwgNDJdXV0sXG4gKiBdKTtcbiAqXG4gKiAvLz1wb2x5Z29uc1xuICovXG5mdW5jdGlvbiBwb2x5Z29ucyhjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgcmV0dXJuIGZlYXR1cmVDb2xsZWN0aW9uKGNvb3JkaW5hdGVzLm1hcChmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgICAgIHJldHVybiBwb2x5Z29uKGNvb3JkcywgcHJvcGVydGllcyk7XG4gICAgfSksIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5wb2x5Z29ucyA9IHBvbHlnb25zO1xuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIExpbmVTdHJpbmd9IHtAbGluayBGZWF0dXJlfSBmcm9tIGFuIEFycmF5IG9mIFBvc2l0aW9ucy5cbiAqXG4gKiBAbmFtZSBsaW5lU3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBQb3NpdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gTGluZVN0cmluZyBGZWF0dXJlXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmVzdHJpbmcxID0gdHVyZi5saW5lU3RyaW5nKFtbLTI0LCA2M10sIFstMjMsIDYwXSwgWy0yNSwgNjVdLCBbLTIwLCA2OV1dLCB7bmFtZTogJ2xpbmUgMSd9KTtcbiAqIHZhciBsaW5lc3RyaW5nMiA9IHR1cmYubGluZVN0cmluZyhbWy0xNCwgNDNdLCBbLTEzLCA0MF0sIFstMTUsIDQ1XSwgWy0xMCwgNDldXSwge25hbWU6ICdsaW5lIDInfSk7XG4gKlxuICogLy89bGluZXN0cmluZzFcbiAqIC8vPWxpbmVzdHJpbmcyXG4gKi9cbmZ1bmN0aW9uIGxpbmVTdHJpbmcoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkaW5hdGVzIG11c3QgYmUgYW4gYXJyYXkgb2YgdHdvIG9yIG1vcmUgcG9zaXRpb25zXCIpO1xuICAgIH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJMaW5lU3RyaW5nXCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5saW5lU3RyaW5nID0gbGluZVN0cmluZztcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBMaW5lU3RyaW5nfSB7QGxpbmsgRmVhdHVyZUNvbGxlY3Rpb259IGZyb20gYW4gQXJyYXkgb2YgTGluZVN0cmluZyBjb29yZGluYXRlcy5cbiAqXG4gKiBAbmFtZSBsaW5lU3RyaW5nc1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxudW1iZXI+Pj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIExpbmVhclJpbmdzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF1cbiAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlQ29sbGVjdGlvblxuICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9uPExpbmVTdHJpbmc+fSBMaW5lU3RyaW5nIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmVzdHJpbmdzID0gdHVyZi5saW5lU3RyaW5ncyhbXG4gKiAgIFtbLTI0LCA2M10sIFstMjMsIDYwXSwgWy0yNSwgNjVdLCBbLTIwLCA2OV1dLFxuICogICBbWy0xNCwgNDNdLCBbLTEzLCA0MF0sIFstMTUsIDQ1XSwgWy0xMCwgNDldXVxuICogXSk7XG4gKlxuICogLy89bGluZXN0cmluZ3NcbiAqL1xuZnVuY3Rpb24gbGluZVN0cmluZ3MoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihjb29yZGluYXRlcy5tYXAoZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICByZXR1cm4gbGluZVN0cmluZyhjb29yZHMsIHByb3BlcnRpZXMpO1xuICAgIH0pLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubGluZVN0cmluZ3MgPSBsaW5lU3RyaW5ncztcbi8qKlxuICogVGFrZXMgb25lIG9yIG1vcmUge0BsaW5rIEZlYXR1cmV8RmVhdHVyZXN9IGFuZCBjcmVhdGVzIGEge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlQ29sbGVjdGlvblxuICogQHBhcmFtIHtGZWF0dXJlW119IGZlYXR1cmVzIGlucHV0IGZlYXR1cmVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbn0gRmVhdHVyZUNvbGxlY3Rpb24gb2YgRmVhdHVyZXNcbiAqIEBleGFtcGxlXG4gKiB2YXIgbG9jYXRpb25BID0gdHVyZi5wb2ludChbLTc1LjM0MywgMzkuOTg0XSwge25hbWU6ICdMb2NhdGlvbiBBJ30pO1xuICogdmFyIGxvY2F0aW9uQiA9IHR1cmYucG9pbnQoWy03NS44MzMsIDM5LjI4NF0sIHtuYW1lOiAnTG9jYXRpb24gQid9KTtcbiAqIHZhciBsb2NhdGlvbkMgPSB0dXJmLnBvaW50KFstNzUuNTM0LCAzOS4xMjNdLCB7bmFtZTogJ0xvY2F0aW9uIEMnfSk7XG4gKlxuICogdmFyIGNvbGxlY3Rpb24gPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgbG9jYXRpb25BLFxuICogICBsb2NhdGlvbkIsXG4gKiAgIGxvY2F0aW9uQ1xuICogXSk7XG4gKlxuICogLy89Y29sbGVjdGlvblxuICovXG5mdW5jdGlvbiBmZWF0dXJlQ29sbGVjdGlvbihmZWF0dXJlcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGZjID0geyB0eXBlOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIgfTtcbiAgICBpZiAob3B0aW9ucy5pZCkge1xuICAgICAgICBmYy5pZCA9IG9wdGlvbnMuaWQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmJib3gpIHtcbiAgICAgICAgZmMuYmJveCA9IG9wdGlvbnMuYmJveDtcbiAgICB9XG4gICAgZmMuZmVhdHVyZXMgPSBmZWF0dXJlcztcbiAgICByZXR1cm4gZmM7XG59XG5leHBvcnRzLmZlYXR1cmVDb2xsZWN0aW9uID0gZmVhdHVyZUNvbGxlY3Rpb247XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZTxNdWx0aUxpbmVTdHJpbmc+fSBiYXNlZCBvbiBhXG4gKiBjb29yZGluYXRlIGFycmF5LiBQcm9wZXJ0aWVzIGNhbiBiZSBhZGRlZCBvcHRpb25hbGx5LlxuICpcbiAqIEBuYW1lIG11bHRpTGluZVN0cmluZ1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxudW1iZXI+Pj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIExpbmVTdHJpbmdzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TXVsdGlMaW5lU3RyaW5nPn0gYSBNdWx0aUxpbmVTdHJpbmcgZmVhdHVyZVxuICogQHRocm93cyB7RXJyb3J9IGlmIG5vIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlMaW5lID0gdHVyZi5tdWx0aUxpbmVTdHJpbmcoW1tbMCwwXSxbMTAsMTBdXV0pO1xuICpcbiAqIC8vPW11bHRpTGluZVxuICovXG5mdW5jdGlvbiBtdWx0aUxpbmVTdHJpbmcoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBcIk11bHRpTGluZVN0cmluZ1wiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubXVsdGlMaW5lU3RyaW5nID0gbXVsdGlMaW5lU3RyaW5nO1xuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIEZlYXR1cmU8TXVsdGlQb2ludD59IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgbXVsdGlQb2ludFxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9zaXRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TXVsdGlQb2ludD59IGEgTXVsdGlQb2ludCBmZWF0dXJlXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgbm8gY29vcmRpbmF0ZXMgYXJlIHBhc3NlZFxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aVB0ID0gdHVyZi5tdWx0aVBvaW50KFtbMCwwXSxbMTAsMTBdXSk7XG4gKlxuICogLy89bXVsdGlQdFxuICovXG5mdW5jdGlvbiBtdWx0aVBvaW50KGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJNdWx0aVBvaW50XCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5tdWx0aVBvaW50ID0gbXVsdGlQb2ludDtcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlPE11bHRpUG9seWdvbj59IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgbXVsdGlQb2x5Z29uXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PEFycmF5PG51bWJlcj4+Pj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIFBvbHlnb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TXVsdGlQb2x5Z29uPn0gYSBtdWx0aXBvbHlnb24gZmVhdHVyZVxuICogQHRocm93cyB7RXJyb3J9IGlmIG5vIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlQb2x5ID0gdHVyZi5tdWx0aVBvbHlnb24oW1tbWzAsMF0sWzAsMTBdLFsxMCwxMF0sWzEwLDBdLFswLDBdXV1dKTtcbiAqXG4gKiAvLz1tdWx0aVBvbHlcbiAqXG4gKi9cbmZ1bmN0aW9uIG11bHRpUG9seWdvbihjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiTXVsdGlQb2x5Z29uXCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5tdWx0aVBvbHlnb24gPSBtdWx0aVBvbHlnb247XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZTxHZW9tZXRyeUNvbGxlY3Rpb24+fSBiYXNlZCBvbiBhXG4gKiBjb29yZGluYXRlIGFycmF5LiBQcm9wZXJ0aWVzIGNhbiBiZSBhZGRlZCBvcHRpb25hbGx5LlxuICpcbiAqIEBuYW1lIGdlb21ldHJ5Q29sbGVjdGlvblxuICogQHBhcmFtIHtBcnJheTxHZW9tZXRyeT59IGdlb21ldHJpZXMgYW4gYXJyYXkgb2YgR2VvSlNPTiBHZW9tZXRyaWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8R2VvbWV0cnlDb2xsZWN0aW9uPn0gYSBHZW9KU09OIEdlb21ldHJ5Q29sbGVjdGlvbiBGZWF0dXJlXG4gKiBAZXhhbXBsZVxuICogdmFyIHB0ID0gdHVyZi5nZW9tZXRyeShcIlBvaW50XCIsIFsxMDAsIDBdKTtcbiAqIHZhciBsaW5lID0gdHVyZi5nZW9tZXRyeShcIkxpbmVTdHJpbmdcIiwgW1sxMDEsIDBdLCBbMTAyLCAxXV0pO1xuICogdmFyIGNvbGxlY3Rpb24gPSB0dXJmLmdlb21ldHJ5Q29sbGVjdGlvbihbcHQsIGxpbmVdKTtcbiAqXG4gKiAvLyA9PiBjb2xsZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIGdlb21ldHJ5Q29sbGVjdGlvbihnZW9tZXRyaWVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJHZW9tZXRyeUNvbGxlY3Rpb25cIixcbiAgICAgICAgZ2VvbWV0cmllczogZ2VvbWV0cmllcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5nZW9tZXRyeUNvbGxlY3Rpb24gPSBnZW9tZXRyeUNvbGxlY3Rpb247XG4vKipcbiAqIFJvdW5kIG51bWJlciB0byBwcmVjaXNpb25cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIE51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gUHJlY2lzaW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSByb3VuZGVkIG51bWJlclxuICogQGV4YW1wbGVcbiAqIHR1cmYucm91bmQoMTIwLjQzMjEpXG4gKiAvLz0xMjBcbiAqXG4gKiB0dXJmLnJvdW5kKDEyMC40MzIxLCAyKVxuICogLy89MTIwLjQzXG4gKi9cbmZ1bmN0aW9uIHJvdW5kKG51bSwgcHJlY2lzaW9uKSB7XG4gICAgaWYgKHByZWNpc2lvbiA9PT0gdm9pZCAwKSB7IHByZWNpc2lvbiA9IDA7IH1cbiAgICBpZiAocHJlY2lzaW9uICYmICEocHJlY2lzaW9uID49IDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInByZWNpc2lvbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO1xuICAgIH1cbiAgICB2YXIgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24gfHwgMCk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobnVtICogbXVsdGlwbGllcikgLyBtdWx0aXBsaWVyO1xufVxuZXhwb3J0cy5yb3VuZCA9IHJvdW5kO1xuLyoqXG4gKiBDb252ZXJ0IGEgZGlzdGFuY2UgbWVhc3VyZW1lbnQgKGFzc3VtaW5nIGEgc3BoZXJpY2FsIEVhcnRoKSBmcm9tIHJhZGlhbnMgdG8gYSBtb3JlIGZyaWVuZGx5IHVuaXQuXG4gKiBWYWxpZCB1bml0czogbWlsZXMsIG5hdXRpY2FsbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldGVycywgbWV0cmVzLCBraWxvbWV0ZXJzLCBjZW50aW1ldGVycywgZmVldFxuICpcbiAqIEBuYW1lIHJhZGlhbnNUb0xlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbnMgaW4gcmFkaWFucyBhY3Jvc3MgdGhlIHNwaGVyZVxuICogQHBhcmFtIHtzdHJpbmd9IFt1bml0cz1cImtpbG9tZXRlcnNcIl0gY2FuIGJlIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRyZXMsXG4gKiBtZXRlcnMsIGtpbG9tZXRyZXMsIGtpbG9tZXRlcnMuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBkaXN0YW5jZVxuICovXG5mdW5jdGlvbiByYWRpYW5zVG9MZW5ndGgocmFkaWFucywgdW5pdHMpIHtcbiAgICBpZiAodW5pdHMgPT09IHZvaWQgMCkgeyB1bml0cyA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgdmFyIGZhY3RvciA9IGV4cG9ydHMuZmFjdG9yc1t1bml0c107XG4gICAgaWYgKCFmYWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHVuaXRzICsgXCIgdW5pdHMgaXMgaW52YWxpZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJhZGlhbnMgKiBmYWN0b3I7XG59XG5leHBvcnRzLnJhZGlhbnNUb0xlbmd0aCA9IHJhZGlhbnNUb0xlbmd0aDtcbi8qKlxuICogQ29udmVydCBhIGRpc3RhbmNlIG1lYXN1cmVtZW50IChhc3N1bWluZyBhIHNwaGVyaWNhbCBFYXJ0aCkgZnJvbSBhIHJlYWwtd29ybGQgdW5pdCBpbnRvIHJhZGlhbnNcbiAqIFZhbGlkIHVuaXRzOiBtaWxlcywgbmF1dGljYWxtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0ZXJzLCBtZXRyZXMsIGtpbG9tZXRlcnMsIGNlbnRpbWV0ZXJzLCBmZWV0XG4gKlxuICogQG5hbWUgbGVuZ3RoVG9SYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2UgaW4gcmVhbCB1bml0c1xuICogQHBhcmFtIHtzdHJpbmd9IFt1bml0cz1cImtpbG9tZXRlcnNcIl0gY2FuIGJlIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRyZXMsXG4gKiBtZXRlcnMsIGtpbG9tZXRyZXMsIGtpbG9tZXRlcnMuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSByYWRpYW5zXG4gKi9cbmZ1bmN0aW9uIGxlbmd0aFRvUmFkaWFucyhkaXN0YW5jZSwgdW5pdHMpIHtcbiAgICBpZiAodW5pdHMgPT09IHZvaWQgMCkgeyB1bml0cyA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgdmFyIGZhY3RvciA9IGV4cG9ydHMuZmFjdG9yc1t1bml0c107XG4gICAgaWYgKCFmYWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHVuaXRzICsgXCIgdW5pdHMgaXMgaW52YWxpZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gZmFjdG9yO1xufVxuZXhwb3J0cy5sZW5ndGhUb1JhZGlhbnMgPSBsZW5ndGhUb1JhZGlhbnM7XG4vKipcbiAqIENvbnZlcnQgYSBkaXN0YW5jZSBtZWFzdXJlbWVudCAoYXNzdW1pbmcgYSBzcGhlcmljYWwgRWFydGgpIGZyb20gYSByZWFsLXdvcmxkIHVuaXQgaW50byBkZWdyZWVzXG4gKiBWYWxpZCB1bml0czogbWlsZXMsIG5hdXRpY2FsbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldGVycywgbWV0cmVzLCBjZW50aW1ldGVycywga2lsb21ldHJlcywgZmVldFxuICpcbiAqIEBuYW1lIGxlbmd0aFRvRGVncmVlc1xuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIGluIHJlYWwgdW5pdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pdHM9XCJraWxvbWV0ZXJzXCJdIGNhbiBiZSBkZWdyZWVzLCByYWRpYW5zLCBtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0cmVzLFxuICogbWV0ZXJzLCBraWxvbWV0cmVzLCBraWxvbWV0ZXJzLlxuICogQHJldHVybnMge251bWJlcn0gZGVncmVlc1xuICovXG5mdW5jdGlvbiBsZW5ndGhUb0RlZ3JlZXMoZGlzdGFuY2UsIHVuaXRzKSB7XG4gICAgcmV0dXJuIHJhZGlhbnNUb0RlZ3JlZXMobGVuZ3RoVG9SYWRpYW5zKGRpc3RhbmNlLCB1bml0cykpO1xufVxuZXhwb3J0cy5sZW5ndGhUb0RlZ3JlZXMgPSBsZW5ndGhUb0RlZ3JlZXM7XG4vKipcbiAqIENvbnZlcnRzIGFueSBiZWFyaW5nIGFuZ2xlIGZyb20gdGhlIG5vcnRoIGxpbmUgZGlyZWN0aW9uIChwb3NpdGl2ZSBjbG9ja3dpc2UpXG4gKiBhbmQgcmV0dXJucyBhbiBhbmdsZSBiZXR3ZWVuIDAtMzYwIGRlZ3JlZXMgKHBvc2l0aXZlIGNsb2Nrd2lzZSksIDAgYmVpbmcgdGhlIG5vcnRoIGxpbmVcbiAqXG4gKiBAbmFtZSBiZWFyaW5nVG9BemltdXRoXG4gKiBAcGFyYW0ge251bWJlcn0gYmVhcmluZyBhbmdsZSwgYmV0d2VlbiAtMTgwIGFuZCArMTgwIGRlZ3JlZXNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFuZ2xlIGJldHdlZW4gMCBhbmQgMzYwIGRlZ3JlZXNcbiAqL1xuZnVuY3Rpb24gYmVhcmluZ1RvQXppbXV0aChiZWFyaW5nKSB7XG4gICAgdmFyIGFuZ2xlID0gYmVhcmluZyAlIDM2MDtcbiAgICBpZiAoYW5nbGUgPCAwKSB7XG4gICAgICAgIGFuZ2xlICs9IDM2MDtcbiAgICB9XG4gICAgcmV0dXJuIGFuZ2xlO1xufVxuZXhwb3J0cy5iZWFyaW5nVG9BemltdXRoID0gYmVhcmluZ1RvQXppbXV0aDtcbi8qKlxuICogQ29udmVydHMgYW4gYW5nbGUgaW4gcmFkaWFucyB0byBkZWdyZWVzXG4gKlxuICogQG5hbWUgcmFkaWFuc1RvRGVncmVlc1xuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbnMgYW5nbGUgaW4gcmFkaWFuc1xuICogQHJldHVybnMge251bWJlcn0gZGVncmVlcyBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKi9cbmZ1bmN0aW9uIHJhZGlhbnNUb0RlZ3JlZXMocmFkaWFucykge1xuICAgIHZhciBkZWdyZWVzID0gcmFkaWFucyAlICgyICogTWF0aC5QSSk7XG4gICAgcmV0dXJuIChkZWdyZWVzICogMTgwKSAvIE1hdGguUEk7XG59XG5leHBvcnRzLnJhZGlhbnNUb0RlZ3JlZXMgPSByYWRpYW5zVG9EZWdyZWVzO1xuLyoqXG4gKiBDb252ZXJ0cyBhbiBhbmdsZSBpbiBkZWdyZWVzIHRvIHJhZGlhbnNcbiAqXG4gKiBAbmFtZSBkZWdyZWVzVG9SYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gZGVncmVlcyBhbmdsZSBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cbmZ1bmN0aW9uIGRlZ3JlZXNUb1JhZGlhbnMoZGVncmVlcykge1xuICAgIHZhciByYWRpYW5zID0gZGVncmVlcyAlIDM2MDtcbiAgICByZXR1cm4gKHJhZGlhbnMgKiBNYXRoLlBJKSAvIDE4MDtcbn1cbmV4cG9ydHMuZGVncmVlc1RvUmFkaWFucyA9IGRlZ3JlZXNUb1JhZGlhbnM7XG4vKipcbiAqIENvbnZlcnRzIGEgbGVuZ3RoIHRvIHRoZSByZXF1ZXN0ZWQgdW5pdC5cbiAqIFZhbGlkIHVuaXRzOiBtaWxlcywgbmF1dGljYWxtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0ZXJzLCBtZXRyZXMsIGtpbG9tZXRlcnMsIGNlbnRpbWV0ZXJzLCBmZWV0XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCB0byBiZSBjb252ZXJ0ZWRcbiAqIEBwYXJhbSB7VW5pdHN9IFtvcmlnaW5hbFVuaXQ9XCJraWxvbWV0ZXJzXCJdIG9mIHRoZSBsZW5ndGhcbiAqIEBwYXJhbSB7VW5pdHN9IFtmaW5hbFVuaXQ9XCJraWxvbWV0ZXJzXCJdIHJldHVybmVkIHVuaXRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBjb252ZXJ0ZWQgbGVuZ3RoXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRMZW5ndGgobGVuZ3RoLCBvcmlnaW5hbFVuaXQsIGZpbmFsVW5pdCkge1xuICAgIGlmIChvcmlnaW5hbFVuaXQgPT09IHZvaWQgMCkgeyBvcmlnaW5hbFVuaXQgPSBcImtpbG9tZXRlcnNcIjsgfVxuICAgIGlmIChmaW5hbFVuaXQgPT09IHZvaWQgMCkgeyBmaW5hbFVuaXQgPSBcImtpbG9tZXRlcnNcIjsgfVxuICAgIGlmICghKGxlbmd0aCA+PSAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJsZW5ndGggbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJhZGlhbnNUb0xlbmd0aChsZW5ndGhUb1JhZGlhbnMobGVuZ3RoLCBvcmlnaW5hbFVuaXQpLCBmaW5hbFVuaXQpO1xufVxuZXhwb3J0cy5jb252ZXJ0TGVuZ3RoID0gY29udmVydExlbmd0aDtcbi8qKlxuICogQ29udmVydHMgYSBhcmVhIHRvIHRoZSByZXF1ZXN0ZWQgdW5pdC5cbiAqIFZhbGlkIHVuaXRzOiBraWxvbWV0ZXJzLCBraWxvbWV0cmVzLCBtZXRlcnMsIG1ldHJlcywgY2VudGltZXRyZXMsIG1pbGxpbWV0ZXJzLCBhY3JlcywgbWlsZXMsIHlhcmRzLCBmZWV0LCBpbmNoZXMsIGhlY3RhcmVzXG4gKiBAcGFyYW0ge251bWJlcn0gYXJlYSB0byBiZSBjb252ZXJ0ZWRcbiAqIEBwYXJhbSB7VW5pdHN9IFtvcmlnaW5hbFVuaXQ9XCJtZXRlcnNcIl0gb2YgdGhlIGRpc3RhbmNlXG4gKiBAcGFyYW0ge1VuaXRzfSBbZmluYWxVbml0PVwia2lsb21ldGVyc1wiXSByZXR1cm5lZCB1bml0XG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgY29udmVydGVkIGFyZWFcbiAqL1xuZnVuY3Rpb24gY29udmVydEFyZWEoYXJlYSwgb3JpZ2luYWxVbml0LCBmaW5hbFVuaXQpIHtcbiAgICBpZiAob3JpZ2luYWxVbml0ID09PSB2b2lkIDApIHsgb3JpZ2luYWxVbml0ID0gXCJtZXRlcnNcIjsgfVxuICAgIGlmIChmaW5hbFVuaXQgPT09IHZvaWQgMCkgeyBmaW5hbFVuaXQgPSBcImtpbG9tZXRlcnNcIjsgfVxuICAgIGlmICghKGFyZWEgPj0gMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXJlYSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO1xuICAgIH1cbiAgICB2YXIgc3RhcnRGYWN0b3IgPSBleHBvcnRzLmFyZWFGYWN0b3JzW29yaWdpbmFsVW5pdF07XG4gICAgaWYgKCFzdGFydEZhY3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG9yaWdpbmFsIHVuaXRzXCIpO1xuICAgIH1cbiAgICB2YXIgZmluYWxGYWN0b3IgPSBleHBvcnRzLmFyZWFGYWN0b3JzW2ZpbmFsVW5pdF07XG4gICAgaWYgKCFmaW5hbEZhY3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZpbmFsIHVuaXRzXCIpO1xuICAgIH1cbiAgICByZXR1cm4gKGFyZWEgLyBzdGFydEZhY3RvcikgKiBmaW5hbEZhY3Rvcjtcbn1cbmV4cG9ydHMuY29udmVydEFyZWEgPSBjb252ZXJ0QXJlYTtcbi8qKlxuICogaXNOdW1iZXJcbiAqXG4gKiBAcGFyYW0geyp9IG51bSBOdW1iZXIgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlL2ZhbHNlXG4gKiBAZXhhbXBsZVxuICogdHVyZi5pc051bWJlcigxMjMpXG4gKiAvLz10cnVlXG4gKiB0dXJmLmlzTnVtYmVyKCdmb28nKVxuICogLy89ZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIobnVtKSB7XG4gICAgcmV0dXJuICFpc05hTihudW0pICYmIG51bSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShudW0pO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuLyoqXG4gKiBpc09iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gaW5wdXQgdmFyaWFibGUgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlL2ZhbHNlXG4gKiBAZXhhbXBsZVxuICogdHVyZi5pc09iamVjdCh7ZWxldmF0aW9uOiAxMH0pXG4gKiAvLz10cnVlXG4gKiB0dXJmLmlzT2JqZWN0KCdmb28nKVxuICogLy89ZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcbiAgICByZXR1cm4gISFpbnB1dCAmJiBpbnB1dC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuLyoqXG4gKiBWYWxpZGF0ZSBCQm94XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYmJveCBCQm94IHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEB0aHJvd3MgRXJyb3IgaWYgQkJveCBpcyBub3QgdmFsaWRcbiAqIEBleGFtcGxlXG4gKiB2YWxpZGF0ZUJCb3goWy0xODAsIC00MCwgMTEwLCA1MF0pXG4gKiAvLz1PS1xuICogdmFsaWRhdGVCQm94KFstMTgwLCAtNDBdKVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlQkJveCgnRm9vJylcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3goNSlcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3gobnVsbClcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3godW5kZWZpbmVkKVxuICogLy89RXJyb3JcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVCQm94KGJib3gpIHtcbiAgICBpZiAoIWJib3gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYmJveCBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJib3gpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImJib3ggbXVzdCBiZSBhbiBBcnJheVwiKTtcbiAgICB9XG4gICAgaWYgKGJib3gubGVuZ3RoICE9PSA0ICYmIGJib3gubGVuZ3RoICE9PSA2KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImJib3ggbXVzdCBiZSBhbiBBcnJheSBvZiA0IG9yIDYgbnVtYmVyc1wiKTtcbiAgICB9XG4gICAgYmJveC5mb3JFYWNoKGZ1bmN0aW9uIChudW0pIHtcbiAgICAgICAgaWYgKCFpc051bWJlcihudW0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYm94IG11c3Qgb25seSBjb250YWluIG51bWJlcnNcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMudmFsaWRhdGVCQm94ID0gdmFsaWRhdGVCQm94O1xuLyoqXG4gKiBWYWxpZGF0ZSBJZFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGlkIElkIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEB0aHJvd3MgRXJyb3IgaWYgSWQgaXMgbm90IHZhbGlkXG4gKiBAZXhhbXBsZVxuICogdmFsaWRhdGVJZChbLTE4MCwgLTQwLCAxMTAsIDUwXSlcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUlkKFstMTgwLCAtNDBdKVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlSWQoJ0ZvbycpXG4gKiAvLz1PS1xuICogdmFsaWRhdGVJZCg1KVxuICogLy89T0tcbiAqIHZhbGlkYXRlSWQobnVsbClcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUlkKHVuZGVmaW5lZClcbiAqIC8vPUVycm9yXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlSWQoaWQpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlkIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoW1wic3RyaW5nXCIsIFwibnVtYmVyXCJdLmluZGV4T2YodHlwZW9mIGlkKSA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWQgbXVzdCBiZSBhIG51bWJlciBvciBhIHN0cmluZ1wiKTtcbiAgICB9XG59XG5leHBvcnRzLnZhbGlkYXRlSWQgPSB2YWxpZGF0ZUlkO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGhlbHBlcnMgPSByZXF1aXJlKCdAdHVyZi9oZWxwZXJzJyk7XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGNvb3JkRWFjaFxuICpcbiAqIEBjYWxsYmFjayBjb29yZEVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjdXJyZW50Q29vcmQgVGhlIGN1cnJlbnQgY29vcmRpbmF0ZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gY29vcmRJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgY29vcmRpbmF0ZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGNvb3JkaW5hdGVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5mb3JFYWNoKClcbiAqXG4gKiBAbmFtZSBjb29yZEVhY2hcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRDb29yZCwgY29vcmRJbmRleCwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleClcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2V4Y2x1ZGVXcmFwQ29vcmQ9ZmFsc2VdIHdoZXRoZXIgb3Igbm90IHRvIGluY2x1ZGUgdGhlIGZpbmFsIGNvb3JkaW5hdGUgb2YgTGluZWFyUmluZ3MgdGhhdCB3cmFwcyB0aGUgcmluZyBpbiBpdHMgaXRlcmF0aW9uLlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtcImZvb1wiOiBcImJhclwifSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtcImhlbGxvXCI6IFwid29ybGRcIn0pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmNvb3JkRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGN1cnJlbnRDb29yZCwgY29vcmRJbmRleCwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICogICAvLz1jdXJyZW50Q29vcmRcbiAqICAgLy89Y29vcmRJbmRleFxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89Z2VvbWV0cnlJbmRleFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGNvb3JkRWFjaChnZW9qc29uLCBjYWxsYmFjaywgZXhjbHVkZVdyYXBDb29yZCkge1xuICAvLyBIYW5kbGVzIG51bGwgR2VvbWV0cnkgLS0gU2tpcHMgdGhpcyBHZW9KU09OXG4gIGlmIChnZW9qc29uID09PSBudWxsKSByZXR1cm47XG4gIHZhciBqLFxuICAgIGssXG4gICAgbCxcbiAgICBnZW9tZXRyeSxcbiAgICBzdG9wRyxcbiAgICBjb29yZHMsXG4gICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24sXG4gICAgd3JhcFNocmluayA9IDAsXG4gICAgY29vcmRJbmRleCA9IDAsXG4gICAgaXNHZW9tZXRyeUNvbGxlY3Rpb24sXG4gICAgdHlwZSA9IGdlb2pzb24udHlwZSxcbiAgICBpc0ZlYXR1cmVDb2xsZWN0aW9uID0gdHlwZSA9PT0gXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgIGlzRmVhdHVyZSA9IHR5cGUgPT09IFwiRmVhdHVyZVwiLFxuICAgIHN0b3AgPSBpc0ZlYXR1cmVDb2xsZWN0aW9uID8gZ2VvanNvbi5mZWF0dXJlcy5sZW5ndGggOiAxO1xuXG4gIC8vIFRoaXMgbG9naWMgbWF5IGxvb2sgYSBsaXR0bGUgd2VpcmQuIFRoZSByZWFzb24gd2h5IGl0IGlzIHRoYXQgd2F5XG4gIC8vIGlzIGJlY2F1c2UgaXQncyB0cnlpbmcgdG8gYmUgZmFzdC4gR2VvSlNPTiBzdXBwb3J0cyBtdWx0aXBsZSBraW5kc1xuICAvLyBvZiBvYmplY3RzIGF0IGl0cyByb290OiBGZWF0dXJlQ29sbGVjdGlvbiwgRmVhdHVyZXMsIEdlb21ldHJpZXMuXG4gIC8vIFRoaXMgZnVuY3Rpb24gaGFzIHRoZSByZXNwb25zaWJpbGl0eSBvZiBoYW5kbGluZyBhbGwgb2YgdGhlbSwgYW5kIHRoYXRcbiAgLy8gbWVhbnMgdGhhdCBzb21lIG9mIHRoZSBgZm9yYCBsb29wcyB5b3Ugc2VlIGJlbG93IGFjdHVhbGx5IGp1c3QgZG9uJ3QgYXBwbHlcbiAgLy8gdG8gY2VydGFpbiBpbnB1dHMuIEZvciBpbnN0YW5jZSwgaWYgeW91IGdpdmUgdGhpcyBqdXN0IGFcbiAgLy8gUG9pbnQgZ2VvbWV0cnksIHRoZW4gYm90aCBsb29wcyBhcmUgc2hvcnQtY2lyY3VpdGVkIGFuZCBhbGwgd2UgZG9cbiAgLy8gaXMgZ3JhZHVhbGx5IHJlbmFtZSB0aGUgaW5wdXQgdW50aWwgaXQncyBjYWxsZWQgJ2dlb21ldHJ5Jy5cbiAgLy9cbiAgLy8gVGhpcyBhbHNvIGFpbXMgdG8gYWxsb2NhdGUgYXMgZmV3IHJlc291cmNlcyBhcyBwb3NzaWJsZToganVzdCBhXG4gIC8vIGZldyBudW1iZXJzIGFuZCBib29sZWFucywgcmF0aGVyIHRoYW4gYW55IHRlbXBvcmFyeSBhcnJheXMgYXMgd291bGRcbiAgLy8gYmUgcmVxdWlyZWQgd2l0aCB0aGUgbm9ybWFsaXphdGlvbiBhcHByb2FjaC5cbiAgZm9yICh2YXIgZmVhdHVyZUluZGV4ID0gMDsgZmVhdHVyZUluZGV4IDwgc3RvcDsgZmVhdHVyZUluZGV4KyspIHtcbiAgICBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbiA9IGlzRmVhdHVyZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvanNvbi5mZWF0dXJlc1tmZWF0dXJlSW5kZXhdLmdlb21ldHJ5XG4gICAgICA6IGlzRmVhdHVyZVxuICAgICAgPyBnZW9qc29uLmdlb21ldHJ5XG4gICAgICA6IGdlb2pzb247XG4gICAgaXNHZW9tZXRyeUNvbGxlY3Rpb24gPSBnZW9tZXRyeU1heWJlQ29sbGVjdGlvblxuICAgICAgPyBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi50eXBlID09PSBcIkdlb21ldHJ5Q29sbGVjdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICAgIHN0b3BHID0gaXNHZW9tZXRyeUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24uZ2VvbWV0cmllcy5sZW5ndGhcbiAgICAgIDogMTtcblxuICAgIGZvciAodmFyIGdlb21JbmRleCA9IDA7IGdlb21JbmRleCA8IHN0b3BHOyBnZW9tSW5kZXgrKykge1xuICAgICAgdmFyIG11bHRpRmVhdHVyZUluZGV4ID0gMDtcbiAgICAgIHZhciBnZW9tZXRyeUluZGV4ID0gMDtcbiAgICAgIGdlb21ldHJ5ID0gaXNHZW9tZXRyeUNvbGxlY3Rpb25cbiAgICAgICAgPyBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi5nZW9tZXRyaWVzW2dlb21JbmRleF1cbiAgICAgICAgOiBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbjtcblxuICAgICAgLy8gSGFuZGxlcyBudWxsIEdlb21ldHJ5IC0tIFNraXBzIHRoaXMgZ2VvbWV0cnlcbiAgICAgIGlmIChnZW9tZXRyeSA9PT0gbnVsbCkgY29udGludWU7XG4gICAgICBjb29yZHMgPSBnZW9tZXRyeS5jb29yZGluYXRlcztcbiAgICAgIHZhciBnZW9tVHlwZSA9IGdlb21ldHJ5LnR5cGU7XG5cbiAgICAgIHdyYXBTaHJpbmsgPVxuICAgICAgICBleGNsdWRlV3JhcENvb3JkICYmXG4gICAgICAgIChnZW9tVHlwZSA9PT0gXCJQb2x5Z29uXCIgfHwgZ2VvbVR5cGUgPT09IFwiTXVsdGlQb2x5Z29uXCIpXG4gICAgICAgICAgPyAxXG4gICAgICAgICAgOiAwO1xuXG4gICAgICBzd2l0Y2ggKGdlb21UeXBlKSB7XG4gICAgICAgIGNhc2UgbnVsbDpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgIGNvb3JkcyxcbiAgICAgICAgICAgICAgY29vcmRJbmRleCxcbiAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgY29vcmRJbmRleCsrO1xuICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvb3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICBjb29yZHNbal0sXG4gICAgICAgICAgICAgICAgY29vcmRJbmRleCxcbiAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjb29yZEluZGV4Kys7XG4gICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IFwiTXVsdGlQb2ludFwiKSBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IFwiTGluZVN0cmluZ1wiKSBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvb3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IGNvb3Jkc1tqXS5sZW5ndGggLSB3cmFwU2hyaW5rOyBrKyspIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICAgICAgY29vcmRzW2pdW2tdLFxuICAgICAgICAgICAgICAgICAgY29vcmRJbmRleCxcbiAgICAgICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gXCJNdWx0aUxpbmVTdHJpbmdcIikgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gXCJQb2x5Z29uXCIpIGdlb21ldHJ5SW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGdlb21UeXBlID09PSBcIlBvbHlnb25cIikgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGdlb21ldHJ5SW5kZXggPSAwO1xuICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IGNvb3Jkc1tqXS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICBmb3IgKGwgPSAwOyBsIDwgY29vcmRzW2pdW2tdLmxlbmd0aCAtIHdyYXBTaHJpbms7IGwrKykge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICAgICAgICBjb29yZHNbal1ba11bbF0sXG4gICAgICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkdlb21ldHJ5Q29sbGVjdGlvblwiOlxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBnZW9tZXRyeS5nZW9tZXRyaWVzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjb29yZEVhY2goZ2VvbWV0cnkuZ2VvbWV0cmllc1tqXSwgY2FsbGJhY2ssIGV4Y2x1ZGVXcmFwQ29vcmQpID09PVxuICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBHZW9tZXRyeSBUeXBlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBjb29yZFJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGNvb3JkUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGN1cnJlbnRDb29yZCBUaGUgY3VycmVudCBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb29yZEluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIFN0YXJ0cyBhdCBpbmRleCAwLCBpZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQsIGFuZCBhdCBpbmRleCAxIG90aGVyd2lzZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgY29vcmRpbmF0ZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LnJlZHVjZSgpXG4gKlxuICogQG5hbWUgY29vcmRSZWR1Y2VcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258R2VvbWV0cnl8RmVhdHVyZX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRDb29yZCwgY29vcmRJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtleGNsdWRlV3JhcENvb3JkPWZhbHNlXSB3aGV0aGVyIG9yIG5vdCB0byBpbmNsdWRlIHRoZSBmaW5hbCBjb29yZGluYXRlIG9mIExpbmVhclJpbmdzIHRoYXQgd3JhcHMgdGhlIHJpbmcgaW4gaXRzIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge1wiZm9vXCI6IFwiYmFyXCJ9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge1wiaGVsbG9cIjogXCJ3b3JsZFwifSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuY29vcmRSZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50Q29vcmRcbiAqICAgLy89Y29vcmRJbmRleFxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89Z2VvbWV0cnlJbmRleFxuICogICByZXR1cm4gY3VycmVudENvb3JkO1xuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGNvb3JkUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUsIGV4Y2x1ZGVXcmFwQ29vcmQpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIGNvb3JkRWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChcbiAgICAgIGN1cnJlbnRDb29yZCxcbiAgICAgIGNvb3JkSW5kZXgsXG4gICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICApIHtcbiAgICAgIGlmIChjb29yZEluZGV4ID09PSAwICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY3VycmVudENvb3JkO1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50Q29vcmQsXG4gICAgICAgICAgY29vcmRJbmRleCxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICApO1xuICAgIH0sXG4gICAgZXhjbHVkZVdyYXBDb29yZFxuICApO1xuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgcHJvcEVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgcHJvcEVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtPYmplY3R9IGN1cnJlbnRQcm9wZXJ0aWVzIFRoZSBjdXJyZW50IFByb3BlcnRpZXMgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgcHJvcGVydGllcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaCgpXG4gKlxuICogQG5hbWUgcHJvcEVhY2hcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLnByb3BFYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleCkge1xuICogICAvLz1jdXJyZW50UHJvcGVydGllc1xuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBwcm9wRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICB2YXIgaTtcbiAgc3dpdGNoIChnZW9qc29uLnR5cGUpIHtcbiAgICBjYXNlIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjpcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayhnZW9qc29uLmZlYXR1cmVzW2ldLnByb3BlcnRpZXMsIGkpID09PSBmYWxzZSkgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiRmVhdHVyZVwiOlxuICAgICAgY2FsbGJhY2soZ2VvanNvbi5wcm9wZXJ0aWVzLCAwKTtcbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHByb3BSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBwcm9wUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0geyp9IGN1cnJlbnRQcm9wZXJ0aWVzIFRoZSBjdXJyZW50IFByb3BlcnRpZXMgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgcHJvcGVydGllcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QgaW50byBhIHNpbmdsZSB2YWx1ZSxcbiAqIHNpbWlsYXIgdG8gaG93IEFycmF5LnJlZHVjZSB3b3Jrcy4gSG93ZXZlciwgaW4gdGhpcyBjYXNlIHdlIGxhemlseSBydW5cbiAqIHRoZSByZWR1Y3Rpb24sIHNvIGFuIGFycmF5IG9mIGFsbCBwcm9wZXJ0aWVzIGlzIHVubmVjZXNzYXJ5LlxuICpcbiAqIEBuYW1lIHByb3BSZWR1Y2VcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYucHJvcFJlZHVjZShmZWF0dXJlcywgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50UHJvcGVydGllc1xuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRQcm9wZXJ0aWVzXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gcHJvcFJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBwcm9wRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleCkge1xuICAgIGlmIChmZWF0dXJlSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICBwcmV2aW91c1ZhbHVlID0gY3VycmVudFByb3BlcnRpZXM7XG4gICAgZWxzZVxuICAgICAgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpO1xuICB9KTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGZlYXR1cmVFYWNoXG4gKlxuICogQGNhbGxiYWNrIGZlYXR1cmVFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RmVhdHVyZTxhbnk+fSBjdXJyZW50RmVhdHVyZSBUaGUgY3VycmVudCBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0b1xuICogQXJyYXkuZm9yRWFjaC5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleClcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5mZWF0dXJlRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89Y3VycmVudEZlYXR1cmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZmVhdHVyZUVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgaWYgKGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlXCIpIHtcbiAgICBjYWxsYmFjayhnZW9qc29uLCAwKTtcbiAgfSBlbHNlIGlmIChnZW9qc29uLnR5cGUgPT09IFwiRmVhdHVyZUNvbGxlY3Rpb25cIikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvanNvbi5mZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNhbGxiYWNrKGdlb2pzb24uZmVhdHVyZXNbaV0sIGkpID09PSBmYWxzZSkgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGZlYXR1cmVSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBmZWF0dXJlUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmV9IGN1cnJlbnRGZWF0dXJlIFRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgZmVhdHVyZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LnJlZHVjZSgpLlxuICpcbiAqIEBuYW1lIGZlYXR1cmVSZWR1Y2VcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7XCJmb29cIjogXCJiYXJcIn0pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7XCJoZWxsb1wiOiBcIndvcmxkXCJ9KVxuICogXSk7XG4gKlxuICogdHVyZi5mZWF0dXJlUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICByZXR1cm4gY3VycmVudEZlYXR1cmVcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBmZWF0dXJlUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIGZlYXR1cmVFYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KSB7XG4gICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50RmVhdHVyZTtcbiAgICBlbHNlIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KTtcbiAgfSk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIEdldCBhbGwgY29vcmRpbmF0ZXMgZnJvbSBhbnkgR2VvSlNPTiBvYmplY3QuXG4gKlxuICogQG5hbWUgY29vcmRBbGxcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEByZXR1cm5zIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZSBwb3NpdGlvbiBhcnJheVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdmFyIGNvb3JkcyA9IHR1cmYuY29vcmRBbGwoZmVhdHVyZXMpO1xuICogLy89IFtbMjYsIDM3XSwgWzM2LCA1M11dXG4gKi9cbmZ1bmN0aW9uIGNvb3JkQWxsKGdlb2pzb24pIHtcbiAgdmFyIGNvb3JkcyA9IFtdO1xuICBjb29yZEVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGNvb3JkKSB7XG4gICAgY29vcmRzLnB1c2goY29vcmQpO1xuICB9KTtcbiAgcmV0dXJuIGNvb3Jkcztcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZ2VvbUVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgZ2VvbUVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtHZW9tZXRyeX0gY3VycmVudEdlb21ldHJ5IFRoZSBjdXJyZW50IEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtPYmplY3R9IGZlYXR1cmVQcm9wZXJ0aWVzIFRoZSBjdXJyZW50IEZlYXR1cmUgUHJvcGVydGllcyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZlYXR1cmVCQm94IFRoZSBjdXJyZW50IEZlYXR1cmUgQkJveCBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGZlYXR1cmVJZCBUaGUgY3VycmVudCBGZWF0dXJlIElkIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBlYWNoIGdlb21ldHJ5IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5mb3JFYWNoKClcbiAqXG4gKiBAbmFtZSBnZW9tRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudEdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVQcm9wZXJ0aWVzLCBmZWF0dXJlQkJveCwgZmVhdHVyZUlkKVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5nZW9tRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGN1cnJlbnRHZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlUHJvcGVydGllcywgZmVhdHVyZUJCb3gsIGZlYXR1cmVJZCkge1xuICogICAvLz1jdXJyZW50R2VvbWV0cnlcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPWZlYXR1cmVQcm9wZXJ0aWVzXG4gKiAgIC8vPWZlYXR1cmVCQm94XG4gKiAgIC8vPWZlYXR1cmVJZFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGdlb21FYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gIHZhciBpLFxuICAgIGosXG4gICAgZyxcbiAgICBnZW9tZXRyeSxcbiAgICBzdG9wRyxcbiAgICBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbixcbiAgICBpc0dlb21ldHJ5Q29sbGVjdGlvbixcbiAgICBmZWF0dXJlUHJvcGVydGllcyxcbiAgICBmZWF0dXJlQkJveCxcbiAgICBmZWF0dXJlSWQsXG4gICAgZmVhdHVyZUluZGV4ID0gMCxcbiAgICBpc0ZlYXR1cmVDb2xsZWN0aW9uID0gZ2VvanNvbi50eXBlID09PSBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgaXNGZWF0dXJlID0gZ2VvanNvbi50eXBlID09PSBcIkZlYXR1cmVcIixcbiAgICBzdG9wID0gaXNGZWF0dXJlQ29sbGVjdGlvbiA/IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoIDogMTtcblxuICAvLyBUaGlzIGxvZ2ljIG1heSBsb29rIGEgbGl0dGxlIHdlaXJkLiBUaGUgcmVhc29uIHdoeSBpdCBpcyB0aGF0IHdheVxuICAvLyBpcyBiZWNhdXNlIGl0J3MgdHJ5aW5nIHRvIGJlIGZhc3QuIEdlb0pTT04gc3VwcG9ydHMgbXVsdGlwbGUga2luZHNcbiAgLy8gb2Ygb2JqZWN0cyBhdCBpdHMgcm9vdDogRmVhdHVyZUNvbGxlY3Rpb24sIEZlYXR1cmVzLCBHZW9tZXRyaWVzLlxuICAvLyBUaGlzIGZ1bmN0aW9uIGhhcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgaGFuZGxpbmcgYWxsIG9mIHRoZW0sIGFuZCB0aGF0XG4gIC8vIG1lYW5zIHRoYXQgc29tZSBvZiB0aGUgYGZvcmAgbG9vcHMgeW91IHNlZSBiZWxvdyBhY3R1YWxseSBqdXN0IGRvbid0IGFwcGx5XG4gIC8vIHRvIGNlcnRhaW4gaW5wdXRzLiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBnaXZlIHRoaXMganVzdCBhXG4gIC8vIFBvaW50IGdlb21ldHJ5LCB0aGVuIGJvdGggbG9vcHMgYXJlIHNob3J0LWNpcmN1aXRlZCBhbmQgYWxsIHdlIGRvXG4gIC8vIGlzIGdyYWR1YWxseSByZW5hbWUgdGhlIGlucHV0IHVudGlsIGl0J3MgY2FsbGVkICdnZW9tZXRyeScuXG4gIC8vXG4gIC8vIFRoaXMgYWxzbyBhaW1zIHRvIGFsbG9jYXRlIGFzIGZldyByZXNvdXJjZXMgYXMgcG9zc2libGU6IGp1c3QgYVxuICAvLyBmZXcgbnVtYmVycyBhbmQgYm9vbGVhbnMsIHJhdGhlciB0aGFuIGFueSB0ZW1wb3JhcnkgYXJyYXlzIGFzIHdvdWxkXG4gIC8vIGJlIHJlcXVpcmVkIHdpdGggdGhlIG5vcm1hbGl6YXRpb24gYXBwcm9hY2guXG4gIGZvciAoaSA9IDA7IGkgPCBzdG9wOyBpKyspIHtcbiAgICBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbiA9IGlzRmVhdHVyZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvanNvbi5mZWF0dXJlc1tpXS5nZW9tZXRyeVxuICAgICAgOiBpc0ZlYXR1cmVcbiAgICAgID8gZ2VvanNvbi5nZW9tZXRyeVxuICAgICAgOiBnZW9qc29uO1xuICAgIGZlYXR1cmVQcm9wZXJ0aWVzID0gaXNGZWF0dXJlQ29sbGVjdGlvblxuICAgICAgPyBnZW9qc29uLmZlYXR1cmVzW2ldLnByb3BlcnRpZXNcbiAgICAgIDogaXNGZWF0dXJlXG4gICAgICA/IGdlb2pzb24ucHJvcGVydGllc1xuICAgICAgOiB7fTtcbiAgICBmZWF0dXJlQkJveCA9IGlzRmVhdHVyZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvanNvbi5mZWF0dXJlc1tpXS5iYm94XG4gICAgICA6IGlzRmVhdHVyZVxuICAgICAgPyBnZW9qc29uLmJib3hcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIGZlYXR1cmVJZCA9IGlzRmVhdHVyZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvanNvbi5mZWF0dXJlc1tpXS5pZFxuICAgICAgOiBpc0ZlYXR1cmVcbiAgICAgID8gZ2VvanNvbi5pZFxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgaXNHZW9tZXRyeUNvbGxlY3Rpb24gPSBnZW9tZXRyeU1heWJlQ29sbGVjdGlvblxuICAgICAgPyBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi50eXBlID09PSBcIkdlb21ldHJ5Q29sbGVjdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICAgIHN0b3BHID0gaXNHZW9tZXRyeUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24uZ2VvbWV0cmllcy5sZW5ndGhcbiAgICAgIDogMTtcblxuICAgIGZvciAoZyA9IDA7IGcgPCBzdG9wRzsgZysrKSB7XG4gICAgICBnZW9tZXRyeSA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uXG4gICAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24uZ2VvbWV0cmllc1tnXVxuICAgICAgICA6IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uO1xuXG4gICAgICAvLyBIYW5kbGUgbnVsbCBHZW9tZXRyeVxuICAgICAgaWYgKGdlb21ldHJ5ID09PSBudWxsKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICBmZWF0dXJlUHJvcGVydGllcyxcbiAgICAgICAgICAgIGZlYXR1cmVCQm94LFxuICAgICAgICAgICAgZmVhdHVyZUlkXG4gICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGdlb21ldHJ5LnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcIk11bHRpUG9seWdvblwiOiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIGZlYXR1cmVQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICBmZWF0dXJlQkJveCxcbiAgICAgICAgICAgICAgZmVhdHVyZUlkXG4gICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI6IHtcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICBnZW9tZXRyeS5nZW9tZXRyaWVzW2pdLFxuICAgICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICBmZWF0dXJlUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBmZWF0dXJlQkJveCxcbiAgICAgICAgICAgICAgICBmZWF0dXJlSWRcbiAgICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gR2VvbWV0cnkgVHlwZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gT25seSBpbmNyZWFzZSBgZmVhdHVyZUluZGV4YCBwZXIgZWFjaCBmZWF0dXJlXG4gICAgZmVhdHVyZUluZGV4Kys7XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZ2VvbVJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGdlb21SZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7R2VvbWV0cnl9IGN1cnJlbnRHZW9tZXRyeSBUaGUgY3VycmVudCBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBmZWF0dXJlUHJvcGVydGllcyBUaGUgY3VycmVudCBGZWF0dXJlIFByb3BlcnRpZXMgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmZWF0dXJlQkJveCBUaGUgY3VycmVudCBGZWF0dXJlIEJCb3ggYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBmZWF0dXJlSWQgVGhlIGN1cnJlbnQgRmVhdHVyZSBJZCBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgZ2VvbWV0cnkgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LnJlZHVjZSgpLlxuICpcbiAqIEBuYW1lIGdlb21SZWR1Y2VcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRHZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlUHJvcGVydGllcywgZmVhdHVyZUJCb3gsIGZlYXR1cmVJZClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5nZW9tUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudEdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVQcm9wZXJ0aWVzLCBmZWF0dXJlQkJveCwgZmVhdHVyZUlkKSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudEdlb21ldHJ5XG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1mZWF0dXJlUHJvcGVydGllc1xuICogICAvLz1mZWF0dXJlQkJveFxuICogICAvLz1mZWF0dXJlSWRcbiAqICAgcmV0dXJuIGN1cnJlbnRHZW9tZXRyeVxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGdlb21SZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgZ2VvbUVhY2goXG4gICAgZ2VvanNvbixcbiAgICBmdW5jdGlvbiAoXG4gICAgICBjdXJyZW50R2VvbWV0cnksXG4gICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICBmZWF0dXJlUHJvcGVydGllcyxcbiAgICAgIGZlYXR1cmVCQm94LFxuICAgICAgZmVhdHVyZUlkXG4gICAgKSB7XG4gICAgICBpZiAoZmVhdHVyZUluZGV4ID09PSAwICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY3VycmVudEdlb21ldHJ5O1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50R2VvbWV0cnksXG4gICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgIGZlYXR1cmVQcm9wZXJ0aWVzLFxuICAgICAgICAgIGZlYXR1cmVCQm94LFxuICAgICAgICAgIGZlYXR1cmVJZFxuICAgICAgICApO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGZsYXR0ZW5FYWNoXG4gKlxuICogQGNhbGxiYWNrIGZsYXR0ZW5FYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RmVhdHVyZX0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgZmxhdHRlbmVkIGZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGZsYXR0ZW5lZCBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG9cbiAqIEFycmF5LmZvckVhY2guXG4gKlxuICogQG5hbWUgZmxhdHRlbkVhY2hcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5tdWx0aVBvaW50KFtbNDAsIDMwXSwgWzM2LCA1M11dLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5mbGF0dGVuRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGZsYXR0ZW5FYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gIGdlb21FYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChnZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBwcm9wZXJ0aWVzLCBiYm94LCBpZCkge1xuICAgIC8vIENhbGxiYWNrIGZvciBzaW5nbGUgZ2VvbWV0cnlcbiAgICB2YXIgdHlwZSA9IGdlb21ldHJ5ID09PSBudWxsID8gbnVsbCA6IGdlb21ldHJ5LnR5cGU7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIG51bGw6XG4gICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICBoZWxwZXJzLmZlYXR1cmUoZ2VvbWV0cnksIHByb3BlcnRpZXMsIHsgYmJveDogYmJveCwgaWQ6IGlkIH0pLFxuICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgMFxuICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZ2VvbVR5cGU7XG5cbiAgICAvLyBDYWxsYmFjayBmb3IgbXVsdGktZ2VvbWV0cnlcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgIGdlb21UeXBlID0gXCJQb2ludFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgZ2VvbVR5cGUgPSBcIkxpbmVTdHJpbmdcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICAgIGdlb21UeXBlID0gXCJQb2x5Z29uXCI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGZvciAoXG4gICAgICB2YXIgbXVsdGlGZWF0dXJlSW5kZXggPSAwO1xuICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPCBnZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICBtdWx0aUZlYXR1cmVJbmRleCsrXG4gICAgKSB7XG4gICAgICB2YXIgY29vcmRpbmF0ZSA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzW211bHRpRmVhdHVyZUluZGV4XTtcbiAgICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBnZW9tVHlwZSxcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGUsXG4gICAgICB9O1xuICAgICAgaWYgKFxuICAgICAgICBjYWxsYmFjayhoZWxwZXJzLmZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcyksIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpID09PVxuICAgICAgICBmYWxzZVxuICAgICAgKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZmxhdHRlblJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGZsYXR0ZW5SZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7RmVhdHVyZX0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgZmxhdHRlbmVkIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBmbGF0dGVuUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLm11bHRpUG9pbnQoW1s0MCwgMzBdLCBbMzYsIDUzXV0sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmZsYXR0ZW5SZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogICByZXR1cm4gY3VycmVudEZlYXR1cmVcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBmbGF0dGVuUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIGZsYXR0ZW5FYWNoKFxuICAgIGdlb2pzb24sXG4gICAgZnVuY3Rpb24gKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KSB7XG4gICAgICBpZiAoXG4gICAgICAgIGZlYXR1cmVJbmRleCA9PT0gMCAmJlxuICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCA9PT0gMCAmJlxuICAgICAgICBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgKVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY3VycmVudEZlYXR1cmU7XG4gICAgICBlbHNlXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhcbiAgICAgICAgICBwcmV2aW91c1ZhbHVlLFxuICAgICAgICAgIGN1cnJlbnRGZWF0dXJlLFxuICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleFxuICAgICAgICApO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHNlZ21lbnRFYWNoXG4gKlxuICogQGNhbGxiYWNrIHNlZ21lbnRFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY3VycmVudFNlZ21lbnQgVGhlIGN1cnJlbnQgU2VnbWVudCBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IHNlZ21lbnRJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgU2VnbWVudCBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciAyLXZlcnRleCBsaW5lIHNlZ21lbnQgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICogKE11bHRpKVBvaW50IGdlb21ldHJpZXMgZG8gbm90IGNvbnRhaW4gc2VnbWVudHMgdGhlcmVmb3JlIHRoZXkgYXJlIGlnbm9yZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgsIHNlZ21lbnRJbmRleClcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5Z29uID0gdHVyZi5wb2x5Z29uKFtbWy01MCwgNV0sIFstNDAsIC0xMF0sIFstNTAsIC0xMF0sIFstNDAsIDVdLCBbLTUwLCA1XV1dKTtcbiAqXG4gKiAvLyBJdGVyYXRlIG92ZXIgR2VvSlNPTiBieSAyLXZlcnRleCBzZWdtZW50c1xuICogdHVyZi5zZWdtZW50RWFjaChwb2x5Z29uLCBmdW5jdGlvbiAoY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgsIHNlZ21lbnRJbmRleCkge1xuICogICAvLz1jdXJyZW50U2VnbWVudFxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89Z2VvbWV0cnlJbmRleFxuICogICAvLz1zZWdtZW50SW5kZXhcbiAqIH0pO1xuICpcbiAqIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIHNlZ21lbnRzXG4gKiB2YXIgdG90YWwgPSAwO1xuICogdHVyZi5zZWdtZW50RWFjaChwb2x5Z29uLCBmdW5jdGlvbiAoKSB7XG4gKiAgICAgdG90YWwrKztcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBzZWdtZW50RWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICBmbGF0dGVuRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICAgIHZhciBzZWdtZW50SW5kZXggPSAwO1xuXG4gICAgLy8gRXhjbHVkZSBudWxsIEdlb21ldHJpZXNcbiAgICBpZiAoIWZlYXR1cmUuZ2VvbWV0cnkpIHJldHVybjtcbiAgICAvLyAoTXVsdGkpUG9pbnQgZ2VvbWV0cmllcyBkbyBub3QgY29udGFpbiBzZWdtZW50cyB0aGVyZWZvcmUgdGhleSBhcmUgaWdub3JlZCBkdXJpbmcgdGhpcyBvcGVyYXRpb24uXG4gICAgdmFyIHR5cGUgPSBmZWF0dXJlLmdlb21ldHJ5LnR5cGU7XG4gICAgaWYgKHR5cGUgPT09IFwiUG9pbnRcIiB8fCB0eXBlID09PSBcIk11bHRpUG9pbnRcIikgcmV0dXJuO1xuXG4gICAgLy8gR2VuZXJhdGUgMi12ZXJ0ZXggbGluZSBzZWdtZW50c1xuICAgIHZhciBwcmV2aW91c0Nvb3JkcztcbiAgICB2YXIgcHJldmlvdXNGZWF0dXJlSW5kZXggPSAwO1xuICAgIHZhciBwcmV2aW91c011bHRpSW5kZXggPSAwO1xuICAgIHZhciBwcmV2R2VvbUluZGV4ID0gMDtcbiAgICBpZiAoXG4gICAgICBjb29yZEVhY2goXG4gICAgICAgIGZlYXR1cmUsXG4gICAgICAgIGZ1bmN0aW9uIChcbiAgICAgICAgICBjdXJyZW50Q29vcmQsXG4gICAgICAgICAgY29vcmRJbmRleCxcbiAgICAgICAgICBmZWF0dXJlSW5kZXhDb29yZCxcbiAgICAgICAgICBtdWx0aVBhcnRJbmRleENvb3JkLFxuICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gU2ltdWxhdGluZyBhIG1ldGEuY29vcmRSZWR1Y2UoKSBzaW5jZSBgcmVkdWNlYCBvcGVyYXRpb25zIGNhbm5vdCBiZSBzdG9wcGVkIGJ5IHJldHVybmluZyBgZmFsc2VgXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHJldmlvdXNDb29yZHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgZmVhdHVyZUluZGV4ID4gcHJldmlvdXNGZWF0dXJlSW5kZXggfHxcbiAgICAgICAgICAgIG11bHRpUGFydEluZGV4Q29vcmQgPiBwcmV2aW91c011bHRpSW5kZXggfHxcbiAgICAgICAgICAgIGdlb21ldHJ5SW5kZXggPiBwcmV2R2VvbUluZGV4XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwcmV2aW91c0Nvb3JkcyA9IGN1cnJlbnRDb29yZDtcbiAgICAgICAgICAgIHByZXZpb3VzRmVhdHVyZUluZGV4ID0gZmVhdHVyZUluZGV4O1xuICAgICAgICAgICAgcHJldmlvdXNNdWx0aUluZGV4ID0gbXVsdGlQYXJ0SW5kZXhDb29yZDtcbiAgICAgICAgICAgIHByZXZHZW9tSW5kZXggPSBnZW9tZXRyeUluZGV4O1xuICAgICAgICAgICAgc2VnbWVudEluZGV4ID0gMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGN1cnJlbnRTZWdtZW50ID0gaGVscGVycy5saW5lU3RyaW5nKFxuICAgICAgICAgICAgW3ByZXZpb3VzQ29vcmRzLCBjdXJyZW50Q29vcmRdLFxuICAgICAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgY3VycmVudFNlZ21lbnQsXG4gICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXgsXG4gICAgICAgICAgICAgIHNlZ21lbnRJbmRleFxuICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgc2VnbWVudEluZGV4Kys7XG4gICAgICAgICAgcHJldmlvdXNDb29yZHMgPSBjdXJyZW50Q29vcmQ7XG4gICAgICAgIH1cbiAgICAgICkgPT09IGZhbHNlXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3Igc2VnbWVudFJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIHNlZ21lbnRSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY3VycmVudFNlZ21lbnQgVGhlIGN1cnJlbnQgU2VnbWVudCBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IHNlZ21lbnRJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgU2VnbWVudCBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgMi12ZXJ0ZXggbGluZSBzZWdtZW50IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKVxuICogKE11bHRpKVBvaW50IGdlb21ldHJpZXMgZG8gbm90IGNvbnRhaW4gc2VnbWVudHMgdGhlcmVmb3JlIHRoZXkgYXJlIGlnbm9yZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudFNlZ21lbnQsIGN1cnJlbnRJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNTAsIDVdLCBbLTQwLCAtMTBdLCBbLTUwLCAtMTBdLCBbLTQwLCA1XSwgWy01MCwgNV1dXSk7XG4gKlxuICogLy8gSXRlcmF0ZSBvdmVyIEdlb0pTT04gYnkgMi12ZXJ0ZXggc2VnbWVudHNcbiAqIHR1cmYuc2VnbWVudFJlZHVjZShwb2x5Z29uLCBmdW5jdGlvbiAocHJldmlvdXNTZWdtZW50LCBjdXJyZW50U2VnbWVudCwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCwgc2VnbWVudEluZGV4KSB7XG4gKiAgIC8vPSBwcmV2aW91c1NlZ21lbnRcbiAqICAgLy89IGN1cnJlbnRTZWdtZW50XG4gKiAgIC8vPSBmZWF0dXJlSW5kZXhcbiAqICAgLy89IG11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPSBnZW9tZXRyeUluZGV4XG4gKiAgIC8vPSBzZWdtZW50SW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRTZWdtZW50XG4gKiB9KTtcbiAqXG4gKiAvLyBDYWxjdWxhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBzZWdtZW50c1xuICogdmFyIGluaXRpYWxWYWx1ZSA9IDBcbiAqIHZhciB0b3RhbCA9IHR1cmYuc2VnbWVudFJlZHVjZShwb2x5Z29uLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSkge1xuICogICAgIHByZXZpb3VzVmFsdWUrKztcbiAqICAgICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbiAqIH0sIGluaXRpYWxWYWx1ZSk7XG4gKi9cbmZ1bmN0aW9uIHNlZ21lbnRSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgdmFyIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgc2VnbWVudEVhY2goXG4gICAgZ2VvanNvbixcbiAgICBmdW5jdGlvbiAoXG4gICAgICBjdXJyZW50U2VnbWVudCxcbiAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgZ2VvbWV0cnlJbmRleCxcbiAgICAgIHNlZ21lbnRJbmRleFxuICAgICkge1xuICAgICAgaWYgKHN0YXJ0ZWQgPT09IGZhbHNlICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY3VycmVudFNlZ21lbnQ7XG4gICAgICBlbHNlXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhcbiAgICAgICAgICBwcmV2aW91c1ZhbHVlLFxuICAgICAgICAgIGN1cnJlbnRTZWdtZW50LFxuICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICBnZW9tZXRyeUluZGV4LFxuICAgICAgICAgIHNlZ21lbnRJbmRleFxuICAgICAgICApO1xuICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgfVxuICApO1xuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgbGluZUVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgbGluZUVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBjdXJyZW50TGluZSBUaGUgY3VycmVudCBMaW5lU3RyaW5nfExpbmVhclJpbmcgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZFxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGxpbmUgb3IgcmluZyBjb29yZGluYXRlcyBpbiBMaW5lU3RyaW5nLCBQb2x5Z29uLCBNdWx0aUxpbmVTdHJpbmcsIE11bHRpUG9seWdvbiBGZWF0dXJlcyBvciBHZW9tZXRyaWVzLFxuICogc2ltaWxhciB0byBBcnJheS5mb3JFYWNoLlxuICpcbiAqIEBuYW1lIGxpbmVFYWNoXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8TGluZVN0cmluZ3xQb2x5Z29ufE11bHRpTGluZVN0cmluZ3xNdWx0aVBvbHlnb24+fSBnZW9qc29uIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpTGluZSA9IHR1cmYubXVsdGlMaW5lU3RyaW5nKFtcbiAqICAgW1syNiwgMzddLCBbMzUsIDQ1XV0sXG4gKiAgIFtbMzYsIDUzXSwgWzM4LCA1MF0sIFs0MSwgNTVdXVxuICogXSk7XG4gKlxuICogdHVyZi5saW5lRWFjaChtdWx0aUxpbmUsIGZ1bmN0aW9uIChjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICogICAvLz1jdXJyZW50TGluZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89Z2VvbWV0cnlJbmRleFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGxpbmVFYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gIC8vIHZhbGlkYXRpb25cbiAgaWYgKCFnZW9qc29uKSB0aHJvdyBuZXcgRXJyb3IoXCJnZW9qc29uIGlzIHJlcXVpcmVkXCIpO1xuXG4gIGZsYXR0ZW5FYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChmZWF0dXJlLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KSB7XG4gICAgaWYgKGZlYXR1cmUuZ2VvbWV0cnkgPT09IG51bGwpIHJldHVybjtcbiAgICB2YXIgdHlwZSA9IGZlYXR1cmUuZ2VvbWV0cnkudHlwZTtcbiAgICB2YXIgY29vcmRzID0gZmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlcztcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgIGlmIChjYWxsYmFjayhmZWF0dXJlLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCAwLCAwKSA9PT0gZmFsc2UpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGdlb21ldHJ5SW5kZXggPSAwO1xuICAgICAgICAgIGdlb21ldHJ5SW5kZXggPCBjb29yZHMubGVuZ3RoO1xuICAgICAgICAgIGdlb21ldHJ5SW5kZXgrK1xuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgaGVscGVycy5saW5lU3RyaW5nKGNvb3Jkc1tnZW9tZXRyeUluZGV4XSwgZmVhdHVyZS5wcm9wZXJ0aWVzKSxcbiAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgbGluZVJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGxpbmVSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY3VycmVudExpbmUgVGhlIGN1cnJlbnQgTGluZVN0cmluZ3xMaW5lYXJSaW5nIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgZmVhdHVyZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LnJlZHVjZSgpLlxuICpcbiAqIEBuYW1lIGxpbmVSZWR1Y2VcbiAqIEBwYXJhbSB7R2VvbWV0cnl8RmVhdHVyZTxMaW5lU3RyaW5nfFBvbHlnb258TXVsdGlMaW5lU3RyaW5nfE11bHRpUG9seWdvbj59IGdlb2pzb24gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpUG9seSA9IHR1cmYubXVsdGlQb2x5Z29uKFtcbiAqICAgdHVyZi5wb2x5Z29uKFtbWzEyLDQ4XSxbMiw0MV0sWzI0LDM4XSxbMTIsNDhdXSwgW1s5LDQ0XSxbMTMsNDFdLFsxMyw0NV0sWzksNDRdXV0pLFxuICogICB0dXJmLnBvbHlnb24oW1tbNSwgNV0sIFswLCAwXSwgWzIsIDJdLCBbNCwgNF0sIFs1LCA1XV1dKVxuICogXSk7XG4gKlxuICogdHVyZi5saW5lUmVkdWNlKG11bHRpUG9seSwgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRMaW5lLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudExpbmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRMaW5lXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gbGluZVJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBsaW5lRWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICAgICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRMaW5lO1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50TGluZSxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICApO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogRmluZHMgYSBwYXJ0aWN1bGFyIDItdmVydGV4IExpbmVTdHJpbmcgU2VnbWVudCBmcm9tIGEgR2VvSlNPTiB1c2luZyBgQHR1cmYvbWV0YWAgaW5kZXhlcy5cbiAqXG4gKiBOZWdhdGl2ZSBpbmRleGVzIGFyZSBwZXJtaXR0ZWQuXG4gKiBQb2ludCAmIE11bHRpUG9pbnQgd2lsbCBhbHdheXMgcmV0dXJuIG51bGwuXG4gKlxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIEFueSBHZW9KU09OIEZlYXR1cmUgb3IgR2VvbWV0cnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZlYXR1cmVJbmRleD0wXSBGZWF0dXJlIEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubXVsdGlGZWF0dXJlSW5kZXg9MF0gTXVsdGktRmVhdHVyZSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmdlb21ldHJ5SW5kZXg9MF0gR2VvbWV0cnkgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zZWdtZW50SW5kZXg9MF0gU2VnbWVudCBJbmRleFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByb3BlcnRpZXM9e31dIFRyYW5zbGF0ZSBQcm9wZXJ0aWVzIHRvIG91dHB1dCBMaW5lU3RyaW5nXG4gKiBAcGFyYW0ge0JCb3h9IFtvcHRpb25zLmJib3g9e31dIFRyYW5zbGF0ZSBCQm94IHRvIG91dHB1dCBMaW5lU3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IFtvcHRpb25zLmlkPXt9XSBUcmFuc2xhdGUgSWQgdG8gb3V0cHV0IExpbmVTdHJpbmdcbiAqIEByZXR1cm5zIHtGZWF0dXJlPExpbmVTdHJpbmc+fSAyLXZlcnRleCBHZW9KU09OIEZlYXR1cmUgTGluZVN0cmluZ1xuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aUxpbmUgPSB0dXJmLm11bHRpTGluZVN0cmluZyhbXG4gKiAgICAgW1sxMCwgMTBdLCBbNTAsIDMwXSwgWzMwLCA0MF1dLFxuICogICAgIFtbLTEwLCAtMTBdLCBbLTUwLCAtMzBdLCBbLTMwLCAtNDBdXVxuICogXSk7XG4gKlxuICogLy8gRmlyc3QgU2VnbWVudCAoZGVmYXVsdHMgYXJlIDApXG4gKiB0dXJmLmZpbmRTZWdtZW50KG11bHRpTGluZSk7XG4gKiAvLyA9PiBGZWF0dXJlPExpbmVTdHJpbmc8W1sxMCwgMTBdLCBbNTAsIDMwXV0+PlxuICpcbiAqIC8vIEZpcnN0IFNlZ21lbnQgb2YgMm5kIE11bHRpIEZlYXR1cmVcbiAqIHR1cmYuZmluZFNlZ21lbnQobXVsdGlMaW5lLCB7bXVsdGlGZWF0dXJlSW5kZXg6IDF9KTtcbiAqIC8vID0+IEZlYXR1cmU8TGluZVN0cmluZzxbWy0xMCwgLTEwXSwgWy01MCwgLTMwXV0+PlxuICpcbiAqIC8vIExhc3QgU2VnbWVudCBvZiBMYXN0IE11bHRpIEZlYXR1cmVcbiAqIHR1cmYuZmluZFNlZ21lbnQobXVsdGlMaW5lLCB7bXVsdGlGZWF0dXJlSW5kZXg6IC0xLCBzZWdtZW50SW5kZXg6IC0xfSk7XG4gKiAvLyA9PiBGZWF0dXJlPExpbmVTdHJpbmc8W1stNTAsIC0zMF0sIFstMzAsIC00MF1dPj5cbiAqL1xuZnVuY3Rpb24gZmluZFNlZ21lbnQoZ2VvanNvbiwgb3B0aW9ucykge1xuICAvLyBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoIWhlbHBlcnMuaXNPYmplY3Qob3B0aW9ucykpIHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMgaXMgaW52YWxpZFwiKTtcbiAgdmFyIGZlYXR1cmVJbmRleCA9IG9wdGlvbnMuZmVhdHVyZUluZGV4IHx8IDA7XG4gIHZhciBtdWx0aUZlYXR1cmVJbmRleCA9IG9wdGlvbnMubXVsdGlGZWF0dXJlSW5kZXggfHwgMDtcbiAgdmFyIGdlb21ldHJ5SW5kZXggPSBvcHRpb25zLmdlb21ldHJ5SW5kZXggfHwgMDtcbiAgdmFyIHNlZ21lbnRJbmRleCA9IG9wdGlvbnMuc2VnbWVudEluZGV4IHx8IDA7XG5cbiAgLy8gRmluZCBGZWF0dXJlSW5kZXhcbiAgdmFyIHByb3BlcnRpZXMgPSBvcHRpb25zLnByb3BlcnRpZXM7XG4gIHZhciBnZW9tZXRyeTtcblxuICBzd2l0Y2ggKGdlb2pzb24udHlwZSkge1xuICAgIGNhc2UgXCJGZWF0dXJlQ29sbGVjdGlvblwiOlxuICAgICAgaWYgKGZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIGZlYXR1cmVJbmRleCA9IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoICsgZmVhdHVyZUluZGV4O1xuICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwgZ2VvanNvbi5mZWF0dXJlc1tmZWF0dXJlSW5kZXhdLnByb3BlcnRpZXM7XG4gICAgICBnZW9tZXRyeSA9IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5nZW9tZXRyeTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJGZWF0dXJlXCI6XG4gICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCBnZW9qc29uLnByb3BlcnRpZXM7XG4gICAgICBnZW9tZXRyeSA9IGdlb2pzb24uZ2VvbWV0cnk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICBnZW9tZXRyeSA9IGdlb2pzb247XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyBpbnZhbGlkXCIpO1xuICB9XG5cbiAgLy8gRmluZCBTZWdtZW50SW5kZXhcbiAgaWYgKGdlb21ldHJ5ID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgdmFyIGNvb3JkcyA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICBzd2l0Y2ggKGdlb21ldHJ5LnR5cGUpIHtcbiAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgIGlmIChzZWdtZW50SW5kZXggPCAwKSBzZWdtZW50SW5kZXggPSBjb29yZHMubGVuZ3RoICsgc2VnbWVudEluZGV4IC0gMTtcbiAgICAgIHJldHVybiBoZWxwZXJzLmxpbmVTdHJpbmcoXG4gICAgICAgIFtjb29yZHNbc2VnbWVudEluZGV4XSwgY29vcmRzW3NlZ21lbnRJbmRleCArIDFdXSxcbiAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgaWYgKGdlb21ldHJ5SW5kZXggPCAwKSBnZW9tZXRyeUluZGV4ID0gY29vcmRzLmxlbmd0aCArIGdlb21ldHJ5SW5kZXg7XG4gICAgICBpZiAoc2VnbWVudEluZGV4IDwgMClcbiAgICAgICAgc2VnbWVudEluZGV4ID0gY29vcmRzW2dlb21ldHJ5SW5kZXhdLmxlbmd0aCArIHNlZ21lbnRJbmRleCAtIDE7XG4gICAgICByZXR1cm4gaGVscGVycy5saW5lU3RyaW5nKFxuICAgICAgICBbXG4gICAgICAgICAgY29vcmRzW2dlb21ldHJ5SW5kZXhdW3NlZ21lbnRJbmRleF0sXG4gICAgICAgICAgY29vcmRzW2dlb21ldHJ5SW5kZXhdW3NlZ21lbnRJbmRleCArIDFdLFxuICAgICAgICBdLFxuICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgIGlmIChtdWx0aUZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIG11bHRpRmVhdHVyZUluZGV4ID0gY29vcmRzLmxlbmd0aCArIG11bHRpRmVhdHVyZUluZGV4O1xuICAgICAgaWYgKHNlZ21lbnRJbmRleCA8IDApXG4gICAgICAgIHNlZ21lbnRJbmRleCA9IGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF0ubGVuZ3RoICsgc2VnbWVudEluZGV4IC0gMTtcbiAgICAgIHJldHVybiBoZWxwZXJzLmxpbmVTdHJpbmcoXG4gICAgICAgIFtcbiAgICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW3NlZ21lbnRJbmRleF0sXG4gICAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtzZWdtZW50SW5kZXggKyAxXSxcbiAgICAgICAgXSxcbiAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICBpZiAobXVsdGlGZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBtdWx0aUZlYXR1cmVJbmRleDtcbiAgICAgIGlmIChnZW9tZXRyeUluZGV4IDwgMClcbiAgICAgICAgZ2VvbWV0cnlJbmRleCA9IGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF0ubGVuZ3RoICsgZ2VvbWV0cnlJbmRleDtcbiAgICAgIGlmIChzZWdtZW50SW5kZXggPCAwKVxuICAgICAgICBzZWdtZW50SW5kZXggPVxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF0ubGVuZ3RoIC0gc2VnbWVudEluZGV4IC0gMTtcbiAgICAgIHJldHVybiBoZWxwZXJzLmxpbmVTdHJpbmcoXG4gICAgICAgIFtcbiAgICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2dlb21ldHJ5SW5kZXhdW3NlZ21lbnRJbmRleF0sXG4gICAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtnZW9tZXRyeUluZGV4XVtzZWdtZW50SW5kZXggKyAxXSxcbiAgICAgICAgXSxcbiAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJnZW9qc29uIGlzIGludmFsaWRcIik7XG59XG5cbi8qKlxuICogRmluZHMgYSBwYXJ0aWN1bGFyIFBvaW50IGZyb20gYSBHZW9KU09OIHVzaW5nIGBAdHVyZi9tZXRhYCBpbmRleGVzLlxuICpcbiAqIE5lZ2F0aXZlIGluZGV4ZXMgYXJlIHBlcm1pdHRlZC5cbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gQW55IEdlb0pTT04gRmVhdHVyZSBvciBHZW9tZXRyeVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZmVhdHVyZUluZGV4PTBdIEZlYXR1cmUgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tdWx0aUZlYXR1cmVJbmRleD0wXSBNdWx0aS1GZWF0dXJlIEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZ2VvbWV0cnlJbmRleD0wXSBHZW9tZXRyeSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvb3JkSW5kZXg9MF0gQ29vcmQgSW5kZXhcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcm9wZXJ0aWVzPXt9XSBUcmFuc2xhdGUgUHJvcGVydGllcyB0byBvdXRwdXQgUG9pbnRcbiAqIEBwYXJhbSB7QkJveH0gW29wdGlvbnMuYmJveD17fV0gVHJhbnNsYXRlIEJCb3ggdG8gb3V0cHV0IFBvaW50XG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IFtvcHRpb25zLmlkPXt9XSBUcmFuc2xhdGUgSWQgdG8gb3V0cHV0IFBvaW50XG4gKiBAcmV0dXJucyB7RmVhdHVyZTxQb2ludD59IDItdmVydGV4IEdlb0pTT04gRmVhdHVyZSBQb2ludFxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aUxpbmUgPSB0dXJmLm11bHRpTGluZVN0cmluZyhbXG4gKiAgICAgW1sxMCwgMTBdLCBbNTAsIDMwXSwgWzMwLCA0MF1dLFxuICogICAgIFtbLTEwLCAtMTBdLCBbLTUwLCAtMzBdLCBbLTMwLCAtNDBdXVxuICogXSk7XG4gKlxuICogLy8gRmlyc3QgU2VnbWVudCAoZGVmYXVsdHMgYXJlIDApXG4gKiB0dXJmLmZpbmRQb2ludChtdWx0aUxpbmUpO1xuICogLy8gPT4gRmVhdHVyZTxQb2ludDxbMTAsIDEwXT4+XG4gKlxuICogLy8gRmlyc3QgU2VnbWVudCBvZiB0aGUgMm5kIE11bHRpLUZlYXR1cmVcbiAqIHR1cmYuZmluZFBvaW50KG11bHRpTGluZSwge211bHRpRmVhdHVyZUluZGV4OiAxfSk7XG4gKiAvLyA9PiBGZWF0dXJlPFBvaW50PFstMTAsIC0xMF0+PlxuICpcbiAqIC8vIExhc3QgU2VnbWVudCBvZiBsYXN0IE11bHRpLUZlYXR1cmVcbiAqIHR1cmYuZmluZFBvaW50KG11bHRpTGluZSwge211bHRpRmVhdHVyZUluZGV4OiAtMSwgY29vcmRJbmRleDogLTF9KTtcbiAqIC8vID0+IEZlYXR1cmU8UG9pbnQ8Wy0zMCwgLTQwXT4+XG4gKi9cbmZ1bmN0aW9uIGZpbmRQb2ludChnZW9qc29uLCBvcHRpb25zKSB7XG4gIC8vIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGlmICghaGVscGVycy5pc09iamVjdChvcHRpb25zKSkgdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucyBpcyBpbnZhbGlkXCIpO1xuICB2YXIgZmVhdHVyZUluZGV4ID0gb3B0aW9ucy5mZWF0dXJlSW5kZXggfHwgMDtcbiAgdmFyIG11bHRpRmVhdHVyZUluZGV4ID0gb3B0aW9ucy5tdWx0aUZlYXR1cmVJbmRleCB8fCAwO1xuICB2YXIgZ2VvbWV0cnlJbmRleCA9IG9wdGlvbnMuZ2VvbWV0cnlJbmRleCB8fCAwO1xuICB2YXIgY29vcmRJbmRleCA9IG9wdGlvbnMuY29vcmRJbmRleCB8fCAwO1xuXG4gIC8vIEZpbmQgRmVhdHVyZUluZGV4XG4gIHZhciBwcm9wZXJ0aWVzID0gb3B0aW9ucy5wcm9wZXJ0aWVzO1xuICB2YXIgZ2VvbWV0cnk7XG5cbiAgc3dpdGNoIChnZW9qc29uLnR5cGUpIHtcbiAgICBjYXNlIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjpcbiAgICAgIGlmIChmZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBmZWF0dXJlSW5kZXggPSBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCArIGZlYXR1cmVJbmRleDtcbiAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmZlYXR1cmVzW2ZlYXR1cmVJbmRleF0uZ2VvbWV0cnk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiRmVhdHVyZVwiOlxuICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwgZ2VvanNvbi5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmdlb21ldHJ5O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgaW52YWxpZFwiKTtcbiAgfVxuXG4gIC8vIEZpbmQgQ29vcmQgSW5kZXhcbiAgaWYgKGdlb21ldHJ5ID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgdmFyIGNvb3JkcyA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICBzd2l0Y2ggKGdlb21ldHJ5LnR5cGUpIHtcbiAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgIHJldHVybiBoZWxwZXJzLnBvaW50KGNvb3JkcywgcHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIGlmIChtdWx0aUZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIG11bHRpRmVhdHVyZUluZGV4ID0gY29vcmRzLmxlbmd0aCArIG11bHRpRmVhdHVyZUluZGV4O1xuICAgICAgcmV0dXJuIGhlbHBlcnMucG9pbnQoY29vcmRzW211bHRpRmVhdHVyZUluZGV4XSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgIGlmIChjb29yZEluZGV4IDwgMCkgY29vcmRJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBjb29yZEluZGV4O1xuICAgICAgcmV0dXJuIGhlbHBlcnMucG9pbnQoY29vcmRzW2Nvb3JkSW5kZXhdLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbiAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgaWYgKGdlb21ldHJ5SW5kZXggPCAwKSBnZW9tZXRyeUluZGV4ID0gY29vcmRzLmxlbmd0aCArIGdlb21ldHJ5SW5kZXg7XG4gICAgICBpZiAoY29vcmRJbmRleCA8IDApXG4gICAgICAgIGNvb3JkSW5kZXggPSBjb29yZHNbZ2VvbWV0cnlJbmRleF0ubGVuZ3RoICsgY29vcmRJbmRleDtcbiAgICAgIHJldHVybiBoZWxwZXJzLnBvaW50KGNvb3Jkc1tnZW9tZXRyeUluZGV4XVtjb29yZEluZGV4XSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgaWYgKG11bHRpRmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPSBjb29yZHMubGVuZ3RoICsgbXVsdGlGZWF0dXJlSW5kZXg7XG4gICAgICBpZiAoY29vcmRJbmRleCA8IDApXG4gICAgICAgIGNvb3JkSW5kZXggPSBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLmxlbmd0aCArIGNvb3JkSW5kZXg7XG4gICAgICByZXR1cm4gaGVscGVycy5wb2ludChjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2Nvb3JkSW5kZXhdLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbiAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICBpZiAobXVsdGlGZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBtdWx0aUZlYXR1cmVJbmRleDtcbiAgICAgIGlmIChnZW9tZXRyeUluZGV4IDwgMClcbiAgICAgICAgZ2VvbWV0cnlJbmRleCA9IGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF0ubGVuZ3RoICsgZ2VvbWV0cnlJbmRleDtcbiAgICAgIGlmIChjb29yZEluZGV4IDwgMClcbiAgICAgICAgY29vcmRJbmRleCA9XG4gICAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtnZW9tZXRyeUluZGV4XS5sZW5ndGggLSBjb29yZEluZGV4O1xuICAgICAgcmV0dXJuIGhlbHBlcnMucG9pbnQoXG4gICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF1bY29vcmRJbmRleF0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyBpbnZhbGlkXCIpO1xufVxuXG5leHBvcnRzLmNvb3JkQWxsID0gY29vcmRBbGw7XG5leHBvcnRzLmNvb3JkRWFjaCA9IGNvb3JkRWFjaDtcbmV4cG9ydHMuY29vcmRSZWR1Y2UgPSBjb29yZFJlZHVjZTtcbmV4cG9ydHMuZmVhdHVyZUVhY2ggPSBmZWF0dXJlRWFjaDtcbmV4cG9ydHMuZmVhdHVyZVJlZHVjZSA9IGZlYXR1cmVSZWR1Y2U7XG5leHBvcnRzLmZpbmRQb2ludCA9IGZpbmRQb2ludDtcbmV4cG9ydHMuZmluZFNlZ21lbnQgPSBmaW5kU2VnbWVudDtcbmV4cG9ydHMuZmxhdHRlbkVhY2ggPSBmbGF0dGVuRWFjaDtcbmV4cG9ydHMuZmxhdHRlblJlZHVjZSA9IGZsYXR0ZW5SZWR1Y2U7XG5leHBvcnRzLmdlb21FYWNoID0gZ2VvbUVhY2g7XG5leHBvcnRzLmdlb21SZWR1Y2UgPSBnZW9tUmVkdWNlO1xuZXhwb3J0cy5saW5lRWFjaCA9IGxpbmVFYWNoO1xuZXhwb3J0cy5saW5lUmVkdWNlID0gbGluZVJlZHVjZTtcbmV4cG9ydHMucHJvcEVhY2ggPSBwcm9wRWFjaDtcbmV4cG9ydHMucHJvcFJlZHVjZSA9IHByb3BSZWR1Y2U7XG5leHBvcnRzLnNlZ21lbnRFYWNoID0gc2VnbWVudEVhY2g7XG5leHBvcnRzLnNlZ21lbnRSZWR1Y2UgPSBzZWdtZW50UmVkdWNlO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG1ldGFfMSA9IHJlcXVpcmUoXCJAdHVyZi9tZXRhXCIpO1xuLyoqXG4gKiBUYWtlcyBhIHNldCBvZiBmZWF0dXJlcywgY2FsY3VsYXRlcyB0aGUgYmJveCBvZiBhbGwgaW5wdXQgZmVhdHVyZXMsIGFuZCByZXR1cm5zIGEgYm91bmRpbmcgYm94LlxuICpcbiAqIEBuYW1lIGJib3hcbiAqIEBwYXJhbSB7R2VvSlNPTn0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEByZXR1cm5zIHtCQm94fSBiYm94IGV4dGVudCBpbiBbbWluWCwgbWluWSwgbWF4WCwgbWF4WV0gb3JkZXJcbiAqIEBleGFtcGxlXG4gKiB2YXIgbGluZSA9IHR1cmYubGluZVN0cmluZyhbWy03NCwgNDBdLCBbLTc4LCA0Ml0sIFstODIsIDM1XV0pO1xuICogdmFyIGJib3ggPSB0dXJmLmJib3gobGluZSk7XG4gKiB2YXIgYmJveFBvbHlnb24gPSB0dXJmLmJib3hQb2x5Z29uKGJib3gpO1xuICpcbiAqIC8vYWRkVG9NYXBcbiAqIHZhciBhZGRUb01hcCA9IFtsaW5lLCBiYm94UG9seWdvbl1cbiAqL1xuZnVuY3Rpb24gYmJveChnZW9qc29uKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtJbmZpbml0eSwgSW5maW5pdHksIC1JbmZpbml0eSwgLUluZmluaXR5XTtcbiAgICBtZXRhXzEuY29vcmRFYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChjb29yZCkge1xuICAgICAgICBpZiAocmVzdWx0WzBdID4gY29vcmRbMF0pIHtcbiAgICAgICAgICAgIHJlc3VsdFswXSA9IGNvb3JkWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHRbMV0gPiBjb29yZFsxXSkge1xuICAgICAgICAgICAgcmVzdWx0WzFdID0gY29vcmRbMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdFsyXSA8IGNvb3JkWzBdKSB7XG4gICAgICAgICAgICByZXN1bHRbMl0gPSBjb29yZFswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0WzNdIDwgY29vcmRbMV0pIHtcbiAgICAgICAgICAgIHJlc3VsdFszXSA9IGNvb3JkWzFdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmJib3hbXCJkZWZhdWx0XCJdID0gYmJveDtcbmV4cG9ydHMuZGVmYXVsdCA9IGJib3g7XG4iLCAidmFyIHJidXNoID0gcmVxdWlyZSgncmJ1c2gnKTtcbnZhciBoZWxwZXJzID0gcmVxdWlyZSgnQHR1cmYvaGVscGVycycpO1xudmFyIG1ldGEgPSByZXF1aXJlKCdAdHVyZi9tZXRhJyk7XG52YXIgdHVyZkJCb3ggPSByZXF1aXJlKCdAdHVyZi9iYm94JykuZGVmYXVsdDtcbnZhciBmZWF0dXJlRWFjaCA9IG1ldGEuZmVhdHVyZUVhY2g7XG52YXIgY29vcmRFYWNoID0gbWV0YS5jb29yZEVhY2g7XG52YXIgcG9seWdvbiA9IGhlbHBlcnMucG9seWdvbjtcbnZhciBmZWF0dXJlQ29sbGVjdGlvbiA9IGhlbHBlcnMuZmVhdHVyZUNvbGxlY3Rpb247XG5cbi8qKlxuICogR2VvSlNPTiBpbXBsZW1lbnRhdGlvbiBvZiBbUkJ1c2hdKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoI3JidXNoKSBzcGF0aWFsIGluZGV4LlxuICpcbiAqIEBuYW1lIHJidXNoXG4gKiBAcGFyYW0ge251bWJlcn0gW21heEVudHJpZXM9OV0gZGVmaW5lcyB0aGUgbWF4aW11bSBudW1iZXIgb2YgZW50cmllcyBpbiBhIHRyZWUgbm9kZS4gOSAodXNlZCBieSBkZWZhdWx0KSBpcyBhXG4gKiByZWFzb25hYmxlIGNob2ljZSBmb3IgbW9zdCBhcHBsaWNhdGlvbnMuIEhpZ2hlciB2YWx1ZSBtZWFucyBmYXN0ZXIgaW5zZXJ0aW9uIGFuZCBzbG93ZXIgc2VhcmNoLCBhbmQgdmljZSB2ZXJzYS5cbiAqIEByZXR1cm5zIHtSQnVzaH0gR2VvSlNPTiBSQnVzaFxuICogQGV4YW1wbGVcbiAqIHZhciBnZW9qc29uUmJ1c2ggPSByZXF1aXJlKCdnZW9qc29uLXJidXNoJykuZGVmYXVsdDtcbiAqIHZhciB0cmVlID0gZ2VvanNvblJidXNoKCk7XG4gKi9cbmZ1bmN0aW9uIGdlb2pzb25SYnVzaChtYXhFbnRyaWVzKSB7XG4gICAgdmFyIHRyZWUgPSBuZXcgcmJ1c2gobWF4RW50cmllcyk7XG4gICAgLyoqXG4gICAgICogW2luc2VydF0oaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2gjZGF0YS1mb3JtYXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ZlYXR1cmV9IGZlYXR1cmUgaW5zZXJ0IHNpbmdsZSBHZW9KU09OIEZlYXR1cmVcbiAgICAgKiBAcmV0dXJucyB7UkJ1c2h9IEdlb0pTT04gUkJ1c2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwb2x5ID0gdHVyZi5wb2x5Z29uKFtbWy03OCwgNDFdLCBbLTY3LCA0MV0sIFstNjcsIDQ4XSwgWy03OCwgNDhdLCBbLTc4LCA0MV1dXSk7XG4gICAgICogdHJlZS5pbnNlcnQocG9seSlcbiAgICAgKi9cbiAgICB0cmVlLmluc2VydCA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIGlmIChmZWF0dXJlLnR5cGUgIT09ICdGZWF0dXJlJykgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZlYXR1cmUnKTtcbiAgICAgICAgZmVhdHVyZS5iYm94ID0gZmVhdHVyZS5iYm94ID8gZmVhdHVyZS5iYm94IDogdHVyZkJCb3goZmVhdHVyZSk7XG4gICAgICAgIHJldHVybiByYnVzaC5wcm90b3R5cGUuaW5zZXJ0LmNhbGwodGhpcywgZmVhdHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFtsb2FkXShodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9yYnVzaCNidWxrLWluc2VydGluZy1kYXRhKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxBcnJheTxGZWF0dXJlPn0gZmVhdHVyZXMgbG9hZCBlbnRpcmUgR2VvSlNPTiBGZWF0dXJlQ29sbGVjdGlvblxuICAgICAqIEByZXR1cm5zIHtSQnVzaH0gR2VvSlNPTiBSQnVzaFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHBvbHlzID0gdHVyZi5wb2x5Z29ucyhbXG4gICAgICogICAgIFtbWy03OCwgNDFdLCBbLTY3LCA0MV0sIFstNjcsIDQ4XSwgWy03OCwgNDhdLCBbLTc4LCA0MV1dXSxcbiAgICAgKiAgICAgW1tbLTkzLCAzMl0sIFstODMsIDMyXSwgWy04MywgMzldLCBbLTkzLCAzOV0sIFstOTMsIDMyXV1dXG4gICAgICogXSk7XG4gICAgICogdHJlZS5sb2FkKHBvbHlzKTtcbiAgICAgKi9cbiAgICB0cmVlLmxvYWQgPSBmdW5jdGlvbiAoZmVhdHVyZXMpIHtcbiAgICAgICAgdmFyIGxvYWQgPSBbXTtcbiAgICAgICAgLy8gTG9hZCBhbiBBcnJheSBvZiBGZWF0dXJlc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmZWF0dXJlcykpIHtcbiAgICAgICAgICAgIGZlYXR1cmVzLmZvckVhY2goZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS50eXBlICE9PSAnRmVhdHVyZScpIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmZWF0dXJlcycpO1xuICAgICAgICAgICAgICAgIGZlYXR1cmUuYmJveCA9IGZlYXR1cmUuYmJveCA/IGZlYXR1cmUuYmJveCA6IHR1cmZCQm94KGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIGxvYWQucHVzaChmZWF0dXJlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTG9hZCBhIEZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICAgICAgICBmZWF0dXJlRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS50eXBlICE9PSAnRmVhdHVyZScpIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmZWF0dXJlcycpO1xuICAgICAgICAgICAgICAgIGZlYXR1cmUuYmJveCA9IGZlYXR1cmUuYmJveCA/IGZlYXR1cmUuYmJveCA6IHR1cmZCQm94KGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIGxvYWQucHVzaChmZWF0dXJlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByYnVzaC5wcm90b3R5cGUubG9hZC5jYWxsKHRoaXMsIGxvYWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBbcmVtb3ZlXShodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9yYnVzaCNyZW1vdmluZy1kYXRhKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtGZWF0dXJlfSBmZWF0dXJlIHJlbW92ZSBzaW5nbGUgR2VvSlNPTiBGZWF0dXJlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxzIFBhc3MgYSBjdXN0b20gZXF1YWxzIGZ1bmN0aW9uIHRvIGNvbXBhcmUgYnkgdmFsdWUgZm9yIHJlbW92YWwuXG4gICAgICogQHJldHVybnMge1JCdXNofSBHZW9KU09OIFJCdXNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcG9seSA9IHR1cmYucG9seWdvbihbW1stNzgsIDQxXSwgWy02NywgNDFdLCBbLTY3LCA0OF0sIFstNzgsIDQ4XSwgWy03OCwgNDFdXV0pO1xuICAgICAqXG4gICAgICogdHJlZS5yZW1vdmUocG9seSk7XG4gICAgICovXG4gICAgdHJlZS5yZW1vdmUgPSBmdW5jdGlvbiAoZmVhdHVyZSwgZXF1YWxzKSB7XG4gICAgICAgIGlmIChmZWF0dXJlLnR5cGUgIT09ICdGZWF0dXJlJykgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZlYXR1cmUnKTtcbiAgICAgICAgZmVhdHVyZS5iYm94ID0gZmVhdHVyZS5iYm94ID8gZmVhdHVyZS5iYm94IDogdHVyZkJCb3goZmVhdHVyZSk7XG4gICAgICAgIHJldHVybiByYnVzaC5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcywgZmVhdHVyZSwgZXF1YWxzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogW2NsZWFyXShodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9yYnVzaCNyZW1vdmluZy1kYXRhKVxuICAgICAqXG4gICAgICogQHJldHVybnMge1JCdXNofSBHZW9KU09OIFJidXNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB0cmVlLmNsZWFyKClcbiAgICAgKi9cbiAgICB0cmVlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmJ1c2gucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFtzZWFyY2hdKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoI3NlYXJjaClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QkJveHxGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfSBnZW9qc29uIHNlYXJjaCB3aXRoIEdlb0pTT05cbiAgICAgKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb259IGFsbCBmZWF0dXJlcyB0aGF0IGludGVyc2VjdHMgd2l0aCB0aGUgZ2l2ZW4gR2VvSlNPTi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwb2x5ID0gdHVyZi5wb2x5Z29uKFtbWy03OCwgNDFdLCBbLTY3LCA0MV0sIFstNjcsIDQ4XSwgWy03OCwgNDhdLCBbLTc4LCA0MV1dXSk7XG4gICAgICpcbiAgICAgKiB0cmVlLnNlYXJjaChwb2x5KTtcbiAgICAgKi9cbiAgICB0cmVlLnNlYXJjaCA9IGZ1bmN0aW9uIChnZW9qc29uKSB7XG4gICAgICAgIHZhciBmZWF0dXJlcyA9IHJidXNoLnByb3RvdHlwZS5zZWFyY2guY2FsbCh0aGlzLCB0aGlzLnRvQkJveChnZW9qc29uKSk7XG4gICAgICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihmZWF0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFtjb2xsaWRlc10oaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2gjY29sbGlzaW9ucylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QkJveHxGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfSBnZW9qc29uIGNvbGxpZGVzIHdpdGggR2VvSlNPTlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZXJlIGFyZSBhbnkgaXRlbXMgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBHZW9KU09OLCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcG9seSA9IHR1cmYucG9seWdvbihbW1stNzgsIDQxXSwgWy02NywgNDFdLCBbLTY3LCA0OF0sIFstNzgsIDQ4XSwgWy03OCwgNDFdXV0pO1xuICAgICAqXG4gICAgICogdHJlZS5jb2xsaWRlcyhwb2x5KTtcbiAgICAgKi9cbiAgICB0cmVlLmNvbGxpZGVzID0gZnVuY3Rpb24gKGdlb2pzb24pIHtcbiAgICAgICAgcmV0dXJuIHJidXNoLnByb3RvdHlwZS5jb2xsaWRlcy5jYWxsKHRoaXMsIHRoaXMudG9CQm94KGdlb2pzb24pKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogW2FsbF0oaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2gjc2VhcmNoKVxuICAgICAqXG4gICAgICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9ufSBhbGwgdGhlIGZlYXR1cmVzIGluIFJCdXNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB0cmVlLmFsbCgpXG4gICAgICovXG4gICAgdHJlZS5hbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmZWF0dXJlcyA9IHJidXNoLnByb3RvdHlwZS5hbGwuY2FsbCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmVDb2xsZWN0aW9uKGZlYXR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogW3RvSlNPTl0oaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2gjZXhwb3J0LWFuZC1pbXBvcnQpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7YW55fSBleHBvcnQgZGF0YSBhcyBKU09OIG9iamVjdFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGV4cG9ydGVkID0gdHJlZS50b0pTT04oKVxuICAgICAqL1xuICAgIHRyZWUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmJ1c2gucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBbZnJvbUpTT05dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoI2V4cG9ydC1hbmQtaW1wb3J0KVxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IGpzb24gaW1wb3J0IHByZXZpb3VzbHkgZXhwb3J0ZWQgZGF0YVxuICAgICAqIEByZXR1cm5zIHtSQnVzaH0gR2VvSlNPTiBSQnVzaFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGV4cG9ydGVkID0ge1xuICAgICAqICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICogICAgIHtcbiAgICAgKiAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlXCIsXG4gICAgICogICAgICAgXCJnZW9tZXRyeVwiOiB7XG4gICAgICogICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICAgICAqICAgICAgICAgXCJjb29yZGluYXRlc1wiOiBbMTEwLCA1MF1cbiAgICAgKiAgICAgICB9LFxuICAgICAqICAgICAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAgICAgKiAgICAgICBcImJib3hcIjogWzExMCwgNTAsIDExMCwgNTBdXG4gICAgICogICAgIH1cbiAgICAgKiAgIF0sXG4gICAgICogICBcImhlaWdodFwiOiAxLFxuICAgICAqICAgXCJsZWFmXCI6IHRydWUsXG4gICAgICogICBcIm1pblhcIjogMTEwLFxuICAgICAqICAgXCJtaW5ZXCI6IDUwLFxuICAgICAqICAgXCJtYXhYXCI6IDExMCxcbiAgICAgKiAgIFwibWF4WVwiOiA1MFxuICAgICAqIH1cbiAgICAgKiB0cmVlLmZyb21KU09OKGV4cG9ydGVkKVxuICAgICAqL1xuICAgIHRyZWUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICByZXR1cm4gcmJ1c2gucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcywganNvbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIEdlb0pTT04gdG8ge21pblgsIG1pblksIG1heFgsIG1heFl9IHNjaGVtYVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0JCb3h8RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZX0gZ2VvanNvbiBmZWF0dXJlKHMpIHRvIHJldHJpZXZlIEJCb3ggZnJvbVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGNvbnZlcnRlZCB0byB7bWluWCwgbWluWSwgbWF4WCwgbWF4WX1cbiAgICAgKi9cbiAgICB0cmVlLnRvQkJveCA9IGZ1bmN0aW9uIChnZW9qc29uKSB7XG4gICAgICAgIHZhciBiYm94O1xuICAgICAgICBpZiAoZ2VvanNvbi5iYm94KSBiYm94ID0gZ2VvanNvbi5iYm94O1xuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGdlb2pzb24pICYmIGdlb2pzb24ubGVuZ3RoID09PSA0KSBiYm94ID0gZ2VvanNvbjtcbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShnZW9qc29uKSAmJiBnZW9qc29uLmxlbmd0aCA9PT0gNikgYmJveCA9IFtnZW9qc29uWzBdLCBnZW9qc29uWzFdLCBnZW9qc29uWzNdLCBnZW9qc29uWzRdXTtcbiAgICAgICAgZWxzZSBpZiAoZ2VvanNvbi50eXBlID09PSAnRmVhdHVyZScpIGJib3ggPSB0dXJmQkJveChnZW9qc29uKTtcbiAgICAgICAgZWxzZSBpZiAoZ2VvanNvbi50eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSBiYm94ID0gdHVyZkJCb3goZ2VvanNvbik7XG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGdlb2pzb24nKVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW5YOiBiYm94WzBdLFxuICAgICAgICAgICAgbWluWTogYmJveFsxXSxcbiAgICAgICAgICAgIG1heFg6IGJib3hbMl0sXG4gICAgICAgICAgICBtYXhZOiBiYm94WzNdXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gdHJlZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZW9qc29uUmJ1c2g7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZ2VvanNvblJidXNoO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5cbi8vIEFycmF5LmZpbmRJbmRleCBQb2x5ZmlsbFxuQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCA9XG4gIEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXggfHxcbiAgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdBcnJheS5wcm90b3R5cGUuZmluZEluZGV4IGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZCdcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2NhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cbiAgICB2YXIgbGlzdCA9IE9iamVjdCh0aGlzKTtcbiAgICAvLyBNYWtlcyBzdXJlcyBpcyBhbHdheXMgaGFzIGFuIHBvc2l0aXZlIGludGVnZXIgYXMgbGVuZ3RoLlxuICAgIHZhciBsZW5ndGggPSBsaXN0Lmxlbmd0aCA+Pj4gMDtcbiAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50c1sxXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBsaXN0W2ldLCBpLCBsaXN0KSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4vLyBBcnJheS5maW5kIFBvbHlmaWxsIGZvciBJRTwxMi5cbi8vIFJlcXVlc3RlZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuL2lzc3Vlcy8xNzNcbkFycmF5LnByb3RvdHlwZS5maW5kID1cbiAgQXJyYXkucHJvdG90eXBlLmZpbmQgfHxcbiAgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5LnByb3RvdHlwZS5maW5kIGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdmFyIGxpc3QgPSBPYmplY3QodGhpcyk7XG4gICAgLy8gTWFrZXMgc3VyZXMgaXMgYWx3YXlzIGhhcyBhbiBwb3NpdGl2ZSBpbnRlZ2VyIGFzIGxlbmd0aC5cbiAgICB2YXIgbGVuZ3RoID0gbGlzdC5sZW5ndGggPj4+IDA7XG4gICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVsZW1lbnQgPSBsaXN0W2ldO1xuICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgZWxlbWVudCwgaSwgbGlzdCkpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4vLyBQb2x5ZmlsbCBmb3IgT2JqZWN0LmFzc2lnbigpXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kZS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduI1BvbHlmaWxsXG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT0gJ2Z1bmN0aW9uJykge1xuICBPYmplY3QuYXNzaWduID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBpZiAodGFyZ2V0ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgIH1cblxuICAgIHRhcmdldCA9IE9iamVjdCh0YXJnZXQpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgIGlmIChzb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG59XG5cbi8vIFBvbHlmaWxsIGZvciBFbGVtZW50LnJlbW92ZSgpXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kZS9kb2NzL1dlYi9BUEkvQ2hpbGROb2RlL3JlbW92ZSNQb2x5ZmlsbFxuKGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgncmVtb3ZlJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0ZW0sICdyZW1vdmUnLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcbn0pKFtFbGVtZW50LnByb3RvdHlwZSwgQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUsIERvY3VtZW50VHlwZS5wcm90b3R5cGVdKTtcblxuLy8gUG9seWZpbGwgZm9yIEFycmF5LmluY2x1ZGVzKClcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RlL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2luY2x1ZGVzI1BvbHlmaWxsXG5pZiAoIUFycmF5LnByb3RvdHlwZS5pbmNsdWRlcykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnaW5jbHVkZXMnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIChzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHtcbiAgICAgIGlmICh0aGlzID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ0aGlzXCIgaXMgbnVsbCBvciBub3QgZGVmaW5lZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyAxLiBMZXQgTyBiZSA/IFRvT2JqZWN0KHRoaXMgdmFsdWUpLlxuICAgICAgdmFyIG8gPSBPYmplY3QodGhpcyk7XG5cbiAgICAgIC8vIDIuIExldCBsZW4gYmUgPyBUb0xlbmd0aCg/IEdldChPLCBcImxlbmd0aFwiKSkuXG4gICAgICB2YXIgbGVuID0gby5sZW5ndGggPj4+IDA7XG5cbiAgICAgIC8vIDMuIElmIGxlbiBpcyAwLCByZXR1cm4gZmFsc2UuXG4gICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gNC4gTGV0IG4gYmUgPyBUb0ludGVnZXIoZnJvbUluZGV4KS5cbiAgICAgIC8vICAgIChJZiBmcm9tSW5kZXggaXMgdW5kZWZpbmVkLCB0aGlzIHN0ZXAgcHJvZHVjZXMgdGhlIHZhbHVlIDAuKVxuICAgICAgdmFyIG4gPSBmcm9tSW5kZXggfCAwO1xuXG4gICAgICAvLyA1LiBJZiBuIFx1MjI2NSAwLCB0aGVuXG4gICAgICAvLyAgYS4gTGV0IGsgYmUgbi5cbiAgICAgIC8vIDYuIEVsc2UgbiA8IDAsXG4gICAgICAvLyAgYS4gTGV0IGsgYmUgbGVuICsgbi5cbiAgICAgIC8vICBiLiBJZiBrIDwgMCwgbGV0IGsgYmUgMC5cbiAgICAgIHZhciBrID0gTWF0aC5tYXgobiA+PSAwID8gbiA6IGxlbiAtIE1hdGguYWJzKG4pLCAwKTtcblxuICAgICAgZnVuY3Rpb24gc2FtZVZhbHVlWmVybyh4LCB5KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgeCA9PT0geSB8fFxuICAgICAgICAgICh0eXBlb2YgeCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIHR5cGVvZiB5ID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgaXNOYU4oeCkgJiZcbiAgICAgICAgICAgIGlzTmFOKHkpKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyA3LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW5cbiAgICAgIHdoaWxlIChrIDwgbGVuKSB7XG4gICAgICAgIC8vIGEuIExldCBlbGVtZW50SyBiZSB0aGUgcmVzdWx0IG9mID8gR2V0KE8sICEgVG9TdHJpbmcoaykpLlxuICAgICAgICAvLyBiLiBJZiBTYW1lVmFsdWVaZXJvKHNlYXJjaEVsZW1lbnQsIGVsZW1lbnRLKSBpcyB0cnVlLCByZXR1cm4gdHJ1ZS5cbiAgICAgICAgaWYgKHNhbWVWYWx1ZVplcm8ob1trXSwgc2VhcmNoRWxlbWVudCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjLiBJbmNyZWFzZSBrIGJ5IDEuXG4gICAgICAgIGsrKztcbiAgICAgIH1cblxuICAgICAgLy8gOC4gUmV0dXJuIGZhbHNlXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgfSk7XG59XG4iLCAie1xuICBcIm5hbWVcIjogXCJAZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWVcIixcbiAgXCJ2ZXJzaW9uXCI6IFwiMi4xNy4wXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJBIExlYWZsZXQgUGx1Z2luIEZvciBFZGl0aW5nIEdlb21ldHJ5IExheWVycyBpbiBMZWFmbGV0IDEuMFwiLFxuICBcImtleXdvcmRzXCI6IFtcbiAgICBcImxlYWZsZXRcIixcbiAgICBcImdlb21hblwiLFxuICAgIFwicG9seWdvbiBtYW5hZ2VtZW50XCIsXG4gICAgXCJnZW9tZXRyeSBlZGl0aW5nXCIsXG4gICAgXCJtYXAgZGF0YVwiLFxuICAgIFwibWFwIG92ZXJsYXlcIixcbiAgICBcInBvbHlnb25cIixcbiAgICBcImdlb2pzb25cIixcbiAgICBcImxlYWZsZXQtZHJhd1wiLFxuICAgIFwiZGF0YS1maWVsZC1nZW9qc29uXCIsXG4gICAgXCJ1aS1sZWFmbGV0LWRyYXdcIlxuICBdLFxuICBcImZpbGVzXCI6IFtcbiAgICBcImRpc3RcIlxuICBdLFxuICBcIm1haW5cIjogXCJkaXN0L2xlYWZsZXQtZ2VvbWFuLmpzXCIsXG4gIFwidHlwZXNcIjogXCJkaXN0L2xlYWZsZXQtZ2VvbWFuLmQudHNcIixcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiQHR1cmYvYm9vbGVhbi1jb250YWluc1wiOiBcIl42LjUuMFwiLFxuICAgIFwiQHR1cmYva2lua3NcIjogXCJeNi41LjBcIixcbiAgICBcIkB0dXJmL2xpbmUtaW50ZXJzZWN0XCI6IFwiXjYuNS4wXCIsXG4gICAgXCJAdHVyZi9saW5lLXNwbGl0XCI6IFwiXjYuNS4wXCIsXG4gICAgXCJsb2Rhc2hcIjogXCI0LjE3LjIxXCIsXG4gICAgXCJwb2x5Y2xpcC10c1wiOiBcIl4wLjE2LjVcIlxuICB9LFxuICBcImRldkRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJAdHlwZXMvbGVhZmxldFwiOiBcIl4xLjcuOVwiLFxuICAgIFwiY3Jvc3MtZW52XCI6IFwiXjcuMC4zXCIsXG4gICAgXCJjeXByZXNzXCI6IFwiNi45LjFcIixcbiAgICBcImN5cHJlc3Mtd2FpdC11bnRpbFwiOiBcIjEuNy4xXCIsXG4gICAgXCJlc2J1aWxkXCI6IFwiXjAuMjAuMFwiLFxuICAgIFwiZXNsaW50XCI6IFwiOC41Ni4wXCIsXG4gICAgXCJlc2xpbnQtY29uZmlnLWFpcmJuYi1iYXNlXCI6IFwiMTUuMC4wXCIsXG4gICAgXCJlc2xpbnQtY29uZmlnLXByZXR0aWVyXCI6IFwiOS4xLjBcIixcbiAgICBcImVzbGludC1wbHVnaW4tY3lwcmVzc1wiOiBcIjIuMTUuMVwiLFxuICAgIFwiZXNsaW50LXBsdWdpbi1pbXBvcnRcIjogXCIyLjI5LjFcIixcbiAgICBcImh1c2t5XCI6IFwiXjkuMC43XCIsXG4gICAgXCJsZWFmbGV0XCI6IFwiMS45LjNcIixcbiAgICBcImxpbnQtc3RhZ2VkXCI6IFwiXjE1LjIuMVwiLFxuICAgIFwicHJldHRpZXJcIjogXCIzLjIuNFwiLFxuICAgIFwicHJvc3RoZXRpYy1oYW5kXCI6IFwiMS4zLjFcIixcbiAgICBcInRzLW5vZGVcIjogXCJeMTAuOS4yXCJcbiAgfSxcbiAgXCJwZWVyRGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImxlYWZsZXRcIjogXCJeMS4yLjBcIlxuICB9LFxuICBcInNjcmlwdHNcIjoge1xuICAgIFwic3RhcnRcIjogXCJwbnBtIHJ1biBkZXZcIixcbiAgICBcImRldlwiOiBcImNyb3NzLWVudiBERVY9dHJ1ZSB0cy1ub2RlIGJ1bmRsZS5tanNcIixcbiAgICBcImJ1aWxkXCI6IFwidHMtbm9kZSBidW5kbGUubWpzXCIsXG4gICAgXCJ0ZXN0XCI6IFwiY3lwcmVzcyBydW5cIixcbiAgICBcImN5cHJlc3NcIjogXCJjeXByZXNzIG9wZW5cIixcbiAgICBcInByZXBhcmVcIjogXCJwbnBtIHJ1biBidWlsZCAmJiBodXNreVwiLFxuICAgIFwiZXNsaW50LWNoZWNrXCI6IFwiZXNsaW50IC0tcHJpbnQtY29uZmlnIC4gfCBlc2xpbnQtY29uZmlnLXByZXR0aWVyLWNoZWNrXCIsXG4gICAgXCJlc2xpbnRcIjogXCJlc2xpbnQgXFxcIntzcmMsY3lwcmVzcyxkZW1vfS8qKi8qLmpzXFxcIiAtLWZpeCBcIixcbiAgICBcInByZXR0aWVyXCI6IFwicHJldHRpZXIgLS13cml0ZSBcXFwie3NyYyxjeXByZXNzLGRlbW99LyoqLyoue2pzLGNzc31cXFwiIC0tbG9nLWxldmVsPXdhcm5cIixcbiAgICBcImxpbnRcIjogXCJwbnBtIHJ1biBlc2xpbnQgJiYgcG5wbSBydW4gcHJldHRpZXJcIlxuICB9LFxuICBcInJlcG9zaXRvcnlcIjoge1xuICAgIFwidHlwZVwiOiBcImdpdFwiLFxuICAgIFwidXJsXCI6IFwiZ2l0Oi8vZ2l0aHViLmNvbS9nZW9tYW4taW8vbGVhZmxldC1nZW9tYW4uZ2l0XCJcbiAgfSxcbiAgXCJhdXRob3JcIjoge1xuICAgIFwibmFtZVwiOiBcIkdlb21hbi5pb1wiLFxuICAgIFwiZW1haWxcIjogXCJzYWxlc0BnZW9tYW4uaW9cIixcbiAgICBcInVybFwiOiBcImh0dHA6Ly9nZW9tYW4uaW9cIlxuICB9LFxuICBcImxpY2Vuc2VcIjogXCJNSVRcIixcbiAgXCJidWdzXCI6IHtcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9nZW9tYW4taW8vbGVhZmxldC1nZW9tYW4vaXNzdWVzXCJcbiAgfSxcbiAgXCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2VvbWFuLmlvXCIsXG4gIFwicHJldHRpZXJcIjoge1xuICAgIFwidHJhaWxpbmdDb21tYVwiOiBcImVzNVwiLFxuICAgIFwidGFiV2lkdGhcIjogMixcbiAgICBcInNlbWlcIjogdHJ1ZSxcbiAgICBcInNpbmdsZVF1b3RlXCI6IHRydWVcbiAgfSxcbiAgXCJsaW50LXN0YWdlZFwiOiB7XG4gICAgXCIqLmpzXCI6IFwiZXNsaW50IFxcXCJ7c3JjLGN5cHJlc3MsZGVtb30vKiovKi5qc1xcXCIgLS1maXhcIixcbiAgICBcIioue2pzLGNzcyxtZH1cIjogXCJwcmV0dGllciAtLXdyaXRlIFxcXCJ7c3JjLGN5cHJlc3MsZGVtb30vKiovKi57anMsY3NzfVxcXCJcIlxuICB9XG59XG4iLCAiaW1wb3J0IG1lcmdlIGZyb20gJ2xvZGFzaC9tZXJnZSc7XG5pbXBvcnQgdHJhbnNsYXRpb25zIGZyb20gJy4uL2Fzc2V0cy90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IEdsb2JhbEVkaXRNb2RlIGZyb20gJy4vTWl4aW5zL01vZGVzL01vZGUuRWRpdCc7XG5pbXBvcnQgR2xvYmFsRHJhZ01vZGUgZnJvbSAnLi9NaXhpbnMvTW9kZXMvTW9kZS5EcmFnJztcbmltcG9ydCBHbG9iYWxSZW1vdmFsTW9kZSBmcm9tICcuL01peGlucy9Nb2Rlcy9Nb2RlLlJlbW92YWwnO1xuaW1wb3J0IEdsb2JhbFJvdGF0ZU1vZGUgZnJvbSAnLi9NaXhpbnMvTW9kZXMvTW9kZS5Sb3RhdGUnO1xuaW1wb3J0IEV2ZW50TWl4aW4gZnJvbSAnLi9NaXhpbnMvRXZlbnRzJztcbmltcG9ydCBjcmVhdGVLZXlib2FyZE1peGlucyBmcm9tICcuL01peGlucy9LZXlib2FyZCc7XG5pbXBvcnQgeyBnZXRSZW5kZXJlciB9IGZyb20gJy4vaGVscGVycyc7XG5cbmNvbnN0IE1hcCA9IEwuQ2xhc3MuZXh0ZW5kKHtcbiAgaW5jbHVkZXM6IFtcbiAgICBHbG9iYWxFZGl0TW9kZSxcbiAgICBHbG9iYWxEcmFnTW9kZSxcbiAgICBHbG9iYWxSZW1vdmFsTW9kZSxcbiAgICBHbG9iYWxSb3RhdGVNb2RlLFxuICAgIEV2ZW50TWl4aW4sXG4gIF0sXG4gIGluaXRpYWxpemUobWFwKSB7XG4gICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgdGhpcy5EcmF3ID0gbmV3IEwuUE0uRHJhdyhtYXApO1xuICAgIHRoaXMuVG9vbGJhciA9IG5ldyBMLlBNLlRvb2xiYXIobWFwKTtcbiAgICB0aGlzLktleWJvYXJkID0gY3JlYXRlS2V5Ym9hcmRNaXhpbnMoKTtcblxuICAgIHRoaXMuZ2xvYmFsT3B0aW9ucyA9IHtcbiAgICAgIHNuYXBwYWJsZTogdHJ1ZSxcbiAgICAgIGxheWVyR3JvdXA6IHVuZGVmaW5lZCxcbiAgICAgIHNuYXBwaW5nT3JkZXI6IFtcbiAgICAgICAgJ01hcmtlcicsXG4gICAgICAgICdDaXJjbGVNYXJrZXInLFxuICAgICAgICAnQ2lyY2xlJyxcbiAgICAgICAgJ0xpbmUnLFxuICAgICAgICAnUG9seWdvbicsXG4gICAgICAgICdSZWN0YW5nbGUnLFxuICAgICAgXSxcbiAgICAgIHBhbmVzOiB7XG4gICAgICAgIHZlcnRleFBhbmU6ICdtYXJrZXJQYW5lJyxcbiAgICAgICAgbGF5ZXJQYW5lOiAnb3ZlcmxheVBhbmUnLFxuICAgICAgICBtYXJrZXJQYW5lOiAnbWFya2VyUGFuZScsXG4gICAgICB9LFxuICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgIH07XG5cbiAgICB0aGlzLktleWJvYXJkLl9pbml0S2V5TGlzdGVuZXIobWFwKTtcbiAgfSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlZmF1bHQtcGFyYW0tbGFzdFxuICBzZXRMYW5nKGxhbmcgPSAnZW4nLCB0LCBmYWxsYmFjayA9ICdlbicpIHtcbiAgICBjb25zdCBvbGRMYW5nID0gTC5QTS5hY3RpdmVMYW5nO1xuICAgIGlmICh0KSB7XG4gICAgICB0cmFuc2xhdGlvbnNbbGFuZ10gPSBtZXJnZSh0cmFuc2xhdGlvbnNbZmFsbGJhY2tdLCB0KTtcbiAgICB9XG5cbiAgICBMLlBNLmFjdGl2ZUxhbmcgPSBsYW5nO1xuICAgIHRoaXMubWFwLnBtLlRvb2xiYXIucmVpbml0KCk7XG4gICAgdGhpcy5fZmlyZUxhbmdDaGFuZ2Uob2xkTGFuZywgbGFuZywgZmFsbGJhY2ssIHRyYW5zbGF0aW9uc1tsYW5nXSk7XG4gIH0sXG4gIGFkZENvbnRyb2xzKG9wdGlvbnMpIHtcbiAgICB0aGlzLlRvb2xiYXIuYWRkQ29udHJvbHMob3B0aW9ucyk7XG4gIH0sXG4gIHJlbW92ZUNvbnRyb2xzKCkge1xuICAgIHRoaXMuVG9vbGJhci5yZW1vdmVDb250cm9scygpO1xuICB9LFxuICB0b2dnbGVDb250cm9scygpIHtcbiAgICB0aGlzLlRvb2xiYXIudG9nZ2xlQ29udHJvbHMoKTtcbiAgfSxcbiAgY29udHJvbHNWaXNpYmxlKCkge1xuICAgIHJldHVybiB0aGlzLlRvb2xiYXIuaXNWaXNpYmxlO1xuICB9LFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVmYXVsdC1wYXJhbS1sYXN0XG4gIGVuYWJsZURyYXcoc2hhcGUgPSAnUG9seWdvbicsIG9wdGlvbnMpIHtcbiAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJsZSwgcmVtb3ZlIGFmdGVyIDMuMFxuICAgIGlmIChzaGFwZSA9PT0gJ1BvbHknKSB7XG4gICAgICBzaGFwZSA9ICdQb2x5Z29uJztcbiAgICB9XG5cbiAgICB0aGlzLkRyYXcuZW5hYmxlKHNoYXBlLCBvcHRpb25zKTtcbiAgfSxcbiAgZGlzYWJsZURyYXcoc2hhcGUgPSAnUG9seWdvbicpIHtcbiAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJsZSwgcmVtb3ZlIGFmdGVyIDMuMFxuICAgIGlmIChzaGFwZSA9PT0gJ1BvbHknKSB7XG4gICAgICBzaGFwZSA9ICdQb2x5Z29uJztcbiAgICB9XG5cbiAgICB0aGlzLkRyYXcuZGlzYWJsZShzaGFwZSk7XG4gIH0sXG4gIC8vIG9wdGlvbnNNb2RpZmllciBmb3Igc3BlY2lhbCBvcHRpb25zIGxpa2UgaWdub3JlU2hhcGVzIG9yIG1lcmdlXG4gIHNldFBhdGhPcHRpb25zKG9wdGlvbnMsIG9wdGlvbnNNb2RpZmllciA9IHt9KSB7XG4gICAgY29uc3QgaWdub3JlID0gb3B0aW9uc01vZGlmaWVyLmlnbm9yZVNoYXBlcyB8fCBbXTtcbiAgICBjb25zdCBtZXJnZU9wdGlvbnMgPSBvcHRpb25zTW9kaWZpZXIubWVyZ2UgfHwgZmFsc2U7XG5cbiAgICB0aGlzLm1hcC5wbS5EcmF3LnNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgaWYgKGlnbm9yZS5pbmRleE9mKHNoYXBlKSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5tYXAucG0uRHJhd1tzaGFwZV0uc2V0UGF0aE9wdGlvbnMob3B0aW9ucywgbWVyZ2VPcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBnZXRHbG9iYWxPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLmdsb2JhbE9wdGlvbnM7XG4gIH0sXG4gIHNldEdsb2JhbE9wdGlvbnMobykge1xuICAgIC8vIG1lcmdlIHBhc3NlZCBhbmQgZXhpc3Rpbmcgb3B0aW9uc1xuICAgIGNvbnN0IG9wdGlvbnMgPSBtZXJnZSh0aGlzLmdsb2JhbE9wdGlvbnMsIG8pO1xuXG4gICAgLy8gVE9ETzogcmVtb3ZlIHdpdGggbmV4dCBtYWpvciByZWxlYXNlXG4gICAgaWYgKG9wdGlvbnMuZWRpdGFibGUpIHtcbiAgICAgIG9wdGlvbnMucmVzaXplYWJsZUNpcmNsZU1hcmtlciA9IG9wdGlvbnMuZWRpdGFibGU7XG4gICAgICBkZWxldGUgb3B0aW9ucy5lZGl0YWJsZTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBzd2l0Y2hlZCB0aGUgZWRpdGFibGUgbW9kZSBmb3IgQ2lyY2xlTWFya2VyIHdoaWxlIGRyYXdpbmdcbiAgICBsZXQgcmVlbmFibGVDaXJjbGVNYXJrZXIgPSBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLm1hcC5wbS5EcmF3LkNpcmNsZU1hcmtlci5lbmFibGVkKCkgJiZcbiAgICAgICEhdGhpcy5tYXAucG0uRHJhdy5DaXJjbGVNYXJrZXIub3B0aW9ucy5yZXNpemVhYmxlQ2lyY2xlTWFya2VyICE9PVxuICAgICAgICAhIW9wdGlvbnMucmVzaXplYWJsZUNpcmNsZU1hcmtlclxuICAgICkge1xuICAgICAgdGhpcy5tYXAucG0uRHJhdy5DaXJjbGVNYXJrZXIuZGlzYWJsZSgpO1xuICAgICAgcmVlbmFibGVDaXJjbGVNYXJrZXIgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBjaGVjayBpZiBzd2l0Y2hlZCB0aGUgZWRpdGFibGUgbW9kZSBmb3IgQ2lyY2xlIHdoaWxlIGRyYXdpbmdcbiAgICBsZXQgcmVlbmFibGVDaXJjbGUgPSBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLm1hcC5wbS5EcmF3LkNpcmNsZS5lbmFibGVkKCkgJiZcbiAgICAgICEhdGhpcy5tYXAucG0uRHJhdy5DaXJjbGUub3B0aW9ucy5yZXNpemFibGVDaXJjbGUgIT09XG4gICAgICAgICEhb3B0aW9ucy5yZXNpemFibGVDaXJjbGVcbiAgICApIHtcbiAgICAgIHRoaXMubWFwLnBtLkRyYXcuQ2lyY2xlLmRpc2FibGUoKTtcbiAgICAgIHJlZW5hYmxlQ2lyY2xlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBlbmFibGUgb3B0aW9ucyBmb3IgRHJhd2luZyBTaGFwZXNcbiAgICB0aGlzLm1hcC5wbS5EcmF3LnNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgdGhpcy5tYXAucG0uRHJhd1tzaGFwZV0uc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9KTtcblxuICAgIGlmIChyZWVuYWJsZUNpcmNsZU1hcmtlcikge1xuICAgICAgdGhpcy5tYXAucG0uRHJhdy5DaXJjbGVNYXJrZXIuZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgaWYgKHJlZW5hYmxlQ2lyY2xlKSB7XG4gICAgICB0aGlzLm1hcC5wbS5EcmF3LkNpcmNsZS5lbmFibGUoKTtcbiAgICB9XG5cbiAgICAvLyBlbmFibGUgb3B0aW9ucyBmb3IgRWRpdGluZ1xuICAgIGNvbnN0IGxheWVycyA9IEwuUE0uVXRpbHMuZmluZExheWVycyh0aGlzLm1hcCk7XG4gICAgbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICBsYXllci5wbS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5tYXAuZmlyZSgncG06Z2xvYmFsb3B0aW9uc2NoYW5nZWQnKTtcblxuICAgIC8vIHN0b3JlIG9wdGlvbnNcbiAgICB0aGlzLmdsb2JhbE9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgLy8gYXBwbHkgdGhlIG9wdGlvbnMgKGFjdHVhbGx5IHRyaWdnZXIgdGhlIGZ1bmN0aW9uYWxpdHkpXG4gICAgdGhpcy5hcHBseUdsb2JhbE9wdGlvbnMoKTtcbiAgfSxcbiAgYXBwbHlHbG9iYWxPcHRpb25zKCkge1xuICAgIGNvbnN0IGxheWVycyA9IEwuUE0uVXRpbHMuZmluZExheWVycyh0aGlzLm1hcCk7XG4gICAgbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICBpZiAobGF5ZXIucG0uZW5hYmxlZCgpKSB7XG4gICAgICAgIGxheWVyLnBtLmFwcGx5T3B0aW9ucygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBnbG9iYWxEcmF3TW9kZUVuYWJsZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5EcmF3LmdldEFjdGl2ZVNoYXBlKCk7XG4gIH0sXG4gIGdsb2JhbEN1dE1vZGVFbmFibGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuRHJhdy5DdXQuZW5hYmxlZCgpO1xuICB9LFxuICBlbmFibGVHbG9iYWxDdXRNb2RlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5EcmF3LkN1dC5lbmFibGUob3B0aW9ucyk7XG4gIH0sXG4gIHRvZ2dsZUdsb2JhbEN1dE1vZGUob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLkRyYXcuQ3V0LnRvZ2dsZShvcHRpb25zKTtcbiAgfSxcbiAgZGlzYWJsZUdsb2JhbEN1dE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuRHJhdy5DdXQuZGlzYWJsZSgpO1xuICB9LFxuICBnZXRHZW9tYW5MYXllcnMoYXNHcm91cCA9IGZhbHNlKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKTtcbiAgICBpZiAoIWFzR3JvdXApIHtcbiAgICAgIHJldHVybiBsYXllcnM7XG4gICAgfVxuICAgIGNvbnN0IGdyb3VwID0gTC5mZWF0dXJlR3JvdXAoKTtcbiAgICBncm91cC5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgZ3JvdXAuYWRkTGF5ZXIobGF5ZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBncm91cDtcbiAgfSxcbiAgZ2V0R2VvbWFuRHJhd0xheWVycyhhc0dyb3VwID0gZmFsc2UpIHtcbiAgICBjb25zdCBsYXllcnMgPSBMLlBNLlV0aWxzLmZpbmRMYXllcnModGhpcy5tYXApLmZpbHRlcihcbiAgICAgIChsKSA9PiBsLl9kcmF3bkJ5R2VvbWFuID09PSB0cnVlXG4gICAgKTtcbiAgICBpZiAoIWFzR3JvdXApIHtcbiAgICAgIHJldHVybiBsYXllcnM7XG4gICAgfVxuICAgIGNvbnN0IGdyb3VwID0gTC5mZWF0dXJlR3JvdXAoKTtcbiAgICBncm91cC5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgZ3JvdXAuYWRkTGF5ZXIobGF5ZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBncm91cDtcbiAgfSxcbiAgLy8gcmV0dXJucyB0aGUgbWFwIGluc3RhbmNlIGJ5IGRlZmF1bHQgb3IgYSBsYXllcmdyb3VwIGlzIHNldCB0aHJvdWdoIGdsb2JhbCBvcHRpb25zXG4gIF9nZXRDb250YWluaW5nTGF5ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2xvYmFsT3B0aW9ucy5sYXllckdyb3VwICYmXG4gICAgICB0aGlzLmdsb2JhbE9wdGlvbnMubGF5ZXJHcm91cCBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cFxuICAgICAgPyB0aGlzLmdsb2JhbE9wdGlvbnMubGF5ZXJHcm91cFxuICAgICAgOiB0aGlzLm1hcDtcbiAgfSxcbiAgX2lzQ1JTU2ltcGxlKCkge1xuICAgIHJldHVybiB0aGlzLm1hcC5vcHRpb25zLmNycyA9PT0gTC5DUlMuU2ltcGxlO1xuICB9LFxuICAvLyBpbiBDYW52YXMgbW9kZSB3ZSBuZWVkIHRvIGNvbnZlcnQgdG91Y2gtIGFuZCBwb2ludGVyZXZlbnRzIChJRSkgdG8gbW91c2VldmVudHMsIGJlY2F1c2UgTGVhZmxldCBkb24ndCBzdXBwb3J0IHRoZW0uXG4gIF90b3VjaEV2ZW50Q291bnRlcjogMCxcbiAgX2FkZFRvdWNoRXZlbnRzKGVsbSkge1xuICAgIGlmICh0aGlzLl90b3VjaEV2ZW50Q291bnRlciA9PT0gMCkge1xuICAgICAgTC5Eb21FdmVudC5vbihlbG0sICd0b3VjaG1vdmUnLCB0aGlzLl9jYW52YXNUb3VjaE1vdmUsIHRoaXMpO1xuICAgICAgTC5Eb21FdmVudC5vbihcbiAgICAgICAgZWxtLFxuICAgICAgICAndG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaGNhbmNlbCcsXG4gICAgICAgIHRoaXMuX2NhbnZhc1RvdWNoQ2xpY2ssXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuX3RvdWNoRXZlbnRDb3VudGVyICs9IDE7XG4gIH0sXG4gIF9yZW1vdmVUb3VjaEV2ZW50cyhlbG0pIHtcbiAgICBpZiAodGhpcy5fdG91Y2hFdmVudENvdW50ZXIgPT09IDEpIHtcbiAgICAgIEwuRG9tRXZlbnQub2ZmKGVsbSwgJ3RvdWNobW92ZScsIHRoaXMuX2NhbnZhc1RvdWNoTW92ZSwgdGhpcyk7XG4gICAgICBMLkRvbUV2ZW50Lm9mZihcbiAgICAgICAgZWxtLFxuICAgICAgICAndG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaGNhbmNlbCcsXG4gICAgICAgIHRoaXMuX2NhbnZhc1RvdWNoQ2xpY2ssXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuX3RvdWNoRXZlbnRDb3VudGVyID1cbiAgICAgIHRoaXMuX3RvdWNoRXZlbnRDb3VudGVyIDw9IDEgPyAwIDogdGhpcy5fdG91Y2hFdmVudENvdW50ZXIgLSAxO1xuICB9LFxuICBfY2FudmFzVG91Y2hNb3ZlKGUpIHtcbiAgICBnZXRSZW5kZXJlcih0aGlzLm1hcCkuX29uTW91c2VNb3ZlKHRoaXMuX2NyZWF0ZU1vdXNlRXZlbnQoJ21vdXNlbW92ZScsIGUpKTtcbiAgfSxcbiAgX2NhbnZhc1RvdWNoQ2xpY2soZSkge1xuICAgIGxldCB0eXBlID0gJyc7XG4gICAgaWYgKGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnIHx8IGUudHlwZSA9PT0gJ3BvaW50ZXJkb3duJykge1xuICAgICAgdHlwZSA9ICdtb3VzZWRvd24nO1xuICAgIH0gZWxzZSBpZiAoZS50eXBlID09PSAndG91Y2hlbmQnIHx8IGUudHlwZSA9PT0gJ3BvaW50ZXJ1cCcpIHtcbiAgICAgIHR5cGUgPSAnbW91c2V1cCc7XG4gICAgfSBlbHNlIGlmIChlLnR5cGUgPT09ICd0b3VjaGNhbmNlbCcgfHwgZS50eXBlID09PSAncG9pbnRlcmNhbmNlbCcpIHtcbiAgICAgIHR5cGUgPSAnbW91c2V1cCc7XG4gICAgfVxuICAgIGlmICghdHlwZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBnZXRSZW5kZXJlcih0aGlzLm1hcCkuX29uQ2xpY2sodGhpcy5fY3JlYXRlTW91c2VFdmVudCh0eXBlLCBlKSk7XG4gIH0sXG4gIF9jcmVhdGVNb3VzZUV2ZW50KHR5cGUsIGUpIHtcbiAgICBsZXQgbW91c2VFdmVudDtcbiAgICBjb25zdCB0b3VjaEV2dCA9IGUudG91Y2hlc1swXSB8fCBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgIHRyeSB7XG4gICAgICBtb3VzZUV2ZW50ID0gbmV3IE1vdXNlRXZlbnQodHlwZSwge1xuICAgICAgICBidWJibGVzOiBlLmJ1YmJsZXMsXG4gICAgICAgIGNhbmNlbGFibGU6IGUuY2FuY2VsYWJsZSxcbiAgICAgICAgdmlldzogZS52aWV3LFxuICAgICAgICBkZXRhaWw6IHRvdWNoRXZ0LmRldGFpbCxcbiAgICAgICAgc2NyZWVuWDogdG91Y2hFdnQuc2NyZWVuWCxcbiAgICAgICAgc2NyZWVuWTogdG91Y2hFdnQuc2NyZWVuWSxcbiAgICAgICAgY2xpZW50WDogdG91Y2hFdnQuY2xpZW50WCxcbiAgICAgICAgY2xpZW50WTogdG91Y2hFdnQuY2xpZW50WSxcbiAgICAgICAgY3RybEtleTogZS5jdHJsS2V5LFxuICAgICAgICBhbHRLZXk6IGUuYWx0S2V5LFxuICAgICAgICBzaGlmdEtleTogZS5zaGlmdEtleSxcbiAgICAgICAgbWV0YUtleTogZS5tZXRhS2V5LFxuICAgICAgICBidXR0b246IGUuYnV0dG9uLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiBlLnJlbGF0ZWRUYXJnZXQsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgbW91c2VFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgICAgbW91c2VFdmVudC5pbml0TW91c2VFdmVudChcbiAgICAgICAgdHlwZSxcbiAgICAgICAgZS5idWJibGVzLFxuICAgICAgICBlLmNhbmNlbGFibGUsXG4gICAgICAgIGUudmlldyxcbiAgICAgICAgdG91Y2hFdnQuZGV0YWlsLFxuICAgICAgICB0b3VjaEV2dC5zY3JlZW5YLFxuICAgICAgICB0b3VjaEV2dC5zY3JlZW5ZLFxuICAgICAgICB0b3VjaEV2dC5jbGllbnRYLFxuICAgICAgICB0b3VjaEV2dC5jbGllbnRZLFxuICAgICAgICBlLmN0cmxLZXksXG4gICAgICAgIGUuYWx0S2V5LFxuICAgICAgICBlLnNoaWZ0S2V5LFxuICAgICAgICBlLm1ldGFLZXksXG4gICAgICAgIGUuYnV0dG9uLFxuICAgICAgICBlLnJlbGF0ZWRUYXJnZXRcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBtb3VzZUV2ZW50O1xuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IE1hcDtcbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJDbGljayB0byBwbGFjZSBtYXJrZXJcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiQ2xpY2sgdG8gcGxhY2UgZmlyc3QgdmVydGV4XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJDbGljayB0byBjb250aW51ZSBkcmF3aW5nXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiQ2xpY2sgYW55IGV4aXN0aW5nIG1hcmtlciB0byBmaW5pc2hcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJDbGljayBmaXJzdCBtYXJrZXIgdG8gZmluaXNoXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiQ2xpY2sgdG8gZmluaXNoXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIkNsaWNrIHRvIHBsYWNlIGNpcmNsZSBjZW50ZXJcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIkNsaWNrIHRvIGZpbmlzaCBjaXJjbGVcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiQ2xpY2sgdG8gcGxhY2UgY2lyY2xlIG1hcmtlclwiLFxuICAgIFwicGxhY2VUZXh0XCI6IFwiQ2xpY2sgdG8gcGxhY2UgdGV4dFwiLFxuICAgIFwic2VsZWN0Rmlyc3RMYXllckZvclwiOiBcIlNlbGVjdCBmaXJzdCBsYXllciBmb3Ige2FjdGlvbn1cIixcbiAgICBcInNlbGVjdFNlY29uZExheWVyRm9yXCI6IFwiU2VsZWN0IHNlY29uZCBsYXllciBmb3Ige2FjdGlvbn1cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiRmluaXNoXCIsXG4gICAgXCJjYW5jZWxcIjogXCJDYW5jZWxcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJSZW1vdmUgTGFzdCBWZXJ0ZXhcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiRHJhdyBNYXJrZXJcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiRHJhdyBQb2x5Z29uc1wiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJEcmF3IFBvbHlsaW5lXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiRHJhdyBDaXJjbGVcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiRHJhdyBSZWN0YW5nbGVcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJFZGl0IExheWVyc1wiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkRyYWcgTGF5ZXJzXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJDdXQgTGF5ZXJzXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJSZW1vdmUgTGF5ZXJzXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiRHJhdyBDaXJjbGUgTWFya2VyXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlNuYXAgZHJhZ2dlZCBtYXJrZXIgdG8gb3RoZXIgbGF5ZXJzIGFuZCB2ZXJ0aWNlc1wiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlBpbiBzaGFyZWQgdmVydGljZXMgdG9nZXRoZXJcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlJvdGF0ZSBMYXllcnNcIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiRHJhdyBUZXh0XCIsXG4gICAgXCJzY2FsZUJ1dHRvblwiOiBcIlNjYWxlIExheWVyc1wiLFxuICAgIFwiYXV0b1RyYWNpbmdCdXR0b25cIjogXCJBdXRvIHRyYWNlIExpbmVcIixcbiAgICBcInNuYXBHdWlkZXNCdXR0b25cIjogXCJTaG93IFNuYXBHdWlkZXNcIixcbiAgICBcInVuaW9uQnV0dG9uXCI6IFwiVW5pb24gbGF5ZXJzXCIsXG4gICAgXCJkaWZmZXJlbmNlQnV0dG9uXCI6IFwiU3VidHJhY3QgbGF5ZXJzXCJcbiAgfSxcbiAgXCJtZWFzdXJlbWVudHNcIjoge1xuICAgIFwidG90YWxMZW5ndGhcIjogXCJMZW5ndGhcIixcbiAgICBcInNlZ21lbnRMZW5ndGhcIjogXCJTZWdtZW50IGxlbmd0aFwiLFxuICAgIFwiYXJlYVwiOiBcIkFyZWFcIixcbiAgICBcInJhZGl1c1wiOiBcIlJhZGl1c1wiLFxuICAgIFwicGVyaW1ldGVyXCI6IFwiUGVyaW1ldGVyXCIsXG4gICAgXCJoZWlnaHRcIjogXCJIZWlnaHRcIixcbiAgICBcIndpZHRoXCI6IFwiV2lkdGhcIixcbiAgICBcImNvb3JkaW5hdGVzXCI6IFwiUG9zaXRpb25cIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiUG9zaXRpb24gTWFya2VyXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIlBsYXR6aWVyZSBkZW4gTWFya2VyIG1pdCBLbGlja1wiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJQbGF0emllcmUgZGVuIGVyc3RlbiBNYXJrZXIgbWl0IEtsaWNrXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJLbGlja2UsIHVtIHdlaXRlciB6dSB6ZWljaG5lblwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkJlZW5kZSBtaXQgS2xpY2sgYXVmIGV4aXN0aWVyZW5kZW4gTWFya2VyXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiQmVlbmRlIG1pdCBLbGljayBhdWYgZXJzdGVuIE1hcmtlclwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIkJlZW5kZSBtaXQgS2xpY2tcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiUGxhdHppZXJlIGRhcyBLcmVpc3plbnRydW0gbWl0IEtsaWNrXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJCZWVuZGUgZGVuIEtyZWlzIG1pdCBLbGlja1wiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJQbGF0emllcmUgZGVuIEtyZWlzbWFya2VyIG1pdCBLbGlja1wiLFxuICAgIFwicGxhY2VUZXh0XCI6IFwiUGxhdHppZXJlIGRlbiBUZXh0IG1pdCBLbGlja1wiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJCZWVuZGVuXCIsXG4gICAgXCJjYW5jZWxcIjogXCJBYmJyZWNoZW5cIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJMZXR6dGVuIFZlcnRleCBsXHUwMEY2c2NoZW5cIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiTWFya2VyIHplaWNobmVuXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlBvbHlnb24gemVpY2huZW5cIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiUG9seWxpbmUgemVpY2huZW5cIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJLcmVpcyB6ZWljaG5lblwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJSZWNodGVjayB6ZWljaG5lblwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIkxheWVyIGVkaXRpZXJlblwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkxheWVyIGJld2VnZW5cIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIkxheWVyIHNjaG5laWRlblwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiTGF5ZXIgbFx1MDBGNnNjaGVuXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiS3JlaXNtYXJrZXIgemVpY2huZW5cIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiQmV3ZWd0ZXIgTGF5ZXIgYW4gYW5kZXJlIExheWVyIG9kZXIgVmVydGV4ZSBlaW5oYWNrZW5cIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJWZXJ0ZXhlIGFuIGRlciBnbGVpY2hlbiBQb3NpdGlvbiB2ZXJrblx1MDBGQ3BmZW5cIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIkxheWVyIGRyZWhlblwiLFxuICAgIFwiZHJhd1RleHRCdXR0b25cIjogXCJUZXh0IHplaWNobmVuXCIsXG4gICAgXCJzY2FsZUJ1dHRvblwiOiBcIkxheWVyIHNrYWxpZXJlblwiLFxuICAgIFwiYXV0b1RyYWNpbmdCdXR0b25cIjogXCJMaW5pZSBhdXRvbWF0aXNjaCBuYWNoemVpY2hlblwiXG4gIH0sXG4gIFwibWVhc3VyZW1lbnRzXCI6IHtcbiAgICBcInRvdGFsTGVuZ3RoXCI6IFwiTFx1MDBFNG5nZVwiLFxuICAgIFwic2VnbWVudExlbmd0aFwiOiBcIlNlZ21lbnQgTFx1MDBFNG5nZVwiLFxuICAgIFwiYXJlYVwiOiBcIkZsXHUwMEU0Y2hlXCIsXG4gICAgXCJyYWRpdXNcIjogXCJSYWRpdXNcIixcbiAgICBcInBlcmltZXRlclwiOiBcIlVtZmFuZ1wiLFxuICAgIFwiaGVpZ2h0XCI6IFwiSFx1MDBGNmhlXCIsXG4gICAgXCJ3aWR0aFwiOiBcIkJyZWl0ZVwiLFxuICAgIFwiY29vcmRpbmF0ZXNcIjogXCJQb3NpdGlvblwiLFxuICAgIFwiY29vcmRpbmF0ZXNNYXJrZXJcIjogXCJQb3NpdGlvbiBNYXJrZXJcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiQ2xpY2NhIHBlciBwb3NpemlvbmFyZSB1biBNYXJrZXJcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiQ2xpY2NhIHBlciBwb3NpemlvbmFyZSBpbCBwcmltbyB2ZXJ0aWNlXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJDbGljY2EgcGVyIGNvbnRpbnVhcmUgYSBkaXNlZ25hcmVcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJDbGljY2EgcXVhbHNpYXNpIG1hcmtlciBlc2lzdGVudGUgcGVyIHRlcm1pbmFyZVwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIkNsaWNjYSBpbCBwcmltbyBtYXJrZXIgcGVyIHRlcm1pbmFyZVwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIkNsaWNjYSBwZXIgdGVybWluYXJlXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIkNsaWNjYSBwZXIgcG9zaXppb25hcmUgaWwgcHVudG8gY2VudHJhbGUgZGVsIGNlcmNoaW9cIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIkNsaWNjYSBwZXIgdGVybWluYXJlIGlsIGNlcmNoaW9cIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiQ2xpY2NhIHBlciBwb3NpemlvbmFyZSB1biBNYXJrZXIgZGVsIGNoZXJjaGlvXCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlRlcm1pbmFcIixcbiAgICBcImNhbmNlbFwiOiBcIkFubnVsbGFcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJSaW11b3ZpIGwndWx0aW1vIHZlcnRpY2VcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiRGlzZWduYSBNYXJrZXJcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiRGlzZWduYSBQb2xpZ29uaVwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJEaXNlZ25hIFBvbGlsaW5lYVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIkRpc2VnbmEgQ2VyY2hpb1wiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJEaXNlZ25hIFJldHRhbmdvbG9cIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJNb2RpZmljYSBMaXZlbGxpXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiU3Bvc3RhIExpdmVsbGlcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIlJpdGFnbGlhIExpdmVsbGlcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIkVsaW1pbmEgTGl2ZWxsaVwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIkRpc2VnbmEgTWFya2VyIGRlbCBDZXJjaGlvXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlNuYXAgaGEgdHJhc2NpbmF0byBpbCBwZW5uYXJlbGxvIHN1IGFsdHJpIHN0cmF0aSBlIHZlcnRpY2lcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJQaW4gY29uZGl2aXNvIHZlcnRpY2kgaW5zaWVtZVwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiUnVvdGEgbGl2ZWxsb1wiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJLbGlrIHVudHVrIG1lbmVtcGF0a2FuIG1hcmtlclwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJLbGlrIHVudHVrIG1lbmVtcGF0a2FuIHZlcnRleCBwZXJ0YW1hXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJLbGlrIHVudHVrIG1lbmVydXNrYW4gZGlnaXRhc2lcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJLbGlrIHBhZGEgc2VtYmFyYW5nIG1hcmtlciB5YW5nIGFkYSB1bnR1ayBtZW5nYWtoaXJpXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiS2xpayBtYXJrZXIgcGVydGFtYSB1bnR1ayBtZW5nYWtoaXJpXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiS2xpayB1bnR1ayBtZW5nYWtoaXJpXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIktsaWsgdW50dWsgbWVuZW1wYXRrYW4gdGl0aWsgcHVzYXQgbGluZ2thcmFuXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJLbGlrIHVudHVrIG1lbmdha2hpcmkgbGluZ2thcmFuXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIktsaWsgdW50dWsgbWVuZW1wYXRrYW4gcGVuYW5kYSBsaW5na2FyYW5uXCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlNlbGVzYWlcIixcbiAgICBcImNhbmNlbFwiOiBcIkJhdGFsXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiSGlsYW5na2FuIFZlcnRleCBUZXJha2hpclwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJEaWdpdGFzaSBNYXJrZXJcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiRGlnaXRhc2kgUG9seWdvblwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJEaWdpdGFzaSBQb2x5bGluZVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIkRpZ2l0YXNpIExpbmdrYXJhblwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJEaWdpdGFzaSBTZWdpIEVtcGF0XCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiRWRpdCBMYXllclwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkdlc2VyIExheWVyXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJQb3RvbmcgTGF5ZXJcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIkhpbGFuZ2thbiBMYXllclwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIkRpZ2l0YXNpIFBlbmFuZGEgTGluZ2thcmFuXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkplcHJldGthbiBwZW5hbmRhIHlhbmcgZGl0YXJpayBrZSBsYXBpc2FuIGRhbiBzaW1wdWwgbGFpblwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlNlbWF0a2FuIHNpbXB1bCBiZXJzYW1hIGJlcnNhbWFcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlB1dGFyIGxhcGlzYW5cIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiQWRhdWdcdTAxMDMgdW4gcHVuY3RcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiQXBhc1x1MDEwMyBhaWNpIHBlbnRydSBhIGFkXHUwMTAzdWdhIHByaW11bCBWZXJ0ZXhcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIkFwYXNcdTAxMDMgYWljaSBwZW50cnUgYSBjb250aW51YSBkZXNlbnVsXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiQXBhc1x1MDEwMyBwZSBvcmljZSBvYmllY3QgcGVudHJ1IGEgZmluaXNhIGRlc2VudWxcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJBcGFzXHUwMTAzIHBlIHByaW11bCBvYmllY3QgcGVudHJ1IGEgZmluaXNhXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiQXBhc1x1MDEwMyBwZW50cnUgYSBmaW5pc2FcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiQXBhc1x1MDEwMyBwZW50cnUgYSBkZXNlbmEgdW4gY2VyY1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiQXBhc1x1MDEwMyBwZW50cnUgYSBmaW5pc2EgdW4gY2VyY1wiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJBZGF1Z1x1MDEwMyB1biBwdW5jdFwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJUZXJtaW5cdTAxMDNcIixcbiAgICBcImNhbmNlbFwiOiBcIkFudWxlYXpcdTAxMDNcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdTAyMTh0ZXJnZSB1bHRpbXVsIFZlcnRleFwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJBZGF1Z1x1MDEwMyBvIGJ1bGluXHUwMTAzXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRlc2VuZWF6XHUwMTAzIHVuIHBvbGlnb25cIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRGVzZW5lYXpcdTAxMDMgbyBsaW5pZVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIkRlc2VuZWF6XHUwMTAzIHVuIGNlcmNcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiRGVzZW5lYXpcdTAxMDMgdW4gZHJlcHR1bmdoaVwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIkVkaXRlYXpcdTAxMDMgc3RyYXR1cmlsZVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIk11dFx1MDEwMyBzdHJhdHVyaWxlXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJUYWllIHN0cmF0dXJpbGVcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlx1MDIxOHRlcmdlIHN0cmF0dXJpbGVcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJEZXNlbmVhelx1MDEwMyBtYXJjYXRvcnVsIGNlcmN1bHVpXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkZpeGFcdTAyMUJpIG1hcmNhdG9ydWwgZ2xpc2F0IHBlIGFsdGUgc3RyYXR1cmkgXHUwMjE5aSB2XHUwMEUycmZ1cmlcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJGaXhhXHUwMjFCaSB2XHUwMEUycmZ1cmlsZSBwYXJ0YWphdGUgXHUwMEVFbXByZXVuXHUwMTAzXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJSb3RpXHUwMjFCaSBzdHJhdHVsXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIlx1MDQxRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSwgXHUwNDQ3XHUwNDQyXHUwNDNFXHUwNDMxXHUwNDRCIFx1MDQzRFx1MDQzMFx1MDQzRFx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzOCBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiXHUwNDFEXHUwNDMwXHUwNDM2XHUwNDNDXHUwNDM4XHUwNDQyXHUwNDM1LCBcdTA0NDdcdTA0NDJcdTA0M0VcdTA0MzFcdTA0NEIgXHUwNDNEXHUwNDMwXHUwNDNEXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDM4IFx1MDQzRlx1MDQzNVx1MDQ0MFx1MDQzMlx1MDQ0Qlx1MDQzOSBcdTA0M0VcdTA0MzFcdTA0NEFcdTA0MzVcdTA0M0FcdTA0NDJcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIlx1MDQxRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSwgXHUwNDQ3XHUwNDQyXHUwNDNFXHUwNDMxXHUwNDRCIFx1MDQzRlx1MDQ0MFx1MDQzRVx1MDQzNFx1MDQzRVx1MDQzQlx1MDQzNlx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0NDBcdTA0MzhcdTA0NDFcdTA0M0VcdTA0MzJcdTA0MzBcdTA0M0RcdTA0MzhcdTA0MzVcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDNCXHUwNDRFXHUwNDMxXHUwNDNFXHUwNDM5IFx1MDQ0MVx1MDQ0M1x1MDQ0OVx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzMlx1MDQ0M1x1MDQ0RVx1MDQ0OVx1MDQzOFx1MDQzOSBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDAgXHUwNDM0XHUwNDNCXHUwNDRGIFx1MDQzN1x1MDQzMFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0RlwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIlx1MDQxMlx1MDQ0Qlx1MDQzMVx1MDQzNVx1MDQ0MFx1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0M0ZcdTA0MzVcdTA0NDBcdTA0MzJcdTA0NDNcdTA0NEUgXHUwNDQyXHUwNDNFXHUwNDQ3XHUwNDNBXHUwNDQzLCBcdTA0NDdcdTA0NDJcdTA0M0VcdTA0MzFcdTA0NEIgXHUwNDM3XHUwNDMwXHUwNDNBXHUwNDNFXHUwNDNEXHUwNDQ3XHUwNDM4XHUwNDQyXHUwNDRDXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHUwNDFEXHUwNDMwXHUwNDM2XHUwNDNDXHUwNDM4XHUwNDQyXHUwNDM1LCBcdTA0NDdcdTA0NDJcdTA0M0VcdTA0MzFcdTA0NEIgXHUwNDM3XHUwNDMwXHUwNDNBXHUwNDNFXHUwNDNEXHUwNDQ3XHUwNDM4XHUwNDQyXHUwNDRDXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlx1MDQxRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSwgXHUwNDQ3XHUwNDQyXHUwNDNFXHUwNDMxXHUwNDRCIFx1MDQzNFx1MDQzRVx1MDQzMVx1MDQzMFx1MDQzMlx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0NDZcdTA0MzVcdTA0M0RcdTA0NDJcdTA0NDAgXHUwNDNBXHUwNDQwXHUwNDQzXHUwNDMzXHUwNDMwXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0MzdcdTA0MzBcdTA0MzRcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDM4XHUwNDQzXHUwNDQxXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlx1MDQxRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSwgXHUwNDQ3XHUwNDQyXHUwNDNFXHUwNDMxXHUwNDRCIFx1MDQzRFx1MDQzMFx1MDQzRFx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzOCBcdTA0M0FcdTA0NDBcdTA0NDNcdTA0MzNcdTA0M0VcdTA0MzJcdTA0M0VcdTA0MzkgXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlx1MDQxN1x1MDQzMFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQ0Mlx1MDQ0Q1wiLFxuICAgIFwiY2FuY2VsXCI6IFwiXHUwNDFFXHUwNDQyXHUwNDNDXHUwNDM1XHUwNDNEXHUwNDM4XHUwNDQyXHUwNDRDXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiXHUwNDFFXHUwNDQyXHUwNDNDXHUwNDM1XHUwNDNEXHUwNDM4XHUwNDQyXHUwNDRDIFx1MDQzRlx1MDQzRVx1MDQ0MVx1MDQzQlx1MDQzNVx1MDQzNFx1MDQzRFx1MDQzNVx1MDQzNSBcdTA0MzRcdTA0MzVcdTA0MzlcdTA0NDFcdTA0NDJcdTA0MzJcdTA0MzhcdTA0MzVcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiXHUwNDE0XHUwNDNFXHUwNDMxXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDQyXHUwNDRDIFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJcdTA0MjBcdTA0MzhcdTA0NDFcdTA0M0VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDNGXHUwNDNFXHUwNDNCXHUwNDM4XHUwNDMzXHUwNDNFXHUwNDNEXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlx1MDQyMFx1MDQzOFx1MDQ0MVx1MDQzRVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQ0QyBcdTA0M0FcdTA0NDBcdTA0MzhcdTA0MzJcdTA0NDNcdTA0NEVcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJcdTA0MjBcdTA0MzhcdTA0NDFcdTA0M0VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDNBXHUwNDQwXHUwNDQzXHUwNDMzXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlx1MDQyMFx1MDQzOFx1MDQ0MVx1MDQzRVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQ0QyBcdTA0M0ZcdTA0NDBcdTA0NEZcdTA0M0NcdTA0M0VcdTA0NDNcdTA0MzNcdTA0M0VcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0M0FcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJcdTA0MjBcdTA0MzVcdTA0MzRcdTA0MzBcdTA0M0FcdTA0NDJcdTA0MzhcdTA0NDBcdTA0M0VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDQxXHUwNDNCXHUwNDNFXHUwNDM5XCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiXHUwNDFGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDNEXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDM4IFx1MDQ0MVx1MDQzQlx1MDQzRVx1MDQzOVwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiXHUwNDEyXHUwNDRCXHUwNDQwXHUwNDM1XHUwNDM3XHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQ0MVx1MDQzQlx1MDQzRVx1MDQzOVwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiXHUwNDIzXHUwNDM0XHUwNDMwXHUwNDNCXHUwNDM4XHUwNDQyXHUwNDRDIFx1MDQ0MVx1MDQzQlx1MDQzRVx1MDQzOVwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlx1MDQxNFx1MDQzRVx1MDQzMVx1MDQzMFx1MDQzMlx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0M0FcdTA0NDBcdTA0NDNcdTA0MzNcdTA0M0VcdTA0MzJcdTA0M0VcdTA0MzkgXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlx1MDQxRlx1MDQ0MFx1MDQzOFx1MDQzMlx1MDQ0Rlx1MDQzN1x1MDQzMFx1MDQ0Mlx1MDQ0QyBcdTA0M0ZcdTA0MzVcdTA0NDBcdTA0MzVcdTA0NDJcdTA0MzBcdTA0NDFcdTA0M0FcdTA0MzhcdTA0MzJcdTA0MzBcdTA0MzVcdTA0M0NcdTA0NEJcdTA0MzkgXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwIFx1MDQzQSBcdTA0MzRcdTA0NDBcdTA0NDNcdTA0MzNcdTA0MzhcdTA0M0MgXHUwNDQxXHUwNDNCXHUwNDNFXHUwNDRGXHUwNDNDIFx1MDQzOCBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzhcdTA0M0RcdTA0MzBcdTA0M0NcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJcdTA0MjFcdTA0MzJcdTA0NEZcdTA0MzdcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDNFXHUwNDMxXHUwNDQ5XHUwNDM4XHUwNDM1IFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQzOCBcdTA0MzJcdTA0M0NcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzVcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlx1MDQxRlx1MDQzRVx1MDQzMlx1MDQzRVx1MDQ0MFx1MDQzRVx1MDQ0MiBcdTA0NDFcdTA0M0JcdTA0M0VcdTA0NEZcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiUHJlc2lvbmEgcGFyYSBjb2xvY2FyIHVuIG1hcmNhZG9yXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlByZXNpb25hIHBhcmEgY29sb2NhciBlbCBwcmltZXIgdlx1MDBFOXJ0aWNlXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJQcmVzaW9uYSBwYXJhIGNvbnRpbnVhciBkaWJ1amFuZG9cIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJQcmVzaW9uYSBjdWFscXVpZXIgbWFyY2Fkb3IgZXhpc3RlbnRlIHBhcmEgZmluYWxpemFyXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiUHJlc2lvbmEgZWwgcHJpbWVyIG1hcmNhZG9yIHBhcmEgZmluYWxpemFyXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiUHJlc2lvbmEgcGFyYSBmaW5hbGl6YXJcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiUHJlc2lvbmEgcGFyYSBjb2xvY2FyIGVsIGNlbnRybyBkZWwgY1x1MDBFRHJjdWxvXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJQcmVzaW9uYSBwYXJhIGZpbmFsaXphciBlbCBjXHUwMEVEcmN1bG9cIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiUHJlc2lvbmEgcGFyYSBjb2xvY2FyIHVuIG1hcmNhZG9yIGRlIGNcdTAwRURyY3Vsb1wiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJGaW5hbGl6YXJcIixcbiAgICBcImNhbmNlbFwiOiBcIkNhbmNlbGFyXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiRWxpbWluYXIgXHUwMEZBbHRpbW8gdlx1MDBFOXJ0aWNlXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIkRpYnVqYXIgTWFyY2Fkb3JcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiRGlidWphciBQb2xcdTAwRURnb25vXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIkRpYnVqYXIgTFx1MDBFRG5lYVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIkRpYnVqYXIgQ1x1MDBFRHJjdWxvXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIkRpYnVqYXIgUmVjdFx1MDBFMW5ndWxvXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiRWRpdGFyIENhcGFzXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiQXJyYXN0cmFyIENhcGFzXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJDb3J0YXIgQ2FwYXNcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIkVsaW1pbmFyIENhcGFzXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiRGlidWphciBNYXJjYWRvciBkZSBDXHUwMEVEcmN1bG9cIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiRWwgbWFyY2Fkb3IgZGUgU25hcCBhcnJhc3RyYWRvIGEgb3RyYXMgY2FwYXMgeSB2XHUwMEU5cnRpY2VzXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiRmlqYXIganVudG9zIGxvcyB2XHUwMEU5cnRpY2VzIGNvbXBhcnRpZG9zXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJSb3RhciBjYXBhXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIktsaWsgb20gZWVuIG1hcmtlciB0ZSBwbGFhdHNlblwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJLbGlrIG9tIGhldCBlZXJzdGUgcHVudCB0ZSBwbGFhdHNlblwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiS2xpayBvbSB0ZSBibGlqdmVuIHRla2VuZW5cIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJLbGlrIG9wIGVlbiBiZXN0YWFuZCBwdW50IG9tIHRlIGJlXHUwMEVCaW5kaWdlblwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIktsaWsgb3AgaGV0IGVlcnN0IHB1bnQgb20gdGUgYmVcdTAwRUJpbmRpZ2VuXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiS2xpayBvbSB0ZSBiZVx1MDBFQmluZGlnZW5cIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiS2xpayBvbSBoZXQgbWlkZGVscHVudCB0ZSBwbGFhdHNlblwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiS2xpayBvbSBkZSBjaXJrZWwgdGUgYmVcdTAwRUJpbmRpZ2VuXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIktsaWsgb20gZWVuIG1hcmtlciB0ZSBwbGFhdHNlblwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJCZXdhYXJcIixcbiAgICBcImNhbmNlbFwiOiBcIkFubnVsZWVyXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiVmVyd2lqZGVyIGxhYXRzdGUgcHVudFwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJQbGFhdHMgTWFya2VyXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlRla2VuIGVlbiB2bGFrXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlRla2VuIGVlbiBsaWpuXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiVGVrZW4gZWVuIGNpcmtlbFwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJUZWtlbiBlZW4gdmllcmthbnRcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJCZXdlcmtcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJWZXJwbGFhdHNcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIktuaXBcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlZlcndpamRlclwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlBsYWF0cyBNYXJrZXJcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiU25hcCBnZXNsZWVwdGUgbWFya2VyIG5hYXIgYW5kZXJlIGxhZ2VuIGVuIGhvZWtwdW50ZW5cIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJTcGVsZCBnZWRlZWxkZSBob2VrcHVudGVuIHNhbWVuXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJMYWFnIHJvdGVyZW5cIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiQ2xpcXVleiBwb3VyIHBsYWNlciB1biBtYXJxdWV1clwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJDbGlxdWV6IHBvdXIgcGxhY2VyIGxlIHByZW1pZXIgc29tbWV0XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJDbGlxdWV6IHBvdXIgY29udGludWVyIFx1MDBFMCBkZXNzaW5lclwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkNsaXF1ZXogc3VyIG4naW1wb3J0ZSBxdWVsIG1hcnF1ZXVyIHBvdXIgdGVybWluZXJcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJDbGlxdWV6IHN1ciBsZSBwcmVtaWVyIG1hcnF1ZXVyIHBvdXIgdGVybWluZXJcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJDbGlxdWV6IHBvdXIgdGVybWluZXJcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiQ2xpcXVleiBwb3VyIHBsYWNlciBsZSBjZW50cmUgZHUgY2VyY2xlXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJDbGlxdWV6IHBvdXIgZmluaXIgbGUgY2VyY2xlXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIkNsaXF1ZXogcG91ciBwbGFjZXIgbGUgbWFycXVldXIgY2lyY3VsYWlyZVwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJUZXJtaW5lclwiLFxuICAgIFwiY2FuY2VsXCI6IFwiQW5udWxlclwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlJldGlyZXIgbGUgZGVybmllciBzb21tZXRcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiUGxhY2VyIGRlcyBtYXJxdWV1cnNcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiRGVzc2luZXIgZGVzIHBvbHlnb25lc1wiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJEZXNzaW5lciBkZXMgcG9seWxpZ25lc1wiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIkRlc3NpbmVyIHVuIGNlcmNsZVwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJEZXNzaW5lciB1biByZWN0YW5nbGVcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJcdTAwQzlkaXRlciBkZXMgY2FscXVlc1wiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkRcdTAwRTlwbGFjZXIgZGVzIGNhbHF1ZXNcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIkNvdXBlciBkZXMgY2FscXVlc1wiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiU3VwcHJpbWVyIGRlcyBjYWxxdWVzXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiRGVzc2luZXIgdW4gbWFycXVldXIgY2lyY3VsYWlyZVwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJHbGlzc2VyIGxlIG1hcnF1ZXVyIHZlcnMgZCdhdXRyZXMgY291Y2hlcyBldCBzb21tZXRzXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiXHUwMEM5cGluZ2xlciBlbnNlbWJsZSBsZXMgc29tbWV0cyBwYXJ0YWdcdTAwRTlzXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJUb3VybmVyIGRlcyBjYWxxdWVzXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIlx1NTM1NVx1NTFGQlx1NjUzRVx1N0Y2RVx1NjgwN1x1OEJCMFwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJcdTUzNTVcdTUxRkJcdTY1M0VcdTdGNkVcdTk5OTZcdTRFMkFcdTk4NzZcdTcwQjlcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIlx1NTM1NVx1NTFGQlx1N0VFN1x1N0VFRFx1N0VEOFx1NTIzNlwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIlx1NTM1NVx1NTFGQlx1NEVGQlx1NEY1NVx1NUI1OFx1NTcyOFx1NzY4NFx1NjgwN1x1OEJCMFx1NEVFNVx1NUI4Q1x1NjIxMFwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIlx1NTM1NVx1NTFGQlx1N0IyQ1x1NEUwMFx1NEUyQVx1NjgwN1x1OEJCMFx1NEVFNVx1NUI4Q1x1NjIxMFwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIlx1NTM1NVx1NTFGQlx1NUI4Q1x1NjIxMFwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJcdTUzNTVcdTUxRkJcdTY1M0VcdTdGNkVcdTU3MDZcdTVGQzNcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIlx1NTM1NVx1NTFGQlx1NUI4Q1x1NjIxMFx1NTcwNlx1NUY2MlwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJcdTcwQjlcdTUxRkJcdTY1M0VcdTdGNkVcdTU3MDZcdTVGNjJcdTY4MDdcdThCQjBcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiXHU1QjhDXHU2MjEwXCIsXG4gICAgXCJjYW5jZWxcIjogXCJcdTUzRDZcdTZEODhcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdTc5RkJcdTk2NjRcdTY3MDBcdTU0MEVcdTc2ODRcdTk4NzZcdTcwQjlcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiXHU3RUQ4XHU1MjM2XHU2ODA3XHU4QkIwXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlx1N0VEOFx1NTIzNlx1NTkxQVx1OEZCOVx1NUY2MlwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJcdTdFRDhcdTUyMzZcdTdFQkZcdTZCQjVcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJcdTdFRDhcdTUyMzZcdTU3MDZcdTVGNjJcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiXHU3RUQ4XHU1MjM2XHU5NTdGXHU2NUI5XHU1RjYyXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiXHU3RjE2XHU4RjkxXHU1NkZFXHU1QzQyXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiXHU2MkQ2XHU2MkZEXHU1NkZFXHU1QzQyXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJcdTUyNkFcdTUyMDdcdTU2RkVcdTVDNDJcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlx1NTIyMFx1OTY2NFx1NTZGRVx1NUM0MlwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlx1NzUzQlx1NTcwNlx1NTcwOFx1NjgwN1x1OEJCMFwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJcdTVDMDZcdTYyRDZcdTUyQThcdTc2ODRcdTY4MDdcdThCQjBcdTYzNTVcdTYzNDlcdTUyMzBcdTUxNzZcdTRFRDZcdTU2RkVcdTVDNDJcdTU0OENcdTk4NzZcdTcwQjlcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJcdTVDMDZcdTUxNzFcdTRFQUJcdTk4NzZcdTcwQjlcdTU2RkFcdTVCOUFcdTU3MjhcdTRFMDBcdThENzdcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlx1NjVDQlx1OEY2Q1x1NTZGRVx1NUM0MlwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTU1QUVcdTY0Q0FcdTY1M0VcdTdGNkVcdTZBMTlcdThBMThcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiXHU1NUFFXHU2NENBXHU2NTNFXHU3RjZFXHU3QjJDXHU0RTAwXHU1MDBCXHU5ODAyXHU5RURFXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJcdTU1QUVcdTY0Q0FcdTdFN0NcdTdFOENcdTdFNkFcdTg4RkRcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJcdTU1QUVcdTY0Q0FcdTRFRkJcdTRGNTVcdTVCNThcdTU3MjhcdTc2ODRcdTZBMTlcdThBMThcdTRFRTVcdTVCOENcdTYyMTBcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdTU1QUVcdTY0Q0FcdTdCMkNcdTRFMDBcdTUwMEJcdTZBMTlcdThBMThcdTRFRTVcdTVCOENcdTYyMTBcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJcdTU1QUVcdTY0Q0FcdTVCOENcdTYyMTBcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiXHU1NUFFXHU2NENBXHU2NTNFXHU3RjZFXHU1NzEzXHU1RkMzXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJcdTU1QUVcdTY0Q0FcdTVCOENcdTYyMTBcdTU3MTNcdTVGNjJcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiXHU5RURFXHU2NENBXHU2NTNFXHU3RjZFXHU1NzEzXHU1RjYyXHU2QTE5XHU4QTE4XCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlx1NUI4Q1x1NjIxMFwiLFxuICAgIFwiY2FuY2VsXCI6IFwiXHU1M0Q2XHU2RDg4XCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiXHU3OUZCXHU5NjY0XHU2NzAwXHU1RjhDXHU0RTAwXHU1MDBCXHU5ODAyXHU5RURFXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1NjUzRVx1N0Y2RVx1NkExOVx1OEExOFwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJcdTdFNkFcdTg4RkRcdTU5MUFcdTkwOEFcdTVGNjJcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHU3RTZBXHU4OEZEXHU3RERBXHU2QkI1XCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHU3RTZBXHU4OEZEXHU1NzEzXHU1RjYyXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlx1N0U2QVx1ODhGRFx1NjVCOVx1NUY2MlwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1N0RFOFx1OEYyRlx1NTcxNlx1NUY2MlwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlx1NzlGQlx1NTJENVx1NTcxNlx1NUY2MlwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiXHU4OEMxXHU1MjA3XHU1NzE2XHU1RjYyXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTUyMkFcdTk2NjRcdTU3MTZcdTVGNjJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTc1NkJcdTU3MTNcdTU3MDhcdTZBMTlcdThBMThcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHU1QzA3XHU2MkQ2XHU1MkQ1XHU3Njg0XHU2QTE5XHU4QTE4XHU1QzBEXHU5RjRBXHU1MjMwXHU1MTc2XHU0RUQ2XHU1NzE2XHU1QzY0XHU1NDhDXHU5ODAyXHU5RURFXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiXHU1QzA3XHU1MTcxXHU0RUFCXHU5ODAyXHU5RURFXHU1NkZBXHU1QjlBXHU1NzI4XHU0RTAwXHU4RDc3XCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJcdTY1Q0JcdThGNDlcdTU3MTZcdTVGNjJcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiQ2xpcXVlIHBhcmEgcG9zaWNpb25hciBvIG1hcmNhZG9yXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIkNsaXF1ZSBwYXJhIHBvc2ljaW9uYXIgbyBwcmltZWlybyB2XHUwMEU5cnRpY2VcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIkNsaXF1ZSBwYXJhIGNvbnRpbnVhciBkZXNlbmhhbmRvXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiQ2xpcXVlIGVtIHF1YWxxdWVyIG1hcmNhZG9yIGV4aXN0ZW50ZSBwYXJhIGZpbmFsaXphclwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIkNsaXF1ZSBubyBwcmltZWlybyBtYXJjYWRvciBwYXJhIGZpbmFsaXphclwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIkNsaXF1ZSBwYXJhIGZpbmFsaXphclwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJDbGlxdWUgcGFyYSBwb3NpY2lvbmFyIG8gY2VudHJvIGRvIGNcdTAwRURyY3Vsb1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiQ2xpcXVlIHBhcmEgZmluYWxpemFyIG8gY1x1MDBFRHJjdWxvXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIkNsaXF1ZSBwYXJhIHBvc2ljaW9uYXIgbyBtYXJjYWRvciBjaXJjdWxhclwiLFxuICAgIFwicGxhY2VUZXh0XCI6IFwiQ2xpcXVlIHBhcmEgaW5zZXJpciB0ZXh0b1wiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJGaW5hbGl6YXJcIixcbiAgICBcImNhbmNlbFwiOiBcIkNhbmNlbGFyXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiUmVtb3ZlciBcdTAwRkFsdGltbyB2XHUwMEU5cnRpY2VcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiRGVzZW5oYXIgTWFyY2Fkb3JcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiRGVzZW5oYXIgUG9sXHUwMEVEZ29ub3NcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRGVzZW5oYXIgTGluaGEgUG9saWdvbmFsXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiRGVzZW5oYXIgQ1x1MDBFRHJjdWxvXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIkRlc2VuaGFyIFJldFx1MDBFMm5ndWxvXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiRWRpdGFyIENhbWFkYXNcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJBcnJhc3RhciBDYW1hZGFzXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJSZWNvcnRhciBDYW1hZGFzXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJSZW1vdmVyIENhbWFkYXNcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJEZXNlbmhhciBNYXJjYWRvciBkZSBDXHUwMEVEcmN1bG9cIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiQWp1c3RhciBtYXJjYWRvciBhcnJhc3RhZG8gYSBvdXRyYXMgY2FtYWRhcyBlIHZcdTAwRTlydGljZXNcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJVbmlyIHZcdTAwRTlydGljZXMgY29tcGFydGlsaGFkb3NcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlJvdGFjaW9uYXIgQ2FtYWRhc1wiLFxuICAgIFwiZHJhd1RleHRCdXR0b25cIjogXCJEZXNlbmhhciBUZXh0b1wiLFxuICAgIFwic2NhbGVCdXR0b25cIjogXCJSZWRpbWVuc2lvbmFyIENhbWFkYXNcIixcbiAgICBcImF1dG9UcmFjaW5nQnV0dG9uXCI6IFwiVHJhXHUwMEU3YWRvIEF1dG9tXHUwMEUxdGljbyBkZSBMaW5oYVwiXG4gIH0sXG4gIFwibWVhc3VyZW1lbnRzXCI6IHtcbiAgICBcInRvdGFsTGVuZ3RoXCI6IFwiQ29tcHJpbWVudG9cIixcbiAgICBcInNlZ21lbnRMZW5ndGhcIjogXCJDb21wcmltZW50byBkbyBTZWdtZW50b1wiLFxuICAgIFwiYXJlYVwiOiBcIlx1MDBDMXJlYVwiLFxuICAgIFwicmFkaXVzXCI6IFwiUmFpb1wiLFxuICAgIFwicGVyaW1ldGVyXCI6IFwiUGVyXHUwMEVEbWV0cm9cIixcbiAgICBcImhlaWdodFwiOiBcIkFsdHVyYVwiLFxuICAgIFwid2lkdGhcIjogXCJMYXJndXJhXCIsXG4gICAgXCJjb29yZGluYXRlc1wiOiBcIlBvc2lcdTAwRTdcdTAwRTNvXCIsXG4gICAgXCJjb29yZGluYXRlc01hcmtlclwiOiBcIk1hcmNhZG9yIGRlIFBvc2lcdTAwRTdcdTAwRTNvXCJcbiAgfVxufSIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJDbGlxdWUgcGFyYSBjb2xvY2FyIG1hcmNhZG9yXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIkNsaXF1ZSBwYXJhIGNvbG9jYXIgcHJpbWVpcm8gdlx1MDBFOXJ0aWNlXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJDbGlxdWUgcGFyYSBjb250aW51YXIgYSBkZXNlbmhhclwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkNsaXF1ZSBudW0gbWFyY2Fkb3IgZXhpc3RlbnRlIHBhcmEgdGVybWluYXJcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJDbGlxdWUgbm8gcHJpbWVpcm8gbWFyY2Fkb3IgcGFyYSB0ZXJtaW5hclwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIkNsaXF1ZSBwYXJhIHRlcm1pbmFyXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIkNsaXF1ZSBwYXJhIGNvbG9jYXIgbyBjZW50cm8gZG8gY1x1MDBFRHJjdWxvXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJDbGlxdWUgcGFyYSB0ZXJtaW5hciBvIGNcdTAwRURyY3Vsb1wiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJDbGlxdWUgcGFyYSBjb2xvY2FyIG1hcmNhZG9yIGRlIGNcdTAwRURyY3Vsb1wiLFxuICAgIFwicGxhY2VUZXh0XCI6IFwiQ2xpcXVlIHBhcmEgY29sb2NhciB0ZXh0b1wiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJUZXJtaW5hclwiLFxuICAgIFwiY2FuY2VsXCI6IFwiQ2FuY2VsYXJcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJSZW1vdmVyIFx1MDBEQWx0aW1vIFZcdTAwRTlydGljZVwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJEZXNlbmhhciBNYXJjYWRvclwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJEZXNlbmhhciBQb2xcdTAwRURnb25vc1wiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJEZXNlbmhhciBQb2xpbGluaGFcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJEZXNlbmhhciBDXHUwMEVEcmN1bG9cIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiRGVzZW5oYXIgUmV0XHUwMEUybmd1bG9cIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJFZGl0YXIgQ2FtYWRhc1wiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkFycmFzdGFyIENhbWFkYXNcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIkNvcnRhciBDYW1hZGFzXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJSZW1vdmVyIENhbWFkYXNcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJEZXNlbmhhciBNYXJjYWRvciBkZSBDXHUwMEVEcmN1bG9cIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiQWp1c3RhciBtYXJjYWRvciBhcnJhc3RhZG8gYSBvdXRyYXMgY2FtYWRhcyBlIHZcdTAwRTlydGljZXNcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJVbmlyIHZcdTAwRTlydGljZXMgcGFydGlsaGFkb3NcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlJvZGFyIENhbWFkYXNcIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiRGVzZW5oYXIgVGV4dG9cIixcbiAgICBcInNjYWxlQnV0dG9uXCI6IFwiRXNjYWxhciBDYW1hZGFzXCIsXG4gICAgXCJhdXRvVHJhY2luZ0J1dHRvblwiOiBcIlRyYVx1MDBFN2FkbyBBdXRvbVx1MDBFMXRpY28gZGUgTGluaGFcIlxuICB9LFxuICBcIm1lYXN1cmVtZW50c1wiOiB7XG4gICAgXCJ0b3RhbExlbmd0aFwiOiBcIkNvbXByaW1lbnRvXCIsXG4gICAgXCJzZWdtZW50TGVuZ3RoXCI6IFwiQ29tcHJpbWVudG8gZG8gU2VnbWVudG9cIixcbiAgICBcImFyZWFcIjogXCJcdTAwQzFyZWFcIixcbiAgICBcInJhZGl1c1wiOiBcIlJhaW9cIixcbiAgICBcInBlcmltZXRlclwiOiBcIlBlclx1MDBFRG1ldHJvXCIsXG4gICAgXCJoZWlnaHRcIjogXCJBbHR1cmFcIixcbiAgICBcIndpZHRoXCI6IFwiTGFyZ3VyYVwiLFxuICAgIFwiY29vcmRpbmF0ZXNcIjogXCJQb3NpXHUwMEU3XHUwMEUzb1wiLFxuICAgIFwiY29vcmRpbmF0ZXNNYXJrZXJcIjogXCJNYXJjYWRvciBkZSBQb3NpXHUwMEU3XHUwMEUzb1wiXG4gIH1cbn0iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiS2xpa25paiwgYWJ5IHVtaWVcdTAxNUJjaVx1MDEwNyB6bmFjem5pa1wiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJLbGlrbmlqLCBhYnkgdW1pZVx1MDE1QmNpXHUwMTA3IHBpZXJ3c3p5IHdpZXJ6Y2hvXHUwMTQyZWtcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIktsaWtuaWosIGFieSBrb250eW51b3dhXHUwMTA3IHJ5c293YW5pZVwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIktsaWtuaWogZG93b2xueSBpc3RuaWVqXHUwMTA1Y3kgem5hY3puaWssIGFieSB6YWtvXHUwMTQ0Y3p5XHUwMTA3XCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiS2xpa25paiBwaWVyd3N6eSB6bmFjem5paywgYWJ5IHpha29cdTAxNDRjenlcdTAxMDdcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJLbGlrbmlqLCBhYnkgemFrb1x1MDE0NGN6eVx1MDEwN1wiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJLbGlrbmlqLCBhYnkgdW1pZVx1MDE1QmNpXHUwMTA3IFx1MDE1QnJvZGVrIG9rclx1MDExOWd1XCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJLbGlrbmlqLCBhYnkgemFrb1x1MDE0NGN6eVx1MDEwNyBva3JcdTAxMDVnXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIktsaWtuaWosIGFieSB1bWllXHUwMTVCY2lcdTAxMDcgem5hY3puaWsgb2tyXHUwMTE5Z3VcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIktsaWtuaWosIGFieSB1bWllXHUwMTVCY2lcdTAxMDcgdGVrc3RcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiWmFrb1x1MDE0NGN6XCIsXG4gICAgXCJjYW5jZWxcIjogXCJBbnVsdWpcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJVc3VcdTAxNDQgb3N0YXRuaSB3aWVyemNob1x1MDE0MmVrXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlJ5c3VqIHpuYWN6bmlrXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlJ5c3VqIHdpZWxva1x1MDEwNXRcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiUnlzdWogbGluaVx1MDExOVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlJ5c3VqIG9rclx1MDEwNWdcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiUnlzdWogcHJvc3Rva1x1MDEwNXRcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJFZHl0dWogd2Fyc3R3eVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlByemVjaVx1MDEwNWduaWogd2Fyc3R3eVwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiV3l0bmlqIHdhcnN0d3lcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlVzdVx1MDE0NCB3YXJzdHd5XCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiUnlzdWogem5hY3puaWsgb2tyXHUwMTA1Z1x1MDE0MnlcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiUHJ6eWNpXHUwMTA1Z25paiBwcnplbm9zem9ueSB6bmFjem5payBkbyBpbm55Y2ggd2Fyc3R3IGkgd2llcnpjaG9cdTAxNDJrXHUwMEYzd1wiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlByenlwbmlqIHdzcFx1MDBGM2xuZSB3aWVyemNob1x1MDE0MmtpIHJhemVtXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJPYnJcdTAwRjNcdTAxMDcgd2Fyc3R3eVwiLFxuICAgIFwiZHJhd1RleHRCdXR0b25cIjogXCJSeXN1aiB0ZWtzdFwiLFxuICAgIFwic2NhbGVCdXR0b25cIjogXCJTa2FsdWogd2Fyc3R3eVwiLFxuICAgIFwiYXV0b1RyYWNpbmdCdXR0b25cIjogXCJBdXRvbWF0eWN6bmUgXHUwMTVCbGVkemVuaWUgbGluaWlcIlxuICB9LFxuICBcIm1lYXN1cmVtZW50c1wiOiB7XG4gICAgXCJ0b3RhbExlbmd0aFwiOiBcIkRcdTAxNDJ1Z29cdTAxNUJcdTAxMDdcIixcbiAgICBcInNlZ21lbnRMZW5ndGhcIjogXCJEXHUwMTQydWdvXHUwMTVCXHUwMTA3IG9kY2lua2FcIixcbiAgICBcImFyZWFcIjogXCJPYnN6YXJcIixcbiAgICBcInJhZGl1c1wiOiBcIlByb21pZVx1MDE0NFwiLFxuICAgIFwicGVyaW1ldGVyXCI6IFwiT2J3XHUwMEYzZFwiLFxuICAgIFwiaGVpZ2h0XCI6IFwiV3lzb2tvXHUwMTVCXHUwMTA3XCIsXG4gICAgXCJ3aWR0aFwiOiBcIlN6ZXJva29cdTAxNUJcdTAxMDdcIixcbiAgICBcImNvb3JkaW5hdGVzXCI6IFwiUG96eWNqYVwiLFxuICAgIFwiY29vcmRpbmF0ZXNNYXJrZXJcIjogXCJabmFjem5payBwb3p5Y2ppXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIktsaWNrYSBmXHUwMEY2ciBhdHQgcGxhY2VyYSBtYXJrXHUwMEY2clwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJLbGlja2EgZlx1MDBGNnIgYXR0IHBsYWNlcmEgZlx1MDBGNnJzdGEgaFx1MDBGNnJuZXRcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIktsaWNrYSBmXHUwMEY2ciBhdHQgZm9ydHNcdTAwRTR0dGEgcml0YVwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIktsaWNrYSBwXHUwMEU1IGVuIGV4aXN0ZXJhbmRlIHB1bmt0IGZcdTAwRjZyIGF0dCBzbHV0Zlx1MDBGNnJhXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiS2xpY2thIHBcdTAwRTUgZGVuIGZcdTAwRjZyc3RhIHB1bmt0ZW4gZlx1MDBGNnIgYXR0IHNsdXRmXHUwMEY2cmFcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJLbGlja2EgZlx1MDBGNnIgYXR0IHNsdXRmXHUwMEY2cmFcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiS2xpY2thIGZcdTAwRjZyIGF0dCBwbGFjZXJhIGNpcmtlbG5zIGNlbnRydW1cIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIktsaWNrYSBmXHUwMEY2ciBhdHQgc2x1dGZcdTAwRjZyYSBjaXJrZWxuXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIktsaWNrYSBmXHUwMEY2ciBhdHQgcGxhY2VyYSBjaXJrZWxtYXJrXHUwMEY2clwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJTbHV0Zlx1MDBGNnJcIixcbiAgICBcImNhbmNlbFwiOiBcIkF2YnJ5dFwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlRhIGJvcnQgc2lzdGEgaFx1MDBGNnJuZXRcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiUml0YSBNYXJrXHUwMEY2clwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJSaXRhIFBvbHlnb25lclwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJSaXRhIExpbmplXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiUml0YSBDaXJrZWxcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiUml0YSBSZWt0YW5nZWxcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJSZWRpZ2VyYSBMYWdlclwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkRyYSBMYWdlclwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiS2xpcHAgaSBMYWdlclwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiVGEgYm9ydCBMYWdlclwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlJpdGEgQ2lya2VsbWFya1x1MDBGNnJcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiU25cdTAwRTRwcCBkcmEgbWFya1x1MDBGNnJlbiB0aWxsIGFuZHJhIGxhZ2VyIG9jaCBoXHUwMEY2cm5cIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJGXHUwMEU0c3QgZGVsYWRlIGhcdTAwRjZybiB0aWxsc2FtbWFuc1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiUm90ZXJhIGxhZ3JldFwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTAzOUFcdTAzQUNcdTAzQkRcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBIFx1MDNCM1x1MDNCOVx1MDNCMSBcdTAzQkRcdTAzQjEgXHUwM0M0XHUwM0JGXHUwM0MwXHUwM0JGXHUwM0I4XHUwM0I1XHUwM0M0XHUwM0FFXHUwM0MzXHUwM0I1XHUwM0M0XHUwM0I1IFx1MDM5NFx1MDNCNVx1MDNBRlx1MDNCQVx1MDNDNFx1MDNCN1wiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJcdTAzOUFcdTAzQUNcdTAzQkRcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBIFx1MDNCM1x1MDNCOVx1MDNCMSBcdTAzQkRcdTAzQjEgXHUwM0M0XHUwM0JGXHUwM0MwXHUwM0JGXHUwM0I4XHUwM0I1XHUwM0M0XHUwM0FFXHUwM0MzXHUwM0I1XHUwM0M0XHUwM0I1IFx1MDNDNFx1MDNCRiBcdTAzQzBcdTAzQzFcdTAzQ0VcdTAzQzRcdTAzQkYgXHUwM0MzXHUwM0I3XHUwM0JDXHUwM0I1XHUwM0FGXHUwM0JGXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJcdTAzOUFcdTAzQUNcdTAzQkRcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBIFx1MDNCM1x1MDNCOVx1MDNCMSBcdTAzQkRcdTAzQjEgXHUwM0MzXHUwM0M1XHUwM0JEXHUwM0I1XHUwM0M3XHUwM0FGXHUwM0MzXHUwM0I1XHUwM0M0XHUwM0I1IFx1MDNCRFx1MDNCMSBcdTAzQzNcdTAzQzdcdTAzQjVcdTAzQjRcdTAzQjlcdTAzQUNcdTAzQjZcdTAzQjVcdTAzQzRcdTAzQjVcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJcdTAzOUFcdTAzQUNcdTAzQkRcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBIFx1MDNDM1x1MDNCNSBcdTAzQkZcdTAzQzBcdTAzQkZcdTAzQjlcdTAzQkZcdTAzQkRcdTAzQjRcdTAzQUVcdTAzQzBcdTAzQkZcdTAzQzRcdTAzQjUgXHUwM0M1XHUwM0MwXHUwM0FDXHUwM0MxXHUwM0M3XHUwM0JGXHUwM0JEIFx1MDNDM1x1MDNCN1x1MDNCQ1x1MDNCNVx1MDNBRlx1MDNCRiBcdTAzQjNcdTAzQjlcdTAzQjEgXHUwM0JEXHUwM0IxIFx1MDNCRlx1MDNCQlx1MDNCRlx1MDNCQVx1MDNCQlx1MDNCN1x1MDNDMVx1MDNDOVx1MDNCOFx1MDNCNVx1MDNBRlwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIlx1MDM5QVx1MDNBQ1x1MDNCRFx1MDNDNFx1MDNCNSBcdTAzQkFcdTAzQkJcdTAzQjlcdTAzQkEgXHUwM0MzXHUwM0M0XHUwM0JGIFx1MDNDMFx1MDNDMVx1MDNDRVx1MDNDNFx1MDNCRiBcdTAzQzNcdTAzQjdcdTAzQkNcdTAzQjVcdTAzQUZcdTAzQkYgXHUwM0IzXHUwM0I5XHUwM0IxIFx1MDNCRFx1MDNCMSBcdTAzQzRcdTAzQjVcdTAzQkJcdTAzQjVcdTAzQjlcdTAzQ0VcdTAzQzNcdTAzQjVcdTAzQzRcdTAzQjVcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJcdTAzOUFcdTAzQUNcdTAzQkRcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBIFx1MDNCM1x1MDNCOVx1MDNCMSBcdTAzQkRcdTAzQjEgXHUwM0M0XHUwM0I1XHUwM0JCXHUwM0I1XHUwM0I5XHUwM0NFXHUwM0MzXHUwM0I1XHUwM0M0XHUwM0I1XCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlx1MDM5QVx1MDNBQ1x1MDNCRFx1MDNDNFx1MDNCNSBcdTAzQkFcdTAzQkJcdTAzQjlcdTAzQkEgXHUwM0IzXHUwM0I5XHUwM0IxIFx1MDNCRFx1MDNCMSBcdTAzQzRcdTAzQkZcdTAzQzBcdTAzQkZcdTAzQjhcdTAzQjVcdTAzQzRcdTAzQUVcdTAzQzNcdTAzQjVcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0FEXHUwM0JEXHUwM0M0XHUwM0MxXHUwM0JGIFx1MDM5QVx1MDNDRFx1MDNCQVx1MDNCQlx1MDNCRlx1MDNDNVwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHUwMzlBXHUwM0FDXHUwM0JEXHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQSBcdTAzQjNcdTAzQjlcdTAzQjEgXHUwM0JEXHUwM0IxIFx1MDNCRlx1MDNCQlx1MDNCRlx1MDNCQVx1MDNCQlx1MDNCN1x1MDNDMVx1MDNDRVx1MDNDM1x1MDNCNVx1MDNDNFx1MDNCNSBcdTAzQzRcdTAzQkZcdTAzQkQgXHUwMzlBXHUwM0NEXHUwM0JBXHUwM0JCXHUwM0JGXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlx1MDM5QVx1MDNBQ1x1MDNCRFx1MDNDNFx1MDNCNSBcdTAzQkFcdTAzQkJcdTAzQjlcdTAzQkEgXHUwM0IzXHUwM0I5XHUwM0IxIFx1MDNCRFx1MDNCMSBcdTAzQzRcdTAzQkZcdTAzQzBcdTAzQkZcdTAzQjhcdTAzQjVcdTAzQzRcdTAzQUVcdTAzQzNcdTAzQjVcdTAzQzRcdTAzQjUgXHUwMzlBXHUwM0M1XHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBXHUwM0NDIFx1MDM5NFx1MDNCNVx1MDNBRlx1MDNCQVx1MDNDNFx1MDNCN1wiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJcdTAzQTRcdTAzQURcdTAzQkJcdTAzQkZcdTAzQzJcIixcbiAgICBcImNhbmNlbFwiOiBcIlx1MDM5MVx1MDNCQVx1MDNDRFx1MDNDMVx1MDNDOVx1MDNDM1x1MDNCN1wiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlx1MDM5QVx1MDNCMVx1MDNDNFx1MDNBQ1x1MDNDMVx1MDNCM1x1MDNCN1x1MDNDM1x1MDNCNyBcdTAzQzRcdTAzQjVcdTAzQkJcdTAzQjVcdTAzQzVcdTAzQzRcdTAzQjFcdTAzQUZcdTAzQkZcdTAzQzUgXHUwM0MzXHUwM0I3XHUwM0JDXHUwM0I1XHUwM0FGXHUwM0JGXHUwM0M1XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1MDNBM1x1MDNDN1x1MDNCNVx1MDNCNFx1MDNBRlx1MDNCMVx1MDNDM1x1MDNCNyBcdTAzOTRcdTAzQjVcdTAzQUZcdTAzQkFcdTAzQzRcdTAzQjdcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiXHUwM0EzXHUwM0M3XHUwM0I1XHUwM0I0XHUwM0FGXHUwM0IxXHUwM0MzXHUwM0I3IFx1MDNBMFx1MDNCRlx1MDNCQlx1MDNDNVx1MDNCM1x1MDNDRVx1MDNCRFx1MDNCRlx1MDNDNVwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJcdTAzQTNcdTAzQzdcdTAzQjVcdTAzQjRcdTAzQUZcdTAzQjFcdTAzQzNcdTAzQjcgXHUwMzkzXHUwM0MxXHUwM0IxXHUwM0JDXHUwM0JDXHUwM0FFXHUwM0MyXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHUwM0EzXHUwM0M3XHUwM0I1XHUwM0I0XHUwM0FGXHUwM0IxXHUwM0MzXHUwM0I3IFx1MDM5QVx1MDNDRFx1MDNCQVx1MDNCQlx1MDNCRlx1MDNDNVwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJcdTAzQTNcdTAzQzdcdTAzQjVcdTAzQjRcdTAzQUZcdTAzQjFcdTAzQzNcdTAzQjcgXHUwMzlGXHUwM0MxXHUwM0I4XHUwM0JGXHUwM0IzXHUwM0M5XHUwM0JEXHUwM0FGXHUwM0JGXHUwM0M1XCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiXHUwMzk1XHUwM0MwXHUwM0I1XHUwM0JFXHUwM0I1XHUwM0MxXHUwM0IzXHUwM0IxXHUwM0MzXHUwM0FGXHUwM0IxIFx1MDM5NVx1MDNDMFx1MDNCOVx1MDNDMFx1MDNBRFx1MDNCNFx1MDNDOVx1MDNCRFwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlx1MDM5Q1x1MDNCNVx1MDNDNFx1MDNCMVx1MDNDNlx1MDNCRlx1MDNDMVx1MDNBQyBcdTAzOTVcdTAzQzBcdTAzQjlcdTAzQzBcdTAzQURcdTAzQjRcdTAzQzlcdTAzQkRcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIlx1MDM5MVx1MDNDMFx1MDNCRlx1MDNCQVx1MDNCRlx1MDNDMFx1MDNBRSBcdTAzOTVcdTAzQzBcdTAzQjlcdTAzQzBcdTAzQURcdTAzQjRcdTAzQzlcdTAzQkRcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlx1MDM5QVx1MDNCMVx1MDNDNFx1MDNBQ1x1MDNDMVx1MDNCM1x1MDNCN1x1MDNDM1x1MDNCNyBcdTAzOTVcdTAzQzBcdTAzQjlcdTAzQzBcdTAzQURcdTAzQjRcdTAzQzlcdTAzQkRcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTAzQTNcdTAzQzdcdTAzQjVcdTAzQjRcdTAzQUZcdTAzQjFcdTAzQzNcdTAzQjcgXHUwMzlBXHUwM0M1XHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBXHUwM0JGXHUwM0NEIFx1MDM5NFx1MDNCNVx1MDNBRlx1MDNCQVx1MDNDNFx1MDNCN1wiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJcdTAzQTBcdTAzQzFcdTAzQkZcdTAzQzNcdTAzQkFcdTAzQ0NcdTAzQkJcdTAzQkJcdTAzQjdcdTAzQzNcdTAzQjcgXHUwM0M0XHUwM0JGXHUwM0M1IFx1MDM5NFx1MDNCNVx1MDNBRlx1MDNCQVx1MDNDNFx1MDNCNyBcdTAzQkNcdTAzQjVcdTAzQzRcdTAzQjFcdTAzQzZcdTAzQkZcdTAzQzFcdTAzQUNcdTAzQzIgXHUwM0MzXHUwM0I1IFx1MDNBQ1x1MDNCQlx1MDNCQlx1MDNCMSBcdTAzOTVcdTAzQzBcdTAzQUZcdTAzQzBcdTAzQjVcdTAzQjRcdTAzQjEgXHUwM0JBXHUwM0IxXHUwM0I5IFx1MDM5QVx1MDNCRlx1MDNDMVx1MDNDNVx1MDNDNlx1MDNBRFx1MDNDMlwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1MDNBMFx1MDNCNVx1MDNDMVx1MDNCOVx1MDNCQVx1MDNCRlx1MDNDMFx1MDNBRSBcdTAzQkFcdTAzQkZcdTAzQjlcdTAzQkRcdTAzQ0VcdTAzQkQgXHUwM0JBXHUwM0JGXHUwM0MxXHUwM0M1XHUwM0M2XHUwM0NFXHUwM0JEIFx1MDNCQ1x1MDNCMVx1MDNCNlx1MDNBRlwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiXHUwM0EwXHUwM0I1XHUwM0MxXHUwM0I5XHUwM0MzXHUwM0M0XHUwM0MxXHUwM0FEXHUwM0M4XHUwM0M0XHUwM0I1IFx1MDNDNFx1MDNCRiBcdTAzQzNcdTAzQzRcdTAzQzFcdTAzQ0VcdTAzQkNcdTAzQjFcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiS2F0dGludHNvbiBhIGplbFx1MDBGNmxcdTAxNTEgZWxoZWx5ZXpcdTAwRTlzXHUwMEU5aGV6XCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIkthdHRpbnRzb24gYXogZWxzXHUwMTUxIHBvbnQgZWxoZWx5ZXpcdTAwRTlzXHUwMEU5aGV6XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJLYXR0aW50c29uIGEga1x1MDBGNnZldGtlelx1MDE1MSBwb250IGVsaGVseWV6XHUwMEU5c1x1MDBFOWhlelwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkEgYmVmZWplelx1MDBFOXNoZXoga2F0dGludHNvbiBlZ3kgbWVnbFx1MDBFOXZcdTAxNTEgcG9udHJhXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiQSBiZWZlamV6XHUwMEU5c2hleiBrYXR0aW50c29uIGF6IGVsc1x1MDE1MSBwb250cmFcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJLYXR0aW50c29uIGEgYmVmZWplelx1MDBFOXNoZXpcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiS2F0dGludHNvbiBhIGtcdTAwRjZyIGtcdTAwRjZ6XHUwMEU5cHBvbnRqXHUwMEUxbmFrIGVsaGVseWV6XHUwMEU5c1x1MDBFOWhlelwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiS2F0dGludHNvbiBhIGtcdTAwRjZyIGJlZmVqZXpcdTAwRTlzXHUwMEU5aGV6XCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIkthdHRpbnRzb24gYSBrXHUwMEY2cmplbFx1MDBGNmxcdTAxNTEgZWxoZWx5ZXpcdTAwRTlzXHUwMEU5aGV6XCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIkJlZmVqZXpcdTAwRTlzXCIsXG4gICAgXCJjYW5jZWxcIjogXCJNXHUwMEU5Z3NlXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiVXRvbHNcdTAwRjMgcG9udCBlbHRcdTAwRTF2b2xcdTAwRUR0XHUwMEUxc2FcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiSmVsXHUwMEY2bFx1MDE1MSByYWp6b2xcdTAwRTFzYVwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJQb2xpZ29uIHJhanpvbFx1MDBFMXNhXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlZvbmFsIHJhanpvbFx1MDBFMXNhXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiS1x1MDBGNnIgcmFqem9sXHUwMEUxc2FcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiTlx1MDBFOWd5emV0IHJhanpvbFx1MDBFMXNhXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiRWxlbWVrIHN6ZXJrZXN6dFx1MDBFOXNlXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiRWxlbWVrIG1vemdhdFx1MDBFMXNhXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJFbGVtZWsgdlx1MDBFMWdcdTAwRTFzYVwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiRWxlbWVrIHRcdTAwRjZybFx1MDBFOXNlXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiS1x1MDBGNnIgamVsXHUwMEY2bFx1MDE1MSByYWp6b2xcdTAwRTFzYVwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJLYXBjc29samEgYSBqZWxcdTAwRjZsdFx1MDE1MXQgbVx1MDBFMXNpayBlbGVtaGV6IHZhZ3kgcG9udGhvelwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIktcdTAwRjZ6XHUwMEY2cyBwb250b2sgXHUwMEY2c3N6ZWtcdTAwRjZ0XHUwMEU5c2VcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIkZcdTAwRjNsaWEgZWxmb3JnYXRcdTAwRTFzYVwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJUcnlrIGZvciBhdCBwbGFjZXJlIGVuIG1hcmtcdTAwRjhyXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlRyeWsgZm9yIGF0IHBsYWNlcmUgZGV0IGZcdTAwRjhyc3RlIHB1bmt0XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJUcnlrIGZvciBhdCBmb3J0c1x1MDBFNnR0ZSBsaW5qZW5cIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJUcnlrIHBcdTAwRTUgZXQgZWtzaXN0ZXJlbmRlIHB1bmt0IGZvciBhdCBhZnNsdXR0ZVwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIlRyeWsgcFx1MDBFNSBkZXQgZlx1MDBGOHJzdGUgcHVua3QgZm9yIGF0IGFmc2x1dHRlXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiVHJ5ayBmb3IgYXQgYWZzbHV0dGVcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiVHJ5ayBmb3IgYXQgcGxhY2VyZSBjaXJrbGVucyBjZW50ZXJcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIlRyeWsgZm9yIGF0IGFmc2x1dHRlIGNpcmtsZW5cIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiVHJ5ayBmb3IgYXQgcGxhY2VyZSBlbiBjaXJrZWxtYXJrXHUwMEY4clwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJBZnNsdXRcIixcbiAgICBcImNhbmNlbFwiOiBcIkFmYnJ5ZFwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIkZqZXJuIHNpZHN0ZSBwdW5rdFwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJQbGFjZXIgbWFya1x1MDBGOHJcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiVGVnbiBwb2x5Z29uXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlRlZ24gbGluamVcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJUZWduIGNpcmtlbFwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJUZWduIGZpcmthbnRcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJSZWRpZ2VyXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiVHJcdTAwRTZrXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJLbGlwXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJGamVyblwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlRlZ24gY2lya2VsbWFya1x1MDBGOHJcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiRmFzdGdcdTAwRjhyIHRydWtrZXQgbWFya1x1MDBGOHIgdGlsIGFuZHJlIGVsZW1lbnRlclwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlNhbW1lbmxcdTAwRTZnIGRlbHRlIGVsZW1lbnRlclwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiUm90ZXIgbGFnZXRcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiS2xpa2sgZm9yIFx1MDBFNSBwbGFzc2VyZSBwdW5rdFwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJLbGlrayBmb3IgXHUwMEU1IHBsYXNzZXJlIGZcdTAwRjhyc3RlIHB1bmt0XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJLbGlrayBmb3IgXHUwMEU1IHRlZ25lIHZpZGVyZVwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIktsaWtrIHBcdTAwRTUgZXQgZWtzaXN0ZXJlbmRlIHB1bmt0IGZvciBcdTAwRTUgZnVsbGZcdTAwRjhyZVwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIktsaWtrIGZcdTAwRjhyc3RlIHB1bmt0IGZvciBcdTAwRTUgZnVsbGZcdTAwRjhyZVwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIktsaWtrIGZvciBcdTAwRTUgZnVsbGZcdTAwRjhyZVwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJLbGlrayBmb3IgXHUwMEU1IHNldHRlIHNpcmtlbCBtaWR0cHVua3RcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIktsaWtrIGZvciBcdTAwRTUgZnVsbGZcdTAwRjhyZSBzaXJrZWxcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiS2xpa2sgZm9yIFx1MDBFNSBwbGFzc2VyZSBzaXJrZWxcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIktsaWtrIGZvciBcdTAwRTUgcGxhc3NlcmUgdGVrc3RcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiRnVsbGZcdTAwRjhyXCIsXG4gICAgXCJjYW5jZWxcIjogXCJLYW5zZWxsZXJcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJGamVybiBmb3JyaWdlIHB1bmt0XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlRlZ24gcHVua3RcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiVGVnbiBmbGF0ZVwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJUZWduIGxpbmplXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiVGVnbiBzaXJrZWxcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiVGVnbiByZWt0YW5nZWxcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJSZWRpZ2VyIG9iamVrdGVyXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiRHJhIG9iamVrdGVyXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJLdXR0IG9iamVrdGVyXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJGamVybiBvYmpla3RlclwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlRlZ24gc2lya2VsLXB1bmt0XCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkZlc3QgZHJhdHQgcHVua3QgdGlsIGFuZHJlIG9iamVrdGVyIG9nIHB1bmt0XCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiUGluIGRlbHRlIHB1bmt0ZXIgc2FtbWVuXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJSb3RcdTAwRTlyIG9iamVrdGVyXCIsXG4gICAgXCJkcmF3VGV4dEJ1dHRvblwiOiBcIlRlZ24gdGVrc3RcIixcbiAgICBcInNjYWxlQnV0dG9uXCI6IFwiU2thbFx1MDBFOXIgb2JqZWt0ZXJcIixcbiAgICBcImF1dG9UcmFjaW5nQnV0dG9uXCI6IFwiQXV0b21hdGlzayBzcG9yaW5nIGF2IGxpbmplXCJcbiAgfSxcbiAgXCJtZWFzdXJlbWVudHNcIjoge1xuICAgIFwidG90YWxMZW5ndGhcIjogXCJMZW5nZGVcIixcbiAgICBcInNlZ21lbnRMZW5ndGhcIjogXCJTZWdtZW50bGVuZ2RlXCIsXG4gICAgXCJhcmVhXCI6IFwiT21yXHUwMEU1ZGVcIixcbiAgICBcInJhZGl1c1wiOiBcIlJhZGl1c1wiLFxuICAgIFwicGVyaW1ldGVyXCI6IFwiT21yaXNzXCIsXG4gICAgXCJoZWlnaHRcIjogXCJIXHUwMEY4eWRlXCIsXG4gICAgXCJ3aWR0aFwiOiBcIkJyZWRkZVwiLFxuICAgIFwiY29vcmRpbmF0ZXNcIjogXCJQb3Npc2pvblwiLFxuICAgIFwiY29vcmRpbmF0ZXNNYXJrZXJcIjogXCJQb3Npc2pvbnNtYXJrXHUwMEY4clwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2QTkgXHUwNjI4XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDYyQ1x1MDYyN1x1MDY0Nlx1MDY0NVx1MDYyN1x1MDZDQ1x1MDZDQyBcdTA2NDZcdTA2MzRcdTA2MjdcdTA2NDZcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2MzFcdTA2MzNcdTA2NDUgXHUwNjI3XHUwNjQ4XHUwNjQ0XHUwNkNDXHUwNjQ2IFx1MDYzMVx1MDYyM1x1MDYzM1wiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2MjdcdTA2MkZcdTA2MjdcdTA2NDVcdTA2NDcgXHUwNjMxXHUwNjMzXHUwNjQ1XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYzMVx1MDY0OFx1MDZDQyBcdTA2NDdcdTA2MzEgXHUwNjQ2XHUwNjM0XHUwNjI3XHUwNjQ2IFx1MDY0NVx1MDY0OFx1MDYyQ1x1MDY0OFx1MDYyRiBcdTA2MjhcdTA2MzFcdTA2MjdcdTA2Q0MgXHUwNjdFXHUwNjI3XHUwNkNDXHUwNjI3XHUwNjQ2XCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYzMVx1MDY0OFx1MDZDQyBcdTA2MjdcdTA2NDhcdTA2NDRcdTA2Q0NcdTA2NDYgXHUwNjQ2XHUwNjM0XHUwNjI3XHUwNjQ2IFx1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2N0VcdTA2MjdcdTA2Q0NcdTA2MjdcdTA2NDZcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2QTkgXHUwNjI4XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDY3RVx1MDYyN1x1MDZDQ1x1MDYyN1x1MDY0NlwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2QTkgXHUwNjI4XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDYzMVx1MDYzM1x1MDY0NSBcdTA2NDVcdTA2MzFcdTA2QTlcdTA2MzIgXHUwNjJGXHUwNjI3XHUwNkNDXHUwNjMxXHUwNjQ3XCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2QTkgXHUwNjI4XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDY3RVx1MDYyN1x1MDZDQ1x1MDYyN1x1MDY0NiBcdTA2MzFcdTA2MzNcdTA2NDUgXHUwNjJGXHUwNjI3XHUwNkNDXHUwNjMxXHUwNjQ3XCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDZBOSBcdTA2MjhcdTA2MzFcdTA2MjdcdTA2Q0MgXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDY0Nlx1MDYzNFx1MDYyN1x1MDY0NiBcdTA2MkZcdTA2MjdcdTA2Q0NcdTA2MzFcdTA2NDdcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDZBOSBcdTA2MjhcdTA2MzFcdTA2MjdcdTA2Q0MgXHUwNjQ2XHUwNjQ4XHUwNjM0XHUwNjJBXHUwNjQ2IFx1MDY0NVx1MDYyQVx1MDY0NlwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJcdTA2N0VcdTA2MjdcdTA2Q0NcdTA2MjdcdTA2NDZcIixcbiAgICBcImNhbmNlbFwiOiBcIlx1MDY0NFx1MDY0MVx1MDY0OFwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlx1MDYyRFx1MDYzMFx1MDY0MSBcdTA2MjJcdTA2MkVcdTA2MzFcdTA2Q0NcdTA2NDYgXHUwNjMxXHUwNjIzXHUwNjMzXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1MDYyRlx1MDYzMVx1MDYyQyBcdTA2NDZcdTA2MzRcdTA2MjdcdTA2NDZcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDY4Nlx1MDY0Nlx1MDYyRlx1MDYzNlx1MDY0NFx1MDYzOVx1MDZDQ1wiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJcdTA2MzFcdTA2MzNcdTA2NDUgXHUwNjJFXHUwNjM3XCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDYyRlx1MDYyN1x1MDZDQ1x1MDYzMVx1MDY0N1wiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJcdTA2MzFcdTA2MzNcdTA2NDUgXHUwNjg2XHUwNjQ3XHUwNjI3XHUwNjMxXHUwNjM2XHUwNjQ0XHUwNjM5XHUwNkNDXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiXHUwNjQ4XHUwNkNDXHUwNjMxXHUwNjI3XHUwNkNDXHUwNjM0IFx1MDY0NFx1MDYyN1x1MDZDQ1x1MDY0N1x1MjAwQ1x1MDY0N1x1MDYyN1wiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlx1MDYyQ1x1MDYyN1x1MDYyOFx1MDYyQ1x1MDYyN1x1MDZDQ1x1MDZDQyBcdTA2NDRcdTA2MjdcdTA2Q0NcdTA2NDdcdTIwMENcdTA2NDdcdTA2MjdcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIlx1MDYyOFx1MDYzMVx1MDYzNCBcdTA2NDRcdTA2MjdcdTA2Q0NcdTA2NDdcdTIwMENcdTA2NDdcdTA2MjdcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlx1MDYyRFx1MDYzMFx1MDY0MSBcdTA2NDRcdTA2MjdcdTA2Q0NcdTA2NDdcdTIwMENcdTA2NDdcdTA2MjdcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTA2MzFcdTA2MzNcdTA2NDUgXHUwNjQ2XHUwNjM0XHUwNjI3XHUwNjQ2IFx1MDYyRlx1MDYyN1x1MDZDQ1x1MDYzMVx1MDY0N1wiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJcdTA2NDZcdTA2MzRcdTA2MjdcdTA2NDZcdTA2QUZcdTA2MzEgXHUwNjMxXHUwNjI3IFx1MDYyOFx1MDY0NyBcdTA2NDRcdTA2MjdcdTA2Q0NcdTA2NDdcdTIwMENcdTA2NDdcdTA2MjcgXHUwNjQ4IFx1MDYzMVx1MDYyNlx1MDY0OFx1MDYzMyBcdTA2MkZcdTA2Q0NcdTA2QUZcdTA2MzEgXHUwNjI4XHUwNkE5XHUwNjM0XHUwNkNDXHUwNjJGXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiXHUwNjMxXHUwNjI2XHUwNjQ4XHUwNjMzIFx1MDY0NVx1MDYzNFx1MDYyQVx1MDYzMVx1MDZBOSBcdTA2MzFcdTA2MjcgXHUwNjI4XHUwNjI3IFx1MDY0N1x1MDY0NSBcdTA2N0VcdTA2Q0NcdTA2NDYgXHUwNkE5XHUwNjQ2XHUwNkNDXHUwNjJGXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJcdTA2ODZcdTA2MzFcdTA2MkVcdTA2MzQgXHUwNjQ0XHUwNjI3XHUwNkNDXHUwNjQ3XCIsXG4gICAgXCJkcmF3VGV4dEJ1dHRvblwiOiBcIlx1MDYzMVx1MDYzM1x1MDY0NSBcdTA2NDVcdTA2MkFcdTA2NDZcIixcbiAgICBcInNjYWxlQnV0dG9uXCI6IFwiXHUwNjQ1XHUwNjQyXHUwNkNDXHUwNjI3XHUwNjMzXHUyMDBDXHUwNkFGXHUwNjMwXHUwNjI3XHUwNjMxXHUwNkNDXCIsXG4gICAgXCJhdXRvVHJhY2luZ0J1dHRvblwiOiBcIlx1MDYzMVx1MDYyRlx1MDZDQ1x1MDYyN1x1MDYyOCBcdTA2MkVcdTA2NDhcdTA2MkZcdTA2QTlcdTA2MjdcdTA2MzFcIlxuICB9LFxuICBcIm1lYXN1cmVtZW50c1wiOiB7XG4gICAgXCJ0b3RhbExlbmd0aFwiOiBcIlx1MDYzN1x1MDY0OFx1MDY0NFwiLFxuICAgIFwic2VnbWVudExlbmd0aFwiOiBcIlx1MDYzN1x1MDY0OFx1MDY0NCBcdTA2MjhcdTA2MkVcdTA2MzRcIixcbiAgICBcImFyZWFcIjogXCJcdTA2NDZcdTA2MjdcdTA2MkRcdTA2Q0NcdTA2NDdcIixcbiAgICBcInJhZGl1c1wiOiBcIlx1MDYzNFx1MDYzOVx1MDYyN1x1MDYzOVwiLFxuICAgIFwicGVyaW1ldGVyXCI6IFwiXHUwNjQ1XHUwNjJEXHUwNkNDXHUwNjM3XCIsXG4gICAgXCJoZWlnaHRcIjogXCJcdTA2MjdcdTA2MzFcdTA2MkFcdTA2NDFcdTA2MjdcdTA2MzlcIixcbiAgICBcIndpZHRoXCI6IFwiXHUwNjM5XHUwNjMxXHUwNjM2XCIsXG4gICAgXCJjb29yZGluYXRlc1wiOiBcIlx1MDY0NVx1MDY0OFx1MDY0Mlx1MDYzOVx1MDZDQ1x1MDYyQVwiLFxuICAgIFwiY29vcmRpbmF0ZXNNYXJrZXJcIjogXCJcdTA2NDVcdTA2NDhcdTA2NDJcdTA2MzlcdTA2Q0NcdTA2MkEgXHUwNjQ2XHUwNjM0XHUwNjI3XHUwNjQ2XCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIlx1MDQxRFx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQ0MVx1MDQzRFx1MDQ1Nlx1MDQ0Mlx1MDQ0QywgXHUwNDQ5XHUwNDNFXHUwNDMxIFx1MDQzRFx1MDQzMFx1MDQzRFx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzOCBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiXHUwNDFEXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDLCBcdTA0NDlcdTA0M0VcdTA0MzEgXHUwNDNEXHUwNDMwXHUwNDNEXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDM4IFx1MDQzRlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQ0MyBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzhcdTA0M0RcdTA0NDNcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIlx1MDQxRFx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQ0MVx1MDQzRFx1MDQ1Nlx1MDQ0Mlx1MDQ0QywgXHUwNDQ5XHUwNDNFXHUwNDMxIFx1MDQzRlx1MDQ0MFx1MDQzRVx1MDQzNFx1MDQzRVx1MDQzMlx1MDQzNlx1MDQzOFx1MDQ0Mlx1MDQzOCBcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NEVcdTA0MzJcdTA0MzBcdTA0NDJcdTA0MzhcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJcdTA0MURcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0M0RcdTA0NTZcdTA0NDJcdTA0NEMgXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDRDLVx1MDQ0Rlx1MDQzQVx1MDQzOFx1MDQzOSBcdTA0NTZcdTA0NDFcdTA0M0RcdTA0NDNcdTA0NEVcdTA0NDdcdTA0MzhcdTA0MzkgXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwIFx1MDQzNFx1MDQzQlx1MDQ0RiBcdTA0MzdcdTA0MzBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzVcdTA0M0RcdTA0M0RcdTA0NEZcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdTA0MTJcdTA0MzhcdTA0MzFcdTA0MzVcdTA0NDBcdTA0NTZcdTA0NDJcdTA0NEMgXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM4XHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MCwgXHUwNDQ5XHUwNDNFXHUwNDMxIFx1MDQzN1x1MDQzMFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQ0Mlx1MDQzOFwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIlx1MDQxRFx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQ0MVx1MDQzRFx1MDQ1Nlx1MDQ0Mlx1MDQ0QywgXHUwNDQ5XHUwNDNFXHUwNDMxIFx1MDQzN1x1MDQzMFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQ0Mlx1MDQzOFwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJcdTA0MURcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0M0RcdTA0NTZcdTA0NDJcdTA0NEMsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0MzRcdTA0M0VcdTA0MzRcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDQ2XHUwNDM1XHUwNDNEXHUwNDQyXHUwNDQwIFx1MDQzQVx1MDQzRVx1MDQzQlx1MDQzMFwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDLCBcdTA0NDlcdTA0M0VcdTA0MzEgXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM4XHUwNDQyXHUwNDM4IFx1MDQzQVx1MDQzRVx1MDQzQlx1MDQzRVwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJcdTA0MURcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0M0RcdTA0NTZcdTA0NDJcdTA0NEMsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0M0RcdTA0MzBcdTA0M0RcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzggXHUwNDNBXHUwNDQwXHUwNDQzXHUwNDMzXHUwNDNFXHUwNDMyXHUwNDM4XHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJcdTA0MTdcdTA0MzBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzhcdTA0NDJcdTA0MzhcIixcbiAgICBcImNhbmNlbFwiOiBcIlx1MDQxMlx1MDQ1Nlx1MDQzNFx1MDQzQ1x1MDQ1Nlx1MDQzRFx1MDQzOFx1MDQ0Mlx1MDQzOFwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlx1MDQxMlx1MDQzOFx1MDQzNFx1MDQzMFx1MDQzQlx1MDQzOFx1MDQ0Mlx1MDQzOCBcdTA0M0ZcdTA0M0VcdTA0M0ZcdTA0MzVcdTA0NDBcdTA0MzVcdTA0MzRcdTA0M0RcdTA0NEUgXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM4XHUwNDNEXHUwNDQzXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1MDQxQ1x1MDQzMFx1MDQzQlx1MDQ0RVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzOCBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiXHUwNDFDXHUwNDMwXHUwNDNCXHUwNDRFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQzRlx1MDQzRVx1MDQzQlx1MDQ1Nlx1MDQzM1x1MDQzRVx1MDQzRFwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJcdTA0MUNcdTA0MzBcdTA0M0JcdTA0NEVcdTA0MzJcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDNBXHUwNDQwXHUwNDM4XHUwNDMyXHUwNDQzXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHUwNDFDXHUwNDMwXHUwNDNCXHUwNDRFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQzQVx1MDQzRVx1MDQzQlx1MDQzRVwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJcdTA0MUNcdTA0MzBcdTA0M0JcdTA0NEVcdTA0MzJcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDNGXHUwNDQwXHUwNDRGXHUwNDNDXHUwNDNFXHUwNDNBXHUwNDQzXHUwNDQyXHUwNDNEXHUwNDM4XHUwNDNBXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiXHUwNDIwXHUwNDM1XHUwNDM0XHUwNDMwXHUwNDMzXHUwNDQzXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQ0OFx1MDQzMFx1MDQ0MFx1MDQzOFwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlx1MDQxRlx1MDQzNVx1MDQ0MFx1MDQzNVx1MDQzRFx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzOCBcdTA0NDhcdTA0MzBcdTA0NDBcdTA0MzhcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIlx1MDQxMlx1MDQzOFx1MDQ0MFx1MDQ1Nlx1MDQzN1x1MDQzMFx1MDQ0Mlx1MDQzOCBcdTA0NDhcdTA0MzBcdTA0NDBcdTA0MzhcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlx1MDQxMlx1MDQzOFx1MDQzNFx1MDQzMFx1MDQzQlx1MDQzOFx1MDQ0Mlx1MDQzOCBcdTA0NDhcdTA0MzBcdTA0NDBcdTA0MzhcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTA0MUNcdTA0MzBcdTA0M0JcdTA0NEVcdTA0MzJcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDNBXHUwNDQwXHUwNDQzXHUwNDMzXHUwNDNFXHUwNDMyXHUwNDM4XHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJcdTA0MUZcdTA0NDBcdTA0MzhcdTA0MzJcdTIwMTlcdTA0NEZcdTA0MzdcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDQyXHUwNDRGXHUwNDMzXHUwNDNEXHUwNDQzXHUwNDQyXHUwNDM4XHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MCBcdTA0MzRcdTA0M0UgXHUwNDU2XHUwNDNEXHUwNDQ4XHUwNDM4XHUwNDQ1IFx1MDQ0OFx1MDQzMFx1MDQ0MFx1MDQ1Nlx1MDQzMiBcdTA0NDJcdTA0MzAgXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM4XHUwNDNEXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiXHUwNDE3XHUwNDMyJ1x1MDQ0Rlx1MDQzN1x1MDQzMFx1MDQ0Mlx1MDQzOCBcdTA0NDFcdTA0M0ZcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NTYgXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM4XHUwNDNEXHUwNDM4IFx1MDQ0MFx1MDQzMFx1MDQzN1x1MDQzRVx1MDQzQ1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiXHUwNDFGXHUwNDNFXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDQzXHUwNDQyXHUwNDM4IFx1MDQ0OFx1MDQzMFx1MDQ0MFwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTAxMzBcdTAxNUZhcmV0XHUwMEU3aSB5ZXJsZVx1MDE1RnRpcm1layBpXHUwMEU3aW4gdFx1MDEzMWtsYXlcdTAxMzFuXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1MDEzMGxrIHRlcGUgbm9rdGFzXHUwMTMxblx1MDEzMSB5ZXJsZVx1MDE1RnRpcm1layBpXHUwMEU3aW4gdFx1MDEzMWtsYXlcdTAxMzFuXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJcdTAwQzdpemltZSBkZXZhbSBldG1layBpXHUwMEU3aW4gdFx1MDEzMWtsYXlcdTAxMzFuXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiQml0aXJtZWsgaVx1MDBFN2luIG1ldmN1dCBoZXJoYW5naSBiaXIgaVx1MDE1RmFyZXRcdTAwRTdpeWkgdFx1MDEzMWtsYXlcdTAxMzFuXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiQml0aXJtZWsgaVx1MDBFN2luIGlsayBpXHUwMTVGYXJldFx1MDBFN2l5aSB0XHUwMTMxa2xheVx1MDEzMW5cIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJCaXRpcm1layBpXHUwMEU3aW4gdFx1MDEzMWtsYXlcdTAxMzFuXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIkRhaXJlIG1lcmtlemluZSB5ZXJsZVx1MDE1RnRpcm1layBpXHUwMEU3aW4gdFx1MDEzMWtsYXlcdTAxMzFuXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJEYWlyZXlpIGJpdGlybWVrIGlcdTAwRTdpbiB0XHUwMTMxa2xheVx1MDEzMW5cIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiRGFpcmUgaVx1MDE1RmFyZXRcdTAwRTdpc2kgeWVybGVcdTAxNUZ0aXJtZWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxblwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJCaXRpclwiLFxuICAgIFwiY2FuY2VsXCI6IFwiXHUwMTMwcHRhbFwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlNvbiBrXHUwMEY2XHUwMTVGZXlpIGthbGRcdTAxMzFyXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1MDBDN2l6aW0gXHUwMTMwXHUwMTVGYXJldFx1MDBFN2lzaVwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJcdTAwQzdva2dlbmxlciBcdTAwRTdpelwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJcdTAwQzdva2x1IFx1MDBFN2l6Z2kgXHUwMEU3aXpcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJcdTAwQzdlbWJlciBcdTAwRTdpelwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJEaWtkXHUwMEY2cnRnZW4gXHUwMEU3aXpcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJLYXRtYW5sYXJcdTAxMzEgZFx1MDBGQ3plbmxlXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiS2F0bWFubGFyXHUwMTMxIHNcdTAwRkNyXHUwMEZDa2xlXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJLYXRtYW5sYXJcdTAxMzEga2VzXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJLYXRtYW5sYXJcdTAxMzEga2FsZFx1MDEzMXJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJEYWlyZSBpXHUwMTVGYXJldFx1MDBFN2lzaSBcdTAwRTdpelwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJTXHUwMEZDclx1MDBGQ2tsZW5lbiBpXHUwMTVGYXJldFx1MDBFN2l5aSBkaVx1MDExRmVyIGthdG1hbmxhcmEgdmUga1x1MDBGNlx1MDE1RmVsZXJlIHlhcFx1MDEzMVx1MDE1RnRcdTAxMzFyXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiUGF5bGFcdTAxNUZcdTAxMzFsYW4ga1x1MDBGNlx1MDE1RmVsZXJpIGJpcmJpcmluZSBzYWJpdGxlXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJLYXRtYW5cdTAxMzEgZFx1MDBGNm5kXHUwMEZDclwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJLbGlrbnV0XHUwMEVEbSB2eXR2b1x1MDE1OVx1MDBFRHRlIHpuYVx1MDEwRGt1XCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIktsaWtudXRcdTAwRURtIHZ5dHZvXHUwMTU5XHUwMEVEdGUgcHJ2blx1MDBFRCBvYmpla3RcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIktsaWtudXRcdTAwRURtIHBva3JhXHUwMTBEdWp0ZSB2IGtyZXNsZW5cdTAwRURcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJLbGlrbnV0XHUwMEVEIG5hIGxpYm92b2xub3UgZXhpc3R1alx1MDBFRGNcdTAwRUQgem5hXHUwMTBEa3UgcHJvIGRva29uXHUwMTBEZW5cdTAwRURcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJWeWJlcnRlIHBydm5cdTAwRUQgYm9kIHBybyBkb2tvblx1MDEwRGVuXHUwMEVEXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiS2xpa25cdTAxMUJ0ZSBwcm8gZG9rb25cdTAxMERlblx1MDBFRFwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJLbGlrbnV0XHUwMEVEbSBwXHUwMTU5aWRlanRlIHN0XHUwMTU5ZWQga3J1aHVcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIlx1MDQxRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSwgXHUwNDQ3XHUwNDQyXHUwNDNFXHUwNDMxXHUwNDRCIFx1MDQzN1x1MDQzMFx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQ0QyBcdTA0NDBcdTA0MzBcdTA0MzRcdTA0MzhcdTA0NDNcdTA0NDFcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiS2xpa251dFx1MDBFRG0gbmFzdGF2dGUgcG9sb21cdTAxMUJyXCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIkRva29uXHUwMTBEaXRcIixcbiAgICBcImNhbmNlbFwiOiBcIlpydVx1MDE2MWl0XCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiWnJ1XHUwMTYxaXQgcG9zbGVkblx1MDBFRCBha2NpXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlBcdTAxNTlpZGF0IHpuYVx1MDEwRGt1XCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIk5ha3Jlc2xpdCBwb2x5Z29uXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIk5ha3Jlc2xpdCBrXHUwMTU5aXZrdVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIk5ha3Jlc2xpdCBrcnVoXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIk5ha3Jlc2xpdCBvYmRcdTAwRTlsblx1MDBFRGtcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJVcHJhdml0IHZyc3R2dVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlBcdTAxNTllbmVzdGUgdnJzdHZ1XCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJWeWptb3V0IHZyc3R2dVwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiU21hemF0IHZyc3R2dVwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlBcdTAxNTlpZGF0IGtydWhvdm91IHpuYVx1MDEwRGt1XCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIk5hdlx1MDBFMXphdCB0YVx1MDE3RW5vdSB6bmFcdTAxMERrdSBrIGRhbFx1MDE2MVx1MDBFRG0gdnJzdHZcdTAwRTFtIGEgdnJjaG9sXHUwMTZGbVwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlNwb2ppdCBzcG9sZVx1MDEwRG5cdTAwRTkgYm9keSBkb2hyb21hZHlcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIk90b1x1MDEwRHRlIHZyc3R2dVwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTMwNTdcdTMwNjZcdTMwREVcdTMwRkNcdTMwQUJcdTMwRkNcdTMwOTJcdTkxNERcdTdGNkVcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU2NzAwXHU1MjFEXHUzMDZFXHU5ODAyXHU3MEI5XHUzMDkyXHU5MTREXHU3RjZFXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTMwNTdcdTMwNjZcdTYzQ0ZcdTc1M0JcdTMwOTJcdTdEOUFcdTMwNTFcdTMwOEJcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJcdTRFRkJcdTYxMEZcdTMwNkVcdTMwREVcdTMwRkNcdTMwQUJcdTMwRkNcdTMwOTJcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTMwNTdcdTMwNjZcdTdENDJcdTRFODZcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdTY3MDBcdTUyMURcdTMwNkVcdTMwREVcdTMwRkNcdTMwQUJcdTMwRkNcdTMwOTJcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTMwNTdcdTMwNjZcdTdENDJcdTRFODZcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTMwNTdcdTMwNjZcdTdENDJcdTRFODZcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU1MTg2XHUzMDZFXHU0RTJEXHU1RkMzXHUzMDkyXHU5MTREXHU3RjZFXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTMwNTdcdTMwNjZcdTUxODZcdTMwNkVcdTYzQ0ZcdTc1M0JcdTMwOTJcdTdENDJcdTRFODZcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU1MTg2XHUzMERFXHUzMEZDXHUzMEFCXHUzMEZDXHUzMDkyXHU5MTREXHU3RjZFXCIsXG4gICAgXCJwbGFjZVRleHRcIjogXCJcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTMwNTdcdTMwNjZcdTMwQzZcdTMwQURcdTMwQjlcdTMwQzhcdTMwOTJcdTkxNERcdTdGNkVcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiXHU3RDQyXHU0RTg2XCIsXG4gICAgXCJjYW5jZWxcIjogXCJcdTMwQURcdTMwRTNcdTMwRjNcdTMwQkJcdTMwRUJcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdTY3MDBcdTVGOENcdTMwNkVcdTk4MDJcdTcwQjlcdTMwOTJcdTUyNEFcdTk2NjRcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiXHUzMERFXHUzMEZDXHUzMEFCXHUzMEZDXHUzMDkyXHU2M0NGXHU3NTNCXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlx1MzBERFx1MzBFQVx1MzBCNFx1MzBGM1x1MzA5Mlx1NjNDRlx1NzUzQlwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJcdTYyOThcdTMwOENcdTdEREFcdTMwOTJcdTYzQ0ZcdTc1M0JcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJcdTUxODZcdTMwOTJcdTYzQ0ZcdTc1M0JcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiXHU3N0U5XHU1RjYyXHUzMDkyXHU2M0NGXHU3NTNCXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiXHUzMEVDXHUzMEE0XHUzMEU0XHUzMEZDXHUzMDkyXHU3REU4XHU5NkM2XCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiXHUzMEVDXHUzMEE0XHUzMEU0XHUzMEZDXHUzMDkyXHUzMEM5XHUzMEU5XHUzMEMzXHUzMEIwXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJcdTMwRUNcdTMwQTRcdTMwRTRcdTMwRkNcdTMwOTJcdTUyMDdcdTMwOEFcdTUzRDZcdTMwOEFcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlx1MzBFQ1x1MzBBNFx1MzBFNFx1MzBGQ1x1MzA5Mlx1NTI0QVx1OTY2NFwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlx1NTE4Nlx1MzBERVx1MzBGQ1x1MzBBQlx1MzBGQ1x1MzA5Mlx1NjNDRlx1NzUzQlwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJcdTMwQzlcdTMwRTlcdTMwQzNcdTMwQjBcdTMwNTdcdTMwNUZcdTMwREVcdTMwRkNcdTMwQUJcdTMwRkNcdTMwOTJcdTRFRDZcdTMwNkVcdTMwRUNcdTMwQTRcdTMwRTRcdTMwRkNcdTMwODRcdTk4MDJcdTcwQjlcdTMwNkJcdTMwQjlcdTMwQ0FcdTMwQzNcdTMwRDdcdTMwNTlcdTMwOEJcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJcdTUxNzFcdTY3MDlcdTMwNTlcdTMwOEJcdTk4MDJcdTcwQjlcdTMwOTJcdTU0MENcdTY2NDJcdTMwNkJcdTUyRDVcdTMwNEJcdTMwNTlcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlx1MzBFQ1x1MzBBNFx1MzBFNFx1MzBGQ1x1MzA5Mlx1NTZERVx1OEVFMlwiLFxuICAgIFwiZHJhd1RleHRCdXR0b25cIjogXCJcdTMwQzZcdTMwQURcdTMwQjlcdTMwQzhcdTMwOTJcdTYzQ0ZcdTc1M0JcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiS2xpa2thYSBhc2V0dGFha3Nlc2kgbWVya2luXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIktsaWtrYWEgYXNldHRhYWtzZW5pIGVuc2ltbVx1MDBFNGlzZW4gb3N1dWRlblwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiS2xpa2thYSBqYXRrYWFrc2VzaSBwaWlydFx1MDBFNG1pc3RcdTAwRTRcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJLbGlra2FhIG9sZW1hc3NhIG9sZXZhYSBtZXJra2lcdTAwRTQgbG9wZXR0YWFrc2VzaVwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIktsaWtrYWEgZW5zaW1tXHUwMEU0aXN0XHUwMEU0IG1lcmtraVx1MDBFNCBsb3BldHRhYWtzZXNpXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiS2xpa2thYSBsb3BldHRhYWtzZXNpXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIktsaWtrYWEgYXNldHRhYWtzZXNpIHltcHlyXHUwMEU0biBrZXNraXBpc3RlZW5cIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIktsaWtrYWEgbG9wZXR0YWFrc2VzaSB5bXB5clx1MDBFNG5cIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiS2xpa2thYSBhc2V0dGFha3Nlc2kgeW1weXJcdTAwRTRtZXJraW5cIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIktsaWtrYWEgYXNldHRhYWtzZXNpIHRla3N0aW5cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiVmFsbWlzXCIsXG4gICAgXCJjYW5jZWxcIjogXCJQZXJ1dXRhXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiUG9pc3RhIHZpaW1laW5lbiBvc3V1c1wiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJQaWlyclx1MDBFNCBtZXJra2VqXHUwMEU0XCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlBpaXJyXHUwMEU0IG1vbmlrdWxtaW9pdGFcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiUGlpcnJcdTAwRTQgdmlpdm9qYVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlBpaXJyXHUwMEU0IHltcHlyXHUwMEU0XCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlBpaXJyXHUwMEU0IG5lbGlza3VsbWlvaXRhXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiTXVva2thYVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlNpaXJyXHUwMEU0XCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJMZWlra2FhXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJQb2lzdGFcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJQaWlyclx1MDBFNCB5bXB5clx1MDBFNG1lcmtraVwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJLaWlubml0XHUwMEU0IHNpaXJyZXR0XHUwMEU0dlx1MDBFNCBtZXJra2kgdG9pc2lpbiBtdW90b2loaW5cIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJLaWlubml0XHUwMEU0IGphZXR1dCBtdW9kb3QgeWh0ZWVuXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJLXHUwMEU0XHUwMEU0bm5cdTAwRTRcIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiUGlpcnJcdTAwRTQgdGVrc3RpXHUwMEU0XCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIlx1QjlDOFx1Q0VFNCBcdUM3MDRcdUNFNThcdUI5N0MgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1Q0NBQlx1QkM4OFx1QzlGOCBcdUFGMkRcdUM5QzBcdUM4MTAgXHVDNzA0XHVDRTU4XHVDNzQ0IFx1RDA3NFx1QjlBRFx1RDU1OFx1QzEzOFx1QzY5NFwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHVBQ0M0XHVDMThEIFx1QURGOFx1QjlBQ1x1QjgyNFx1QkE3NCBcdUQwNzRcdUI5QURcdUQ1NThcdUMxMzhcdUM2OTRcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJcdUIwNURcdUIwQjRcdUI4MjRcdUJBNzQgXHVBRTMwXHVDODc0IFx1QjlDOFx1Q0VFNFx1Qjk3QyBcdUQwNzRcdUI5QURcdUQ1NThcdUMxMzhcdUM2OTRcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdUIwNURcdUIwQjRcdUI4MjRcdUJBNzQgXHVDQzk4XHVDNzRDIFx1QjlDOFx1Q0VFNFx1Qjk3QyBcdUQwNzRcdUI5QURcdUQ1NThcdUMxMzhcdUM2OTRcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJcdUIwNURcdUIwQjRcdUI4MjRcdUJBNzQgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlx1QzZEMFx1Qzc1OCBcdUM5MTFcdUMyRUNcdUM3NzQgXHVCNDIwIFx1QzcwNFx1Q0U1OFx1Qjk3QyBcdUQwNzRcdUI5QURcdUQ1NThcdUMxMzhcdUM2OTRcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIlx1QzZEMFx1Qzc0NCBcdUIwNURcdUIwQjRcdUI4MjRcdUJBNzQgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlx1QzZEMCBcdUI5QzhcdUNFRTQgXHVDNzA0XHVDRTU4XHVCOTdDIFx1RDA3NFx1QjlBRFx1RDU1OFx1QzEzOFx1QzY5NFwiLFxuICAgIFwicGxhY2VUZXh0XCI6IFwiXHVEMTREXHVDMkE0XHVEMkI4IFx1QzcwNFx1Q0U1OFx1Qjk3QyBcdUQwNzRcdUI5QURcdUQ1NThcdUMxMzhcdUM2OTRcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiXHVCMDVEXHVCMEI0XHVBRTMwXCIsXG4gICAgXCJjYW5jZWxcIjogXCJcdUNERThcdUMxOENcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdUI5QzhcdUM5QzBcdUI5QzkgXHVBRjJEXHVDOUMwXHVDODEwIFx1QzgxQ1x1QUM3MFwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdUI5QzhcdUNFRTQgXHVBREY4XHVCOUFDXHVBRTMwXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlx1QjJFNFx1QUMwMVx1RDYxNSBcdUFERjhcdUI5QUNcdUFFMzBcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHVCMkU0XHVBQzAxXHVDMTIwIFx1QURGOFx1QjlBQ1x1QUUzMFwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlx1QzZEMCBcdUFERjhcdUI5QUNcdUFFMzBcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiXHVDOUMxXHVDMEFDXHVBQzAxXHVENjE1IFx1QURGOFx1QjlBQ1x1QUUzMFwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1QjgwOFx1Qzc3NFx1QzVCNCBcdUQzQjhcdUM5RDFcdUQ1NThcdUFFMzBcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJcdUI4MDhcdUM3NzRcdUM1QjQgXHVCMDRDXHVBRTMwXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJcdUI4MDhcdUM3NzRcdUM1QjQgXHVDNzkwXHVCOTc0XHVBRTMwXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdUI4MDhcdUM3NzRcdUM1QjQgXHVDODFDXHVBQzcwXHVENTU4XHVBRTMwXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiXHVDNkQwIFx1QjlDOFx1Q0VFNCBcdUFERjhcdUI5QUNcdUFFMzBcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHVDN0ExXHVDNTQ0XHVCMDQ4IFx1QjlDOFx1Q0VFNFx1Qjk3QyBcdUIyRTRcdUI5NzggXHVCODA4XHVDNzc0XHVDNUI0IFx1QkMwRiBcdUFGMkRcdUM5QzBcdUM4MTBcdUM1RDAgXHVCNEU0XHVCN0VDXHVCRDk5XHVBQzhDIFx1RDU1OFx1QUUzMFwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1QUNGNVx1QzcyMCBcdUFGMkRcdUM5QzBcdUM4MTBcdUM3NDQgXHVENTY4XHVBRUQ4IFx1Q0MwRFx1QUUzMFwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiXHVCODA4XHVDNzc0XHVDNUI0IFx1RDY4Q1x1QzgwNFx1RDU1OFx1QUUzMFwiLFxuICAgIFwiZHJhd1RleHRCdXR0b25cIjogXCJcdUQxNERcdUMyQTRcdUQyQjggXHVBREY4XHVCOUFDXHVBRTMwXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIlx1MDQxQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFx1MDQzNFx1MDQzOCBcdTA0MzZcdTA0MzBcdTA0MzlcdTA0MzNcdTA0MzBcdTA0NDhcdTA0NDJcdTA0NEJcdTA0NDBcdTA0NDNcdTA0NDMgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJcdTA0MTFcdTA0MzhcdTA0NDBcdTA0MzhcdTA0M0RcdTA0NDdcdTA0MzggXHUwNDQ3XHUwNDNFXHUwNDNBXHUwNDQzXHUwNDNEXHUwNDQzIFx1MDQzNlx1MDQzMFx1MDQzOVx1MDQzM1x1MDQzMFx1MDQ0OFx1MDQ0Mlx1MDQ0Qlx1MDQ0MFx1MDQ0M1x1MDQ0M1x1MDQzRFx1MDQ0MyBcdTA0QUZcdTA0NDdcdTA0QUZcdTA0M0QgXHUwNDMxXHUwNDMwXHUwNDQxXHUwNDRCXHUwNEEzXHUwNDRCXHUwNDM3XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJcdTA0MjFcdTA0QUZcdTA0NDBcdTA0RTlcdTA0NDIgXHUwNDQyXHUwNDMwXHUwNDQwXHUwNDQyXHUwNDQzXHUwNDQzXHUwNDNEXHUwNDQzIFx1MDQ0M1x1MDQzQlx1MDQzMFx1MDQzRFx1MDQ0Mlx1MDQ0M1x1MDQ0MyBcdTA0QUZcdTA0NDdcdTA0QUZcdTA0M0QgXHUwNDMxXHUwNDMwXHUwNDQxXHUwNDRCXHUwNEEzXHUwNDRCXHUwNDM3XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHUwNDEwXHUwNDRGXHUwNDNBXHUwNDQyXHUwNDNFXHUwNDNFIFx1MDRBRlx1MDQ0N1x1MDRBRlx1MDQzRCBcdTA0NDNcdTA0NDdcdTA0NDNcdTA0NDBcdTA0MzRcdTA0MzBcdTA0MzNcdTA0NEIgXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXHUwNDM0XHUwNDM4IFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIlx1MDQxMVx1MDRBRlx1MDQ0Mlx1MDRBRlx1MDQ0MFx1MDRBRlx1MDRBRiBcdTA0QUZcdTA0NDdcdTA0QUZcdTA0M0QgXHUwNDMxXHUwNDM4XHUwNDQwXHUwNDM4XHUwNDNEXHUwNDQ3XHUwNDM4IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFx1MDQzNFx1MDQzOCBcdTA0MzFcdTA0MzBcdTA0NDFcdTA0NEJcdTA0QTNcdTA0NEJcdTA0MzdcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJcdTA0MTFcdTA0QUZcdTA0NDJcdTA0QUZcdTA0NDBcdTA0QUZcdTA0QUYgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJcdTA0MTBcdTA0MzlcdTA0M0JcdTA0MzBcdTA0M0RcdTA0MzBcdTA0M0RcdTA0NEJcdTA0M0QgXHUwNDMxXHUwNDNFXHUwNDQwXHUwNDMxXHUwNDNFXHUwNDQwXHUwNDQzXHUwNDNEIFx1MDQzNlx1MDQzMFx1MDQzOVx1MDQzM1x1MDQzMFx1MDQ0OFx1MDQ0Mlx1MDQ0Qlx1MDQ0MFx1MDQ0M1x1MDQ0M1x1MDQzRFx1MDQ0MyBcdTA0QUZcdTA0NDdcdTA0QUZcdTA0M0QgXHUwNDMxXHUwNDMwXHUwNDQxXHUwNDRCXHUwNEEzXHUwNDRCXHUwNDM3XCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJcdTA0MTBcdTA0MzlcdTA0M0JcdTA0MzBcdTA0M0RcdTA0MzBcdTA0M0RcdTA0NEIgXHUwNDMxXHUwNEFGXHUwNDQyXHUwNEFGXHUwNDQwXHUwNEFGXHUwNEFGIFx1MDRBRlx1MDQ0N1x1MDRBRlx1MDQzRCBcdTA0MzFcdTA0MzBcdTA0NDFcdTA0NEJcdTA0QTNcdTA0NEJcdTA0MzdcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiXHUwNDIyXHUwNDM1XHUwNDMzXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDNBIFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFx1MDQzNFx1MDQzOCBcdTA0MzZcdTA0MzBcdTA0MzlcdTA0MzNcdTA0MzBcdTA0NDhcdTA0NDJcdTA0NEJcdTA0NDBcdTA0NDNcdTA0NDMgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiLFxuICAgIFwicGxhY2VUZXh0XCI6IFwiXHUwNDIyXHUwNDM1XHUwNDNBXHUwNDQxXHUwNDQyXHUwNDQyXHUwNDM4IFx1MDQzNlx1MDQzMFx1MDQzOVx1MDQzM1x1MDQzMFx1MDQ0OFx1MDQ0Mlx1MDQ0Qlx1MDQ0MFx1MDQ0M1x1MDQ0MyBcdTA0QUZcdTA0NDdcdTA0QUZcdTA0M0QgXHUwNDMxXHUwNDMwXHUwNDQxXHUwNDRCXHUwNEEzXHUwNDRCXHUwNDM3XCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlx1MDQxMFx1MDQ0Rlx1MDQzM1x1MDQ0QlwiLFxuICAgIFwiY2FuY2VsXCI6IFwiXHUwNDE2XHUwNDNFXHUwNDNBIFx1MDQzQVx1MDQ0Qlx1MDQzQlx1MDQ0M1x1MDQ0M1wiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlx1MDQxMFx1MDQzQVx1MDQ0Qlx1MDQ0MFx1MDQzQVx1MDQ0QiBcdTA0NDdcdTA0M0VcdTA0M0FcdTA0NDNcdTA0M0RcdTA0NDMgXHUwNEU5XHUwNDQ3XHUwNEFGXHUwNDQwXHUwNEFGXHUwNEFGXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1MDQxQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFx1MDQzNFx1MDQzOCBcdTA0NDdcdTA0MzhcdTA0MzdcdTA0NDNcdTA0NDNcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiXHUwNDFGXHUwNDNFXHUwNDNCXHUwNDM4XHUwNDMzXHUwNDNFXHUwNDNEIFx1MDQ0N1x1MDQzOFx1MDQzN1x1MDQ0M1x1MDQ0M1wiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJcdTA0MUZcdTA0M0VcdTA0M0JcdTA0MzhcdTA0M0JcdTA0MzhcdTA0M0RcdTA0MzhcdTA0NEYgXHUwNDQ3XHUwNDM4XHUwNDM3XHUwNDQzXHUwNDQzXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHUwNDE0XHUwNDMwXHUwNDM5XHUwNDRCXHUwNDNEXHUwNDM0XHUwNDRCIFx1MDQ0N1x1MDQzOFx1MDQzN1x1MDQ0M1x1MDQ0M1wiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJcdTA0MUZcdTA0NDBcdTA0NEZcdTA0M0NcdTA0M0VcdTA0NDNcdTA0MzNcdTA0M0VcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0M0EgXHUwNDQ3XHUwNDM4XHUwNDM3XHUwNDQzXHUwNDQzXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiXHUwNDIxXHUwNDNCXHUwNDNFXHUwNDNFXHUwNDNGXHUwNDQyXHUwNDQzIFx1MDQ0Mlx1MDRBRlx1MDQzN1x1MDRFOVx1MDQ0Mlx1MDRBRlx1MDRBRlwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlx1MDQyMVx1MDQzQlx1MDQzRVx1MDQzRVx1MDQzRlx1MDQ0Mlx1MDQ0MyBcdTA0M0FcdTA0MzBcdTA0NDBcdTA0MzBcdTA0M0YgXHUwNDQxXHUwNEFGXHUwNDM5XHUwNDNCXHUwNEU5XHUwNEFGXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJcdTA0MjFcdTA0M0JcdTA0M0VcdTA0M0VcdTA0M0ZcdTA0NDJcdTA0NDNcdTA0M0QgXHUwNDMxXHUwNDMwXHUwNDQ4XHUwNDRCXHUwNDNEIFx1MDQzQVx1MDQzNVx1MDQ0MVx1MDRBRlx1MDRBRlwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiXHUwNDIxXHUwNDNCXHUwNDNFXHUwNDNFXHUwNDNGXHUwNDQyXHUwNDQzXHUwNDNEIFx1MDRFOVx1MDQ0N1x1MDRBRlx1MDQ0MFx1MDRBRlx1MDRBRlwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlx1MDQxNFx1MDQzMFx1MDQzOVx1MDQ0Qlx1MDQzRFx1MDQzNFx1MDQ0QiBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzggXHUwNDQ3XHUwNDM4XHUwNDM3XHUwNDQzXHUwNDQzXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlx1MDQxMVx1MDQzMFx1MDQ0OFx1MDQzQVx1MDQzMCBcdTA0NDFcdTA0M0JcdTA0M0VcdTA0M0VcdTA0M0ZcdTA0NDJcdTA0M0VcdTA0NDBcdTA0MzRcdTA0NDNcdTA0M0QgXHUwNDM2XHUwNDMwXHUwNDNEXHUwNDMwIFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0Mlx1MDQzNVx1MDQzQVx1MDQ0MVx1MDQ0Mlx1MDQzNVx1MDQ0MFx1MDQzNFx1MDQzOFx1MDQzRCBcdTA0MzBcdTA0NDBcdTA0MzBcdTA0NDFcdTA0NEJcdTA0M0RcdTA0MzAgXHUwNDQ3XHUwNDM1XHUwNDNBXHUwNDM4XHUwNDNCXHUwNDM0XHUwNEU5XHUwNEU5XCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiXHUwNDExXHUwNEU5XHUwNDNCXHUwNEFGXHUwNDQ4XHUwNDNBXHUwNEU5XHUwNDNEIFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0Mlx1MDQzNVx1MDQzQVx1MDQ0MVx1MDQ0Mlx1MDQzNVx1MDQ0MFx1MDQzNFx1MDQzOCBcdTA0MzFcdTA0MzhcdTA0NDBcdTA0MzNcdTA0MzUgXHUwNDQyXHUwNDQzXHUwNDQyXHUwNDQzXHUwNDQ4XHUwNDQyXHUwNDQzXHUwNDQwXHUwNDQzXHUwNDQzXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJcdTA0MjFcdTA0M0JcdTA0M0VcdTA0M0VcdTA0M0ZcdTA0NDJcdTA0NDNcdTA0M0QgXHUwNEU5XHUwNDM3XHUwNDMzXHUwNEU5XHUwNDQwXHUwNDQyXHUwNEFGXHUwNEFGXCIsXG4gICAgXCJkcmF3VGV4dEJ1dHRvblwiOiBcIlx1MDQyMlx1MDQzNVx1MDQzQVx1MDQ0MVx1MDQ0MiBcdTA0NDdcdTA0MzhcdTA0MzdcdTA0NDNcdTA0NDNcIixcbiAgICBcInNjYWxlQnV0dG9uXCI6IFwiXHUwNDIxXHUwNDNCXHUwNDNFXHUwNDNFXHUwNDNGXHUwNDQyXHUwNDQzXHUwNDNEIFx1MDRFOVx1MDQzQlx1MDQ0N1x1MDRFOVx1MDQzQ1x1MDRBRlx1MDQzRCBcdTA0RTlcdTA0MzdcdTA0MzNcdTA0RTlcdTA0NDBcdTA0NDJcdTA0QUZcdTA0QUZcIixcbiAgICBcImF1dG9UcmFjaW5nQnV0dG9uXCI6IFwiXHUwNDEwXHUwNDMyXHUwNDQyXHUwNDNFXHUwNDNDXHUwNDMwXHUwNDQyXHUwNDQyXHUwNDRCXHUwNDNBIFx1MDQ0Mlx1MDQzOFx1MDQzN1x1MDQzQ1x1MDQzNVx1MDQzM1x1MDQzOCBcdTA0NDdcdTA0MzhcdTA0MzdcdTA0NDNcdTA0NDNcIlxuICB9LFxuICBcIm1lYXN1cmVtZW50c1wiOiB7XG4gICAgXCJ0b3RhbExlbmd0aFwiOiBcIlx1MDQyM1x1MDQzN1x1MDQ0M1x1MDQzRFx1MDQzNFx1MDQ0M1x1MDQzQVwiLFxuICAgIFwic2VnbWVudExlbmd0aFwiOiBcIlx1MDQyMVx1MDQzNVx1MDQzM1x1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0MiBcdTA0NDNcdTA0MzdcdTA0NDNcdTA0M0RcdTA0MzRcdTA0NDNcdTA0MzNcdTA0NDNcIixcbiAgICBcImFyZWFcIjogXCJcdTA0MTBcdTA0MzlcdTA0M0NcdTA0MzBcdTA0M0FcIixcbiAgICBcInJhZGl1c1wiOiBcIlx1MDQyMFx1MDQzMFx1MDQzNFx1MDQzOFx1MDQ0M1x1MDQ0MVwiLFxuICAgIFwicGVyaW1ldGVyXCI6IFwiXHUwNDFGXHUwNDM1XHUwNDQwXHUwNDM4XHUwNDNDXHUwNDM1XHUwNDQyXHUwNDQwXCIsXG4gICAgXCJoZWlnaHRcIjogXCJcdTA0MTRcdTA0MzhcdTA0MzBcdTA0M0NcdTA0MzVcdTA0NDJcdTA0NDBcIixcbiAgICBcIndpZHRoXCI6IFwiXHUwNDFBXHUwNDM1XHUwNDNEXHUwNDQ3XHUwNDM4XHUwNDNCXHUwNDM4XHUwNDNBXCIsXG4gICAgXCJjb29yZGluYXRlc1wiOiBcIlx1MDQxQVx1MDQzRVx1MDQzRVx1MDQ0MFx1MDQzNFx1MDQzOFx1MDQzRFx1MDQzMFx1MDQ0Mlx1MDQ0Mlx1MDQzMFx1MDQ0MFwiLFxuICAgIFwiY29vcmRpbmF0ZXNNYXJrZXJcIjogXCJcdTA0MUNcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzhcdTA0M0QgXHUwNDNBXHUwNDNFXHUwNDNFXHUwNDQwXHUwNDM0XHUwNDM4XHUwNDNEXHUwNDMwXHUwNDQyXHUwNDQyXHUwNDMwXHUwNDQwXHUwNDRCXCJcbiAgfVxufVxuIiwgImltcG9ydCBlbiBmcm9tICcuL2VuLmpzb24nO1xuaW1wb3J0IGRlIGZyb20gJy4vZGUuanNvbic7XG5pbXBvcnQgaXQgZnJvbSAnLi9pdC5qc29uJztcbmltcG9ydCBpZCBmcm9tICcuL2lkLmpzb24nO1xuaW1wb3J0IHJvIGZyb20gJy4vcm8uanNvbic7XG5pbXBvcnQgcnUgZnJvbSAnLi9ydS5qc29uJztcbmltcG9ydCBlcyBmcm9tICcuL2VzLmpzb24nO1xuaW1wb3J0IG5sIGZyb20gJy4vbmwuanNvbic7XG5pbXBvcnQgZnIgZnJvbSAnLi9mci5qc29uJztcbmltcG9ydCB6aCBmcm9tICcuL3poLmpzb24nO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuaW1wb3J0IHpoX3R3IGZyb20gJy4vemhfdHcuanNvbic7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5pbXBvcnQgcHRfYnIgZnJvbSAnLi9wdF9ici5qc29uJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbmltcG9ydCBwdF9wdCBmcm9tICcuL3B0X3B0Lmpzb24nO1xuaW1wb3J0IHBsIGZyb20gJy4vcGwuanNvbic7XG5pbXBvcnQgc3YgZnJvbSAnLi9zdi5qc29uJztcbmltcG9ydCBlbCBmcm9tICcuL2VsLmpzb24nO1xuaW1wb3J0IGh1IGZyb20gJy4vaHUuanNvbic7XG5pbXBvcnQgZGEgZnJvbSAnLi9kYS5qc29uJztcbmltcG9ydCBubyBmcm9tICcuL25vLmpzb24nO1xuaW1wb3J0IGZhIGZyb20gJy4vZmEuanNvbic7XG5pbXBvcnQgdWEgZnJvbSAnLi91YS5qc29uJztcbmltcG9ydCB0ciBmcm9tICcuL3RyLmpzb24nO1xuaW1wb3J0IGN6IGZyb20gJy4vY3ouanNvbic7XG5pbXBvcnQgamEgZnJvbSAnLi9qYS5qc29uJztcbmltcG9ydCBmaSBmcm9tICcuL2ZpLmpzb24nO1xuaW1wb3J0IGtvIGZyb20gJy4va28uanNvbic7XG5pbXBvcnQga3kgZnJvbSAnLi9reS5qc29uJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBlbixcbiAgZGUsXG4gIGl0LFxuICBpZCxcbiAgcm8sXG4gIHJ1LFxuICBlcyxcbiAgbmwsXG4gIGZyLFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHB0X2JyLFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHB0X3B0LFxuICB6aCxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICB6aF90dyxcbiAgcGwsXG4gIHN2LFxuICBlbCxcbiAgaHUsXG4gIGRhLFxuICBubyxcbiAgZmEsXG4gIHVhLFxuICB0cixcbiAgY3osXG4gIGphLFxuICBmaSxcbiAga28sXG4gIGt5LFxufTtcbiIsICIvLyB0aGlzIG1peGluIGFkZHMgYSBnbG9iYWwgZWRpdCBtb2RlIHRvIHRoZSBtYXBcbmNvbnN0IEdsb2JhbEVkaXRNb2RlID0ge1xuICBfZ2xvYmFsRWRpdE1vZGVFbmFibGVkOiBmYWxzZSxcbiAgZW5hYmxlR2xvYmFsRWRpdE1vZGUobykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAuLi5vLFxuICAgIH07XG4gICAgLy8gc2V0IHN0YXR1c1xuICAgIHRoaXMuX2dsb2JhbEVkaXRNb2RlRW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyBTZXQgdG9vbGJhciBidXR0b24gdG8gY3VycmVjdCBzdGF0dXNcbiAgICB0aGlzLlRvb2xiYXIudG9nZ2xlQnV0dG9uKCdlZGl0TW9kZScsIHRoaXMuZ2xvYmFsRWRpdE1vZGVFbmFibGVkKCkpO1xuXG4gICAgLy8gZmluZCBhbGwgbGF5ZXJzIGhhbmRsZWQgYnkgbGVhZmxldC1nZW9tYW5cbiAgICBjb25zdCBsYXllcnMgPSBMLlBNLlV0aWxzLmZpbmRMYXllcnModGhpcy5tYXApO1xuXG4gICAgLy8gZW5hYmxlIGFsbCBsYXllcnNcbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGlmICh0aGlzLl9pc1JlbGV2YW50Rm9yRWRpdChsYXllcikpIHtcbiAgICAgICAgbGF5ZXIucG0uZW5hYmxlKG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnRocm90dGxlZFJlSW5pdEVkaXQpIHtcbiAgICAgIHRoaXMudGhyb3R0bGVkUmVJbml0RWRpdCA9IEwuVXRpbC50aHJvdHRsZShcbiAgICAgICAgdGhpcy5oYW5kbGVMYXllckFkZGl0aW9uSW5HbG9iYWxFZGl0TW9kZSxcbiAgICAgICAgMTAwLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIHNhdmUgdGhlIGFkZGVkIGxheWVycyBpbnRvIHRoZSBfYWRkZWRMYXllcnNFZGl0IGFycmF5LCB0byByZWFkIGl0IGxhdGVyIG91dFxuICAgIHRoaXMuX2FkZGVkTGF5ZXJzRWRpdCA9IHt9O1xuICAgIHRoaXMubWFwLm9uKCdsYXllcmFkZCcsIHRoaXMuX2xheWVyQWRkZWRFZGl0LCB0aGlzKTtcbiAgICAvLyBoYW5kbGUgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHdoaWxlIGluIGVkaXQgbW9kZVxuICAgIHRoaXMubWFwLm9uKCdsYXllcmFkZCcsIHRoaXMudGhyb3R0bGVkUmVJbml0RWRpdCwgdGhpcyk7XG5cbiAgICAvLyBmaXJlIGV2ZW50XG4gICAgdGhpcy5fZmlyZUdsb2JhbEVkaXRNb2RlVG9nZ2xlZCh0cnVlKTtcbiAgfSxcbiAgZGlzYWJsZUdsb2JhbEVkaXRNb2RlKCkge1xuICAgIC8vIHNldCBzdGF0dXNcbiAgICB0aGlzLl9nbG9iYWxFZGl0TW9kZUVuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8vIGZpbmQgYWxsIGxheWVycyBoYW5kbGVzIGJ5IGxlYWZsZXQtZ2VvbWFuXG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKTtcblxuICAgIC8vIGRpc2FibGUgYWxsIGxheWVyc1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgbGF5ZXIucG0uZGlzYWJsZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gY2xlYW51cCBsYXllciBvZmYgZXZlbnRcbiAgICB0aGlzLm1hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy5fbGF5ZXJBZGRlZEVkaXQsIHRoaXMpO1xuICAgIHRoaXMubWFwLm9mZignbGF5ZXJhZGQnLCB0aGlzLnRocm90dGxlZFJlSW5pdEVkaXQsIHRoaXMpO1xuXG4gICAgLy8gU2V0IHRvb2xiYXIgYnV0dG9uIHRvIGN1cnJlY3Qgc3RhdHVzXG4gICAgdGhpcy5Ub29sYmFyLnRvZ2dsZUJ1dHRvbignZWRpdE1vZGUnLCB0aGlzLmdsb2JhbEVkaXRNb2RlRW5hYmxlZCgpKTtcblxuICAgIC8vIGZpcmUgZXZlbnRcbiAgICB0aGlzLl9maXJlR2xvYmFsRWRpdE1vZGVUb2dnbGVkKGZhbHNlKTtcbiAgfSxcbiAgLy8gVE9ETzogUmVtb3ZlIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgZ2xvYmFsRWRpdEVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2xvYmFsRWRpdE1vZGVFbmFibGVkKCk7XG4gIH0sXG4gIGdsb2JhbEVkaXRNb2RlRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2xvYmFsRWRpdE1vZGVFbmFibGVkO1xuICB9LFxuICAvLyBUT0RPOiB0aGlzIHNob3VsZCBtYXliZSByZW1vdmVkLCBpdCB3aWxsIG92ZXJ3cml0ZSBleHBsaWNpdCBvcHRpb25zIG9uIHRoZSBsYXllcnNcbiAgdG9nZ2xlR2xvYmFsRWRpdE1vZGUob3B0aW9ucyA9IHRoaXMuZ2xvYmFsT3B0aW9ucykge1xuICAgIGlmICh0aGlzLmdsb2JhbEVkaXRNb2RlRW5hYmxlZCgpKSB7XG4gICAgICAvLyBkaXNhYmxlXG4gICAgICB0aGlzLmRpc2FibGVHbG9iYWxFZGl0TW9kZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlbmFibGVcbiAgICAgIHRoaXMuZW5hYmxlR2xvYmFsRWRpdE1vZGUob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuICBoYW5kbGVMYXllckFkZGl0aW9uSW5HbG9iYWxFZGl0TW9kZSgpIHtcbiAgICBjb25zdCBsYXllcnMgPSB0aGlzLl9hZGRlZExheWVyc0VkaXQ7XG4gICAgdGhpcy5fYWRkZWRMYXllcnNFZGl0ID0ge307XG4gICAgaWYgKHRoaXMuZ2xvYmFsRWRpdE1vZGVFbmFibGVkKCkpIHtcbiAgICAgIGZvciAoY29uc3QgaWQgaW4gbGF5ZXJzKSB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzW2lkXTtcbiAgICAgICAgLy8gd2hlbiBnbG9iYWwgZWRpdCBtb2RlIGlzIGVuYWJsZWQgYW5kIGEgbGF5ZXIgaXMgYWRkZWQgdG8gdGhlIG1hcCxcbiAgICAgICAgLy8gZW5hYmxlIGVkaXQgZm9yIHRoYXQgbGF5ZXIgaWYgaXQncyByZWxldmFudFxuXG4gICAgICAgIGlmICh0aGlzLl9pc1JlbGV2YW50Rm9yRWRpdChsYXllcikpIHtcbiAgICAgICAgICBsYXllci5wbS5lbmFibGUoeyAuLi50aGlzLmdsb2JhbE9wdGlvbnMgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIF9sYXllckFkZGVkRWRpdCh7IGxheWVyIH0pIHtcbiAgICB0aGlzLl9hZGRlZExheWVyc0VkaXRbTC5zdGFtcChsYXllcildID0gbGF5ZXI7XG4gIH0sXG4gIF9pc1JlbGV2YW50Rm9yRWRpdChsYXllcikge1xuICAgIHJldHVybiAoXG4gICAgICBsYXllci5wbSAmJlxuICAgICAgIShsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkgJiZcbiAgICAgICgoIUwuUE0ub3B0SW4gJiYgIWxheWVyLm9wdGlvbnMucG1JZ25vcmUpIHx8IC8vIGlmIG9wdEluIGlzIG5vdCBzZXQgLyB0cnVlIGFuZCBwbUlnbm9yZSBpcyBub3Qgc2V0IC8gdHJ1ZSAoZGVmYXVsdClcbiAgICAgICAgKEwuUE0ub3B0SW4gJiYgbGF5ZXIub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpKSAmJiAvLyBpZiBvcHRJbiBpcyB0cnVlIGFuZCBwbUlnbm9yZSBpcyBmYWxzZVxuICAgICAgIWxheWVyLl9wbVRlbXBMYXllciAmJlxuICAgICAgbGF5ZXIucG0ub3B0aW9ucy5hbGxvd0VkaXRpbmdcbiAgICApO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgR2xvYmFsRWRpdE1vZGU7XG4iLCAiY29uc3QgR2xvYmFsRHJhZ01vZGUgPSB7XG4gIF9nbG9iYWxEcmFnTW9kZUVuYWJsZWQ6IGZhbHNlLFxuICBlbmFibGVHbG9iYWxEcmFnTW9kZSgpIHtcbiAgICBjb25zdCBsYXllcnMgPSBMLlBNLlV0aWxzLmZpbmRMYXllcnModGhpcy5tYXApO1xuXG4gICAgdGhpcy5fZ2xvYmFsRHJhZ01vZGVFbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9hZGRlZExheWVyc0RyYWcgPSB7fTtcblxuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgaWYgKHRoaXMuX2lzUmVsZXZhbnRGb3JEcmFnKGxheWVyKSkge1xuICAgICAgICBsYXllci5wbS5lbmFibGVMYXllckRyYWcoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghdGhpcy50aHJvdHRsZWRSZUluaXREcmFnKSB7XG4gICAgICB0aGlzLnRocm90dGxlZFJlSW5pdERyYWcgPSBMLlV0aWwudGhyb3R0bGUoXG4gICAgICAgIHRoaXMucmVpbml0R2xvYmFsRHJhZ01vZGUsXG4gICAgICAgIDEwMCxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBhZGQgbWFwIGhhbmRsZXJcbiAgICB0aGlzLm1hcC5vbignbGF5ZXJhZGQnLCB0aGlzLl9sYXllckFkZGVkRHJhZywgdGhpcyk7XG4gICAgdGhpcy5tYXAub24oJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXREcmFnLCB0aGlzKTtcblxuICAgIC8vIHRvb2dsZSB0aGUgYnV0dG9uIGluIHRoZSB0b29sYmFyIGlmIHRoaXMgaXMgY2FsbGVkIHByb2dyYW1hdGljYWxseVxuICAgIHRoaXMuVG9vbGJhci50b2dnbGVCdXR0b24oJ2RyYWdNb2RlJywgdGhpcy5nbG9iYWxEcmFnTW9kZUVuYWJsZWQoKSk7XG5cbiAgICB0aGlzLl9maXJlR2xvYmFsRHJhZ01vZGVUb2dnbGVkKHRydWUpO1xuICB9LFxuICBkaXNhYmxlR2xvYmFsRHJhZ01vZGUoKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKTtcblxuICAgIHRoaXMuX2dsb2JhbERyYWdNb2RlRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICBsYXllci5wbS5kaXNhYmxlTGF5ZXJEcmFnKCk7XG4gICAgfSk7XG5cbiAgICAvLyByZW1vdmUgbWFwIGhhbmRsZXJcbiAgICB0aGlzLm1hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy5fbGF5ZXJBZGRlZERyYWcsIHRoaXMpO1xuICAgIHRoaXMubWFwLm9mZignbGF5ZXJhZGQnLCB0aGlzLnRocm90dGxlZFJlSW5pdERyYWcsIHRoaXMpO1xuXG4gICAgLy8gdG9vZ2xlIHRoZSBidXR0b24gaW4gdGhlIHRvb2xiYXIgaWYgdGhpcyBpcyBjYWxsZWQgcHJvZ3JhbWF0aWNhbGx5XG4gICAgdGhpcy5Ub29sYmFyLnRvZ2dsZUJ1dHRvbignZHJhZ01vZGUnLCB0aGlzLmdsb2JhbERyYWdNb2RlRW5hYmxlZCgpKTtcblxuICAgIHRoaXMuX2ZpcmVHbG9iYWxEcmFnTW9kZVRvZ2dsZWQoZmFsc2UpO1xuICB9LFxuICBnbG9iYWxEcmFnTW9kZUVuYWJsZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZ2xvYmFsRHJhZ01vZGVFbmFibGVkO1xuICB9LFxuICB0b2dnbGVHbG9iYWxEcmFnTW9kZSgpIHtcbiAgICBpZiAodGhpcy5nbG9iYWxEcmFnTW9kZUVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlR2xvYmFsRHJhZ01vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGVHbG9iYWxEcmFnTW9kZSgpO1xuICAgIH1cbiAgfSxcbiAgcmVpbml0R2xvYmFsRHJhZ01vZGUoKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gdGhpcy5fYWRkZWRMYXllcnNEcmFnO1xuICAgIHRoaXMuX2FkZGVkTGF5ZXJzRHJhZyA9IHt9O1xuICAgIGlmICh0aGlzLmdsb2JhbERyYWdNb2RlRW5hYmxlZCgpKSB7XG4gICAgICBmb3IgKGNvbnN0IGlkIGluIGxheWVycykge1xuICAgICAgICBjb25zdCBsYXllciA9IGxheWVyc1tpZF07XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzUmVsZXZhbnRGb3JEcmFnKGxheWVyKSkge1xuICAgICAgICAgIGxheWVyLnBtLmVuYWJsZUxheWVyRHJhZygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfbGF5ZXJBZGRlZERyYWcoeyBsYXllciB9KSB7XG4gICAgdGhpcy5fYWRkZWRMYXllcnNEcmFnW0wuc3RhbXAobGF5ZXIpXSA9IGxheWVyO1xuICB9LFxuICBfaXNSZWxldmFudEZvckRyYWcobGF5ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgbGF5ZXIucG0gJiZcbiAgICAgICEobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApICYmXG4gICAgICAoKCFMLlBNLm9wdEluICYmICFsYXllci5vcHRpb25zLnBtSWdub3JlKSB8fCAvLyBpZiBvcHRJbiBpcyBub3Qgc2V0IC8gdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgbm90IHNldCAvIHRydWUgKGRlZmF1bHQpXG4gICAgICAgIChMLlBNLm9wdEluICYmIGxheWVyLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSkgJiYgLy8gaWYgb3B0SW4gaXMgdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgZmFsc2VcbiAgICAgICFsYXllci5fcG1UZW1wTGF5ZXIgJiZcbiAgICAgIGxheWVyLnBtLm9wdGlvbnMuZHJhZ2dhYmxlXG4gICAgKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdsb2JhbERyYWdNb2RlO1xuIiwgImNvbnN0IEdsb2JhbFJlbW92YWxNb2RlID0ge1xuICBfZ2xvYmFsUmVtb3ZhbE1vZGVFbmFibGVkOiBmYWxzZSxcbiAgZW5hYmxlR2xvYmFsUmVtb3ZhbE1vZGUoKSB7XG4gICAgdGhpcy5fZ2xvYmFsUmVtb3ZhbE1vZGVFbmFibGVkID0gdHJ1ZTtcbiAgICAvLyBoYW5kbGUgZXhpc3RpbmcgbGF5ZXJzXG4gICAgdGhpcy5tYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgaWYgKHRoaXMuX2lzUmVsZXZhbnRGb3JSZW1vdmFsKGxheWVyKSkge1xuICAgICAgICBpZiAobGF5ZXIucG0uZW5hYmxlZCgpKSB7XG4gICAgICAgICAgbGF5ZXIucG0uZGlzYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIGxheWVyLm9uKCdjbGljaycsIHRoaXMucmVtb3ZlTGF5ZXIsIHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnRocm90dGxlZFJlSW5pdFJlbW92YWwpIHtcbiAgICAgIHRoaXMudGhyb3R0bGVkUmVJbml0UmVtb3ZhbCA9IEwuVXRpbC50aHJvdHRsZShcbiAgICAgICAgdGhpcy5oYW5kbGVMYXllckFkZGl0aW9uSW5HbG9iYWxSZW1vdmFsTW9kZSxcbiAgICAgICAgMTAwLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBzYXZlIHRoZSBhZGRlZCBsYXllcnMgaW50byB0aGUgX2FkZGVkTGF5ZXJzUmVtb3ZhbCBhcnJheSwgdG8gcmVhZCBpdCBsYXRlciBvdXRcbiAgICB0aGlzLl9hZGRlZExheWVyc1JlbW92YWwgPSB7fTtcbiAgICAvLyBoYW5kbGUgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHdoaWxlIGluIHJlbW92YWwgbW9kZVxuICAgIHRoaXMubWFwLm9uKCdsYXllcmFkZCcsIHRoaXMuX2xheWVyQWRkZWRSZW1vdmFsLCB0aGlzKTtcbiAgICB0aGlzLm1hcC5vbignbGF5ZXJhZGQnLCB0aGlzLnRocm90dGxlZFJlSW5pdFJlbW92YWwsIHRoaXMpO1xuXG4gICAgLy8gdG9vZ2xlIHRoZSBidXR0b24gaW4gdGhlIHRvb2xiYXIgaWYgdGhpcyBpcyBjYWxsZWQgcHJvZ3JhbWF0aWNhbGx5XG4gICAgdGhpcy5Ub29sYmFyLnRvZ2dsZUJ1dHRvbigncmVtb3ZhbE1vZGUnLCB0aGlzLmdsb2JhbFJlbW92YWxNb2RlRW5hYmxlZCgpKTtcblxuICAgIHRoaXMuX2ZpcmVHbG9iYWxSZW1vdmFsTW9kZVRvZ2dsZWQodHJ1ZSk7XG4gIH0sXG4gIGRpc2FibGVHbG9iYWxSZW1vdmFsTW9kZSgpIHtcbiAgICB0aGlzLl9nbG9iYWxSZW1vdmFsTW9kZUVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLm1hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBsYXllci5vZmYoJ2NsaWNrJywgdGhpcy5yZW1vdmVMYXllciwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICAvLyByZW1vdmUgbWFwIGhhbmRsZXJcbiAgICB0aGlzLm1hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy5fbGF5ZXJBZGRlZFJlbW92YWwsIHRoaXMpO1xuICAgIHRoaXMubWFwLm9mZignbGF5ZXJhZGQnLCB0aGlzLnRocm90dGxlZFJlSW5pdFJlbW92YWwsIHRoaXMpO1xuXG4gICAgLy8gdG9vZ2xlIHRoZSBidXR0b24gaW4gdGhlIHRvb2xiYXIgaWYgdGhpcyBpcyBjYWxsZWQgcHJvZ3JhbWF0aWNhbGx5XG4gICAgdGhpcy5Ub29sYmFyLnRvZ2dsZUJ1dHRvbigncmVtb3ZhbE1vZGUnLCB0aGlzLmdsb2JhbFJlbW92YWxNb2RlRW5hYmxlZCgpKTtcblxuICAgIHRoaXMuX2ZpcmVHbG9iYWxSZW1vdmFsTW9kZVRvZ2dsZWQoZmFsc2UpO1xuICB9LFxuICAvLyBUT0RPOiBSZW1vdmUgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxuICBnbG9iYWxSZW1vdmFsRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nbG9iYWxSZW1vdmFsTW9kZUVuYWJsZWQoKTtcbiAgfSxcbiAgZ2xvYmFsUmVtb3ZhbE1vZGVFbmFibGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2dsb2JhbFJlbW92YWxNb2RlRW5hYmxlZDtcbiAgfSxcbiAgdG9nZ2xlR2xvYmFsUmVtb3ZhbE1vZGUoKSB7XG4gICAgLy8gdG9nZ2xlIGdsb2JhbCBlZGl0IG1vZGVcbiAgICBpZiAodGhpcy5nbG9iYWxSZW1vdmFsTW9kZUVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlR2xvYmFsUmVtb3ZhbE1vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGVHbG9iYWxSZW1vdmFsTW9kZSgpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlTGF5ZXIoZSkge1xuICAgIGNvbnN0IGxheWVyID0gZS50YXJnZXQ7XG4gICAgLy8gb25seSByZW1vdmUgbGF5ZXIsIGlmIGl0J3MgaGFuZGxlZCBieSBsZWFmbGV0LWdlb21hbixcbiAgICAvLyBub3QgYSB0ZW1wTGF5ZXIgYW5kIG5vdCBjdXJyZW50bHkgYmVpbmcgZHJhZ2dlZFxuICAgIGNvbnN0IHJlbW92ZWFibGUgPVxuICAgICAgdGhpcy5faXNSZWxldmFudEZvclJlbW92YWwobGF5ZXIpICYmICFsYXllci5wbS5kcmFnZ2luZygpO1xuXG4gICAgaWYgKHJlbW92ZWFibGUpIHtcbiAgICAgIGxheWVyLnJlbW92ZUZyb20odGhpcy5tYXAucG0uX2dldENvbnRhaW5pbmdMYXllcigpKTtcbiAgICAgIGxheWVyLnJlbW92ZSgpO1xuICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICAgIHRoaXMuX2ZpcmVSZW1vdmVMYXllckdyb3VwKGxheWVyKTtcbiAgICAgICAgdGhpcy5fZmlyZVJlbW92ZUxheWVyR3JvdXAodGhpcy5tYXAsIGxheWVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheWVyLnBtLl9maXJlUmVtb3ZlKGxheWVyKTtcbiAgICAgICAgbGF5ZXIucG0uX2ZpcmVSZW1vdmUodGhpcy5tYXAsIGxheWVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIF9pc1JlbGV2YW50Rm9yUmVtb3ZhbChsYXllcikge1xuICAgIHJldHVybiAoXG4gICAgICBsYXllci5wbSAmJlxuICAgICAgIShsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkgJiZcbiAgICAgICgoIUwuUE0ub3B0SW4gJiYgIWxheWVyLm9wdGlvbnMucG1JZ25vcmUpIHx8IC8vIGlmIG9wdEluIGlzIG5vdCBzZXQgLyB0cnVlIGFuZCBwbUlnbm9yZSBpcyBub3Qgc2V0IC8gdHJ1ZSAoZGVmYXVsdClcbiAgICAgICAgKEwuUE0ub3B0SW4gJiYgbGF5ZXIub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpKSAmJiAvLyBpZiBvcHRJbiBpcyB0cnVlIGFuZCBwbUlnbm9yZSBpcyBmYWxzZVxuICAgICAgIWxheWVyLl9wbVRlbXBMYXllciAmJlxuICAgICAgbGF5ZXIucG0ub3B0aW9ucy5hbGxvd1JlbW92YWxcbiAgICApO1xuICB9LFxuICBoYW5kbGVMYXllckFkZGl0aW9uSW5HbG9iYWxSZW1vdmFsTW9kZSgpIHtcbiAgICBjb25zdCBsYXllcnMgPSB0aGlzLl9hZGRlZExheWVyc1JlbW92YWw7XG4gICAgdGhpcy5fYWRkZWRMYXllcnNSZW1vdmFsID0ge307XG4gICAgaWYgKHRoaXMuZ2xvYmFsUmVtb3ZhbE1vZGVFbmFibGVkKCkpIHtcbiAgICAgIGZvciAoY29uc3QgaWQgaW4gbGF5ZXJzKSB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzW2lkXTtcbiAgICAgICAgaWYgKHRoaXMuX2lzUmVsZXZhbnRGb3JSZW1vdmFsKGxheWVyKSkge1xuICAgICAgICAgIGlmIChsYXllci5wbS5lbmFibGVkKCkpIHtcbiAgICAgICAgICAgIGxheWVyLnBtLmRpc2FibGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGF5ZXIub24oJ2NsaWNrJywgdGhpcy5yZW1vdmVMYXllciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIF9sYXllckFkZGVkUmVtb3ZhbCh7IGxheWVyIH0pIHtcbiAgICB0aGlzLl9hZGRlZExheWVyc1JlbW92YWxbTC5zdGFtcChsYXllcildID0gbGF5ZXI7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBHbG9iYWxSZW1vdmFsTW9kZTtcbiIsICJjb25zdCBHbG9iYWxSb3RhdGVNb2RlID0ge1xuICBfZ2xvYmFsUm90YXRlTW9kZUVuYWJsZWQ6IGZhbHNlLFxuICBlbmFibGVHbG9iYWxSb3RhdGVNb2RlKCkge1xuICAgIHRoaXMuX2dsb2JhbFJvdGF0ZU1vZGVFbmFibGVkID0gdHJ1ZTtcbiAgICBjb25zdCBsYXllcnMgPSBMLlBNLlV0aWxzLmZpbmRMYXllcnModGhpcy5tYXApLmZpbHRlcihcbiAgICAgIChsKSA9PiBsIGluc3RhbmNlb2YgTC5Qb2x5bGluZVxuICAgICk7XG4gICAgbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICBpZiAodGhpcy5faXNSZWxldmFudEZvclJvdGF0ZShsYXllcikpIHtcbiAgICAgICAgbGF5ZXIucG0uZW5hYmxlUm90YXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIXRoaXMudGhyb3R0bGVkUmVJbml0Um90YXRlKSB7XG4gICAgICB0aGlzLnRocm90dGxlZFJlSW5pdFJvdGF0ZSA9IEwuVXRpbC50aHJvdHRsZShcbiAgICAgICAgdGhpcy5oYW5kbGVMYXllckFkZGl0aW9uSW5HbG9iYWxSb3RhdGVNb2RlLFxuICAgICAgICAxMDAsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fYWRkZWRMYXllcnNSb3RhdGUgPSB7fTtcbiAgICAvLyBoYW5kbGUgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHdoaWxlIGluIHJvdGF0ZSBtb2RlXG4gICAgdGhpcy5tYXAub24oJ2xheWVyYWRkJywgdGhpcy5fbGF5ZXJBZGRlZFJvdGF0ZSwgdGhpcyk7XG4gICAgdGhpcy5tYXAub24oJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXRSb3RhdGUsIHRoaXMpO1xuXG4gICAgLy8gdG9vZ2xlIHRoZSBidXR0b24gaW4gdGhlIHRvb2xiYXIgaWYgdGhpcyBpcyBjYWxsZWQgcHJvZ3JhbWF0aWNhbGx5XG4gICAgdGhpcy5Ub29sYmFyLnRvZ2dsZUJ1dHRvbigncm90YXRlTW9kZScsIHRoaXMuZ2xvYmFsUm90YXRlTW9kZUVuYWJsZWQoKSk7XG4gICAgdGhpcy5fZmlyZUdsb2JhbFJvdGF0ZU1vZGVUb2dnbGVkKCk7XG4gIH0sXG4gIGRpc2FibGVHbG9iYWxSb3RhdGVNb2RlKCkge1xuICAgIHRoaXMuX2dsb2JhbFJvdGF0ZU1vZGVFbmFibGVkID0gZmFsc2U7XG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKS5maWx0ZXIoXG4gICAgICAobCkgPT4gbCBpbnN0YW5jZW9mIEwuUG9seWxpbmVcbiAgICApO1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgbGF5ZXIucG0uZGlzYWJsZVJvdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gcmVtb3ZlIG1hcCBoYW5kbGVyXG4gICAgdGhpcy5tYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMuX2xheWVyQWRkZWRSb3RhdGUsIHRoaXMpO1xuICAgIHRoaXMubWFwLm9mZignbGF5ZXJhZGQnLCB0aGlzLnRocm90dGxlZFJlSW5pdFJvdGF0ZSwgdGhpcyk7XG5cbiAgICAvLyB0b29nbGUgdGhlIGJ1dHRvbiBpbiB0aGUgdG9vbGJhciBpZiB0aGlzIGlzIGNhbGxlZCBwcm9ncmFtYXRpY2FsbHlcbiAgICB0aGlzLlRvb2xiYXIudG9nZ2xlQnV0dG9uKCdyb3RhdGVNb2RlJywgdGhpcy5nbG9iYWxSb3RhdGVNb2RlRW5hYmxlZCgpKTtcbiAgICB0aGlzLl9maXJlR2xvYmFsUm90YXRlTW9kZVRvZ2dsZWQoKTtcbiAgfSxcbiAgZ2xvYmFsUm90YXRlTW9kZUVuYWJsZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZ2xvYmFsUm90YXRlTW9kZUVuYWJsZWQ7XG4gIH0sXG4gIHRvZ2dsZUdsb2JhbFJvdGF0ZU1vZGUoKSB7XG4gICAgaWYgKHRoaXMuZ2xvYmFsUm90YXRlTW9kZUVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlR2xvYmFsUm90YXRlTW9kZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVuYWJsZUdsb2JhbFJvdGF0ZU1vZGUoKTtcbiAgICB9XG4gIH0sXG4gIF9pc1JlbGV2YW50Rm9yUm90YXRlKGxheWVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGxheWVyLnBtICYmXG4gICAgICBsYXllciBpbnN0YW5jZW9mIEwuUG9seWxpbmUgJiZcbiAgICAgICEobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApICYmXG4gICAgICAoKCFMLlBNLm9wdEluICYmICFsYXllci5vcHRpb25zLnBtSWdub3JlKSB8fCAvLyBpZiBvcHRJbiBpcyBub3Qgc2V0IC8gdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgbm90IHNldCAvIHRydWUgKGRlZmF1bHQpXG4gICAgICAgIChMLlBNLm9wdEluICYmIGxheWVyLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSkgJiYgLy8gaWYgb3B0SW4gaXMgdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgZmFsc2VcbiAgICAgICFsYXllci5fcG1UZW1wTGF5ZXIgJiZcbiAgICAgIGxheWVyLnBtLm9wdGlvbnMuYWxsb3dSb3RhdGlvblxuICAgICk7XG4gIH0sXG4gIGhhbmRsZUxheWVyQWRkaXRpb25Jbkdsb2JhbFJvdGF0ZU1vZGUoKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gdGhpcy5fYWRkZWRMYXllcnNSb3RhdGU7XG4gICAgdGhpcy5fYWRkZWRMYXllcnNSb3RhdGUgPSB7fTtcbiAgICBpZiAodGhpcy5nbG9iYWxSb3RhdGVNb2RlRW5hYmxlZCgpKSB7XG4gICAgICBmb3IgKGNvbnN0IGlkIGluIGxheWVycykge1xuICAgICAgICBjb25zdCBsYXllciA9IGxheWVyc1tpZF07XG4gICAgICAgIGlmICh0aGlzLl9pc1JlbGV2YW50Rm9yUmVtb3ZhbChsYXllcikpIHtcbiAgICAgICAgICBsYXllci5wbS5lbmFibGVSb3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgX2xheWVyQWRkZWRSb3RhdGUoeyBsYXllciB9KSB7XG4gICAgdGhpcy5fYWRkZWRMYXllcnNSb3RhdGVbTC5zdGFtcChsYXllcildID0gbGF5ZXI7XG4gIH0sXG59O1xuZXhwb3J0IGRlZmF1bHQgR2xvYmFsUm90YXRlTW9kZTtcbiIsICJpbXBvcnQgbWVyZ2UgZnJvbSAnbG9kYXNoL21lcmdlJztcblxuY29uc3QgRXZlbnRNaXhpbiA9IHtcbiAgLy8gRHJhdyBFdmVudHNcbiAgLy8gRmlyZWQgd2hlbiBlbmFibGVEcmF3KCkgaXMgY2FsbGVkIC0+IGRyYXcgc3RhcnRcbiAgX2ZpcmVEcmF3U3RhcnQoc291cmNlID0gJ0RyYXcnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTpkcmF3c3RhcnQnLFxuICAgICAge1xuICAgICAgICBzaGFwZTogdGhpcy5fc2hhcGUsXG4gICAgICAgIHdvcmtpbmdMYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gZGlzYWJsZURyYXcoKSBpcyBjYWxsZWQgLT4gZHJhdyBzdG9wXG4gIF9maXJlRHJhd0VuZChzb3VyY2UgPSAnRHJhdycsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbWFwLFxuICAgICAgJ3BtOmRyYXdlbmQnLFxuICAgICAge1xuICAgICAgICBzaGFwZTogdGhpcy5fc2hhcGUsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gbGF5ZXIgaXMgY3JlYXRlZCB3aGlsZSBkcmF3aW5nXG4gIF9maXJlQ3JlYXRlKGxheWVyLCBzb3VyY2UgPSAnRHJhdycsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbWFwLFxuICAgICAgJ3BtOmNyZWF0ZScsXG4gICAgICB7XG4gICAgICAgIHNoYXBlOiB0aGlzLl9zaGFwZSxcbiAgICAgICAgbWFya2VyOiBsYXllciwgLy8gVE9ETzogRGVwcmVjYXRlZFxuICAgICAgICBsYXllcixcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBDaXJjbGUgLyBDaXJjbGVNYXJrZXIgY2VudGVyIGlzIHBsYWNlZFxuICAvLyBpZiBzb3VyY2UgPT0gXCJEcmF3XCIgdGhlbiBgd29ya2luZ0xheWVyYCBpcyBwYXNzZWQgZWxzZSBgbGF5ZXJgXG4gIF9maXJlQ2VudGVyUGxhY2VkKHNvdXJjZSA9ICdEcmF3JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgY29uc3Qgd29ya2luZ0xheWVyID0gc291cmNlID09PSAnRHJhdycgPyB0aGlzLl9sYXllciA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBsYXllciA9IHNvdXJjZSAhPT0gJ0RyYXcnID8gdGhpcy5fbGF5ZXIgOiB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOmNlbnRlcnBsYWNlZCcsXG4gICAgICB7XG4gICAgICAgIHNoYXBlOiB0aGlzLl9zaGFwZSxcbiAgICAgICAgd29ya2luZ0xheWVyLFxuICAgICAgICBsYXllcixcbiAgICAgICAgbGF0bG5nOiB0aGlzLl9sYXllci5nZXRMYXRMbmcoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBsYXllciBpcyBjdXR0ZWRcbiAgLy8gVE9ETzogaXMgQ3V0IFwiRHJhd1wiIG9yIFwiRWRpdFwiPyBUaGUgZXZlbnQgYHBtOmVkaXRgIGluIHRoZSBzYW1lIHNjb3BlIGlzIGNhbGxlZCBhcyBzb3VyY2UgXCJFZGl0XCJcbiAgX2ZpcmVDdXQoXG4gICAgZmlyZUxheWVyLFxuICAgIGxheWVyLFxuICAgIG9yaWdpbmFsTGF5ZXIsXG4gICAgc291cmNlID0gJ0RyYXcnLFxuICAgIGN1c3RvbVBheWxvYWQgPSB7fVxuICApIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIGZpcmVMYXllcixcbiAgICAgICdwbTpjdXQnLFxuICAgICAge1xuICAgICAgICBzaGFwZTogdGhpcy5fc2hhcGUsXG4gICAgICAgIGxheWVyLFxuICAgICAgICBvcmlnaW5hbExheWVyLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuXG4gIC8vIEVkaXQgRXZlbnRzXG4gIC8vIEZpcmVkIHdoZW4gbGF5ZXIgaXMgZWRpdGVkIC8gY2hhbmdlZFxuICBfZmlyZUVkaXQoZmlyZUxheWVyID0gdGhpcy5fbGF5ZXIsIHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06ZWRpdCcsXG4gICAgICB7IGxheWVyOiB0aGlzLl9sYXllciwgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gbGF5ZXIgaXMgZW5hYmxlZCBmb3IgZWRpdGluZ1xuICBfZmlyZUVuYWJsZShzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06ZW5hYmxlJyxcbiAgICAgIHsgbGF5ZXI6IHRoaXMuX2xheWVyLCBzaGFwZTogdGhpcy5nZXRTaGFwZSgpIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBsYXllciBpcyBkaXNhYmxlZCBmb3IgZWRpdGluZ1xuICBfZmlyZURpc2FibGUoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOmRpc2FibGUnLFxuICAgICAgeyBsYXllcjogdGhpcy5fbGF5ZXIsIHNoYXBlOiB0aGlzLmdldFNoYXBlKCkgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGxheWVyIGlzIGRpc2FibGVkIGFuZCB3YXMgZWRpdGVkIC8gY2hhbmdlZFxuICBfZmlyZVVwZGF0ZShzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06dXBkYXRlJyxcbiAgICAgIHsgbGF5ZXI6IHRoaXMuX2xheWVyLCBzaGFwZTogdGhpcy5nZXRTaGFwZSgpIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIHZlcnRleC1tYXJrZXIgaXMgc3RhcnRlZCBkcmFnZ2luZ1xuICAvLyBpbmRleFBhdGggaXMgb25seSBwYXNzZWQgZnJvbSBMaW5lIC8gUG9seWdvblxuICBfZmlyZU1hcmtlckRyYWdTdGFydChcbiAgICBlLFxuICAgIGluZGV4UGF0aCA9IHVuZGVmaW5lZCxcbiAgICBzb3VyY2UgPSAnRWRpdCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06bWFya2VyZHJhZ3N0YXJ0JyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBtYXJrZXJFdmVudDogZSxcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgICAgaW5kZXhQYXRoLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGlsZSBkcmFnZ2luZyBhIHZlcnRleC1tYXJrZXJcbiAgLy8gaW5kZXhQYXRoIGlzIG9ubHkgcGFzc2VkIGZyb20gTGluZSAvIFBvbHlnb25cbiAgX2ZpcmVNYXJrZXJEcmFnKFxuICAgIGUsXG4gICAgaW5kZXhQYXRoID0gdW5kZWZpbmVkLFxuICAgIHNvdXJjZSA9ICdFZGl0JyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTptYXJrZXJkcmFnJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBtYXJrZXJFdmVudDogZSxcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgICAgaW5kZXhQYXRoLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGEgdmVydGV4LW1hcmtlciBpcyBzdG9wcGVkIGRyYWdnaW5nXG4gIC8vIGluZGV4UGF0aCBhbmQgaW50ZXJzZWN0aW9uUmVzZXQgaXMgb25seSBwYXNzZWQgZnJvbSBMaW5lIC8gUG9seWdvblxuICBfZmlyZU1hcmtlckRyYWdFbmQoXG4gICAgZSxcbiAgICBpbmRleFBhdGggPSB1bmRlZmluZWQsXG4gICAgaW50ZXJzZWN0aW9uUmVzZXQgPSB1bmRlZmluZWQsXG4gICAgc291cmNlID0gJ0VkaXQnLFxuICAgIGN1c3RvbVBheWxvYWQgPSB7fVxuICApIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOm1hcmtlcmRyYWdlbmQnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIG1hcmtlckV2ZW50OiBlLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgICBpbmRleFBhdGgsXG4gICAgICAgIGludGVyc2VjdGlvblJlc2V0LFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGEgbGF5ZXIgaXMgc3RhcnRlZCBkcmFnZ2luZ1xuICBfZmlyZURyYWdTdGFydChzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06ZHJhZ3N0YXJ0JyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGlsZSBkcmFnZ2luZyBhIGxheWVyXG4gIF9maXJlRHJhZyhlLCBzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06ZHJhZycsXG4gICAgICB7IC4uLmUsIHNoYXBlOiB0aGlzLmdldFNoYXBlKCkgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGEgbGF5ZXIgaXMgc3RvcHBlZCBkcmFnZ2luZ1xuICBfZmlyZURyYWdFbmQoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOmRyYWdlbmQnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gbGF5ZXIgaXMgZW5hYmxlZCBmb3IgZWRpdGluZ1xuICBfZmlyZURyYWdFbmFibGUoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOmRyYWdlbmFibGUnLFxuICAgICAgeyBsYXllcjogdGhpcy5fbGF5ZXIsIHNoYXBlOiB0aGlzLmdldFNoYXBlKCkgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGxheWVyIGlzIGRpc2FibGVkIGZvciBlZGl0aW5nXG4gIF9maXJlRHJhZ0Rpc2FibGUoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOmRyYWdkaXNhYmxlJyxcbiAgICAgIHsgbGF5ZXI6IHRoaXMuX2xheWVyLCBzaGFwZTogdGhpcy5nZXRTaGFwZSgpIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIGxheWVyIGlzIHJlbW92ZWRcbiAgX2ZpcmVSZW1vdmUoXG4gICAgZmlyZUxheWVyLFxuICAgIHJlZkxheWVyID0gZmlyZUxheWVyLFxuICAgIHNvdXJjZSA9ICdFZGl0JyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06cmVtb3ZlJyxcbiAgICAgIHsgbGF5ZXI6IHJlZkxheWVyLCBzaGFwZTogdGhpcy5nZXRTaGFwZSgpIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIHZlcnRleC1tYXJrZXIgaXMgY3JlYXRlZFxuICBfZmlyZVZlcnRleEFkZGVkKFxuICAgIG1hcmtlcixcbiAgICBpbmRleFBhdGgsXG4gICAgbGF0bG5nLFxuICAgIHNvdXJjZSA9ICdFZGl0JyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTp2ZXJ0ZXhhZGRlZCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgd29ya2luZ0xheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgbWFya2VyLFxuICAgICAgICBpbmRleFBhdGgsXG4gICAgICAgIGxhdGxuZyxcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIHZlcnRleC1tYXJrZXIgaXMgcmVtb3ZlZFxuICBfZmlyZVZlcnRleFJlbW92ZWQobWFya2VyLCBpbmRleFBhdGgsIHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTp2ZXJ0ZXhyZW1vdmVkJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBtYXJrZXIsXG4gICAgICAgIGluZGV4UGF0aCxcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgICAgLy8gVE9ETzogbWF5YmUgYWRkIGxhdGxuZyBhcyB3ZWxsP1xuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGEgdmVydGV4LW1hcmtlciBpcyBjbGlja2VkXG4gIF9maXJlVmVydGV4Q2xpY2soZSwgaW5kZXhQYXRoLCBzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06dmVydGV4Y2xpY2snLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIG1hcmtlckV2ZW50OiBlLFxuICAgICAgICBpbmRleFBhdGgsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSBMaW5lIC8gUG9seWdvbiBoYXMgc2VsZiBpbnRlcnNlY3Rpb25cbiAgX2ZpcmVJbnRlcnNlY3QoXG4gICAgaW50ZXJzZWN0aW9uLFxuICAgIGZpcmVMYXllciA9IHRoaXMuX2xheWVyLFxuICAgIHNvdXJjZSA9ICdFZGl0JyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06aW50ZXJzZWN0JyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBpbnRlcnNlY3Rpb24sXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSBMaW5lIC8gUG9seWdvbiBpcyByZXNldCBiZWNhdXNlIG9mIHNlbGYgaW50ZXJzZWN0aW9uXG4gIF9maXJlTGF5ZXJSZXNldChlLCBpbmRleFBhdGgsIHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpsYXllcnJlc2V0JyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBtYXJrZXJFdmVudDogZSxcbiAgICAgICAgaW5kZXhQYXRoLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuXG4gIC8vIEZpcmVkIGNvb3JkaW5hdGVzIG9mIHRoZSBsYXllciBjaGFuZ2VkXG4gIF9maXJlQ2hhbmdlKGxhdGxuZ3MsIHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpjaGFuZ2UnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIGxhdGxuZ3MsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG5cbiAgLy8gRmlyZWQgd2hlbiB0ZXh0IG9mIGEgdGV4dCBsYXllciBjaGFuZ2VkXG4gIF9maXJlVGV4dENoYW5nZSh0ZXh0LCBzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06dGV4dGNoYW5nZScsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgdGV4dCxcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcblxuICAvLyBGaXJlZCB3aGVuIHRleHQgbGF5ZXIgZm9jdXNlZFxuICBfZmlyZVRleHRGb2N1cyhzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06dGV4dGZvY3VzJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIHRleHQgbGF5ZXIgYmx1cnJlZFxuICBfZmlyZVRleHRCbHVyKHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTp0ZXh0Ymx1cicsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcblxuICAvLyBTbmFwcGluZyBFdmVudHNcbiAgLy8gRmlyZWQgZHVyaW5nIGEgbWFya2VyIG1vdmUvZHJhZyBhbmQgb3RoZXIgbGF5ZXJzIGFyZSBleGlzdGluZ1xuICBfZmlyZVNuYXBEcmFnKGZpcmVMYXllciwgZXZlbnRJbmZvLCBzb3VyY2UgPSAnU25hcHBpbmcnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShmaXJlTGF5ZXIsICdwbTpzbmFwZHJhZycsIGV2ZW50SW5mbywgc291cmNlLCBjdXN0b21QYXlsb2FkKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIHZlcnRleCBpcyBzbmFwcGVkXG4gIF9maXJlU25hcChmaXJlTGF5ZXIsIGV2ZW50SW5mbywgc291cmNlID0gJ1NuYXBwaW5nJywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoZmlyZUxheWVyLCAncG06c25hcCcsIGV2ZW50SW5mbywgc291cmNlLCBjdXN0b21QYXlsb2FkKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIHZlcnRleCBpcyB1bnNuYXBwZWRcbiAgX2ZpcmVVbnNuYXAoZmlyZUxheWVyLCBldmVudEluZm8sIHNvdXJjZSA9ICdTbmFwcGluZycsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKGZpcmVMYXllciwgJ3BtOnVuc25hcCcsIGV2ZW50SW5mbywgc291cmNlLCBjdXN0b21QYXlsb2FkKTtcbiAgfSxcblxuICAvLyBSb3RhdGlvbiBFdmVudHNcbiAgLy8gRmlyZWQgd2hlbiByb3RhdGlvbiBpcyBlbmFibGVkXG4gIF9maXJlUm90YXRpb25FbmFibGUoXG4gICAgZmlyZUxheWVyLFxuICAgIGhlbHBMYXllcixcbiAgICBzb3VyY2UgPSAnUm90YXRpb24nLFxuICAgIGN1c3RvbVBheWxvYWQgPSB7fVxuICApIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIGZpcmVMYXllcixcbiAgICAgICdwbTpyb3RhdGVlbmFibGUnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIGhlbHBMYXllcjogdGhpcy5fcm90YXRlUG9seSxcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiByb3RhdGlvbiBpcyBkaXNhYmxlZFxuICBfZmlyZVJvdGF0aW9uRGlzYWJsZShmaXJlTGF5ZXIsIHNvdXJjZSA9ICdSb3RhdGlvbicsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgZmlyZUxheWVyLFxuICAgICAgJ3BtOnJvdGF0ZWRpc2FibGUnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gcm90YXRpb24gc3RhcnRzXG4gIF9maXJlUm90YXRpb25TdGFydChcbiAgICBmaXJlTGF5ZXIsXG4gICAgb3JpZ2luTGF0TG5ncyxcbiAgICBzb3VyY2UgPSAnUm90YXRpb24nLFxuICAgIGN1c3RvbVBheWxvYWQgPSB7fVxuICApIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIGZpcmVMYXllcixcbiAgICAgICdwbTpyb3RhdGVzdGFydCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9yb3RhdGlvbkxheWVyLFxuICAgICAgICBoZWxwTGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBzdGFydEFuZ2xlOiB0aGlzLl9zdGFydEFuZ2xlLFxuICAgICAgICBvcmlnaW5MYXRMbmdzLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGlsZSByb3RhdGlvblxuICBfZmlyZVJvdGF0aW9uKFxuICAgIGZpcmVMYXllcixcbiAgICBhbmdsZURpZmYsXG4gICAgb2xkTGF0TG5ncyxcbiAgICByb3RhdGlvbkxheWVyID0gdGhpcy5fcm90YXRpb25MYXllcixcbiAgICBzb3VyY2UgPSAnUm90YXRpb24nLFxuICAgIGN1c3RvbVBheWxvYWQgPSB7fVxuICApIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIGZpcmVMYXllcixcbiAgICAgICdwbTpyb3RhdGUnLFxuICAgICAge1xuICAgICAgICBsYXllcjogcm90YXRpb25MYXllcixcbiAgICAgICAgaGVscExheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgc3RhcnRBbmdsZTogdGhpcy5fc3RhcnRBbmdsZSxcbiAgICAgICAgYW5nbGU6IHJvdGF0aW9uTGF5ZXIucG0uZ2V0QW5nbGUoKSxcbiAgICAgICAgYW5nbGVEaWZmLFxuICAgICAgICBvbGRMYXRMbmdzLFxuICAgICAgICBuZXdMYXRMbmdzOiByb3RhdGlvbkxheWVyLmdldExhdExuZ3MoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiByb3RhdGlvbiBlbmRzXG4gIF9maXJlUm90YXRpb25FbmQoXG4gICAgZmlyZUxheWVyLFxuICAgIHN0YXJ0QW5nbGUsXG4gICAgb3JpZ2luTGF0TG5ncyxcbiAgICBzb3VyY2UgPSAnUm90YXRpb24nLFxuICAgIGN1c3RvbVBheWxvYWQgPSB7fVxuICApIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIGZpcmVMYXllcixcbiAgICAgICdwbTpyb3RhdGVlbmQnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fcm90YXRpb25MYXllcixcbiAgICAgICAgaGVscExheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgc3RhcnRBbmdsZSxcbiAgICAgICAgYW5nbGU6IHRoaXMuX3JvdGF0aW9uTGF5ZXIucG0uZ2V0QW5nbGUoKSxcbiAgICAgICAgb3JpZ2luTGF0TG5ncyxcbiAgICAgICAgbmV3TGF0TG5nczogdGhpcy5fcm90YXRpb25MYXllci5nZXRMYXRMbmdzKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG5cbiAgLy8gR2xvYmFsIEV2ZW50c1xuICAvLyBGaXJlZCB3aGVuIGEgVG9vbGJhciBhY3Rpb24gaXMgY2xpY2tlZFxuICBfZmlyZUFjdGlvbkNsaWNrKFxuICAgIGFjdGlvbixcbiAgICBidG5OYW1lLFxuICAgIGJ1dHRvbixcbiAgICBzb3VyY2UgPSAnVG9vbGJhcicsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIC8vIHRoaXMuX21hcCBpcyB1c2VkIGJlY2F1c2UgdGhpcyBpcyBmaXJlZCBmcm9tIEwuQ29udHJvbHMgKFBNQnV0dG9uKVxuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbWFwLFxuICAgICAgJ3BtOmFjdGlvbmNsaWNrJyxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogYWN0aW9uLnRleHQsXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgYnRuTmFtZSxcbiAgICAgICAgYnV0dG9uLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGEgVG9vbGJhciBidXR0b24gaXMgY2xpY2tlZFxuICBfZmlyZUJ1dHRvbkNsaWNrKGJ0bk5hbWUsIGJ1dHRvbiwgc291cmNlID0gJ1Rvb2xiYXInLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICAvLyB0aGlzLl9tYXAgaXMgdXNlZCBiZWNhdXNlIHRoaXMgaXMgZmlyZWQgZnJvbSBMLkNvbnRyb2xzIChQTUJ1dHRvbilcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTpidXR0b25jbGljaycsXG4gICAgICB7IGJ0bk5hbWUsIGJ1dHRvbiB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gbGFuZ3VhZ2UgaXMgY2hhbmdlZFxuICBfZmlyZUxhbmdDaGFuZ2UoXG4gICAgb2xkTGFuZyxcbiAgICBhY3RpdmVMYW5nLFxuICAgIGZhbGxiYWNrLFxuICAgIHRyYW5zbGF0aW9ucyxcbiAgICBzb3VyY2UgPSAnR2xvYmFsJyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLm1hcCxcbiAgICAgICdwbTpsYW5nY2hhbmdlJyxcbiAgICAgIHtcbiAgICAgICAgb2xkTGFuZyxcbiAgICAgICAgYWN0aXZlTGFuZyxcbiAgICAgICAgZmFsbGJhY2ssXG4gICAgICAgIHRyYW5zbGF0aW9ucyxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBEcmFnIE1vZGUgaXMgdG9nZ2xlZC5cbiAgX2ZpcmVHbG9iYWxEcmFnTW9kZVRvZ2dsZWQoZW5hYmxlZCwgc291cmNlID0gJ0dsb2JhbCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5tYXAsXG4gICAgICAncG06Z2xvYmFsZHJhZ21vZGV0b2dnbGVkJyxcbiAgICAgIHtcbiAgICAgICAgZW5hYmxlZCxcbiAgICAgICAgbWFwOiB0aGlzLm1hcCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBFZGl0IE1vZGUgaXMgdG9nZ2xlZC5cbiAgX2ZpcmVHbG9iYWxFZGl0TW9kZVRvZ2dsZWQoZW5hYmxlZCwgc291cmNlID0gJ0dsb2JhbCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5tYXAsXG4gICAgICAncG06Z2xvYmFsZWRpdG1vZGV0b2dnbGVkJyxcbiAgICAgIHtcbiAgICAgICAgZW5hYmxlZCxcbiAgICAgICAgbWFwOiB0aGlzLm1hcCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBSZW1vdmFsIE1vZGUgaXMgdG9nZ2xlZC5cbiAgX2ZpcmVHbG9iYWxSZW1vdmFsTW9kZVRvZ2dsZWQoXG4gICAgZW5hYmxlZCxcbiAgICBzb3VyY2UgPSAnR2xvYmFsJyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLm1hcCxcbiAgICAgICdwbTpnbG9iYWxyZW1vdmFsbW9kZXRvZ2dsZWQnLFxuICAgICAge1xuICAgICAgICBlbmFibGVkLFxuICAgICAgICBtYXA6IHRoaXMubWFwLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIEN1dCBNb2RlIGlzIHRvZ2dsZWQuXG4gIF9maXJlR2xvYmFsQ3V0TW9kZVRvZ2dsZWQoc291cmNlID0gJ0dsb2JhbCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbWFwLFxuICAgICAgJ3BtOmdsb2JhbGN1dG1vZGV0b2dnbGVkJyxcbiAgICAgIHtcbiAgICAgICAgZW5hYmxlZDogISF0aGlzLl9lbmFibGVkLFxuICAgICAgICBtYXA6IHRoaXMuX21hcCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBEcmF3IE1vZGUgaXMgdG9nZ2xlZC5cbiAgX2ZpcmVHbG9iYWxEcmF3TW9kZVRvZ2dsZWQoc291cmNlID0gJ0dsb2JhbCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbWFwLFxuICAgICAgJ3BtOmdsb2JhbGRyYXdtb2RldG9nZ2xlZCcsXG4gICAgICB7XG4gICAgICAgIGVuYWJsZWQ6IHRoaXMuX2VuYWJsZWQsXG4gICAgICAgIHNoYXBlOiB0aGlzLl9zaGFwZSxcbiAgICAgICAgbWFwOiB0aGlzLl9tYXAsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gUm90YXRpb24gTW9kZSBpcyB0b2dnbGVkLlxuICBfZmlyZUdsb2JhbFJvdGF0ZU1vZGVUb2dnbGVkKHNvdXJjZSA9ICdHbG9iYWwnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMubWFwLFxuICAgICAgJ3BtOmdsb2JhbHJvdGF0ZW1vZGV0b2dnbGVkJyxcbiAgICAgIHtcbiAgICAgICAgZW5hYmxlZDogdGhpcy5nbG9iYWxSb3RhdGVNb2RlRW5hYmxlZCgpLFxuICAgICAgICBtYXA6IHRoaXMubWFwLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIExheWVyR3JvdXAgaXMgcmVtb3ZlZFxuICBfZmlyZVJlbW92ZUxheWVyR3JvdXAoXG4gICAgZmlyZUxheWVyLFxuICAgIHJlZkxheWVyID0gZmlyZUxheWVyLFxuICAgIHNvdXJjZSA9ICdFZGl0JyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06cmVtb3ZlJyxcbiAgICAgIHsgbGF5ZXI6IHJlZkxheWVyLCBzaGFwZTogdW5kZWZpbmVkIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBga2V5ZG93bmAgb3IgYGtleXVwYCBvbiB0aGUgZG9jdW1lbnQgaXMgZmlyZWQuXG4gIF9maXJlS2V5ZXZlbnRFdmVudChcbiAgICBldmVudCxcbiAgICBldmVudFR5cGUsXG4gICAgZm9jdXNPbixcbiAgICBzb3VyY2UgPSAnR2xvYmFsJyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLm1hcCxcbiAgICAgICdwbTprZXlldmVudCcsXG4gICAgICB7XG4gICAgICAgIGV2ZW50LFxuICAgICAgICBldmVudFR5cGUsXG4gICAgICAgIGZvY3VzT24sXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG5cbiAgLy8gcHJpdmF0ZSAodmVyeSBwcml2YXRlKSBmaXJlIGZ1bmN0aW9uXG4gIF9fZmlyZShmaXJlTGF5ZXIsIHR5cGUsIHBheWxvYWQsIHNvdXJjZSwgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgcGF5bG9hZCA9IG1lcmdlKHBheWxvYWQsIGN1c3RvbVBheWxvYWQsIHsgc291cmNlIH0pO1xuICAgIEwuUE0uVXRpbHMuX2ZpcmVFdmVudChmaXJlTGF5ZXIsIHR5cGUsIHBheWxvYWQpO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRNaXhpbjtcbiIsICIvLyB1c2UgZnVuY3Rpb24gdG8gY3JlYXRlIGEgbmV3IG1peGluIG9iamVjdCBmb3Iga2VlcGluZyBpc29sYXRpb25cbi8vIHRvIG1ha2UgaXQgd29yayBmb3IgbXVsdGlwbGUgbWFwIGluc3RhbmNlc1xuY29uc3QgY3JlYXRlS2V5Ym9hcmRNaXhpbnMgPSAoKSA9PiAoe1xuICBfbGFzdEV2ZW50czogeyBrZXlkb3duOiB1bmRlZmluZWQsIGtleXVwOiB1bmRlZmluZWQsIGN1cnJlbnQ6IHVuZGVmaW5lZCB9LFxuICBfaW5pdEtleUxpc3RlbmVyKG1hcCkge1xuICAgIHRoaXMubWFwID0gbWFwO1xuICAgIEwuRG9tRXZlbnQub24oZG9jdW1lbnQsICdrZXlkb3duIGtleXVwJywgdGhpcy5fb25LZXlMaXN0ZW5lciwgdGhpcyk7XG4gICAgTC5Eb21FdmVudC5vbih3aW5kb3csICdibHVyJywgdGhpcy5fb25CbHVyLCB0aGlzKTtcbiAgICAvLyBjbGVhbiB1cCBnbG9iYWwgbGlzdGVuZXJzIHdoZW4gY3VycmVudCBtYXAgaW5zdGFuY2UgaXMgZGVzdHJveWVkXG4gICAgbWFwLm9uY2UoJ3VubG9hZCcsIHRoaXMuX3VuYmluZEtleUxpc3RlbmVyRXZlbnRzLCB0aGlzKTtcbiAgfSxcbiAgX3VuYmluZEtleUxpc3RlbmVyRXZlbnRzKCkge1xuICAgIEwuRG9tRXZlbnQub2ZmKGRvY3VtZW50LCAna2V5ZG93biBrZXl1cCcsIHRoaXMuX29uS2V5TGlzdGVuZXIsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub2ZmKHdpbmRvdywgJ2JsdXInLCB0aGlzLl9vbkJsdXIsIHRoaXMpO1xuICB9LFxuICBfb25LZXlMaXN0ZW5lcihlKSB7XG4gICAgbGV0IGZvY3VzT24gPSAnZG9jdW1lbnQnO1xuXG4gICAgLy8gLmNvbnRhaW5zIG9ubHkgc3VwcG9ydGVkIHNpbmNlIElFOSwgaWYgeW91IHdhbnQgdG8gdXNlIEdlb21hbiB3aXRoIElFOCBvciBsb3dlciB5b3UgbmVlZCB0byBpbXBsZW1lbnQgYSBwb2x5ZmlsbCBmb3IgLmNvbnRhaW5zXG4gICAgLy8gd2l0aCBmb2N1c09uIHRoZSB1c2VyIGNhbiBhZGQgYSBjaGVjayBpZiB0aGUga2V5IHdhcyBwcmVzc2VkIHdoaWxlIHRoZSB1c2VyIGludGVyYWN0cyB3aXRoIHRoZSBtYXBcbiAgICBpZiAodGhpcy5tYXAuZ2V0Q29udGFpbmVyKCkuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICBmb2N1c09uID0gJ21hcCc7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IHsgZXZlbnQ6IGUsIGV2ZW50VHlwZTogZS50eXBlLCBmb2N1c09uIH07XG4gICAgdGhpcy5fbGFzdEV2ZW50c1tlLnR5cGVdID0gZGF0YTtcbiAgICB0aGlzLl9sYXN0RXZlbnRzLmN1cnJlbnQgPSBkYXRhO1xuXG4gICAgdGhpcy5tYXAucG0uX2ZpcmVLZXlldmVudEV2ZW50KGUsIGUudHlwZSwgZm9jdXNPbik7XG4gIH0sXG4gIF9vbkJsdXIoZSkge1xuICAgIGUuYWx0S2V5ID0gZmFsc2U7XG4gICAgY29uc3QgZGF0YSA9IHsgZXZlbnQ6IGUsIGV2ZW50VHlwZTogZS50eXBlLCBmb2N1c09uOiAnZG9jdW1lbnQnIH07XG4gICAgdGhpcy5fbGFzdEV2ZW50c1tlLnR5cGVdID0gZGF0YTtcbiAgICB0aGlzLl9sYXN0RXZlbnRzLmN1cnJlbnQgPSBkYXRhO1xuICB9LFxuICBnZXRMYXN0S2V5RXZlbnQodHlwZSA9ICdjdXJyZW50Jykge1xuICAgIHJldHVybiB0aGlzLl9sYXN0RXZlbnRzW3R5cGVdO1xuICB9LFxuICBpc1NoaWZ0S2V5UHJlc3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGFzdEV2ZW50cy5jdXJyZW50Py5ldmVudC5zaGlmdEtleTtcbiAgfSxcbiAgaXNBbHRLZXlQcmVzc2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9sYXN0RXZlbnRzLmN1cnJlbnQ/LmV2ZW50LmFsdEtleTtcbiAgfSxcbiAgaXNDdHJsS2V5UHJlc3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGFzdEV2ZW50cy5jdXJyZW50Py5ldmVudC5jdHJsS2V5O1xuICB9LFxuICBpc01ldGFLZXlQcmVzc2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9sYXN0RXZlbnRzLmN1cnJlbnQ/LmV2ZW50Lm1ldGFLZXk7XG4gIH0sXG4gIGdldFByZXNzZWRLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RFdmVudHMuY3VycmVudD8uZXZlbnQua2V5O1xuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUtleWJvYXJkTWl4aW5zO1xuIiwgImltcG9ydCBnZXQgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQgdHJhbnNsYXRpb25zIGZyb20gJy4uLy4uL2Fzc2V0cy90cmFuc2xhdGlvbnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24ocGF0aCkge1xuICBjb25zdCBsYW5nID0gTC5QTS5hY3RpdmVMYW5nO1xuICAvLyBpZiB0cmFuc2xhdGlvbiBpcyBub3QgZm91bmQsIGZhbGxiYWNrIHRvIGVuZ2xpc2hcbiAgcmV0dXJuIGdldCh0cmFuc2xhdGlvbnNbbGFuZ10sIHBhdGgpIHx8IGdldCh0cmFuc2xhdGlvbnMuZW4sIHBhdGgpIHx8IHBhdGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNWYWx1ZXMobGlzdCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBpdGVtID0gbGlzdFtpXTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICBpZiAoaGFzVmFsdWVzKGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXRlbSAhPT0gbnVsbCAmJiBpdGVtICE9PSB1bmRlZmluZWQgJiYgaXRlbSAhPT0gJycpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUVtcHR5Q29vcmRSaW5ncyhhcnIpIHtcbiAgcmV0dXJuIGFyci5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xuICAgIGlmIChpdGVtLmxlbmd0aCAhPT0gMCkge1xuICAgICAgY29uc3QgbmV3SXRlbSA9IEFycmF5LmlzQXJyYXkoaXRlbSkgPyByZW1vdmVFbXB0eUNvb3JkUmluZ3MoaXRlbSkgOiBpdGVtO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV3SXRlbSkpIHtcbiAgICAgICAgaWYgKG5ld0l0ZW0ubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2gobmV3SXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKG5ld0l0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCBbXSk7XG59XG5cbi8vIENvZGUgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjQxNTM5OTgvODI4MzkzOFxuZnVuY3Rpb24gZGVzdGluYXRpb25WaW5jZW50eShsb25sYXQsIGJybmcsIGRpc3QpIHtcbiAgLy8gcmV3cml0dGVuIHRvIHdvcmsgd2l0aCBsZWFmbGV0XG4gIGNvbnN0IFZpbmNlbnR5Q29uc3RhbnRzID0ge1xuICAgIGE6IEwuQ1JTLkVhcnRoLlIsXG4gICAgYjogNjM1Njc1Mi4zMTQyLFxuICAgIGY6IDEgLyAyOTguMjU3MjIzNTYzLFxuICB9O1xuXG4gIGNvbnN0IHsgYSwgYiwgZiB9ID0gVmluY2VudHlDb25zdGFudHM7XG4gIGNvbnN0IGxvbjEgPSBsb25sYXQubG5nO1xuICBjb25zdCBsYXQxID0gbG9ubGF0LmxhdDtcbiAgY29uc3QgcyA9IGRpc3Q7XG4gIGNvbnN0IHBpID0gTWF0aC5QSTtcbiAgY29uc3QgYWxwaGExID0gKGJybmcgKiBwaSkgLyAxODA7IC8vIGNvbnZlcnRzIGJybmcgZGVncmVlcyB0byByYWRpdXNcbiAgY29uc3Qgc2luQWxwaGExID0gTWF0aC5zaW4oYWxwaGExKTtcbiAgY29uc3QgY29zQWxwaGExID0gTWF0aC5jb3MoYWxwaGExKTtcbiAgY29uc3QgdGFuVTEgPVxuICAgICgxIC0gZikgKiBNYXRoLnRhbigobGF0MSAqIHBpKSAvIDE4MCAvKiBjb252ZXJ0cyBsYXQxIGRlZ3JlZXMgdG8gcmFkaXVzICovKTtcbiAgY29uc3QgY29zVTEgPSAxIC8gTWF0aC5zcXJ0KDEgKyB0YW5VMSAqIHRhblUxKTtcbiAgY29uc3Qgc2luVTEgPSB0YW5VMSAqIGNvc1UxO1xuICBjb25zdCBzaWdtYTEgPSBNYXRoLmF0YW4yKHRhblUxLCBjb3NBbHBoYTEpO1xuICBjb25zdCBzaW5BbHBoYSA9IGNvc1UxICogc2luQWxwaGExO1xuICBjb25zdCBjb3NTcUFscGhhID0gMSAtIHNpbkFscGhhICogc2luQWxwaGE7XG4gIGNvbnN0IHVTcSA9IChjb3NTcUFscGhhICogKGEgKiBhIC0gYiAqIGIpKSAvIChiICogYik7XG4gIGNvbnN0IEEgPSAxICsgKHVTcSAvIDE2Mzg0KSAqICg0MDk2ICsgdVNxICogKC03NjggKyB1U3EgKiAoMzIwIC0gMTc1ICogdVNxKSkpO1xuICBjb25zdCBCID0gKHVTcSAvIDEwMjQpICogKDI1NiArIHVTcSAqICgtMTI4ICsgdVNxICogKDc0IC0gNDcgKiB1U3EpKSk7XG4gIGxldCBzaWdtYSA9IHMgLyAoYiAqIEEpO1xuICBsZXQgc2lnbWFQID0gMiAqIE1hdGguUEk7XG5cbiAgbGV0IGNvczJTaWdtYU07XG4gIGxldCBzaW5TaWdtYTtcbiAgbGV0IGNvc1NpZ21hO1xuICB3aGlsZSAoTWF0aC5hYnMoc2lnbWEgLSBzaWdtYVApID4gMWUtMTIpIHtcbiAgICBjb3MyU2lnbWFNID0gTWF0aC5jb3MoMiAqIHNpZ21hMSArIHNpZ21hKTtcbiAgICBzaW5TaWdtYSA9IE1hdGguc2luKHNpZ21hKTtcbiAgICBjb3NTaWdtYSA9IE1hdGguY29zKHNpZ21hKTtcbiAgICBjb25zdCBkZWx0YVNpZ21hID1cbiAgICAgIEIgKlxuICAgICAgc2luU2lnbWEgKlxuICAgICAgKGNvczJTaWdtYU0gK1xuICAgICAgICAoQiAvIDQpICpcbiAgICAgICAgICAoY29zU2lnbWEgKiAoLTEgKyAyICogY29zMlNpZ21hTSAqIGNvczJTaWdtYU0pIC1cbiAgICAgICAgICAgIChCIC8gNikgKlxuICAgICAgICAgICAgICBjb3MyU2lnbWFNICpcbiAgICAgICAgICAgICAgKC0zICsgNCAqIHNpblNpZ21hICogc2luU2lnbWEpICpcbiAgICAgICAgICAgICAgKC0zICsgNCAqIGNvczJTaWdtYU0gKiBjb3MyU2lnbWFNKSkpO1xuICAgIHNpZ21hUCA9IHNpZ21hO1xuICAgIHNpZ21hID0gcyAvIChiICogQSkgKyBkZWx0YVNpZ21hO1xuICB9XG4gIGNvbnN0IHRtcCA9IHNpblUxICogc2luU2lnbWEgLSBjb3NVMSAqIGNvc1NpZ21hICogY29zQWxwaGExO1xuICBjb25zdCBsYXQyID0gTWF0aC5hdGFuMihcbiAgICBzaW5VMSAqIGNvc1NpZ21hICsgY29zVTEgKiBzaW5TaWdtYSAqIGNvc0FscGhhMSxcbiAgICAoMSAtIGYpICogTWF0aC5zcXJ0KHNpbkFscGhhICogc2luQWxwaGEgKyB0bXAgKiB0bXApXG4gICk7XG4gIGNvbnN0IGxhbWJkYSA9IE1hdGguYXRhbjIoXG4gICAgc2luU2lnbWEgKiBzaW5BbHBoYTEsXG4gICAgY29zVTEgKiBjb3NTaWdtYSAtIHNpblUxICogc2luU2lnbWEgKiBjb3NBbHBoYTFcbiAgKTtcbiAgY29uc3QgQyA9IChmIC8gMTYpICogY29zU3FBbHBoYSAqICg0ICsgZiAqICg0IC0gMyAqIGNvc1NxQWxwaGEpKTtcbiAgY29uc3QgbGFtID1cbiAgICBsYW1iZGEgLVxuICAgICgxIC0gQykgKlxuICAgICAgZiAqXG4gICAgICBzaW5BbHBoYSAqXG4gICAgICAoc2lnbWEgK1xuICAgICAgICBDICpcbiAgICAgICAgICBzaW5TaWdtYSAqXG4gICAgICAgICAgKGNvczJTaWdtYU0gKyBDICogY29zU2lnbWEgKiAoLTEgKyAyICogY29zMlNpZ21hTSAqIGNvczJTaWdtYU0pKSk7XG4gIC8vIGNvbnN0IHJldkF6ID0gTWF0aC5hdGFuMihzaW5BbHBoYSwgLXRtcCk7ICAvLyBmaW5hbCBiZWFyaW5nXG4gIGNvbnN0IGxhbUZ1bmMgPSBsb24xICsgKGxhbSAqIDE4MCkgLyBwaTsgLy8gY29udmVydHMgbGFtIHJhZGl1cyB0byBkZWdyZWVzXG4gIGNvbnN0IGxhdDJhID0gKGxhdDIgKiAxODApIC8gcGk7IC8vIGNvbnZlcnRzIGxhdDJhIHJhZGl1cyB0byBkZWdyZWVzXG5cbiAgcmV0dXJuIEwubGF0TG5nKGxhbUZ1bmMsIGxhdDJhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdlb2Rlc2ljUG9seWdvbihcbiAgb3JpZ2luLFxuICByYWRpdXMsXG4gIHNpZGVzLFxuICByb3RhdGlvbixcbiAgd2l0aEJlYXJpbmcgPSB0cnVlXG4pIHtcbiAgbGV0IHRydWVBbmdsZTtcbiAgbGV0IG5ld0xvbmxhdDtcbiAgbGV0IGdlb21Qb2ludDtcbiAgY29uc3QgcG9pbnRzID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaWRlczsgaSArPSAxKSB7XG4gICAgaWYgKHdpdGhCZWFyaW5nKSB7XG4gICAgICB0cnVlQW5nbGUgPSAoaSAqIDM2MCkgLyBzaWRlcyArIHJvdGF0aW9uO1xuICAgICAgbmV3TG9ubGF0ID0gZGVzdGluYXRpb25WaW5jZW50eShvcmlnaW4sIHRydWVBbmdsZSwgcmFkaXVzKTtcbiAgICAgIGdlb21Qb2ludCA9IEwubGF0TG5nKG5ld0xvbmxhdC5sbmcsIG5ld0xvbmxhdC5sYXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwTGF0ID0gb3JpZ2luLmxhdCArIE1hdGguY29zKCgyICogaSAqIE1hdGguUEkpIC8gc2lkZXMpICogcmFkaXVzO1xuICAgICAgY29uc3QgcExuZyA9IG9yaWdpbi5sbmcgKyBNYXRoLnNpbigoMiAqIGkgKiBNYXRoLlBJKSAvIHNpZGVzKSAqIHJhZGl1cztcbiAgICAgIGdlb21Qb2ludCA9IEwubGF0TG5nKHBMYXQsIHBMbmcpO1xuICAgIH1cbiAgICBwb2ludHMucHVzaChnZW9tUG9pbnQpO1xuICB9XG5cbiAgcmV0dXJuIHBvaW50cztcbn1cblxuLyogQ29waWVkIGZyb20gTC5HZW9tZXRyeVV0aWwgKi9cbmZ1bmN0aW9uIGRlc3RpbmF0aW9uKGxhdGxuZywgaGVhZGluZywgZGlzdGFuY2UpIHtcbiAgaGVhZGluZyA9IChoZWFkaW5nICsgMzYwKSAlIDM2MDtcbiAgY29uc3QgcmFkID0gTWF0aC5QSSAvIDE4MDtcbiAgY29uc3QgcmFkSW52ID0gMTgwIC8gTWF0aC5QSTtcbiAgY29uc3QgeyBSIH0gPSBMLkNSUy5FYXJ0aDsgLy8gYXBwcm94aW1hdGlvbiBvZiBFYXJ0aCdzIHJhZGl1c1xuICBjb25zdCBsb24xID0gbGF0bG5nLmxuZyAqIHJhZDtcbiAgY29uc3QgbGF0MSA9IGxhdGxuZy5sYXQgKiByYWQ7XG4gIGNvbnN0IHJoZWFkaW5nID0gaGVhZGluZyAqIHJhZDtcbiAgY29uc3Qgc2luTGF0MSA9IE1hdGguc2luKGxhdDEpO1xuICBjb25zdCBjb3NMYXQxID0gTWF0aC5jb3MobGF0MSk7XG4gIGNvbnN0IGNvc0Rpc3RSID0gTWF0aC5jb3MoZGlzdGFuY2UgLyBSKTtcbiAgY29uc3Qgc2luRGlzdFIgPSBNYXRoLnNpbihkaXN0YW5jZSAvIFIpO1xuICBjb25zdCBsYXQyID0gTWF0aC5hc2luKFxuICAgIHNpbkxhdDEgKiBjb3NEaXN0UiArIGNvc0xhdDEgKiBzaW5EaXN0UiAqIE1hdGguY29zKHJoZWFkaW5nKVxuICApO1xuICBsZXQgbG9uMiA9XG4gICAgbG9uMSArXG4gICAgTWF0aC5hdGFuMihcbiAgICAgIE1hdGguc2luKHJoZWFkaW5nKSAqIHNpbkRpc3RSICogY29zTGF0MSxcbiAgICAgIGNvc0Rpc3RSIC0gc2luTGF0MSAqIE1hdGguc2luKGxhdDIpXG4gICAgKTtcbiAgbG9uMiAqPSByYWRJbnY7XG5cbiAgY29uc3Qgb3B0QSA9IGxvbjIgLSAzNjA7XG4gIGNvbnN0IG9wdEIgPSBsb24yIDwgLTE4MCA/IGxvbjIgKyAzNjAgOiBsb24yO1xuXG4gIGxvbjIgPSBsb24yID4gMTgwID8gb3B0QSA6IG9wdEI7XG4gIHJldHVybiBMLmxhdExuZyhbbGF0MiAqIHJhZEludiwgbG9uMl0pO1xufVxuLyogQ29waWVkIGZyb20gTC5HZW9tZXRyeVV0aWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjQW5nbGUobWFwLCBsYXRsbmdBLCBsYXRsbmdCKSB7XG4gIGNvbnN0IHBvaW50QSA9IG1hcC5sYXRMbmdUb0NvbnRhaW5lclBvaW50KGxhdGxuZ0EpO1xuICBjb25zdCBwb2ludEIgPSBtYXAubGF0TG5nVG9Db250YWluZXJQb2ludChsYXRsbmdCKTtcbiAgbGV0IGFuZ2xlRGVnID1cbiAgICAoTWF0aC5hdGFuMihwb2ludEIueSAtIHBvaW50QS55LCBwb2ludEIueCAtIHBvaW50QS54KSAqIDE4MCkgLyBNYXRoLlBJICsgOTA7XG4gIGFuZ2xlRGVnICs9IGFuZ2xlRGVnIDwgMCA/IDM2MCA6IDA7XG4gIHJldHVybiBhbmdsZURlZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc3RpbmF0aW9uT25MaW5lKG1hcCwgbGF0bG5nQSwgbGF0bG5nQiwgZGlzdGFuY2UpIHtcbiAgY29uc3QgYW5nbGVEZWcgPSBjYWxjQW5nbGUobWFwLCBsYXRsbmdBLCBsYXRsbmdCKTtcbiAgcmV0dXJuIGRlc3RpbmF0aW9uKGxhdGxuZ0EsIGFuZ2xlRGVnLCBkaXN0YW5jZSk7XG59XG5cbi8vIHRoaXMgZnVuY3Rpb24gaXMgdXNlZCB3aXRoIHRoZSAuc29ydChwcmlvcml0aXNlU29ydChrZXksIHNvcnRpbmdPcmRlcikpIGZ1bmN0aW9uIG9mIGFycmF5c1xuZXhwb3J0IGZ1bmN0aW9uIHByaW9yaXRpc2VTb3J0KGtleSwgX3NvcnRpbmdPcmRlciwgb3JkZXIgPSAnYXNjJykge1xuICAvKiB0aGUgc29ydGluZyBvcmRlciBoYXMgYWxsIHBvc3NpYmxlIGtleXMgKGxvd2VyY2FzZSkgd2l0aCB0aGUgaW5kZXggYW5kIHRoZW4gaXQgaXMgc29ydGVkIGJ5IHRoZSBrZXkgb24gdGhlIG9iamVjdCAqL1xuXG4gIGlmICghX3NvcnRpbmdPcmRlciB8fCBPYmplY3Qua2V5cyhfc29ydGluZ09yZGVyKS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gKGEsIGIpID0+IGEgLSBiOyAvLyBkZWZhdWx0IHNvcnQgbWV0aG9kXG4gIH1cblxuICAvLyBjaGFuZ2UgdGhlIGtleXMgdG8gbG93ZXJjYXNlXG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhfc29ydGluZ09yZGVyKTtcbiAgbGV0IG9iaktleTtcbiAgbGV0IG4gPSBrZXlzLmxlbmd0aCAtIDE7XG4gIGNvbnN0IHNvcnRpbmdPcmRlciA9IHt9O1xuICB3aGlsZSAobiA+PSAwKSB7XG4gICAgb2JqS2V5ID0ga2V5c1tuXTtcbiAgICBzb3J0aW5nT3JkZXJbb2JqS2V5LnRvTG93ZXJDYXNlKCldID0gX3NvcnRpbmdPcmRlcltvYmpLZXldO1xuICAgIG4gLT0gMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNoYXBlKGxheWVyKSB7XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIpIHtcbiAgICAgIHJldHVybiAnTWFya2VyJztcbiAgICB9XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGUpIHtcbiAgICAgIHJldHVybiAnQ2lyY2xlJztcbiAgICB9XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIpIHtcbiAgICAgIHJldHVybiAnQ2lyY2xlTWFya2VyJztcbiAgICB9XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5SZWN0YW5nbGUpIHtcbiAgICAgIHJldHVybiAnUmVjdGFuZ2xlJztcbiAgICB9XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5Z29uKSB7XG4gICAgICByZXR1cm4gJ1BvbHlnb24nO1xuICAgIH1cbiAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLlBvbHlsaW5lKSB7XG4gICAgICByZXR1cm4gJ0xpbmUnO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIChhLCBiKSA9PiB7XG4gICAgbGV0IGtleUE7XG4gICAgbGV0IGtleUI7XG4gICAgaWYgKGtleSA9PT0gJ2luc3RhbmNlb2ZTaGFwZScpIHtcbiAgICAgIGtleUEgPSBnZXRTaGFwZShhLmxheWVyKS50b0xvd2VyQ2FzZSgpO1xuICAgICAga2V5QiA9IGdldFNoYXBlKGIubGF5ZXIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoIWtleUEgfHwgIWtleUIpIHJldHVybiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zICovXG4gICAgICBpZiAoIWEuaGFzT3duUHJvcGVydHkoa2V5KSB8fCAhYi5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm4gMDtcbiAgICAgIGtleUEgPSBhW2tleV0udG9Mb3dlckNhc2UoKTtcbiAgICAgIGtleUIgPSBiW2tleV0udG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBjb25zdCBmaXJzdCA9XG4gICAgICBrZXlBIGluIHNvcnRpbmdPcmRlciA/IHNvcnRpbmdPcmRlcltrZXlBXSA6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gICAgY29uc3Qgc2Vjb25kID1cbiAgICAgIGtleUIgaW4gc29ydGluZ09yZGVyID8gc29ydGluZ09yZGVyW2tleUJdIDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG5cbiAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICBpZiAoZmlyc3QgPCBzZWNvbmQpIHJlc3VsdCA9IC0xO1xuICAgIGVsc2UgaWYgKGZpcnN0ID4gc2Vjb25kKSByZXN1bHQgPSAxO1xuICAgIHJldHVybiBvcmRlciA9PT0gJ2Rlc2MnID8gcmVzdWx0ICogLTEgOiByZXN1bHQ7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5TGF0TG5ncyhsYXllciwgbGF0bG5ncyA9IGxheWVyLmdldExhdExuZ3MoKSkge1xuICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLlBvbHlnb24pIHtcbiAgICByZXR1cm4gTC5wb2x5Z29uKGxhdGxuZ3MpLmdldExhdExuZ3MoKTtcbiAgfVxuICByZXR1cm4gTC5wb2x5bGluZShsYXRsbmdzKS5nZXRMYXRMbmdzKCk7XG59XG5cbi8vIFJlcGxhY2VzIHRoZSBsYXQgdmFsdWUgd2l0aCB0aGUgTUFYX0xBVElUVURFIG9mIENSUyBpZiBpdCBpcyBsb3dlciAvIGhpZ2hlclxuZXhwb3J0IGZ1bmN0aW9uIGZpeExhdE9mZnNldChsYXRsbmcsIG1hcCkge1xuICBpZiAobWFwLm9wdGlvbnMuY3JzPy5wcm9qZWN0aW9uPy5NQVhfTEFUSVRVREUpIHtcbiAgICBjb25zdCBtYXggPSBtYXAub3B0aW9ucy5jcnM/LnByb2plY3Rpb24/Lk1BWF9MQVRJVFVERTtcbiAgICBsYXRsbmcubGF0ID0gTWF0aC5tYXgoTWF0aC5taW4obWF4LCBsYXRsbmcubGF0KSwgLW1heCk7XG4gIH1cbiAgcmV0dXJuIGxhdGxuZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbmRlcmVyKGxheWVyKSB7XG4gIHJldHVybiAoXG4gICAgbGF5ZXIub3B0aW9ucy5yZW5kZXJlciB8fFxuICAgIChsYXllci5fbWFwICYmXG4gICAgICAobGF5ZXIuX21hcC5fZ2V0UGFuZVJlbmRlcmVyKGxheWVyLm9wdGlvbnMucGFuZSkgfHxcbiAgICAgICAgbGF5ZXIuX21hcC5vcHRpb25zLnJlbmRlcmVyIHx8XG4gICAgICAgIGxheWVyLl9tYXAuX3JlbmRlcmVyKSkgfHxcbiAgICBsYXllci5fcmVuZGVyZXJcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IEV2ZW50TWl4aW4gZnJvbSAnLi4vTWl4aW5zL0V2ZW50cyc7XG5cbmNvbnN0IFBNQnV0dG9uID0gTC5Db250cm9sLmV4dGVuZCh7XG4gIGluY2x1ZGVzOiBbRXZlbnRNaXhpbl0sXG4gIG9wdGlvbnM6IHtcbiAgICBwb3NpdGlvbjogJ3RvcGxlZnQnLFxuICAgIGRpc2FibGVCeU90aGVyQnV0dG9uczogdHJ1ZSxcbiAgfSxcbiAgLy8gVE9ETzogY2xlYW4gdXAgdmFyaWFibGUgbmFtZXMgbGlrZSBfYnV0dG9uIHNob3VsZCBiZSBfb3B0aW9ucyBhbmQgdGhhdCBkb21Ob2RlVmFyaWFibGUgc3R1ZmZcbiAgaW5pdGlhbGl6ZShvcHRpb25zKSB7XG4gICAgLy8gcmVwbGFjZWQgc2V0T3B0aW9ucyB3aXRoIHRoaXMgYmVjYXVzZSBjbGFzc05hbWVzIHJldHVybmVkIHVuZGVmaW5lZCBcdUQ4M0VcdUREMTRcbiAgICB0aGlzLl9idXR0b24gPSBMLlV0aWwuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICB9LFxuICBvbkFkZChtYXApIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgaWYgKCF0aGlzLl9tYXAucG0uVG9vbGJhci5vcHRpb25zLm9uZUJsb2NrKSB7XG4gICAgICBpZiAodGhpcy5fYnV0dG9uLnRvb2wgPT09ICdlZGl0Jykge1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9tYXAucG0uVG9vbGJhci5lZGl0Q29udGFpbmVyO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9idXR0b24udG9vbCA9PT0gJ29wdGlvbnMnKSB7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IHRoaXMuX21hcC5wbS5Ub29sYmFyLm9wdGlvbnNDb250YWluZXI7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2J1dHRvbi50b29sID09PSAnY3VzdG9tJykge1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9tYXAucG0uVG9vbGJhci5jdXN0b21Db250YWluZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9tYXAucG0uVG9vbGJhci5kcmF3Q29udGFpbmVyO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9tYXAucG0uVG9vbGJhci5fY3JlYXRlQ29udGFpbmVyKFxuICAgICAgICB0aGlzLm9wdGlvbnMucG9zaXRpb25cbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlckJ1dHRvbigpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgfSxcbiAgX3JlbmRlckJ1dHRvbigpIHtcbiAgICBjb25zdCBvbGREb21Ob2RlID0gdGhpcy5idXR0b25zRG9tTm9kZTtcbiAgICB0aGlzLmJ1dHRvbnNEb21Ob2RlID0gdGhpcy5fbWFrZUJ1dHRvbih0aGlzLl9idXR0b24pO1xuICAgIGlmIChvbGREb21Ob2RlKSB7XG4gICAgICBvbGREb21Ob2RlLnJlcGxhY2VXaXRoKHRoaXMuYnV0dG9uc0RvbU5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5idXR0b25zRG9tTm9kZSk7XG4gICAgfVxuICB9LFxuICBvblJlbW92ZSgpIHtcbiAgICB0aGlzLmJ1dHRvbnNEb21Ob2RlLnJlbW92ZSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgfSxcbiAgZ2V0VGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYnV0dG9uLnRleHQ7XG4gIH0sXG4gIGdldEljb25VcmwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2J1dHRvbi5pY29uVXJsO1xuICB9LFxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX2J1dHRvbiA9IHt9O1xuICAgIHRoaXMuX3VwZGF0ZSgpO1xuICB9LFxuICB0b2dnbGUoZSkge1xuICAgIGlmICh0eXBlb2YgZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aGlzLl9idXR0b24udG9nZ2xlU3RhdHVzID0gZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uLnRvZ2dsZVN0YXR1cyA9ICF0aGlzLl9idXR0b24udG9nZ2xlU3RhdHVzO1xuICAgIH1cbiAgICB0aGlzLl9hcHBseVN0eWxlQ2xhc3NlcygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2J1dHRvbi50b2dnbGVTdGF0dXM7XG4gIH0sXG4gIHRvZ2dsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2J1dHRvbi50b2dnbGVTdGF0dXM7XG4gIH0sXG4gIG9uQ3JlYXRlKCkge1xuICAgIHRoaXMudG9nZ2xlKGZhbHNlKTtcbiAgfSxcbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLnRvZ2dsZShmYWxzZSk7IC8vIGlzIG5lZWRlZCB0byBwcmV2ZW50IGFjdGl2ZSBidXR0b24gZGlzYWJsZWRcbiAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuX3VwZGF0ZURpc2FibGVkKCk7XG4gIH0sXG4gIGVuYWJsZSgpIHtcbiAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl91cGRhdGVEaXNhYmxlZCgpO1xuICB9LFxuICBfdHJpZ2dlckNsaWNrKGUpIHtcbiAgICBpZiAoZSkge1xuICAgICAgLy8gaXMgbmVlZGVkIHRvIHByZXZlbnQgc2Nyb2xsaW5nIHdoZW4gY2xpY2tpbmcgb24gYS1lbGVtZW50IHdpdGggaHJlZj1cImFcIlxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFRPRE8gaXMgdGhpcyBhIGJpZyBjaGFuZ2Ugd2hlbiB3ZSBjaGFuZ2UgZnJvbSBlIHRvIGEgb2JqZWN0IHdpdGggdGhlIGV2ZW50IGFuZCB0aGUgYnV0dG9uPyBOb3cgaXQncyB0aGUgc2Vjb25kIGFyZ3VtZW50XG4gICAgdGhpcy5fYnV0dG9uLm9uQ2xpY2soZSwgeyBidXR0b246IHRoaXMsIGV2ZW50OiBlIH0pO1xuICAgIHRoaXMuX2NsaWNrZWQoZSk7XG4gICAgdGhpcy5fYnV0dG9uLmFmdGVyQ2xpY2soZSwgeyBidXR0b246IHRoaXMsIGV2ZW50OiBlIH0pO1xuICB9LFxuICBfbWFrZUJ1dHRvbihidXR0b24pIHtcbiAgICBjb25zdCBwb3MgPSB0aGlzLm9wdGlvbnMucG9zaXRpb24uaW5kZXhPZigncmlnaHQnKSA+IC0xID8gJ3Bvcy1yaWdodCcgOiAnJztcblxuICAgIC8vIGJ1dHRvbiBjb250YWluZXJcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKFxuICAgICAgJ2RpdicsXG4gICAgICBgYnV0dG9uLWNvbnRhaW5lciAgJHtwb3N9YCxcbiAgICAgIHRoaXMuX2NvbnRhaW5lclxuICAgICk7XG5cbiAgICBpZiAoYnV0dG9uLnRpdGxlKSB7XG4gICAgICBidXR0b25Db250YWluZXIuc2V0QXR0cmlidXRlKCd0aXRsZScsIGJ1dHRvbi50aXRsZSk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGJ1dHRvbiBpdHNlbGZcbiAgICBjb25zdCBuZXdCdXR0b24gPSBMLkRvbVV0aWwuY3JlYXRlKFxuICAgICAgJ2EnLFxuICAgICAgJ2xlYWZsZXQtYnV0dG9ucy1jb250cm9sLWJ1dHRvbicsXG4gICAgICBidXR0b25Db250YWluZXJcbiAgICApO1xuICAgIG5ld0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgbmV3QnV0dG9uLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgIG5ld0J1dHRvbi5ocmVmID0gJyMnO1xuXG4gICAgLy8gdGhlIGJ1dHRvbnMgYWN0aW9uc1xuICAgIGNvbnN0IGFjdGlvbkNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoXG4gICAgICAnZGl2JyxcbiAgICAgIGBsZWFmbGV0LXBtLWFjdGlvbnMtY29udGFpbmVyICR7cG9zfWAsXG4gICAgICBidXR0b25Db250YWluZXJcbiAgICApO1xuXG4gICAgY29uc3QgYWN0aXZlQWN0aW9ucyA9IGJ1dHRvbi5hY3Rpb25zO1xuXG4gICAgY29uc3QgYWN0aW9ucyA9IHtcbiAgICAgIGNhbmNlbDoge1xuICAgICAgICB0ZXh0OiBnZXRUcmFuc2xhdGlvbignYWN0aW9ucy5jYW5jZWwnKSxcbiAgICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdhY3Rpb25zLmNhbmNlbCcpLFxuICAgICAgICBvbkNsaWNrKCkge1xuICAgICAgICAgIHRoaXMuX3RyaWdnZXJDbGljaygpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGZpbmlzaE1vZGU6IHtcbiAgICAgICAgdGV4dDogZ2V0VHJhbnNsYXRpb24oJ2FjdGlvbnMuZmluaXNoJyksXG4gICAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYWN0aW9ucy5maW5pc2gnKSxcbiAgICAgICAgb25DbGljaygpIHtcbiAgICAgICAgICB0aGlzLl90cmlnZ2VyQ2xpY2soKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICByZW1vdmVMYXN0VmVydGV4OiB7XG4gICAgICAgIHRleHQ6IGdldFRyYW5zbGF0aW9uKCdhY3Rpb25zLnJlbW92ZUxhc3RWZXJ0ZXgnKSxcbiAgICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdhY3Rpb25zLnJlbW92ZUxhc3RWZXJ0ZXgnKSxcbiAgICAgICAgb25DbGljaygpIHtcbiAgICAgICAgICB0aGlzLl9tYXAucG0uRHJhd1tidXR0b24uanNDbGFzc10uX3JlbW92ZUxhc3RWZXJ0ZXgoKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmaW5pc2g6IHtcbiAgICAgICAgdGV4dDogZ2V0VHJhbnNsYXRpb24oJ2FjdGlvbnMuZmluaXNoJyksXG4gICAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYWN0aW9ucy5maW5pc2gnKSxcbiAgICAgICAgb25DbGljayhlKSB7XG4gICAgICAgICAgdGhpcy5fbWFwLnBtLkRyYXdbYnV0dG9uLmpzQ2xhc3NdLl9maW5pc2hTaGFwZShlKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGFjdGl2ZUFjdGlvbnMuZm9yRWFjaCgoX2FjdGlvbikgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IHR5cGVvZiBfYWN0aW9uID09PSAnc3RyaW5nJyA/IF9hY3Rpb24gOiBfYWN0aW9uLm5hbWU7XG4gICAgICBsZXQgYWN0aW9uO1xuICAgICAgaWYgKGFjdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgYWN0aW9uID0gYWN0aW9uc1tuYW1lXTtcbiAgICAgIH0gZWxzZSBpZiAoX2FjdGlvbi50ZXh0KSB7XG4gICAgICAgIGFjdGlvbiA9IF9hY3Rpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBhY3Rpb25Ob2RlID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICAgJ2EnLFxuICAgICAgICBgbGVhZmxldC1wbS1hY3Rpb24gJHtwb3N9IGFjdGlvbi0ke25hbWV9YCxcbiAgICAgICAgYWN0aW9uQ29udGFpbmVyXG4gICAgICApO1xuICAgICAgYWN0aW9uTm9kZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgICBhY3Rpb25Ob2RlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgYWN0aW9uTm9kZS5ocmVmID0gJyMnO1xuXG4gICAgICBpZiAoYWN0aW9uLnRpdGxlKSB7XG4gICAgICAgIGFjdGlvbk5vZGUudGl0bGUgPSBhY3Rpb24udGl0bGU7XG4gICAgICB9XG5cbiAgICAgIGFjdGlvbk5vZGUuaW5uZXJIVE1MID0gYWN0aW9uLnRleHQ7XG5cbiAgICAgIEwuRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24oYWN0aW9uTm9kZSk7XG4gICAgICBMLkRvbUV2ZW50Lm9uKGFjdGlvbk5vZGUsICdjbGljaycsIEwuRG9tRXZlbnQuc3RvcCk7XG5cbiAgICAgIGlmICghYnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICAgIGlmIChhY3Rpb24ub25DbGljaykge1xuICAgICAgICAgIGNvbnN0IGFjdGlvbkNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIC8vIGlzIG5lZWRlZCB0byBwcmV2ZW50IHNjcm9sbGluZyB3aGVuIGNsaWNraW5nIG9uIGEtZWxlbWVudCB3aXRoIGhyZWY9XCJhXCJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGxldCBidG5OYW1lID0gJyc7XG4gICAgICAgICAgICBjb25zdCB7IGJ1dHRvbnMgfSA9IHRoaXMuX21hcC5wbS5Ub29sYmFyO1xuICAgICAgICAgICAgZm9yIChjb25zdCBidG4gaW4gYnV0dG9ucykge1xuICAgICAgICAgICAgICBpZiAoYnV0dG9uc1tidG5dLl9idXR0b24gPT09IGJ1dHRvbikge1xuICAgICAgICAgICAgICAgIGJ0bk5hbWUgPSBidG47XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ZpcmVBY3Rpb25DbGljayhhY3Rpb24sIGJ0bk5hbWUsIGJ1dHRvbik7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIEwuRG9tRXZlbnQuYWRkTGlzdGVuZXIoYWN0aW9uTm9kZSwgJ2NsaWNrJywgYWN0aW9uQ2xpY2ssIHRoaXMpO1xuICAgICAgICAgIEwuRG9tRXZlbnQuYWRkTGlzdGVuZXIoYWN0aW9uTm9kZSwgJ2NsaWNrJywgYWN0aW9uLm9uQ2xpY2ssIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoYnV0dG9uLnRvZ2dsZVN0YXR1cykge1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKGJ1dHRvbkNvbnRhaW5lciwgJ2FjdGl2ZScpO1xuICAgIH1cblxuICAgIGNvbnN0IGltYWdlID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2NvbnRyb2wtaWNvbicsIG5ld0J1dHRvbik7XG5cbiAgICBpZiAoYnV0dG9uLmljb25VcmwpIHtcbiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgYnV0dG9uLmljb25VcmwpO1xuICAgIH1cbiAgICBpZiAoYnV0dG9uLmNsYXNzTmFtZSkge1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKGltYWdlLCBidXR0b24uY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKG5ld0J1dHRvbik7XG4gICAgTC5Eb21FdmVudC5vbihuZXdCdXR0b24sICdjbGljaycsIEwuRG9tRXZlbnQuc3RvcCk7XG5cbiAgICBpZiAoIWJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgLy8gYmVmb3JlIHRoZSBhY3R1YWwgY2xpY2ssIHRyaWdnZXIgYSBjbGljayBvbiBjdXJyZW50bHkgdG9nZ2xlZCBidXR0b25zIHRvXG4gICAgICAvLyB1bnRvZ2dsZSB0aGVtIGFuZCB0aGVpciBmdW5jdGlvbmFsaXR5XG4gICAgICBMLkRvbUV2ZW50LmFkZExpc3RlbmVyKG5ld0J1dHRvbiwgJ2NsaWNrJywgdGhpcy5fb25CdG5DbGljaywgdGhpcyk7XG4gICAgICBMLkRvbUV2ZW50LmFkZExpc3RlbmVyKG5ld0J1dHRvbiwgJ2NsaWNrJywgdGhpcy5fdHJpZ2dlckNsaWNrLCB0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAoYnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3MobmV3QnV0dG9uLCAncG0tZGlzYWJsZWQnKTtcbiAgICAgIG5ld0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIH1cblxuICAgIHJldHVybiBidXR0b25Db250YWluZXI7XG4gIH0sXG5cbiAgX2FwcGx5U3R5bGVDbGFzc2VzKCkge1xuICAgIGlmICghdGhpcy5fY29udGFpbmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9idXR0b24udG9nZ2xlU3RhdHVzIHx8IHRoaXMuX2J1dHRvbi5jc3NUb2dnbGUgPT09IGZhbHNlKSB7XG4gICAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5idXR0b25zRG9tTm9kZSwgJ2FjdGl2ZScpO1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2FjdGl2ZUNoaWxkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLmJ1dHRvbnNEb21Ob2RlLCAnYWN0aXZlJyk7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnYWN0aXZlQ2hpbGQnKTtcbiAgICB9XG4gIH0sXG5cbiAgX29uQnRuQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuX2J1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYnV0dG9uLmRpc2FibGVPdGhlckJ1dHRvbnMpIHtcbiAgICAgIHRoaXMuX21hcC5wbS5Ub29sYmFyLnRyaWdnZXJDbGlja09uVG9nZ2xlZEJ1dHRvbnModGhpcyk7XG4gICAgfVxuICAgIGxldCBidG5OYW1lID0gJyc7XG4gICAgY29uc3QgeyBidXR0b25zIH0gPSB0aGlzLl9tYXAucG0uVG9vbGJhcjtcbiAgICBmb3IgKGNvbnN0IGJ0biBpbiBidXR0b25zKSB7XG4gICAgICBpZiAoYnV0dG9uc1tidG5dLl9idXR0b24gPT09IHRoaXMuX2J1dHRvbikge1xuICAgICAgICBidG5OYW1lID0gYnRuO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fZmlyZUJ1dHRvbkNsaWNrKGJ0bk5hbWUsIHRoaXMuX2J1dHRvbik7XG4gIH0sXG5cbiAgX2NsaWNrZWQoKSB7XG4gICAgaWYgKHRoaXMuX2J1dHRvbi5kb1RvZ2dsZSkge1xuICAgICAgdGhpcy50b2dnbGUoKTtcbiAgICB9XG4gIH0sXG5cbiAgX3VwZGF0ZURpc2FibGVkKCkge1xuICAgIGlmICghdGhpcy5fY29udGFpbmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2xhc3NOYW1lID0gJ3BtLWRpc2FibGVkJztcbiAgICBjb25zdCBidXR0b24gPSB0aGlzLmJ1dHRvbnNEb21Ob2RlLmNoaWxkcmVuWzBdO1xuXG4gICAgaWYgKHRoaXMuX2J1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKGJ1dHRvbiwgY2xhc3NOYW1lKTtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3MoYnV0dG9uLCBjbGFzc05hbWUpO1xuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuICAgIH1cbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQTUJ1dHRvbjtcbiIsICJpbXBvcnQgUE1CdXR0b24gZnJvbSAnLi9MLkNvbnRyb2xzJztcblxuaW1wb3J0IHsgZ2V0VHJhbnNsYXRpb24gfSBmcm9tICcuLi9oZWxwZXJzJztcblxuTC5Db250cm9sLlBNQnV0dG9uID0gUE1CdXR0b247XG5cbmNvbnN0IFRvb2xiYXIgPSBMLkNsYXNzLmV4dGVuZCh7XG4gIG9wdGlvbnM6IHtcbiAgICBkcmF3TWFya2VyOiB0cnVlLFxuICAgIGRyYXdSZWN0YW5nbGU6IHRydWUsXG4gICAgZHJhd1BvbHlsaW5lOiB0cnVlLFxuICAgIGRyYXdQb2x5Z29uOiB0cnVlLFxuICAgIGRyYXdDaXJjbGU6IHRydWUsXG4gICAgZHJhd0NpcmNsZU1hcmtlcjogdHJ1ZSxcbiAgICBkcmF3VGV4dDogdHJ1ZSxcbiAgICBlZGl0TW9kZTogdHJ1ZSxcbiAgICBkcmFnTW9kZTogdHJ1ZSxcbiAgICBjdXRQb2x5Z29uOiB0cnVlLFxuICAgIHJlbW92YWxNb2RlOiB0cnVlLFxuICAgIHJvdGF0ZU1vZGU6IHRydWUsXG4gICAgc25hcHBpbmdPcHRpb246IHRydWUsXG4gICAgZHJhd0NvbnRyb2xzOiB0cnVlLFxuICAgIGVkaXRDb250cm9sczogdHJ1ZSxcbiAgICBvcHRpb25zQ29udHJvbHM6IHRydWUsXG4gICAgY3VzdG9tQ29udHJvbHM6IHRydWUsXG4gICAgb25lQmxvY2s6IGZhbHNlLFxuICAgIHBvc2l0aW9uOiAndG9wbGVmdCcsXG4gICAgcG9zaXRpb25zOiB7XG4gICAgICBkcmF3OiAnJyxcbiAgICAgIGVkaXQ6ICcnLFxuICAgICAgb3B0aW9uczogJycsXG4gICAgICBjdXN0b206ICcnLFxuICAgIH0sXG4gIH0sXG4gIGN1c3RvbUJ1dHRvbnM6IFtdLFxuICBpbml0aWFsaXplKG1hcCkge1xuICAgIC8vIEZvciBzb21lIHJlYXNvbiB0aGVyZSBpcyBhbiByZWZlcmVuY2UgYmV0d2VlbiBtdWx0aXBsZSBtYXBzIGluc3RhbmNlc1xuICAgIHRoaXMuY3VzdG9tQnV0dG9ucyA9IFtdO1xuICAgIHRoaXMub3B0aW9ucy5wb3NpdGlvbnMgPSB7XG4gICAgICBkcmF3OiAnJyxcbiAgICAgIGVkaXQ6ICcnLFxuICAgICAgb3B0aW9uczogJycsXG4gICAgICBjdXN0b206ICcnLFxuICAgIH07XG5cbiAgICB0aGlzLmluaXQobWFwKTtcbiAgfSxcbiAgcmVpbml0KCkge1xuICAgIGNvbnN0IGFkZENvbnRyb2xzID0gdGhpcy5pc1Zpc2libGU7XG5cbiAgICB0aGlzLnJlbW92ZUNvbnRyb2xzKCk7XG4gICAgdGhpcy5fZGVmaW5lQnV0dG9ucygpO1xuXG4gICAgaWYgKGFkZENvbnRyb2xzKSB7XG4gICAgICB0aGlzLmFkZENvbnRyb2xzKCk7XG4gICAgfVxuICB9LFxuICBpbml0KG1hcCkge1xuICAgIHRoaXMubWFwID0gbWFwO1xuXG4gICAgdGhpcy5idXR0b25zID0ge307XG4gICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICB0aGlzLmRyYXdDb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKFxuICAgICAgJ2RpdicsXG4gICAgICAnbGVhZmxldC1wbS10b29sYmFyIGxlYWZsZXQtcG0tZHJhdyBsZWFmbGV0LWJhciBsZWFmbGV0LWNvbnRyb2wnXG4gICAgKTtcbiAgICB0aGlzLmVkaXRDb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKFxuICAgICAgJ2RpdicsXG4gICAgICAnbGVhZmxldC1wbS10b29sYmFyIGxlYWZsZXQtcG0tZWRpdCBsZWFmbGV0LWJhciBsZWFmbGV0LWNvbnRyb2wnXG4gICAgKTtcbiAgICB0aGlzLm9wdGlvbnNDb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKFxuICAgICAgJ2RpdicsXG4gICAgICAnbGVhZmxldC1wbS10b29sYmFyIGxlYWZsZXQtcG0tb3B0aW9ucyBsZWFmbGV0LWJhciBsZWFmbGV0LWNvbnRyb2wnXG4gICAgKTtcbiAgICB0aGlzLmN1c3RvbUNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoXG4gICAgICAnZGl2JyxcbiAgICAgICdsZWFmbGV0LXBtLXRvb2xiYXIgbGVhZmxldC1wbS1jdXN0b20gbGVhZmxldC1iYXIgbGVhZmxldC1jb250cm9sJ1xuICAgICk7XG5cbiAgICB0aGlzLl9kZWZpbmVCdXR0b25zKCk7XG4gIH0sXG4gIF9jcmVhdGVDb250YWluZXIobmFtZSkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGAke25hbWV9Q29udGFpbmVyYDtcbiAgICBpZiAoIXRoaXNbY29udGFpbmVyXSkge1xuICAgICAgdGhpc1tjb250YWluZXJdID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIGBsZWFmbGV0LXBtLXRvb2xiYXIgbGVhZmxldC1wbS0ke25hbWV9IGxlYWZsZXQtYmFyIGxlYWZsZXQtY29udHJvbGBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzW2NvbnRhaW5lcl07XG4gIH0sXG4gIGdldEJ1dHRvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYnV0dG9ucztcbiAgfSxcblxuICBhZGRDb250cm9scyhvcHRpb25zID0gdGhpcy5vcHRpb25zKSB7XG4gICAgLy8gYWRkcyBhbGwgYnV0dG9ucyB0byB0aGUgbWFwIHNwZWNpZmllZCBpbnNpZGUgb3B0aW9uc1xuXG4gICAgLy8gbWFrZSBidXR0b24gcmVuYW1pbmcgYmFja3dhcmRzIGNvbXBhdGlibGVcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZWRpdFBvbHlnb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvcHRpb25zLmVkaXRNb2RlID0gb3B0aW9ucy5lZGl0UG9seWdvbjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmRlbGV0ZUxheWVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgb3B0aW9ucy5yZW1vdmFsTW9kZSA9IG9wdGlvbnMuZGVsZXRlTGF5ZXI7XG4gICAgfVxuXG4gICAgLy8gZmlyc3Qgc2V0IHRoZSBvcHRpb25zXG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLmFwcGx5SWNvblN0eWxlKCk7XG5cbiAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgLy8gbm93IHNob3cgdGhlIHNwZWNpZmllZCBidXR0b25zXG4gICAgdGhpcy5fc2hvd0hpZGVCdXR0b25zKCk7XG4gIH0sXG4gIGFwcGx5SWNvblN0eWxlKCkge1xuICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLmdldEJ1dHRvbnMoKTtcblxuICAgIGNvbnN0IGljb25DbGFzc2VzID0ge1xuICAgICAgZ2VvbWFuSWNvbnM6IHtcbiAgICAgICAgZHJhd01hcmtlcjogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tbWFya2VyJyxcbiAgICAgICAgZHJhd1BvbHlsaW5lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1wb2x5bGluZScsXG4gICAgICAgIGRyYXdSZWN0YW5nbGU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLXJlY3RhbmdsZScsXG4gICAgICAgIGRyYXdQb2x5Z29uOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1wb2x5Z29uJyxcbiAgICAgICAgZHJhd0NpcmNsZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tY2lyY2xlJyxcbiAgICAgICAgZHJhd0NpcmNsZU1hcmtlcjogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tY2lyY2xlLW1hcmtlcicsXG4gICAgICAgIGVkaXRNb2RlOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1lZGl0JyxcbiAgICAgICAgZHJhZ01vZGU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWRyYWcnLFxuICAgICAgICBjdXRQb2x5Z29uOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1jdXQnLFxuICAgICAgICByZW1vdmFsTW9kZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tZGVsZXRlJyxcbiAgICAgICAgZHJhd1RleHQ6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLXRleHQnLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCBuYW1lIGluIGJ1dHRvbnMpIHtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGJ1dHRvbnNbbmFtZV07XG5cbiAgICAgIEwuVXRpbC5zZXRPcHRpb25zKGJ1dHRvbiwge1xuICAgICAgICBjbGFzc05hbWU6IGljb25DbGFzc2VzLmdlb21hbkljb25zW25hbWVdLFxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICByZW1vdmVDb250cm9scygpIHtcbiAgICAvLyBncmFiIGFsbCBidXR0b25zIHRvIGxvb3AgdGhyb3VnaFxuICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLmdldEJ1dHRvbnMoKTtcblxuICAgIC8vIHJlbW92ZSBhbGwgYnV0dG9uc1xuICAgIGZvciAoY29uc3QgYnRuIGluIGJ1dHRvbnMpIHtcbiAgICAgIGJ1dHRvbnNbYnRuXS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICB9LFxuICB0b2dnbGVDb250cm9scyhvcHRpb25zID0gdGhpcy5vcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICB0aGlzLnJlbW92ZUNvbnRyb2xzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkQ29udHJvbHMob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuICBfYWRkQnV0dG9uKG5hbWUsIGJ1dHRvbikge1xuICAgIHRoaXMuYnV0dG9uc1tuYW1lXSA9IGJ1dHRvbjtcbiAgICB0aGlzLm9wdGlvbnNbbmFtZV0gPSAhIXRoaXMub3B0aW9uc1tuYW1lXSB8fCBmYWxzZTtcblxuICAgIHJldHVybiB0aGlzLmJ1dHRvbnNbbmFtZV07XG4gIH0sXG4gIHRyaWdnZXJDbGlja09uVG9nZ2xlZEJ1dHRvbnMoZXhjZXB0VGhpc0J1dHRvbikge1xuICAgIC8vIHRoaXMgZnVuY3Rpb24gaXMgdXNlZCB3aGVuIC0gZS5nLiBkcmF3aW5nIG1vZGUgaXMgZW5hYmxlZCBhbmQgYSBwb3NzaWJsZVxuICAgIC8vIG90aGVyIGFjdGl2ZSBtb2RlIChsaWtlIHJlbW92YWwgdG9vbCkgaXMgYWxyZWFkeSBhY3RpdmUuXG4gICAgLy8gd2UgY2FuJ3QgaGF2ZSB0d28gYWN0aXZlIG1vZGVzIGJlY2F1c2Ugb2YgcG9zc2libGUgZXZlbnQgY29uZmxpY3RzXG4gICAgLy8gc28sIHdlIHRyaWdnZXIgYSBjbGljayBvbiBhbGwgY3VycmVudGx5IGFjdGl2ZSAodG9nZ2xlZCkgYnV0dG9uc1xuXG4gICAgZm9yIChjb25zdCBuYW1lIGluIHRoaXMuYnV0dG9ucykge1xuICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5idXR0b25zW25hbWVdO1xuICAgICAgaWYgKFxuICAgICAgICBidXR0b24uX2J1dHRvbi5kaXNhYmxlQnlPdGhlckJ1dHRvbnMgJiZcbiAgICAgICAgYnV0dG9uICE9PSBleGNlcHRUaGlzQnV0dG9uICYmXG4gICAgICAgIGJ1dHRvbi50b2dnbGVkKClcbiAgICAgICkge1xuICAgICAgICBidXR0b24uX3RyaWdnZXJDbGljaygpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgdG9nZ2xlQnV0dG9uKG5hbWUsIHN0YXR1cywgZGlzYWJsZU90aGVycyA9IHRydWUpIHtcbiAgICAvLyBkb2VzIG5vdCBmaXJlIHRoZSBldmVudHMvZnVuY3Rpb25hbGl0eSBvZiB0aGUgYnV0dG9uXG4gICAgLy8gdGhpcyBqdXN0IGNoYW5nZXMgdGhlIHN0YXRlIGFuZCBpcyB1c2VkIGlmIGEgZnVuY3Rpb25hbGl0eSAobGlrZSBEcmF3KVxuICAgIC8vIGlzIGVuYWJsZWQgbWFudWFsbHkgdmlhIHNjcmlwdFxuXG4gICAgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBidXR0b24gcmVuYW1lXG4gICAgaWYgKG5hbWUgPT09ICdlZGl0UG9seWdvbicpIHtcbiAgICAgIG5hbWUgPSAnZWRpdE1vZGUnO1xuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ2RlbGV0ZUxheWVyJykge1xuICAgICAgbmFtZSA9ICdyZW1vdmFsTW9kZSc7XG4gICAgfVxuXG4gICAgLy8gYXMgc29tZSBtb2RlIGdvdCBlbmFibGVkLCB3ZSBzdGlsbCBoYXZlIHRvIHRyaWdnZXIgdGhlIGNsaWNrIG9uIHRoZSBvdGhlciBidXR0b25zXG4gICAgLy8gdG8gZGlzYWJsZSB0aGVpciBtb2RlXG4gICAgaWYgKGRpc2FibGVPdGhlcnMpIHtcbiAgICAgIHRoaXMudHJpZ2dlckNsaWNrT25Ub2dnbGVkQnV0dG9ucyh0aGlzLmJ1dHRvbnNbbmFtZV0pO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5idXR0b25zW25hbWVdKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIG5vdyB0b2dnbGUgdGhlIHN0YXRlIG9mIHRoZSBidXR0b25cbiAgICByZXR1cm4gdGhpcy5idXR0b25zW25hbWVdLnRvZ2dsZShzdGF0dXMpO1xuICB9LFxuICBfZGVmaW5lQnV0dG9ucygpIHtcbiAgICAvLyBzb21lIGJ1dHRvbnMgYXJlIHN0aWxsIGluIHRoZWlyIHJlc3BlY3RpdmUgY2xhc3NlcywgbGlrZSBMLlBNLkRyYXcuUG9seWdvblxuICAgIGNvbnN0IGRyYXdNYXJrZXJCdXR0b24gPSB7XG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLW1hcmtlcicsXG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5kcmF3TWFya2VyQnV0dG9uJyksXG4gICAgICBqc0NsYXNzOiAnTWFya2VyJyxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHt9LFxuICAgICAgYWZ0ZXJDbGljazogKGUsIGN0eCkgPT4ge1xuICAgICAgICAvLyB0b2dnbGUgZHJhd2luZyBtb2RlXG4gICAgICAgIHRoaXMubWFwLnBtLkRyYXdbY3R4LmJ1dHRvbi5fYnV0dG9uLmpzQ2xhc3NdLnRvZ2dsZSgpO1xuICAgICAgfSxcbiAgICAgIGRvVG9nZ2xlOiB0cnVlLFxuICAgICAgdG9nZ2xlU3RhdHVzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdGhlckJ1dHRvbnM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgYWN0aW9uczogWydjYW5jZWwnXSxcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhd1BvbHlCdXR0b24gPSB7XG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5kcmF3UG9seUJ1dHRvbicpLFxuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1wb2x5Z29uJyxcbiAgICAgIGpzQ2xhc3M6ICdQb2x5Z29uJyxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHt9LFxuICAgICAgYWZ0ZXJDbGljazogKGUsIGN0eCkgPT4ge1xuICAgICAgICAvLyB0b2dnbGUgZHJhd2luZyBtb2RlXG4gICAgICAgIHRoaXMubWFwLnBtLkRyYXdbY3R4LmJ1dHRvbi5fYnV0dG9uLmpzQ2xhc3NdLnRvZ2dsZSgpO1xuICAgICAgfSxcbiAgICAgIGRvVG9nZ2xlOiB0cnVlLFxuICAgICAgdG9nZ2xlU3RhdHVzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdGhlckJ1dHRvbnM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgYWN0aW9uczogWydmaW5pc2gnLCAncmVtb3ZlTGFzdFZlcnRleCcsICdjYW5jZWwnXSxcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhd0xpbmVCdXR0b24gPSB7XG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLXBvbHlsaW5lJyxcbiAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYnV0dG9uVGl0bGVzLmRyYXdMaW5lQnV0dG9uJyksXG4gICAgICBqc0NsYXNzOiAnTGluZScsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnZmluaXNoJywgJ3JlbW92ZUxhc3RWZXJ0ZXgnLCAnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdDaXJjbGVCdXR0b24gPSB7XG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5kcmF3Q2lyY2xlQnV0dG9uJyksXG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWNpcmNsZScsXG4gICAgICBqc0NsYXNzOiAnQ2lyY2xlJyxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHt9LFxuICAgICAgYWZ0ZXJDbGljazogKGUsIGN0eCkgPT4ge1xuICAgICAgICAvLyB0b2dnbGUgZHJhd2luZyBtb2RlXG4gICAgICAgIHRoaXMubWFwLnBtLkRyYXdbY3R4LmJ1dHRvbi5fYnV0dG9uLmpzQ2xhc3NdLnRvZ2dsZSgpO1xuICAgICAgfSxcbiAgICAgIGRvVG9nZ2xlOiB0cnVlLFxuICAgICAgdG9nZ2xlU3RhdHVzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdGhlckJ1dHRvbnM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgYWN0aW9uczogWydjYW5jZWwnXSxcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhd0NpcmNsZU1hcmtlckJ1dHRvbiA9IHtcbiAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYnV0dG9uVGl0bGVzLmRyYXdDaXJjbGVNYXJrZXJCdXR0b24nKSxcbiAgICAgIGNsYXNzTmFtZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tY2lyY2xlLW1hcmtlcicsXG4gICAgICBqc0NsYXNzOiAnQ2lyY2xlTWFya2VyJyxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHt9LFxuICAgICAgYWZ0ZXJDbGljazogKGUsIGN0eCkgPT4ge1xuICAgICAgICAvLyB0b2dnbGUgZHJhd2luZyBtb2RlXG4gICAgICAgIHRoaXMubWFwLnBtLkRyYXdbY3R4LmJ1dHRvbi5fYnV0dG9uLmpzQ2xhc3NdLnRvZ2dsZSgpO1xuICAgICAgfSxcbiAgICAgIGRvVG9nZ2xlOiB0cnVlLFxuICAgICAgdG9nZ2xlU3RhdHVzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdGhlckJ1dHRvbnM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgYWN0aW9uczogWydjYW5jZWwnXSxcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhd1JlY3RCdXR0b24gPSB7XG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5kcmF3UmVjdEJ1dHRvbicpLFxuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1yZWN0YW5nbGUnLFxuICAgICAganNDbGFzczogJ1JlY3RhbmdsZScsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGVkaXRCdXR0b24gPSB7XG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5lZGl0QnV0dG9uJyksXG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWVkaXQnLFxuICAgICAgb25DbGljazogKCkgPT4ge30sXG4gICAgICBhZnRlckNsaWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMubWFwLnBtLnRvZ2dsZUdsb2JhbEVkaXRNb2RlKCk7XG4gICAgICB9LFxuICAgICAgZG9Ub2dnbGU6IHRydWUsXG4gICAgICB0b2dnbGVTdGF0dXM6IGZhbHNlLFxuICAgICAgZGlzYWJsZU90aGVyQnV0dG9uczogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb24sXG4gICAgICB0b29sOiAnZWRpdCcsXG4gICAgICBhY3Rpb25zOiBbJ2ZpbmlzaE1vZGUnXSxcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhZ0J1dHRvbiA9IHtcbiAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYnV0dG9uVGl0bGVzLmRyYWdCdXR0b24nKSxcbiAgICAgIGNsYXNzTmFtZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tZHJhZycsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5tYXAucG0udG9nZ2xlR2xvYmFsRHJhZ01vZGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIHRvb2w6ICdlZGl0JyxcbiAgICAgIGFjdGlvbnM6IFsnZmluaXNoTW9kZSddLFxuICAgIH07XG5cbiAgICBjb25zdCBjdXRCdXR0b24gPSB7XG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5jdXRCdXR0b24nKSxcbiAgICAgIGNsYXNzTmFtZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tY3V0JyxcbiAgICAgIGpzQ2xhc3M6ICdDdXQnLFxuICAgICAgb25DbGljazogKCkgPT4ge30sXG4gICAgICBhZnRlckNsaWNrOiAoZSwgY3R4KSA9PiB7XG4gICAgICAgIC8vIGVuYWJsZSBwb2x5Z29uIGRyYXdpbmcgbW9kZSB3aXRob3V0IHNuYXBcbiAgICAgICAgdGhpcy5tYXAucG0uRHJhd1tjdHguYnV0dG9uLl9idXR0b24uanNDbGFzc10udG9nZ2xlKHtcbiAgICAgICAgICBzbmFwcGFibGU6IHRydWUsXG4gICAgICAgICAgY3Vyc29yTWFya2VyOiB0cnVlLFxuICAgICAgICAgIGFsbG93U2VsZkludGVyc2VjdGlvbjogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGRvVG9nZ2xlOiB0cnVlLFxuICAgICAgdG9nZ2xlU3RhdHVzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdGhlckJ1dHRvbnM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgdG9vbDogJ2VkaXQnLFxuICAgICAgYWN0aW9uczogWydmaW5pc2gnLCAncmVtb3ZlTGFzdFZlcnRleCcsICdjYW5jZWwnXSxcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZGVsZXRlQnV0dG9uJyksXG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWRlbGV0ZScsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5tYXAucG0udG9nZ2xlR2xvYmFsUmVtb3ZhbE1vZGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIHRvb2w6ICdlZGl0JyxcbiAgICAgIGFjdGlvbnM6IFsnZmluaXNoTW9kZSddLFxuICAgIH07XG5cbiAgICBjb25zdCByb3RhdGVCdXR0b24gPSB7XG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5yb3RhdGVCdXR0b24nKSxcbiAgICAgIGNsYXNzTmFtZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tcm90YXRlJyxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHt9LFxuICAgICAgYWZ0ZXJDbGljazogKCkgPT4ge1xuICAgICAgICB0aGlzLm1hcC5wbS50b2dnbGVHbG9iYWxSb3RhdGVNb2RlKCk7XG4gICAgICB9LFxuICAgICAgZG9Ub2dnbGU6IHRydWUsXG4gICAgICB0b2dnbGVTdGF0dXM6IGZhbHNlLFxuICAgICAgZGlzYWJsZU90aGVyQnV0dG9uczogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb24sXG4gICAgICB0b29sOiAnZWRpdCcsXG4gICAgICBhY3Rpb25zOiBbJ2ZpbmlzaE1vZGUnXSxcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhd1RleHRCdXR0b24gPSB7XG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLXRleHQnLFxuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZHJhd1RleHRCdXR0b24nKSxcbiAgICAgIGpzQ2xhc3M6ICdUZXh0JyxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHt9LFxuICAgICAgYWZ0ZXJDbGljazogKGUsIGN0eCkgPT4ge1xuICAgICAgICAvLyB0b2dnbGUgZHJhd2luZyBtb2RlXG4gICAgICAgIHRoaXMubWFwLnBtLkRyYXdbY3R4LmJ1dHRvbi5fYnV0dG9uLmpzQ2xhc3NdLnRvZ2dsZSgpO1xuICAgICAgfSxcbiAgICAgIGRvVG9nZ2xlOiB0cnVlLFxuICAgICAgdG9nZ2xlU3RhdHVzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdGhlckJ1dHRvbnM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgYWN0aW9uczogWydjYW5jZWwnXSxcbiAgICB9O1xuXG4gICAgdGhpcy5fYWRkQnV0dG9uKCdkcmF3TWFya2VyJywgbmV3IEwuQ29udHJvbC5QTUJ1dHRvbihkcmF3TWFya2VyQnV0dG9uKSk7XG4gICAgdGhpcy5fYWRkQnV0dG9uKCdkcmF3UG9seWxpbmUnLCBuZXcgTC5Db250cm9sLlBNQnV0dG9uKGRyYXdMaW5lQnV0dG9uKSk7XG4gICAgdGhpcy5fYWRkQnV0dG9uKCdkcmF3UmVjdGFuZ2xlJywgbmV3IEwuQ29udHJvbC5QTUJ1dHRvbihkcmF3UmVjdEJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhd1BvbHlnb24nLCBuZXcgTC5Db250cm9sLlBNQnV0dG9uKGRyYXdQb2x5QnV0dG9uKSk7XG4gICAgdGhpcy5fYWRkQnV0dG9uKCdkcmF3Q2lyY2xlJywgbmV3IEwuQ29udHJvbC5QTUJ1dHRvbihkcmF3Q2lyY2xlQnV0dG9uKSk7XG4gICAgdGhpcy5fYWRkQnV0dG9uKFxuICAgICAgJ2RyYXdDaXJjbGVNYXJrZXInLFxuICAgICAgbmV3IEwuQ29udHJvbC5QTUJ1dHRvbihkcmF3Q2lyY2xlTWFya2VyQnV0dG9uKVxuICAgICk7XG4gICAgdGhpcy5fYWRkQnV0dG9uKCdkcmF3VGV4dCcsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZHJhd1RleHRCdXR0b24pKTtcbiAgICB0aGlzLl9hZGRCdXR0b24oJ2VkaXRNb2RlJywgbmV3IEwuQ29udHJvbC5QTUJ1dHRvbihlZGl0QnV0dG9uKSk7XG4gICAgdGhpcy5fYWRkQnV0dG9uKCdkcmFnTW9kZScsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZHJhZ0J1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignY3V0UG9seWdvbicsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oY3V0QnV0dG9uKSk7XG4gICAgdGhpcy5fYWRkQnV0dG9uKCdyZW1vdmFsTW9kZScsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZGVsZXRlQnV0dG9uKSk7XG4gICAgdGhpcy5fYWRkQnV0dG9uKCdyb3RhdGVNb2RlJywgbmV3IEwuQ29udHJvbC5QTUJ1dHRvbihyb3RhdGVCdXR0b24pKTtcbiAgfSxcblxuICBfc2hvd0hpZGVCdXR0b25zKCkge1xuICAgIC8vIGlmIFRvb2xiYXIgaXMgbm90IHZpc2libGUsIHdlIGRvbid0IG5lZWQgdG8gdXBkYXRlIGJ1dHRvbiBwb3NpdGlvbnNcbiAgICBpZiAoIXRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGFsbCBidXR0b25zLCB0aGF0J3MgYmVjYXVzZSB0aGUgVG9vbGJhciBjYW4gYmUgYWRkZWQgYWdhaW4gd2l0aFxuICAgIC8vIGRpZmZlcmVudCBvcHRpb25zIHNvIGl0J3MgYmFzaWNhbGx5IGEgcmVzZXQgYW5kIGFkZCBhZ2FpblxuICAgIHRoaXMucmVtb3ZlQ29udHJvbHMoKTtcbiAgICAvLyB3ZSBuZWVkIHRvIHNldCBpc1Zpc2libGUgPSB0cnVlIGFnYWluLCBiZWNhdXNlIHJlbW92ZUNvbnRyb2xzKCkgc2V0IGl0IHRvIGZhbHNlXG4gICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xuXG4gICAgY29uc3QgYnV0dG9ucyA9IHRoaXMuZ2V0QnV0dG9ucygpO1xuICAgIGxldCBpZ25vcmVCdG5zID0gW107XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRyYXdDb250cm9scyA9PT0gZmFsc2UpIHtcbiAgICAgIGlnbm9yZUJ0bnMgPSBpZ25vcmVCdG5zLmNvbmNhdChcbiAgICAgICAgT2JqZWN0LmtleXMoYnV0dG9ucykuZmlsdGVyKChidG4pID0+ICFidXR0b25zW2J0bl0uX2J1dHRvbi50b29sKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5lZGl0Q29udHJvbHMgPT09IGZhbHNlKSB7XG4gICAgICBpZ25vcmVCdG5zID0gaWdub3JlQnRucy5jb25jYXQoXG4gICAgICAgIE9iamVjdC5rZXlzKGJ1dHRvbnMpLmZpbHRlcihcbiAgICAgICAgICAoYnRuKSA9PiBidXR0b25zW2J0bl0uX2J1dHRvbi50b29sID09PSAnZWRpdCdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5vcHRpb25zQ29udHJvbHMgPT09IGZhbHNlKSB7XG4gICAgICBpZ25vcmVCdG5zID0gaWdub3JlQnRucy5jb25jYXQoXG4gICAgICAgIE9iamVjdC5rZXlzKGJ1dHRvbnMpLmZpbHRlcihcbiAgICAgICAgICAoYnRuKSA9PiBidXR0b25zW2J0bl0uX2J1dHRvbi50b29sID09PSAnb3B0aW9ucydcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jdXN0b21Db250cm9scyA9PT0gZmFsc2UpIHtcbiAgICAgIGlnbm9yZUJ0bnMgPSBpZ25vcmVCdG5zLmNvbmNhdChcbiAgICAgICAgT2JqZWN0LmtleXMoYnV0dG9ucykuZmlsdGVyKFxuICAgICAgICAgIChidG4pID0+IGJ1dHRvbnNbYnRuXS5fYnV0dG9uLnRvb2wgPT09ICdjdXN0b20nXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBidG4gaW4gYnV0dG9ucykge1xuICAgICAgaWYgKHRoaXMub3B0aW9uc1tidG5dICYmIGlnbm9yZUJ0bnMuaW5kZXhPZihidG4pID09PSAtMSkge1xuICAgICAgICAvLyBpZiBvcHRpb25zIHNheSB0aGUgYnV0dG9uIHNob3VsZCBiZSB2aXNpYmxlLCBhZGQgaXQgdG8gdGhlIG1hcFxuICAgICAgICBsZXQgYmxvY2sgPSBidXR0b25zW2J0bl0uX2J1dHRvbi50b29sO1xuICAgICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgICAgLy8gdW5kZWZpbmVkIGlzIHRoZSBkcmF3IGJsb2NrXG4gICAgICAgICAgYmxvY2sgPSAnZHJhdyc7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uc1tidG5dLnNldFBvc2l0aW9uKHRoaXMuX2dldEJ0blBvc2l0aW9uKGJsb2NrKSk7XG4gICAgICAgIGJ1dHRvbnNbYnRuXS5hZGRUbyh0aGlzLm1hcCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfZ2V0QnRuUG9zaXRpb24oYmxvY2spIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9ucyAmJiB0aGlzLm9wdGlvbnMucG9zaXRpb25zW2Jsb2NrXVxuICAgICAgPyB0aGlzLm9wdGlvbnMucG9zaXRpb25zW2Jsb2NrXVxuICAgICAgOiB0aGlzLm9wdGlvbnMucG9zaXRpb247XG4gIH0sXG4gIHNldEJsb2NrUG9zaXRpb24oYmxvY2ssIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5vcHRpb25zLnBvc2l0aW9uc1tibG9ja10gPSBwb3NpdGlvbjtcbiAgICB0aGlzLl9zaG93SGlkZUJ1dHRvbnMoKTtcbiAgICB0aGlzLmNoYW5nZUNvbnRyb2xPcmRlcigpO1xuICB9LFxuICBnZXRCbG9ja1Bvc2l0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9ucztcbiAgfSxcbiAgY29weURyYXdDb250cm9sKGNvcHlJbnN0YW5jZSwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQnV0dG9uIGhhcyBubyBuYW1lJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICAgIC8vIGlmIG9ubHkgdGhlIG5hbWUgaXMgcGFzc2VkIGFuZCBubyBvcHRpb25zIG9iamVjdFxuICAgICAgb3B0aW9ucyA9IHsgbmFtZTogb3B0aW9ucyB9O1xuICAgIH1cblxuICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5fYnRuTmFtZU1hcHBpbmcoY29weUluc3RhbmNlKTtcblxuICAgIGlmICghb3B0aW9ucy5uYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCdXR0b24gaGFzIG5vIG5hbWUnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5idXR0b25zW29wdGlvbnMubmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0J1dHRvbiB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cycpO1xuICAgIH1cbiAgICBjb25zdCBkcmF3SW5zdGFuY2UgPSB0aGlzLm1hcC5wbS5EcmF3LmNyZWF0ZU5ld0RyYXdJbnN0YW5jZShcbiAgICAgIG9wdGlvbnMubmFtZSxcbiAgICAgIGluc3RhbmNlXG4gICAgKTtcblxuICAgIGNvbnN0IGJ0biA9IHRoaXMuYnV0dG9uc1tpbnN0YW5jZV0uX2J1dHRvbjtcbiAgICBvcHRpb25zID0geyAuLi5idG4sIC4uLm9wdGlvbnMgfTtcbiAgICBjb25zdCBjb250cm9sID0gdGhpcy5jcmVhdGVDdXN0b21Db250cm9sKG9wdGlvbnMpO1xuICAgIHJldHVybiB7IGRyYXdJbnN0YW5jZSwgY29udHJvbCB9O1xuICB9LFxuICBjcmVhdGVDdXN0b21Db250cm9sKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMubmFtZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQnV0dG9uIGhhcyBubyBuYW1lJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYnV0dG9uc1tvcHRpb25zLm5hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCdXR0b24gd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMnKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLm9uQ2xpY2spIHtcbiAgICAgIG9wdGlvbnMub25DbGljayA9ICgpID0+IHt9O1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuYWZ0ZXJDbGljaykge1xuICAgICAgb3B0aW9ucy5hZnRlckNsaWNrID0gKCkgPT4ge307XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnRvZ2dsZSAhPT0gZmFsc2UpIHtcbiAgICAgIG9wdGlvbnMudG9nZ2xlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5ibG9jaykge1xuICAgICAgb3B0aW9ucy5ibG9jayA9IG9wdGlvbnMuYmxvY2sudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmJsb2NrIHx8IG9wdGlvbnMuYmxvY2sgPT09ICdkcmF3Jykge1xuICAgICAgb3B0aW9ucy5ibG9jayA9ICcnO1xuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy5jbGFzc05hbWUpIHtcbiAgICAgIG9wdGlvbnMuY2xhc3NOYW1lID0gJ2NvbnRyb2wtaWNvbic7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmNsYXNzTmFtZS5pbmRleE9mKCdjb250cm9sLWljb24nKSA9PT0gLTEpIHtcbiAgICAgIG9wdGlvbnMuY2xhc3NOYW1lID0gYGNvbnRyb2wtaWNvbiAke29wdGlvbnMuY2xhc3NOYW1lfWA7XG4gICAgfVxuXG4gICAgY29uc3QgX29wdGlvbnMgPSB7XG4gICAgICB0b29sOiBvcHRpb25zLmJsb2NrLFxuICAgICAgY2xhc3NOYW1lOiBvcHRpb25zLmNsYXNzTmFtZSxcbiAgICAgIHRpdGxlOiBvcHRpb25zLnRpdGxlIHx8ICcnLFxuICAgICAganNDbGFzczogb3B0aW9ucy5uYW1lLFxuICAgICAgb25DbGljazogb3B0aW9ucy5vbkNsaWNrLFxuICAgICAgYWZ0ZXJDbGljazogb3B0aW9ucy5hZnRlckNsaWNrLFxuICAgICAgZG9Ub2dnbGU6IG9wdGlvbnMudG9nZ2xlLFxuICAgICAgdG9nZ2xlU3RhdHVzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdGhlckJ1dHRvbnM6IG9wdGlvbnMuZGlzYWJsZU90aGVyQnV0dG9ucyA/PyB0cnVlLFxuICAgICAgZGlzYWJsZUJ5T3RoZXJCdXR0b25zOiBvcHRpb25zLmRpc2FibGVCeU90aGVyQnV0dG9ucyA/PyB0cnVlLFxuICAgICAgY3NzVG9nZ2xlOiBvcHRpb25zLnRvZ2dsZSxcbiAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb24sXG4gICAgICBhY3Rpb25zOiBvcHRpb25zLmFjdGlvbnMgfHwgW10sXG4gICAgICBkaXNhYmxlZDogISFvcHRpb25zLmRpc2FibGVkLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5vcHRpb25zW29wdGlvbnMubmFtZV0gIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLm9wdGlvbnNbb3B0aW9ucy5uYW1lXSA9IHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgY29udHJvbCA9IHRoaXMuX2FkZEJ1dHRvbihcbiAgICAgIG9wdGlvbnMubmFtZSxcbiAgICAgIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oX29wdGlvbnMpXG4gICAgKTtcbiAgICB0aGlzLmNoYW5nZUNvbnRyb2xPcmRlcigpO1xuICAgIHJldHVybiBjb250cm9sO1xuICB9LFxuICBjb250cm9sRXhpc3RzKG5hbWUpIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLmdldEJ1dHRvbihuYW1lKSk7XG4gIH0sXG4gIGdldEJ1dHRvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QnV0dG9ucygpW25hbWVdO1xuICB9LFxuICBnZXRCdXR0b25zSW5CbG9jayhuYW1lKSB7XG4gICAgY29uc3QgYnV0dG9uc0luQmxvY2sgPSB7fTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgZm9yIChjb25zdCBidXR0b25OYW1lIGluIHRoaXMuZ2V0QnV0dG9ucygpKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuZ2V0QnV0dG9ucygpW2J1dHRvbk5hbWVdO1xuICAgICAgICAvLyBkcmF3IGNvbnRyb2xzIGRvZXNuJ3QgaGF2ZSBhIGJsb2NrXG4gICAgICAgIGlmIChcbiAgICAgICAgICBidXR0b24uX2J1dHRvbi50b29sID09PSBuYW1lIHx8XG4gICAgICAgICAgKG5hbWUgPT09ICdkcmF3JyAmJiAhYnV0dG9uLl9idXR0b24udG9vbClcbiAgICAgICAgKSB7XG4gICAgICAgICAgYnV0dG9uc0luQmxvY2tbYnV0dG9uTmFtZV0gPSBidXR0b247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJ1dHRvbnNJbkJsb2NrO1xuICB9LFxuICBjaGFuZ2VDb250cm9sT3JkZXIob3JkZXIgPSBbXSkge1xuICAgIGNvbnN0IHNoYXBlTWFwcGluZyA9IHRoaXMuX3NoYXBlTWFwcGluZygpO1xuXG4gICAgY29uc3QgX29yZGVyID0gW107XG4gICAgb3JkZXIuZm9yRWFjaCgoc2hhcGUpID0+IHtcbiAgICAgIGlmIChzaGFwZU1hcHBpbmdbc2hhcGVdKSB7XG4gICAgICAgIF9vcmRlci5wdXNoKHNoYXBlTWFwcGluZ1tzaGFwZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX29yZGVyLnB1c2goc2hhcGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgYnV0dG9ucyA9IHRoaXMuZ2V0QnV0dG9ucygpO1xuXG4gICAgLy8gVGhpcyBzdGVwcyBhcmUgbmVlZGVkIHRvIGNyZWF0ZSBhIG5ldyBPYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGJ1dHRvbnMgaW4gdGhlIGNvcnJlY3Qgc29ydGVkIG9yZGVyLlxuICAgIGNvbnN0IG5ld2J0bm9yZGVyID0ge307XG4gICAgX29yZGVyLmZvckVhY2goKGNvbnRyb2wpID0+IHtcbiAgICAgIGlmIChidXR0b25zW2NvbnRyb2xdKSB7XG4gICAgICAgIG5ld2J0bm9yZGVyW2NvbnRyb2xdID0gYnV0dG9uc1tjb250cm9sXTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGRyYXdCdG5zID0gT2JqZWN0LmtleXMoYnV0dG9ucykuZmlsdGVyKFxuICAgICAgKGJ0bikgPT4gIWJ1dHRvbnNbYnRuXS5fYnV0dG9uLnRvb2xcbiAgICApO1xuICAgIGRyYXdCdG5zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgaWYgKF9vcmRlci5pbmRleE9mKGJ0bikgPT09IC0xKSB7XG4gICAgICAgIG5ld2J0bm9yZGVyW2J0bl0gPSBidXR0b25zW2J0bl07XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgZWRpdEJ0bnMgPSBPYmplY3Qua2V5cyhidXR0b25zKS5maWx0ZXIoXG4gICAgICAoYnRuKSA9PiBidXR0b25zW2J0bl0uX2J1dHRvbi50b29sID09PSAnZWRpdCdcbiAgICApO1xuICAgIGVkaXRCdG5zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgaWYgKF9vcmRlci5pbmRleE9mKGJ0bikgPT09IC0xKSB7XG4gICAgICAgIG5ld2J0bm9yZGVyW2J0bl0gPSBidXR0b25zW2J0bl07XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgb3B0aW9uc0J0bnMgPSBPYmplY3Qua2V5cyhidXR0b25zKS5maWx0ZXIoXG4gICAgICAoYnRuKSA9PiBidXR0b25zW2J0bl0uX2J1dHRvbi50b29sID09PSAnb3B0aW9ucydcbiAgICApO1xuICAgIG9wdGlvbnNCdG5zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgaWYgKF9vcmRlci5pbmRleE9mKGJ0bikgPT09IC0xKSB7XG4gICAgICAgIG5ld2J0bm9yZGVyW2J0bl0gPSBidXR0b25zW2J0bl07XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY3VzdG9tQnRucyA9IE9iamVjdC5rZXlzKGJ1dHRvbnMpLmZpbHRlcihcbiAgICAgIChidG4pID0+IGJ1dHRvbnNbYnRuXS5fYnV0dG9uLnRvb2wgPT09ICdjdXN0b20nXG4gICAgKTtcbiAgICBjdXN0b21CdG5zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgaWYgKF9vcmRlci5pbmRleE9mKGJ0bikgPT09IC0xKSB7XG4gICAgICAgIG5ld2J0bm9yZGVyW2J0bl0gPSBidXR0b25zW2J0bl07XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gVG8gYWRkIGFsbCBvdGhlciBidXR0b25zIHRoZXkgYXJlIG5vdCBpbiBhIGNvbnRhaW5lciBmcm9tIGFib3ZlIChtYXliZSBhZGRlZCBtYW51YWxseSBieSBhIGRldmVsb3BlcilcbiAgICBPYmplY3Qua2V5cyhidXR0b25zKS5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGlmIChfb3JkZXIuaW5kZXhPZihidG4pID09PSAtMSkge1xuICAgICAgICBuZXdidG5vcmRlcltidG5dID0gYnV0dG9uc1tidG5dO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5tYXAucG0uVG9vbGJhci5idXR0b25zID0gbmV3YnRub3JkZXI7XG4gICAgdGhpcy5fc2hvd0hpZGVCdXR0b25zKCk7XG4gIH0sXG4gIGdldENvbnRyb2xPcmRlcigpIHtcbiAgICBjb25zdCBidXR0b25zID0gdGhpcy5nZXRCdXR0b25zKCk7XG4gICAgY29uc3Qgb3JkZXIgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGJ0biBpbiBidXR0b25zKSB7XG4gICAgICBvcmRlci5wdXNoKGJ0bik7XG4gICAgfVxuICAgIHJldHVybiBvcmRlcjtcbiAgfSxcbiAgY2hhbmdlQWN0aW9uc09mQ29udHJvbChuYW1lLCBhY3Rpb25zKSB7XG4gICAgY29uc3QgYnRuTmFtZSA9IHRoaXMuX2J0bk5hbWVNYXBwaW5nKG5hbWUpO1xuXG4gICAgaWYgKCFidG5OYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBuYW1lIHBhc3NlZCcpO1xuICAgIH1cbiAgICBpZiAoIWFjdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIGFjdGlvbnMgcGFzc2VkJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmJ1dHRvbnNbYnRuTmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0J1dHRvbiB3aXRoIHRoaXMgbmFtZSBub3QgZXhpc3RzJyk7XG4gICAgfVxuICAgIHRoaXMuYnV0dG9uc1tidG5OYW1lXS5fYnV0dG9uLmFjdGlvbnMgPSBhY3Rpb25zO1xuICAgIHRoaXMuY2hhbmdlQ29udHJvbE9yZGVyKCk7XG4gIH0sXG4gIHNldEJ1dHRvbkRpc2FibGVkKG5hbWUsIHN0YXRlKSB7XG4gICAgY29uc3QgYnRuTmFtZSA9IHRoaXMuX2J0bk5hbWVNYXBwaW5nKG5hbWUpO1xuICAgIGlmIChzdGF0ZSkge1xuICAgICAgdGhpcy5idXR0b25zW2J0bk5hbWVdLmRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5idXR0b25zW2J0bk5hbWVdLmVuYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgX3NoYXBlTWFwcGluZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgTWFya2VyOiAnZHJhd01hcmtlcicsXG4gICAgICBDaXJjbGU6ICdkcmF3Q2lyY2xlJyxcbiAgICAgIFBvbHlnb246ICdkcmF3UG9seWdvbicsXG4gICAgICBSZWN0YW5nbGU6ICdkcmF3UmVjdGFuZ2xlJyxcbiAgICAgIFBvbHlsaW5lOiAnZHJhd1BvbHlsaW5lJyxcbiAgICAgIExpbmU6ICdkcmF3UG9seWxpbmUnLFxuICAgICAgQ2lyY2xlTWFya2VyOiAnZHJhd0NpcmNsZU1hcmtlcicsXG4gICAgICBFZGl0OiAnZWRpdE1vZGUnLFxuICAgICAgRHJhZzogJ2RyYWdNb2RlJyxcbiAgICAgIEN1dDogJ2N1dFBvbHlnb24nLFxuICAgICAgUmVtb3ZhbDogJ3JlbW92YWxNb2RlJyxcbiAgICAgIFJvdGF0ZTogJ3JvdGF0ZU1vZGUnLFxuICAgICAgVGV4dDogJ2RyYXdUZXh0JyxcbiAgICB9O1xuICB9LFxuICBfYnRuTmFtZU1hcHBpbmcobmFtZSkge1xuICAgIGNvbnN0IHNoYXBlTWFwcGluZyA9IHRoaXMuX3NoYXBlTWFwcGluZygpO1xuICAgIHJldHVybiBzaGFwZU1hcHBpbmdbbmFtZV0gPyBzaGFwZU1hcHBpbmdbbmFtZV0gOiBuYW1lO1xuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFRvb2xiYXI7XG4iLCAiaW1wb3J0IG1lcmdlIGZyb20gJ2xvZGFzaC9tZXJnZSc7XG5pbXBvcnQgU25hcE1peGluIGZyb20gJy4uL01peGlucy9TbmFwcGluZyc7XG5pbXBvcnQgRXZlbnRNaXhpbiBmcm9tICcuLi9NaXhpbnMvRXZlbnRzJztcblxuY29uc3QgRHJhdyA9IEwuQ2xhc3MuZXh0ZW5kKHtcbiAgaW5jbHVkZXM6IFtTbmFwTWl4aW4sIEV2ZW50TWl4aW5dLFxuICBvcHRpb25zOiB7XG4gICAgc25hcHBhYmxlOiB0cnVlLCAvLyBUT0RPOiBuZXh0IG1ham9yIFJlbGVhc2UsIHJlbmFtZSBpdCB0byBhbGxvd1NuYXBwaW5nXG4gICAgc25hcERpc3RhbmNlOiAyMCxcbiAgICBzbmFwTWlkZGxlOiBmYWxzZSxcbiAgICBhbGxvd1NlbGZJbnRlcnNlY3Rpb246IHRydWUsXG4gICAgdG9vbHRpcHM6IHRydWUsXG4gICAgdGVtcGxpbmVTdHlsZToge30sXG4gICAgaGludGxpbmVTdHlsZToge1xuICAgICAgY29sb3I6ICcjMzM4OGZmJyxcbiAgICAgIGRhc2hBcnJheTogJzUsNScsXG4gICAgfSxcbiAgICBwYXRoT3B0aW9uczogbnVsbCxcbiAgICBjdXJzb3JNYXJrZXI6IHRydWUsXG4gICAgZmluaXNoT246IG51bGwsXG4gICAgbWFya2VyU3R5bGU6IHtcbiAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgIGljb246IEwuaWNvbigpLFxuICAgIH0sXG4gICAgaGlkZU1pZGRsZU1hcmtlcnM6IGZhbHNlLFxuICAgIG1pblJhZGl1c0NpcmNsZTogbnVsbCxcbiAgICBtYXhSYWRpdXNDaXJjbGU6IG51bGwsXG4gICAgbWluUmFkaXVzQ2lyY2xlTWFya2VyOiBudWxsLFxuICAgIG1heFJhZGl1c0NpcmNsZU1hcmtlcjogbnVsbCxcbiAgICByZXNpemVhYmxlQ2lyY2xlTWFya2VyOiBmYWxzZSxcbiAgICByZXNpemFibGVDaXJjbGU6IHRydWUsXG4gICAgbWFya2VyRWRpdGFibGU6IHRydWUsXG4gICAgY29udGludWVEcmF3aW5nOiBmYWxzZSxcbiAgICBzbmFwU2VnbWVudDogdHJ1ZSxcbiAgICByZXF1aXJlU25hcFRvRmluaXNoOiBmYWxzZSxcbiAgICByZWN0YW5nbGVBbmdsZTogMCxcbiAgfSxcbiAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG4gICAgdGhpcy5zZXRTdHlsZSh0aGlzLm9wdGlvbnMpO1xuICB9LFxuICBzZXRTdHlsZSgpIHt9LFxuICBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gIH0sXG4gIGluaXRpYWxpemUobWFwKSB7XG4gICAgLy8gT3ZlcndyaXRpbmcgdGhlIGRlZmF1bHQgdG9vbHRpcEFuY2hvciBvZiB0aGUgZGVmYXVsdCBNYXJrZXIgSWNvbiwgYmVjYXVzZSB0aGUgdG9vbHRpcCBmdW5jdGlvbmFsaXR5IHdhcyB1cGRhdGVkIGJ1dCBub3QgdGhlIGFuY2hvciBpbiB0aGUgSWNvblxuICAgIC8vIElzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzczMDIgLSBMZWFmbGV0IHYxLjcuMVxuICAgIGNvbnN0IGRlZmF1bHRJY29uID0gbmV3IEwuSWNvbi5EZWZhdWx0KCk7XG4gICAgZGVmYXVsdEljb24ub3B0aW9ucy50b29sdGlwQW5jaG9yID0gWzAsIDBdO1xuICAgIHRoaXMub3B0aW9ucy5tYXJrZXJTdHlsZS5pY29uID0gZGVmYXVsdEljb247XG5cbiAgICAvLyBzYXZlIHRoZSBtYXBcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG5cbiAgICAvLyBkZWZpbmUgYWxsIHBvc3NpYmxlIHNoYXBlcyB0aGF0IGNhbiBiZSBkcmF3blxuICAgIHRoaXMuc2hhcGVzID0gW1xuICAgICAgJ01hcmtlcicsXG4gICAgICAnQ2lyY2xlTWFya2VyJyxcbiAgICAgICdMaW5lJyxcbiAgICAgICdQb2x5Z29uJyxcbiAgICAgICdSZWN0YW5nbGUnLFxuICAgICAgJ0NpcmNsZScsXG4gICAgICAnQ3V0JyxcbiAgICAgICdUZXh0JyxcbiAgICBdO1xuXG4gICAgLy8gaW5pdGlhdGUgZHJhd2luZyBjbGFzcyBmb3Igb3VyIHNoYXBlc1xuICAgIHRoaXMuc2hhcGVzLmZvckVhY2goKHNoYXBlKSA9PiB7XG4gICAgICB0aGlzW3NoYXBlXSA9IG5ldyBMLlBNLkRyYXdbc2hhcGVdKHRoaXMuX21hcCk7XG4gICAgfSk7XG5cbiAgICAvLyBUT0RPOiBSZW1vdmUgdGhpcyB3aXRoIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgICB0aGlzLk1hcmtlci5zZXRPcHRpb25zKHsgY29udGludWVEcmF3aW5nOiB0cnVlIH0pO1xuICAgIHRoaXMuQ2lyY2xlTWFya2VyLnNldE9wdGlvbnMoeyBjb250aW51ZURyYXdpbmc6IHRydWUgfSk7XG4gIH0sXG4gIHNldFBhdGhPcHRpb25zKG9wdGlvbnMsIG1lcmdlT3B0aW9ucyA9IGZhbHNlKSB7XG4gICAgaWYgKCFtZXJnZU9wdGlvbnMpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucyA9IG1lcmdlKHRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuICB9LFxuICBnZXRTaGFwZXMoKSB7XG4gICAgLy8gaWYgc29tZWJvZHkgd2FudHMgdG8ga25vdyB3aGF0IHNoYXBlcyBhcmUgYXZhaWxhYmxlXG4gICAgcmV0dXJuIHRoaXMuc2hhcGVzO1xuICB9LFxuICBnZXRTaGFwZSgpIHtcbiAgICAvLyByZXR1cm4gdGhlIHNoYXBlIG9mIHRoZSBjdXJyZW50IGRyYXdpbmcgbGF5ZXJcbiAgICByZXR1cm4gdGhpcy5fc2hhcGU7XG4gIH0sXG4gIGVuYWJsZShzaGFwZSwgb3B0aW9ucykge1xuICAgIGlmICghc2hhcGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEVycm9yOiBQbGVhc2UgcGFzcyBhIHNoYXBlIGFzIGEgcGFyYW1ldGVyLiBQb3NzaWJsZSBzaGFwZXMgYXJlOiAke3RoaXMuZ2V0U2hhcGVzKCkuam9pbihcbiAgICAgICAgICAnLCdcbiAgICAgICAgKX1gXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGRpc2FibGUgZHJhd2luZyBmb3IgYWxsIHNoYXBlc1xuICAgIHRoaXMuZGlzYWJsZSgpO1xuXG4gICAgLy8gZW5hYmxlIGRyYXcgZm9yIGEgc2hhcGVcbiAgICB0aGlzW3NoYXBlXS5lbmFibGUob3B0aW9ucyk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gdGhlcmUgY2FuIG9ubHkgYmUgb25lIGRyYXdpbmcgbW9kZSBhY3RpdmUgYXQgYSB0aW1lIG9uIGEgbWFwXG4gICAgLy8gc28gaXQgZG9lc24ndCBtYXR0ZXIgd2hpY2ggb25lIHNob3VsZCBiZSBkaXNhYmxlZC5cbiAgICAvLyBqdXN0IGRpc2FibGUgYWxsIG9mIHRoZW1cbiAgICB0aGlzLnNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgdGhpc1tzaGFwZV0uZGlzYWJsZSgpO1xuICAgIH0pO1xuICB9LFxuICBhZGRDb250cm9scygpIHtcbiAgICAvLyBhZGQgY29udHJvbCBidXR0b25zIGZvciBvdXIgc2hhcGVzXG4gICAgdGhpcy5zaGFwZXMuZm9yRWFjaCgoc2hhcGUpID0+IHtcbiAgICAgIHRoaXNbc2hhcGVdLmFkZEJ1dHRvbigpO1xuICAgIH0pO1xuICB9LFxuICBnZXRBY3RpdmVTaGFwZSgpIHtcbiAgICAvLyByZXR1cm5zIHRoZSBhY3RpdmUgc2hhcGVcbiAgICBsZXQgZW5hYmxlZFNoYXBlO1xuICAgIHRoaXMuc2hhcGVzLmZvckVhY2goKHNoYXBlKSA9PiB7XG4gICAgICBpZiAodGhpc1tzaGFwZV0uX2VuYWJsZWQpIHtcbiAgICAgICAgZW5hYmxlZFNoYXBlID0gc2hhcGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGVuYWJsZWRTaGFwZTtcbiAgfSxcbiAgX3NldEdsb2JhbERyYXdNb2RlKCkge1xuICAgIC8vIGV4dGVuZGVkIHRvIGFsbCBQTS5EcmF3IHNoYXBlc1xuICAgIGlmICh0aGlzLl9zaGFwZSA9PT0gJ0N1dCcpIHtcbiAgICAgIHRoaXMuX2ZpcmVHbG9iYWxDdXRNb2RlVG9nZ2xlZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9maXJlR2xvYmFsRHJhd01vZGVUb2dnbGVkKCk7XG4gICAgfVxuXG4gICAgY29uc3QgbGF5ZXJzID0gW107XG4gICAgdGhpcy5fbWFwLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLlBvbHlsaW5lIHx8XG4gICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIgfHxcbiAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZSB8fFxuICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyIHx8XG4gICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5JbWFnZU92ZXJsYXlcbiAgICAgICkge1xuICAgICAgICAvLyBmaWx0ZXIgb3V0IGV2ZXJ5dGhpbmcgdGhhdCdzIGxlYWZsZXQtZ2VvbWFuIHNwZWNpZmljIHRlbXBvcmFyeSBzdHVmZlxuICAgICAgICBpZiAoIWxheWVyLl9wbVRlbXBMYXllcikge1xuICAgICAgICAgIGxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuX2VuYWJsZWQpIHtcbiAgICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICBMLlBNLlV0aWxzLmRpc2FibGVQb3B1cChsYXllcik7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICAgIEwuUE0uVXRpbHMuZW5hYmxlUG9wdXAobGF5ZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIGNyZWF0ZU5ld0RyYXdJbnN0YW5jZShuYW1lLCBqc0NsYXNzKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLl9nZXRTaGFwZUZyb21CdG5OYW1lKGpzQ2xhc3MpO1xuICAgIGlmICh0aGlzW25hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdEcmF3IFR5cGUgYWxyZWFkeSBleGlzdHMnKTtcbiAgICB9XG4gICAgaWYgKCFMLlBNLkRyYXdbaW5zdGFuY2VdKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGVyZSBpcyBubyBjbGFzcyBMLlBNLkRyYXcuJHtpbnN0YW5jZX1gKTtcbiAgICB9XG5cbiAgICB0aGlzW25hbWVdID0gbmV3IEwuUE0uRHJhd1tpbnN0YW5jZV0odGhpcy5fbWFwKTtcbiAgICB0aGlzW25hbWVdLnRvb2xiYXJCdXR0b25OYW1lID0gbmFtZTtcbiAgICB0aGlzW25hbWVdLl9zaGFwZSA9IG5hbWU7XG4gICAgdGhpcy5zaGFwZXMucHVzaChuYW1lKTtcblxuICAgIC8vIG5lZWRlZCB3aGVuIGV4dGVuZGVkIC8gY29waWVkIGZyb20gYSBjdXN0b20gaW5zdGFuY2VcbiAgICBpZiAodGhpc1tqc0NsYXNzXSkge1xuICAgICAgdGhpc1tuYW1lXS5zZXRPcHRpb25zKHRoaXNbanNDbGFzc10ub3B0aW9ucyk7XG4gICAgfVxuICAgIC8vIFJlLWluaXQgdGhlIG9wdGlvbnMsIHNvIGl0IGlzIG5vdCByZWZlcmVuY2VkIHdpdGggdGhlIGRlZmF1bHQgRHJhdyBjbGFzc1xuICAgIHRoaXNbbmFtZV0uc2V0T3B0aW9ucyh0aGlzW25hbWVdLm9wdGlvbnMpO1xuXG4gICAgcmV0dXJuIHRoaXNbbmFtZV07XG4gIH0sXG4gIF9nZXRTaGFwZUZyb21CdG5OYW1lKG5hbWUpIHtcbiAgICBjb25zdCBzaGFwZU1hcHBpbmcgPSB7XG4gICAgICBkcmF3TWFya2VyOiAnTWFya2VyJyxcbiAgICAgIGRyYXdDaXJjbGU6ICdDaXJjbGUnLFxuICAgICAgZHJhd1BvbHlnb246ICdQb2x5Z29uJyxcbiAgICAgIGRyYXdQb2x5bGluZTogJ0xpbmUnLFxuICAgICAgZHJhd1JlY3RhbmdsZTogJ1JlY3RhbmdsZScsXG4gICAgICBkcmF3Q2lyY2xlTWFya2VyOiAnQ2lyY2xlTWFya2VyJyxcbiAgICAgIGVkaXRNb2RlOiAnRWRpdCcsXG4gICAgICBkcmFnTW9kZTogJ0RyYWcnLFxuICAgICAgY3V0UG9seWdvbjogJ0N1dCcsXG4gICAgICByZW1vdmFsTW9kZTogJ1JlbW92YWwnLFxuICAgICAgcm90YXRlTW9kZTogJ1JvdGF0ZScsXG4gICAgICBkcmF3VGV4dDogJ1RleHQnLFxuICAgIH07XG5cbiAgICBpZiAoc2hhcGVNYXBwaW5nW25hbWVdKSB7XG4gICAgICByZXR1cm4gc2hhcGVNYXBwaW5nW25hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpc1tuYW1lXSA/IHRoaXNbbmFtZV0uX3NoYXBlIDogbmFtZTtcbiAgfSxcbiAgX2ZpbmlzaExheWVyKGxheWVyKSB7XG4gICAgaWYgKGxheWVyLnBtKSB7XG4gICAgICAvLyBhZGQgdGhlIHBtIG9wdGlvbnMgZnJvbSBkcmF3aW5nIHRvIHRoZSBuZXcgbGF5ZXIgKGVkaXQpXG4gICAgICBsYXllci5wbS5zZXRPcHRpb25zKHRoaXMub3B0aW9ucyk7XG4gICAgICAvLyBzZXQgdGhlIHNoYXBlIChjYW4gYmUgYSBjdXN0b20gc2hhcGUpXG4gICAgICBsYXllci5wbS5fc2hhcGUgPSB0aGlzLl9zaGFwZTtcbiAgICAgIC8vIGFwcGx5IHRoZSBtYXAgdG8gdGhlIG5ldyBjcmVhdGVkIGxheWVyIGluIHRoZSBwbSBvYmplY3RcbiAgICAgIGxheWVyLnBtLl9tYXAgPSB0aGlzLl9tYXA7XG4gICAgfVxuICAgIHRoaXMuX2FkZERyYXduTGF5ZXJQcm9wKGxheWVyKTtcbiAgfSxcbiAgX2FkZERyYXduTGF5ZXJQcm9wKGxheWVyKSB7XG4gICAgbGF5ZXIuX2RyYXduQnlHZW9tYW4gPSB0cnVlO1xuICB9LFxuICBfc2V0UGFuZShsYXllciwgdHlwZSkge1xuICAgIGlmICh0eXBlID09PSAnbGF5ZXJQYW5lJykge1xuICAgICAgbGF5ZXIub3B0aW9ucy5wYW5lID1cbiAgICAgICAgKHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzICYmXG4gICAgICAgICAgdGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMubGF5ZXJQYW5lKSB8fFxuICAgICAgICAnb3ZlcmxheVBhbmUnO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3ZlcnRleFBhbmUnKSB7XG4gICAgICBsYXllci5vcHRpb25zLnBhbmUgPVxuICAgICAgICAodGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMgJiZcbiAgICAgICAgICB0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcy52ZXJ0ZXhQYW5lKSB8fFxuICAgICAgICAnbWFya2VyUGFuZSc7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnbWFya2VyUGFuZScpIHtcbiAgICAgIGxheWVyLm9wdGlvbnMucGFuZSA9XG4gICAgICAgICh0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcyAmJlxuICAgICAgICAgIHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzLm1hcmtlclBhbmUpIHx8XG4gICAgICAgICdtYXJrZXJQYW5lJztcbiAgICB9XG4gIH0sXG4gIF9pc0ZpcnN0TGF5ZXIoKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwIHx8IHRoaXMuX2xheWVyLl9tYXA7XG4gICAgcmV0dXJuIG1hcC5wbS5nZXRHZW9tYW5MYXllcnMoKS5sZW5ndGggPT09IDA7XG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgRHJhdztcbiIsICJpbXBvcnQgeyBoYXNWYWx1ZXMsIHByaW9yaXRpc2VTb3J0IH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbmNvbnN0IFNuYXBNaXhpbiA9IHtcbiAgX2luaXRTbmFwcGFibGVNYXJrZXJzKCkge1xuICAgIHRoaXMub3B0aW9ucy5zbmFwRGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlIHx8IDMwO1xuICAgIHRoaXMub3B0aW9ucy5zbmFwU2VnbWVudCA9XG4gICAgICB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQ7XG5cbiAgICB0aGlzLl9hc3NpZ25FdmVudHModGhpcy5fbWFya2Vycyk7XG5cbiAgICB0aGlzLl9sYXllci5vZmYoJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gICAgdGhpcy5fbGF5ZXIub24oJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gIH0sXG4gIF9kaXNhYmxlU25hcHBpbmcoKSB7XG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICB9LFxuICBfYXNzaWduRXZlbnRzKG1hcmtlckFycikge1xuICAgIC8vIGxvb3AgdGhyb3VnaCBtYXJrZXIgYXJyYXkgYW5kIGFzc2lnbiBldmVudHMgdG8gdGhlIG1hcmtlcnNcbiAgICBtYXJrZXJBcnIuZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICAvLyBpZiB0aGUgbWFya2VyIGlzIGFub3RoZXIgYXJyYXkgKE11bHRpcG9seWdvbiBzdHVmZiksIHJlY3Vyc2l2ZWx5IGRvIHRoaXMgYWdhaW5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG1hcmtlcikpIHtcbiAgICAgICAgdGhpcy5fYXNzaWduRXZlbnRzKG1hcmtlcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIGhhbmRsZVNuYXBwaW5nIGV2ZW50IG9uIGRyYWdcbiAgICAgIG1hcmtlci5vZmYoJ2RyYWcnLCB0aGlzLl9oYW5kbGVTbmFwcGluZywgdGhpcyk7XG4gICAgICBtYXJrZXIub24oJ2RyYWcnLCB0aGlzLl9oYW5kbGVTbmFwcGluZywgdGhpcyk7XG5cbiAgICAgIC8vIGNsZWFudXAgZXZlbnQgb24gZHJhZ2VuZFxuICAgICAgbWFya2VyLm9mZignZHJhZ2VuZCcsIHRoaXMuX2NsZWFudXBTbmFwcGluZywgdGhpcyk7XG4gICAgICBtYXJrZXIub24oJ2RyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgIH0pO1xuICB9LFxuICBfY2xlYW51cFNuYXBwaW5nKGUpIHtcbiAgICBpZiAoZSkge1xuICAgICAgLy8gcmVzZXQgc25hcCBmbGFnIG9mIHRoZSBkcmFnZ2VkIGhlbHBlci1tYXJrZXJcbiAgICAgIGNvbnN0IG1hcmtlciA9IGUudGFyZ2V0O1xuICAgICAgbWFya2VyLl9zbmFwcGVkID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIGRlbGV0ZSBpdCwgd2UgbmVlZCB0byByZWZyZXNoIHRoaXMgd2l0aCBlYWNoIHN0YXJ0IG9mIGEgZHJhZyBiZWNhdXNlXG4gICAgLy8gbWVhbndoaWxlLCBuZXcgbGF5ZXJzIGNvdWxkJ3ZlIGJlZW4gYWRkZWQgdG8gdGhlIG1hcFxuICAgIGRlbGV0ZSB0aGlzLl9zbmFwTGlzdDtcblxuICAgIGlmICh0aGlzLnRocm90dGxlZExpc3QpIHtcbiAgICAgIHRoaXMuX21hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRMaXN0LCB0aGlzKTtcbiAgICAgIHRoaXMudGhyb3R0bGVkTGlzdCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgbWFwIGV2ZW50XG4gICAgdGhpcy5fbWFwLm9mZignbGF5ZXJyZW1vdmUnLCB0aGlzLl9oYW5kbGVTbmFwTGF5ZXJSZW1vdmFsLCB0aGlzKTtcblxuICAgIGlmICh0aGlzLmRlYnVnSW5kaWNhdG9yTGluZXMpIHtcbiAgICAgIHRoaXMuZGVidWdJbmRpY2F0b3JMaW5lcy5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgICAgIGxpbmUucmVtb3ZlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIF9oYW5kbGVUaHJvdHRsZVNuYXBwaW5nKCkge1xuICAgIC8vIHdlIGNoZWNrIGlmIHRoZSB0aHJvdHRsZWRMaXN0IGlzIGV4aXN0aW5nLCBlbHNlIHRoZSBmdW5jdGlvbiBpcyBkZWxldGVkIGJ1dCB0aGUgYGxheWVyYWRkYCBldmVudCBjYWxscyBpdC5cbiAgICAvLyB0aGlzIG1hZGUgcHJvYmxlbXMgd2hlbiBsYXllciB3YXMgcmVtb3ZlZCBhbmQgYWRkZWQgdG8gdGhlIG1hcCBpbiB0aGUgYHBtOmNyZWF0ZWAgZXZlbnRcbiAgICBpZiAodGhpcy50aHJvdHRsZWRMaXN0KSB7XG4gICAgICB0aGlzLl9jcmVhdGVTbmFwTGlzdCgpO1xuICAgIH1cbiAgfSxcbiAgX2hhbmRsZVNuYXBwaW5nKGUpIHtcbiAgICBjb25zdCBtYXJrZXIgPSBlLnRhcmdldDtcbiAgICBtYXJrZXIuX3NuYXBwZWQgPSBmYWxzZTtcblxuICAgIGlmICghdGhpcy50aHJvdHRsZWRMaXN0KSB7XG4gICAgICB0aGlzLnRocm90dGxlZExpc3QgPSBMLlV0aWwudGhyb3R0bGUoXG4gICAgICAgIHRoaXMuX2hhbmRsZVRocm90dGxlU25hcHBpbmcsXG4gICAgICAgIDEwMCxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBpZiBzbmFwcGluZyBpcyBkaXNhYmxlZCB2aWEgaG9sZGluZyBBTFQgZHVyaW5nIGRyYWcsIHN0b3AgcmlnaHQgaGVyZVxuICAgIC8vIHdlIG5lZWQgdG8gY2hlY2sgZm9yIHRoZSBhbHRLZXkgb24gdGhlIG1vdmUgZXZlbnQsIGJlY2F1c2Uga2V5ZG93biBldmVudCBpcyB0byBzbG93IC4uLlxuICAgIGlmIChlPy5vcmlnaW5hbEV2ZW50Py5hbHRLZXkgfHwgdGhpcy5fbWFwPy5wbT8uS2V5Ym9hcmQuaXNBbHRLZXlQcmVzc2VkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgYSBsaXN0IG9mIGxheWVycyB0aGF0IHRoZSBtYXJrZXIgY291bGQgc25hcCB0b1xuICAgIC8vIHRoaXMgaXNuJ3QgaW5zaWRlIGEgbW92ZXN0YXJ0L2RyYWdzdGFydCBjYWxsYmFjayBiZWNhdXNlIG1pZGRsZW1hcmtlcnMgYXJlIGluaXRpYWxpemVkXG4gICAgLy8gYWZ0ZXIgZHJhZ3N0YXJ0L21vdmVzdGFydCBzbyBpdCB3b3VsZG4ndCBmaXJlIGZvciB0aGVtXG4gICAgaWYgKHRoaXMuX3NuYXBMaXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX2NyZWF0ZVNuYXBMaXN0KCk7XG5cbiAgICAgIC8vIHJlLWNyZWF0ZSB0aGUgc25hcGxpc3QgYWdhaW4gd2hlbiBhIGxheWVyIGlzIGFkZGVkIGR1cmluZyBkcmF3XG4gICAgICB0aGlzLl9tYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMudGhyb3R0bGVkTGlzdCwgdGhpcyk7XG4gICAgICB0aGlzLl9tYXAub24oJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRMaXN0LCB0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gbGF5ZXJzIHRvIHNuYXAgdG8sIHN0b3AgaGVyZVxuICAgIGlmICh0aGlzLl9zbmFwTGlzdC5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGdldCB0aGUgY2xvc2VzdCBsYXllciwgaXQncyBjbG9zZXN0IGxhdGxuZywgc2VnbWVudCBhbmQgdGhlIGRpc3RhbmNlXG4gICAgY29uc3QgY2xvc2VzdExheWVyID0gdGhpcy5fY2FsY0Nsb3Nlc3RMYXllcihcbiAgICAgIG1hcmtlci5nZXRMYXRMbmcoKSxcbiAgICAgIHRoaXMuX3NuYXBMaXN0XG4gICAgKTtcblxuICAgIC8vIGlmIG5vIGxheWVycyBmb3VuZC4gQ2FuIGhhcHBlbiB3aGVuIGNpcmNsZSBpcyB0aGUgb25seSB2aXNpYmxlIGxheWVyIG9uIHRoZSBtYXAgYW5kIHRoZSBoaWRkZW4gc25hcHBpbmctYm9yZGVyIGNpcmNsZSBsYXllciBpcyBhbHNvIG9uIHRoZSBtYXBcbiAgICBpZiAoT2JqZWN0LmtleXMoY2xvc2VzdExheWVyKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBpc01hcmtlciA9XG4gICAgICBjbG9zZXN0TGF5ZXIubGF5ZXIgaW5zdGFuY2VvZiBMLk1hcmtlciB8fFxuICAgICAgY2xvc2VzdExheWVyLmxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIgfHxcbiAgICAgICF0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQ7XG5cbiAgICAvLyBmaW5kIHRoZSBmaW5hbCBsYXRsbmcgdGhhdCB3ZSB3YW50IHRvIHNuYXAgdG9cbiAgICBsZXQgc25hcExhdExuZztcbiAgICBpZiAoIWlzTWFya2VyKSB7XG4gICAgICBzbmFwTGF0TG5nID0gdGhpcy5fY2hlY2tQcmlvcml0aXlTbmFwcGluZyhjbG9zZXN0TGF5ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFwTGF0TG5nID0gY2xvc2VzdExheWVyLmxhdGxuZztcbiAgICB9XG5cbiAgICAvLyBtaW5pbWFsIGRpc3RhbmNlIGJlZm9yZSBtYXJrZXIgc25hcHMgKGluIHBpeGVscylcbiAgICBjb25zdCBtaW5EaXN0YW5jZSA9IHRoaXMub3B0aW9ucy5zbmFwRGlzdGFuY2U7XG5cbiAgICAvLyBldmVudCBpbmZvIGZvciBwbTpzbmFwIGFuZCBwbTp1bnNuYXBcbiAgICBjb25zdCBldmVudEluZm8gPSB7XG4gICAgICBtYXJrZXIsXG4gICAgICBzaGFwZTogdGhpcy5fc2hhcGUsXG4gICAgICBzbmFwTGF0TG5nLFxuICAgICAgc2VnbWVudDogY2xvc2VzdExheWVyLnNlZ21lbnQsXG4gICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICB3b3JraW5nTGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgbGF5ZXJJbnRlcmFjdGVkV2l0aDogY2xvc2VzdExheWVyLmxheWVyLCAvLyBmb3IgbGFjayBvZiBhIGJldHRlciBwcm9wZXJ0eSBuYW1lXG4gICAgICBkaXN0YW5jZTogY2xvc2VzdExheWVyLmRpc3RhbmNlLFxuICAgIH07XG5cbiAgICB0aGlzLl9maXJlU25hcERyYWcoZXZlbnRJbmZvLm1hcmtlciwgZXZlbnRJbmZvKTtcbiAgICB0aGlzLl9maXJlU25hcERyYWcodGhpcy5fbGF5ZXIsIGV2ZW50SW5mbyk7XG5cbiAgICBpZiAoY2xvc2VzdExheWVyLmRpc3RhbmNlIDwgbWluRGlzdGFuY2UpIHtcbiAgICAgIC8vIHNuYXAgdGhlIG1hcmtlclxuICAgICAgbWFya2VyLl9vcmdMYXRMbmcgPSBtYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgICAvLyBUT0RPOiBpZiB0aGUgb3JpZ2luIG1hcmtlciBoYXMgYSBhbHRpdHVkZSBpcyBhcHBsaWVkIHRvIHRoZSBzbmFwcGVkIGxheWVyIHRvbywgZG8gd2Ugd2FudCB0aGlzP1xuICAgICAgbWFya2VyLnNldExhdExuZyhzbmFwTGF0TG5nKTtcblxuICAgICAgbWFya2VyLl9zbmFwcGVkID0gdHJ1ZTtcbiAgICAgIG1hcmtlci5fc25hcEluZm8gPSBldmVudEluZm87XG5cbiAgICAgIGNvbnN0IHRyaWdnZXJTbmFwID0gKCkgPT4ge1xuICAgICAgICB0aGlzLl9zbmFwTGF0TG5nID0gc25hcExhdExuZztcbiAgICAgICAgdGhpcy5fZmlyZVNuYXAobWFya2VyLCBldmVudEluZm8pO1xuICAgICAgICB0aGlzLl9maXJlU25hcCh0aGlzLl9sYXllciwgZXZlbnRJbmZvKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIGNoZWNrIGlmIHRoZSBzbmFwcGluZyBwb3NpdGlvbiBkaWZmZXJzIGZyb20gdGhlIGxhc3Qgc25hcFxuICAgICAgLy8gVGhhbmtzIE1heCAmIGNhcjJnbyBUZWFtXG4gICAgICBjb25zdCBhID0gdGhpcy5fc25hcExhdExuZyB8fCB7fTtcbiAgICAgIGNvbnN0IGIgPSBzbmFwTGF0TG5nIHx8IHt9O1xuXG4gICAgICBpZiAoYS5sYXQgIT09IGIubGF0IHx8IGEubG5nICE9PSBiLmxuZykge1xuICAgICAgICB0cmlnZ2VyU25hcCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5fc25hcExhdExuZykge1xuICAgICAgLy8gbm8gbW9yZSBzbmFwcGluZ1xuXG4gICAgICAvLyBpZiBpdCB3YXMgcHJldmlvdXNseSBzbmFwcGVkLi4uXG4gICAgICAvLyAuLi51bnNuYXBcbiAgICAgIHRoaXMuX3Vuc25hcChldmVudEluZm8pO1xuXG4gICAgICBtYXJrZXIuX3NuYXBwZWQgPSBmYWxzZTtcbiAgICAgIG1hcmtlci5fc25hcEluZm8gPSB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIGFuZCBmaXJlIHVuc25hcCBldmVudFxuICAgICAgdGhpcy5fZmlyZVVuc25hcChldmVudEluZm8ubWFya2VyLCBldmVudEluZm8pO1xuICAgICAgdGhpcy5fZmlyZVVuc25hcCh0aGlzLl9sYXllciwgZXZlbnRJbmZvKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgX2NyZWF0ZVNuYXBMaXN0KCkge1xuICAgIGxldCBsYXllcnMgPSBbXTtcbiAgICBjb25zdCBkZWJ1Z0luZGljYXRvckxpbmVzID0gW107XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgbWFwLm9mZignbGF5ZXJyZW1vdmUnLCB0aGlzLl9oYW5kbGVTbmFwTGF5ZXJSZW1vdmFsLCB0aGlzKTtcbiAgICBtYXAub24oJ2xheWVycmVtb3ZlJywgdGhpcy5faGFuZGxlU25hcExheWVyUmVtb3ZhbCwgdGhpcyk7XG5cbiAgICAvLyBmaW5kIGFsbCBsYXllcnMgdGhhdCBhcmUgb3IgaW5oZXJpdCBmcm9tIFBvbHlsaW5lcy4uLiBhbmQgbWFya2VycyB0aGF0IGFyZSBub3RcbiAgICAvLyB0ZW1wb3JhcnkgbWFya2VycyBvZiBwb2x5Z29uLWVkaXRzXG4gICAgbWFwLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgKGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5bGluZSB8fFxuICAgICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIgfHxcbiAgICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyIHx8XG4gICAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLkltYWdlT3ZlcmxheSkgJiZcbiAgICAgICAgbGF5ZXIub3B0aW9ucy5zbmFwSWdub3JlICE9PSB0cnVlXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgc25hcElnbm9yZSA9PT0gZmFsc2UgdGhlIGxheWVyIHdpbGwgYmUgYWx3YXlzIHNuYXBwYWJsZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbGF5ZXIub3B0aW9ucy5zbmFwSWdub3JlID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAoKCFMLlBNLm9wdEluICYmIGxheWVyLm9wdGlvbnMucG1JZ25vcmUgPT09IHRydWUpIHx8IC8vIGlmIG9wdEluIGlzIG5vdCBzZXQgYW5kIHBtSWdub3JlIGlzIHRydWUsIHRoZSBsYXllciB3aWxsIGJlIGlnbm9yZWRcbiAgICAgICAgICAgIChMLlBNLm9wdEluICYmIGxheWVyLm9wdGlvbnMucG1JZ25vcmUgIT09IGZhbHNlKSkgLy8gaWYgb3B0SW4gaXMgdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgbm90IGZhbHNlLCB0aGUgbGF5ZXIgd2lsbCBiZSBpZ25vcmVkXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZHMgYSBoaWRkZW4gcG9seWdvbiB3aGljaCBtYXRjaGVzIHRoZSBib3JkZXIgb2YgdGhlIGNpcmNsZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgKGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGUgfHwgbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlcikgJiZcbiAgICAgICAgICBsYXllci5wbSAmJlxuICAgICAgICAgIGxheWVyLnBtLl9oaWRkZW5Qb2x5Q2lyY2xlXG4gICAgICAgICkge1xuICAgICAgICAgIGxheWVycy5wdXNoKGxheWVyLnBtLl9oaWRkZW5Qb2x5Q2lyY2xlKTtcbiAgICAgICAgfSBlbHNlIGlmIChsYXllciBpbnN0YW5jZW9mIEwuSW1hZ2VPdmVybGF5KSB7XG4gICAgICAgICAgbGF5ZXIgPSBMLnJlY3RhbmdsZShsYXllci5nZXRCb3VuZHMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGF5ZXJzLnB1c2gobGF5ZXIpO1xuXG4gICAgICAgIC8vIHRoaXMgaXMgZm9yIGRlYnVnZ2luZ1xuICAgICAgICBjb25zdCBkZWJ1Z0xpbmUgPSBMLnBvbHlsaW5lKFtdLCB7IGNvbG9yOiAncmVkJywgcG1JZ25vcmU6IHRydWUgfSk7XG4gICAgICAgIGRlYnVnTGluZS5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgICAgICBkZWJ1Z0luZGljYXRvckxpbmVzLnB1c2goZGVidWdMaW5lKTtcbiAgICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGUgfHwgbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlcikge1xuICAgICAgICAgIGRlYnVnSW5kaWNhdG9yTGluZXMucHVzaChkZWJ1Z0xpbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdW5jb21tZW50IFx1RDgzRFx1REM0NyB0aGlzIGxpbmUgdG8gc2hvdyBoZWxwZXIgbGluZXMgZm9yIGRlYnVnZ2luZ1xuICAgICAgICAvLyBkZWJ1Z0xpbmUuYWRkVG8obWFwKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIC4uLmV4Y2VwdCBteXNlbGZcbiAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKChsYXllcikgPT4gdGhpcy5fbGF5ZXIgIT09IGxheWVyKTtcblxuICAgIC8vIGFsc28gcmVtb3ZlIGV2ZXJ5dGhpbmcgdGhhdCBoYXMgbm8gY29vcmRpbmF0ZXMgeWV0XG4gICAgbGF5ZXJzID0gbGF5ZXJzLmZpbHRlcihcbiAgICAgIChsYXllcikgPT4gbGF5ZXIuX2xhdGxuZyB8fCAobGF5ZXIuX2xhdGxuZ3MgJiYgaGFzVmFsdWVzKGxheWVyLl9sYXRsbmdzKSlcbiAgICApO1xuXG4gICAgLy8gZmluYWxseSByZW1vdmUgZXZlcnl0aGluZyB0aGF0J3MgbGVhZmxldC1nZW9tYW4gc3BlY2lmaWMgdGVtcG9yYXJ5IHN0dWZmXG4gICAgbGF5ZXJzID0gbGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+ICFsYXllci5fcG1UZW1wTGF5ZXIpO1xuXG4gICAgLy8gc2F2ZSBzbmFwbGlzdCBmcm9tIGxheWVycyBhbmQgdGhlIG90aGVyIHNuYXAgbGF5ZXJzIGFkZGVkIGZyb20gb3RoZXIgY2xhc3Nlcy9zY3JpcHRzXG4gICAgaWYgKHRoaXMuX290aGVyU25hcExheWVycykge1xuICAgICAgdGhpcy5fb3RoZXJTbmFwTGF5ZXJzLmZvckVhY2goKCkgPT4ge1xuICAgICAgICAvLyB0aGlzIGlzIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgY29uc3QgZGVidWdMaW5lID0gTC5wb2x5bGluZShbXSwgeyBjb2xvcjogJ3JlZCcsIHBtSWdub3JlOiB0cnVlIH0pO1xuICAgICAgICBkZWJ1Z0xpbmUuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICAgICAgZGVidWdJbmRpY2F0b3JMaW5lcy5wdXNoKGRlYnVnTGluZSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3NuYXBMaXN0ID0gbGF5ZXJzLmNvbmNhdCh0aGlzLl9vdGhlclNuYXBMYXllcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zbmFwTGlzdCA9IGxheWVycztcbiAgICB9XG5cbiAgICB0aGlzLmRlYnVnSW5kaWNhdG9yTGluZXMgPSBkZWJ1Z0luZGljYXRvckxpbmVzO1xuICB9LFxuICBfaGFuZGxlU25hcExheWVyUmVtb3ZhbCh7IGxheWVyIH0pIHtcbiAgICBpZiAoIWxheWVyLl9sZWFmbGV0X2lkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGZpbmQgdGhlIGxheWVycyBpbmRleCBpbiBzbmFwbGlzdFxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc25hcExpc3QuZmluZEluZGV4KFxuICAgICAgKGUpID0+IGUuX2xlYWZsZXRfaWQgPT09IGxheWVyLl9sZWFmbGV0X2lkXG4gICAgKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgLy8gcmVtb3ZlIGl0IGZyb20gdGhlIHNuYXBsaXN0XG4gICAgICB0aGlzLl9zbmFwTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfSxcbiAgX2NhbGNDbG9zZXN0TGF5ZXIobGF0bG5nLCBsYXllcnMpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FsY0Nsb3Nlc3RMYXllcnMobGF0bG5nLCBsYXllcnMsIDEpWzBdO1xuICB9LFxuICBfY2FsY0Nsb3Nlc3RMYXllcnMobGF0bG5nLCBsYXllcnMsIGFtb3VudCA9IDEpIHtcbiAgICAvLyB0aGUgY2xvc2VzdCBwb2x5Z29uIHRvIG91ciBkcmFnZ2VkIG1hcmtlciBsYXRsbmdcbiAgICBsZXQgY2xvc2VzdExheWVycyA9IFtdO1xuICAgIGxldCBjbG9zZXN0TGF5ZXIgPSB7fTtcblxuICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgbGF5ZXJzXG4gICAgbGF5ZXJzLmZvckVhY2goKGxheWVyLCBpbmRleCkgPT4ge1xuICAgICAgLy8gRm9yIENpcmNsZXMgYW5kIENpcmNsZU1hcmtlcnMgdG8gcHJldmVudCB0aGF0IHRoZXkgc25hcCB0byB0aGUgb3duIGJvcmRlcnMuXG4gICAgICBpZiAobGF5ZXIuX3BhcmVudENvcHkgJiYgbGF5ZXIuX3BhcmVudENvcHkgPT09IHRoaXMuX2xheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGZpbmQgdGhlIGNsb3Nlc3QgbGF0bG5nLCBzZWdtZW50IGFuZCB0aGUgZGlzdGFuY2Ugb2YgdGhpcyBsYXllciB0byB0aGUgZHJhZ2dlZCBtYXJrZXIgbGF0bG5nXG4gICAgICBjb25zdCByZXN1bHRzID0gdGhpcy5fY2FsY0xheWVyRGlzdGFuY2VzKGxhdGxuZywgbGF5ZXIpO1xuICAgICAgcmVzdWx0cy5kaXN0YW5jZSA9IE1hdGguZmxvb3IocmVzdWx0cy5kaXN0YW5jZSk7XG5cbiAgICAgIGlmICh0aGlzLmRlYnVnSW5kaWNhdG9yTGluZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlYnVnSW5kaWNhdG9yTGluZXNbaW5kZXhdKSB7XG4gICAgICAgICAgY29uc3QgZGVidWdMaW5lID0gTC5wb2x5bGluZShbXSwgeyBjb2xvcjogJ3JlZCcsIHBtSWdub3JlOiB0cnVlIH0pO1xuICAgICAgICAgIGRlYnVnTGluZS5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuZGVidWdJbmRpY2F0b3JMaW5lc1tpbmRleF0gPSBkZWJ1Z0xpbmU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaG93IGluZGljYXRvciBsaW5lcywgaXQncyBmb3IgZGVidWdnaW5nXG4gICAgICAgIHRoaXMuZGVidWdJbmRpY2F0b3JMaW5lc1tpbmRleF0uc2V0TGF0TG5ncyhbbGF0bG5nLCByZXN1bHRzLmxhdGxuZ10pO1xuICAgICAgfVxuXG4gICAgICAvLyBzYXZlIHRoZSBpbmZvIGlmIGl0IGRvZXNuJ3QgZXhpc3Qgb3IgaWYgdGhlIGRpc3RhbmNlIGlzIHNtYWxsZXIgdGhhbiB0aGUgcHJldmlvdXMgb25lXG4gICAgICBpZiAoXG4gICAgICAgIGFtb3VudCA9PT0gMSAmJlxuICAgICAgICAoY2xvc2VzdExheWVyLmRpc3RhbmNlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICByZXN1bHRzLmRpc3RhbmNlIC0gNSA8PSBjbG9zZXN0TGF5ZXIuZGlzdGFuY2UpXG4gICAgICApIHtcbiAgICAgICAgLy8gaWYgdGhlIGxheWVyIGlzIGxlc3MgdGhlbiA1IHBpeGVscyBhd2F5LCB3ZSB0cmVhdCBpdCBhcyBzYW1lIGRpc3RhbmNlIGFuZCBzb3J0IGl0IGJhc2VkIG9uIHByaW9yaXR5XG4gICAgICAgIGlmIChyZXN1bHRzLmRpc3RhbmNlICsgNSA8IGNsb3Nlc3RMYXllci5kaXN0YW5jZSkge1xuICAgICAgICAgIGNsb3Nlc3RMYXllcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZXN0TGF5ZXIgPSByZXN1bHRzO1xuICAgICAgICBjbG9zZXN0TGF5ZXIubGF5ZXIgPSBsYXllcjtcbiAgICAgICAgY2xvc2VzdExheWVycy5wdXNoKGNsb3Nlc3RMYXllcik7XG4gICAgICB9IGVsc2UgaWYgKGFtb3VudCAhPT0gMSkge1xuICAgICAgICBjbG9zZXN0TGF5ZXIgPSB7fTtcbiAgICAgICAgY2xvc2VzdExheWVyID0gcmVzdWx0cztcbiAgICAgICAgY2xvc2VzdExheWVyLmxheWVyID0gbGF5ZXI7XG4gICAgICAgIGNsb3Nlc3RMYXllcnMucHVzaChjbG9zZXN0TGF5ZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChhbW91bnQgIT09IDEpIHtcbiAgICAgIC8vIHNvcnQgdGhlIGxheWVycyBieSBkaXN0YW5jZVxuICAgICAgY2xvc2VzdExheWVycyA9IGNsb3Nlc3RMYXllcnMuc29ydCgoYSwgYikgPT4gYS5kaXN0YW5jZSAtIGIuZGlzdGFuY2UpO1xuICAgIH1cblxuICAgIGlmIChhbW91bnQgPT09IC0xKSB7XG4gICAgICBhbW91bnQgPSBjbG9zZXN0TGF5ZXJzLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvLyByZXR1cm4gdGhlIGNsb3Nlc3QgbGF5ZXIgYW5kIGl0J3MgZGF0YVxuICAgIC8vIGlmIHRoZXJlIGlzIG5vIGNsb3Nlc3QgbGF5ZXIsIHJldHVybiBhbiBlbXB0eSBvYmplY3RcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9nZXRDbG9zZXN0TGF5ZXJCeVByaW9yaXR5KGNsb3Nlc3RMYXllcnMsIGFtb3VudCk7XG4gICAgaWYgKEwuVXRpbC5pc0FycmF5KHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBbcmVzdWx0XTtcbiAgfSxcbiAgX2NhbGNMYXllckRpc3RhbmNlcyhsYXRsbmcsIGxheWVyKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgLy8gaXMgdGhpcyBhIG1hcmtlcj9cbiAgICBjb25zdCBpc01hcmtlciA9XG4gICAgICBsYXllciBpbnN0YW5jZW9mIEwuTWFya2VyIHx8IGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXI7XG5cbiAgICAvLyBpcyBpdCBhIHBvbHlnb24/XG4gICAgY29uc3QgaXNQb2x5Z29uID0gbGF5ZXIgaW5zdGFuY2VvZiBMLlBvbHlnb247XG5cbiAgICAvLyB0aGUgcG9pbnQgUCB3aGljaCB3ZSB3YW50IHRvIHNuYXAgKHByb2JwYWJseSB0aGUgbWFya2VyIHRoYXQgaXMgZHJhZ2dlZClcbiAgICBjb25zdCBQID0gbGF0bG5nO1xuXG4gICAgLy8gdGhlIGNvb3JkcyBvZiB0aGUgbGF5ZXJcblxuICAgIGlmIChpc01hcmtlcikge1xuICAgICAgLy8gcmV0dXJuIHRoZSBpbmZvIGZvciB0aGUgbWFya2VyLCBubyBtb3JlIGNhbGN1bGF0aW9ucyBuZWVkZWRcbiAgICAgIGNvbnN0IGxhdGxuZ3MgPSBsYXllci5nZXRMYXRMbmcoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhdGxuZzogeyAuLi5sYXRsbmdzIH0sXG4gICAgICAgIGRpc3RhbmNlOiB0aGlzLl9nZXREaXN0YW5jZShtYXAsIGxhdGxuZ3MsIFApLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY2FsY0xhdExuZ0Rpc3RhbmNlcyhQLCBsYXllci5nZXRMYXRMbmdzKCksIG1hcCwgaXNQb2x5Z29uKTtcbiAgfSxcbiAgX2NhbGNMYXRMbmdEaXN0YW5jZXMobGF0bG5nLCBsYXRsbmdzLCBtYXAsIGNsb3NlZFNoYXBlID0gZmFsc2UpIHtcbiAgICAvLyB0aGUgY2xvc2VzdCBjb29yZCBvZiB0aGUgbGF5ZXJcbiAgICBsZXQgY2xvc2VzdENvb3JkO1xuXG4gICAgLy8gdGhlIHNob3J0ZXN0IGRpc3RhbmNlIGZyb20gbGF0bG5nIHRvIGNsb3Nlc3RDb29yZFxuICAgIGxldCBzaG9ydGVzdERpc3RhbmNlO1xuXG4gICAgLy8gdGhlIGNsb3Nlc3Qgc2VnbWVudCAobGluZSBiZXR3ZWVuIHR3byBwb2ludHMpIG9mIHRoZSBsYXllclxuICAgIGxldCBjbG9zZXN0U2VnbWVudDtcblxuICAgIGNvbnN0IGxvb3BUaHJvdWdoQ29vcmRzID0gKGNvb3JkcykgPT4ge1xuICAgICAgY29vcmRzLmZvckVhY2goKGNvb3JkLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb29yZCkpIHtcbiAgICAgICAgICBsb29wVGhyb3VnaENvb3Jkcyhjb29yZCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwU2VnbWVudCkge1xuICAgICAgICAgIC8vIHRha2UgdGhpcyBjb29yZCAoQSkuLi5cbiAgICAgICAgICBjb25zdCBBID0gY29vcmQ7XG4gICAgICAgICAgbGV0IG5leHRJbmRleDtcblxuICAgICAgICAgIC8vIGFuZCB0aGUgbmV4dCBjb29yZCAoQikgYXMgcG9pbnRzXG4gICAgICAgICAgaWYgKGNsb3NlZFNoYXBlKSB7XG4gICAgICAgICAgICBuZXh0SW5kZXggPSBpbmRleCArIDEgPT09IGNvb3Jkcy5sZW5ndGggPyAwIDogaW5kZXggKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0SW5kZXggPSBpbmRleCArIDEgPT09IGNvb3Jkcy5sZW5ndGggPyB1bmRlZmluZWQgOiBpbmRleCArIDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgQiA9IGNvb3Jkc1tuZXh0SW5kZXhdO1xuICAgICAgICAgIGlmIChCKSB7XG4gICAgICAgICAgICAvLyBjYWxjIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGxhdGxuZyBhbmQgQUItc2VnbWVudFxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLl9nZXREaXN0YW5jZVRvU2VnbWVudChtYXAsIGxhdGxuZywgQSwgQik7XG5cbiAgICAgICAgICAgIC8vIGlzIHRoZSBkaXN0YW5jZSBzaG9ydGVyIHRoYW4gdGhlIHByZXZpb3VzIG9uZT8gU2F2ZSBpdCBhbmQgdGhlIHNlZ21lbnRcbiAgICAgICAgICAgIGlmIChzaG9ydGVzdERpc3RhbmNlID09PSB1bmRlZmluZWQgfHwgZGlzdGFuY2UgPCBzaG9ydGVzdERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgIHNob3J0ZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgICAgICAgY2xvc2VzdFNlZ21lbnQgPSBbQSwgQl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE9ubHkgc25hcCBvbiB0aGUgY29vcmRzXG4gICAgICAgICAgY29uc3QgZGlzdGFuY2VQb2ludCA9IHRoaXMuX2dldERpc3RhbmNlKG1hcCwgbGF0bG5nLCBjb29yZCk7XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBzaG9ydGVzdERpc3RhbmNlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGRpc3RhbmNlUG9pbnQgPCBzaG9ydGVzdERpc3RhbmNlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzaG9ydGVzdERpc3RhbmNlID0gZGlzdGFuY2VQb2ludDtcbiAgICAgICAgICAgIGNsb3Nlc3RDb29yZCA9IGNvb3JkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGxvb3BUaHJvdWdoQ29vcmRzKGxhdGxuZ3MpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwU2VnbWVudCkge1xuICAgICAgLy8gbm93LCB0YWtlIHRoZSBjbG9zZXN0IHNlZ21lbnQgKGNsb3Nlc3RTZWdtZW50KSBhbmQgY2FsYyB0aGUgY2xvc2VzdCBwb2ludCB0byBsYXRsbmcgb24gaXQuXG4gICAgICBjb25zdCBDID0gdGhpcy5fZ2V0Q2xvc2VzdFBvaW50T25TZWdtZW50KFxuICAgICAgICBtYXAsXG4gICAgICAgIGxhdGxuZyxcbiAgICAgICAgY2xvc2VzdFNlZ21lbnRbMF0sXG4gICAgICAgIGNsb3Nlc3RTZWdtZW50WzFdXG4gICAgICApO1xuXG4gICAgICAvLyByZXR1cm4gdGhlIGxhdGxuZyBvZiB0aGF0IHN1Y2tlclxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGF0bG5nOiB7IC4uLkMgfSxcbiAgICAgICAgc2VnbWVudDogY2xvc2VzdFNlZ21lbnQsXG4gICAgICAgIGRpc3RhbmNlOiBzaG9ydGVzdERpc3RhbmNlLFxuICAgICAgfTtcbiAgICB9XG4gICAgLy8gT25seSBzbmFwIG9uIHRoZSBjb29yZHNcbiAgICAvLyByZXR1cm4gdGhlIGNsb3Nlc3QgY29vcmRcbiAgICByZXR1cm4ge1xuICAgICAgbGF0bG5nOiBjbG9zZXN0Q29vcmQsXG4gICAgICBkaXN0YW5jZTogc2hvcnRlc3REaXN0YW5jZSxcbiAgICB9O1xuICB9LFxuICBfZ2V0Q2xvc2VzdExheWVyQnlQcmlvcml0eShsYXllcnMsIGFtb3VudCA9IDEpIHtcbiAgICAvLyBzb3J0IHRoZSBsYXllcnMgYnkgY3JlYXRpb24sIHNvIGl0IGlzIHNuYXBwaW5nIHRvIHRoZSBvbGRlc3QgbGF5ZXIgZnJvbSB0aGUgc2FtZSBzaGFwZVxuICAgIGxheWVycyA9IGxheWVycy5zb3J0KChhLCBiKSA9PiBhLl9sZWFmbGV0X2lkIC0gYi5fbGVhZmxldF9pZCk7XG5cbiAgICBjb25zdCBzaGFwZXMgPSBbXG4gICAgICAnTWFya2VyJyxcbiAgICAgICdDaXJjbGVNYXJrZXInLFxuICAgICAgJ0NpcmNsZScsXG4gICAgICAnTGluZScsXG4gICAgICAnUG9seWdvbicsXG4gICAgICAnUmVjdGFuZ2xlJyxcbiAgICBdO1xuICAgIGNvbnN0IG9yZGVyID0gdGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMuc25hcHBpbmdPcmRlciB8fCBbXTtcblxuICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgIGNvbnN0IHByaW9PcmRlciA9IHt9O1xuICAgIC8vIG1lcmdlIHVzZXItcHJlZmVycmVkIHByaW9yaXR5IHdpdGggZGVmYXVsdCBwcmlvcml0eVxuICAgIG9yZGVyLmNvbmNhdChzaGFwZXMpLmZvckVhY2goKHNoYXBlKSA9PiB7XG4gICAgICBpZiAoIXByaW9PcmRlcltzaGFwZV0pIHtcbiAgICAgICAgbGFzdEluZGV4ICs9IDE7XG4gICAgICAgIHByaW9PcmRlcltzaGFwZV0gPSBsYXN0SW5kZXg7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBzb3J0IGxheWVycyBieSBwcmlvcml0eVxuICAgIGxheWVycy5zb3J0KHByaW9yaXRpc2VTb3J0KCdpbnN0YW5jZW9mU2hhcGUnLCBwcmlvT3JkZXIpKTtcbiAgICBpZiAoYW1vdW50ID09PSAxKSB7XG4gICAgICByZXR1cm4gbGF5ZXJzWzBdIHx8IHt9O1xuICAgIH1cbiAgICByZXR1cm4gbGF5ZXJzLnNsaWNlKDAsIGFtb3VudCk7XG4gIH0sXG4gIC8vIHdlIGdvdCB0aGUgcG9pbnQgd2Ugd2FudCB0byBzbmFwIHRvIChDKSwgYnV0IHdlIG5lZWQgdG8gY2hlY2sgaWYgYSBjb29yZCBvZiB0aGUgcG9seWdvblxuICAvLyByZWNlaXZlcyBwcmlvcml0eSBvdmVyIEMgYXMgdGhlIHNuYXBwaW5nIHBvaW50LiBMZXQncyBjaGVjayB0aGlzIGhlcmVcbiAgX2NoZWNrUHJpb3JpdGl5U25hcHBpbmcoY2xvc2VzdExheWVyKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgLy8gQSBhbmQgQiBhcmUgdGhlIHBvaW50cyBvZiB0aGUgY2xvc2VzdCBzZWdtZW50IHRvIFAgKHRoZSBtYXJrZXIgcG9zaXRpb24gd2Ugd2FudCB0byBzbmFwKVxuICAgIGNvbnN0IEEgPSBjbG9zZXN0TGF5ZXIuc2VnbWVudFswXTtcbiAgICBjb25zdCBCID0gY2xvc2VzdExheWVyLnNlZ21lbnRbMV07XG5cbiAgICAvLyBDIGlzIHRoZSBwb2ludCB3ZSB3b3VsZCBzbmFwIHRvIG9uIHRoZSBzZWdtZW50LlxuICAgIC8vIFRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBjbG9zZXN0IHNlZ21lbnQgb2YgdGhlIGNsb3Nlc3QgcG9seWdvbiB0byBQLiBUaGF0J3MgcmlnaHQuXG4gICAgY29uc3QgQyA9IGNsb3Nlc3RMYXllci5sYXRsbmc7XG5cbiAgICAvLyBkaXN0YW5jZXMgZnJvbSBBIHRvIEMgYW5kIEIgdG8gQyB0byBjaGVjayB3aGljaCBvbmUgaXMgY2xvc2VyIHRvIENcbiAgICBjb25zdCBkaXN0YW5jZUFDID0gdGhpcy5fZ2V0RGlzdGFuY2UobWFwLCBBLCBDKTtcbiAgICBjb25zdCBkaXN0YW5jZUJDID0gdGhpcy5fZ2V0RGlzdGFuY2UobWFwLCBCLCBDKTtcblxuICAgIC8vIGNsb3Nlc3QgbGF0bG5nIG9mIEEgYW5kIEIgdG8gQ1xuICAgIGxldCBjbG9zZXN0VmVydGV4TGF0TG5nID0gZGlzdGFuY2VBQyA8IGRpc3RhbmNlQkMgPyBBIDogQjtcblxuICAgIC8vIGRpc3RhbmNlIGJldHdlZW4gY2xvc2VzdFZlcnRleExhdExuZyBhbmQgQ1xuICAgIGxldCBzaG9ydGVzdERpc3RhbmNlID0gZGlzdGFuY2VBQyA8IGRpc3RhbmNlQkMgPyBkaXN0YW5jZUFDIDogZGlzdGFuY2VCQztcblxuICAgIC8vIHNuYXAgdG8gbWlkZGxlIChNKSBvZiBzZWdtZW50IGlmIG9wdGlvbiBpcyBlbmFibGVkXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwTWlkZGxlKSB7XG4gICAgICBjb25zdCBNID0gTC5QTS5VdGlscy5jYWxjTWlkZGxlTGF0TG5nKG1hcCwgQSwgQik7XG4gICAgICBjb25zdCBkaXN0YW5jZU1DID0gdGhpcy5fZ2V0RGlzdGFuY2UobWFwLCBNLCBDKTtcblxuICAgICAgaWYgKGRpc3RhbmNlTUMgPCBkaXN0YW5jZUFDICYmIGRpc3RhbmNlTUMgPCBkaXN0YW5jZUJDKSB7XG4gICAgICAgIC8vIE0gaXMgdGhlIG5lYXJlc3QgdmVydGV4XG4gICAgICAgIGNsb3Nlc3RWZXJ0ZXhMYXRMbmcgPSBNO1xuICAgICAgICBzaG9ydGVzdERpc3RhbmNlID0gZGlzdGFuY2VNQztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0aGUgZGlzdGFuY2UgdGhhdCBuZWVkcyB0byBiZSB1bmRlcmN1dCB0byB0cmlnZ2VyIHByaW9yaXR5XG4gICAgY29uc3QgcHJpb3JpdHlEaXN0YW5jZSA9IHRoaXMub3B0aW9ucy5zbmFwRGlzdGFuY2U7XG5cbiAgICAvLyB0aGUgbGF0bG5nIHdlIHVsdGVtYXRlbHkgd2FudCB0byBzbmFwIHRvXG4gICAgbGV0IHNuYXBMYXRsbmc7XG5cbiAgICAvLyBpZiBDIGlzIGNsb3NlciB0byB0aGUgY2xvc2VzdFZlcnRleExhdExuZyAoQSwgQiBvciBNKSB0aGFuIHRoZSBzbmFwRGlzdGFuY2UsXG4gICAgLy8gdGhlIGNsb3Nlc3RWZXJ0ZXhMYXRMbmcgaGFzIHByaW9yaXR5IG92ZXIgQyBhcyB0aGUgc25hcHBpbmcgcG9pbnQuXG4gICAgaWYgKHNob3J0ZXN0RGlzdGFuY2UgPCBwcmlvcml0eURpc3RhbmNlKSB7XG4gICAgICBzbmFwTGF0bG5nID0gY2xvc2VzdFZlcnRleExhdExuZztcbiAgICB9IGVsc2Uge1xuICAgICAgc25hcExhdGxuZyA9IEM7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIHRoZSBjb3B5IG9mIHNuYXBwaW5nIHBvaW50XG4gICAgcmV0dXJuIHsgLi4uc25hcExhdGxuZyB9O1xuICB9LFxuICBfdW5zbmFwKCkge1xuICAgIC8vIGRlbGV0ZSB0aGUgbGFzdCBzbmFwXG4gICAgZGVsZXRlIHRoaXMuX3NuYXBMYXRMbmc7XG4gIH0sXG4gIF9nZXRDbG9zZXN0UG9pbnRPblNlZ21lbnQobWFwLCBsYXRsbmcsIGxhdGxuZ0EsIGxhdGxuZ0IpIHtcbiAgICBsZXQgbWF4em9vbSA9IG1hcC5nZXRNYXhab29tKCk7XG4gICAgaWYgKG1heHpvb20gPT09IEluZmluaXR5KSB7XG4gICAgICBtYXh6b29tID0gbWFwLmdldFpvb20oKTtcbiAgICB9XG4gICAgY29uc3QgUCA9IG1hcC5wcm9qZWN0KGxhdGxuZywgbWF4em9vbSk7XG4gICAgY29uc3QgQSA9IG1hcC5wcm9qZWN0KGxhdGxuZ0EsIG1heHpvb20pO1xuICAgIGNvbnN0IEIgPSBtYXAucHJvamVjdChsYXRsbmdCLCBtYXh6b29tKTtcbiAgICBjb25zdCBjbG9zZXN0ID0gTC5MaW5lVXRpbC5jbG9zZXN0UG9pbnRPblNlZ21lbnQoUCwgQSwgQik7XG4gICAgcmV0dXJuIG1hcC51bnByb2plY3QoY2xvc2VzdCwgbWF4em9vbSk7XG4gIH0sXG4gIF9nZXREaXN0YW5jZVRvU2VnbWVudChtYXAsIGxhdGxuZywgbGF0bG5nQSwgbGF0bG5nQikge1xuICAgIGNvbnN0IFAgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZyk7XG4gICAgY29uc3QgQSA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nQSk7XG4gICAgY29uc3QgQiA9IG1hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nQik7XG4gICAgcmV0dXJuIEwuTGluZVV0aWwucG9pbnRUb1NlZ21lbnREaXN0YW5jZShQLCBBLCBCKTtcbiAgfSxcbiAgX2dldERpc3RhbmNlKG1hcCwgbGF0bG5nQSwgbGF0bG5nQikge1xuICAgIHJldHVybiBtYXBcbiAgICAgIC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nQSlcbiAgICAgIC5kaXN0YW5jZVRvKG1hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nQikpO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgU25hcE1peGluO1xuIiwgImltcG9ydCBEcmF3IGZyb20gJy4vTC5QTS5EcmF3JztcbmltcG9ydCB7IGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbkRyYXcuTWFya2VyID0gRHJhdy5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB0aGlzLl9zaGFwZSA9ICdNYXJrZXInO1xuICAgIHRoaXMudG9vbGJhckJ1dHRvbk5hbWUgPSAnZHJhd01hcmtlcic7XG4gIH0sXG4gIGVuYWJsZShvcHRpb25zKSB7XG4gICAgLy8gVE9ETzogVGhpbmsgYWJvdXQgaWYgdGhlc2Ugb3B0aW9ucyBjb3VsZCBiZSBwYXNzZWQgZ2xvYmFsbHkgZm9yIGFsbFxuICAgIC8vIGluc3RhbmNlcyBvZiBMLlBNLkRyYXcuIFNvIGEgZGV2IGNvdWxkIHNldCBkcmF3aW5nIHN0eWxlIG9uZSB0aW1lIGFzIHNvbWUga2luZCBvZiBjb25maWdcbiAgICBMLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgIC8vIGNoYW5nZSBlbmFibGVkIHN0YXRlXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyBjaGFuZ2UgbWFwIGN1cnNvclxuICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5jbGFzc0xpc3QuYWRkKCdnZW9tYW4tZHJhdy1jdXJzb3InKTtcblxuICAgIC8vIGNyZWF0ZSBhIG1hcmtlciBvbiBjbGljayBvbiB0aGUgbWFwXG4gICAgdGhpcy5fbWFwLm9uKCdjbGljaycsIHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyB0b2dnbGUgdGhlIGRyYXcgYnV0dG9uIG9mIHRoZSBUb29sYmFyIGluIGNhc2UgZHJhd2luZyBtb2RlIGdvdCBlbmFibGVkIHdpdGhvdXQgdGhlIGJ1dHRvblxuICAgIHRoaXMuX21hcC5wbS5Ub29sYmFyLnRvZ2dsZUJ1dHRvbih0aGlzLnRvb2xiYXJCdXR0b25OYW1lLCB0cnVlKTtcblxuICAgIC8vIHRoaXMgaXMgdGhlIGhpbnRtYXJrZXIgb24gdGhlIG1vdXNlIGN1cnNvclxuICAgIHRoaXMuX2hpbnRNYXJrZXIgPSBMLm1hcmtlcihcbiAgICAgIHRoaXMuX21hcC5nZXRDZW50ZXIoKSxcbiAgICAgIHRoaXMub3B0aW9ucy5tYXJrZXJTdHlsZVxuICAgICk7XG4gICAgdGhpcy5fc2V0UGFuZSh0aGlzLl9oaW50TWFya2VyLCAnbWFya2VyUGFuZScpO1xuICAgIHRoaXMuX2hpbnRNYXJrZXIuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICB0aGlzLl9oaW50TWFya2VyLmFkZFRvKHRoaXMuX21hcCk7XG5cbiAgICAvLyBhZGQgdG9vbHRpcCB0byBoaW50bWFya2VyXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b29sdGlwcykge1xuICAgICAgdGhpcy5faGludE1hcmtlclxuICAgICAgICAuYmluZFRvb2x0aXAoZ2V0VHJhbnNsYXRpb24oJ3Rvb2x0aXBzLnBsYWNlTWFya2VyJyksIHtcbiAgICAgICAgICBwZXJtYW5lbnQ6IHRydWUsXG4gICAgICAgICAgb2Zmc2V0OiBMLnBvaW50KDAsIDEwKSxcbiAgICAgICAgICBkaXJlY3Rpb246ICdib3R0b20nLFxuXG4gICAgICAgICAgb3BhY2l0eTogMC44LFxuICAgICAgICB9KVxuICAgICAgICAub3BlblRvb2x0aXAoKTtcbiAgICB9XG5cbiAgICAvLyB0aGlzIGlzIGp1c3QgdG8ga2VlcCB0aGUgc25hcHBhYmxlIG1peGluIGhhcHB5XG4gICAgdGhpcy5fbGF5ZXIgPSB0aGlzLl9oaW50TWFya2VyO1xuXG4gICAgLy8gc3luYyBoaW50IG1hcmtlciB3aXRoIG1vdXNlIGN1cnNvclxuICAgIHRoaXMuX21hcC5vbignbW91c2Vtb3ZlJywgdGhpcy5fc3luY0hpbnRNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gZW5hYmxlIGVkaXQgbW9kZSBmb3IgZXhpc3RpbmcgbWFya2Vyc1xuICAgIGlmICh0aGlzLm9wdGlvbnMubWFya2VyRWRpdGFibGUpIHtcbiAgICAgIHRoaXMuX21hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzUmVsZXZhbnRNYXJrZXIobGF5ZXIpKSB7XG4gICAgICAgICAgbGF5ZXIucG0uZW5hYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGZpcmUgZHJhd3N0YXJ0IGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdTdGFydCgpO1xuICAgIHRoaXMuX3NldEdsb2JhbERyYXdNb2RlKCk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gY2FuY2VsLCBpZiBkcmF3aW5nIG1vZGUgaXNuJ3QgZXZlbiBlbmFibGVkXG4gICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY2hhbmdlIGVuYWJsZWQgc3RhdGVcbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cbiAgICAvLyByZXNldCBjdXJzb3JcbiAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuY2xhc3NMaXN0LnJlbW92ZSgnZ2VvbWFuLWRyYXctY3Vyc29yJyk7XG5cbiAgICAvLyB1bmRiaW5kIGNsaWNrIGV2ZW50LCBkb24ndCBjcmVhdGUgYSBtYXJrZXIgb24gY2xpY2sgYW55bW9yZVxuICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fY3JlYXRlTWFya2VyLCB0aGlzKTtcblxuICAgIC8vIHJlbW92ZSBoaW50IG1hcmtlclxuICAgIHRoaXMuX2hpbnRNYXJrZXIucmVtb3ZlKCk7XG5cbiAgICAvLyByZW1vdmUgZXZlbnQgbGlzdGVuZXIgdG8gc3luYyBoaW50IG1hcmtlclxuICAgIHRoaXMuX21hcC5vZmYoJ21vdXNlbW92ZScsIHRoaXMuX3N5bmNIaW50TWFya2VyLCB0aGlzKTtcblxuICAgIC8vIGRpc2FibGUgZHJhZ2dpbmcgYW5kIHJlbW92aW5nIGZvciBhbGwgbWFya2Vyc1xuICAgIHRoaXMuX21hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc1JlbGV2YW50TWFya2VyKGxheWVyKSkge1xuICAgICAgICBsYXllci5wbS5kaXNhYmxlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyB0b2dnbGUgdGhlIGRyYXcgYnV0dG9uIG9mIHRoZSBUb29sYmFyIGluIGNhc2UgZHJhd2luZyBtb2RlIGdvdCBkaXNhYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgZmFsc2UpO1xuXG4gICAgLy8gY2xlYW51cCBzbmFwcGluZ1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcbiAgICB9XG5cbiAgICAvLyBmaXJlIGRyYXdlbmQgZXZlbnRcbiAgICB0aGlzLl9maXJlRHJhd0VuZCgpO1xuICAgIHRoaXMuX3NldEdsb2JhbERyYXdNb2RlKCk7XG4gIH0sXG4gIGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gIH0sXG4gIHRvZ2dsZShvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGUob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuICBpc1JlbGV2YW50TWFya2VyKGxheWVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIgJiZcbiAgICAgIGxheWVyLnBtICYmXG4gICAgICAhbGF5ZXIuX3BtVGVtcExheWVyICYmXG4gICAgICAhbGF5ZXIucG0uX2luaXRUZXh0TWFya2VyXG4gICAgKTtcbiAgfSxcbiAgX3N5bmNIaW50TWFya2VyKGUpIHtcbiAgICAvLyBtb3ZlIHRoZSBjdXJzb3IgbWFya2VyXG4gICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuXG4gICAgLy8gaWYgc25hcHBpbmcgaXMgZW5hYmxlZCwgZG8gaXRcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgY29uc3QgZmFrZURyYWdFdmVudCA9IGU7XG4gICAgICBmYWtlRHJhZ0V2ZW50LnRhcmdldCA9IHRoaXMuX2hpbnRNYXJrZXI7XG4gICAgICB0aGlzLl9oYW5kbGVTbmFwcGluZyhmYWtlRHJhZ0V2ZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCksICdEcmF3Jyk7XG4gIH0sXG4gIF9jcmVhdGVNYXJrZXIoZSkge1xuICAgIGlmICghZS5sYXRsbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBzbmFwIGZpbmlzaCBpcyByZXF1aXJlZCBidXQgdGhlIGxhc3QgbWFya2VyIHdhc24ndCBzbmFwcGVkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMucmVxdWlyZVNuYXBUb0ZpbmlzaCAmJlxuICAgICAgIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQgJiZcbiAgICAgICF0aGlzLl9pc0ZpcnN0TGF5ZXIoKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGFzc2lnbiB0aGUgY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2sgdG8gdGhlIGhpbnRNYXJrZXIsIHRoYXQncyBuZWNlc3NhcnkgZm9yXG4gICAgLy8gbW9iaWxlIHdoZXJlIHRoZSBtYXJrZXIgY2FuJ3QgZm9sbG93IGEgY3Vyc29yXG4gICAgaWYgKCF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGNvb3JkaW5hdGUgZm9yIG5ldyB2ZXJ0ZXggYnkgaGludE1hcmtlciAoY3Vyc29yIG1hcmtlcilcbiAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuXG4gICAgLy8gY3JlYXRlIG1hcmtlclxuICAgIGNvbnN0IG1hcmtlciA9IG5ldyBMLk1hcmtlcihsYXRsbmcsIHRoaXMub3B0aW9ucy5tYXJrZXJTdHlsZSk7XG4gICAgdGhpcy5fc2V0UGFuZShtYXJrZXIsICdtYXJrZXJQYW5lJyk7XG4gICAgdGhpcy5fZmluaXNoTGF5ZXIobWFya2VyKTtcblxuICAgIGlmICghbWFya2VyLnBtKSB7XG4gICAgICAvLyBpZiBwbSBpcyBub3QgY3JlYXRlIHdlIGRvbid0IGFwcGx5IGRyYWdnaW5nIHRvIHRoZSBtYXJrZXIgKGRyYWdnYWJsZSBpcyBhcHBsaWVkIHRvIHRoZSBtYXJrZXIsIHdoZW4gaXQgaXMgYWRkZWQgdG8gdGhlIG1hcCApXG4gICAgICBtYXJrZXIub3B0aW9ucy5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gYWRkIG1hcmtlciB0byB0aGUgbWFwXG4gICAgbWFya2VyLmFkZFRvKHRoaXMuX21hcC5wbS5fZ2V0Q29udGFpbmluZ0xheWVyKCkpO1xuXG4gICAgaWYgKG1hcmtlci5wbSAmJiB0aGlzLm9wdGlvbnMubWFya2VyRWRpdGFibGUpIHtcbiAgICAgIC8vIGVuYWJsZSBlZGl0aW5nIGZvciB0aGUgbWFya2VyXG4gICAgICBtYXJrZXIucG0uZW5hYmxlKCk7XG4gICAgfSBlbHNlIGlmIChtYXJrZXIuZHJhZ2dpbmcpIHtcbiAgICAgIG1hcmtlci5kcmFnZ2luZy5kaXNhYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gZmlyZSB0aGUgcG06Y3JlYXRlIGV2ZW50IGFuZCBwYXNzIHNoYXBlIGFuZCBtYXJrZXJcbiAgICB0aGlzLl9maXJlQ3JlYXRlKG1hcmtlcik7XG5cbiAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmNvbnRpbnVlRHJhd2luZykge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICB9LFxuICBzZXRTdHlsZSgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLm1hcmtlclN0eWxlPy5pY29uKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyPy5zZXRJY29uKHRoaXMub3B0aW9ucy5tYXJrZXJTdHlsZS5pY29uKTtcbiAgICB9XG4gIH0sXG59KTtcbiIsICIvKipcbiAqIEBtb2R1bGUgaGVscGVyc1xuICovXG4vKipcbiAqIEVhcnRoIFJhZGl1cyB1c2VkIHdpdGggdGhlIEhhcnZlc2luZSBmb3JtdWxhIGFuZCBhcHByb3hpbWF0ZXMgdXNpbmcgYSBzcGhlcmljYWwgKG5vbi1lbGxpcHNvaWQpIEVhcnRoLlxuICpcbiAqIEBtZW1iZXJvZiBoZWxwZXJzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIGVhcnRoUmFkaXVzID0gNjM3MTAwOC44O1xuLyoqXG4gKiBVbml0IG9mIG1lYXN1cmVtZW50IGZhY3RvcnMgdXNpbmcgYSBzcGhlcmljYWwgKG5vbi1lbGxpcHNvaWQpIGVhcnRoIHJhZGl1cy5cbiAqXG4gKiBAbWVtYmVyb2YgaGVscGVyc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0IHZhciBmYWN0b3JzID0ge1xuICAgIGNlbnRpbWV0ZXJzOiBlYXJ0aFJhZGl1cyAqIDEwMCxcbiAgICBjZW50aW1ldHJlczogZWFydGhSYWRpdXMgKiAxMDAsXG4gICAgZGVncmVlczogZWFydGhSYWRpdXMgLyAxMTEzMjUsXG4gICAgZmVldDogZWFydGhSYWRpdXMgKiAzLjI4MDg0LFxuICAgIGluY2hlczogZWFydGhSYWRpdXMgKiAzOS4zNyxcbiAgICBraWxvbWV0ZXJzOiBlYXJ0aFJhZGl1cyAvIDEwMDAsXG4gICAga2lsb21ldHJlczogZWFydGhSYWRpdXMgLyAxMDAwLFxuICAgIG1ldGVyczogZWFydGhSYWRpdXMsXG4gICAgbWV0cmVzOiBlYXJ0aFJhZGl1cyxcbiAgICBtaWxlczogZWFydGhSYWRpdXMgLyAxNjA5LjM0NCxcbiAgICBtaWxsaW1ldGVyczogZWFydGhSYWRpdXMgKiAxMDAwLFxuICAgIG1pbGxpbWV0cmVzOiBlYXJ0aFJhZGl1cyAqIDEwMDAsXG4gICAgbmF1dGljYWxtaWxlczogZWFydGhSYWRpdXMgLyAxODUyLFxuICAgIHJhZGlhbnM6IDEsXG4gICAgeWFyZHM6IGVhcnRoUmFkaXVzICogMS4wOTM2LFxufTtcbi8qKlxuICogVW5pdHMgb2YgbWVhc3VyZW1lbnQgZmFjdG9ycyBiYXNlZCBvbiAxIG1ldGVyLlxuICpcbiAqIEBtZW1iZXJvZiBoZWxwZXJzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnQgdmFyIHVuaXRzRmFjdG9ycyA9IHtcbiAgICBjZW50aW1ldGVyczogMTAwLFxuICAgIGNlbnRpbWV0cmVzOiAxMDAsXG4gICAgZGVncmVlczogMSAvIDExMTMyNSxcbiAgICBmZWV0OiAzLjI4MDg0LFxuICAgIGluY2hlczogMzkuMzcsXG4gICAga2lsb21ldGVyczogMSAvIDEwMDAsXG4gICAga2lsb21ldHJlczogMSAvIDEwMDAsXG4gICAgbWV0ZXJzOiAxLFxuICAgIG1ldHJlczogMSxcbiAgICBtaWxlczogMSAvIDE2MDkuMzQ0LFxuICAgIG1pbGxpbWV0ZXJzOiAxMDAwLFxuICAgIG1pbGxpbWV0cmVzOiAxMDAwLFxuICAgIG5hdXRpY2FsbWlsZXM6IDEgLyAxODUyLFxuICAgIHJhZGlhbnM6IDEgLyBlYXJ0aFJhZGl1cyxcbiAgICB5YXJkczogMS4wOTM2MTMzLFxufTtcbi8qKlxuICogQXJlYSBvZiBtZWFzdXJlbWVudCBmYWN0b3JzIGJhc2VkIG9uIDEgc3F1YXJlIG1ldGVyLlxuICpcbiAqIEBtZW1iZXJvZiBoZWxwZXJzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnQgdmFyIGFyZWFGYWN0b3JzID0ge1xuICAgIGFjcmVzOiAwLjAwMDI0NzEwNSxcbiAgICBjZW50aW1ldGVyczogMTAwMDAsXG4gICAgY2VudGltZXRyZXM6IDEwMDAwLFxuICAgIGZlZXQ6IDEwLjc2MzkxMDQxNyxcbiAgICBoZWN0YXJlczogMC4wMDAxLFxuICAgIGluY2hlczogMTU1MC4wMDMxMDAwMDYsXG4gICAga2lsb21ldGVyczogMC4wMDAwMDEsXG4gICAga2lsb21ldHJlczogMC4wMDAwMDEsXG4gICAgbWV0ZXJzOiAxLFxuICAgIG1ldHJlczogMSxcbiAgICBtaWxlczogMy44NmUtNyxcbiAgICBtaWxsaW1ldGVyczogMTAwMDAwMCxcbiAgICBtaWxsaW1ldHJlczogMTAwMDAwMCxcbiAgICB5YXJkczogMS4xOTU5OTAwNDYsXG59O1xuLyoqXG4gKiBXcmFwcyBhIEdlb0pTT04ge0BsaW5rIEdlb21ldHJ5fSBpbiBhIEdlb0pTT04ge0BsaW5rIEZlYXR1cmV9LlxuICpcbiAqIEBuYW1lIGZlYXR1cmVcbiAqIEBwYXJhbSB7R2VvbWV0cnl9IGdlb21ldHJ5IGlucHV0IGdlb21ldHJ5XG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmV9IGEgR2VvSlNPTiBGZWF0dXJlXG4gKiBAZXhhbXBsZVxuICogdmFyIGdlb21ldHJ5ID0ge1xuICogICBcInR5cGVcIjogXCJQb2ludFwiLFxuICogICBcImNvb3JkaW5hdGVzXCI6IFsxMTAsIDUwXVxuICogfTtcbiAqXG4gKiB2YXIgZmVhdHVyZSA9IHR1cmYuZmVhdHVyZShnZW9tZXRyeSk7XG4gKlxuICogLy89ZmVhdHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgZmVhdCA9IHsgdHlwZTogXCJGZWF0dXJlXCIgfTtcbiAgICBpZiAob3B0aW9ucy5pZCA9PT0gMCB8fCBvcHRpb25zLmlkKSB7XG4gICAgICAgIGZlYXQuaWQgPSBvcHRpb25zLmlkO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5iYm94KSB7XG4gICAgICAgIGZlYXQuYmJveCA9IG9wdGlvbnMuYmJveDtcbiAgICB9XG4gICAgZmVhdC5wcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCB7fTtcbiAgICBmZWF0Lmdlb21ldHJ5ID0gZ2VvbTtcbiAgICByZXR1cm4gZmVhdDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIEdlb0pTT04ge0BsaW5rIEdlb21ldHJ5fSBmcm9tIGEgR2VvbWV0cnkgc3RyaW5nIHR5cGUgJiBjb29yZGluYXRlcy5cbiAqIEZvciBHZW9tZXRyeUNvbGxlY3Rpb24gdHlwZSB1c2UgYGhlbHBlcnMuZ2VvbWV0cnlDb2xsZWN0aW9uYFxuICpcbiAqIEBuYW1lIGdlb21ldHJ5XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBHZW9tZXRyeSBUeXBlXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEByZXR1cm5zIHtHZW9tZXRyeX0gYSBHZW9KU09OIEdlb21ldHJ5XG4gKiBAZXhhbXBsZVxuICogdmFyIHR5cGUgPSBcIlBvaW50XCI7XG4gKiB2YXIgY29vcmRpbmF0ZXMgPSBbMTEwLCA1MF07XG4gKiB2YXIgZ2VvbWV0cnkgPSB0dXJmLmdlb21ldHJ5KHR5cGUsIGNvb3JkaW5hdGVzKTtcbiAqIC8vID0+IGdlb21ldHJ5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW9tZXRyeSh0eXBlLCBjb29yZGluYXRlcywgX29wdGlvbnMpIHtcbiAgICBpZiAoX29wdGlvbnMgPT09IHZvaWQgMCkgeyBfb3B0aW9ucyA9IHt9OyB9XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIHBvaW50KGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBsaW5lU3RyaW5nKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgICAgIHJldHVybiBwb2x5Z29uKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBtdWx0aVBvaW50KGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIG11bHRpTGluZVN0cmluZyhjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICAgICAgICAgIHJldHVybiBtdWx0aVBvbHlnb24oY29vcmRpbmF0ZXMpLmdlb21ldHJ5O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHR5cGUgKyBcIiBpcyBpbnZhbGlkXCIpO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBQb2ludH0ge0BsaW5rIEZlYXR1cmV9IGZyb20gYSBQb3NpdGlvbi5cbiAqXG4gKiBAbmFtZSBwb2ludFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlcyBsb25naXR1ZGUsIGxhdGl0dWRlIHBvc2l0aW9uIChlYWNoIGluIGRlY2ltYWwgZGVncmVlcylcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxQb2ludD59IGEgUG9pbnQgZmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2ludCA9IHR1cmYucG9pbnQoWy03NS4zNDMsIDM5Ljk4NF0pO1xuICpcbiAqIC8vPXBvaW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludChjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgaWYgKCFjb29yZGluYXRlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBtdXN0IGJlIGFuIEFycmF5XCIpO1xuICAgIH1cbiAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoIDwgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBtdXN0IGJlIGF0IGxlYXN0IDIgbnVtYmVycyBsb25nXCIpO1xuICAgIH1cbiAgICBpZiAoIWlzTnVtYmVyKGNvb3JkaW5hdGVzWzBdKSB8fCAhaXNOdW1iZXIoY29vcmRpbmF0ZXNbMV0pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkaW5hdGVzIG11c3QgY29udGFpbiBudW1iZXJzXCIpO1xuICAgIH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJQb2ludFwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBQb2ludH0ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIFBvaW50IGNvb3JkaW5hdGVzLlxuICpcbiAqIEBuYW1lIHBvaW50c1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9pbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIFRyYW5zbGF0ZSB0aGVzZSBwcm9wZXJ0aWVzIHRvIGVhY2ggRmVhdHVyZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICogYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlQ29sbGVjdGlvblxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248UG9pbnQ+fSBQb2ludCBGZWF0dXJlXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvaW50cyA9IHR1cmYucG9pbnRzKFtcbiAqICAgWy03NSwgMzldLFxuICogICBbLTgwLCA0NV0sXG4gKiAgIFstNzgsIDUwXVxuICogXSk7XG4gKlxuICogLy89cG9pbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHMoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihjb29yZGluYXRlcy5tYXAoZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICByZXR1cm4gcG9pbnQoY29vcmRzLCBwcm9wZXJ0aWVzKTtcbiAgICB9KSwgb3B0aW9ucyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9seWdvbn0ge0BsaW5rIEZlYXR1cmV9IGZyb20gYW4gQXJyYXkgb2YgTGluZWFyUmluZ3MuXG4gKlxuICogQG5hbWUgcG9seWdvblxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxudW1iZXI+Pj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIExpbmVhclJpbmdzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8UG9seWdvbj59IFBvbHlnb24gRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5Z29uID0gdHVyZi5wb2x5Z29uKFtbWy01LCA1Ml0sIFstNCwgNTZdLCBbLTIsIDUxXSwgWy03LCA1NF0sIFstNSwgNTJdXV0sIHsgbmFtZTogJ3BvbHkxJyB9KTtcbiAqXG4gKiAvLz1wb2x5Z29uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2x5Z29uKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBmb3IgKHZhciBfaSA9IDAsIGNvb3JkaW5hdGVzXzEgPSBjb29yZGluYXRlczsgX2kgPCBjb29yZGluYXRlc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcmluZyA9IGNvb3JkaW5hdGVzXzFbX2ldO1xuICAgICAgICBpZiAocmluZy5sZW5ndGggPCA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFYWNoIExpbmVhclJpbmcgb2YgYSBQb2x5Z29uIG11c3QgaGF2ZSA0IG9yIG1vcmUgUG9zaXRpb25zLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJpbmdbcmluZy5sZW5ndGggLSAxXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZmlyc3QgcG9pbnQgb2YgUG9seWdvbiBjb250YWlucyB0d28gbnVtYmVyc1xuICAgICAgICAgICAgaWYgKHJpbmdbcmluZy5sZW5ndGggLSAxXVtqXSAhPT0gcmluZ1swXVtqXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFuZCBsYXN0IFBvc2l0aW9uIGFyZSBub3QgZXF1aXZhbGVudC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiUG9seWdvblwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBQb2x5Z29ufSB7QGxpbmsgRmVhdHVyZUNvbGxlY3Rpb259IGZyb20gYW4gQXJyYXkgb2YgUG9seWdvbiBjb29yZGluYXRlcy5cbiAqXG4gKiBAbmFtZSBwb2x5Z29uc1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxBcnJheTxudW1iZXI+Pj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBQb2x5Z29uIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxQb2x5Z29uPn0gUG9seWdvbiBGZWF0dXJlQ29sbGVjdGlvblxuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5Z29ucyA9IHR1cmYucG9seWdvbnMoW1xuICogICBbW1stNSwgNTJdLCBbLTQsIDU2XSwgWy0yLCA1MV0sIFstNywgNTRdLCBbLTUsIDUyXV1dLFxuICogICBbW1stMTUsIDQyXSwgWy0xNCwgNDZdLCBbLTEyLCA0MV0sIFstMTcsIDQ0XSwgWy0xNSwgNDJdXV0sXG4gKiBdKTtcbiAqXG4gKiAvLz1wb2x5Z29uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcG9seWdvbnMoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihjb29yZGluYXRlcy5tYXAoZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICByZXR1cm4gcG9seWdvbihjb29yZHMsIHByb3BlcnRpZXMpO1xuICAgIH0pLCBvcHRpb25zKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBMaW5lU3RyaW5nfSB7QGxpbmsgRmVhdHVyZX0gZnJvbSBhbiBBcnJheSBvZiBQb3NpdGlvbnMuXG4gKlxuICogQG5hbWUgbGluZVN0cmluZ1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9zaXRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TGluZVN0cmluZz59IExpbmVTdHJpbmcgRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lc3RyaW5nMSA9IHR1cmYubGluZVN0cmluZyhbWy0yNCwgNjNdLCBbLTIzLCA2MF0sIFstMjUsIDY1XSwgWy0yMCwgNjldXSwge25hbWU6ICdsaW5lIDEnfSk7XG4gKiB2YXIgbGluZXN0cmluZzIgPSB0dXJmLmxpbmVTdHJpbmcoW1stMTQsIDQzXSwgWy0xMywgNDBdLCBbLTE1LCA0NV0sIFstMTAsIDQ5XV0sIHtuYW1lOiAnbGluZSAyJ30pO1xuICpcbiAqIC8vPWxpbmVzdHJpbmcxXG4gKiAvLz1saW5lc3RyaW5nMlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZVN0cmluZyhjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRpbmF0ZXMgbXVzdCBiZSBhbiBhcnJheSBvZiB0d28gb3IgbW9yZSBwb3NpdGlvbnNcIik7XG4gICAgfVxuICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBcIkxpbmVTdHJpbmdcIixcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzLFxuICAgIH07XG4gICAgcmV0dXJuIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgTGluZVN0cmluZ30ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIExpbmVTdHJpbmcgY29vcmRpbmF0ZXMuXG4gKlxuICogQG5hbWUgbGluZVN0cmluZ3NcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lYXJSaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxMaW5lU3RyaW5nPn0gTGluZVN0cmluZyBGZWF0dXJlQ29sbGVjdGlvblxuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lc3RyaW5ncyA9IHR1cmYubGluZVN0cmluZ3MoW1xuICogICBbWy0yNCwgNjNdLCBbLTIzLCA2MF0sIFstMjUsIDY1XSwgWy0yMCwgNjldXSxcbiAqICAgW1stMTQsIDQzXSwgWy0xMywgNDBdLCBbLTE1LCA0NV0sIFstMTAsIDQ5XV1cbiAqIF0pO1xuICpcbiAqIC8vPWxpbmVzdHJpbmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lU3RyaW5ncyhjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgcmV0dXJuIGZlYXR1cmVDb2xsZWN0aW9uKGNvb3JkaW5hdGVzLm1hcChmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgICAgIHJldHVybiBsaW5lU3RyaW5nKGNvb3JkcywgcHJvcGVydGllcyk7XG4gICAgfSksIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBUYWtlcyBvbmUgb3IgbW9yZSB7QGxpbmsgRmVhdHVyZXxGZWF0dXJlc30gYW5kIGNyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZUNvbGxlY3Rpb259LlxuICpcbiAqIEBuYW1lIGZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0ZlYXR1cmVbXX0gZmVhdHVyZXMgaW5wdXQgZmVhdHVyZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9ufSBGZWF0dXJlQ29sbGVjdGlvbiBvZiBGZWF0dXJlc1xuICogQGV4YW1wbGVcbiAqIHZhciBsb2NhdGlvbkEgPSB0dXJmLnBvaW50KFstNzUuMzQzLCAzOS45ODRdLCB7bmFtZTogJ0xvY2F0aW9uIEEnfSk7XG4gKiB2YXIgbG9jYXRpb25CID0gdHVyZi5wb2ludChbLTc1LjgzMywgMzkuMjg0XSwge25hbWU6ICdMb2NhdGlvbiBCJ30pO1xuICogdmFyIGxvY2F0aW9uQyA9IHR1cmYucG9pbnQoWy03NS41MzQsIDM5LjEyM10sIHtuYW1lOiAnTG9jYXRpb24gQyd9KTtcbiAqXG4gKiB2YXIgY29sbGVjdGlvbiA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICBsb2NhdGlvbkEsXG4gKiAgIGxvY2F0aW9uQixcbiAqICAgbG9jYXRpb25DXG4gKiBdKTtcbiAqXG4gKiAvLz1jb2xsZWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmZWF0dXJlQ29sbGVjdGlvbihmZWF0dXJlcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGZjID0geyB0eXBlOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIgfTtcbiAgICBpZiAob3B0aW9ucy5pZCkge1xuICAgICAgICBmYy5pZCA9IG9wdGlvbnMuaWQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmJib3gpIHtcbiAgICAgICAgZmMuYmJveCA9IG9wdGlvbnMuYmJveDtcbiAgICB9XG4gICAgZmMuZmVhdHVyZXMgPSBmZWF0dXJlcztcbiAgICByZXR1cm4gZmM7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZTxNdWx0aUxpbmVTdHJpbmc+fSBiYXNlZCBvbiBhXG4gKiBjb29yZGluYXRlIGFycmF5LiBQcm9wZXJ0aWVzIGNhbiBiZSBhZGRlZCBvcHRpb25hbGx5LlxuICpcbiAqIEBuYW1lIG11bHRpTGluZVN0cmluZ1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxudW1iZXI+Pj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIExpbmVTdHJpbmdzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TXVsdGlMaW5lU3RyaW5nPn0gYSBNdWx0aUxpbmVTdHJpbmcgZmVhdHVyZVxuICogQHRocm93cyB7RXJyb3J9IGlmIG5vIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlMaW5lID0gdHVyZi5tdWx0aUxpbmVTdHJpbmcoW1tbMCwwXSxbMTAsMTBdXV0pO1xuICpcbiAqIC8vPW11bHRpTGluZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlMaW5lU3RyaW5nKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJNdWx0aUxpbmVTdHJpbmdcIixcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzLFxuICAgIH07XG4gICAgcmV0dXJuIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZTxNdWx0aVBvaW50Pn0gYmFzZWQgb24gYVxuICogY29vcmRpbmF0ZSBhcnJheS4gUHJvcGVydGllcyBjYW4gYmUgYWRkZWQgb3B0aW9uYWxseS5cbiAqXG4gKiBAbmFtZSBtdWx0aVBvaW50XG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBQb3NpdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxNdWx0aVBvaW50Pn0gYSBNdWx0aVBvaW50IGZlYXR1cmVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBubyBjb29yZGluYXRlcyBhcmUgcGFzc2VkXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpUHQgPSB0dXJmLm11bHRpUG9pbnQoW1swLDBdLFsxMCwxMF1dKTtcbiAqXG4gKiAvLz1tdWx0aVB0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aVBvaW50KGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJNdWx0aVBvaW50XCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIEZlYXR1cmU8TXVsdGlQb2x5Z29uPn0gYmFzZWQgb24gYVxuICogY29vcmRpbmF0ZSBhcnJheS4gUHJvcGVydGllcyBjYW4gYmUgYWRkZWQgb3B0aW9uYWxseS5cbiAqXG4gKiBAbmFtZSBtdWx0aVBvbHlnb25cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9seWdvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxNdWx0aVBvbHlnb24+fSBhIG11bHRpcG9seWdvbiBmZWF0dXJlXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgbm8gY29vcmRpbmF0ZXMgYXJlIHBhc3NlZFxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aVBvbHkgPSB0dXJmLm11bHRpUG9seWdvbihbW1tbMCwwXSxbMCwxMF0sWzEwLDEwXSxbMTAsMF0sWzAsMF1dXV0pO1xuICpcbiAqIC8vPW11bHRpUG9seVxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpUG9seWdvbihjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiTXVsdGlQb2x5Z29uXCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIEZlYXR1cmU8R2VvbWV0cnlDb2xsZWN0aW9uPn0gYmFzZWQgb24gYVxuICogY29vcmRpbmF0ZSBhcnJheS4gUHJvcGVydGllcyBjYW4gYmUgYWRkZWQgb3B0aW9uYWxseS5cbiAqXG4gKiBAbmFtZSBnZW9tZXRyeUNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXk8R2VvbWV0cnk+fSBnZW9tZXRyaWVzIGFuIGFycmF5IG9mIEdlb0pTT04gR2VvbWV0cmllc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPEdlb21ldHJ5Q29sbGVjdGlvbj59IGEgR2VvSlNPTiBHZW9tZXRyeUNvbGxlY3Rpb24gRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBwdCA9IHR1cmYuZ2VvbWV0cnkoXCJQb2ludFwiLCBbMTAwLCAwXSk7XG4gKiB2YXIgbGluZSA9IHR1cmYuZ2VvbWV0cnkoXCJMaW5lU3RyaW5nXCIsIFtbMTAxLCAwXSwgWzEwMiwgMV1dKTtcbiAqIHZhciBjb2xsZWN0aW9uID0gdHVyZi5nZW9tZXRyeUNvbGxlY3Rpb24oW3B0LCBsaW5lXSk7XG4gKlxuICogLy8gPT4gY29sbGVjdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VvbWV0cnlDb2xsZWN0aW9uKGdlb21ldHJpZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBcIkdlb21ldHJ5Q29sbGVjdGlvblwiLFxuICAgICAgICBnZW9tZXRyaWVzOiBnZW9tZXRyaWVzLFxuICAgIH07XG4gICAgcmV0dXJuIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vKipcbiAqIFJvdW5kIG51bWJlciB0byBwcmVjaXNpb25cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIE51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gUHJlY2lzaW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSByb3VuZGVkIG51bWJlclxuICogQGV4YW1wbGVcbiAqIHR1cmYucm91bmQoMTIwLjQzMjEpXG4gKiAvLz0xMjBcbiAqXG4gKiB0dXJmLnJvdW5kKDEyMC40MzIxLCAyKVxuICogLy89MTIwLjQzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChudW0sIHByZWNpc2lvbikge1xuICAgIGlmIChwcmVjaXNpb24gPT09IHZvaWQgMCkgeyBwcmVjaXNpb24gPSAwOyB9XG4gICAgaWYgKHByZWNpc2lvbiAmJiAhKHByZWNpc2lvbiA+PSAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcmVjaXNpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtcbiAgICB9XG4gICAgdmFyIG11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uIHx8IDApO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSAqIG11bHRpcGxpZXIpIC8gbXVsdGlwbGllcjtcbn1cbi8qKlxuICogQ29udmVydCBhIGRpc3RhbmNlIG1lYXN1cmVtZW50IChhc3N1bWluZyBhIHNwaGVyaWNhbCBFYXJ0aCkgZnJvbSByYWRpYW5zIHRvIGEgbW9yZSBmcmllbmRseSB1bml0LlxuICogVmFsaWQgdW5pdHM6IG1pbGVzLCBuYXV0aWNhbG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRlcnMsIG1ldHJlcywga2lsb21ldGVycywgY2VudGltZXRlcnMsIGZlZXRcbiAqXG4gKiBAbmFtZSByYWRpYW5zVG9MZW5ndGhcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpYW5zIGluIHJhZGlhbnMgYWNyb3NzIHRoZSBzcGhlcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pdHM9XCJraWxvbWV0ZXJzXCJdIGNhbiBiZSBkZWdyZWVzLCByYWRpYW5zLCBtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0cmVzLFxuICogbWV0ZXJzLCBraWxvbWV0cmVzLCBraWxvbWV0ZXJzLlxuICogQHJldHVybnMge251bWJlcn0gZGlzdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhZGlhbnNUb0xlbmd0aChyYWRpYW5zLCB1bml0cykge1xuICAgIGlmICh1bml0cyA9PT0gdm9pZCAwKSB7IHVuaXRzID0gXCJraWxvbWV0ZXJzXCI7IH1cbiAgICB2YXIgZmFjdG9yID0gZmFjdG9yc1t1bml0c107XG4gICAgaWYgKCFmYWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHVuaXRzICsgXCIgdW5pdHMgaXMgaW52YWxpZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJhZGlhbnMgKiBmYWN0b3I7XG59XG4vKipcbiAqIENvbnZlcnQgYSBkaXN0YW5jZSBtZWFzdXJlbWVudCAoYXNzdW1pbmcgYSBzcGhlcmljYWwgRWFydGgpIGZyb20gYSByZWFsLXdvcmxkIHVuaXQgaW50byByYWRpYW5zXG4gKiBWYWxpZCB1bml0czogbWlsZXMsIG5hdXRpY2FsbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldGVycywgbWV0cmVzLCBraWxvbWV0ZXJzLCBjZW50aW1ldGVycywgZmVldFxuICpcbiAqIEBuYW1lIGxlbmd0aFRvUmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIGluIHJlYWwgdW5pdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pdHM9XCJraWxvbWV0ZXJzXCJdIGNhbiBiZSBkZWdyZWVzLCByYWRpYW5zLCBtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0cmVzLFxuICogbWV0ZXJzLCBraWxvbWV0cmVzLCBraWxvbWV0ZXJzLlxuICogQHJldHVybnMge251bWJlcn0gcmFkaWFuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoVG9SYWRpYW5zKGRpc3RhbmNlLCB1bml0cykge1xuICAgIGlmICh1bml0cyA9PT0gdm9pZCAwKSB7IHVuaXRzID0gXCJraWxvbWV0ZXJzXCI7IH1cbiAgICB2YXIgZmFjdG9yID0gZmFjdG9yc1t1bml0c107XG4gICAgaWYgKCFmYWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHVuaXRzICsgXCIgdW5pdHMgaXMgaW52YWxpZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gZmFjdG9yO1xufVxuLyoqXG4gKiBDb252ZXJ0IGEgZGlzdGFuY2UgbWVhc3VyZW1lbnQgKGFzc3VtaW5nIGEgc3BoZXJpY2FsIEVhcnRoKSBmcm9tIGEgcmVhbC13b3JsZCB1bml0IGludG8gZGVncmVlc1xuICogVmFsaWQgdW5pdHM6IG1pbGVzLCBuYXV0aWNhbG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRlcnMsIG1ldHJlcywgY2VudGltZXRlcnMsIGtpbG9tZXRyZXMsIGZlZXRcbiAqXG4gKiBAbmFtZSBsZW5ndGhUb0RlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSBpbiByZWFsIHVuaXRzXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VuaXRzPVwia2lsb21ldGVyc1wiXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldHJlcyxcbiAqIG1ldGVycywga2lsb21ldHJlcywga2lsb21ldGVycy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRlZ3JlZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aFRvRGVncmVlcyhkaXN0YW5jZSwgdW5pdHMpIHtcbiAgICByZXR1cm4gcmFkaWFuc1RvRGVncmVlcyhsZW5ndGhUb1JhZGlhbnMoZGlzdGFuY2UsIHVuaXRzKSk7XG59XG4vKipcbiAqIENvbnZlcnRzIGFueSBiZWFyaW5nIGFuZ2xlIGZyb20gdGhlIG5vcnRoIGxpbmUgZGlyZWN0aW9uIChwb3NpdGl2ZSBjbG9ja3dpc2UpXG4gKiBhbmQgcmV0dXJucyBhbiBhbmdsZSBiZXR3ZWVuIDAtMzYwIGRlZ3JlZXMgKHBvc2l0aXZlIGNsb2Nrd2lzZSksIDAgYmVpbmcgdGhlIG5vcnRoIGxpbmVcbiAqXG4gKiBAbmFtZSBiZWFyaW5nVG9BemltdXRoXG4gKiBAcGFyYW0ge251bWJlcn0gYmVhcmluZyBhbmdsZSwgYmV0d2VlbiAtMTgwIGFuZCArMTgwIGRlZ3JlZXNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFuZ2xlIGJldHdlZW4gMCBhbmQgMzYwIGRlZ3JlZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJlYXJpbmdUb0F6aW11dGgoYmVhcmluZykge1xuICAgIHZhciBhbmdsZSA9IGJlYXJpbmcgJSAzNjA7XG4gICAgaWYgKGFuZ2xlIDwgMCkge1xuICAgICAgICBhbmdsZSArPSAzNjA7XG4gICAgfVxuICAgIHJldHVybiBhbmdsZTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gYW5nbGUgaW4gcmFkaWFucyB0byBkZWdyZWVzXG4gKlxuICogQG5hbWUgcmFkaWFuc1RvRGVncmVlc1xuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbnMgYW5nbGUgaW4gcmFkaWFuc1xuICogQHJldHVybnMge251bWJlcn0gZGVncmVlcyBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYWRpYW5zVG9EZWdyZWVzKHJhZGlhbnMpIHtcbiAgICB2YXIgZGVncmVlcyA9IHJhZGlhbnMgJSAoMiAqIE1hdGguUEkpO1xuICAgIHJldHVybiAoZGVncmVlcyAqIDE4MCkgLyBNYXRoLlBJO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBhbmdsZSBpbiBkZWdyZWVzIHRvIHJhZGlhbnNcbiAqXG4gKiBAbmFtZSBkZWdyZWVzVG9SYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gZGVncmVlcyBhbmdsZSBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWdyZWVzVG9SYWRpYW5zKGRlZ3JlZXMpIHtcbiAgICB2YXIgcmFkaWFucyA9IGRlZ3JlZXMgJSAzNjA7XG4gICAgcmV0dXJuIChyYWRpYW5zICogTWF0aC5QSSkgLyAxODA7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgbGVuZ3RoIHRvIHRoZSByZXF1ZXN0ZWQgdW5pdC5cbiAqIFZhbGlkIHVuaXRzOiBtaWxlcywgbmF1dGljYWxtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0ZXJzLCBtZXRyZXMsIGtpbG9tZXRlcnMsIGNlbnRpbWV0ZXJzLCBmZWV0XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCB0byBiZSBjb252ZXJ0ZWRcbiAqIEBwYXJhbSB7VW5pdHN9IFtvcmlnaW5hbFVuaXQ9XCJraWxvbWV0ZXJzXCJdIG9mIHRoZSBsZW5ndGhcbiAqIEBwYXJhbSB7VW5pdHN9IFtmaW5hbFVuaXQ9XCJraWxvbWV0ZXJzXCJdIHJldHVybmVkIHVuaXRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBjb252ZXJ0ZWQgbGVuZ3RoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0TGVuZ3RoKGxlbmd0aCwgb3JpZ2luYWxVbml0LCBmaW5hbFVuaXQpIHtcbiAgICBpZiAob3JpZ2luYWxVbml0ID09PSB2b2lkIDApIHsgb3JpZ2luYWxVbml0ID0gXCJraWxvbWV0ZXJzXCI7IH1cbiAgICBpZiAoZmluYWxVbml0ID09PSB2b2lkIDApIHsgZmluYWxVbml0ID0gXCJraWxvbWV0ZXJzXCI7IH1cbiAgICBpZiAoIShsZW5ndGggPj0gMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibGVuZ3RoIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgfVxuICAgIHJldHVybiByYWRpYW5zVG9MZW5ndGgobGVuZ3RoVG9SYWRpYW5zKGxlbmd0aCwgb3JpZ2luYWxVbml0KSwgZmluYWxVbml0KTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBhcmVhIHRvIHRoZSByZXF1ZXN0ZWQgdW5pdC5cbiAqIFZhbGlkIHVuaXRzOiBraWxvbWV0ZXJzLCBraWxvbWV0cmVzLCBtZXRlcnMsIG1ldHJlcywgY2VudGltZXRyZXMsIG1pbGxpbWV0ZXJzLCBhY3JlcywgbWlsZXMsIHlhcmRzLCBmZWV0LCBpbmNoZXMsIGhlY3RhcmVzXG4gKiBAcGFyYW0ge251bWJlcn0gYXJlYSB0byBiZSBjb252ZXJ0ZWRcbiAqIEBwYXJhbSB7VW5pdHN9IFtvcmlnaW5hbFVuaXQ9XCJtZXRlcnNcIl0gb2YgdGhlIGRpc3RhbmNlXG4gKiBAcGFyYW0ge1VuaXRzfSBbZmluYWxVbml0PVwia2lsb21ldGVyc1wiXSByZXR1cm5lZCB1bml0XG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgY29udmVydGVkIGFyZWFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRBcmVhKGFyZWEsIG9yaWdpbmFsVW5pdCwgZmluYWxVbml0KSB7XG4gICAgaWYgKG9yaWdpbmFsVW5pdCA9PT0gdm9pZCAwKSB7IG9yaWdpbmFsVW5pdCA9IFwibWV0ZXJzXCI7IH1cbiAgICBpZiAoZmluYWxVbml0ID09PSB2b2lkIDApIHsgZmluYWxVbml0ID0gXCJraWxvbWV0ZXJzXCI7IH1cbiAgICBpZiAoIShhcmVhID49IDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImFyZWEgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtcbiAgICB9XG4gICAgdmFyIHN0YXJ0RmFjdG9yID0gYXJlYUZhY3RvcnNbb3JpZ2luYWxVbml0XTtcbiAgICBpZiAoIXN0YXJ0RmFjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgb3JpZ2luYWwgdW5pdHNcIik7XG4gICAgfVxuICAgIHZhciBmaW5hbEZhY3RvciA9IGFyZWFGYWN0b3JzW2ZpbmFsVW5pdF07XG4gICAgaWYgKCFmaW5hbEZhY3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZpbmFsIHVuaXRzXCIpO1xuICAgIH1cbiAgICByZXR1cm4gKGFyZWEgLyBzdGFydEZhY3RvcikgKiBmaW5hbEZhY3Rvcjtcbn1cbi8qKlxuICogaXNOdW1iZXJcbiAqXG4gKiBAcGFyYW0geyp9IG51bSBOdW1iZXIgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlL2ZhbHNlXG4gKiBAZXhhbXBsZVxuICogdHVyZi5pc051bWJlcigxMjMpXG4gKiAvLz10cnVlXG4gKiB0dXJmLmlzTnVtYmVyKCdmb28nKVxuICogLy89ZmFsc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKG51bSkge1xuICAgIHJldHVybiAhaXNOYU4obnVtKSAmJiBudW0gIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkobnVtKTtcbn1cbi8qKlxuICogaXNPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IGlucHV0IHZhcmlhYmxlIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICogQGV4YW1wbGVcbiAqIHR1cmYuaXNPYmplY3Qoe2VsZXZhdGlvbjogMTB9KVxuICogLy89dHJ1ZVxuICogdHVyZi5pc09iamVjdCgnZm9vJylcbiAqIC8vPWZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChpbnB1dCkge1xuICAgIHJldHVybiAhIWlucHV0ICYmIGlucHV0LmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XG59XG4vKipcbiAqIFZhbGlkYXRlIEJCb3hcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBiYm94IEJCb3ggdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQHRocm93cyBFcnJvciBpZiBCQm94IGlzIG5vdCB2YWxpZFxuICogQGV4YW1wbGVcbiAqIHZhbGlkYXRlQkJveChbLTE4MCwgLTQwLCAxMTAsIDUwXSlcbiAqIC8vPU9LXG4gKiB2YWxpZGF0ZUJCb3goWy0xODAsIC00MF0pXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVCQm94KCdGb28nKVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlQkJveCg1KVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlQkJveChudWxsKVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlQkJveCh1bmRlZmluZWQpXG4gKiAvLz1FcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVCQm94KGJib3gpIHtcbiAgICBpZiAoIWJib3gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYmJveCBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJib3gpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImJib3ggbXVzdCBiZSBhbiBBcnJheVwiKTtcbiAgICB9XG4gICAgaWYgKGJib3gubGVuZ3RoICE9PSA0ICYmIGJib3gubGVuZ3RoICE9PSA2KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImJib3ggbXVzdCBiZSBhbiBBcnJheSBvZiA0IG9yIDYgbnVtYmVyc1wiKTtcbiAgICB9XG4gICAgYmJveC5mb3JFYWNoKGZ1bmN0aW9uIChudW0pIHtcbiAgICAgICAgaWYgKCFpc051bWJlcihudW0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYm94IG11c3Qgb25seSBjb250YWluIG51bWJlcnNcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogVmFsaWRhdGUgSWRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBpZCBJZCB0byB2YWxpZGF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAdGhyb3dzIEVycm9yIGlmIElkIGlzIG5vdCB2YWxpZFxuICogQGV4YW1wbGVcbiAqIHZhbGlkYXRlSWQoWy0xODAsIC00MCwgMTEwLCA1MF0pXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVJZChbLTE4MCwgLTQwXSlcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUlkKCdGb28nKVxuICogLy89T0tcbiAqIHZhbGlkYXRlSWQoNSlcbiAqIC8vPU9LXG4gKiB2YWxpZGF0ZUlkKG51bGwpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVJZCh1bmRlZmluZWQpXG4gKiAvLz1FcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVJZChpZCkge1xuICAgIGlmICghaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWQgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmIChbXCJzdHJpbmdcIiwgXCJudW1iZXJcIl0uaW5kZXhPZih0eXBlb2YgaWQpID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpZCBtdXN0IGJlIGEgbnVtYmVyIG9yIGEgc3RyaW5nXCIpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBwb2ludCB9IGZyb20gXCJAdHVyZi9oZWxwZXJzXCI7XG4vKipcbiAqIFRha2VzIGEge0BsaW5rIExpbmVTdHJpbmd8bGluZXN0cmluZ30sIHtAbGluayBNdWx0aUxpbmVTdHJpbmd8bXVsdGktbGluZXN0cmluZ30sXG4gKiB7QGxpbmsgTXVsdGlQb2x5Z29ufG11bHRpLXBvbHlnb259IG9yIHtAbGluayBQb2x5Z29ufHBvbHlnb259IGFuZFxuICogcmV0dXJucyB7QGxpbmsgUG9pbnR8cG9pbnRzfSBhdCBhbGwgc2VsZi1pbnRlcnNlY3Rpb25zLlxuICpcbiAqIEBuYW1lIGtpbmtzXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZ3xNdWx0aUxpbmVTdHJpbmd8TXVsdGlQb2x5Z29ufFBvbHlnb24+fSBmZWF0dXJlSW4gaW5wdXQgZmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9uPFBvaW50Pn0gc2VsZi1pbnRlcnNlY3Rpb25zXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvbHkgPSB0dXJmLnBvbHlnb24oW1tcbiAqICAgWy0xMi4wMzQ4MzUsIDguOTAxMTgzXSxcbiAqICAgWy0xMi4wNjA0MTMsIDguODk5ODI2XSxcbiAqICAgWy0xMi4wMzYzOCwgOC44NzMxOTldLFxuICogICBbLTEyLjA1OTM4MywgOC44NzE0MThdLFxuICogICBbLTEyLjAzNDgzNSwgOC45MDExODNdXG4gKiBdXSk7XG4gKlxuICogdmFyIGtpbmtzID0gdHVyZi5raW5rcyhwb2x5KTtcbiAqXG4gKiAvL2FkZFRvTWFwXG4gKiB2YXIgYWRkVG9NYXAgPSBbcG9seSwga2lua3NdXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGtpbmtzKGZlYXR1cmVJbikge1xuICAgIHZhciBjb29yZGluYXRlcztcbiAgICB2YXIgZmVhdHVyZTtcbiAgICB2YXIgcmVzdWx0cyA9IHtcbiAgICAgICAgdHlwZTogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgICAgICBmZWF0dXJlczogW10sXG4gICAgfTtcbiAgICBpZiAoZmVhdHVyZUluLnR5cGUgPT09IFwiRmVhdHVyZVwiKSB7XG4gICAgICAgIGZlYXR1cmUgPSBmZWF0dXJlSW4uZ2VvbWV0cnk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmZWF0dXJlID0gZmVhdHVyZUluO1xuICAgIH1cbiAgICBpZiAoZmVhdHVyZS50eXBlID09PSBcIkxpbmVTdHJpbmdcIikge1xuICAgICAgICBjb29yZGluYXRlcyA9IFtmZWF0dXJlLmNvb3JkaW5hdGVzXTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmVhdHVyZS50eXBlID09PSBcIk11bHRpTGluZVN0cmluZ1wiKSB7XG4gICAgICAgIGNvb3JkaW5hdGVzID0gZmVhdHVyZS5jb29yZGluYXRlcztcbiAgICB9XG4gICAgZWxzZSBpZiAoZmVhdHVyZS50eXBlID09PSBcIk11bHRpUG9seWdvblwiKSB7XG4gICAgICAgIGNvb3JkaW5hdGVzID0gW10uY29uY2F0LmFwcGx5KFtdLCBmZWF0dXJlLmNvb3JkaW5hdGVzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmVhdHVyZS50eXBlID09PSBcIlBvbHlnb25cIikge1xuICAgICAgICBjb29yZGluYXRlcyA9IGZlYXR1cmUuY29vcmRpbmF0ZXM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBtdXN0IGJlIGEgTGluZVN0cmluZywgTXVsdGlMaW5lU3RyaW5nLCBcIiArXG4gICAgICAgICAgICBcIlBvbHlnb24sIG9yIE11bHRpUG9seWdvbiBGZWF0dXJlIG9yIEdlb21ldHJ5XCIpO1xuICAgIH1cbiAgICBjb29yZGluYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lMSkge1xuICAgICAgICBjb29yZGluYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lMikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lMS5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBpdGVyYXRpb24gYXQgaSwgaW50ZXJzZWN0aW9ucyBmb3IgayA8IGkgaGF2ZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgLy8gYmVlbiBjaGVja2VkIGluIHByZXZpb3VzIG91dGVyIGxvb3AgaXRlcmF0aW9uc1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSBpOyBrIDwgbGluZTIubGVuZ3RoIC0gMTsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lMSA9PT0gbGluZTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlZ21lbnRzIGFyZSBhZGphY2VudCBhbmQgYWx3YXlzIHNoYXJlIGEgdmVydGV4LCBub3QgYSBraW5rXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoaSAtIGspID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaXJzdCBhbmQgbGFzdCBzZWdtZW50IGluIGEgY2xvc2VkIGxpbmVTdHJpbmcgb3IgcmluZyBhbHdheXMgc2hhcmUgYSB2ZXJ0ZXgsIG5vdCBhIGtpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlZ21lbnRzIGFyZSBmaXJzdCBhbmQgbGFzdCBzZWdtZW50IG9mIGxpbmVTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrID09PSBsaW5lMS5sZW5ndGggLSAyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGluZVN0cmluZyBpcyBjbG9zZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lMVtpXVswXSA9PT0gbGluZTFbbGluZTEubGVuZ3RoIC0gMV1bMF0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lMVtpXVsxXSA9PT0gbGluZTFbbGluZTEubGVuZ3RoIC0gMV1bMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJzZWN0aW9uID0gbGluZUludGVyc2VjdHMobGluZTFbaV1bMF0sIGxpbmUxW2ldWzFdLCBsaW5lMVtpICsgMV1bMF0sIGxpbmUxW2kgKyAxXVsxXSwgbGluZTJba11bMF0sIGxpbmUyW2tdWzFdLCBsaW5lMltrICsgMV1bMF0sIGxpbmUyW2sgKyAxXVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMuZmVhdHVyZXMucHVzaChwb2ludChbaW50ZXJzZWN0aW9uWzBdLCBpbnRlcnNlY3Rpb25bMV1dKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xufVxuLy8gbW9kaWZpZWQgZnJvbSBodHRwOi8vanNmaWRkbGUubmV0L2p1c3Rpbl9jX3JvdW5kcy9HZDJTMi9saWdodC9cbmZ1bmN0aW9uIGxpbmVJbnRlcnNlY3RzKGxpbmUxU3RhcnRYLCBsaW5lMVN0YXJ0WSwgbGluZTFFbmRYLCBsaW5lMUVuZFksIGxpbmUyU3RhcnRYLCBsaW5lMlN0YXJ0WSwgbGluZTJFbmRYLCBsaW5lMkVuZFkpIHtcbiAgICAvLyBpZiB0aGUgbGluZXMgaW50ZXJzZWN0LCB0aGUgcmVzdWx0IGNvbnRhaW5zIHRoZSB4IGFuZCB5IG9mIHRoZVxuICAgIC8vIGludGVyc2VjdGlvbiAodHJlYXRpbmcgdGhlIGxpbmVzIGFzIGluZmluaXRlKSBhbmQgYm9vbGVhbnMgZm9yIHdoZXRoZXJcbiAgICAvLyBsaW5lIHNlZ21lbnQgMSBvciBsaW5lIHNlZ21lbnQgMiBjb250YWluIHRoZSBwb2ludFxuICAgIHZhciBkZW5vbWluYXRvcjtcbiAgICB2YXIgYTtcbiAgICB2YXIgYjtcbiAgICB2YXIgbnVtZXJhdG9yMTtcbiAgICB2YXIgbnVtZXJhdG9yMjtcbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICB4OiBudWxsLFxuICAgICAgICB5OiBudWxsLFxuICAgICAgICBvbkxpbmUxOiBmYWxzZSxcbiAgICAgICAgb25MaW5lMjogZmFsc2UsXG4gICAgfTtcbiAgICBkZW5vbWluYXRvciA9XG4gICAgICAgIChsaW5lMkVuZFkgLSBsaW5lMlN0YXJ0WSkgKiAobGluZTFFbmRYIC0gbGluZTFTdGFydFgpIC1cbiAgICAgICAgICAgIChsaW5lMkVuZFggLSBsaW5lMlN0YXJ0WCkgKiAobGluZTFFbmRZIC0gbGluZTFTdGFydFkpO1xuICAgIGlmIChkZW5vbWluYXRvciA9PT0gMCkge1xuICAgICAgICBpZiAocmVzdWx0LnggIT09IG51bGwgJiYgcmVzdWx0LnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYSA9IGxpbmUxU3RhcnRZIC0gbGluZTJTdGFydFk7XG4gICAgYiA9IGxpbmUxU3RhcnRYIC0gbGluZTJTdGFydFg7XG4gICAgbnVtZXJhdG9yMSA9IChsaW5lMkVuZFggLSBsaW5lMlN0YXJ0WCkgKiBhIC0gKGxpbmUyRW5kWSAtIGxpbmUyU3RhcnRZKSAqIGI7XG4gICAgbnVtZXJhdG9yMiA9IChsaW5lMUVuZFggLSBsaW5lMVN0YXJ0WCkgKiBhIC0gKGxpbmUxRW5kWSAtIGxpbmUxU3RhcnRZKSAqIGI7XG4gICAgYSA9IG51bWVyYXRvcjEgLyBkZW5vbWluYXRvcjtcbiAgICBiID0gbnVtZXJhdG9yMiAvIGRlbm9taW5hdG9yO1xuICAgIC8vIGlmIHdlIGNhc3QgdGhlc2UgbGluZXMgaW5maW5pdGVseSBpbiBib3RoIGRpcmVjdGlvbnMsIHRoZXkgaW50ZXJzZWN0IGhlcmU6XG4gICAgcmVzdWx0LnggPSBsaW5lMVN0YXJ0WCArIGEgKiAobGluZTFFbmRYIC0gbGluZTFTdGFydFgpO1xuICAgIHJlc3VsdC55ID0gbGluZTFTdGFydFkgKyBhICogKGxpbmUxRW5kWSAtIGxpbmUxU3RhcnRZKTtcbiAgICAvLyBpZiBsaW5lMSBpcyBhIHNlZ21lbnQgYW5kIGxpbmUyIGlzIGluZmluaXRlLCB0aGV5IGludGVyc2VjdCBpZjpcbiAgICBpZiAoYSA+PSAwICYmIGEgPD0gMSkge1xuICAgICAgICByZXN1bHQub25MaW5lMSA9IHRydWU7XG4gICAgfVxuICAgIC8vIGlmIGxpbmUyIGlzIGEgc2VnbWVudCBhbmQgbGluZTEgaXMgaW5maW5pdGUsIHRoZXkgaW50ZXJzZWN0IGlmOlxuICAgIGlmIChiID49IDAgJiYgYiA8PSAxKSB7XG4gICAgICAgIHJlc3VsdC5vbkxpbmUyID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gaWYgbGluZTEgYW5kIGxpbmUyIGFyZSBzZWdtZW50cywgdGhleSBpbnRlcnNlY3QgaWYgYm90aCBvZiB0aGUgYWJvdmUgYXJlIHRydWVcbiAgICBpZiAocmVzdWx0Lm9uTGluZTEgJiYgcmVzdWx0Lm9uTGluZTIpIHtcbiAgICAgICAgcmV0dXJuIFtyZXN1bHQueCwgcmVzdWx0LnldO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiIsICJpbXBvcnQga2lua3MgZnJvbSAnQHR1cmYva2lua3MnO1xuaW1wb3J0IERyYXcgZnJvbSAnLi9MLlBNLkRyYXcnO1xuXG5pbXBvcnQgeyBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5EcmF3LkxpbmUgPSBEcmF3LmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIHRoaXMuX3NoYXBlID0gJ0xpbmUnO1xuICAgIHRoaXMudG9vbGJhckJ1dHRvbk5hbWUgPSAnZHJhd1BvbHlsaW5lJztcbiAgICB0aGlzLl9kb2VzU2VsZkludGVyc2VjdCA9IGZhbHNlO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgLy8gZW5hYmxlIGRyYXcgbW9kZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5fbWFya2VycyA9IFtdO1xuXG4gICAgLy8gY3JlYXRlIGEgbmV3IGxheWVyZ3JvdXBcbiAgICB0aGlzLl9sYXllckdyb3VwID0gbmV3IEwuRmVhdHVyZUdyb3VwKCk7XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkVG8odGhpcy5fbWFwKTtcblxuICAgIC8vIHRoaXMgaXMgdGhlIHBvbHlMaW5lIHRoYXQnbGwgbWFrZSB1cCB0aGUgcG9seWdvblxuICAgIHRoaXMuX2xheWVyID0gTC5wb2x5bGluZShbXSwge1xuICAgICAgLi4udGhpcy5vcHRpb25zLnRlbXBsaW5lU3R5bGUsXG4gICAgICBwbUlnbm9yZTogZmFsc2UsXG4gICAgfSk7XG4gICAgdGhpcy5fc2V0UGFuZSh0aGlzLl9sYXllciwgJ2xheWVyUGFuZScpO1xuICAgIHRoaXMuX2xheWVyLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9sYXllcik7XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBoaW50bGluZSBmcm9tIHRoZSBtb3VzZSBjdXJzb3IgdG8gdGhlIGxhc3QgbWFya2VyXG4gICAgdGhpcy5faGludGxpbmUgPSBMLnBvbHlsaW5lKFtdLCB0aGlzLm9wdGlvbnMuaGludGxpbmVTdHlsZSk7XG4gICAgdGhpcy5fc2V0UGFuZSh0aGlzLl9oaW50bGluZSwgJ2xheWVyUGFuZScpO1xuICAgIHRoaXMuX2hpbnRsaW5lLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9oaW50bGluZSk7XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBoaW50bWFya2VyIG9uIHRoZSBtb3VzZSBjdXJzb3JcbiAgICB0aGlzLl9oaW50TWFya2VyID0gTC5tYXJrZXIodGhpcy5fbWFwLmdldENlbnRlcigpLCB7XG4gICAgICBpbnRlcmFjdGl2ZTogZmFsc2UsIC8vIGFsd2F5cyB2ZXJ0ZXggbWFya2VyIGJlbG93IHdpbGwgYmUgdHJpZ2dlcmVkIGZyb20gdGhlIGNsaWNrIGV2ZW50IC0+IF9maW5pc2hTaGFwZSAjOTExXG4gICAgICB6SW5kZXhPZmZzZXQ6IDEwMCxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uIGN1cnNvci1tYXJrZXInIH0pLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5faGludE1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcbiAgICB0aGlzLl9oaW50TWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9oaW50TWFya2VyKTtcblxuICAgIC8vIHNob3cgdGhlIGhpbnRtYXJrZXIgaWYgdGhlIG9wdGlvbiBpcyBzZXRcbiAgICBpZiAodGhpcy5vcHRpb25zLmN1cnNvck1hcmtlcikge1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2hpbnRNYXJrZXIuX2ljb24sICd2aXNpYmxlJyk7XG4gICAgfVxuXG4gICAgLy8gYWRkIHRvb2x0aXAgdG8gaGludG1hcmtlclxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXJcbiAgICAgICAgLmJpbmRUb29sdGlwKGdldFRyYW5zbGF0aW9uKCd0b29sdGlwcy5maXJzdFZlcnRleCcpLCB7XG4gICAgICAgICAgcGVybWFuZW50OiB0cnVlLFxuICAgICAgICAgIG9mZnNldDogTC5wb2ludCgwLCAxMCksXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYm90dG9tJyxcblxuICAgICAgICAgIG9wYWNpdHk6IDAuOCxcbiAgICAgICAgfSlcbiAgICAgICAgLm9wZW5Ub29sdGlwKCk7XG4gICAgfVxuXG4gICAgLy8gY2hhbmdlIG1hcCBjdXJzb3JcbiAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuY2xhc3NMaXN0LmFkZCgnZ2VvbWFuLWRyYXctY3Vyc29yJyk7XG5cbiAgICAvLyBjcmVhdGUgYSBwb2x5Z29uLXBvaW50IG9uIGNsaWNrXG4gICAgdGhpcy5fbWFwLm9uKCdjbGljaycsIHRoaXMuX2NyZWF0ZVZlcnRleCwgdGhpcyk7XG5cbiAgICAvLyBmaW5pc2ggb24gbGF5ZXIgZXZlbnRcbiAgICAvLyAjaHR0cDovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLmh0bWwjaW50ZXJhY3RpdmUtbGF5ZXItY2xpY2tcbiAgICBpZiAodGhpcy5vcHRpb25zLmZpbmlzaE9uICYmIHRoaXMub3B0aW9ucy5maW5pc2hPbiAhPT0gJ3NuYXAnKSB7XG4gICAgICB0aGlzLl9tYXAub24odGhpcy5vcHRpb25zLmZpbmlzaE9uLCB0aGlzLl9maW5pc2hTaGFwZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLy8gcHJldmVudCB6b29tIG9uIGRvdWJsZSBjbGljayBpZiBmaW5pc2hPbiBpcyA9PT0gZGJsY2xpY2tcbiAgICBpZiAodGhpcy5vcHRpb25zLmZpbmlzaE9uID09PSAnZGJsY2xpY2snKSB7XG4gICAgICB0aGlzLnRlbXBNYXBEb3VibGVDbGlja1pvb21TdGF0ZSA9IHRoaXMuX21hcC5kb3VibGVDbGlja1pvb20uX2VuYWJsZWQ7XG5cbiAgICAgIGlmICh0aGlzLnRlbXBNYXBEb3VibGVDbGlja1pvb21TdGF0ZSkge1xuICAgICAgICB0aGlzLl9tYXAuZG91YmxlQ2xpY2tab29tLmRpc2FibGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzeW5jIGhpbnQgbWFya2VyIHdpdGggbW91c2UgY3Vyc29yXG4gICAgdGhpcy5fbWFwLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyBzeW5jIHRoZSBoaW50bGluZSB3aXRoIGhpbnQgbWFya2VyXG4gICAgdGhpcy5faGludE1hcmtlci5vbignbW92ZScsIHRoaXMuX3N5bmNIaW50TGluZSwgdGhpcyk7XG5cbiAgICAvLyB0b2dnbGUgdGhlIGRyYXcgYnV0dG9uIG9mIHRoZSBUb29sYmFyIGluIGNhc2UgZHJhd2luZyBtb2RlIGdvdCBlbmFibGVkIHdpdGhvdXQgdGhlIGJ1dHRvblxuICAgIHRoaXMuX21hcC5wbS5Ub29sYmFyLnRvZ2dsZUJ1dHRvbih0aGlzLnRvb2xiYXJCdXR0b25OYW1lLCB0cnVlKTtcblxuICAgIC8vIGFuIGFycmF5IHVzZWQgaW4gdGhlIHNuYXBwaW5nIG1peGluLlxuICAgIC8vIFRPRE86IHRoaW5rIGFib3V0IG1vdmluZyB0aGlzIHNvbWV3aGVyZSBlbHNlP1xuICAgIHRoaXMuX290aGVyU25hcExheWVycyA9IFtdO1xuXG4gICAgLy8gbWFrZSBzdXJlIGludGVyc2VjdGlvbiBpcyBub3Qgc2V0IHdoaWxlIHN0YXJ0IGRyYXdpbmdcbiAgICB0aGlzLmlzUmVkID0gZmFsc2U7XG5cbiAgICAvLyBmaXJlIGRyYXdzdGFydCBldmVudFxuICAgIHRoaXMuX2ZpcmVEcmF3U3RhcnQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIGRpc2FibGUgZHJhdyBtb2RlXG5cbiAgICAvLyBjYW5jZWwsIGlmIGRyYXdpbmcgbW9kZSBpc24ndCBldmVuIGVuYWJsZWRcbiAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cbiAgICAvLyByZXNldCBjdXJzb3JcbiAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuY2xhc3NMaXN0LnJlbW92ZSgnZ2VvbWFuLWRyYXctY3Vyc29yJyk7XG5cbiAgICAvLyB1bmJpbmQgbGlzdGVuZXJzXG4gICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9jcmVhdGVWZXJ0ZXgsIHRoaXMpO1xuICAgIHRoaXMuX21hcC5vZmYoJ21vdXNlbW92ZScsIHRoaXMuX3N5bmNIaW50TWFya2VyLCB0aGlzKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmZpbmlzaE9uICYmIHRoaXMub3B0aW9ucy5maW5pc2hPbiAhPT0gJ3NuYXAnKSB7XG4gICAgICB0aGlzLl9tYXAub2ZmKHRoaXMub3B0aW9ucy5maW5pc2hPbiwgdGhpcy5fZmluaXNoU2hhcGUsIHRoaXMpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRlbXBNYXBEb3VibGVDbGlja1pvb21TdGF0ZSkge1xuICAgICAgdGhpcy5fbWFwLmRvdWJsZUNsaWNrWm9vbS5lbmFibGUoKTtcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgbGF5ZXJcbiAgICB0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fbGF5ZXJHcm91cCk7XG5cbiAgICAvLyB0b2dnbGUgdGhlIGRyYXcgYnV0dG9uIG9mIHRoZSBUb29sYmFyIGluIGNhc2UgZHJhd2luZyBtb2RlIGdvdCBkaXNhYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgZmFsc2UpO1xuXG4gICAgLy8gY2xlYW51cCBzbmFwcGluZ1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcbiAgICB9XG5cbiAgICAvLyBmaXJlIGRyYXdlbmQgZXZlbnRcbiAgICB0aGlzLl9maXJlRHJhd0VuZCgpO1xuICAgIHRoaXMuX3NldEdsb2JhbERyYXdNb2RlKCk7XG4gIH0sXG4gIGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gIH0sXG4gIHRvZ2dsZShvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGUob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuICBfc3luY0hpbnRMaW5lKCkge1xuICAgIGNvbnN0IHBvbHlQb2ludHMgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICBpZiAocG9seVBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBsYXN0UG9seWdvblBvaW50ID0gcG9seVBvaW50c1twb2x5UG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAvLyBzZXQgY29vcmRzIGZvciBoaW50bGluZSBmcm9tIG1hcmtlciB0byBsYXN0IHZlcnRleCBvZiBkcmF3aW4gcG9seWxpbmVcbiAgICAgIHRoaXMuX2hpbnRsaW5lLnNldExhdExuZ3MoW1xuICAgICAgICBsYXN0UG9seWdvblBvaW50LFxuICAgICAgICB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpLFxuICAgICAgXSk7XG4gICAgfVxuICB9LFxuICBfc3luY0hpbnRNYXJrZXIoZSkge1xuICAgIC8vIG1vdmUgdGhlIGN1cnNvciBtYXJrZXJcbiAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG5cbiAgICAvLyBpZiBzbmFwcGluZyBpcyBlbmFibGVkLCBkbyBpdFxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICBjb25zdCBmYWtlRHJhZ0V2ZW50ID0gZTtcbiAgICAgIGZha2VEcmFnRXZlbnQudGFyZ2V0ID0gdGhpcy5faGludE1hcmtlcjtcbiAgICAgIHRoaXMuX2hhbmRsZVNuYXBwaW5nKGZha2VEcmFnRXZlbnQpO1xuICAgIH1cblxuICAgIC8vIGlmIHNlbGYtaW50ZXJzZWN0aW9uIGlzIGZvcmJpZGRlbiwgaGFuZGxlIGl0XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uKSB7XG4gICAgICB0aGlzLl9oYW5kbGVTZWxmSW50ZXJzZWN0aW9uKHRydWUsIHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCkpO1xuICAgIH1cbiAgICBjb25zdCBsYXRsbmdzID0gdGhpcy5fbGF5ZXIuX2RlZmF1bHRTaGFwZSgpLnNsaWNlKCk7XG4gICAgbGF0bG5ncy5wdXNoKHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCkpO1xuICAgIHRoaXMuX2NoYW5nZShsYXRsbmdzKTtcbiAgfSxcbiAgaGFzU2VsZkludGVyc2VjdGlvbigpIHtcbiAgICAvLyBjaGVjayBmb3Igc2VsZiBpbnRlcnNlY3Rpb24gb2YgdGhlIGxheWVyIGFuZCByZXR1cm4gdHJ1ZS9mYWxzZVxuICAgIGNvbnN0IHNlbGZJbnRlcnNlY3Rpb24gPSBraW5rcyh0aGlzLl9sYXllci50b0dlb0pTT04oMTUpKTtcbiAgICByZXR1cm4gc2VsZkludGVyc2VjdGlvbi5mZWF0dXJlcy5sZW5ndGggPiAwO1xuICB9LFxuICBfaGFuZGxlU2VsZkludGVyc2VjdGlvbihhZGRWZXJ0ZXgsIGxhdGxuZykge1xuICAgIC8vIG9rIHdlIG5lZWQgdG8gY2hlY2sgdGhlIHNlbGYgaW50ZXJzZWN0aW9uIGhlcmVcbiAgICAvLyBwcm9ibGVtOiBkdXJpbmcgZHJhdywgdGhlIG1hcmtlciBvbiB0aGUgY3Vyc29yIGlzIG5vdCB5ZXQgcGFydFxuICAgIC8vIG9mIHRoZSBsYXllci4gU28gd2UgbmVlZCB0byBjbG9uZSB0aGUgbGF5ZXIsIGFkZCB0aGVcbiAgICAvLyBwb3RlbnRpYWwgbmV3IHZlcnRleCAoY3Vyc29yIG1hcmtlcnMgbGF0bG5ncykgYW5kIGNoZWNrIHRoZSBzZWxmXG4gICAgLy8gaW50ZXJzZWN0aW9uIG9uIHRoZSBjbG9uZS4gUGhldy4uLiAtIGxldCdzIGRvIGl0IFx1RDgzRFx1RENBQVxuXG4gICAgLy8gY2xvbmUgbGF5ZXIgKHBvbHlsaW5lIGlzIGVub3VnaCwgZXZlbiB3aGVuIGl0J3MgYSBwb2x5Z29uKVxuICAgIGNvbnN0IGNsb25lID0gTC5wb2x5bGluZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCkpO1xuXG4gICAgaWYgKGFkZFZlcnRleCkge1xuICAgICAgLy8gZ2V0IHZlcnRleCBmcm9tIHBhcmFtIG9yIGZyb20gaGludG1hcmtlclxuICAgICAgaWYgKCFsYXRsbmcpIHtcbiAgICAgICAgbGF0bG5nID0gdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIHRoZSB2ZXJ0ZXhcbiAgICAgIGNsb25lLmFkZExhdExuZyhsYXRsbmcpO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIHRoZSBzZWxmIGludGVyc2VjdGlvblxuICAgIGNvbnN0IHNlbGZJbnRlcnNlY3Rpb24gPSBraW5rcyhjbG9uZS50b0dlb0pTT04oMTUpKTtcbiAgICB0aGlzLl9kb2VzU2VsZkludGVyc2VjdCA9IHNlbGZJbnRlcnNlY3Rpb24uZmVhdHVyZXMubGVuZ3RoID4gMDtcblxuICAgIC8vIGNoYW5nZSB0aGUgc3R5bGUgYmFzZWQgb24gc2VsZiBpbnRlcnNlY3Rpb25cbiAgICBpZiAodGhpcy5fZG9lc1NlbGZJbnRlcnNlY3QpIHtcbiAgICAgIGlmICghdGhpcy5pc1JlZCkge1xuICAgICAgICB0aGlzLmlzUmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faGludGxpbmUuc2V0U3R5bGUoe1xuICAgICAgICAgIGNvbG9yOiAnI2YwMDAwMGZmJyxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGZpcmUgaW50ZXJzZWN0IGV2ZW50XG4gICAgICAgIHRoaXMuX2ZpcmVJbnRlcnNlY3Qoc2VsZkludGVyc2VjdGlvbiwgdGhpcy5fbWFwLCAnRHJhdycpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXRoaXMuX2hpbnRsaW5lLmlzRW1wdHkoKSkge1xuICAgICAgdGhpcy5pc1JlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5faGludGxpbmUuc2V0U3R5bGUodGhpcy5vcHRpb25zLmhpbnRsaW5lU3R5bGUpO1xuICAgIH1cbiAgfSxcbiAgX2NyZWF0ZVZlcnRleChlKSB7XG4gICAgLy8gZG9uJ3QgY3JlYXRlIGEgdmVydGV4IGlmIHdlIGhhdmUgYSBzZWxmSW50ZXJzZWN0aW9uIGFuZCBpdCBpcyBub3QgYWxsb3dlZFxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgdGhpcy5faGFuZGxlU2VsZkludGVyc2VjdGlvbih0cnVlLCBlLmxhdGxuZyk7XG5cbiAgICAgIGlmICh0aGlzLl9kb2VzU2VsZkludGVyc2VjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYXNzaWduIHRoZSBjb29yZGluYXRlIG9mIHRoZSBjbGljayB0byB0aGUgaGludE1hcmtlciwgdGhhdCdzIG5lY2Vzc2FyeSBmb3JcbiAgICAvLyBtb2JpbGUgd2hlcmUgdGhlIG1hcmtlciBjYW4ndCBmb2xsb3cgYSBjdXJzb3JcbiAgICBpZiAoIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKGUubGF0bG5nKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgY29vcmRpbmF0ZSBmb3IgbmV3IHZlcnRleCBieSBoaW50TWFya2VyIChjdXJzb3IgbWFya2VyKVxuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICAvLyBjaGVjayBpZiB0aGUgZmlyc3QgYW5kIHRoaXMgdmVydGV4IGhhdmUgdGhlIHNhbWUgbGF0bG5nXG4gICAgLy8gb3IgdGhlIGxhc3QgdmVydGV4IGFuZCB0aGUgaGludE1hcmtlciBoYXZlIHRoZSBzYW1lIGxhdGxuZyAoZGJsLWNsaWNrKVxuICAgIGNvbnN0IGxhdGxuZ3MgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICBjb25zdCBsYXN0TGF0TG5nID0gbGF0bG5nc1tsYXRsbmdzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChcbiAgICAgIGxhdGxuZy5lcXVhbHMobGF0bG5nc1swXSkgfHxcbiAgICAgIChsYXRsbmdzLmxlbmd0aCA+IDAgJiYgbGF0bG5nLmVxdWFscyhsYXN0TGF0TG5nKSlcbiAgICApIHtcbiAgICAgIC8vIHllcz8gZmluaXNoIHRoZSBwb2x5Z29uXG4gICAgICB0aGlzLl9maW5pc2hTaGFwZSgpO1xuXG4gICAgICAvLyBcIndoeT9cIiwgeW91IGFzaz8gQmVjYXVzZSB0aGlzIGhhcHBlbnMgd2hlbiB3ZSBzbmFwIHRoZSBsYXN0IHZlcnRleCB0byB0aGUgZmlyc3Qgb25lXG4gICAgICAvLyBhbmQgdGhlbiBjbGljayB3aXRob3V0IGhpdHRpbmcgdGhlIGxhc3QgbWFya2VyLiBDbGljayBoYXBwZW5zIG9uIHRoZSBtYXBcbiAgICAgIC8vIGluIDk5JSBvZiBjYXNlcyBpdCdzIGJlY2F1c2UgdGhlIHVzZXIgd2FudHMgdG8gZmluaXNoIHRoZSBwb2x5Z29uLiBTby4uLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2xheWVyLl9sYXRsbmdJbmZvID0gdGhpcy5fbGF5ZXIuX2xhdGxuZ0luZm8gfHwgW107XG4gICAgdGhpcy5fbGF5ZXIuX2xhdGxuZ0luZm8ucHVzaCh7XG4gICAgICBsYXRsbmcsXG4gICAgICBzbmFwSW5mbzogdGhpcy5faGludE1hcmtlci5fc25hcEluZm8sXG4gICAgfSk7XG5cbiAgICB0aGlzLl9sYXllci5hZGRMYXRMbmcobGF0bG5nKTtcbiAgICBjb25zdCBuZXdNYXJrZXIgPSB0aGlzLl9jcmVhdGVNYXJrZXIobGF0bG5nKTtcbiAgICB0aGlzLl9zZXRUb29sdGlwVGV4dCgpO1xuXG4gICAgdGhpcy5fc2V0SGludExpbmVBZnRlck5ld1ZlcnRleChsYXRsbmcpO1xuXG4gICAgdGhpcy5fZmlyZVZlcnRleEFkZGVkKG5ld01hcmtlciwgdW5kZWZpbmVkLCBsYXRsbmcsICdEcmF3Jyk7XG4gICAgdGhpcy5fY2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSk7XG4gICAgLy8gY2hlY2sgaWYgd2Ugc2hvdWxkIGZpbmlzaCBvbiBzbmFwXG4gICAgaWYgKHRoaXMub3B0aW9ucy5maW5pc2hPbiA9PT0gJ3NuYXAnICYmIHRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgIHRoaXMuX2ZpbmlzaFNoYXBlKGUpO1xuICAgIH1cbiAgfSxcbiAgX3NldEhpbnRMaW5lQWZ0ZXJOZXdWZXJ0ZXgoaGludE1hcmtlckxhdExuZykge1xuICAgIC8vIG1ha2UgdGhlIG5ldyBkcmF3biBsaW5lICh3aXRoIGFub3RoZXIgc3R5bGUpIHZpc2libGVcbiAgICB0aGlzLl9oaW50bGluZS5zZXRMYXRMbmdzKFtoaW50TWFya2VyTGF0TG5nLCBoaW50TWFya2VyTGF0TG5nXSk7XG4gIH0sXG4gIF9yZW1vdmVMYXN0VmVydGV4KCkge1xuICAgIGNvbnN0IG1hcmtlcnMgPSB0aGlzLl9tYXJrZXJzO1xuXG4gICAgLy8gaWYgYWxsIG1hcmtlcnMgYXJlIGdvbmUsIGNhbmNlbCBkcmF3aW5nXG4gICAgaWYgKG1hcmtlcnMubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBsYXN0IGNvb3Jkc1xuICAgIGxldCBjb29yZHMgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICBjb25zdCByZW1vdmVkTWFya2VyID0gbWFya2Vyc1ttYXJrZXJzLmxlbmd0aCAtIDFdO1xuXG4gICAgLy8gdGhlIGluZGV4IHBhdGggdG8gdGhlIG1hcmtlciBpbnNpZGUgdGhlIG11bHRpZGltZW5zaW9uYWwgbWFya2VyIGFycmF5XG4gICAgY29uc3QgeyBpbmRleFBhdGggfSA9IEwuUE0uVXRpbHMuZmluZERlZXBNYXJrZXJJbmRleChcbiAgICAgIG1hcmtlcnMsXG4gICAgICByZW1vdmVkTWFya2VyXG4gICAgKTtcblxuICAgIC8vIHJlbW92ZSBsYXN0IG1hcmtlciBmcm9tIGFycmF5XG4gICAgbWFya2Vycy5wb3AoKTtcblxuICAgIC8vIHJlbW92ZSB0aGF0IG1hcmtlclxuICAgIHRoaXMuX2xheWVyR3JvdXAucmVtb3ZlTGF5ZXIocmVtb3ZlZE1hcmtlcik7XG5cbiAgICBjb25zdCBtYXJrZXJQcmV2aW91cyA9IG1hcmtlcnNbbWFya2Vycy5sZW5ndGggLSAxXTtcblxuICAgIC8vIG5vIG5lZWQgZm9yIGZpbmREZWVwTWFya2VySW5kZXggYmVjYXVzZSB0aGUgY29vcmRzIGFyZSBhbHdheXMgZmxhdCAoUG9seWxpbmUpIG5vIG1hdHRlciBpZiBMaW5lIG9yIFBvbHlnb25cbiAgICBjb25zdCBpbmRleE1hcmtlclByZXYgPSBjb29yZHMuaW5kZXhPZihtYXJrZXJQcmV2aW91cy5nZXRMYXRMbmcoKSk7XG5cbiAgICAvLyArMSBkb24ndCBjdXQgb3V0IHRoZSBwcmV2aW91cyBtYXJrZXJcbiAgICBjb29yZHMgPSBjb29yZHMuc2xpY2UoMCwgaW5kZXhNYXJrZXJQcmV2ICsgMSk7XG5cbiAgICAvLyB1cGRhdGUgbGF5ZXIgd2l0aCBuZXcgY29vcmRzXG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhjb29yZHMpO1xuICAgIHRoaXMuX2xheWVyLl9sYXRsbmdJbmZvLnBvcCgpO1xuXG4gICAgLy8gc3luYyB0aGUgaGludGxpbmUgYWdhaW5cbiAgICB0aGlzLl9zeW5jSGludExpbmUoKTtcbiAgICB0aGlzLl9zZXRUb29sdGlwVGV4dCgpO1xuXG4gICAgdGhpcy5fZmlyZVZlcnRleFJlbW92ZWQocmVtb3ZlZE1hcmtlciwgaW5kZXhQYXRoLCAnRHJhdycpO1xuICAgIHRoaXMuX2NoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCkpO1xuICB9LFxuICBfZmluaXNoU2hhcGUoKSB7XG4gICAgLy8gaWYgc2VsZiBpbnRlcnNlY3Rpb24gaXMgbm90IGFsbG93ZWQsIGRvIG5vdCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgdGhpcy5faGFuZGxlU2VsZkludGVyc2VjdGlvbihmYWxzZSk7XG5cbiAgICAgIGlmICh0aGlzLl9kb2VzU2VsZkludGVyc2VjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgc25hcCBmaW5pc2ggaXMgcmVxdWlyZWQgYnV0IHRoZSBsYXN0IG1hcmtlciB3YXNuJ3Qgc25hcHBlZCwgZG8gbm90IGZpbmlzaCB0aGUgc2hhcGUhXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnJlcXVpcmVTbmFwVG9GaW5pc2ggJiZcbiAgICAgICF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkICYmXG4gICAgICAhdGhpcy5faXNGaXJzdExheWVyKClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnZXQgY29vcmRpbmF0ZXNcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBjb29yZHMsIGRvbid0IGZpbmlzaCB0aGUgc2hhcGUhXG4gICAgaWYgKGNvb3Jkcy5sZW5ndGggPD0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSB0aGUgbGVhZmxldCBzaGFwZSBhbmQgYWRkIGl0IHRvIHRoZSBtYXBcbiAgICBjb25zdCBwb2x5bGluZUxheWVyID0gTC5wb2x5bGluZShjb29yZHMsIHRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucyk7XG4gICAgdGhpcy5fc2V0UGFuZShwb2x5bGluZUxheWVyLCAnbGF5ZXJQYW5lJyk7XG4gICAgdGhpcy5fZmluaXNoTGF5ZXIocG9seWxpbmVMYXllcik7XG4gICAgcG9seWxpbmVMYXllci5hZGRUbyh0aGlzLl9tYXAucG0uX2dldENvbnRhaW5pbmdMYXllcigpKTtcblxuICAgIC8vIGZpcmUgdGhlIHBtOmNyZWF0ZSBldmVudCBhbmQgcGFzcyBzaGFwZSBhbmQgbGF5ZXJcbiAgICB0aGlzLl9maXJlQ3JlYXRlKHBvbHlsaW5lTGF5ZXIpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgIHRoaXMuX2NsZWFudXBTbmFwcGluZygpO1xuICAgIH1cblxuICAgIC8vIGRpc2FibGUgZHJhd2luZ1xuICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGludWVEcmF3aW5nKSB7XG4gICAgICB0aGlzLmVuYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgX2NyZWF0ZU1hcmtlcihsYXRsbmcpIHtcbiAgICAvLyBjcmVhdGUgdGhlIG5ldyBtYXJrZXJcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgTC5NYXJrZXIobGF0bG5nLCB7XG4gICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgaWNvbjogTC5kaXZJY29uKHsgY2xhc3NOYW1lOiAnbWFya2VyLWljb24nIH0pLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUobWFya2VyLCAndmVydGV4UGFuZScpO1xuICAgIG1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuXG4gICAgLy8gYWRkIGl0IHRvIHRoZSBtYXBcbiAgICB0aGlzLl9sYXllckdyb3VwLmFkZExheWVyKG1hcmtlcik7XG4gICAgdGhpcy5fbWFya2Vycy5wdXNoKG1hcmtlcik7XG5cbiAgICAvLyBhIGNsaWNrIG9uIGFueSBtYXJrZXIgZmluaXNoZXMgdGhpcyBzaGFwZVxuICAgIG1hcmtlci5vbignY2xpY2snLCB0aGlzLl9maW5pc2hTaGFwZSwgdGhpcyk7XG5cbiAgICByZXR1cm4gbWFya2VyO1xuICB9LFxuICBfc2V0VG9vbHRpcFRleHQoKSB7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IHRoaXMuX2xheWVyLmdldExhdExuZ3MoKS5mbGF0KCk7XG4gICAgbGV0IHRleHQgPSAnJztcblxuICAgIC8vIGhhbmRsZSB0b29sdGlwIHRleHRcbiAgICBpZiAobGVuZ3RoIDw9IDEpIHtcbiAgICAgIHRleHQgPSBnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuY29udGludWVMaW5lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRleHQgPSBnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuZmluaXNoTGluZScpO1xuICAgIH1cbiAgICB0aGlzLl9oaW50TWFya2VyLnNldFRvb2x0aXBDb250ZW50KHRleHQpO1xuICB9LFxuICBfY2hhbmdlKGxhdGxuZ3MpIHtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKGxhdGxuZ3MsICdEcmF3Jyk7XG4gIH0sXG4gIHNldFN0eWxlKCkge1xuICAgIHRoaXMuX2xheWVyPy5zZXRTdHlsZSh0aGlzLm9wdGlvbnMudGVtcGxpbmVTdHlsZSk7XG4gICAgdGhpcy5faGludGxpbmU/LnNldFN0eWxlKHRoaXMub3B0aW9ucy5oaW50bGluZVN0eWxlKTtcbiAgfSxcbn0pO1xuIiwgImltcG9ydCBEcmF3IGZyb20gJy4vTC5QTS5EcmF3JztcbmltcG9ydCB7IGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbkRyYXcuUG9seWdvbiA9IERyYXcuTGluZS5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB0aGlzLl9zaGFwZSA9ICdQb2x5Z29uJztcbiAgICB0aGlzLnRvb2xiYXJCdXR0b25OYW1lID0gJ2RyYXdQb2x5Z29uJztcbiAgfSxcbiAgZW5hYmxlKG9wdGlvbnMpIHtcbiAgICBMLlBNLkRyYXcuTGluZS5wcm90b3R5cGUuZW5hYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgLy8gT3ZlcndyaXRlIHRoZSBzaGFwZSBcIkxpbmVcIiBvZiB0aGlzLl9sYXllclxuICAgIHRoaXMuX2xheWVyLnBtLl9zaGFwZSA9ICdQb2x5Z29uJztcbiAgfSxcbiAgX2NyZWF0ZU1hcmtlcihsYXRsbmcpIHtcbiAgICAvLyBjcmVhdGUgdGhlIG5ldyBtYXJrZXJcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgTC5NYXJrZXIobGF0bG5nLCB7XG4gICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgaWNvbjogTC5kaXZJY29uKHsgY2xhc3NOYW1lOiAnbWFya2VyLWljb24nIH0pLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUobWFya2VyLCAndmVydGV4UGFuZScpO1xuXG4gICAgLy8gbWFyayB0aGlzIG1hcmtlciBhcyB0ZW1wb3JhcnlcbiAgICBtYXJrZXIuX3BtVGVtcExheWVyID0gdHJ1ZTtcblxuICAgIC8vIGFkZCBpdCB0byB0aGUgbWFwXG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcihtYXJrZXIpO1xuICAgIHRoaXMuX21hcmtlcnMucHVzaChtYXJrZXIpO1xuXG4gICAgLy8gaWYgdGhlIGZpcnN0IG1hcmtlciBnZXRzIGNsaWNrZWQgYWdhaW4sIGZpbmlzaCB0aGlzIHNoYXBlXG4gICAgaWYgKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKS5mbGF0KCkubGVuZ3RoID09PSAxKSB7XG4gICAgICBtYXJrZXIub24oJ2NsaWNrJywgdGhpcy5fZmluaXNoU2hhcGUsIHRoaXMpO1xuXG4gICAgICAvLyBhZGQgdGhlIGZpcnN0IHZlcnRleCB0byBcIm90aGVyIHNuYXBwaW5nIGxheWVyc1wiIHNvIHRoZSBwb2x5Z29uIGlzIGVhc2llciB0byBmaW5pc2hcbiAgICAgIHRoaXMuX3RlbXBTbmFwTGF5ZXJJbmRleCA9IHRoaXMuX290aGVyU25hcExheWVycy5wdXNoKG1hcmtlcikgLSAxO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYWRkIGEgY2xpY2sgZXZlbnQgdy8gbm8gaGFuZGxlciB0byB0aGUgbWFya2VyXG4gICAgICAvLyBldmVudCB3b24ndCBidWJibGUgc28gcHJldmVudHMgY3JlYXRpb24gb2YgaWRlbnRpY2FsIG1hcmtlcnMgaW4gc2FtZSBwb2x5Z29uXG4gICAgICAvLyBmaXhlcyBpc3N1ZSB3aGVyZSBkb3VibGUgY2xpY2sgZHVyaW5nIHBvbHkgY3JlYXRpb24gd2hlbiBhbGxvd1NlbGZJbnRlcnNlY3Rpb246IGZhbHNlIGNhdXNlZCBpdCB0byBicmVha1xuICAgICAgbWFya2VyLm9uKCdjbGljaycsICgpID0+IDEpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXJrZXI7XG4gIH0sXG4gIF9zZXRUb29sdGlwVGV4dCgpIHtcbiAgICBjb25zdCB7IGxlbmd0aCB9ID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpLmZsYXQoKTtcbiAgICBsZXQgdGV4dCA9ICcnO1xuXG4gICAgLy8gaGFuZGxlIHRvb2x0aXAgdGV4dFxuICAgIGlmIChsZW5ndGggPD0gMikge1xuICAgICAgdGV4dCA9IGdldFRyYW5zbGF0aW9uKCd0b29sdGlwcy5jb250aW51ZUxpbmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGV4dCA9IGdldFRyYW5zbGF0aW9uKCd0b29sdGlwcy5maW5pc2hQb2x5Jyk7XG4gICAgfVxuICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0VG9vbHRpcENvbnRlbnQodGV4dCk7XG4gIH0sXG4gIF9maW5pc2hTaGFwZSgpIHtcbiAgICAvLyBpZiBzZWxmIGludGVyc2VjdGlvbiBpcyBub3QgYWxsb3dlZCwgZG8gbm90IGZpbmlzaCB0aGUgc2hhcGUhXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uKSB7XG4gICAgICAvLyBDaGVjayBpZiBwb2x5Z29uIGludGVyc2VjdHMgd2hlbiBpcyBjb21wbGV0ZWQgYW5kIHRoZSBsaW5lIGJldHdlZW4gdGhlIGxhc3QgYW5kIHRoZSBmaXJzdCBwb2ludCBpcyBkcmF3blxuICAgICAgdGhpcy5faGFuZGxlU2VsZkludGVyc2VjdGlvbih0cnVlLCB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClbMF0pO1xuXG4gICAgICBpZiAodGhpcy5fZG9lc1NlbGZJbnRlcnNlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHNuYXAgZmluaXNoIGlzIHJlcXVpcmVkIGJ1dCB0aGUgbGFzdCBtYXJrZXIgd2Fzbid0IHNuYXBwZWQsIGRvIG5vdCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9ucy5yZXF1aXJlU25hcFRvRmluaXNoICYmXG4gICAgICAhdGhpcy5faGludE1hcmtlci5fc25hcHBlZCAmJlxuICAgICAgIXRoaXMuX2lzRmlyc3RMYXllcigpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZ2V0IGNvb3JkaW5hdGVzXG4gICAgY29uc3QgY29vcmRzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgLy8gb25seSBmaW5pc2ggdGhlIHNoYXBlIGlmIHRoZXJlIGFyZSAzIG9yIG1vcmUgdmVydGljZXNcbiAgICBpZiAoY29vcmRzLmxlbmd0aCA8PSAyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcG9seWdvbkxheWVyID0gTC5wb2x5Z29uKGNvb3JkcywgdGhpcy5vcHRpb25zLnBhdGhPcHRpb25zKTtcbiAgICB0aGlzLl9zZXRQYW5lKHBvbHlnb25MYXllciwgJ2xheWVyUGFuZScpO1xuICAgIHRoaXMuX2ZpbmlzaExheWVyKHBvbHlnb25MYXllcik7XG4gICAgcG9seWdvbkxheWVyLmFkZFRvKHRoaXMuX21hcC5wbS5fZ2V0Q29udGFpbmluZ0xheWVyKCkpO1xuXG4gICAgLy8gZmlyZSB0aGUgcG06Y3JlYXRlIGV2ZW50IGFuZCBwYXNzIHNoYXBlIGFuZCBsYXllclxuICAgIHRoaXMuX2ZpcmVDcmVhdGUocG9seWdvbkxheWVyKTtcblxuICAgIC8vIGNsZWFuIHVwIHNuYXBwaW5nIHN0YXRlc1xuICAgIHRoaXMuX2NsZWFudXBTbmFwcGluZygpO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSBmaXJzdCB2ZXJ0ZXggZnJvbSBcIm90aGVyIHNuYXBwaW5nIGxheWVyc1wiXG4gICAgdGhpcy5fb3RoZXJTbmFwTGF5ZXJzLnNwbGljZSh0aGlzLl90ZW1wU25hcExheWVySW5kZXgsIDEpO1xuICAgIGRlbGV0ZSB0aGlzLl90ZW1wU25hcExheWVySW5kZXg7XG5cbiAgICAvLyBkaXNhYmxlIGRyYXdpbmdcbiAgICB0aGlzLmRpc2FibGUoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRpbnVlRHJhd2luZykge1xuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgRHJhdyBmcm9tICcuL0wuUE0uRHJhdyc7XG5pbXBvcnQgeyBmaXhMYXRPZmZzZXQsIGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbkRyYXcuUmVjdGFuZ2xlID0gRHJhdy5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB0aGlzLl9zaGFwZSA9ICdSZWN0YW5nbGUnO1xuICAgIHRoaXMudG9vbGJhckJ1dHRvbk5hbWUgPSAnZHJhd1JlY3RhbmdsZSc7XG4gIH0sXG4gIGVuYWJsZShvcHRpb25zKSB7XG4gICAgLy8gVE9ETzogVGhpbmsgYWJvdXQgaWYgdGhlc2Ugb3B0aW9ucyBjb3VsZCBiZSBwYXNzZWQgZ2xvYmFsbHkgZm9yIGFsbFxuICAgIC8vIGluc3RhbmNlcyBvZiBMLlBNLkRyYXcuIFNvIGEgZGV2IGNvdWxkIHNldCBkcmF3aW5nIHN0eWxlIG9uZSB0aW1lIGFzIHNvbWUga2luZCBvZiBjb25maWdcbiAgICBMLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgIC8vIGVuYWJsZSBkcmF3IG1vZGVcbiAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcblxuICAgIC8vIGNyZWF0ZSBhIG5ldyBsYXllcmdyb3VwXG4gICAgdGhpcy5fbGF5ZXJHcm91cCA9IG5ldyBMLkZlYXR1cmVHcm91cCgpO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICB0aGlzLl9sYXllckdyb3VwLmFkZFRvKHRoaXMuX21hcCk7XG5cbiAgICAvLyB0aGUgcmVjdGFuZ2xlIHdlIHdhbnQgdG8gZHJhd1xuICAgIHRoaXMuX2xheWVyID0gTC5yZWN0YW5nbGUoXG4gICAgICBbXG4gICAgICAgIFswLCAwXSxcbiAgICAgICAgWzAsIDBdLFxuICAgICAgXSxcbiAgICAgIHRoaXMub3B0aW9ucy5wYXRoT3B0aW9uc1xuICAgICk7XG4gICAgdGhpcy5fc2V0UGFuZSh0aGlzLl9sYXllciwgJ2xheWVyUGFuZScpO1xuICAgIHRoaXMuX2xheWVyLl9wbVRlbXBMYXllciA9IHRydWU7XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBtYXJrZXIgYXQgdGhlIG9yaWdpbiBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgLy8gdGhpcyBuZWVkcyB0byBiZSBwcmVzZW50LCBmb3IgdHJhY2tpbmcgcHVycG9zZXMsIGJ1dCB3ZSdsbCBtYWtlIGl0IGludmlzaWJsZSBpZiBhIHVzZXIgZG9lc24ndCB3YW50IHRvIHNlZSBpdCFcbiAgICB0aGlzLl9zdGFydE1hcmtlciA9IEwubWFya2VyKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgaWNvbjogTC5kaXZJY29uKHsgY2xhc3NOYW1lOiAnbWFya2VyLWljb24gcmVjdC1zdGFydC1tYXJrZXInIH0pLFxuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgIHpJbmRleE9mZnNldDogLTEwMCxcbiAgICAgIG9wYWNpdHk6IHRoaXMub3B0aW9ucy5jdXJzb3JNYXJrZXIgPyAxIDogMCxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX3N0YXJ0TWFya2VyLCAndmVydGV4UGFuZScpO1xuICAgIHRoaXMuX3N0YXJ0TWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9zdGFydE1hcmtlcik7XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBoaW50bWFya2VyIG9uIHRoZSBtb3VzZSBjdXJzb3JcbiAgICB0aGlzLl9oaW50TWFya2VyID0gTC5tYXJrZXIodGhpcy5fbWFwLmdldENlbnRlcigpLCB7XG4gICAgICB6SW5kZXhPZmZzZXQ6IDE1MCxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uIGN1cnNvci1tYXJrZXInIH0pLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5faGludE1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcbiAgICB0aGlzLl9oaW50TWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9oaW50TWFya2VyKTtcblxuICAgIC8vIHNob3cgdGhlIGhpbnRtYXJrZXIgaWYgdGhlIG9wdGlvbiBpcyBzZXRcbiAgICBpZiAodGhpcy5vcHRpb25zLmN1cnNvck1hcmtlcikge1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2hpbnRNYXJrZXIuX2ljb24sICd2aXNpYmxlJyk7XG4gICAgfVxuXG4gICAgLy8gYWRkIHRvb2x0aXAgdG8gaGludG1hcmtlclxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXJcbiAgICAgICAgLmJpbmRUb29sdGlwKGdldFRyYW5zbGF0aW9uKCd0b29sdGlwcy5maXJzdFZlcnRleCcpLCB7XG4gICAgICAgICAgcGVybWFuZW50OiB0cnVlLFxuICAgICAgICAgIG9mZnNldDogTC5wb2ludCgwLCAxMCksXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYm90dG9tJyxcblxuICAgICAgICAgIG9wYWNpdHk6IDAuOCxcbiAgICAgICAgfSlcbiAgICAgICAgLm9wZW5Ub29sdGlwKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jdXJzb3JNYXJrZXIpIHtcbiAgICAgIC8vIEFkZCB0d28gbW9yZSBtYXRjaGluZyBzdHlsZSBtYXJrZXJzLCBpZiBjdXJzb3IgbWFya2VyIGlzIHJlbmRlcmVkXG4gICAgICB0aGlzLl9zdHlsZU1hcmtlcnMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlTWFya2VyID0gTC5tYXJrZXIodGhpcy5fbWFwLmdldENlbnRlcigpLCB7XG4gICAgICAgICAgaWNvbjogTC5kaXZJY29uKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ21hcmtlci1pY29uIHJlY3Qtc3R5bGUtbWFya2VyJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICAgIHpJbmRleE9mZnNldDogMTAwLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc2V0UGFuZShzdHlsZU1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcbiAgICAgICAgc3R5bGVNYXJrZXIuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcihzdHlsZU1hcmtlcik7XG5cbiAgICAgICAgdGhpcy5fc3R5bGVNYXJrZXJzLnB1c2goc3R5bGVNYXJrZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNoYW5nZSBtYXAgY3Vyc29yXG4gICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmNsYXNzTGlzdC5hZGQoJ2dlb21hbi1kcmF3LWN1cnNvcicpO1xuXG4gICAgLy8gY3JlYXRlIGEgcG9seWdvbi1wb2ludCBvbiBjbGlja1xuICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9wbGFjZVN0YXJ0aW5nTWFya2VycywgdGhpcyk7XG5cbiAgICAvLyBzeW5jIGhpbnQgbWFya2VyIHdpdGggbW91c2UgY3Vyc29yXG4gICAgdGhpcy5fbWFwLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyB0b2dnbGUgdGhlIGRyYXcgYnV0dG9uIG9mIHRoZSBUb29sYmFyIGluIGNhc2UgZHJhd2luZyBtb2RlIGdvdCBlbmFibGVkIHdpdGhvdXQgdGhlIGJ1dHRvblxuICAgIHRoaXMuX21hcC5wbS5Ub29sYmFyLnRvZ2dsZUJ1dHRvbih0aGlzLnRvb2xiYXJCdXR0b25OYW1lLCB0cnVlKTtcblxuICAgIC8vIGFuIGFycmF5IHVzZWQgaW4gdGhlIHNuYXBwaW5nIG1peGluLlxuICAgIC8vIFRPRE86IHRoaW5rIGFib3V0IG1vdmluZyB0aGlzIHNvbWV3aGVyZSBlbHNlP1xuICAgIHRoaXMuX290aGVyU25hcExheWVycyA9IFtdO1xuXG4gICAgLy8gZmlyZSBkcmF3c3RhcnQgZXZlbnRcbiAgICB0aGlzLl9maXJlRHJhd1N0YXJ0KCk7XG4gICAgdGhpcy5fc2V0R2xvYmFsRHJhd01vZGUoKTtcbiAgfSxcbiAgZGlzYWJsZSgpIHtcbiAgICAvLyBkaXNhYmxlIGRyYXdpbmcgbW9kZVxuXG4gICAgLy8gY2FuY2VsLCBpZiBkcmF3aW5nIG1vZGUgaXNuJ3QgZXZlbnQgZW5hYmxlZFxuICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8vIHJlc2V0IGN1cnNvclxuICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5jbGFzc0xpc3QucmVtb3ZlKCdnZW9tYW4tZHJhdy1jdXJzb3InKTtcblxuICAgIC8vIHVuYmluZCBsaXN0ZW5lcnNcbiAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX2ZpbmlzaFNoYXBlLCB0aGlzKTtcbiAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX3BsYWNlU3RhcnRpbmdNYXJrZXJzLCB0aGlzKTtcbiAgICB0aGlzLl9tYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyByZW1vdmUgaGVscGluZyBsYXllcnNcbiAgICB0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fbGF5ZXJHcm91cCk7XG5cbiAgICAvLyB0b2dnbGUgdGhlIGRyYXcgYnV0dG9uIG9mIHRoZSBUb29sYmFyIGluIGNhc2UgZHJhd2luZyBtb2RlIGdvdCBkaXNhYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgZmFsc2UpO1xuXG4gICAgLy8gY2xlYW51cCBzbmFwcGluZ1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcbiAgICB9XG4gICAgLy8gZmlyZSBkcmF3ZW5kIGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdFbmQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGUob3B0aW9ucykge1xuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgX3BsYWNlU3RhcnRpbmdNYXJrZXJzKGUpIHtcbiAgICAvLyBhc3NpZ24gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrIHRvIHRoZSBoaW50TWFya2VyLCB0aGF0J3MgbmVjZXNzYXJ5IGZvclxuICAgIC8vIG1vYmlsZSB3aGVyZSB0aGUgbWFya2VyIGNhbid0IGZvbGxvdyBhIGN1cnNvclxuICAgIGlmICghdGhpcy5faGludE1hcmtlci5fc25hcHBlZCkge1xuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuICAgIH1cblxuICAgIC8vIGdldCBjb29yZGluYXRlIGZvciBuZXcgdmVydGV4IGJ5IGhpbnRNYXJrZXIgKGN1cnNvciBtYXJrZXIpXG4gICAgY29uc3QgbGF0bG5nID0gdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIC8vIHNob3cgYW5kIHBsYWNlIHN0YXJ0IG1hcmtlclxuICAgIEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9zdGFydE1hcmtlci5faWNvbiwgJ3Zpc2libGUnKTtcbiAgICB0aGlzLl9zdGFydE1hcmtlci5zZXRMYXRMbmcobGF0bG5nKTtcblxuICAgIC8vIGlmIHdlIGhhdmUgdGhlIG90aGVyIHR3byB2aXNpYmlsdHkgbWFya2Vycywgc2hvdyBhbmQgcGxhY2UgdGhlbSBub3dcbiAgICBpZiAodGhpcy5vcHRpb25zLmN1cnNvck1hcmtlciAmJiB0aGlzLl9zdHlsZU1hcmtlcnMpIHtcbiAgICAgIHRoaXMuX3N0eWxlTWFya2Vycy5mb3JFYWNoKChzdHlsZU1hcmtlcikgPT4ge1xuICAgICAgICBMLkRvbVV0aWwuYWRkQ2xhc3Moc3R5bGVNYXJrZXIuX2ljb24sICd2aXNpYmxlJyk7XG4gICAgICAgIHN0eWxlTWFya2VyLnNldExhdExuZyhsYXRsbmcpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9wbGFjZVN0YXJ0aW5nTWFya2VycywgdGhpcyk7XG4gICAgdGhpcy5fbWFwLm9uKCdjbGljaycsIHRoaXMuX2ZpbmlzaFNoYXBlLCB0aGlzKTtcblxuICAgIC8vIGNoYW5nZSB0b29sdGlwIHRleHRcbiAgICB0aGlzLl9oaW50TWFya2VyLnNldFRvb2x0aXBDb250ZW50KGdldFRyYW5zbGF0aW9uKCd0b29sdGlwcy5maW5pc2hSZWN0JykpO1xuXG4gICAgdGhpcy5fc2V0UmVjdGFuZ2xlT3JpZ2luKCk7XG4gIH0sXG4gIF9zZXRSZWN0YW5nbGVPcmlnaW4oKSB7XG4gICAgY29uc3QgbGF0bG5nID0gdGhpcy5fc3RhcnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICBpZiAobGF0bG5nKSB7XG4gICAgICAvLyBzaG93IGl0IGZpcnN0XG4gICAgICB0aGlzLl9sYXllckdyb3VwLmFkZExheWVyKHRoaXMuX2xheWVyKTtcblxuICAgICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhbbGF0bG5nLCBsYXRsbmddKTtcblxuICAgICAgdGhpcy5faGludE1hcmtlci5vbignbW92ZScsIHRoaXMuX3N5bmNSZWN0YW5nbGVTaXplLCB0aGlzKTtcbiAgICB9XG4gIH0sXG4gIF9zeW5jSGludE1hcmtlcihlKSB7XG4gICAgLy8gbW92ZSB0aGUgY3Vyc29yIG1hcmtlclxuICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKGUubGF0bG5nKTtcblxuICAgIC8vIGlmIHNuYXBwaW5nIGlzIGVuYWJsZWQsIGRvIGl0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgIGNvbnN0IGZha2VEcmFnRXZlbnQgPSBlO1xuICAgICAgZmFrZURyYWdFdmVudC50YXJnZXQgPSB0aGlzLl9oaW50TWFya2VyO1xuICAgICAgdGhpcy5faGFuZGxlU25hcHBpbmcoZmFrZURyYWdFdmVudCk7XG4gICAgfVxuXG4gICAgY29uc3QgbGF0bG5ncyA9XG4gICAgICB0aGlzLl9sYXllckdyb3VwICYmIHRoaXMuX2xheWVyR3JvdXAuaGFzTGF5ZXIodGhpcy5fbGF5ZXIpXG4gICAgICAgID8gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpXG4gICAgICAgIDogW3RoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCldO1xuICAgIHRoaXMuX2ZpcmVDaGFuZ2UobGF0bG5ncywgJ0RyYXcnKTtcbiAgfSxcbiAgX3N5bmNSZWN0YW5nbGVTaXplKCkge1xuICAgIGNvbnN0IEEgPSBmaXhMYXRPZmZzZXQodGhpcy5fc3RhcnRNYXJrZXIuZ2V0TGF0TG5nKCksIHRoaXMuX21hcCk7XG4gICAgY29uc3QgQiA9IGZpeExhdE9mZnNldCh0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpLCB0aGlzLl9tYXApO1xuXG4gICAgLy8gQ3JlYXRlIGEgKG1heWJlIHJvdGF0ZWQpIGJveCB1c2luZyBjb3JuZXJzIEEgJiBCIChBID0gU3RhcnRpbmcgUG9zaXRpb24sIEIgPSBDdXJyZW50IE1vdXNlIFBvc2l0aW9uKVxuICAgIGNvbnN0IGNvcm5lcnMgPSBMLlBNLlV0aWxzLl9nZXRSb3RhdGVkUmVjdGFuZ2xlKFxuICAgICAgQSxcbiAgICAgIEIsXG4gICAgICB0aGlzLm9wdGlvbnMucmVjdGFuZ2xlQW5nbGUgfHwgMCxcbiAgICAgIHRoaXMuX21hcFxuICAgICk7XG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhjb3JuZXJzKTtcblxuICAgIC8vIEFkZCBtYXRjaGluZyBzdHlsZSBtYXJrZXJzLCBpZiBjdXJzb3IgbWFya2VyIGlzIHNob3duXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jdXJzb3JNYXJrZXIgJiYgdGhpcy5fc3R5bGVNYXJrZXJzKSB7XG4gICAgICBjb25zdCB1bm1hcmtlZENvcm5lcnMgPSBbXTtcblxuICAgICAgLy8gRmluZCB0d28gY29ybmVycyBub3QgY3VycmVudGx5IG9jY3VwaWVkIGJ5IHN0YXJ0aW5nIG1hcmtlciBhbmQgaGludCBtYXJrZXJcbiAgICAgIGNvcm5lcnMuZm9yRWFjaCgoY29ybmVyKSA9PiB7XG4gICAgICAgIC8vIHRoZSBkZWZhdWx0IGVxdWFscyBtYXJnaW4gaXMgMS4wZS05IGJ1dCBpbiBvdGhlciBjcnMgcHJvamVjdGlvbnMgdGhlIGxhdGxuZyBlcXVhbGl0eSBjYW4gYmUgc2xpZ2h0bHkgZGlmZmVyZW50IGFmdGVyIGBfZ2V0Um90YXRlZFJlY3RhbmdsZWAsIHNvIHdlIG1ha2UgdGhlIHByZWNlc3Npb24gYSBsaXR0bGUgYml0IGxvd2VyXG4gICAgICAgIGlmICghY29ybmVyLmVxdWFscyhBLCAxLjBlLTgpICYmICFjb3JuZXIuZXF1YWxzKEIsIDEuMGUtOCkpIHtcbiAgICAgICAgICB1bm1hcmtlZENvcm5lcnMucHVzaChjb3JuZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVwb3NpdGlvbiBzdHlsZSBtYXJrZXJzXG4gICAgICB1bm1hcmtlZENvcm5lcnMuZm9yRWFjaCgodW5tYXJrZWRDb3JuZXIsIGluZGV4KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5fc3R5bGVNYXJrZXJzW2luZGV4XS5zZXRMYXRMbmcodW5tYXJrZWRDb3JuZXIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaWdub3JlIGVycm9yIC0gc2hvdWxkIGJlIGZpeGVkIHdpdGggdGhlIG5leHQgbW91c2Vtb3ZlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgX2ZpbmRDb3JuZXJzKCkge1xuICAgIGNvbnN0IGxhdGxuZ3MgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClbMF07XG4gICAgcmV0dXJuIEwuUE0uVXRpbHMuX2dldFJvdGF0ZWRSZWN0YW5nbGUoXG4gICAgICBsYXRsbmdzWzBdLFxuICAgICAgbGF0bG5nc1syXSxcbiAgICAgIHRoaXMub3B0aW9ucy5yZWN0YW5nbGVBbmdsZSB8fCAwLFxuICAgICAgdGhpcy5fbWFwXG4gICAgKTtcbiAgfSxcbiAgX2ZpbmlzaFNoYXBlKGUpIHtcbiAgICAvLyBhc3NpZ24gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrIHRvIHRoZSBoaW50TWFya2VyLCB0aGF0J3MgbmVjZXNzYXJ5IGZvclxuICAgIC8vIG1vYmlsZSB3aGVyZSB0aGUgbWFya2VyIGNhbid0IGZvbGxvdyBhIGN1cnNvclxuICAgIGlmICghdGhpcy5faGludE1hcmtlci5fc25hcHBlZCkge1xuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuICAgIH1cblxuICAgIC8vIGdldCBjb29yZGluYXRlIGZvciBuZXcgdmVydGV4IGJ5IGhpbnRNYXJrZXIgKGN1cnNvciBtYXJrZXIpXG4gICAgY29uc3QgQiA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgLy8gZ2V0IGFscmVhZHkgcGxhY2VkIGNvcm5lciBmcm9tIHRoZSBzdGFydG1hcmtlclxuICAgIGNvbnN0IEEgPSB0aGlzLl9zdGFydE1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIC8vIElmIHNuYXAgZmluaXNoIGlzIHJlcXVpcmVkIGJ1dCB0aGUgbGFzdCBtYXJrZXIgd2Fzbid0IHNuYXBwZWQsIGRvIG5vdCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9ucy5yZXF1aXJlU25hcFRvRmluaXNoICYmXG4gICAgICAhdGhpcy5faGludE1hcmtlci5fc25hcHBlZCAmJlxuICAgICAgIXRoaXMuX2lzRmlyc3RMYXllcigpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKEEuZXF1YWxzKEIpKSB7XG4gICAgICAvLyByZWN0YW5nbGUgaGFzIG9ubHkgb25lIHBvaW50XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIHRoZSBmaW5hbCByZWN0YW5nbGUgbGF5ZXIsIGJhc2VkIG9uIG9wcG9zaXRlIGNvcm5lcnMgQSAmIEJcbiAgICBjb25zdCByZWN0YW5nbGVMYXllciA9IEwucmVjdGFuZ2xlKFtBLCBCXSwgdGhpcy5vcHRpb25zLnBhdGhPcHRpb25zKTtcblxuICAgIC8vIHJlY3RhbmdsZSBjYW4gb25seSBpbml0aWFsaXplZCB3aXRoIGJvdW5kcyAobm90IHdvcmtpbmcgd2l0aCByb3RhdGlvbikgc28gd2UgdXBkYXRlIHRoZSBsYXRsbmdzXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZWN0YW5nbGVBbmdsZSkge1xuICAgICAgY29uc3QgY29ybmVycyA9IEwuUE0uVXRpbHMuX2dldFJvdGF0ZWRSZWN0YW5nbGUoXG4gICAgICAgIEEsXG4gICAgICAgIEIsXG4gICAgICAgIHRoaXMub3B0aW9ucy5yZWN0YW5nbGVBbmdsZSB8fCAwLFxuICAgICAgICB0aGlzLl9tYXBcbiAgICAgICk7XG4gICAgICByZWN0YW5nbGVMYXllci5zZXRMYXRMbmdzKGNvcm5lcnMpO1xuICAgICAgaWYgKHJlY3RhbmdsZUxheWVyLnBtKSB7XG4gICAgICAgIHJlY3RhbmdsZUxheWVyLnBtLl9zZXRBbmdsZSh0aGlzLm9wdGlvbnMucmVjdGFuZ2xlQW5nbGUgfHwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0UGFuZShyZWN0YW5nbGVMYXllciwgJ2xheWVyUGFuZScpO1xuICAgIHRoaXMuX2ZpbmlzaExheWVyKHJlY3RhbmdsZUxheWVyKTtcbiAgICByZWN0YW5nbGVMYXllci5hZGRUbyh0aGlzLl9tYXAucG0uX2dldENvbnRhaW5pbmdMYXllcigpKTtcblxuICAgIC8vIGZpcmUgdGhlIHBtOmNyZWF0ZSBldmVudCBhbmQgcGFzcyBzaGFwZSBhbmQgbGF5ZXJcbiAgICB0aGlzLl9maXJlQ3JlYXRlKHJlY3RhbmdsZUxheWVyKTtcblxuICAgIC8vIGRpc2FibGUgZHJhd2luZ1xuICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGludWVEcmF3aW5nKSB7XG4gICAgICB0aGlzLmVuYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgc2V0U3R5bGUoKSB7XG4gICAgdGhpcy5fbGF5ZXI/LnNldFN0eWxlKHRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucyk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgRHJhdyBmcm9tICcuL0wuUE0uRHJhdyc7XG5pbXBvcnQgeyBkZXN0aW5hdGlvbk9uTGluZSwgZ2V0VHJhbnNsYXRpb24gfSBmcm9tICcuLi9oZWxwZXJzJztcblxuRHJhdy5DaXJjbGVNYXJrZXIgPSBEcmF3LmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIHRoaXMuX3NoYXBlID0gJ0NpcmNsZU1hcmtlcic7XG4gICAgdGhpcy50b29sYmFyQnV0dG9uTmFtZSA9ICdkcmF3Q2lyY2xlTWFya2VyJztcbiAgICAvLyB3aXRoIF9sYXllcklzRHJhZ2dpbmcgd2UgY2hlY2sgaWYgYSBjaXJjbGVtYXJrZXIgaXMgY3VycmVudGx5IGRyYWdnZWQgYW5kIGRpc2FibGUgbWFya2VyIGNyZWF0aW9uXG4gICAgdGhpcy5fbGF5ZXJJc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fQmFzZUNpcmNsZUNsYXNzID0gTC5DaXJjbGVNYXJrZXI7XG4gICAgdGhpcy5fbWluUmFkaXVzT3B0aW9uID0gJ21pblJhZGl1c0NpcmNsZU1hcmtlcic7XG4gICAgdGhpcy5fbWF4UmFkaXVzT3B0aW9uID0gJ21heFJhZGl1c0NpcmNsZU1hcmtlcic7XG4gICAgdGhpcy5fZWRpdGFibGVPcHRpb24gPSAncmVzaXplYWJsZUNpcmNsZU1hcmtlcic7XG4gICAgdGhpcy5fZGVmYXVsdFJhZGl1cyA9IDEwO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIC8vIFRPRE86IFRoaW5rIGFib3V0IGlmIHRoZXNlIG9wdGlvbnMgY291bGQgYmUgcGFzc2VkIGdsb2JhbGx5IGZvciBhbGxcbiAgICAvLyBpbnN0YW5jZXMgb2YgTC5QTS5EcmF3LiBTbyBhIGRldiBjb3VsZCBzZXQgZHJhd2luZyBzdHlsZSBvbmUgdGltZSBhcyBzb21lIGtpbmQgb2YgY29uZmlnXG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG4gICAgLy8gVE9ETzogcmVtb3ZlIHdpdGggbmV4dCBtYWpvciByZWxlYXNlXG4gICAgaWYgKHRoaXMub3B0aW9ucy5lZGl0YWJsZSkge1xuICAgICAgdGhpcy5vcHRpb25zLnJlc2l6ZWFibGVDaXJjbGVNYXJrZXIgPSB0aGlzLm9wdGlvbnMuZWRpdGFibGU7XG4gICAgICBkZWxldGUgdGhpcy5vcHRpb25zLmVkaXRhYmxlO1xuICAgIH1cblxuICAgIC8vIGNoYW5nZSBlbmFibGVkIHN0YXRlXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyB0b2dnbGUgdGhlIGRyYXcgYnV0dG9uIG9mIHRoZSBUb29sYmFyIGluIGNhc2UgZHJhd2luZyBtb2RlIGdvdCBlbmFibGVkIHdpdGhvdXQgdGhlIGJ1dHRvblxuICAgIHRoaXMuX21hcC5wbS5Ub29sYmFyLnRvZ2dsZUJ1dHRvbih0aGlzLnRvb2xiYXJCdXR0b25OYW1lLCB0cnVlKTtcblxuICAgIC8vIGNoYW5nZSBtYXAgY3Vyc29yXG4gICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmNsYXNzTGlzdC5hZGQoJ2dlb21hbi1kcmF3LWN1cnNvcicpO1xuXG4gICAgLy8gRHJhdyB0aGUgQ2lyY2xlTWFya2VyIGxpa2UgYSBDaXJjbGVcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgLy8gd2UgbmVlZCB0byBzZXQgdGhlIHJhZGl1cyB0byAwIHdpdGhvdXQgb3ZlcndyaXRpbmcgdGhlIENpcmNsZU1hcmtlciBzdHlsZVxuICAgICAgY29uc3QgdGVtcGxpbmVTdHlsZSA9IHt9O1xuICAgICAgTC5leHRlbmQodGVtcGxpbmVTdHlsZSwgdGhpcy5vcHRpb25zLnRlbXBsaW5lU3R5bGUpO1xuICAgICAgdGVtcGxpbmVTdHlsZS5yYWRpdXMgPSAwO1xuXG4gICAgICAvLyBjcmVhdGUgYSBuZXcgbGF5ZXJncm91cFxuICAgICAgdGhpcy5fbGF5ZXJHcm91cCA9IG5ldyBMLkZlYXR1cmVHcm91cCgpO1xuICAgICAgdGhpcy5fbGF5ZXJHcm91cC5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRUbyh0aGlzLl9tYXApO1xuXG4gICAgICAvLyB0aGlzIGlzIHRoZSBjaXJjbGUgd2Ugd2FudCB0byBkcmF3XG4gICAgICB0aGlzLl9sYXllciA9IG5ldyB0aGlzLl9CYXNlQ2lyY2xlQ2xhc3MoXG4gICAgICAgIHRoaXMuX21hcC5nZXRDZW50ZXIoKSxcbiAgICAgICAgdGVtcGxpbmVTdHlsZVxuICAgICAgKTtcbiAgICAgIHRoaXMuX3NldFBhbmUodGhpcy5fbGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICAgIHRoaXMuX2xheWVyLl9wbVRlbXBMYXllciA9IHRydWU7XG5cbiAgICAgIC8vIHRoaXMgaXMgdGhlIG1hcmtlciBpbiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgIHRoaXMuX2NlbnRlck1hcmtlciA9IEwubWFya2VyKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgICBpY29uOiBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbicgfSksXG4gICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICAgIHpJbmRleE9mZnNldDogMTAwLFxuICAgICAgfSk7XG4gICAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2NlbnRlck1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcbiAgICAgIHRoaXMuX2NlbnRlck1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuXG4gICAgICAvLyB0aGlzIGlzIHRoZSBoaW50bWFya2VyIG9uIHRoZSBtb3VzZSBjdXJzb3JcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIgPSBMLm1hcmtlcih0aGlzLl9tYXAuZ2V0Q2VudGVyKCksIHtcbiAgICAgICAgekluZGV4T2Zmc2V0OiAxMTAsXG4gICAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uIGN1cnNvci1tYXJrZXInIH0pLFxuICAgICAgfSk7XG4gICAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2hpbnRNYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG4gICAgICB0aGlzLl9oaW50TWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgICB0aGlzLl9sYXllckdyb3VwLmFkZExheWVyKHRoaXMuX2hpbnRNYXJrZXIpO1xuXG4gICAgICAvLyBzaG93IHRoZSBoaW50bWFya2VyIGlmIHRoZSBvcHRpb24gaXMgc2V0XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmN1cnNvck1hcmtlcikge1xuICAgICAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5faGludE1hcmtlci5faWNvbiwgJ3Zpc2libGUnKTtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIHRvb2x0aXAgdG8gaGludG1hcmtlclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy50b29sdGlwcykge1xuICAgICAgICB0aGlzLl9oaW50TWFya2VyXG4gICAgICAgICAgLmJpbmRUb29sdGlwKGdldFRyYW5zbGF0aW9uKCd0b29sdGlwcy5zdGFydENpcmNsZScpLCB7XG4gICAgICAgICAgICBwZXJtYW5lbnQ6IHRydWUsXG4gICAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQoMCwgMTApLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiAnYm90dG9tJyxcblxuICAgICAgICAgICAgb3BhY2l0eTogMC44LFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9wZW5Ub29sdGlwKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHRoaXMgaXMgdGhlIGhpbnRsaW5lIGZyb20gdGhlIGhpbnQgbWFya2VyIHRvIHRoZSBjZW50ZXIgbWFya2VyXG4gICAgICB0aGlzLl9oaW50bGluZSA9IEwucG9seWxpbmUoW10sIHRoaXMub3B0aW9ucy5oaW50bGluZVN0eWxlKTtcbiAgICAgIHRoaXMuX3NldFBhbmUodGhpcy5faGludGxpbmUsICdsYXllclBhbmUnKTtcbiAgICAgIHRoaXMuX2hpbnRsaW5lLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgICB0aGlzLl9sYXllckdyb3VwLmFkZExheWVyKHRoaXMuX2hpbnRsaW5lKTtcbiAgICAgIC8vIGNyZWF0ZSBhIHBvbHlnb24tcG9pbnQgb24gY2xpY2tcbiAgICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9wbGFjZUNlbnRlck1hcmtlciwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNyZWF0ZSBhIG1hcmtlciBvbiBjbGljayBvbiB0aGUgbWFwXG4gICAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fY3JlYXRlTWFya2VyLCB0aGlzKTtcblxuICAgICAgLy8gdGhpcyBpcyB0aGUgaGludG1hcmtlciBvbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgICB0aGlzLl9oaW50TWFya2VyID0gbmV3IHRoaXMuX0Jhc2VDaXJjbGVDbGFzcyh0aGlzLl9tYXAuZ2V0Q2VudGVyKCksIHtcbiAgICAgICAgcmFkaXVzOiB0aGlzLl9kZWZhdWx0UmFkaXVzLFxuICAgICAgICAuLi50aGlzLm9wdGlvbnMudGVtcGxpbmVTdHlsZSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc2V0UGFuZSh0aGlzLl9oaW50TWFya2VyLCAnbGF5ZXJQYW5lJyk7XG4gICAgICB0aGlzLl9oaW50TWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgICB0aGlzLl9oaW50TWFya2VyLmFkZFRvKHRoaXMuX21hcCk7XG4gICAgICAvLyB0aGlzIGlzIGp1c3QgdG8ga2VlcCB0aGUgc25hcHBhYmxlIG1peGluIGhhcHB5XG4gICAgICB0aGlzLl9sYXllciA9IHRoaXMuX2hpbnRNYXJrZXI7XG5cbiAgICAgIC8vIGFkZCB0b29sdGlwIHRvIGhpbnRtYXJrZXJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgICAgdGhpcy5faGludE1hcmtlclxuICAgICAgICAgIC5iaW5kVG9vbHRpcChnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMucGxhY2VDaXJjbGVNYXJrZXInKSwge1xuICAgICAgICAgICAgcGVybWFuZW50OiB0cnVlLFxuICAgICAgICAgICAgb2Zmc2V0OiBMLnBvaW50KDAsIDEwKSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ2JvdHRvbScsXG5cbiAgICAgICAgICAgIG9wYWNpdHk6IDAuOCxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vcGVuVG9vbHRpcCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHN5bmMgaGludCBtYXJrZXIgd2l0aCBtb3VzZSBjdXJzb3JcbiAgICB0aGlzLl9tYXAub24oJ21vdXNlbW92ZScsIHRoaXMuX3N5bmNIaW50TWFya2VyLCB0aGlzKTtcblxuICAgIHRoaXMuX2V4dGVuZGluZ0VuYWJsZSgpO1xuXG4gICAgLy8gYW4gYXJyYXkgdXNlZCBpbiB0aGUgc25hcHBpbmcgbWl4aW4uXG4gICAgLy8gVE9ETzogdGhpbmsgYWJvdXQgbW92aW5nIHRoaXMgc29tZXdoZXJlIGVsc2U/XG4gICAgdGhpcy5fb3RoZXJTbmFwTGF5ZXJzID0gW107XG5cbiAgICAvLyBmaXJlIGRyYXdzdGFydCBldmVudFxuICAgIHRoaXMuX2ZpcmVEcmF3U3RhcnQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBfZXh0ZW5kaW5nRW5hYmxlKCkge1xuICAgIGlmICghdGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSAmJiB0aGlzLm9wdGlvbnMubWFya2VyRWRpdGFibGUpIHtcbiAgICAgIC8vIGVuYWJsZSBlZGl0IG1vZGUgZm9yIGV4aXN0aW5nIG1hcmtlcnNcbiAgICAgIHRoaXMuX21hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzUmVsZXZhbnRNYXJrZXIobGF5ZXIpKSB7XG4gICAgICAgICAgbGF5ZXIucG0uZW5hYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX2xheWVyLmJyaW5nVG9CYWNrKCk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gY2FuY2VsLCBpZiBkcmF3aW5nIG1vZGUgaXNuJ3QgZXZlbiBlbmFibGVkXG4gICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGNoYW5nZSBlbmFibGVkIHN0YXRlXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gcmVzZXQgY3Vyc29yXG4gICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmNsYXNzTGlzdC5yZW1vdmUoJ2dlb21hbi1kcmF3LWN1cnNvcicpO1xuXG4gICAgLy8gZGlzYWJsZSB3aGVuIGRyYXdpbmcgbGlrZSBhIENpcmNsZVxuICAgIGlmICh0aGlzLm9wdGlvbnNbdGhpcy5fZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICAvLyB1bmJpbmQgbGlzdGVuZXJzXG4gICAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX2ZpbmlzaFNoYXBlLCB0aGlzKTtcbiAgICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fcGxhY2VDZW50ZXJNYXJrZXIsIHRoaXMpO1xuXG4gICAgICAvLyByZW1vdmUgaGVscGluZyBsYXllcnNcbiAgICAgIHRoaXMuX21hcC5yZW1vdmVMYXllcih0aGlzLl9sYXllckdyb3VwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdW5kYmluZCBjbGljayBldmVudCwgZG9uJ3QgY3JlYXRlIGEgbWFya2VyIG9uIGNsaWNrIGFueW1vcmVcbiAgICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fY3JlYXRlTWFya2VyLCB0aGlzKTtcblxuICAgICAgdGhpcy5fZXh0ZW5kaW5nRGlzYWJsZSgpO1xuXG4gICAgICAvLyByZW1vdmUgaGludCBtYXJrZXJcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyIHRvIHN5bmMgaGludCBtYXJrZXJcbiAgICB0aGlzLl9tYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyB0b2dnbGUgdGhlIGRyYXcgYnV0dG9uIG9mIHRoZSBUb29sYmFyIGluIGNhc2UgZHJhd2luZyBtb2RlIGdvdCBkaXNhYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgZmFsc2UpO1xuXG4gICAgLy8gY2xlYW51cCBzbmFwcGluZ1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcbiAgICB9XG5cbiAgICAvLyBmaXJlIGRyYXdlbmQgZXZlbnRcbiAgICB0aGlzLl9maXJlRHJhd0VuZCgpO1xuICAgIHRoaXMuX3NldEdsb2JhbERyYXdNb2RlKCk7XG4gIH0sXG4gIF9leHRlbmRpbmdEaXNhYmxlKCkge1xuICAgIC8vIGRpc2FibGUgZHJhZ2dpbmcgYW5kIHJlbW92aW5nIGZvciBhbGwgbWFya2Vyc1xuICAgIHRoaXMuX21hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc1JlbGV2YW50TWFya2VyKGxheWVyKSkge1xuICAgICAgICBsYXllci5wbS5kaXNhYmxlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gIH0sXG4gIHRvZ2dsZShvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGUob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuICBfcGxhY2VDZW50ZXJNYXJrZXIoZSkge1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5fbGF5ZXIpO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5fY2VudGVyTWFya2VyKTtcbiAgICAvLyBhc3NpZ24gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrIHRvIHRoZSBoaW50TWFya2VyLCB0aGF0J3MgbmVjZXNzYXJ5IGZvclxuICAgIC8vIG1vYmlsZSB3aGVyZSB0aGUgbWFya2VyIGNhbid0IGZvbGxvdyBhIGN1cnNvclxuICAgIGlmICghdGhpcy5faGludE1hcmtlci5fc25hcHBlZCkge1xuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuICAgIH1cblxuICAgIC8vIGdldCBjb29yZGluYXRlIGZvciBuZXcgdmVydGV4IGJ5IGhpbnRNYXJrZXIgKGN1cnNvciBtYXJrZXIpXG4gICAgY29uc3QgbGF0bG5nID0gdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICB0aGlzLl9sYXllckdyb3VwLmFkZExheWVyKHRoaXMuX2xheWVyKTtcblxuICAgIHRoaXMuX2NlbnRlck1hcmtlci5zZXRMYXRMbmcobGF0bG5nKTtcblxuICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fcGxhY2VDZW50ZXJNYXJrZXIsIHRoaXMpO1xuICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9maW5pc2hTaGFwZSwgdGhpcyk7XG5cbiAgICB0aGlzLl9wbGFjZUNpcmNsZUNlbnRlcigpO1xuICB9LFxuICBfcGxhY2VDaXJjbGVDZW50ZXIoKSB7XG4gICAgY29uc3QgbGF0bG5nID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuXG4gICAgaWYgKGxhdGxuZykge1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5nKGxhdGxuZyk7XG5cbiAgICAgIC8vIHN5bmMgdGhlIGhpbnRsaW5lIHdpdGggaGludCBtYXJrZXJcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9zeW5jSGludExpbmUsIHRoaXMpO1xuICAgICAgdGhpcy5faGludE1hcmtlci5vbignbW92ZScsIHRoaXMuX3N5bmNDaXJjbGVSYWRpdXMsIHRoaXMpO1xuXG4gICAgICB0aGlzLl9oaW50TWFya2VyLnNldFRvb2x0aXBDb250ZW50KFxuICAgICAgICBnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuZmluaXNoQ2lyY2xlJylcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuX2ZpcmVDZW50ZXJQbGFjZWQoKTtcbiAgICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCksICdEcmF3Jyk7XG4gICAgfVxuICB9LFxuICBfc3luY0hpbnRMaW5lKCkge1xuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBzZWNvbmRMYXRMbmcgPSB0aGlzLl9nZXROZXdEZXN0aW5hdGlvbk9mSGludE1hcmtlcigpO1xuICAgIC8vIHNldCBjb29yZHMgZm9yIGhpbnRsaW5lIGZyb20gbWFya2VyIHRvIGxhc3QgdmVydGV4IG9mIGRyYXdpbiBwb2x5bGluZVxuICAgIHRoaXMuX2hpbnRsaW5lLnNldExhdExuZ3MoW2xhdGxuZywgc2Vjb25kTGF0TG5nXSk7XG4gIH0sXG4gIF9zeW5jQ2lyY2xlUmFkaXVzKCkge1xuICAgIGNvbnN0IEEgPSB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgY29uc3QgQiA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuX2Rpc3RhbmNlQ2FsY3VsYXRpb24oQSwgQik7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXSAmJlxuICAgICAgZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXVxuICAgICkge1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0UmFkaXVzKHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0gJiZcbiAgICAgIGRpc3RhbmNlID4gdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl1cbiAgICApIHtcbiAgICAgIHRoaXMuX2xheWVyLnNldFJhZGl1cyh0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xheWVyLnNldFJhZGl1cyhkaXN0YW5jZSk7XG4gICAgfVxuICB9LFxuICBfc3luY0hpbnRNYXJrZXIoZSkge1xuICAgIC8vIG1vdmUgdGhlIGN1cnNvciBtYXJrZXJcbiAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG4gICAgLy8gY2FsY3VsYXRlIHRoZSBuZXcgbGF0bG5nIG9mIG1hcmtlciBpZiByYWRpdXMgaXMgb3V0IG9mIG1pbi9tYXhcbiAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyh0aGlzLl9nZXROZXdEZXN0aW5hdGlvbk9mSGludE1hcmtlcigpKTtcblxuICAgIC8vIGlmIHNuYXBwaW5nIGlzIGVuYWJsZWQsIGRvIGl0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgIGNvbnN0IGZha2VEcmFnRXZlbnQgPSBlO1xuICAgICAgZmFrZURyYWdFdmVudC50YXJnZXQgPSB0aGlzLl9oaW50TWFya2VyO1xuICAgICAgdGhpcy5faGFuZGxlU25hcHBpbmcoZmFrZURyYWdFdmVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5faGFuZGxlSGludE1hcmtlclNuYXBwaW5nKCk7XG5cbiAgICBjb25zdCBsYXRsbmcgPVxuICAgICAgdGhpcy5fbGF5ZXJHcm91cCAmJiB0aGlzLl9sYXllckdyb3VwLmhhc0xheWVyKHRoaXMuX2NlbnRlck1hcmtlcilcbiAgICAgICAgPyB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKClcbiAgICAgICAgOiB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuICAgIHRoaXMuX2ZpcmVDaGFuZ2UobGF0bG5nLCAnRHJhdycpO1xuICB9LFxuICBpc1JlbGV2YW50TWFya2VyKGxheWVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIgJiZcbiAgICAgICEobGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZSkgJiZcbiAgICAgIGxheWVyLnBtICYmXG4gICAgICAhbGF5ZXIuX3BtVGVtcExheWVyXG4gICAgKTtcbiAgfSxcbiAgX2NyZWF0ZU1hcmtlcihlKSB7XG4gICAgLy8gSWYgc25hcCBmaW5pc2ggaXMgcmVxdWlyZWQgYnV0IHRoZSBsYXN0IG1hcmtlciB3YXNuJ3Qgc25hcHBlZCwgZG8gbm90IGZpbmlzaCB0aGUgc2hhcGUhXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnJlcXVpcmVTbmFwVG9GaW5pc2ggJiZcbiAgICAgICF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkICYmXG4gICAgICAhdGhpcy5faXNGaXJzdExheWVyKClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB3aXRoIF9sYXllcklzRHJhZ2dpbmcgd2UgY2hlY2sgaWYgYSBjaXJjbGVtYXJrZXIgaXMgY3VycmVudGx5IGRyYWdnZWRcbiAgICBpZiAoIWUubGF0bG5nIHx8IHRoaXMuX2xheWVySXNEcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGFzc2lnbiB0aGUgY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2sgdG8gdGhlIGhpbnRNYXJrZXIsIHRoYXQncyBuZWNlc3NhcnkgZm9yXG4gICAgLy8gbW9iaWxlIHdoZXJlIHRoZSBtYXJrZXIgY2FuJ3QgZm9sbG93IGEgY3Vyc29yXG4gICAgaWYgKCF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGNvb3JkaW5hdGUgZm9yIG5ldyB2ZXJ0ZXggYnkgaGludE1hcmtlciAoY3Vyc29yIG1hcmtlcilcbiAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuXG4gICAgLy8gY3JlYXRlIG1hcmtlclxuICAgIGNvbnN0IG1hcmtlciA9IG5ldyB0aGlzLl9CYXNlQ2lyY2xlQ2xhc3MobGF0bG5nLCB7XG4gICAgICByYWRpdXM6IHRoaXMuX2RlZmF1bHRSYWRpdXMsXG4gICAgICAuLi50aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMsXG4gICAgfSk7XG4gICAgdGhpcy5fc2V0UGFuZShtYXJrZXIsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9maW5pc2hMYXllcihtYXJrZXIpO1xuICAgIC8vIGFkZCBtYXJrZXIgdG8gdGhlIG1hcFxuICAgIG1hcmtlci5hZGRUbyh0aGlzLl9tYXAucG0uX2dldENvbnRhaW5pbmdMYXllcigpKTtcblxuICAgIHRoaXMuX2V4dGVuZGluZ0NyZWF0ZU1hcmtlcihtYXJrZXIpO1xuXG4gICAgLy8gZmlyZSB0aGUgcG06Y3JlYXRlIGV2ZW50IGFuZCBwYXNzIHNoYXBlIGFuZCBtYXJrZXJcbiAgICB0aGlzLl9maXJlQ3JlYXRlKG1hcmtlcik7XG5cbiAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmNvbnRpbnVlRHJhd2luZykge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICB9LFxuICBfZXh0ZW5kaW5nQ3JlYXRlTWFya2VyKG1hcmtlcikge1xuICAgIGlmIChtYXJrZXIucG0gJiYgdGhpcy5vcHRpb25zLm1hcmtlckVkaXRhYmxlKSB7XG4gICAgICAvLyBlbmFibGUgZWRpdGluZyBmb3IgdGhlIG1hcmtlclxuICAgICAgbWFya2VyLnBtLmVuYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgX2ZpbmlzaFNoYXBlKGUpIHtcbiAgICAvLyBJZiBzbmFwIGZpbmlzaCBpcyByZXF1aXJlZCBidXQgdGhlIGxhc3QgbWFya2VyIHdhc24ndCBzbmFwcGVkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMucmVxdWlyZVNuYXBUb0ZpbmlzaCAmJlxuICAgICAgIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQgJiZcbiAgICAgICF0aGlzLl9pc0ZpcnN0TGF5ZXIoKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGFzc2lnbiB0aGUgY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2sgdG8gdGhlIGhpbnRNYXJrZXIsIHRoYXQncyBuZWNlc3NhcnkgZm9yXG4gICAgLy8gbW9iaWxlIHdoZXJlIHRoZSBtYXJrZXIgY2FuJ3QgZm9sbG93IGEgY3Vyc29yXG4gICAgaWYgKCF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG4gICAgfVxuXG4gICAgY29uc3QgY2VudGVyID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuICAgIGxldCByYWRpdXMgPSB0aGlzLl9kZWZhdWx0UmFkaXVzO1xuICAgIGlmICh0aGlzLm9wdGlvbnNbdGhpcy5fZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICAvLyBjYWxjIHRoZSByYWRpdXNcbiAgICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgICByYWRpdXMgPSB0aGlzLl9kaXN0YW5jZUNhbGN1bGF0aW9uKGNlbnRlciwgbGF0bG5nKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0gJiZcbiAgICAgICAgcmFkaXVzIDwgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl1cbiAgICAgICkge1xuICAgICAgICByYWRpdXMgPSB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dICYmXG4gICAgICAgIHJhZGl1cyA+IHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dXG4gICAgICApIHtcbiAgICAgICAgcmFkaXVzID0gdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgLi4udGhpcy5vcHRpb25zLnBhdGhPcHRpb25zLCByYWRpdXMgfTtcblxuICAgIC8vIGNyZWF0ZSB0aGUgZmluYWwgY2lyY2xlIGxheWVyXG4gICAgY29uc3QgY2lyY2xlTGF5ZXIgPSBuZXcgdGhpcy5fQmFzZUNpcmNsZUNsYXNzKGNlbnRlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5fc2V0UGFuZShjaXJjbGVMYXllciwgJ2xheWVyUGFuZScpO1xuICAgIHRoaXMuX2ZpbmlzaExheWVyKGNpcmNsZUxheWVyKTtcbiAgICBjaXJjbGVMYXllci5hZGRUbyh0aGlzLl9tYXAucG0uX2dldENvbnRhaW5pbmdMYXllcigpKTtcblxuICAgIGlmIChjaXJjbGVMYXllci5wbSkge1xuICAgICAgLy8gY3JlYXRlIHBvbHlnb24gYXJvdW5kIHRoZSBjaXJjbGUgYm9yZGVyXG4gICAgICBjaXJjbGVMYXllci5wbS5fdXBkYXRlSGlkZGVuUG9seUNpcmNsZSgpO1xuICAgIH1cblxuICAgIC8vIGZpcmUgdGhlIHBtOmNyZWF0ZSBldmVudCBhbmQgcGFzcyBzaGFwZSBhbmQgbGF5ZXJcbiAgICB0aGlzLl9maXJlQ3JlYXRlKGNpcmNsZUxheWVyKTtcblxuICAgIC8vIGRpc2FibGUgZHJhd2luZ1xuICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGludWVEcmF3aW5nKSB7XG4gICAgICB0aGlzLmVuYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgX2dldE5ld0Rlc3RpbmF0aW9uT2ZIaW50TWFya2VyKCkge1xuICAgIGxldCBzZWNvbmRMYXRMbmcgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuICAgIGlmICh0aGlzLm9wdGlvbnNbdGhpcy5fZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICBpZiAoIXRoaXMuX2xheWVyR3JvdXAuaGFzTGF5ZXIodGhpcy5fY2VudGVyTWFya2VyKSkge1xuICAgICAgICByZXR1cm4gc2Vjb25kTGF0TG5nO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5fZGlzdGFuY2VDYWxjdWxhdGlvbihsYXRsbmcsIHNlY29uZExhdExuZyk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0gJiZcbiAgICAgICAgZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXVxuICAgICAgKSB7XG4gICAgICAgIHNlY29uZExhdExuZyA9IGRlc3RpbmF0aW9uT25MaW5lKFxuICAgICAgICAgIHRoaXMuX21hcCxcbiAgICAgICAgICBsYXRsbmcsXG4gICAgICAgICAgc2Vjb25kTGF0TG5nLFxuICAgICAgICAgIHRoaXMuX2dldE1pbkRpc3RhbmNlSW5NZXRlcigpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXSAmJlxuICAgICAgICBkaXN0YW5jZSA+IHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dXG4gICAgICApIHtcbiAgICAgICAgc2Vjb25kTGF0TG5nID0gZGVzdGluYXRpb25PbkxpbmUoXG4gICAgICAgICAgdGhpcy5fbWFwLFxuICAgICAgICAgIGxhdGxuZyxcbiAgICAgICAgICBzZWNvbmRMYXRMbmcsXG4gICAgICAgICAgdGhpcy5fZ2V0TWF4RGlzdGFuY2VJbk1ldGVyKClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlY29uZExhdExuZztcbiAgfSxcbiAgX2dldE1pbkRpc3RhbmNlSW5NZXRlcigpIHtcbiAgICByZXR1cm4gTC5QTS5VdGlscy5weFJhZGl1c1RvTWV0ZXJSYWRpdXMoXG4gICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXSxcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgIHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKVxuICAgICk7XG4gIH0sXG4gIF9nZXRNYXhEaXN0YW5jZUluTWV0ZXIoKSB7XG4gICAgcmV0dXJuIEwuUE0uVXRpbHMucHhSYWRpdXNUb01ldGVyUmFkaXVzKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0sXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKClcbiAgICApO1xuICB9LFxuICBfaGFuZGxlSGludE1hcmtlclNuYXBwaW5nKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnNbdGhpcy5fZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICBpZiAodGhpcy5faGludE1hcmtlci5fc25hcHBlZCkge1xuICAgICAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgICAgIGNvbnN0IHNlY29uZExhdExuZyA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5fZGlzdGFuY2VDYWxjdWxhdGlvbihsYXRsbmcsIHNlY29uZExhdExuZyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9sYXllckdyb3VwLmhhc0xheWVyKHRoaXMuX2NlbnRlck1hcmtlcikpIHtcbiAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0gJiZcbiAgICAgICAgICBkaXN0YW5jZSA8IHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKHRoaXMuX2hpbnRNYXJrZXIuX29yZ0xhdExuZyk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0gJiZcbiAgICAgICAgICBkaXN0YW5jZSA+IHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKHRoaXMuX2hpbnRNYXJrZXIuX29yZ0xhdExuZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgbmV3IGxhdGxuZyBvZiBtYXJrZXIgaWYgdGhlIHNuYXBwZWQgbGF0bG5nIHJhZGl1cyBpcyBvdXQgb2YgbWluL21heFxuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcodGhpcy5fZ2V0TmV3RGVzdGluYXRpb25PZkhpbnRNYXJrZXIoKSk7XG4gICAgfVxuICB9LFxuICBzZXRTdHlsZSgpIHtcbiAgICBjb25zdCB0ZW1wbGluZVN0eWxlID0ge307XG4gICAgTC5leHRlbmQodGVtcGxpbmVTdHlsZSwgdGhpcy5vcHRpb25zLnRlbXBsaW5lU3R5bGUpO1xuICAgIGlmICh0aGlzLm9wdGlvbnNbdGhpcy5fZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICB0ZW1wbGluZVN0eWxlLnJhZGl1cyA9IDA7XG4gICAgfVxuICAgIHRoaXMuX2xheWVyPy5zZXRTdHlsZSh0ZW1wbGluZVN0eWxlKTtcbiAgICB0aGlzLl9oaW50bGluZT8uc2V0U3R5bGUodGhpcy5vcHRpb25zLmhpbnRsaW5lU3R5bGUpO1xuICB9LFxuICBfZGlzdGFuY2VDYWxjdWxhdGlvbihBLCBCKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5wcm9qZWN0KEEpLmRpc3RhbmNlVG8odGhpcy5fbWFwLnByb2plY3QoQikpO1xuICB9LFxufSk7XG4iLCAiaW1wb3J0IERyYXcgZnJvbSAnLi9MLlBNLkRyYXcnO1xuXG5EcmF3LkNpcmNsZSA9IERyYXcuQ2lyY2xlTWFya2VyLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIHRoaXMuX3NoYXBlID0gJ0NpcmNsZSc7XG4gICAgdGhpcy50b29sYmFyQnV0dG9uTmFtZSA9ICdkcmF3Q2lyY2xlJztcbiAgICB0aGlzLl9CYXNlQ2lyY2xlQ2xhc3MgPSBMLkNpcmNsZTtcbiAgICB0aGlzLl9taW5SYWRpdXNPcHRpb24gPSAnbWluUmFkaXVzQ2lyY2xlJztcbiAgICB0aGlzLl9tYXhSYWRpdXNPcHRpb24gPSAnbWF4UmFkaXVzQ2lyY2xlJztcbiAgICB0aGlzLl9lZGl0YWJsZU9wdGlvbiA9ICdyZXNpemFibGVDaXJjbGUnO1xuICAgIHRoaXMuX2RlZmF1bHRSYWRpdXMgPSAxMDA7XG4gIH0sXG4gIF9leHRlbmRpbmdFbmFibGUoKSB7fSxcbiAgX2V4dGVuZGluZ0Rpc2FibGUoKSB7fSxcbiAgX2V4dGVuZGluZ0NyZWF0ZU1hcmtlcigpIHt9LFxuICBpc1JlbGV2YW50TWFya2VyKCkge30sXG4gIF9nZXRNaW5EaXN0YW5jZUluTWV0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dO1xuICB9LFxuICBfZ2V0TWF4RGlzdGFuY2VJbk1ldGVyKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXTtcbiAgfSxcbiAgX2Rpc3RhbmNlQ2FsY3VsYXRpb24oQSwgQikge1xuICAgIHJldHVybiB0aGlzLl9tYXAuZGlzdGFuY2UoQSwgQik7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgeyBpc051bWJlciwgfSBmcm9tIFwiQHR1cmYvaGVscGVyc1wiO1xuLyoqXG4gKiBVbndyYXAgYSBjb29yZGluYXRlIGZyb20gYSBQb2ludCBGZWF0dXJlLCBHZW9tZXRyeSBvciBhIHNpbmdsZSBjb29yZGluYXRlLlxuICpcbiAqIEBuYW1lIGdldENvb3JkXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj58R2VvbWV0cnk8UG9pbnQ+fEZlYXR1cmU8UG9pbnQ+fSBjb29yZCBHZW9KU09OIFBvaW50IG9yIGFuIEFycmF5IG9mIG51bWJlcnNcbiAqIEByZXR1cm5zIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlc1xuICogQGV4YW1wbGVcbiAqIHZhciBwdCA9IHR1cmYucG9pbnQoWzEwLCAxMF0pO1xuICpcbiAqIHZhciBjb29yZCA9IHR1cmYuZ2V0Q29vcmQocHQpO1xuICogLy89IFsxMCwgMTBdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb29yZChjb29yZCkge1xuICAgIGlmICghY29vcmQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmQgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShjb29yZCkpIHtcbiAgICAgICAgaWYgKGNvb3JkLnR5cGUgPT09IFwiRmVhdHVyZVwiICYmXG4gICAgICAgICAgICBjb29yZC5nZW9tZXRyeSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgY29vcmQuZ2VvbWV0cnkudHlwZSA9PT0gXCJQb2ludFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gY29vcmQuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvb3JkLnR5cGUgPT09IFwiUG9pbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNvb3JkLmNvb3JkaW5hdGVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGNvb3JkKSAmJlxuICAgICAgICBjb29yZC5sZW5ndGggPj0gMiAmJlxuICAgICAgICAhQXJyYXkuaXNBcnJheShjb29yZFswXSkgJiZcbiAgICAgICAgIUFycmF5LmlzQXJyYXkoY29vcmRbMV0pKSB7XG4gICAgICAgIHJldHVybiBjb29yZDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmQgbXVzdCBiZSBHZW9KU09OIFBvaW50IG9yIGFuIEFycmF5IG9mIG51bWJlcnNcIik7XG59XG4vKipcbiAqIFVud3JhcCBjb29yZGluYXRlcyBmcm9tIGEgRmVhdHVyZSwgR2VvbWV0cnkgT2JqZWN0IG9yIGFuIEFycmF5XG4gKlxuICogQG5hbWUgZ2V0Q29vcmRzXG4gKiBAcGFyYW0ge0FycmF5PGFueT58R2VvbWV0cnl8RmVhdHVyZX0gY29vcmRzIEZlYXR1cmUsIEdlb21ldHJ5IE9iamVjdCBvciBhbiBBcnJheVxuICogQHJldHVybnMge0FycmF5PGFueT59IGNvb3JkaW5hdGVzXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvbHkgPSB0dXJmLnBvbHlnb24oW1tbMTE5LjMyLCAtOC43XSwgWzExOS41NSwgLTguNjldLCBbMTE5LjUxLCAtOC41NF0sIFsxMTkuMzIsIC04LjddXV0pO1xuICpcbiAqIHZhciBjb29yZHMgPSB0dXJmLmdldENvb3Jkcyhwb2x5KTtcbiAqIC8vPSBbW1sxMTkuMzIsIC04LjddLCBbMTE5LjU1LCAtOC42OV0sIFsxMTkuNTEsIC04LjU0XSwgWzExOS4zMiwgLTguN11dXVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29vcmRzKGNvb3Jkcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvb3JkcykpIHtcbiAgICAgICAgcmV0dXJuIGNvb3JkcztcbiAgICB9XG4gICAgLy8gRmVhdHVyZVxuICAgIGlmIChjb29yZHMudHlwZSA9PT0gXCJGZWF0dXJlXCIpIHtcbiAgICAgICAgaWYgKGNvb3Jkcy5nZW9tZXRyeSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvb3Jkcy5nZW9tZXRyeS5jb29yZGluYXRlcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gR2VvbWV0cnlcbiAgICAgICAgaWYgKGNvb3Jkcy5jb29yZGluYXRlcykge1xuICAgICAgICAgICAgcmV0dXJuIGNvb3Jkcy5jb29yZGluYXRlcztcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZHMgbXVzdCBiZSBHZW9KU09OIEZlYXR1cmUsIEdlb21ldHJ5IE9iamVjdCBvciBhbiBBcnJheVwiKTtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGNvb3JkaW5hdGVzIGNvbnRhaW5zIGEgbnVtYmVyXG4gKlxuICogQG5hbWUgY29udGFpbnNOdW1iZXJcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gY29vcmRpbmF0ZXMgR2VvSlNPTiBDb29yZGluYXRlc1xuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgQXJyYXkgY29udGFpbnMgYSBudW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zTnVtYmVyKGNvb3JkaW5hdGVzKSB7XG4gICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA+IDEgJiZcbiAgICAgICAgaXNOdW1iZXIoY29vcmRpbmF0ZXNbMF0pICYmXG4gICAgICAgIGlzTnVtYmVyKGNvb3JkaW5hdGVzWzFdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29vcmRpbmF0ZXNbMF0pICYmIGNvb3JkaW5hdGVzWzBdLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gY29udGFpbnNOdW1iZXIoY29vcmRpbmF0ZXNbMF0pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBtdXN0IG9ubHkgY29udGFpbiBudW1iZXJzXCIpO1xufVxuLyoqXG4gKiBFbmZvcmNlIGV4cGVjdGF0aW9ucyBhYm91dCB0eXBlcyBvZiBHZW9KU09OIG9iamVjdHMgZm9yIFR1cmYuXG4gKlxuICogQG5hbWUgZ2VvanNvblR5cGVcbiAqIEBwYXJhbSB7R2VvSlNPTn0gdmFsdWUgYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBleHBlY3RlZCBHZW9KU09OIHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgY2FsbGluZyBmdW5jdGlvblxuICogQHRocm93cyB7RXJyb3J9IGlmIHZhbHVlIGlzIG5vdCB0aGUgZXhwZWN0ZWQgdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlb2pzb25UeXBlKHZhbHVlLCB0eXBlLCBuYW1lKSB7XG4gICAgaWYgKCF0eXBlIHx8ICFuYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInR5cGUgYW5kIG5hbWUgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmICghdmFsdWUgfHwgdmFsdWUudHlwZSAhPT0gdHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0IHRvIFwiICtcbiAgICAgICAgICAgIG5hbWUgK1xuICAgICAgICAgICAgXCI6IG11c3QgYmUgYSBcIiArXG4gICAgICAgICAgICB0eXBlICtcbiAgICAgICAgICAgIFwiLCBnaXZlbiBcIiArXG4gICAgICAgICAgICB2YWx1ZS50eXBlKTtcbiAgICB9XG59XG4vKipcbiAqIEVuZm9yY2UgZXhwZWN0YXRpb25zIGFib3V0IHR5cGVzIG9mIHtAbGluayBGZWF0dXJlfSBpbnB1dHMgZm9yIFR1cmYuXG4gKiBJbnRlcm5hbGx5IHRoaXMgdXNlcyB7QGxpbmsgZ2VvanNvblR5cGV9IHRvIGp1ZGdlIGdlb21ldHJ5IHR5cGVzLlxuICpcbiAqIEBuYW1lIGZlYXR1cmVPZlxuICogQHBhcmFtIHtGZWF0dXJlfSBmZWF0dXJlIGEgZmVhdHVyZSB3aXRoIGFuIGV4cGVjdGVkIGdlb21ldHJ5IHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIGV4cGVjdGVkIEdlb0pTT04gdHlwZVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZSBvZiBjYWxsaW5nIGZ1bmN0aW9uXG4gKiBAdGhyb3dzIHtFcnJvcn0gZXJyb3IgaWYgdmFsdWUgaXMgbm90IHRoZSBleHBlY3RlZCB0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmVhdHVyZU9mKGZlYXR1cmUsIHR5cGUsIG5hbWUpIHtcbiAgICBpZiAoIWZlYXR1cmUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZmVhdHVyZSBwYXNzZWRcIik7XG4gICAgfVxuICAgIGlmICghbmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIuZmVhdHVyZU9mKCkgcmVxdWlyZXMgYSBuYW1lXCIpO1xuICAgIH1cbiAgICBpZiAoIWZlYXR1cmUgfHwgZmVhdHVyZS50eXBlICE9PSBcIkZlYXR1cmVcIiB8fCAhZmVhdHVyZS5nZW9tZXRyeSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0IHRvIFwiICsgbmFtZSArIFwiLCBGZWF0dXJlIHdpdGggZ2VvbWV0cnkgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmICghZmVhdHVyZS5nZW9tZXRyeSB8fCBmZWF0dXJlLmdlb21ldHJ5LnR5cGUgIT09IHR5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBcIiArXG4gICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgIFwiOiBtdXN0IGJlIGEgXCIgK1xuICAgICAgICAgICAgdHlwZSArXG4gICAgICAgICAgICBcIiwgZ2l2ZW4gXCIgK1xuICAgICAgICAgICAgZmVhdHVyZS5nZW9tZXRyeS50eXBlKTtcbiAgICB9XG59XG4vKipcbiAqIEVuZm9yY2UgZXhwZWN0YXRpb25zIGFib3V0IHR5cGVzIG9mIHtAbGluayBGZWF0dXJlQ29sbGVjdGlvbn0gaW5wdXRzIGZvciBUdXJmLlxuICogSW50ZXJuYWxseSB0aGlzIHVzZXMge0BsaW5rIGdlb2pzb25UeXBlfSB0byBqdWRnZSBnZW9tZXRyeSB0eXBlcy5cbiAqXG4gKiBAbmFtZSBjb2xsZWN0aW9uT2ZcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb259IGZlYXR1cmVDb2xsZWN0aW9uIGEgRmVhdHVyZUNvbGxlY3Rpb24gZm9yIHdoaWNoIGZlYXR1cmVzIHdpbGwgYmUganVkZ2VkXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBleHBlY3RlZCBHZW9KU09OIHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgY2FsbGluZyBmdW5jdGlvblxuICogQHRocm93cyB7RXJyb3J9IGlmIHZhbHVlIGlzIG5vdCB0aGUgZXhwZWN0ZWQgdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3Rpb25PZihmZWF0dXJlQ29sbGVjdGlvbiwgdHlwZSwgbmFtZSkge1xuICAgIGlmICghZmVhdHVyZUNvbGxlY3Rpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZmVhdHVyZUNvbGxlY3Rpb24gcGFzc2VkXCIpO1xuICAgIH1cbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiLmNvbGxlY3Rpb25PZigpIHJlcXVpcmVzIGEgbmFtZVwiKTtcbiAgICB9XG4gICAgaWYgKCFmZWF0dXJlQ29sbGVjdGlvbiB8fCBmZWF0dXJlQ29sbGVjdGlvbi50eXBlICE9PSBcIkZlYXR1cmVDb2xsZWN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBcIiArIG5hbWUgKyBcIiwgRmVhdHVyZUNvbGxlY3Rpb24gcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBmZWF0dXJlQ29sbGVjdGlvbi5mZWF0dXJlczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGZlYXR1cmUgPSBfYVtfaV07XG4gICAgICAgIGlmICghZmVhdHVyZSB8fCBmZWF0dXJlLnR5cGUgIT09IFwiRmVhdHVyZVwiIHx8ICFmZWF0dXJlLmdlb21ldHJ5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0IHRvIFwiICsgbmFtZSArIFwiLCBGZWF0dXJlIHdpdGggZ2VvbWV0cnkgcmVxdWlyZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmZWF0dXJlLmdlb21ldHJ5IHx8IGZlYXR1cmUuZ2VvbWV0cnkudHlwZSAhPT0gdHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBcIiArXG4gICAgICAgICAgICAgICAgbmFtZSArXG4gICAgICAgICAgICAgICAgXCI6IG11c3QgYmUgYSBcIiArXG4gICAgICAgICAgICAgICAgdHlwZSArXG4gICAgICAgICAgICAgICAgXCIsIGdpdmVuIFwiICtcbiAgICAgICAgICAgICAgICBmZWF0dXJlLmdlb21ldHJ5LnR5cGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBHZXQgR2VvbWV0cnkgZnJvbSBGZWF0dXJlIG9yIEdlb21ldHJ5IE9iamVjdFxuICpcbiAqIEBwYXJhbSB7RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBHZW9KU09OIEZlYXR1cmUgb3IgR2VvbWV0cnkgT2JqZWN0XG4gKiBAcmV0dXJucyB7R2VvbWV0cnl8bnVsbH0gR2VvSlNPTiBHZW9tZXRyeSBPYmplY3RcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBnZW9qc29uIGlzIG5vdCBhIEZlYXR1cmUgb3IgR2VvbWV0cnkgT2JqZWN0XG4gKiBAZXhhbXBsZVxuICogdmFyIHBvaW50ID0ge1xuICogICBcInR5cGVcIjogXCJGZWF0dXJlXCIsXG4gKiAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAqICAgXCJnZW9tZXRyeVwiOiB7XG4gKiAgICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAqICAgICBcImNvb3JkaW5hdGVzXCI6IFsxMTAsIDQwXVxuICogICB9XG4gKiB9XG4gKiB2YXIgZ2VvbSA9IHR1cmYuZ2V0R2VvbShwb2ludClcbiAqIC8vPXtcInR5cGVcIjogXCJQb2ludFwiLCBcImNvb3JkaW5hdGVzXCI6IFsxMTAsIDQwXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdlb20oZ2VvanNvbikge1xuICAgIGlmIChnZW9qc29uLnR5cGUgPT09IFwiRmVhdHVyZVwiKSB7XG4gICAgICAgIHJldHVybiBnZW9qc29uLmdlb21ldHJ5O1xuICAgIH1cbiAgICByZXR1cm4gZ2VvanNvbjtcbn1cbi8qKlxuICogR2V0IEdlb0pTT04gb2JqZWN0J3MgdHlwZSwgR2VvbWV0cnkgdHlwZSBpcyBwcmlvcml0aXplLlxuICpcbiAqIEBwYXJhbSB7R2VvSlNPTn0gZ2VvanNvbiBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lPVwiZ2VvanNvblwiXSBuYW1lIG9mIHRoZSB2YXJpYWJsZSB0byBkaXNwbGF5IGluIGVycm9yIG1lc3NhZ2UgKHVudXNlZClcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEdlb0pTT04gdHlwZVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2ludCA9IHtcbiAqICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICogICBcInByb3BlcnRpZXNcIjoge30sXG4gKiAgIFwiZ2VvbWV0cnlcIjoge1xuICogICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gKiAgICAgXCJjb29yZGluYXRlc1wiOiBbMTEwLCA0MF1cbiAqICAgfVxuICogfVxuICogdmFyIGdlb20gPSB0dXJmLmdldFR5cGUocG9pbnQpXG4gKiAvLz1cIlBvaW50XCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFR5cGUoZ2VvanNvbiwgX25hbWUpIHtcbiAgICBpZiAoZ2VvanNvbi50eXBlID09PSBcIkZlYXR1cmVDb2xsZWN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjtcbiAgICB9XG4gICAgaWYgKGdlb2pzb24udHlwZSA9PT0gXCJHZW9tZXRyeUNvbGxlY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gXCJHZW9tZXRyeUNvbGxlY3Rpb25cIjtcbiAgICB9XG4gICAgaWYgKGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlXCIgJiYgZ2VvanNvbi5nZW9tZXRyeSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2VvanNvbi5nZW9tZXRyeS50eXBlO1xuICAgIH1cbiAgICByZXR1cm4gZ2VvanNvbi50eXBlO1xufVxuIiwgImltcG9ydCB7IGZlYXR1cmUsIGxpbmVTdHJpbmcsIGlzT2JqZWN0LCBwb2ludCB9IGZyb20gJ0B0dXJmL2hlbHBlcnMnO1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciBjb29yZEVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgY29vcmRFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY3VycmVudENvb3JkIFRoZSBjdXJyZW50IGNvb3JkaW5hdGUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvb3JkSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIGNvb3JkaW5hdGUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBjb29yZGluYXRlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaCgpXG4gKlxuICogQG5hbWUgY29vcmRFYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtleGNsdWRlV3JhcENvb3JkPWZhbHNlXSB3aGV0aGVyIG9yIG5vdCB0byBpbmNsdWRlIHRoZSBmaW5hbCBjb29yZGluYXRlIG9mIExpbmVhclJpbmdzIHRoYXQgd3JhcHMgdGhlIHJpbmcgaW4gaXRzIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7XCJmb29cIjogXCJiYXJcIn0pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7XCJoZWxsb1wiOiBcIndvcmxkXCJ9KVxuICogXSk7XG4gKlxuICogdHVyZi5jb29yZEVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAqICAgLy89Y3VycmVudENvb3JkXG4gKiAgIC8vPWNvb3JkSW5kZXhcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBjb29yZEVhY2goZ2VvanNvbiwgY2FsbGJhY2ssIGV4Y2x1ZGVXcmFwQ29vcmQpIHtcbiAgLy8gSGFuZGxlcyBudWxsIEdlb21ldHJ5IC0tIFNraXBzIHRoaXMgR2VvSlNPTlxuICBpZiAoZ2VvanNvbiA9PT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgaixcbiAgICBrLFxuICAgIGwsXG4gICAgZ2VvbWV0cnksXG4gICAgc3RvcEcsXG4gICAgY29vcmRzLFxuICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLFxuICAgIHdyYXBTaHJpbmsgPSAwLFxuICAgIGNvb3JkSW5kZXggPSAwLFxuICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uLFxuICAgIHR5cGUgPSBnZW9qc29uLnR5cGUsXG4gICAgaXNGZWF0dXJlQ29sbGVjdGlvbiA9IHR5cGUgPT09IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICBpc0ZlYXR1cmUgPSB0eXBlID09PSBcIkZlYXR1cmVcIixcbiAgICBzdG9wID0gaXNGZWF0dXJlQ29sbGVjdGlvbiA/IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoIDogMTtcblxuICAvLyBUaGlzIGxvZ2ljIG1heSBsb29rIGEgbGl0dGxlIHdlaXJkLiBUaGUgcmVhc29uIHdoeSBpdCBpcyB0aGF0IHdheVxuICAvLyBpcyBiZWNhdXNlIGl0J3MgdHJ5aW5nIHRvIGJlIGZhc3QuIEdlb0pTT04gc3VwcG9ydHMgbXVsdGlwbGUga2luZHNcbiAgLy8gb2Ygb2JqZWN0cyBhdCBpdHMgcm9vdDogRmVhdHVyZUNvbGxlY3Rpb24sIEZlYXR1cmVzLCBHZW9tZXRyaWVzLlxuICAvLyBUaGlzIGZ1bmN0aW9uIGhhcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgaGFuZGxpbmcgYWxsIG9mIHRoZW0sIGFuZCB0aGF0XG4gIC8vIG1lYW5zIHRoYXQgc29tZSBvZiB0aGUgYGZvcmAgbG9vcHMgeW91IHNlZSBiZWxvdyBhY3R1YWxseSBqdXN0IGRvbid0IGFwcGx5XG4gIC8vIHRvIGNlcnRhaW4gaW5wdXRzLiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBnaXZlIHRoaXMganVzdCBhXG4gIC8vIFBvaW50IGdlb21ldHJ5LCB0aGVuIGJvdGggbG9vcHMgYXJlIHNob3J0LWNpcmN1aXRlZCBhbmQgYWxsIHdlIGRvXG4gIC8vIGlzIGdyYWR1YWxseSByZW5hbWUgdGhlIGlucHV0IHVudGlsIGl0J3MgY2FsbGVkICdnZW9tZXRyeScuXG4gIC8vXG4gIC8vIFRoaXMgYWxzbyBhaW1zIHRvIGFsbG9jYXRlIGFzIGZldyByZXNvdXJjZXMgYXMgcG9zc2libGU6IGp1c3QgYVxuICAvLyBmZXcgbnVtYmVycyBhbmQgYm9vbGVhbnMsIHJhdGhlciB0aGFuIGFueSB0ZW1wb3JhcnkgYXJyYXlzIGFzIHdvdWxkXG4gIC8vIGJlIHJlcXVpcmVkIHdpdGggdGhlIG5vcm1hbGl6YXRpb24gYXBwcm9hY2guXG4gIGZvciAodmFyIGZlYXR1cmVJbmRleCA9IDA7IGZlYXR1cmVJbmRleCA8IHN0b3A7IGZlYXR1cmVJbmRleCsrKSB7XG4gICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24gPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5nZW9tZXRyeVxuICAgICAgOiBpc0ZlYXR1cmVcbiAgICAgID8gZ2VvanNvbi5nZW9tZXRyeVxuICAgICAgOiBnZW9qc29uO1xuICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uID0gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24udHlwZSA9PT0gXCJHZW9tZXRyeUNvbGxlY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgICBzdG9wRyA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uXG4gICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXMubGVuZ3RoXG4gICAgICA6IDE7XG5cbiAgICBmb3IgKHZhciBnZW9tSW5kZXggPSAwOyBnZW9tSW5kZXggPCBzdG9wRzsgZ2VvbUluZGV4KyspIHtcbiAgICAgIHZhciBtdWx0aUZlYXR1cmVJbmRleCA9IDA7XG4gICAgICB2YXIgZ2VvbWV0cnlJbmRleCA9IDA7XG4gICAgICBnZW9tZXRyeSA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uXG4gICAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24uZ2VvbWV0cmllc1tnZW9tSW5kZXhdXG4gICAgICAgIDogZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb247XG5cbiAgICAgIC8vIEhhbmRsZXMgbnVsbCBHZW9tZXRyeSAtLSBTa2lwcyB0aGlzIGdlb21ldHJ5XG4gICAgICBpZiAoZ2VvbWV0cnkgPT09IG51bGwpIGNvbnRpbnVlO1xuICAgICAgY29vcmRzID0gZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICB2YXIgZ2VvbVR5cGUgPSBnZW9tZXRyeS50eXBlO1xuXG4gICAgICB3cmFwU2hyaW5rID1cbiAgICAgICAgZXhjbHVkZVdyYXBDb29yZCAmJlxuICAgICAgICAoZ2VvbVR5cGUgPT09IFwiUG9seWdvblwiIHx8IGdlb21UeXBlID09PSBcIk11bHRpUG9seWdvblwiKVxuICAgICAgICAgID8gMVxuICAgICAgICAgIDogMDtcblxuICAgICAgc3dpdGNoIChnZW9tVHlwZSkge1xuICAgICAgICBjYXNlIG51bGw6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICBjb29yZHMsXG4gICAgICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgY29vcmRzW2pdLFxuICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY29vcmRJbmRleCsrO1xuICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSBcIk11bHRpUG9pbnRcIikgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGdlb21UeXBlID09PSBcIkxpbmVTdHJpbmdcIikgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBjb29yZHNbal0ubGVuZ3RoIC0gd3JhcFNocmluazsgaysrKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgIGNvb3Jkc1tqXVtrXSxcbiAgICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICBjb29yZEluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IFwiTXVsdGlMaW5lU3RyaW5nXCIpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IFwiUG9seWdvblwiKSBnZW9tZXRyeUluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gXCJQb2x5Z29uXCIpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBnZW9tZXRyeUluZGV4ID0gMDtcbiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBjb29yZHNbal0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgZm9yIChsID0gMDsgbCA8IGNvb3Jkc1tqXVtrXS5sZW5ndGggLSB3cmFwU2hyaW5rOyBsKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzW2pdW2tdW2xdLFxuICAgICAgICAgICAgICAgICAgICBjb29yZEluZGV4LFxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb29yZEluZGV4Kys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJHZW9tZXRyeUNvbGxlY3Rpb25cIjpcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7IGorKylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY29vcmRFYWNoKGdlb21ldHJ5Lmdlb21ldHJpZXNbal0sIGNhbGxiYWNrLCBleGNsdWRlV3JhcENvb3JkKSA9PT1cbiAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gR2VvbWV0cnkgVHlwZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgY29vcmRSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBjb29yZFJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjdXJyZW50Q29vcmQgVGhlIGN1cnJlbnQgY29vcmRpbmF0ZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gY29vcmRJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgY29vcmRpbmF0ZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBTdGFydHMgYXQgaW5kZXggMCwgaWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkLCBhbmQgYXQgaW5kZXggMSBvdGhlcndpc2UuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGNvb3JkaW5hdGVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKVxuICpcbiAqIEBuYW1lIGNvb3JkUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEdlb21ldHJ5fEZlYXR1cmV9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHBhcmFtIHtib29sZWFufSBbZXhjbHVkZVdyYXBDb29yZD1mYWxzZV0gd2hldGhlciBvciBub3QgdG8gaW5jbHVkZSB0aGUgZmluYWwgY29vcmRpbmF0ZSBvZiBMaW5lYXJSaW5ncyB0aGF0IHdyYXBzIHRoZSByaW5nIGluIGl0cyBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtcImZvb1wiOiBcImJhclwifSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtcImhlbGxvXCI6IFwid29ybGRcIn0pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmNvb3JkUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudENvb3JkXG4gKiAgIC8vPWNvb3JkSW5kZXhcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRDb29yZDtcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBjb29yZFJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlLCBleGNsdWRlV3JhcENvb3JkKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBjb29yZEVhY2goXG4gICAgZ2VvanNvbixcbiAgICBmdW5jdGlvbiAoXG4gICAgICBjdXJyZW50Q29vcmQsXG4gICAgICBjb29yZEluZGV4LFxuICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICBnZW9tZXRyeUluZGV4XG4gICAgKSB7XG4gICAgICBpZiAoY29vcmRJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRDb29yZDtcbiAgICAgIGVsc2VcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKFxuICAgICAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICAgICAgY3VycmVudENvb3JkLFxuICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgKTtcbiAgICB9LFxuICAgIGV4Y2x1ZGVXcmFwQ29vcmRcbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHByb3BFYWNoXG4gKlxuICogQGNhbGxiYWNrIHByb3BFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBjdXJyZW50UHJvcGVydGllcyBUaGUgY3VycmVudCBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIHByb3BlcnRpZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICpcbiAqIEBuYW1lIHByb3BFYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5wcm9wRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89Y3VycmVudFByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gcHJvcEVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgdmFyIGk7XG4gIHN3aXRjaCAoZ2VvanNvbi50eXBlKSB7XG4gICAgY2FzZSBcIkZlYXR1cmVDb2xsZWN0aW9uXCI6XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZ2VvanNvbi5mZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY2FsbGJhY2soZ2VvanNvbi5mZWF0dXJlc1tpXS5wcm9wZXJ0aWVzLCBpKSA9PT0gZmFsc2UpIGJyZWFrO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkZlYXR1cmVcIjpcbiAgICAgIGNhbGxiYWNrKGdlb2pzb24ucHJvcGVydGllcywgMCk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBwcm9wUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgcHJvcFJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHsqfSBjdXJyZW50UHJvcGVydGllcyBUaGUgY3VycmVudCBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIHByb3BlcnRpZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0IGludG8gYSBzaW5nbGUgdmFsdWUsXG4gKiBzaW1pbGFyIHRvIGhvdyBBcnJheS5yZWR1Y2Ugd29ya3MuIEhvd2V2ZXIsIGluIHRoaXMgY2FzZSB3ZSBsYXppbHkgcnVuXG4gKiB0aGUgcmVkdWN0aW9uLCBzbyBhbiBhcnJheSBvZiBhbGwgcHJvcGVydGllcyBpcyB1bm5lY2Vzc2FyeS5cbiAqXG4gKiBAbmFtZSBwcm9wUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLnByb3BSZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudFByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50UHJvcGVydGllc1xuICogfSk7XG4gKi9cbmZ1bmN0aW9uIHByb3BSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgcHJvcEVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpIHtcbiAgICBpZiAoZmVhdHVyZUluZGV4ID09PSAwICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRQcm9wZXJ0aWVzO1xuICAgIGVsc2VcbiAgICAgIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KTtcbiAgfSk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBmZWF0dXJlRWFjaFxuICpcbiAqIEBjYWxsYmFjayBmZWF0dXJlRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8YW55Pn0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG9cbiAqIEFycmF5LmZvckVhY2guXG4gKlxuICogQG5hbWUgZmVhdHVyZUVhY2hcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZmVhdHVyZUVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGZlYXR1cmVFYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gIGlmIChnZW9qc29uLnR5cGUgPT09IFwiRmVhdHVyZVwiKSB7XG4gICAgY2FsbGJhY2soZ2VvanNvbiwgMCk7XG4gIH0gZWxzZSBpZiAoZ2VvanNvbi50eXBlID09PSBcIkZlYXR1cmVDb2xsZWN0aW9uXCIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjYWxsYmFjayhnZW9qc29uLmZlYXR1cmVzW2ldLCBpKSA9PT0gZmFsc2UpIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBmZWF0dXJlUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgZmVhdHVyZVJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtGZWF0dXJlfSBjdXJyZW50RmVhdHVyZSBUaGUgY3VycmVudCBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge1wiZm9vXCI6IFwiYmFyXCJ9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge1wiaGVsbG9cIjogXCJ3b3JsZFwifSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZmVhdHVyZVJlZHVjZShmZWF0dXJlcywgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRGZWF0dXJlXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZmVhdHVyZVJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBmZWF0dXJlRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCkge1xuICAgIGlmIChmZWF0dXJlSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICBwcmV2aW91c1ZhbHVlID0gY3VycmVudEZlYXR1cmU7XG4gICAgZWxzZSBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2socHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCk7XG4gIH0pO1xuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBHZXQgYWxsIGNvb3JkaW5hdGVzIGZyb20gYW55IEdlb0pTT04gb2JqZWN0LlxuICpcbiAqIEBuYW1lIGNvb3JkQWxsXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcmV0dXJucyB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGUgcG9zaXRpb24gYXJyYXlcbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHZhciBjb29yZHMgPSB0dXJmLmNvb3JkQWxsKGZlYXR1cmVzKTtcbiAqIC8vPSBbWzI2LCAzN10sIFszNiwgNTNdXVxuICovXG5mdW5jdGlvbiBjb29yZEFsbChnZW9qc29uKSB7XG4gIHZhciBjb29yZHMgPSBbXTtcbiAgY29vcmRFYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChjb29yZCkge1xuICAgIGNvb3Jkcy5wdXNoKGNvb3JkKTtcbiAgfSk7XG4gIHJldHVybiBjb29yZHM7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGdlb21FYWNoXG4gKlxuICogQGNhbGxiYWNrIGdlb21FYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7R2VvbWV0cnl9IGN1cnJlbnRHZW9tZXRyeSBUaGUgY3VycmVudCBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBmZWF0dXJlUHJvcGVydGllcyBUaGUgY3VycmVudCBGZWF0dXJlIFByb3BlcnRpZXMgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmZWF0dXJlQkJveCBUaGUgY3VycmVudCBGZWF0dXJlIEJCb3ggYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBmZWF0dXJlSWQgVGhlIGN1cnJlbnQgRmVhdHVyZSBJZCBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZWFjaCBnZW9tZXRyeSBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaCgpXG4gKlxuICogQG5hbWUgZ2VvbUVhY2hcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRHZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlUHJvcGVydGllcywgZmVhdHVyZUJCb3gsIGZlYXR1cmVJZClcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZ2VvbUVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpIHtcbiAqICAgLy89Y3VycmVudEdlb21ldHJ5XG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1mZWF0dXJlUHJvcGVydGllc1xuICogICAvLz1mZWF0dXJlQkJveFxuICogICAvLz1mZWF0dXJlSWRcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBnZW9tRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICB2YXIgaSxcbiAgICBqLFxuICAgIGcsXG4gICAgZ2VvbWV0cnksXG4gICAgc3RvcEcsXG4gICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24sXG4gICAgaXNHZW9tZXRyeUNvbGxlY3Rpb24sXG4gICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgZmVhdHVyZUJCb3gsXG4gICAgZmVhdHVyZUlkLFxuICAgIGZlYXR1cmVJbmRleCA9IDAsXG4gICAgaXNGZWF0dXJlQ29sbGVjdGlvbiA9IGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgIGlzRmVhdHVyZSA9IGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlXCIsXG4gICAgc3RvcCA9IGlzRmVhdHVyZUNvbGxlY3Rpb24gPyBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCA6IDE7XG5cbiAgLy8gVGhpcyBsb2dpYyBtYXkgbG9vayBhIGxpdHRsZSB3ZWlyZC4gVGhlIHJlYXNvbiB3aHkgaXQgaXMgdGhhdCB3YXlcbiAgLy8gaXMgYmVjYXVzZSBpdCdzIHRyeWluZyB0byBiZSBmYXN0LiBHZW9KU09OIHN1cHBvcnRzIG11bHRpcGxlIGtpbmRzXG4gIC8vIG9mIG9iamVjdHMgYXQgaXRzIHJvb3Q6IEZlYXR1cmVDb2xsZWN0aW9uLCBGZWF0dXJlcywgR2VvbWV0cmllcy5cbiAgLy8gVGhpcyBmdW5jdGlvbiBoYXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIGhhbmRsaW5nIGFsbCBvZiB0aGVtLCBhbmQgdGhhdFxuICAvLyBtZWFucyB0aGF0IHNvbWUgb2YgdGhlIGBmb3JgIGxvb3BzIHlvdSBzZWUgYmVsb3cgYWN0dWFsbHkganVzdCBkb24ndCBhcHBseVxuICAvLyB0byBjZXJ0YWluIGlucHV0cy4gRm9yIGluc3RhbmNlLCBpZiB5b3UgZ2l2ZSB0aGlzIGp1c3QgYVxuICAvLyBQb2ludCBnZW9tZXRyeSwgdGhlbiBib3RoIGxvb3BzIGFyZSBzaG9ydC1jaXJjdWl0ZWQgYW5kIGFsbCB3ZSBkb1xuICAvLyBpcyBncmFkdWFsbHkgcmVuYW1lIHRoZSBpbnB1dCB1bnRpbCBpdCdzIGNhbGxlZCAnZ2VvbWV0cnknLlxuICAvL1xuICAvLyBUaGlzIGFsc28gYWltcyB0byBhbGxvY2F0ZSBhcyBmZXcgcmVzb3VyY2VzIGFzIHBvc3NpYmxlOiBqdXN0IGFcbiAgLy8gZmV3IG51bWJlcnMgYW5kIGJvb2xlYW5zLCByYXRoZXIgdGhhbiBhbnkgdGVtcG9yYXJ5IGFycmF5cyBhcyB3b3VsZFxuICAvLyBiZSByZXF1aXJlZCB3aXRoIHRoZSBub3JtYWxpemF0aW9uIGFwcHJvYWNoLlxuICBmb3IgKGkgPSAwOyBpIDwgc3RvcDsgaSsrKSB7XG4gICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24gPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbaV0uZ2VvbWV0cnlcbiAgICAgIDogaXNGZWF0dXJlXG4gICAgICA/IGdlb2pzb24uZ2VvbWV0cnlcbiAgICAgIDogZ2VvanNvbjtcbiAgICBmZWF0dXJlUHJvcGVydGllcyA9IGlzRmVhdHVyZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvanNvbi5mZWF0dXJlc1tpXS5wcm9wZXJ0aWVzXG4gICAgICA6IGlzRmVhdHVyZVxuICAgICAgPyBnZW9qc29uLnByb3BlcnRpZXNcbiAgICAgIDoge307XG4gICAgZmVhdHVyZUJCb3ggPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbaV0uYmJveFxuICAgICAgOiBpc0ZlYXR1cmVcbiAgICAgID8gZ2VvanNvbi5iYm94XG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBmZWF0dXJlSWQgPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbaV0uaWRcbiAgICAgIDogaXNGZWF0dXJlXG4gICAgICA/IGdlb2pzb24uaWRcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uID0gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24udHlwZSA9PT0gXCJHZW9tZXRyeUNvbGxlY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgICBzdG9wRyA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uXG4gICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXMubGVuZ3RoXG4gICAgICA6IDE7XG5cbiAgICBmb3IgKGcgPSAwOyBnIDwgc3RvcEc7IGcrKykge1xuICAgICAgZ2VvbWV0cnkgPSBpc0dlb21ldHJ5Q29sbGVjdGlvblxuICAgICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXNbZ11cbiAgICAgICAgOiBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbjtcblxuICAgICAgLy8gSGFuZGxlIG51bGwgR2VvbWV0cnlcbiAgICAgIGlmIChnZW9tZXRyeSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICAgICAgICBmZWF0dXJlQkJveCxcbiAgICAgICAgICAgIGZlYXR1cmVJZFxuICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjoge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBmZWF0dXJlUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICAgICAgICAgIGZlYXR1cmVJZFxuICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkdlb21ldHJ5Q29sbGVjdGlvblwiOiB7XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGdlb21ldHJ5Lmdlb21ldHJpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkuZ2VvbWV0cmllc1tqXSxcbiAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUlkXG4gICAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIEdlb21ldHJ5IFR5cGVcIik7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE9ubHkgaW5jcmVhc2UgYGZlYXR1cmVJbmRleGAgcGVyIGVhY2ggZmVhdHVyZVxuICAgIGZlYXR1cmVJbmRleCsrO1xuICB9XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGdlb21SZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBnZW9tUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0dlb21ldHJ5fSBjdXJyZW50R2VvbWV0cnkgVGhlIGN1cnJlbnQgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gZmVhdHVyZVByb3BlcnRpZXMgVGhlIGN1cnJlbnQgRmVhdHVyZSBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmVhdHVyZUJCb3ggVGhlIGN1cnJlbnQgRmVhdHVyZSBCQm94IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gZmVhdHVyZUlkIFRoZSBjdXJyZW50IEZlYXR1cmUgSWQgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGdlb21ldHJ5IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBnZW9tUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZ2VvbVJlZHVjZShmZWF0dXJlcywgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRHZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlUHJvcGVydGllcywgZmVhdHVyZUJCb3gsIGZlYXR1cmVJZCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRHZW9tZXRyeVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89ZmVhdHVyZVByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUJCb3hcbiAqICAgLy89ZmVhdHVyZUlkXG4gKiAgIHJldHVybiBjdXJyZW50R2VvbWV0cnlcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBnZW9tUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIGdlb21FYWNoKFxuICAgIGdlb2pzb24sXG4gICAgZnVuY3Rpb24gKFxuICAgICAgY3VycmVudEdlb21ldHJ5LFxuICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICBmZWF0dXJlQkJveCxcbiAgICAgIGZlYXR1cmVJZFxuICAgICkge1xuICAgICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRHZW9tZXRyeTtcbiAgICAgIGVsc2VcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKFxuICAgICAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICAgICAgY3VycmVudEdlb21ldHJ5LFxuICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICBmZWF0dXJlUHJvcGVydGllcyxcbiAgICAgICAgICBmZWF0dXJlQkJveCxcbiAgICAgICAgICBmZWF0dXJlSWRcbiAgICAgICAgKTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBmbGF0dGVuRWFjaFxuICpcbiAqIEBjYWxsYmFjayBmbGF0dGVuRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmV9IGN1cnJlbnRGZWF0dXJlIFRoZSBjdXJyZW50IGZsYXR0ZW5lZCBmZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBmbGF0dGVuZWQgZmVhdHVyZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvXG4gKiBBcnJheS5mb3JFYWNoLlxuICpcbiAqIEBuYW1lIGZsYXR0ZW5FYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleClcbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYubXVsdGlQb2ludChbWzQwLCAzMF0sIFszNiwgNTNdXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZmxhdHRlbkVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBmbGF0dGVuRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICBnZW9tRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZ2VvbWV0cnksIGZlYXR1cmVJbmRleCwgcHJvcGVydGllcywgYmJveCwgaWQpIHtcbiAgICAvLyBDYWxsYmFjayBmb3Igc2luZ2xlIGdlb21ldHJ5XG4gICAgdmFyIHR5cGUgPSBnZW9tZXRyeSA9PT0gbnVsbCA/IG51bGwgOiBnZW9tZXRyeS50eXBlO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBudWxsOlxuICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgZmVhdHVyZShnZW9tZXRyeSwgcHJvcGVydGllcywgeyBiYm94OiBiYm94LCBpZDogaWQgfSksXG4gICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAwXG4gICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBnZW9tVHlwZTtcblxuICAgIC8vIENhbGxiYWNrIGZvciBtdWx0aS1nZW9tZXRyeVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgICAgZ2VvbVR5cGUgPSBcIlBvaW50XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgICBnZW9tVHlwZSA9IFwiTGluZVN0cmluZ1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICAgICAgZ2VvbVR5cGUgPSBcIlBvbHlnb25cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgZm9yIChcbiAgICAgIHZhciBtdWx0aUZlYXR1cmVJbmRleCA9IDA7XG4gICAgICBtdWx0aUZlYXR1cmVJbmRleCA8IGdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgIG11bHRpRmVhdHVyZUluZGV4KytcbiAgICApIHtcbiAgICAgIHZhciBjb29yZGluYXRlID0gZ2VvbWV0cnkuY29vcmRpbmF0ZXNbbXVsdGlGZWF0dXJlSW5kZXhdO1xuICAgICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IGdlb21UeXBlLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZSxcbiAgICAgIH07XG4gICAgICBpZiAoXG4gICAgICAgIGNhbGxiYWNrKGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcyksIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpID09PVxuICAgICAgICBmYWxzZVxuICAgICAgKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZmxhdHRlblJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGZsYXR0ZW5SZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7RmVhdHVyZX0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgZmxhdHRlbmVkIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBmbGF0dGVuUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLm11bHRpUG9pbnQoW1s0MCwgMzBdLCBbMzYsIDUzXV0sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmZsYXR0ZW5SZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogICByZXR1cm4gY3VycmVudEZlYXR1cmVcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBmbGF0dGVuUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIGZsYXR0ZW5FYWNoKFxuICAgIGdlb2pzb24sXG4gICAgZnVuY3Rpb24gKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KSB7XG4gICAgICBpZiAoXG4gICAgICAgIGZlYXR1cmVJbmRleCA9PT0gMCAmJlxuICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCA9PT0gMCAmJlxuICAgICAgICBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgKVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY3VycmVudEZlYXR1cmU7XG4gICAgICBlbHNlXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhcbiAgICAgICAgICBwcmV2aW91c1ZhbHVlLFxuICAgICAgICAgIGN1cnJlbnRGZWF0dXJlLFxuICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleFxuICAgICAgICApO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHNlZ21lbnRFYWNoXG4gKlxuICogQGNhbGxiYWNrIHNlZ21lbnRFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY3VycmVudFNlZ21lbnQgVGhlIGN1cnJlbnQgU2VnbWVudCBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IHNlZ21lbnRJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgU2VnbWVudCBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciAyLXZlcnRleCBsaW5lIHNlZ21lbnQgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICogKE11bHRpKVBvaW50IGdlb21ldHJpZXMgZG8gbm90IGNvbnRhaW4gc2VnbWVudHMgdGhlcmVmb3JlIHRoZXkgYXJlIGlnbm9yZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgsIHNlZ21lbnRJbmRleClcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5Z29uID0gdHVyZi5wb2x5Z29uKFtbWy01MCwgNV0sIFstNDAsIC0xMF0sIFstNTAsIC0xMF0sIFstNDAsIDVdLCBbLTUwLCA1XV1dKTtcbiAqXG4gKiAvLyBJdGVyYXRlIG92ZXIgR2VvSlNPTiBieSAyLXZlcnRleCBzZWdtZW50c1xuICogdHVyZi5zZWdtZW50RWFjaChwb2x5Z29uLCBmdW5jdGlvbiAoY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgsIHNlZ21lbnRJbmRleCkge1xuICogICAvLz1jdXJyZW50U2VnbWVudFxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89Z2VvbWV0cnlJbmRleFxuICogICAvLz1zZWdtZW50SW5kZXhcbiAqIH0pO1xuICpcbiAqIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIHNlZ21lbnRzXG4gKiB2YXIgdG90YWwgPSAwO1xuICogdHVyZi5zZWdtZW50RWFjaChwb2x5Z29uLCBmdW5jdGlvbiAoKSB7XG4gKiAgICAgdG90YWwrKztcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBzZWdtZW50RWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICBmbGF0dGVuRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICAgIHZhciBzZWdtZW50SW5kZXggPSAwO1xuXG4gICAgLy8gRXhjbHVkZSBudWxsIEdlb21ldHJpZXNcbiAgICBpZiAoIWZlYXR1cmUuZ2VvbWV0cnkpIHJldHVybjtcbiAgICAvLyAoTXVsdGkpUG9pbnQgZ2VvbWV0cmllcyBkbyBub3QgY29udGFpbiBzZWdtZW50cyB0aGVyZWZvcmUgdGhleSBhcmUgaWdub3JlZCBkdXJpbmcgdGhpcyBvcGVyYXRpb24uXG4gICAgdmFyIHR5cGUgPSBmZWF0dXJlLmdlb21ldHJ5LnR5cGU7XG4gICAgaWYgKHR5cGUgPT09IFwiUG9pbnRcIiB8fCB0eXBlID09PSBcIk11bHRpUG9pbnRcIikgcmV0dXJuO1xuXG4gICAgLy8gR2VuZXJhdGUgMi12ZXJ0ZXggbGluZSBzZWdtZW50c1xuICAgIHZhciBwcmV2aW91c0Nvb3JkcztcbiAgICB2YXIgcHJldmlvdXNGZWF0dXJlSW5kZXggPSAwO1xuICAgIHZhciBwcmV2aW91c011bHRpSW5kZXggPSAwO1xuICAgIHZhciBwcmV2R2VvbUluZGV4ID0gMDtcbiAgICBpZiAoXG4gICAgICBjb29yZEVhY2goXG4gICAgICAgIGZlYXR1cmUsXG4gICAgICAgIGZ1bmN0aW9uIChcbiAgICAgICAgICBjdXJyZW50Q29vcmQsXG4gICAgICAgICAgY29vcmRJbmRleCxcbiAgICAgICAgICBmZWF0dXJlSW5kZXhDb29yZCxcbiAgICAgICAgICBtdWx0aVBhcnRJbmRleENvb3JkLFxuICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gU2ltdWxhdGluZyBhIG1ldGEuY29vcmRSZWR1Y2UoKSBzaW5jZSBgcmVkdWNlYCBvcGVyYXRpb25zIGNhbm5vdCBiZSBzdG9wcGVkIGJ5IHJldHVybmluZyBgZmFsc2VgXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHJldmlvdXNDb29yZHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgZmVhdHVyZUluZGV4ID4gcHJldmlvdXNGZWF0dXJlSW5kZXggfHxcbiAgICAgICAgICAgIG11bHRpUGFydEluZGV4Q29vcmQgPiBwcmV2aW91c011bHRpSW5kZXggfHxcbiAgICAgICAgICAgIGdlb21ldHJ5SW5kZXggPiBwcmV2R2VvbUluZGV4XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwcmV2aW91c0Nvb3JkcyA9IGN1cnJlbnRDb29yZDtcbiAgICAgICAgICAgIHByZXZpb3VzRmVhdHVyZUluZGV4ID0gZmVhdHVyZUluZGV4O1xuICAgICAgICAgICAgcHJldmlvdXNNdWx0aUluZGV4ID0gbXVsdGlQYXJ0SW5kZXhDb29yZDtcbiAgICAgICAgICAgIHByZXZHZW9tSW5kZXggPSBnZW9tZXRyeUluZGV4O1xuICAgICAgICAgICAgc2VnbWVudEluZGV4ID0gMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGN1cnJlbnRTZWdtZW50ID0gbGluZVN0cmluZyhcbiAgICAgICAgICAgIFtwcmV2aW91c0Nvb3JkcywgY3VycmVudENvb3JkXSxcbiAgICAgICAgICAgIGZlYXR1cmUucHJvcGVydGllc1xuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgIGN1cnJlbnRTZWdtZW50LFxuICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4LFxuICAgICAgICAgICAgICBzZWdtZW50SW5kZXhcbiAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHNlZ21lbnRJbmRleCsrO1xuICAgICAgICAgIHByZXZpb3VzQ29vcmRzID0gY3VycmVudENvb3JkO1xuICAgICAgICB9XG4gICAgICApID09PSBmYWxzZVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHNlZ21lbnRSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBzZWdtZW50UmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRTZWdtZW50IFRoZSBjdXJyZW50IFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIDItdmVydGV4IGxpbmUgc2VnbWVudCBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKClcbiAqIChNdWx0aSlQb2ludCBnZW9tZXRyaWVzIGRvIG5vdCBjb250YWluIHNlZ21lbnRzIHRoZXJlZm9yZSB0aGV5IGFyZSBpZ25vcmVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT05cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRTZWdtZW50LCBjdXJyZW50SW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIHBvbHlnb24gPSB0dXJmLnBvbHlnb24oW1tbLTUwLCA1XSwgWy00MCwgLTEwXSwgWy01MCwgLTEwXSwgWy00MCwgNV0sIFstNTAsIDVdXV0pO1xuICpcbiAqIC8vIEl0ZXJhdGUgb3ZlciBHZW9KU09OIGJ5IDItdmVydGV4IHNlZ21lbnRzXG4gKiB0dXJmLnNlZ21lbnRSZWR1Y2UocG9seWdvbiwgZnVuY3Rpb24gKHByZXZpb3VzU2VnbWVudCwgY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgsIHNlZ21lbnRJbmRleCkge1xuICogICAvLz0gcHJldmlvdXNTZWdtZW50XG4gKiAgIC8vPSBjdXJyZW50U2VnbWVudFxuICogICAvLz0gZmVhdHVyZUluZGV4XG4gKiAgIC8vPSBtdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz0gZ2VvbWV0cnlJbmRleFxuICogICAvLz0gc2VnbWVudEluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50U2VnbWVudFxuICogfSk7XG4gKlxuICogLy8gQ2FsY3VsYXRlIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2VnbWVudHNcbiAqIHZhciBpbml0aWFsVmFsdWUgPSAwXG4gKiB2YXIgdG90YWwgPSB0dXJmLnNlZ21lbnRSZWR1Y2UocG9seWdvbiwgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUpIHtcbiAqICAgICBwcmV2aW91c1ZhbHVlKys7XG4gKiAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG4gKiB9LCBpbml0aWFsVmFsdWUpO1xuICovXG5mdW5jdGlvbiBzZWdtZW50UmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIHZhciBzdGFydGVkID0gZmFsc2U7XG4gIHNlZ21lbnRFYWNoKFxuICAgIGdlb2pzb24sXG4gICAgZnVuY3Rpb24gKFxuICAgICAgY3VycmVudFNlZ21lbnQsXG4gICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgIGdlb21ldHJ5SW5kZXgsXG4gICAgICBzZWdtZW50SW5kZXhcbiAgICApIHtcbiAgICAgIGlmIChzdGFydGVkID09PSBmYWxzZSAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRTZWdtZW50O1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50U2VnbWVudCxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgZ2VvbWV0cnlJbmRleCxcbiAgICAgICAgICBzZWdtZW50SW5kZXhcbiAgICAgICAgKTtcbiAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGxpbmVFYWNoXG4gKlxuICogQGNhbGxiYWNrIGxpbmVFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY3VycmVudExpbmUgVGhlIGN1cnJlbnQgTGluZVN0cmluZ3xMaW5lYXJSaW5nIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWRcbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBsaW5lIG9yIHJpbmcgY29vcmRpbmF0ZXMgaW4gTGluZVN0cmluZywgUG9seWdvbiwgTXVsdGlMaW5lU3RyaW5nLCBNdWx0aVBvbHlnb24gRmVhdHVyZXMgb3IgR2VvbWV0cmllcyxcbiAqIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaC5cbiAqXG4gKiBAbmFtZSBsaW5lRWFjaFxuICogQHBhcmFtIHtHZW9tZXRyeXxGZWF0dXJlPExpbmVTdHJpbmd8UG9seWdvbnxNdWx0aUxpbmVTdHJpbmd8TXVsdGlQb2x5Z29uPn0gZ2VvanNvbiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRMaW5lLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KVxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aUxpbmUgPSB0dXJmLm11bHRpTGluZVN0cmluZyhbXG4gKiAgIFtbMjYsIDM3XSwgWzM1LCA0NV1dLFxuICogICBbWzM2LCA1M10sIFszOCwgNTBdLCBbNDEsIDU1XV1cbiAqIF0pO1xuICpcbiAqIHR1cmYubGluZUVhY2gobXVsdGlMaW5lLCBmdW5jdGlvbiAoY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAqICAgLy89Y3VycmVudExpbmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBsaW5lRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICAvLyB2YWxpZGF0aW9uXG4gIGlmICghZ2VvanNvbikgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyByZXF1aXJlZFwiKTtcblxuICBmbGF0dGVuRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICAgIGlmIChmZWF0dXJlLmdlb21ldHJ5ID09PSBudWxsKSByZXR1cm47XG4gICAgdmFyIHR5cGUgPSBmZWF0dXJlLmdlb21ldHJ5LnR5cGU7XG4gICAgdmFyIGNvb3JkcyA9IGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICBpZiAoY2FsbGJhY2soZmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgMCwgMCkgPT09IGZhbHNlKVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBnZW9tZXRyeUluZGV4ID0gMDtcbiAgICAgICAgICBnZW9tZXRyeUluZGV4IDwgY29vcmRzLmxlbmd0aDtcbiAgICAgICAgICBnZW9tZXRyeUluZGV4KytcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgIGxpbmVTdHJpbmcoY29vcmRzW2dlb21ldHJ5SW5kZXhdLCBmZWF0dXJlLnByb3BlcnRpZXMpLFxuICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBsaW5lUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgbGluZVJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBjdXJyZW50TGluZSBUaGUgY3VycmVudCBMaW5lU3RyaW5nfExpbmVhclJpbmcgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWRcbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgbGluZVJlZHVjZVxuICogQHBhcmFtIHtHZW9tZXRyeXxGZWF0dXJlPExpbmVTdHJpbmd8UG9seWdvbnxNdWx0aUxpbmVTdHJpbmd8TXVsdGlQb2x5Z29uPn0gZ2VvanNvbiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRMaW5lLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlQb2x5ID0gdHVyZi5tdWx0aVBvbHlnb24oW1xuICogICB0dXJmLnBvbHlnb24oW1tbMTIsNDhdLFsyLDQxXSxbMjQsMzhdLFsxMiw0OF1dLCBbWzksNDRdLFsxMyw0MV0sWzEzLDQ1XSxbOSw0NF1dXSksXG4gKiAgIHR1cmYucG9seWdvbihbW1s1LCA1XSwgWzAsIDBdLCBbMiwgMl0sIFs0LCA0XSwgWzUsIDVdXV0pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmxpbmVSZWR1Y2UobXVsdGlQb2x5LCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50TGluZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89Z2VvbWV0cnlJbmRleFxuICogICByZXR1cm4gY3VycmVudExpbmVcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBsaW5lUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIGxpbmVFYWNoKFxuICAgIGdlb2pzb24sXG4gICAgZnVuY3Rpb24gKGN1cnJlbnRMaW5lLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KSB7XG4gICAgICBpZiAoZmVhdHVyZUluZGV4ID09PSAwICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY3VycmVudExpbmU7XG4gICAgICBlbHNlXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhcbiAgICAgICAgICBwcmV2aW91c1ZhbHVlLFxuICAgICAgICAgIGN1cnJlbnRMaW5lLFxuICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICk7XG4gICAgfVxuICApO1xuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBGaW5kcyBhIHBhcnRpY3VsYXIgMi12ZXJ0ZXggTGluZVN0cmluZyBTZWdtZW50IGZyb20gYSBHZW9KU09OIHVzaW5nIGBAdHVyZi9tZXRhYCBpbmRleGVzLlxuICpcbiAqIE5lZ2F0aXZlIGluZGV4ZXMgYXJlIHBlcm1pdHRlZC5cbiAqIFBvaW50ICYgTXVsdGlQb2ludCB3aWxsIGFsd2F5cyByZXR1cm4gbnVsbC5cbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gQW55IEdlb0pTT04gRmVhdHVyZSBvciBHZW9tZXRyeVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZmVhdHVyZUluZGV4PTBdIEZlYXR1cmUgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tdWx0aUZlYXR1cmVJbmRleD0wXSBNdWx0aS1GZWF0dXJlIEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZ2VvbWV0cnlJbmRleD0wXSBHZW9tZXRyeSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNlZ21lbnRJbmRleD0wXSBTZWdtZW50IEluZGV4XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJvcGVydGllcz17fV0gVHJhbnNsYXRlIFByb3BlcnRpZXMgdG8gb3V0cHV0IExpbmVTdHJpbmdcbiAqIEBwYXJhbSB7QkJveH0gW29wdGlvbnMuYmJveD17fV0gVHJhbnNsYXRlIEJCb3ggdG8gb3V0cHV0IExpbmVTdHJpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW29wdGlvbnMuaWQ9e31dIFRyYW5zbGF0ZSBJZCB0byBvdXRwdXQgTGluZVN0cmluZ1xuICogQHJldHVybnMge0ZlYXR1cmU8TGluZVN0cmluZz59IDItdmVydGV4IEdlb0pTT04gRmVhdHVyZSBMaW5lU3RyaW5nXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpTGluZSA9IHR1cmYubXVsdGlMaW5lU3RyaW5nKFtcbiAqICAgICBbWzEwLCAxMF0sIFs1MCwgMzBdLCBbMzAsIDQwXV0sXG4gKiAgICAgW1stMTAsIC0xMF0sIFstNTAsIC0zMF0sIFstMzAsIC00MF1dXG4gKiBdKTtcbiAqXG4gKiAvLyBGaXJzdCBTZWdtZW50IChkZWZhdWx0cyBhcmUgMClcbiAqIHR1cmYuZmluZFNlZ21lbnQobXVsdGlMaW5lKTtcbiAqIC8vID0+IEZlYXR1cmU8TGluZVN0cmluZzxbWzEwLCAxMF0sIFs1MCwgMzBdXT4+XG4gKlxuICogLy8gRmlyc3QgU2VnbWVudCBvZiAybmQgTXVsdGkgRmVhdHVyZVxuICogdHVyZi5maW5kU2VnbWVudChtdWx0aUxpbmUsIHttdWx0aUZlYXR1cmVJbmRleDogMX0pO1xuICogLy8gPT4gRmVhdHVyZTxMaW5lU3RyaW5nPFtbLTEwLCAtMTBdLCBbLTUwLCAtMzBdXT4+XG4gKlxuICogLy8gTGFzdCBTZWdtZW50IG9mIExhc3QgTXVsdGkgRmVhdHVyZVxuICogdHVyZi5maW5kU2VnbWVudChtdWx0aUxpbmUsIHttdWx0aUZlYXR1cmVJbmRleDogLTEsIHNlZ21lbnRJbmRleDogLTF9KTtcbiAqIC8vID0+IEZlYXR1cmU8TGluZVN0cmluZzxbWy01MCwgLTMwXSwgWy0zMCwgLTQwXV0+PlxuICovXG5mdW5jdGlvbiBmaW5kU2VnbWVudChnZW9qc29uLCBvcHRpb25zKSB7XG4gIC8vIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGlmICghaXNPYmplY3Qob3B0aW9ucykpIHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMgaXMgaW52YWxpZFwiKTtcbiAgdmFyIGZlYXR1cmVJbmRleCA9IG9wdGlvbnMuZmVhdHVyZUluZGV4IHx8IDA7XG4gIHZhciBtdWx0aUZlYXR1cmVJbmRleCA9IG9wdGlvbnMubXVsdGlGZWF0dXJlSW5kZXggfHwgMDtcbiAgdmFyIGdlb21ldHJ5SW5kZXggPSBvcHRpb25zLmdlb21ldHJ5SW5kZXggfHwgMDtcbiAgdmFyIHNlZ21lbnRJbmRleCA9IG9wdGlvbnMuc2VnbWVudEluZGV4IHx8IDA7XG5cbiAgLy8gRmluZCBGZWF0dXJlSW5kZXhcbiAgdmFyIHByb3BlcnRpZXMgPSBvcHRpb25zLnByb3BlcnRpZXM7XG4gIHZhciBnZW9tZXRyeTtcblxuICBzd2l0Y2ggKGdlb2pzb24udHlwZSkge1xuICAgIGNhc2UgXCJGZWF0dXJlQ29sbGVjdGlvblwiOlxuICAgICAgaWYgKGZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIGZlYXR1cmVJbmRleCA9IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoICsgZmVhdHVyZUluZGV4O1xuICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwgZ2VvanNvbi5mZWF0dXJlc1tmZWF0dXJlSW5kZXhdLnByb3BlcnRpZXM7XG4gICAgICBnZW9tZXRyeSA9IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5nZW9tZXRyeTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJGZWF0dXJlXCI6XG4gICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCBnZW9qc29uLnByb3BlcnRpZXM7XG4gICAgICBnZW9tZXRyeSA9IGdlb2pzb24uZ2VvbWV0cnk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICBnZW9tZXRyeSA9IGdlb2pzb247XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyBpbnZhbGlkXCIpO1xuICB9XG5cbiAgLy8gRmluZCBTZWdtZW50SW5kZXhcbiAgaWYgKGdlb21ldHJ5ID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgdmFyIGNvb3JkcyA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICBzd2l0Y2ggKGdlb21ldHJ5LnR5cGUpIHtcbiAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgIGlmIChzZWdtZW50SW5kZXggPCAwKSBzZWdtZW50SW5kZXggPSBjb29yZHMubGVuZ3RoICsgc2VnbWVudEluZGV4IC0gMTtcbiAgICAgIHJldHVybiBsaW5lU3RyaW5nKFxuICAgICAgICBbY29vcmRzW3NlZ21lbnRJbmRleF0sIGNvb3Jkc1tzZWdtZW50SW5kZXggKyAxXV0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgIGlmIChnZW9tZXRyeUluZGV4IDwgMCkgZ2VvbWV0cnlJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBnZW9tZXRyeUluZGV4O1xuICAgICAgaWYgKHNlZ21lbnRJbmRleCA8IDApXG4gICAgICAgIHNlZ21lbnRJbmRleCA9IGNvb3Jkc1tnZW9tZXRyeUluZGV4XS5sZW5ndGggKyBzZWdtZW50SW5kZXggLSAxO1xuICAgICAgcmV0dXJuIGxpbmVTdHJpbmcoXG4gICAgICAgIFtcbiAgICAgICAgICBjb29yZHNbZ2VvbWV0cnlJbmRleF1bc2VnbWVudEluZGV4XSxcbiAgICAgICAgICBjb29yZHNbZ2VvbWV0cnlJbmRleF1bc2VnbWVudEluZGV4ICsgMV0sXG4gICAgICAgIF0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgaWYgKG11bHRpRmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPSBjb29yZHMubGVuZ3RoICsgbXVsdGlGZWF0dXJlSW5kZXg7XG4gICAgICBpZiAoc2VnbWVudEluZGV4IDwgMClcbiAgICAgICAgc2VnbWVudEluZGV4ID0gY29vcmRzW211bHRpRmVhdHVyZUluZGV4XS5sZW5ndGggKyBzZWdtZW50SW5kZXggLSAxO1xuICAgICAgcmV0dXJuIGxpbmVTdHJpbmcoXG4gICAgICAgIFtcbiAgICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW3NlZ21lbnRJbmRleF0sXG4gICAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtzZWdtZW50SW5kZXggKyAxXSxcbiAgICAgICAgXSxcbiAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICBpZiAobXVsdGlGZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBtdWx0aUZlYXR1cmVJbmRleDtcbiAgICAgIGlmIChnZW9tZXRyeUluZGV4IDwgMClcbiAgICAgICAgZ2VvbWV0cnlJbmRleCA9IGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF0ubGVuZ3RoICsgZ2VvbWV0cnlJbmRleDtcbiAgICAgIGlmIChzZWdtZW50SW5kZXggPCAwKVxuICAgICAgICBzZWdtZW50SW5kZXggPVxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF0ubGVuZ3RoIC0gc2VnbWVudEluZGV4IC0gMTtcbiAgICAgIHJldHVybiBsaW5lU3RyaW5nKFxuICAgICAgICBbXG4gICAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtnZW9tZXRyeUluZGV4XVtzZWdtZW50SW5kZXhdLFxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF1bc2VnbWVudEluZGV4ICsgMV0sXG4gICAgICAgIF0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyBpbnZhbGlkXCIpO1xufVxuXG4vKipcbiAqIEZpbmRzIGEgcGFydGljdWxhciBQb2ludCBmcm9tIGEgR2VvSlNPTiB1c2luZyBgQHR1cmYvbWV0YWAgaW5kZXhlcy5cbiAqXG4gKiBOZWdhdGl2ZSBpbmRleGVzIGFyZSBwZXJtaXR0ZWQuXG4gKlxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIEFueSBHZW9KU09OIEZlYXR1cmUgb3IgR2VvbWV0cnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZlYXR1cmVJbmRleD0wXSBGZWF0dXJlIEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubXVsdGlGZWF0dXJlSW5kZXg9MF0gTXVsdGktRmVhdHVyZSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmdlb21ldHJ5SW5kZXg9MF0gR2VvbWV0cnkgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb29yZEluZGV4PTBdIENvb3JkIEluZGV4XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJvcGVydGllcz17fV0gVHJhbnNsYXRlIFByb3BlcnRpZXMgdG8gb3V0cHV0IFBvaW50XG4gKiBAcGFyYW0ge0JCb3h9IFtvcHRpb25zLmJib3g9e31dIFRyYW5zbGF0ZSBCQm94IHRvIG91dHB1dCBQb2ludFxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbb3B0aW9ucy5pZD17fV0gVHJhbnNsYXRlIElkIHRvIG91dHB1dCBQb2ludFxuICogQHJldHVybnMge0ZlYXR1cmU8UG9pbnQ+fSAyLXZlcnRleCBHZW9KU09OIEZlYXR1cmUgUG9pbnRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlMaW5lID0gdHVyZi5tdWx0aUxpbmVTdHJpbmcoW1xuICogICAgIFtbMTAsIDEwXSwgWzUwLCAzMF0sIFszMCwgNDBdXSxcbiAqICAgICBbWy0xMCwgLTEwXSwgWy01MCwgLTMwXSwgWy0zMCwgLTQwXV1cbiAqIF0pO1xuICpcbiAqIC8vIEZpcnN0IFNlZ21lbnQgKGRlZmF1bHRzIGFyZSAwKVxuICogdHVyZi5maW5kUG9pbnQobXVsdGlMaW5lKTtcbiAqIC8vID0+IEZlYXR1cmU8UG9pbnQ8WzEwLCAxMF0+PlxuICpcbiAqIC8vIEZpcnN0IFNlZ21lbnQgb2YgdGhlIDJuZCBNdWx0aS1GZWF0dXJlXG4gKiB0dXJmLmZpbmRQb2ludChtdWx0aUxpbmUsIHttdWx0aUZlYXR1cmVJbmRleDogMX0pO1xuICogLy8gPT4gRmVhdHVyZTxQb2ludDxbLTEwLCAtMTBdPj5cbiAqXG4gKiAvLyBMYXN0IFNlZ21lbnQgb2YgbGFzdCBNdWx0aS1GZWF0dXJlXG4gKiB0dXJmLmZpbmRQb2ludChtdWx0aUxpbmUsIHttdWx0aUZlYXR1cmVJbmRleDogLTEsIGNvb3JkSW5kZXg6IC0xfSk7XG4gKiAvLyA9PiBGZWF0dXJlPFBvaW50PFstMzAsIC00MF0+PlxuICovXG5mdW5jdGlvbiBmaW5kUG9pbnQoZ2VvanNvbiwgb3B0aW9ucykge1xuICAvLyBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoIWlzT2JqZWN0KG9wdGlvbnMpKSB0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zIGlzIGludmFsaWRcIik7XG4gIHZhciBmZWF0dXJlSW5kZXggPSBvcHRpb25zLmZlYXR1cmVJbmRleCB8fCAwO1xuICB2YXIgbXVsdGlGZWF0dXJlSW5kZXggPSBvcHRpb25zLm11bHRpRmVhdHVyZUluZGV4IHx8IDA7XG4gIHZhciBnZW9tZXRyeUluZGV4ID0gb3B0aW9ucy5nZW9tZXRyeUluZGV4IHx8IDA7XG4gIHZhciBjb29yZEluZGV4ID0gb3B0aW9ucy5jb29yZEluZGV4IHx8IDA7XG5cbiAgLy8gRmluZCBGZWF0dXJlSW5kZXhcbiAgdmFyIHByb3BlcnRpZXMgPSBvcHRpb25zLnByb3BlcnRpZXM7XG4gIHZhciBnZW9tZXRyeTtcblxuICBzd2l0Y2ggKGdlb2pzb24udHlwZSkge1xuICAgIGNhc2UgXCJGZWF0dXJlQ29sbGVjdGlvblwiOlxuICAgICAgaWYgKGZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIGZlYXR1cmVJbmRleCA9IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoICsgZmVhdHVyZUluZGV4O1xuICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwgZ2VvanNvbi5mZWF0dXJlc1tmZWF0dXJlSW5kZXhdLnByb3BlcnRpZXM7XG4gICAgICBnZW9tZXRyeSA9IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5nZW9tZXRyeTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJGZWF0dXJlXCI6XG4gICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCBnZW9qc29uLnByb3BlcnRpZXM7XG4gICAgICBnZW9tZXRyeSA9IGdlb2pzb24uZ2VvbWV0cnk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICBnZW9tZXRyeSA9IGdlb2pzb247XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyBpbnZhbGlkXCIpO1xuICB9XG5cbiAgLy8gRmluZCBDb29yZCBJbmRleFxuICBpZiAoZ2VvbWV0cnkgPT09IG51bGwpIHJldHVybiBudWxsO1xuICB2YXIgY29vcmRzID0gZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gIHN3aXRjaCAoZ2VvbWV0cnkudHlwZSkge1xuICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgcmV0dXJuIHBvaW50KGNvb3JkcywgcHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIGlmIChtdWx0aUZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIG11bHRpRmVhdHVyZUluZGV4ID0gY29vcmRzLmxlbmd0aCArIG11bHRpRmVhdHVyZUluZGV4O1xuICAgICAgcmV0dXJuIHBvaW50KGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICBpZiAoY29vcmRJbmRleCA8IDApIGNvb3JkSW5kZXggPSBjb29yZHMubGVuZ3RoICsgY29vcmRJbmRleDtcbiAgICAgIHJldHVybiBwb2ludChjb29yZHNbY29vcmRJbmRleF0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICBpZiAoZ2VvbWV0cnlJbmRleCA8IDApIGdlb21ldHJ5SW5kZXggPSBjb29yZHMubGVuZ3RoICsgZ2VvbWV0cnlJbmRleDtcbiAgICAgIGlmIChjb29yZEluZGV4IDwgMClcbiAgICAgICAgY29vcmRJbmRleCA9IGNvb3Jkc1tnZW9tZXRyeUluZGV4XS5sZW5ndGggKyBjb29yZEluZGV4O1xuICAgICAgcmV0dXJuIHBvaW50KGNvb3Jkc1tnZW9tZXRyeUluZGV4XVtjb29yZEluZGV4XSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgaWYgKG11bHRpRmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPSBjb29yZHMubGVuZ3RoICsgbXVsdGlGZWF0dXJlSW5kZXg7XG4gICAgICBpZiAoY29vcmRJbmRleCA8IDApXG4gICAgICAgIGNvb3JkSW5kZXggPSBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLmxlbmd0aCArIGNvb3JkSW5kZXg7XG4gICAgICByZXR1cm4gcG9pbnQoY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtjb29yZEluZGV4XSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgaWYgKG11bHRpRmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPSBjb29yZHMubGVuZ3RoICsgbXVsdGlGZWF0dXJlSW5kZXg7XG4gICAgICBpZiAoZ2VvbWV0cnlJbmRleCA8IDApXG4gICAgICAgIGdlb21ldHJ5SW5kZXggPSBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLmxlbmd0aCArIGdlb21ldHJ5SW5kZXg7XG4gICAgICBpZiAoY29vcmRJbmRleCA8IDApXG4gICAgICAgIGNvb3JkSW5kZXggPVxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF0ubGVuZ3RoIC0gY29vcmRJbmRleDtcbiAgICAgIHJldHVybiBwb2ludChcbiAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtnZW9tZXRyeUluZGV4XVtjb29yZEluZGV4XSxcbiAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJnZW9qc29uIGlzIGludmFsaWRcIik7XG59XG5cbmV4cG9ydCB7IGNvb3JkQWxsLCBjb29yZEVhY2gsIGNvb3JkUmVkdWNlLCBmZWF0dXJlRWFjaCwgZmVhdHVyZVJlZHVjZSwgZmluZFBvaW50LCBmaW5kU2VnbWVudCwgZmxhdHRlbkVhY2gsIGZsYXR0ZW5SZWR1Y2UsIGdlb21FYWNoLCBnZW9tUmVkdWNlLCBsaW5lRWFjaCwgbGluZVJlZHVjZSwgcHJvcEVhY2gsIHByb3BSZWR1Y2UsIHNlZ21lbnRFYWNoLCBzZWdtZW50UmVkdWNlIH07XG4iLCAiaW1wb3J0IHsgZmVhdHVyZUNvbGxlY3Rpb24sIGxpbmVTdHJpbmcsIH0gZnJvbSBcIkB0dXJmL2hlbHBlcnNcIjtcbmltcG9ydCB7IGdldENvb3JkcyB9IGZyb20gXCJAdHVyZi9pbnZhcmlhbnRcIjtcbmltcG9ydCB7IGZsYXR0ZW5FYWNoIH0gZnJvbSBcIkB0dXJmL21ldGFcIjtcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlQ29sbGVjdGlvbn0gb2YgMi12ZXJ0ZXgge0BsaW5rIExpbmVTdHJpbmd9IHNlZ21lbnRzIGZyb20gYVxuICoge0BsaW5rIExpbmVTdHJpbmd8KE11bHRpKUxpbmVTdHJpbmd9IG9yIHtAbGluayBQb2x5Z29ufChNdWx0aSlQb2x5Z29ufS5cbiAqXG4gKiBAbmFtZSBsaW5lU2VnbWVudFxuICogQHBhcmFtIHtHZW9KU09OfSBnZW9qc29uIEdlb0pTT04gUG9seWdvbiBvciBMaW5lU3RyaW5nXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248TGluZVN0cmluZz59IDItdmVydGV4IGxpbmUgc2VnbWVudHNcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNTAsIDVdLCBbLTQwLCAtMTBdLCBbLTUwLCAtMTBdLCBbLTQwLCA1XSwgWy01MCwgNV1dXSk7XG4gKiB2YXIgc2VnbWVudHMgPSB0dXJmLmxpbmVTZWdtZW50KHBvbHlnb24pO1xuICpcbiAqIC8vYWRkVG9NYXBcbiAqIHZhciBhZGRUb01hcCA9IFtwb2x5Z29uLCBzZWdtZW50c11cbiAqL1xuZnVuY3Rpb24gbGluZVNlZ21lbnQoZ2VvanNvbikge1xuICAgIGlmICghZ2VvanNvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnZW9qc29uIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIGZsYXR0ZW5FYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIGxpbmVTZWdtZW50RmVhdHVyZShmZWF0dXJlLCByZXN1bHRzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24ocmVzdWx0cyk7XG59XG4vKipcbiAqIExpbmUgU2VnbWVudFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZ3xQb2x5Z29uPn0gZ2VvanNvbiBMaW5lIG9yIHBvbHlnb24gZmVhdHVyZVxuICogQHBhcmFtIHtBcnJheX0gcmVzdWx0cyBwdXNoIHRvIHJlc3VsdHNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBsaW5lU2VnbWVudEZlYXR1cmUoZ2VvanNvbiwgcmVzdWx0cykge1xuICAgIHZhciBjb29yZHMgPSBbXTtcbiAgICB2YXIgZ2VvbWV0cnkgPSBnZW9qc29uLmdlb21ldHJ5O1xuICAgIGlmIChnZW9tZXRyeSAhPT0gbnVsbCkge1xuICAgICAgICBzd2l0Y2ggKGdlb21ldHJ5LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgICAgICAgICAgY29vcmRzID0gZ2V0Q29vcmRzKGdlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgY29vcmRzID0gW2dldENvb3JkcyhnZW9tZXRyeSldO1xuICAgICAgICB9XG4gICAgICAgIGNvb3Jkcy5mb3JFYWNoKGZ1bmN0aW9uIChjb29yZCkge1xuICAgICAgICAgICAgdmFyIHNlZ21lbnRzID0gY3JlYXRlU2VnbWVudHMoY29vcmQsIGdlb2pzb24ucHJvcGVydGllcyk7XG4gICAgICAgICAgICBzZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudC5pZCA9IHJlc3VsdHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBTZWdtZW50cyBmcm9tIExpbmVTdHJpbmcgY29vcmRpbmF0ZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRzIExpbmVTdHJpbmcgY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7Kn0gcHJvcGVydGllcyBHZW9KU09OIHByb3BlcnRpZXNcbiAqIEByZXR1cm5zIHtBcnJheTxGZWF0dXJlPExpbmVTdHJpbmc+Pn0gbGluZSBzZWdtZW50c1xuICovXG5mdW5jdGlvbiBjcmVhdGVTZWdtZW50cyhjb29yZHMsIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgc2VnbWVudHMgPSBbXTtcbiAgICBjb29yZHMucmVkdWNlKGZ1bmN0aW9uIChwcmV2aW91c0Nvb3JkcywgY3VycmVudENvb3Jkcykge1xuICAgICAgICB2YXIgc2VnbWVudCA9IGxpbmVTdHJpbmcoW3ByZXZpb3VzQ29vcmRzLCBjdXJyZW50Q29vcmRzXSwgcHJvcGVydGllcyk7XG4gICAgICAgIHNlZ21lbnQuYmJveCA9IGJib3gocHJldmlvdXNDb29yZHMsIGN1cnJlbnRDb29yZHMpO1xuICAgICAgICBzZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgICAgICByZXR1cm4gY3VycmVudENvb3JkcztcbiAgICB9KTtcbiAgICByZXR1cm4gc2VnbWVudHM7XG59XG4vKipcbiAqIENyZWF0ZSBCQm94IGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzIChmYXN0ZXIgdGhhbiBAdHVyZi9iYm94KVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNvb3JkczEgUG9pbnQgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZHMyIFBvaW50IGNvb3JkaW5hdGVcbiAqIEByZXR1cm5zIHtCQm94fSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICovXG5mdW5jdGlvbiBiYm94KGNvb3JkczEsIGNvb3JkczIpIHtcbiAgICB2YXIgeDEgPSBjb29yZHMxWzBdO1xuICAgIHZhciB5MSA9IGNvb3JkczFbMV07XG4gICAgdmFyIHgyID0gY29vcmRzMlswXTtcbiAgICB2YXIgeTIgPSBjb29yZHMyWzFdO1xuICAgIHZhciB3ZXN0ID0geDEgPCB4MiA/IHgxIDogeDI7XG4gICAgdmFyIHNvdXRoID0geTEgPCB5MiA/IHkxIDogeTI7XG4gICAgdmFyIGVhc3QgPSB4MSA+IHgyID8geDEgOiB4MjtcbiAgICB2YXIgbm9ydGggPSB5MSA+IHkyID8geTEgOiB5MjtcbiAgICByZXR1cm4gW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF07XG59XG5leHBvcnQgZGVmYXVsdCBsaW5lU2VnbWVudDtcbiIsICJpbXBvcnQgeyBmZWF0dXJlLCBmZWF0dXJlQ29sbGVjdGlvbiwgcG9pbnQsIH0gZnJvbSBcIkB0dXJmL2hlbHBlcnNcIjtcbmltcG9ydCB7IGdldENvb3JkcyB9IGZyb20gXCJAdHVyZi9pbnZhcmlhbnRcIjtcbmltcG9ydCBsaW5lU2VnbWVudCBmcm9tIFwiQHR1cmYvbGluZS1zZWdtZW50XCI7XG5pbXBvcnQgeyBmZWF0dXJlRWFjaCB9IGZyb20gXCJAdHVyZi9tZXRhXCI7XG5pbXBvcnQgcmJ1c2ggZnJvbSBcImdlb2pzb24tcmJ1c2hcIjtcbi8qKlxuICogVGFrZXMgYW55IExpbmVTdHJpbmcgb3IgUG9seWdvbiBHZW9KU09OIGFuZCByZXR1cm5zIHRoZSBpbnRlcnNlY3RpbmcgcG9pbnQocykuXG4gKlxuICogQG5hbWUgbGluZUludGVyc2VjdFxuICogQHBhcmFtIHtHZW9KU09OfSBsaW5lMSBhbnkgTGluZVN0cmluZyBvciBQb2x5Z29uXG4gKiBAcGFyYW0ge0dlb0pTT059IGxpbmUyIGFueSBMaW5lU3RyaW5nIG9yIFBvbHlnb25cbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxQb2ludD59IHBvaW50KHMpIHRoYXQgaW50ZXJzZWN0IGJvdGhcbiAqIEBleGFtcGxlXG4gKiB2YXIgbGluZTEgPSB0dXJmLmxpbmVTdHJpbmcoW1sxMjYsIC0xMV0sIFsxMjksIC0yMV1dKTtcbiAqIHZhciBsaW5lMiA9IHR1cmYubGluZVN0cmluZyhbWzEyMywgLTE4XSwgWzEzMSwgLTE0XV0pO1xuICogdmFyIGludGVyc2VjdHMgPSB0dXJmLmxpbmVJbnRlcnNlY3QobGluZTEsIGxpbmUyKTtcbiAqXG4gKiAvL2FkZFRvTWFwXG4gKiB2YXIgYWRkVG9NYXAgPSBbbGluZTEsIGxpbmUyLCBpbnRlcnNlY3RzXVxuICovXG5mdW5jdGlvbiBsaW5lSW50ZXJzZWN0KGxpbmUxLCBsaW5lMikge1xuICAgIHZhciB1bmlxdWUgPSB7fTtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIC8vIEZpcnN0LCBub3JtYWxpemUgZ2VvbWV0cmllcyB0byBmZWF0dXJlc1xuICAgIC8vIFRoZW4sIGhhbmRsZSBzaW1wbGUgMi12ZXJ0ZXggc2VnbWVudHNcbiAgICBpZiAobGluZTEudHlwZSA9PT0gXCJMaW5lU3RyaW5nXCIpIHtcbiAgICAgICAgbGluZTEgPSBmZWF0dXJlKGxpbmUxKTtcbiAgICB9XG4gICAgaWYgKGxpbmUyLnR5cGUgPT09IFwiTGluZVN0cmluZ1wiKSB7XG4gICAgICAgIGxpbmUyID0gZmVhdHVyZShsaW5lMik7XG4gICAgfVxuICAgIGlmIChsaW5lMS50eXBlID09PSBcIkZlYXR1cmVcIiAmJlxuICAgICAgICBsaW5lMi50eXBlID09PSBcIkZlYXR1cmVcIiAmJlxuICAgICAgICBsaW5lMS5nZW9tZXRyeSAhPT0gbnVsbCAmJlxuICAgICAgICBsaW5lMi5nZW9tZXRyeSAhPT0gbnVsbCAmJlxuICAgICAgICBsaW5lMS5nZW9tZXRyeS50eXBlID09PSBcIkxpbmVTdHJpbmdcIiAmJlxuICAgICAgICBsaW5lMi5nZW9tZXRyeS50eXBlID09PSBcIkxpbmVTdHJpbmdcIiAmJlxuICAgICAgICBsaW5lMS5nZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgbGluZTIuZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHZhciBpbnRlcnNlY3QgPSBpbnRlcnNlY3RzKGxpbmUxLCBsaW5lMik7XG4gICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChpbnRlcnNlY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihyZXN1bHRzKTtcbiAgICB9XG4gICAgLy8gSGFuZGxlcyBjb21wbGV4IEdlb0pTT04gR2VvbWV0cmllc1xuICAgIHZhciB0cmVlID0gcmJ1c2goKTtcbiAgICB0cmVlLmxvYWQobGluZVNlZ21lbnQobGluZTIpKTtcbiAgICBmZWF0dXJlRWFjaChsaW5lU2VnbWVudChsaW5lMSksIGZ1bmN0aW9uIChzZWdtZW50KSB7XG4gICAgICAgIGZlYXR1cmVFYWNoKHRyZWUuc2VhcmNoKHNlZ21lbnQpLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHZhciBpbnRlcnNlY3QgPSBpbnRlcnNlY3RzKHNlZ21lbnQsIG1hdGNoKTtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgICAgICAvLyBwcmV2ZW50IGR1cGxpY2F0ZSBwb2ludHMgaHR0cHM6Ly9naXRodWIuY29tL1R1cmZqcy90dXJmL2lzc3Vlcy82ODhcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZ2V0Q29vcmRzKGludGVyc2VjdCkuam9pbihcIixcIik7XG4gICAgICAgICAgICAgICAgaWYgKCF1bmlxdWVba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICB1bmlxdWVba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChpbnRlcnNlY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZlYXR1cmVDb2xsZWN0aW9uKHJlc3VsdHMpO1xufVxuLyoqXG4gKiBGaW5kIGEgcG9pbnQgdGhhdCBpbnRlcnNlY3RzIExpbmVTdHJpbmdzIHdpdGggdHdvIGNvb3JkaW5hdGVzIGVhY2hcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBsaW5lMSBHZW9KU09OIExpbmVTdHJpbmcgKE11c3Qgb25seSBjb250YWluIDIgY29vcmRpbmF0ZXMpXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGxpbmUyIEdlb0pTT04gTGluZVN0cmluZyAoTXVzdCBvbmx5IGNvbnRhaW4gMiBjb29yZGluYXRlcylcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvaW50Pn0gaW50ZXJzZWN0aW5nIEdlb0pTT04gUG9pbnRcbiAqL1xuZnVuY3Rpb24gaW50ZXJzZWN0cyhsaW5lMSwgbGluZTIpIHtcbiAgICB2YXIgY29vcmRzMSA9IGdldENvb3JkcyhsaW5lMSk7XG4gICAgdmFyIGNvb3JkczIgPSBnZXRDb29yZHMobGluZTIpO1xuICAgIGlmIChjb29yZHMxLmxlbmd0aCAhPT0gMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8aW50ZXJzZWN0cz4gbGluZTEgbXVzdCBvbmx5IGNvbnRhaW4gMiBjb29yZGluYXRlc1wiKTtcbiAgICB9XG4gICAgaWYgKGNvb3JkczIubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIjxpbnRlcnNlY3RzPiBsaW5lMiBtdXN0IG9ubHkgY29udGFpbiAyIGNvb3JkaW5hdGVzXCIpO1xuICAgIH1cbiAgICB2YXIgeDEgPSBjb29yZHMxWzBdWzBdO1xuICAgIHZhciB5MSA9IGNvb3JkczFbMF1bMV07XG4gICAgdmFyIHgyID0gY29vcmRzMVsxXVswXTtcbiAgICB2YXIgeTIgPSBjb29yZHMxWzFdWzFdO1xuICAgIHZhciB4MyA9IGNvb3JkczJbMF1bMF07XG4gICAgdmFyIHkzID0gY29vcmRzMlswXVsxXTtcbiAgICB2YXIgeDQgPSBjb29yZHMyWzFdWzBdO1xuICAgIHZhciB5NCA9IGNvb3JkczJbMV1bMV07XG4gICAgdmFyIGRlbm9tID0gKHk0IC0geTMpICogKHgyIC0geDEpIC0gKHg0IC0geDMpICogKHkyIC0geTEpO1xuICAgIHZhciBudW1lQSA9ICh4NCAtIHgzKSAqICh5MSAtIHkzKSAtICh5NCAtIHkzKSAqICh4MSAtIHgzKTtcbiAgICB2YXIgbnVtZUIgPSAoeDIgLSB4MSkgKiAoeTEgLSB5MykgLSAoeTIgLSB5MSkgKiAoeDEgLSB4Myk7XG4gICAgaWYgKGRlbm9tID09PSAwKSB7XG4gICAgICAgIGlmIChudW1lQSA9PT0gMCAmJiBudW1lQiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciB1QSA9IG51bWVBIC8gZGVub207XG4gICAgdmFyIHVCID0gbnVtZUIgLyBkZW5vbTtcbiAgICBpZiAodUEgPj0gMCAmJiB1QSA8PSAxICYmIHVCID49IDAgJiYgdUIgPD0gMSkge1xuICAgICAgICB2YXIgeCA9IHgxICsgdUEgKiAoeDIgLSB4MSk7XG4gICAgICAgIHZhciB5ID0geTEgKyB1QSAqICh5MiAtIHkxKTtcbiAgICAgICAgcmV0dXJuIHBvaW50KFt4LCB5XSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0IGRlZmF1bHQgbGluZUludGVyc2VjdDtcbiIsICJpbXBvcnQgcmJ1c2ggZnJvbSAnZ2VvanNvbi1yYnVzaCc7XG5pbXBvcnQgc3F1YXJlIGZyb20gJ0B0dXJmL3NxdWFyZSc7XG5pbXBvcnQgYmJveCBmcm9tICdAdHVyZi9iYm94JztcbmltcG9ydCB0cnVuY2F0ZSBmcm9tICdAdHVyZi90cnVuY2F0ZSc7XG5pbXBvcnQgbGluZVNlZ21lbnQgZnJvbSAnQHR1cmYvbGluZS1zZWdtZW50JztcbmltcG9ydCBsaW5lSW50ZXJzZWN0IGZyb20gJ0B0dXJmL2xpbmUtaW50ZXJzZWN0JztcbmltcG9ydCBuZWFyZXN0UG9pbnRPbkxpbmUgZnJvbSAnQHR1cmYvbmVhcmVzdC1wb2ludC1vbi1saW5lJztcbmltcG9ydCB7IGdldFR5cGUsIGdldENvb3JkcywgZ2V0Q29vcmQgfSBmcm9tICdAdHVyZi9pbnZhcmlhbnQnO1xuaW1wb3J0IHsgZmxhdHRlbkVhY2gsIGZlYXR1cmVFYWNoLCBmZWF0dXJlUmVkdWNlIH0gZnJvbSAnQHR1cmYvbWV0YSc7XG5pbXBvcnQgeyBmZWF0dXJlQ29sbGVjdGlvbiwgbGluZVN0cmluZyB9IGZyb20gJ0B0dXJmL2hlbHBlcnMnO1xuXG4vKipcbiAqIFNwbGl0IGEgTGluZVN0cmluZyBieSBhbm90aGVyIEdlb0pTT04gRmVhdHVyZS5cbiAqXG4gKiBAbmFtZSBsaW5lU3BsaXRcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gbGluZSBMaW5lU3RyaW5nIEZlYXR1cmUgdG8gc3BsaXRcbiAqIEBwYXJhbSB7RmVhdHVyZTxhbnk+fSBzcGxpdHRlciBGZWF0dXJlIHVzZWQgdG8gc3BsaXQgbGluZVxuICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9uPExpbmVTdHJpbmc+fSBTcGxpdCBMaW5lU3RyaW5nc1xuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lID0gdHVyZi5saW5lU3RyaW5nKFtbMTIwLCAtMjVdLCBbMTQ1LCAtMjVdXSk7XG4gKiB2YXIgc3BsaXR0ZXIgPSB0dXJmLmxpbmVTdHJpbmcoW1sxMzAsIC0xNV0sIFsxMzAsIC0zNV1dKTtcbiAqXG4gKiB2YXIgc3BsaXQgPSB0dXJmLmxpbmVTcGxpdChsaW5lLCBzcGxpdHRlcik7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW2xpbmUsIHNwbGl0dGVyXVxuICovXG5mdW5jdGlvbiBsaW5lU3BsaXQobGluZSwgc3BsaXR0ZXIpIHtcbiAgaWYgKCFsaW5lKSB0aHJvdyBuZXcgRXJyb3IoXCJsaW5lIGlzIHJlcXVpcmVkXCIpO1xuICBpZiAoIXNwbGl0dGVyKSB0aHJvdyBuZXcgRXJyb3IoXCJzcGxpdHRlciBpcyByZXF1aXJlZFwiKTtcblxuICB2YXIgbGluZVR5cGUgPSBnZXRUeXBlKGxpbmUpO1xuICB2YXIgc3BsaXR0ZXJUeXBlID0gZ2V0VHlwZShzcGxpdHRlcik7XG5cbiAgaWYgKGxpbmVUeXBlICE9PSBcIkxpbmVTdHJpbmdcIikgdGhyb3cgbmV3IEVycm9yKFwibGluZSBtdXN0IGJlIExpbmVTdHJpbmdcIik7XG4gIGlmIChzcGxpdHRlclR5cGUgPT09IFwiRmVhdHVyZUNvbGxlY3Rpb25cIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJzcGxpdHRlciBjYW5ub3QgYmUgYSBGZWF0dXJlQ29sbGVjdGlvblwiKTtcbiAgaWYgKHNwbGl0dGVyVHlwZSA9PT0gXCJHZW9tZXRyeUNvbGxlY3Rpb25cIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJzcGxpdHRlciBjYW5ub3QgYmUgYSBHZW9tZXRyeUNvbGxlY3Rpb25cIik7XG5cbiAgLy8gcmVtb3ZlIGV4Y2Vzc2l2ZSBkZWNpbWFscyBmcm9tIHNwbGl0dGVyXG4gIC8vIHRvIGF2b2lkIHBvc3NpYmxlIGFwcHJveGltYXRpb24gaXNzdWVzIGluIHJidXNoXG4gIHZhciB0cnVuY2F0ZWRTcGxpdHRlciA9IHRydW5jYXRlKHNwbGl0dGVyLCB7IHByZWNpc2lvbjogNyB9KTtcblxuICBzd2l0Y2ggKHNwbGl0dGVyVHlwZSkge1xuICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgcmV0dXJuIHNwbGl0TGluZVdpdGhQb2ludChsaW5lLCB0cnVuY2F0ZWRTcGxpdHRlcik7XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBzcGxpdExpbmVXaXRoUG9pbnRzKGxpbmUsIHRydW5jYXRlZFNwbGl0dGVyKTtcbiAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICAgIHJldHVybiBzcGxpdExpbmVXaXRoUG9pbnRzKGxpbmUsIGxpbmVJbnRlcnNlY3QobGluZSwgdHJ1bmNhdGVkU3BsaXR0ZXIpKTtcbiAgfVxufVxuXG4vKipcbiAqIFNwbGl0IExpbmVTdHJpbmcgd2l0aCBNdWx0aVBvaW50XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gbGluZSBMaW5lU3RyaW5nXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9uPFBvaW50Pn0gc3BsaXR0ZXIgUG9pbnRcbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxMaW5lU3RyaW5nPn0gc3BsaXQgTGluZVN0cmluZ3NcbiAqL1xuZnVuY3Rpb24gc3BsaXRMaW5lV2l0aFBvaW50cyhsaW5lLCBzcGxpdHRlcikge1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgdHJlZSA9IHJidXNoKCk7XG5cbiAgZmxhdHRlbkVhY2goc3BsaXR0ZXIsIGZ1bmN0aW9uIChwb2ludCkge1xuICAgIC8vIEFkZCBpbmRleC9pZCB0byBmZWF0dXJlcyAobmVlZGVkIGZvciBmaWx0ZXIpXG4gICAgcmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChmZWF0dXJlLCBpbmRleCkge1xuICAgICAgZmVhdHVyZS5pZCA9IGluZGV4O1xuICAgIH0pO1xuICAgIC8vIEZpcnN0IFBvaW50IC0gZG9lc24ndCBuZWVkIHRvIGhhbmRsZSBhbnkgcHJldmlvdXMgbGluZSByZXN1bHRzXG4gICAgaWYgKCFyZXN1bHRzLmxlbmd0aCkge1xuICAgICAgcmVzdWx0cyA9IHNwbGl0TGluZVdpdGhQb2ludChsaW5lLCBwb2ludCkuZmVhdHVyZXM7XG5cbiAgICAgIC8vIEFkZCBTcXVhcmUgQkJveCB0byBlYWNoIGZlYXR1cmUgZm9yIEdlb0pTT04tUkJ1c2hcbiAgICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICBpZiAoIWZlYXR1cmUuYmJveCkgZmVhdHVyZS5iYm94ID0gc3F1YXJlKGJib3goZmVhdHVyZSkpO1xuICAgICAgfSk7XG4gICAgICB0cmVlLmxvYWQoZmVhdHVyZUNvbGxlY3Rpb24ocmVzdWx0cykpO1xuICAgICAgLy8gU3BsaXQgd2l0aCByZW1haW5pbmcgcG9pbnRzIC0gbGluZXMgbWlnaHQgbmVlZGVkIHRvIGJlIHNwbGl0IG11bHRpcGxlIHRpbWVzXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZpbmQgYWxsIGxpbmVzIHRoYXQgYXJlIHdpdGhpbiB0aGUgc3BsaXR0ZXIncyBiYm94XG4gICAgICB2YXIgc2VhcmNoID0gdHJlZS5zZWFyY2gocG9pbnQpO1xuXG4gICAgICBpZiAoc2VhcmNoLmZlYXR1cmVzLmxlbmd0aCkge1xuICAgICAgICAvLyBSQnVzaCBtaWdodCByZXR1cm4gbXVsdGlwbGUgbGluZXMgLSBvbmx5IHByb2Nlc3MgdGhlIGNsb3Nlc3QgbGluZSB0byBzcGxpdHRlclxuICAgICAgICB2YXIgY2xvc2VzdExpbmUgPSBmaW5kQ2xvc2VzdEZlYXR1cmUocG9pbnQsIHNlYXJjaCk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGNsb3Nlc3QgbGluZSBmcm9tIHJlc3VsdHMgc2luY2UgdGhpcyB3aWxsIGJlIHNwbGl0IGludG8gdHdvIGxpbmVzXG4gICAgICAgIC8vIFRoaXMgcmVtb3ZlcyBhbnkgZHVwbGljYXRlcyBpbnNpZGUgdGhlIHJlc3VsdHMgJiBpbmRleFxuICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICByZXR1cm4gZmVhdHVyZS5pZCAhPT0gY2xvc2VzdExpbmUuaWQ7XG4gICAgICAgIH0pO1xuICAgICAgICB0cmVlLnJlbW92ZShjbG9zZXN0TGluZSk7XG5cbiAgICAgICAgLy8gQXBwZW5kIHRoZSB0d28gbmV3bHkgc3BsaXQgbGluZXMgaW50byB0aGUgcmVzdWx0c1xuICAgICAgICBmZWF0dXJlRWFjaChzcGxpdExpbmVXaXRoUG9pbnQoY2xvc2VzdExpbmUsIHBvaW50KSwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2gobGluZSk7XG4gICAgICAgICAgdHJlZS5pbnNlcnQobGluZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihyZXN1bHRzKTtcbn1cblxuLyoqXG4gKiBTcGxpdCBMaW5lU3RyaW5nIHdpdGggUG9pbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBsaW5lIExpbmVTdHJpbmdcbiAqIEBwYXJhbSB7RmVhdHVyZTxQb2ludD59IHNwbGl0dGVyIFBvaW50XG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248TGluZVN0cmluZz59IHNwbGl0IExpbmVTdHJpbmdzXG4gKi9cbmZ1bmN0aW9uIHNwbGl0TGluZVdpdGhQb2ludChsaW5lLCBzcGxpdHRlcikge1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuXG4gIC8vIGhhbmRsZSBlbmRwb2ludHNcbiAgdmFyIHN0YXJ0UG9pbnQgPSBnZXRDb29yZHMobGluZSlbMF07XG4gIHZhciBlbmRQb2ludCA9IGdldENvb3JkcyhsaW5lKVtsaW5lLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aCAtIDFdO1xuICBpZiAoXG4gICAgcG9pbnRzRXF1YWxzKHN0YXJ0UG9pbnQsIGdldENvb3JkKHNwbGl0dGVyKSkgfHxcbiAgICBwb2ludHNFcXVhbHMoZW5kUG9pbnQsIGdldENvb3JkKHNwbGl0dGVyKSlcbiAgKVxuICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihbbGluZV0pO1xuXG4gIC8vIENyZWF0ZSBzcGF0aWFsIGluZGV4XG4gIHZhciB0cmVlID0gcmJ1c2goKTtcbiAgdmFyIHNlZ21lbnRzID0gbGluZVNlZ21lbnQobGluZSk7XG4gIHRyZWUubG9hZChzZWdtZW50cyk7XG5cbiAgLy8gRmluZCBhbGwgc2VnbWVudHMgdGhhdCBhcmUgd2l0aGluIGJib3ggb2Ygc3BsaXR0ZXJcbiAgdmFyIHNlYXJjaCA9IHRyZWUuc2VhcmNoKHNwbGl0dGVyKTtcblxuICAvLyBSZXR1cm4gaXRzZWxmIGlmIHBvaW50IGlzIG5vdCB3aXRoaW4gc3BhdGlhbCBpbmRleFxuICBpZiAoIXNlYXJjaC5mZWF0dXJlcy5sZW5ndGgpIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihbbGluZV0pO1xuXG4gIC8vIFJCdXNoIG1pZ2h0IHJldHVybiBtdWx0aXBsZSBsaW5lcyAtIG9ubHkgcHJvY2VzcyB0aGUgY2xvc2VzdCBsaW5lIHRvIHNwbGl0dGVyXG4gIHZhciBjbG9zZXN0U2VnbWVudCA9IGZpbmRDbG9zZXN0RmVhdHVyZShzcGxpdHRlciwgc2VhcmNoKTtcblxuICAvLyBJbml0aWFsIHZhbHVlIGlzIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgZmlyc3Qgc2VnbWVudHMgKGJlZ2lubmluZyBvZiBsaW5lKVxuICB2YXIgaW5pdGlhbFZhbHVlID0gW3N0YXJ0UG9pbnRdO1xuICB2YXIgbGFzdENvb3JkcyA9IGZlYXR1cmVSZWR1Y2UoXG4gICAgc2VnbWVudHMsXG4gICAgZnVuY3Rpb24gKHByZXZpb3VzLCBjdXJyZW50LCBpbmRleCkge1xuICAgICAgdmFyIGN1cnJlbnRDb29yZHMgPSBnZXRDb29yZHMoY3VycmVudClbMV07XG4gICAgICB2YXIgc3BsaXR0ZXJDb29yZHMgPSBnZXRDb29yZChzcGxpdHRlcik7XG5cbiAgICAgIC8vIExvY2F0aW9uIHdoZXJlIHNlZ21lbnQgaW50ZXJzZWN0cyB3aXRoIGxpbmVcbiAgICAgIGlmIChpbmRleCA9PT0gY2xvc2VzdFNlZ21lbnQuaWQpIHtcbiAgICAgICAgcHJldmlvdXMucHVzaChzcGxpdHRlckNvb3Jkcyk7XG4gICAgICAgIHJlc3VsdHMucHVzaChsaW5lU3RyaW5nKHByZXZpb3VzKSk7XG4gICAgICAgIC8vIERvbid0IGR1cGxpY2F0ZSBzcGxpdHRlciBjb29yZGluYXRlIChJc3N1ZSAjNjg4KVxuICAgICAgICBpZiAocG9pbnRzRXF1YWxzKHNwbGl0dGVyQ29vcmRzLCBjdXJyZW50Q29vcmRzKSlcbiAgICAgICAgICByZXR1cm4gW3NwbGl0dGVyQ29vcmRzXTtcbiAgICAgICAgcmV0dXJuIFtzcGxpdHRlckNvb3JkcywgY3VycmVudENvb3Jkc107XG5cbiAgICAgICAgLy8gS2VlcCBpdGVyYXRpbmcgb3ZlciBjb29yZHMgdW50aWwgZmluaXNoZWQgb3IgaW50ZXJzZWN0aW9uIGlzIGZvdW5kXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2aW91cy5wdXNoKGN1cnJlbnRDb29yZHMpO1xuICAgICAgICByZXR1cm4gcHJldmlvdXM7XG4gICAgICB9XG4gICAgfSxcbiAgICBpbml0aWFsVmFsdWVcbiAgKTtcbiAgLy8gQXBwZW5kIGxhc3QgbGluZSB0byBmaW5hbCBzcGxpdCByZXN1bHRzXG4gIGlmIChsYXN0Q29vcmRzLmxlbmd0aCA+IDEpIHtcbiAgICByZXN1bHRzLnB1c2gobGluZVN0cmluZyhsYXN0Q29vcmRzKSk7XG4gIH1cbiAgcmV0dXJuIGZlYXR1cmVDb2xsZWN0aW9uKHJlc3VsdHMpO1xufVxuXG4vKipcbiAqIEZpbmQgQ2xvc2VzdCBGZWF0dXJlXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RmVhdHVyZTxQb2ludD59IHBvaW50IEZlYXR1cmUgbXVzdCBiZSBjbG9zZXN0IHRvIHRoaXMgcG9pbnRcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb248TGluZVN0cmluZz59IGxpbmVzIENvbGxlY3Rpb24gb2YgRmVhdHVyZXNcbiAqIEByZXR1cm5zIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBjbG9zZXN0IExpbmVTdHJpbmdcbiAqL1xuZnVuY3Rpb24gZmluZENsb3Nlc3RGZWF0dXJlKHBvaW50LCBsaW5lcykge1xuICBpZiAoIWxpbmVzLmZlYXR1cmVzLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKFwibGluZXMgbXVzdCBjb250YWluIGZlYXR1cmVzXCIpO1xuICAvLyBGaWx0ZXIgdG8gb25lIHNlZ21lbnQgdGhhdCBpcyB0aGUgY2xvc2VzdCB0byB0aGUgbGluZVxuICBpZiAobGluZXMuZmVhdHVyZXMubGVuZ3RoID09PSAxKSByZXR1cm4gbGluZXMuZmVhdHVyZXNbMF07XG5cbiAgdmFyIGNsb3Nlc3RGZWF0dXJlO1xuICB2YXIgY2xvc2VzdERpc3RhbmNlID0gSW5maW5pdHk7XG4gIGZlYXR1cmVFYWNoKGxpbmVzLCBmdW5jdGlvbiAoc2VnbWVudCkge1xuICAgIHZhciBwdCA9IG5lYXJlc3RQb2ludE9uTGluZShzZWdtZW50LCBwb2ludCk7XG4gICAgdmFyIGRpc3QgPSBwdC5wcm9wZXJ0aWVzLmRpc3Q7XG4gICAgaWYgKGRpc3QgPCBjbG9zZXN0RGlzdGFuY2UpIHtcbiAgICAgIGNsb3Nlc3RGZWF0dXJlID0gc2VnbWVudDtcbiAgICAgIGNsb3Nlc3REaXN0YW5jZSA9IGRpc3Q7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNsb3Nlc3RGZWF0dXJlO1xufVxuXG4vKipcbiAqIENvbXBhcmVzIHR3byBwb2ludHMgYW5kIHJldHVybnMgaWYgdGhleSBhcmUgZXF1YWxzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gcHQxIHBvaW50XG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHB0MiBwb2ludFxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhleSBhcmUgZXF1YWxzXG4gKi9cbmZ1bmN0aW9uIHBvaW50c0VxdWFscyhwdDEsIHB0Mikge1xuICByZXR1cm4gcHQxWzBdID09PSBwdDJbMF0gJiYgcHQxWzFdID09PSBwdDJbMV07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGxpbmVTcGxpdDtcbiIsICJpbXBvcnQgeyBnZXRDb29yZCB9IGZyb20gXCJAdHVyZi9pbnZhcmlhbnRcIjtcbmltcG9ydCB7IHJhZGlhbnNUb0xlbmd0aCwgZGVncmVlc1RvUmFkaWFucywgfSBmcm9tIFwiQHR1cmYvaGVscGVyc1wiO1xuLy9odHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hhdmVyc2luZV9mb3JtdWxhXG4vL2h0dHA6Ly93d3cubW92YWJsZS10eXBlLmNvLnVrL3NjcmlwdHMvbGF0bG9uZy5odG1sXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHtAbGluayBQb2ludHxwb2ludHN9IGluIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBvciBraWxvbWV0ZXJzLlxuICogVGhpcyB1c2VzIHRoZSBbSGF2ZXJzaW5lIGZvcm11bGFdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGF2ZXJzaW5lX2Zvcm11bGEpIHRvIGFjY291bnQgZm9yIGdsb2JhbCBjdXJ2YXR1cmUuXG4gKlxuICogQG5hbWUgZGlzdGFuY2VcbiAqIEBwYXJhbSB7Q29vcmQgfCBQb2ludH0gZnJvbSBvcmlnaW4gcG9pbnQgb3IgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtDb29yZCB8IFBvaW50fSB0byBkZXN0aW5hdGlvbiBwb2ludCBvciBjb29yZGluYXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bml0cz0na2lsb21ldGVycyddIGNhbiBiZSBkZWdyZWVzLCByYWRpYW5zLCBtaWxlcywgb3Iga2lsb21ldGVyc1xuICogQHJldHVybnMge251bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHBvaW50c1xuICogQGV4YW1wbGVcbiAqIHZhciBmcm9tID0gdHVyZi5wb2ludChbLTc1LjM0MywgMzkuOTg0XSk7XG4gKiB2YXIgdG8gPSB0dXJmLnBvaW50KFstNzUuNTM0LCAzOS4xMjNdKTtcbiAqIHZhciBvcHRpb25zID0ge3VuaXRzOiAnbWlsZXMnfTtcbiAqXG4gKiB2YXIgZGlzdGFuY2UgPSB0dXJmLmRpc3RhbmNlKGZyb20sIHRvLCBvcHRpb25zKTtcbiAqXG4gKiAvL2FkZFRvTWFwXG4gKiB2YXIgYWRkVG9NYXAgPSBbZnJvbSwgdG9dO1xuICogZnJvbS5wcm9wZXJ0aWVzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gKiB0by5wcm9wZXJ0aWVzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gKi9cbmZ1bmN0aW9uIGRpc3RhbmNlKGZyb20sIHRvLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgY29vcmRpbmF0ZXMxID0gZ2V0Q29vcmQoZnJvbSk7XG4gICAgdmFyIGNvb3JkaW5hdGVzMiA9IGdldENvb3JkKHRvKTtcbiAgICB2YXIgZExhdCA9IGRlZ3JlZXNUb1JhZGlhbnMoY29vcmRpbmF0ZXMyWzFdIC0gY29vcmRpbmF0ZXMxWzFdKTtcbiAgICB2YXIgZExvbiA9IGRlZ3JlZXNUb1JhZGlhbnMoY29vcmRpbmF0ZXMyWzBdIC0gY29vcmRpbmF0ZXMxWzBdKTtcbiAgICB2YXIgbGF0MSA9IGRlZ3JlZXNUb1JhZGlhbnMoY29vcmRpbmF0ZXMxWzFdKTtcbiAgICB2YXIgbGF0MiA9IGRlZ3JlZXNUb1JhZGlhbnMoY29vcmRpbmF0ZXMyWzFdKTtcbiAgICB2YXIgYSA9IE1hdGgucG93KE1hdGguc2luKGRMYXQgLyAyKSwgMikgK1xuICAgICAgICBNYXRoLnBvdyhNYXRoLnNpbihkTG9uIC8gMiksIDIpICogTWF0aC5jb3MobGF0MSkgKiBNYXRoLmNvcyhsYXQyKTtcbiAgICByZXR1cm4gcmFkaWFuc1RvTGVuZ3RoKDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSksIG9wdGlvbnMudW5pdHMpO1xufVxuZXhwb3J0IGRlZmF1bHQgZGlzdGFuY2U7XG4iLCAiaW1wb3J0IGRpc3RhbmNlIGZyb20gJ0B0dXJmL2Rpc3RhbmNlJztcblxuLyoqXG4gKiBUYWtlcyBhIGJvdW5kaW5nIGJveCBhbmQgY2FsY3VsYXRlcyB0aGUgbWluaW11bSBzcXVhcmUgYm91bmRpbmcgYm94IHRoYXRcbiAqIHdvdWxkIGNvbnRhaW4gdGhlIGlucHV0LlxuICpcbiAqIEBuYW1lIHNxdWFyZVxuICogQHBhcmFtIHtCQm94fSBiYm94IGV4dGVudCBpbiBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBvcmRlclxuICogQHJldHVybnMge0JCb3h9IGEgc3F1YXJlIHN1cnJvdW5kaW5nIGBiYm94YFxuICogQGV4YW1wbGVcbiAqIHZhciBiYm94ID0gWy0yMCwgLTIwLCAtMTUsIDBdO1xuICogdmFyIHNxdWFyZWQgPSB0dXJmLnNxdWFyZShiYm94KTtcbiAqXG4gKiAvL2FkZFRvTWFwXG4gKiB2YXIgYWRkVG9NYXAgPSBbdHVyZi5iYm94UG9seWdvbihiYm94KSwgdHVyZi5iYm94UG9seWdvbihzcXVhcmVkKV1cbiAqL1xuZnVuY3Rpb24gc3F1YXJlKGJib3gpIHtcbiAgdmFyIHdlc3QgPSBiYm94WzBdO1xuICB2YXIgc291dGggPSBiYm94WzFdO1xuICB2YXIgZWFzdCA9IGJib3hbMl07XG4gIHZhciBub3J0aCA9IGJib3hbM107XG5cbiAgdmFyIGhvcml6b250YWxEaXN0YW5jZSA9IGRpc3RhbmNlKGJib3guc2xpY2UoMCwgMiksIFtlYXN0LCBzb3V0aF0pO1xuICB2YXIgdmVydGljYWxEaXN0YW5jZSA9IGRpc3RhbmNlKGJib3guc2xpY2UoMCwgMiksIFt3ZXN0LCBub3J0aF0pO1xuICBpZiAoaG9yaXpvbnRhbERpc3RhbmNlID49IHZlcnRpY2FsRGlzdGFuY2UpIHtcbiAgICB2YXIgdmVydGljYWxNaWRwb2ludCA9IChzb3V0aCArIG5vcnRoKSAvIDI7XG4gICAgcmV0dXJuIFtcbiAgICAgIHdlc3QsXG4gICAgICB2ZXJ0aWNhbE1pZHBvaW50IC0gKGVhc3QgLSB3ZXN0KSAvIDIsXG4gICAgICBlYXN0LFxuICAgICAgdmVydGljYWxNaWRwb2ludCArIChlYXN0IC0gd2VzdCkgLyAyLFxuICAgIF07XG4gIH0gZWxzZSB7XG4gICAgdmFyIGhvcml6b250YWxNaWRwb2ludCA9ICh3ZXN0ICsgZWFzdCkgLyAyO1xuICAgIHJldHVybiBbXG4gICAgICBob3Jpem9udGFsTWlkcG9pbnQgLSAobm9ydGggLSBzb3V0aCkgLyAyLFxuICAgICAgc291dGgsXG4gICAgICBob3Jpem9udGFsTWlkcG9pbnQgKyAobm9ydGggLSBzb3V0aCkgLyAyLFxuICAgICAgbm9ydGgsXG4gICAgXTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBzcXVhcmU7XG4iLCAiaW1wb3J0IHsgY29vcmRFYWNoIH0gZnJvbSBcIkB0dXJmL21ldGFcIjtcbi8qKlxuICogVGFrZXMgYSBzZXQgb2YgZmVhdHVyZXMsIGNhbGN1bGF0ZXMgdGhlIGJib3ggb2YgYWxsIGlucHV0IGZlYXR1cmVzLCBhbmQgcmV0dXJucyBhIGJvdW5kaW5nIGJveC5cbiAqXG4gKiBAbmFtZSBiYm94XG4gKiBAcGFyYW0ge0dlb0pTT059IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcmV0dXJucyB7QkJveH0gYmJveCBleHRlbnQgaW4gW21pblgsIG1pblksIG1heFgsIG1heFldIG9yZGVyXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmUgPSB0dXJmLmxpbmVTdHJpbmcoW1stNzQsIDQwXSwgWy03OCwgNDJdLCBbLTgyLCAzNV1dKTtcbiAqIHZhciBiYm94ID0gdHVyZi5iYm94KGxpbmUpO1xuICogdmFyIGJib3hQb2x5Z29uID0gdHVyZi5iYm94UG9seWdvbihiYm94KTtcbiAqXG4gKiAvL2FkZFRvTWFwXG4gKiB2YXIgYWRkVG9NYXAgPSBbbGluZSwgYmJveFBvbHlnb25dXG4gKi9cbmZ1bmN0aW9uIGJib3goZ2VvanNvbikge1xuICAgIHZhciByZXN1bHQgPSBbSW5maW5pdHksIEluZmluaXR5LCAtSW5maW5pdHksIC1JbmZpbml0eV07XG4gICAgY29vcmRFYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChjb29yZCkge1xuICAgICAgICBpZiAocmVzdWx0WzBdID4gY29vcmRbMF0pIHtcbiAgICAgICAgICAgIHJlc3VsdFswXSA9IGNvb3JkWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHRbMV0gPiBjb29yZFsxXSkge1xuICAgICAgICAgICAgcmVzdWx0WzFdID0gY29vcmRbMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdFsyXSA8IGNvb3JkWzBdKSB7XG4gICAgICAgICAgICByZXN1bHRbMl0gPSBjb29yZFswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0WzNdIDwgY29vcmRbMV0pIHtcbiAgICAgICAgICAgIHJlc3VsdFszXSA9IGNvb3JkWzFdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmJib3hbXCJkZWZhdWx0XCJdID0gYmJveDtcbmV4cG9ydCBkZWZhdWx0IGJib3g7XG4iLCAiaW1wb3J0IHsgY29vcmRFYWNoIH0gZnJvbSBcIkB0dXJmL21ldGFcIjtcbi8qKlxuICogVGFrZXMgYSBHZW9KU09OIEZlYXR1cmUgb3IgRmVhdHVyZUNvbGxlY3Rpb24gYW5kIHRydW5jYXRlcyB0aGUgcHJlY2lzaW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAqXG4gKiBAbmFtZSB0cnVuY2F0ZVxuICogQHBhcmFtIHtHZW9KU09OfSBnZW9qc29uIGFueSBHZW9KU09OIEZlYXR1cmUsIEZlYXR1cmVDb2xsZWN0aW9uLCBHZW9tZXRyeSBvciBHZW9tZXRyeUNvbGxlY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5wcmVjaXNpb249Nl0gY29vcmRpbmF0ZSBkZWNpbWFsIHByZWNpc2lvblxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvb3JkaW5hdGVzPTNdIG1heGltdW0gbnVtYmVyIG9mIGNvb3JkaW5hdGVzIChwcmltYXJseSB1c2VkIHRvIHJlbW92ZSB6IGNvb3JkaW5hdGVzKVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5tdXRhdGU9ZmFsc2VdIGFsbG93cyBHZW9KU09OIGlucHV0IHRvIGJlIG11dGF0ZWQgKHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGluY3JlYXNlIGlmIHRydWUpXG4gKiBAcmV0dXJucyB7R2VvSlNPTn0gbGF5ZXIgd2l0aCB0cnVuY2F0ZWQgZ2VvbWV0cnlcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQgPSB0dXJmLnBvaW50KFtcbiAqICAgICA3MC40NjkyMzA1NTU2Njg1OSxcbiAqICAgICA1OC4xMTA4ODg5MDgwMjkwNixcbiAqICAgICAxNTA4XG4gKiBdKTtcbiAqIHZhciBvcHRpb25zID0ge3ByZWNpc2lvbjogMywgY29vcmRpbmF0ZXM6IDJ9O1xuICogdmFyIHRydW5jYXRlZCA9IHR1cmYudHJ1bmNhdGUocG9pbnQsIG9wdGlvbnMpO1xuICogLy89dHJ1bmNhdGVkLmdlb21ldHJ5LmNvb3JkaW5hdGVzID0+IFs3MC40NjksIDU4LjExMV1cbiAqXG4gKiAvL2FkZFRvTWFwXG4gKiB2YXIgYWRkVG9NYXAgPSBbdHJ1bmNhdGVkXTtcbiAqL1xuZnVuY3Rpb24gdHJ1bmNhdGUoZ2VvanNvbiwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgLy8gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICAgIHZhciBwcmVjaXNpb24gPSBvcHRpb25zLnByZWNpc2lvbjtcbiAgICB2YXIgY29vcmRpbmF0ZXMgPSBvcHRpb25zLmNvb3JkaW5hdGVzO1xuICAgIHZhciBtdXRhdGUgPSBvcHRpb25zLm11dGF0ZTtcbiAgICAvLyBkZWZhdWx0IHBhcmFtc1xuICAgIHByZWNpc2lvbiA9XG4gICAgICAgIHByZWNpc2lvbiA9PT0gdW5kZWZpbmVkIHx8IHByZWNpc2lvbiA9PT0gbnVsbCB8fCBpc05hTihwcmVjaXNpb24pXG4gICAgICAgICAgICA/IDZcbiAgICAgICAgICAgIDogcHJlY2lzaW9uO1xuICAgIGNvb3JkaW5hdGVzID1cbiAgICAgICAgY29vcmRpbmF0ZXMgPT09IHVuZGVmaW5lZCB8fCBjb29yZGluYXRlcyA9PT0gbnVsbCB8fCBpc05hTihjb29yZGluYXRlcylcbiAgICAgICAgICAgID8gM1xuICAgICAgICAgICAgOiBjb29yZGluYXRlcztcbiAgICAvLyB2YWxpZGF0aW9uXG4gICAgaWYgKCFnZW9qc29uKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8Z2VvanNvbj4gaXMgcmVxdWlyZWRcIik7XG4gICAgaWYgKHR5cGVvZiBwcmVjaXNpb24gIT09IFwibnVtYmVyXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIjxwcmVjaXNpb24+IG11c3QgYmUgYSBudW1iZXJcIik7XG4gICAgaWYgKHR5cGVvZiBjb29yZGluYXRlcyAhPT0gXCJudW1iZXJcIilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiPGNvb3JkaW5hdGVzPiBtdXN0IGJlIGEgbnVtYmVyXCIpO1xuICAgIC8vIHByZXZlbnQgaW5wdXQgbXV0YXRpb25cbiAgICBpZiAobXV0YXRlID09PSBmYWxzZSB8fCBtdXRhdGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgZ2VvanNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZ2VvanNvbikpO1xuICAgIHZhciBmYWN0b3IgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKTtcbiAgICAvLyBUcnVuY2F0ZSBDb29yZGluYXRlc1xuICAgIGNvb3JkRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgICAgIHRydW5jYXRlQ29vcmRzKGNvb3JkcywgZmFjdG9yLCBjb29yZGluYXRlcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGdlb2pzb247XG59XG4vKipcbiAqIFRydW5jYXRlIENvb3JkaW5hdGVzIC0gTXV0YXRlcyBjb29yZGluYXRlcyBpbiBwbGFjZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGNvb3JkcyBHZW9tZXRyeSBDb29yZGluYXRlc1xuICogQHBhcmFtIHtudW1iZXJ9IGZhY3RvciByb3VuZGluZyBmYWN0b3IgZm9yIGNvb3JkaW5hdGUgZGVjaW1hbCBwcmVjaXNpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb29yZGluYXRlcyBtYXhpbXVtIG51bWJlciBvZiBjb29yZGluYXRlcyAocHJpbWFybHkgdXNlZCB0byByZW1vdmUgeiBjb29yZGluYXRlcylcbiAqIEByZXR1cm5zIHtBcnJheTxhbnk+fSBtdXRhdGVkIGNvb3JkaW5hdGVzXG4gKi9cbmZ1bmN0aW9uIHRydW5jYXRlQ29vcmRzKGNvb3JkcywgZmFjdG9yLCBjb29yZGluYXRlcykge1xuICAgIC8vIFJlbW92ZSBleHRyYSBjb29yZGluYXRlcyAodXN1YWxseSBlbGV2YXRpb24gY29vcmRpbmF0ZXMgYW5kIG1vcmUpXG4gICAgaWYgKGNvb3Jkcy5sZW5ndGggPiBjb29yZGluYXRlcylcbiAgICAgICAgY29vcmRzLnNwbGljZShjb29yZGluYXRlcywgY29vcmRzLmxlbmd0aCk7XG4gICAgLy8gVHJ1bmNhdGUgY29vcmRpbmF0ZSBkZWNpbWFsc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvb3Jkc1tpXSA9IE1hdGgucm91bmQoY29vcmRzW2ldICogZmFjdG9yKSAvIGZhY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIGNvb3Jkcztcbn1cbmV4cG9ydCBkZWZhdWx0IHRydW5jYXRlO1xuIiwgImltcG9ydCB7IGRlZ3JlZXNUb1JhZGlhbnMsIHJhZGlhbnNUb0RlZ3JlZXMgfSBmcm9tIFwiQHR1cmYvaGVscGVyc1wiO1xuaW1wb3J0IHsgZ2V0Q29vcmQgfSBmcm9tIFwiQHR1cmYvaW52YXJpYW50XCI7XG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hhdmVyc2luZV9mb3JtdWxhXG4vLyBodHRwOi8vd3d3Lm1vdmFibGUtdHlwZS5jby51ay9zY3JpcHRzL2xhdGxvbmcuaHRtbFxuLyoqXG4gKiBUYWtlcyB0d28ge0BsaW5rIFBvaW50fHBvaW50c30gYW5kIGZpbmRzIHRoZSBnZW9ncmFwaGljIGJlYXJpbmcgYmV0d2VlbiB0aGVtLFxuICogaS5lLiB0aGUgYW5nbGUgbWVhc3VyZWQgaW4gZGVncmVlcyBmcm9tIHRoZSBub3J0aCBsaW5lICgwIGRlZ3JlZXMpXG4gKlxuICogQG5hbWUgYmVhcmluZ1xuICogQHBhcmFtIHtDb29yZH0gc3RhcnQgc3RhcnRpbmcgUG9pbnRcbiAqIEBwYXJhbSB7Q29vcmR9IGVuZCBlbmRpbmcgUG9pbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5maW5hbD1mYWxzZV0gY2FsY3VsYXRlcyB0aGUgZmluYWwgYmVhcmluZyBpZiB0cnVlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBiZWFyaW5nIGluIGRlY2ltYWwgZGVncmVlcywgYmV0d2VlbiAtMTgwIGFuZCAxODAgZGVncmVlcyAocG9zaXRpdmUgY2xvY2t3aXNlKVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2ludDEgPSB0dXJmLnBvaW50KFstNzUuMzQzLCAzOS45ODRdKTtcbiAqIHZhciBwb2ludDIgPSB0dXJmLnBvaW50KFstNzUuNTM0LCAzOS4xMjNdKTtcbiAqXG4gKiB2YXIgYmVhcmluZyA9IHR1cmYuYmVhcmluZyhwb2ludDEsIHBvaW50Mik7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW3BvaW50MSwgcG9pbnQyXVxuICogcG9pbnQxLnByb3BlcnRpZXNbJ21hcmtlci1jb2xvciddID0gJyNmMDAnXG4gKiBwb2ludDIucHJvcGVydGllc1snbWFya2VyLWNvbG9yJ10gPSAnIzBmMCdcbiAqIHBvaW50MS5wcm9wZXJ0aWVzLmJlYXJpbmcgPSBiZWFyaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJlYXJpbmcoc3RhcnQsIGVuZCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgLy8gUmV2ZXJzZSBjYWxjdWxhdGlvblxuICAgIGlmIChvcHRpb25zLmZpbmFsID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBjYWxjdWxhdGVGaW5hbEJlYXJpbmcoc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIHZhciBjb29yZGluYXRlczEgPSBnZXRDb29yZChzdGFydCk7XG4gICAgdmFyIGNvb3JkaW5hdGVzMiA9IGdldENvb3JkKGVuZCk7XG4gICAgdmFyIGxvbjEgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMVswXSk7XG4gICAgdmFyIGxvbjIgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMlswXSk7XG4gICAgdmFyIGxhdDEgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMVsxXSk7XG4gICAgdmFyIGxhdDIgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMlsxXSk7XG4gICAgdmFyIGEgPSBNYXRoLnNpbihsb24yIC0gbG9uMSkgKiBNYXRoLmNvcyhsYXQyKTtcbiAgICB2YXIgYiA9IE1hdGguY29zKGxhdDEpICogTWF0aC5zaW4obGF0MikgLVxuICAgICAgICBNYXRoLnNpbihsYXQxKSAqIE1hdGguY29zKGxhdDIpICogTWF0aC5jb3MobG9uMiAtIGxvbjEpO1xuICAgIHJldHVybiByYWRpYW5zVG9EZWdyZWVzKE1hdGguYXRhbjIoYSwgYikpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIEZpbmFsIEJlYXJpbmdcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtDb29yZH0gc3RhcnQgc3RhcnRpbmcgUG9pbnRcbiAqIEBwYXJhbSB7Q29vcmR9IGVuZCBlbmRpbmcgUG9pbnRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGJlYXJpbmdcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlRmluYWxCZWFyaW5nKHN0YXJ0LCBlbmQpIHtcbiAgICAvLyBTd2FwIHN0YXJ0ICYgZW5kXG4gICAgdmFyIGJlYXIgPSBiZWFyaW5nKGVuZCwgc3RhcnQpO1xuICAgIGJlYXIgPSAoYmVhciArIDE4MCkgJSAzNjA7XG4gICAgcmV0dXJuIGJlYXI7XG59XG4iLCAiLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IYXZlcnNpbmVfZm9ybXVsYVxuLy8gaHR0cDovL3d3dy5tb3ZhYmxlLXR5cGUuY28udWsvc2NyaXB0cy9sYXRsb25nLmh0bWxcbmltcG9ydCB7IGRlZ3JlZXNUb1JhZGlhbnMsIGxlbmd0aFRvUmFkaWFucywgcG9pbnQsIHJhZGlhbnNUb0RlZ3JlZXMsIH0gZnJvbSBcIkB0dXJmL2hlbHBlcnNcIjtcbmltcG9ydCB7IGdldENvb3JkIH0gZnJvbSBcIkB0dXJmL2ludmFyaWFudFwiO1xuLyoqXG4gKiBUYWtlcyBhIHtAbGluayBQb2ludH0gYW5kIGNhbGN1bGF0ZXMgdGhlIGxvY2F0aW9uIG9mIGEgZGVzdGluYXRpb24gcG9pbnQgZ2l2ZW4gYSBkaXN0YW5jZSBpblxuICogZGVncmVlcywgcmFkaWFucywgbWlsZXMsIG9yIGtpbG9tZXRlcnM7IGFuZCBiZWFyaW5nIGluIGRlZ3JlZXMuXG4gKiBUaGlzIHVzZXMgdGhlIFtIYXZlcnNpbmUgZm9ybXVsYV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IYXZlcnNpbmVfZm9ybXVsYSkgdG8gYWNjb3VudCBmb3IgZ2xvYmFsIGN1cnZhdHVyZS5cbiAqXG4gKiBAbmFtZSBkZXN0aW5hdGlvblxuICogQHBhcmFtIHtDb29yZH0gb3JpZ2luIHN0YXJ0aW5nIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2UgZGlzdGFuY2UgZnJvbSB0aGUgb3JpZ2luIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0gYmVhcmluZyByYW5naW5nIGZyb20gLTE4MCB0byAxODBcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVuaXRzPSdraWxvbWV0ZXJzJ10gbWlsZXMsIGtpbG9tZXRlcnMsIGRlZ3JlZXMsIG9yIHJhZGlhbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcm9wZXJ0aWVzPXt9XSBUcmFuc2xhdGUgcHJvcGVydGllcyB0byBQb2ludFxuICogQHJldHVybnMge0ZlYXR1cmU8UG9pbnQ+fSBkZXN0aW5hdGlvbiBwb2ludFxuICogQGV4YW1wbGVcbiAqIHZhciBwb2ludCA9IHR1cmYucG9pbnQoWy03NS4zNDMsIDM5Ljk4NF0pO1xuICogdmFyIGRpc3RhbmNlID0gNTA7XG4gKiB2YXIgYmVhcmluZyA9IDkwO1xuICogdmFyIG9wdGlvbnMgPSB7dW5pdHM6ICdtaWxlcyd9O1xuICpcbiAqIHZhciBkZXN0aW5hdGlvbiA9IHR1cmYuZGVzdGluYXRpb24ocG9pbnQsIGRpc3RhbmNlLCBiZWFyaW5nLCBvcHRpb25zKTtcbiAqXG4gKiAvL2FkZFRvTWFwXG4gKiB2YXIgYWRkVG9NYXAgPSBbcG9pbnQsIGRlc3RpbmF0aW9uXVxuICogZGVzdGluYXRpb24ucHJvcGVydGllc1snbWFya2VyLWNvbG9yJ10gPSAnI2YwMCc7XG4gKiBwb2ludC5wcm9wZXJ0aWVzWydtYXJrZXItY29sb3InXSA9ICcjMGYwJztcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVzdGluYXRpb24ob3JpZ2luLCBkaXN0YW5jZSwgYmVhcmluZywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgLy8gSGFuZGxlIGlucHV0XG4gICAgdmFyIGNvb3JkaW5hdGVzMSA9IGdldENvb3JkKG9yaWdpbik7XG4gICAgdmFyIGxvbmdpdHVkZTEgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMVswXSk7XG4gICAgdmFyIGxhdGl0dWRlMSA9IGRlZ3JlZXNUb1JhZGlhbnMoY29vcmRpbmF0ZXMxWzFdKTtcbiAgICB2YXIgYmVhcmluZ1JhZCA9IGRlZ3JlZXNUb1JhZGlhbnMoYmVhcmluZyk7XG4gICAgdmFyIHJhZGlhbnMgPSBsZW5ndGhUb1JhZGlhbnMoZGlzdGFuY2UsIG9wdGlvbnMudW5pdHMpO1xuICAgIC8vIE1haW5cbiAgICB2YXIgbGF0aXR1ZGUyID0gTWF0aC5hc2luKE1hdGguc2luKGxhdGl0dWRlMSkgKiBNYXRoLmNvcyhyYWRpYW5zKSArXG4gICAgICAgIE1hdGguY29zKGxhdGl0dWRlMSkgKiBNYXRoLnNpbihyYWRpYW5zKSAqIE1hdGguY29zKGJlYXJpbmdSYWQpKTtcbiAgICB2YXIgbG9uZ2l0dWRlMiA9IGxvbmdpdHVkZTEgK1xuICAgICAgICBNYXRoLmF0YW4yKE1hdGguc2luKGJlYXJpbmdSYWQpICogTWF0aC5zaW4ocmFkaWFucykgKiBNYXRoLmNvcyhsYXRpdHVkZTEpLCBNYXRoLmNvcyhyYWRpYW5zKSAtIE1hdGguc2luKGxhdGl0dWRlMSkgKiBNYXRoLnNpbihsYXRpdHVkZTIpKTtcbiAgICB2YXIgbG5nID0gcmFkaWFuc1RvRGVncmVlcyhsb25naXR1ZGUyKTtcbiAgICB2YXIgbGF0ID0gcmFkaWFuc1RvRGVncmVlcyhsYXRpdHVkZTIpO1xuICAgIHJldHVybiBwb2ludChbbG5nLCBsYXRdLCBvcHRpb25zLnByb3BlcnRpZXMpO1xufVxuIiwgImltcG9ydCBiZWFyaW5nIGZyb20gXCJAdHVyZi9iZWFyaW5nXCI7XG5pbXBvcnQgZGlzdGFuY2UgZnJvbSBcIkB0dXJmL2Rpc3RhbmNlXCI7XG5pbXBvcnQgZGVzdGluYXRpb24gZnJvbSBcIkB0dXJmL2Rlc3RpbmF0aW9uXCI7XG5pbXBvcnQgbGluZUludGVyc2VjdHMgZnJvbSBcIkB0dXJmL2xpbmUtaW50ZXJzZWN0XCI7XG5pbXBvcnQgeyBmbGF0dGVuRWFjaCB9IGZyb20gXCJAdHVyZi9tZXRhXCI7XG5pbXBvcnQgeyBwb2ludCwgbGluZVN0cmluZywgfSBmcm9tIFwiQHR1cmYvaGVscGVyc1wiO1xuaW1wb3J0IHsgZ2V0Q29vcmRzIH0gZnJvbSBcIkB0dXJmL2ludmFyaWFudFwiO1xuLyoqXG4gKiBUYWtlcyBhIHtAbGluayBQb2ludH0gYW5kIGEge0BsaW5rIExpbmVTdHJpbmd9IGFuZCBjYWxjdWxhdGVzIHRoZSBjbG9zZXN0IFBvaW50IG9uIHRoZSAoTXVsdGkpTGluZVN0cmluZy5cbiAqXG4gKiBAbmFtZSBuZWFyZXN0UG9pbnRPbkxpbmVcbiAqIEBwYXJhbSB7R2VvbWV0cnl8RmVhdHVyZTxMaW5lU3RyaW5nfE11bHRpTGluZVN0cmluZz59IGxpbmVzIGxpbmVzIHRvIHNuYXAgdG9cbiAqIEBwYXJhbSB7R2VvbWV0cnl8RmVhdHVyZTxQb2ludD58bnVtYmVyW119IHB0IHBvaW50IHRvIHNuYXAgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pdHM9J2tpbG9tZXRlcnMnXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIG9yIGtpbG9tZXRlcnNcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvaW50Pn0gY2xvc2VzdCBwb2ludCBvbiB0aGUgYGxpbmVgIHRvIGBwb2ludGAuIFRoZSBwcm9wZXJ0aWVzIG9iamVjdCB3aWxsIGNvbnRhaW4gdGhyZWUgdmFsdWVzOiBgaW5kZXhgOiBjbG9zZXN0IHBvaW50IHdhcyBmb3VuZCBvbiBudGggbGluZSBwYXJ0LCBgZGlzdGA6IGRpc3RhbmNlIGJldHdlZW4gcHQgYW5kIHRoZSBjbG9zZXN0IHBvaW50LCBgbG9jYXRpb25gOiBkaXN0YW5jZSBhbG9uZyB0aGUgbGluZSBiZXR3ZWVuIHN0YXJ0IGFuZCB0aGUgY2xvc2VzdCBwb2ludC5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbGluZSA9IHR1cmYubGluZVN0cmluZyhbXG4gKiAgICAgWy03Ny4wMzE2NjksIDM4Ljg3ODYwNV0sXG4gKiAgICAgWy03Ny4wMjk2MDksIDM4Ljg4MTk0Nl0sXG4gKiAgICAgWy03Ny4wMjAzMzksIDM4Ljg4NDA4NF0sXG4gKiAgICAgWy03Ny4wMjU2NjEsIDM4Ljg4NTgyMV0sXG4gKiAgICAgWy03Ny4wMjE4ODQsIDM4Ljg4OTU2M10sXG4gKiAgICAgWy03Ny4wMTk4MjQsIDM4Ljg5MjM2OF1cbiAqIF0pO1xuICogdmFyIHB0ID0gdHVyZi5wb2ludChbLTc3LjAzNzA3NiwgMzguODg0MDE3XSk7XG4gKlxuICogdmFyIHNuYXBwZWQgPSB0dXJmLm5lYXJlc3RQb2ludE9uTGluZShsaW5lLCBwdCwge3VuaXRzOiAnbWlsZXMnfSk7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW2xpbmUsIHB0LCBzbmFwcGVkXTtcbiAqIHNuYXBwZWQucHJvcGVydGllc1snbWFya2VyLWNvbG9yJ10gPSAnIzAwZic7XG4gKi9cbmZ1bmN0aW9uIG5lYXJlc3RQb2ludE9uTGluZShsaW5lcywgcHQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBjbG9zZXN0UHQgPSBwb2ludChbSW5maW5pdHksIEluZmluaXR5XSwge1xuICAgICAgICBkaXN0OiBJbmZpbml0eSxcbiAgICB9KTtcbiAgICB2YXIgbGVuZ3RoID0gMC4wO1xuICAgIGZsYXR0ZW5FYWNoKGxpbmVzLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICB2YXIgY29vcmRzID0gZ2V0Q29vcmRzKGxpbmUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIC8vc3RhcnRcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHBvaW50KGNvb3Jkc1tpXSk7XG4gICAgICAgICAgICBzdGFydC5wcm9wZXJ0aWVzLmRpc3QgPSBkaXN0YW5jZShwdCwgc3RhcnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy9zdG9wXG4gICAgICAgICAgICB2YXIgc3RvcF8xID0gcG9pbnQoY29vcmRzW2kgKyAxXSk7XG4gICAgICAgICAgICBzdG9wXzEucHJvcGVydGllcy5kaXN0ID0gZGlzdGFuY2UocHQsIHN0b3BfMSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvLyBzZWN0aW9uTGVuZ3RoXG4gICAgICAgICAgICB2YXIgc2VjdGlvbkxlbmd0aCA9IGRpc3RhbmNlKHN0YXJ0LCBzdG9wXzEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy9wZXJwZW5kaWN1bGFyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0RGlzdGFuY2UgPSBNYXRoLm1heChzdGFydC5wcm9wZXJ0aWVzLmRpc3QsIHN0b3BfMS5wcm9wZXJ0aWVzLmRpc3QpO1xuICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGJlYXJpbmcoc3RhcnQsIHN0b3BfMSk7XG4gICAgICAgICAgICB2YXIgcGVycGVuZGljdWxhclB0MSA9IGRlc3RpbmF0aW9uKHB0LCBoZWlnaHREaXN0YW5jZSwgZGlyZWN0aW9uICsgOTAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdmFyIHBlcnBlbmRpY3VsYXJQdDIgPSBkZXN0aW5hdGlvbihwdCwgaGVpZ2h0RGlzdGFuY2UsIGRpcmVjdGlvbiAtIDkwLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHZhciBpbnRlcnNlY3QgPSBsaW5lSW50ZXJzZWN0cyhsaW5lU3RyaW5nKFtcbiAgICAgICAgICAgICAgICBwZXJwZW5kaWN1bGFyUHQxLmdlb21ldHJ5LmNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICAgIHBlcnBlbmRpY3VsYXJQdDIuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsXG4gICAgICAgICAgICBdKSwgbGluZVN0cmluZyhbc3RhcnQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsIHN0b3BfMS5nZW9tZXRyeS5jb29yZGluYXRlc10pKTtcbiAgICAgICAgICAgIHZhciBpbnRlcnNlY3RQdCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0LmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RQdCA9IGludGVyc2VjdC5mZWF0dXJlc1swXTtcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RQdC5wcm9wZXJ0aWVzLmRpc3QgPSBkaXN0YW5jZShwdCwgaW50ZXJzZWN0UHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGludGVyc2VjdFB0LnByb3BlcnRpZXMubG9jYXRpb24gPVxuICAgICAgICAgICAgICAgICAgICBsZW5ndGggKyBkaXN0YW5jZShzdGFydCwgaW50ZXJzZWN0UHQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXJ0LnByb3BlcnRpZXMuZGlzdCA8IGNsb3Nlc3RQdC5wcm9wZXJ0aWVzLmRpc3QpIHtcbiAgICAgICAgICAgICAgICBjbG9zZXN0UHQgPSBzdGFydDtcbiAgICAgICAgICAgICAgICBjbG9zZXN0UHQucHJvcGVydGllcy5pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0LnByb3BlcnRpZXMubG9jYXRpb24gPSBsZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RvcF8xLnByb3BlcnRpZXMuZGlzdCA8IGNsb3Nlc3RQdC5wcm9wZXJ0aWVzLmRpc3QpIHtcbiAgICAgICAgICAgICAgICBjbG9zZXN0UHQgPSBzdG9wXzE7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0LnByb3BlcnRpZXMuaW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICBjbG9zZXN0UHQucHJvcGVydGllcy5sb2NhdGlvbiA9IGxlbmd0aCArIHNlY3Rpb25MZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0UHQgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RQdC5wcm9wZXJ0aWVzLmRpc3QgPCBjbG9zZXN0UHQucHJvcGVydGllcy5kaXN0KSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0ID0gaW50ZXJzZWN0UHQ7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0LnByb3BlcnRpZXMuaW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBkYXRlIGxlbmd0aFxuICAgICAgICAgICAgbGVuZ3RoICs9IHNlY3Rpb25MZW5ndGg7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2xvc2VzdFB0O1xufVxuZXhwb3J0IGRlZmF1bHQgbmVhcmVzdFBvaW50T25MaW5lO1xuIiwgImltcG9ydCB7IGdldENvb3JkLCBnZXRHZW9tIH0gZnJvbSBcIkB0dXJmL2ludmFyaWFudFwiO1xuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FdmVuJUUyJTgwJTkzb2RkX3J1bGVcbi8vIG1vZGlmaWVkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4vLyB3aGljaCB3YXMgbW9kaWZpZWQgZnJvbSBodHRwOi8vd3d3LmVjc2UucnBpLmVkdS9Ib21lcGFnZXMvd3JmL1Jlc2VhcmNoL1Nob3J0X05vdGVzL3BucG9seS5odG1sXG4vKipcbiAqIFRha2VzIGEge0BsaW5rIFBvaW50fSBhbmQgYSB7QGxpbmsgUG9seWdvbn0gb3Ige0BsaW5rIE11bHRpUG9seWdvbn0gYW5kIGRldGVybWluZXMgaWYgdGhlIHBvaW50XG4gKiByZXNpZGVzIGluc2lkZSB0aGUgcG9seWdvbi4gVGhlIHBvbHlnb24gY2FuIGJlIGNvbnZleCBvciBjb25jYXZlLiBUaGUgZnVuY3Rpb24gYWNjb3VudHMgZm9yIGhvbGVzLlxuICpcbiAqIEBuYW1lIGJvb2xlYW5Qb2ludEluUG9seWdvblxuICogQHBhcmFtIHtDb29yZH0gcG9pbnQgaW5wdXQgcG9pbnRcbiAqIEBwYXJhbSB7RmVhdHVyZTxQb2x5Z29ufE11bHRpUG9seWdvbj59IHBvbHlnb24gaW5wdXQgcG9seWdvbiBvciBtdWx0aXBvbHlnb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pZ25vcmVCb3VuZGFyeT1mYWxzZV0gVHJ1ZSBpZiBwb2x5Z29uIGJvdW5kYXJ5IHNob3VsZCBiZSBpZ25vcmVkIHdoZW4gZGV0ZXJtaW5pbmcgaWZcbiAqIHRoZSBwb2ludCBpcyBpbnNpZGUgdGhlIHBvbHlnb24gb3RoZXJ3aXNlIGZhbHNlLlxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgUG9pbnQgaXMgaW5zaWRlIHRoZSBQb2x5Z29uOyBgZmFsc2VgIGlmIHRoZSBQb2ludCBpcyBub3QgaW5zaWRlIHRoZSBQb2x5Z29uXG4gKiBAZXhhbXBsZVxuICogdmFyIHB0ID0gdHVyZi5wb2ludChbLTc3LCA0NF0pO1xuICogdmFyIHBvbHkgPSB0dXJmLnBvbHlnb24oW1tcbiAqICAgWy04MSwgNDFdLFxuICogICBbLTgxLCA0N10sXG4gKiAgIFstNzIsIDQ3XSxcbiAqICAgWy03MiwgNDFdLFxuICogICBbLTgxLCA0MV1cbiAqIF1dKTtcbiAqXG4gKiB0dXJmLmJvb2xlYW5Qb2ludEluUG9seWdvbihwdCwgcG9seSk7XG4gKiAvLz0gdHJ1ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBib29sZWFuUG9pbnRJblBvbHlnb24ocG9pbnQsIHBvbHlnb24sIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIC8vIHZhbGlkYXRpb25cbiAgICBpZiAoIXBvaW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInBvaW50IGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIXBvbHlnb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicG9seWdvbiBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgdmFyIHB0ID0gZ2V0Q29vcmQocG9pbnQpO1xuICAgIHZhciBnZW9tID0gZ2V0R2VvbShwb2x5Z29uKTtcbiAgICB2YXIgdHlwZSA9IGdlb20udHlwZTtcbiAgICB2YXIgYmJveCA9IHBvbHlnb24uYmJveDtcbiAgICB2YXIgcG9seXMgPSBnZW9tLmNvb3JkaW5hdGVzO1xuICAgIC8vIFF1aWNrIGVsaW1pbmF0aW9uIGlmIHBvaW50IGlzIG5vdCBpbnNpZGUgYmJveFxuICAgIGlmIChiYm94ICYmIGluQkJveChwdCwgYmJveCkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gbm9ybWFsaXplIHRvIG11bHRpcG9seWdvblxuICAgIGlmICh0eXBlID09PSBcIlBvbHlnb25cIikge1xuICAgICAgICBwb2x5cyA9IFtwb2x5c107XG4gICAgfVxuICAgIHZhciBpbnNpZGVQb2x5ID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2x5cy5sZW5ndGggJiYgIWluc2lkZVBvbHk7IGkrKykge1xuICAgICAgICAvLyBjaGVjayBpZiBpdCBpcyBpbiB0aGUgb3V0ZXIgcmluZyBmaXJzdFxuICAgICAgICBpZiAoaW5SaW5nKHB0LCBwb2x5c1tpXVswXSwgb3B0aW9ucy5pZ25vcmVCb3VuZGFyeSkpIHtcbiAgICAgICAgICAgIHZhciBpbkhvbGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciB0aGUgcG9pbnQgaW4gYW55IG9mIHRoZSBob2xlc1xuICAgICAgICAgICAgd2hpbGUgKGsgPCBwb2x5c1tpXS5sZW5ndGggJiYgIWluSG9sZSkge1xuICAgICAgICAgICAgICAgIGlmIChpblJpbmcocHQsIHBvbHlzW2ldW2tdLCAhb3B0aW9ucy5pZ25vcmVCb3VuZGFyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5Ib2xlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpbkhvbGUpIHtcbiAgICAgICAgICAgICAgICBpbnNpZGVQb2x5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zaWRlUG9seTtcbn1cbi8qKlxuICogaW5SaW5nXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gcHQgW3gseV1cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IHJpbmcgW1t4LHldLCBbeCx5XSwuLl1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaWdub3JlQm91bmRhcnkgaWdub3JlQm91bmRhcnlcbiAqIEByZXR1cm5zIHtib29sZWFufSBpblJpbmdcbiAqL1xuZnVuY3Rpb24gaW5SaW5nKHB0LCByaW5nLCBpZ25vcmVCb3VuZGFyeSkge1xuICAgIHZhciBpc0luc2lkZSA9IGZhbHNlO1xuICAgIGlmIChyaW5nWzBdWzBdID09PSByaW5nW3JpbmcubGVuZ3RoIC0gMV1bMF0gJiZcbiAgICAgICAgcmluZ1swXVsxXSA9PT0gcmluZ1tyaW5nLmxlbmd0aCAtIDFdWzFdKSB7XG4gICAgICAgIHJpbmcgPSByaW5nLnNsaWNlKDAsIHJpbmcubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBqID0gcmluZy5sZW5ndGggLSAxOyBpIDwgcmluZy5sZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgdmFyIHhpID0gcmluZ1tpXVswXTtcbiAgICAgICAgdmFyIHlpID0gcmluZ1tpXVsxXTtcbiAgICAgICAgdmFyIHhqID0gcmluZ1tqXVswXTtcbiAgICAgICAgdmFyIHlqID0gcmluZ1tqXVsxXTtcbiAgICAgICAgdmFyIG9uQm91bmRhcnkgPSBwdFsxXSAqICh4aSAtIHhqKSArIHlpICogKHhqIC0gcHRbMF0pICsgeWogKiAocHRbMF0gLSB4aSkgPT09IDAgJiZcbiAgICAgICAgICAgICh4aSAtIHB0WzBdKSAqICh4aiAtIHB0WzBdKSA8PSAwICYmXG4gICAgICAgICAgICAoeWkgLSBwdFsxXSkgKiAoeWogLSBwdFsxXSkgPD0gMDtcbiAgICAgICAgaWYgKG9uQm91bmRhcnkpIHtcbiAgICAgICAgICAgIHJldHVybiAhaWdub3JlQm91bmRhcnk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVyc2VjdCA9IHlpID4gcHRbMV0gIT09IHlqID4gcHRbMV0gJiZcbiAgICAgICAgICAgIHB0WzBdIDwgKCh4aiAtIHhpKSAqIChwdFsxXSAtIHlpKSkgLyAoeWogLSB5aSkgKyB4aTtcbiAgICAgICAgaWYgKGludGVyc2VjdCkge1xuICAgICAgICAgICAgaXNJbnNpZGUgPSAhaXNJbnNpZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzSW5zaWRlO1xufVxuLyoqXG4gKiBpbkJCb3hcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQb3NpdGlvbn0gcHQgcG9pbnQgW3gseV1cbiAqIEBwYXJhbSB7QkJveH0gYmJveCBCQm94IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZSBpZiBwb2ludCBpcyBpbnNpZGUgQkJveFxuICovXG5mdW5jdGlvbiBpbkJCb3gocHQsIGJib3gpIHtcbiAgICByZXR1cm4gKGJib3hbMF0gPD0gcHRbMF0gJiYgYmJveFsxXSA8PSBwdFsxXSAmJiBiYm94WzJdID49IHB0WzBdICYmIGJib3hbM10gPj0gcHRbMV0pO1xufVxuIiwgImltcG9ydCB7IGdldENvb3JkLCBnZXRDb29yZHMgfSBmcm9tIFwiQHR1cmYvaW52YXJpYW50XCI7XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhIHBvaW50IGlzIG9uIGEgbGluZS4gQWNjZXB0cyBhIG9wdGlvbmFsIHBhcmFtZXRlciB0byBpZ25vcmUgdGhlXG4gKiBzdGFydCBhbmQgZW5kIHZlcnRpY2VzIG9mIHRoZSBsaW5lc3RyaW5nLlxuICpcbiAqIEBuYW1lIGJvb2xlYW5Qb2ludE9uTGluZVxuICogQHBhcmFtIHtDb29yZH0gcHQgR2VvSlNPTiBQb2ludFxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBsaW5lIEdlb0pTT04gTGluZVN0cmluZ1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlnbm9yZUVuZFZlcnRpY2VzPWZhbHNlXSB3aGV0aGVyIHRvIGlnbm9yZSB0aGUgc3RhcnQgYW5kIGVuZCB2ZXJ0aWNlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5lcHNpbG9uXSBGcmFjdGlvbmFsIG51bWJlciB0byBjb21wYXJlIHdpdGggdGhlIGNyb3NzIHByb2R1Y3QgcmVzdWx0LiBVc2VmdWwgZm9yIGRlYWxpbmcgd2l0aCBmbG9hdGluZyBwb2ludHMgc3VjaCBhcyBsbmcvbGF0IHBvaW50c1xuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUvZmFsc2VcbiAqIEBleGFtcGxlXG4gKiB2YXIgcHQgPSB0dXJmLnBvaW50KFswLCAwXSk7XG4gKiB2YXIgbGluZSA9IHR1cmYubGluZVN0cmluZyhbWy0xLCAtMV0sWzEsIDFdLFsxLjUsIDIuMl1dKTtcbiAqIHZhciBpc1BvaW50T25MaW5lID0gdHVyZi5ib29sZWFuUG9pbnRPbkxpbmUocHQsIGxpbmUpO1xuICogLy89dHJ1ZVxuICovXG5mdW5jdGlvbiBib29sZWFuUG9pbnRPbkxpbmUocHQsIGxpbmUsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIC8vIE5vcm1hbGl6ZSBpbnB1dHNcbiAgICB2YXIgcHRDb29yZHMgPSBnZXRDb29yZChwdCk7XG4gICAgdmFyIGxpbmVDb29yZHMgPSBnZXRDb29yZHMobGluZSk7XG4gICAgLy8gTWFpblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZUNvb3Jkcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgdmFyIGlnbm9yZUJvdW5kYXJ5ID0gZmFsc2U7XG4gICAgICAgIGlmIChvcHRpb25zLmlnbm9yZUVuZFZlcnRpY2VzKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlnbm9yZUJvdW5kYXJ5ID0gXCJzdGFydFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPT09IGxpbmVDb29yZHMubGVuZ3RoIC0gMikge1xuICAgICAgICAgICAgICAgIGlnbm9yZUJvdW5kYXJ5ID0gXCJlbmRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID09PSAwICYmIGkgKyAxID09PSBsaW5lQ29vcmRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBpZ25vcmVCb3VuZGFyeSA9IFwiYm90aFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc1BvaW50T25MaW5lU2VnbWVudChsaW5lQ29vcmRzW2ldLCBsaW5lQ29vcmRzW2kgKyAxXSwgcHRDb29yZHMsIGlnbm9yZUJvdW5kYXJ5LCB0eXBlb2Ygb3B0aW9ucy5lcHNpbG9uID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnMuZXBzaWxvbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80ODMzODIzLzE5NzkwODVcbi8vIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzI4MTIyLzEwNDg4NDdcbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UG9zaXRpb259IGxpbmVTZWdtZW50U3RhcnQgY29vcmQgcGFpciBvZiBzdGFydCBvZiBsaW5lXG4gKiBAcGFyYW0ge1Bvc2l0aW9ufSBsaW5lU2VnbWVudEVuZCBjb29yZCBwYWlyIG9mIGVuZCBvZiBsaW5lXG4gKiBAcGFyYW0ge1Bvc2l0aW9ufSBwdCBjb29yZCBwYWlyIG9mIHBvaW50IHRvIGNoZWNrXG4gKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBleGNsdWRlQm91bmRhcnkgd2hldGhlciB0aGUgcG9pbnQgaXMgYWxsb3dlZCB0byBmYWxsIG9uIHRoZSBsaW5lIGVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gZXBzaWxvbiBGcmFjdGlvbmFsIG51bWJlciB0byBjb21wYXJlIHdpdGggdGhlIGNyb3NzIHByb2R1Y3QgcmVzdWx0LiBVc2VmdWwgZm9yIGRlYWxpbmcgd2l0aCBmbG9hdGluZyBwb2ludHMgc3VjaCBhcyBsbmcvbGF0IHBvaW50c1xuICogSWYgdHJ1ZSB3aGljaCBlbmQgdG8gaWdub3JlLlxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUvZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNQb2ludE9uTGluZVNlZ21lbnQobGluZVNlZ21lbnRTdGFydCwgbGluZVNlZ21lbnRFbmQsIHB0LCBleGNsdWRlQm91bmRhcnksIGVwc2lsb24pIHtcbiAgICB2YXIgeCA9IHB0WzBdO1xuICAgIHZhciB5ID0gcHRbMV07XG4gICAgdmFyIHgxID0gbGluZVNlZ21lbnRTdGFydFswXTtcbiAgICB2YXIgeTEgPSBsaW5lU2VnbWVudFN0YXJ0WzFdO1xuICAgIHZhciB4MiA9IGxpbmVTZWdtZW50RW5kWzBdO1xuICAgIHZhciB5MiA9IGxpbmVTZWdtZW50RW5kWzFdO1xuICAgIHZhciBkeGMgPSBwdFswXSAtIHgxO1xuICAgIHZhciBkeWMgPSBwdFsxXSAtIHkxO1xuICAgIHZhciBkeGwgPSB4MiAtIHgxO1xuICAgIHZhciBkeWwgPSB5MiAtIHkxO1xuICAgIHZhciBjcm9zcyA9IGR4YyAqIGR5bCAtIGR5YyAqIGR4bDtcbiAgICBpZiAoZXBzaWxvbiAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoY3Jvc3MpID4gZXBzaWxvbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGNyb3NzICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFleGNsdWRlQm91bmRhcnkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4bCkgPj0gTWF0aC5hYnMoZHlsKSkge1xuICAgICAgICAgICAgcmV0dXJuIGR4bCA+IDAgPyB4MSA8PSB4ICYmIHggPD0geDIgOiB4MiA8PSB4ICYmIHggPD0geDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGR5bCA+IDAgPyB5MSA8PSB5ICYmIHkgPD0geTIgOiB5MiA8PSB5ICYmIHkgPD0geTE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV4Y2x1ZGVCb3VuZGFyeSA9PT0gXCJzdGFydFwiKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeGwpID49IE1hdGguYWJzKGR5bCkpIHtcbiAgICAgICAgICAgIHJldHVybiBkeGwgPiAwID8geDEgPCB4ICYmIHggPD0geDIgOiB4MiA8PSB4ICYmIHggPCB4MTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZHlsID4gMCA/IHkxIDwgeSAmJiB5IDw9IHkyIDogeTIgPD0geSAmJiB5IDwgeTE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV4Y2x1ZGVCb3VuZGFyeSA9PT0gXCJlbmRcIikge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZHhsKSA+PSBNYXRoLmFicyhkeWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZHhsID4gMCA/IHgxIDw9IHggJiYgeCA8IHgyIDogeDIgPCB4ICYmIHggPD0geDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGR5bCA+IDAgPyB5MSA8PSB5ICYmIHkgPCB5MiA6IHkyIDwgeSAmJiB5IDw9IHkxO1xuICAgIH1cbiAgICBlbHNlIGlmIChleGNsdWRlQm91bmRhcnkgPT09IFwiYm90aFwiKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeGwpID49IE1hdGguYWJzKGR5bCkpIHtcbiAgICAgICAgICAgIHJldHVybiBkeGwgPiAwID8geDEgPCB4ICYmIHggPCB4MiA6IHgyIDwgeCAmJiB4IDwgeDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGR5bCA+IDAgPyB5MSA8IHkgJiYgeSA8IHkyIDogeTIgPCB5ICYmIHkgPCB5MTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGRlZmF1bHQgYm9vbGVhblBvaW50T25MaW5lO1xuIiwgImltcG9ydCBjYWxjQmJveCBmcm9tIFwiQHR1cmYvYmJveFwiO1xuaW1wb3J0IGJvb2xlYW5Qb2ludEluUG9seWdvbiBmcm9tIFwiQHR1cmYvYm9vbGVhbi1wb2ludC1pbi1wb2x5Z29uXCI7XG5pbXBvcnQgaXNQb2ludE9uTGluZSBmcm9tIFwiQHR1cmYvYm9vbGVhbi1wb2ludC1vbi1saW5lXCI7XG5pbXBvcnQgeyBnZXRHZW9tIH0gZnJvbSBcIkB0dXJmL2ludmFyaWFudFwiO1xuLyoqXG4gKiBCb29sZWFuLWNvbnRhaW5zIHJldHVybnMgVHJ1ZSBpZiB0aGUgc2Vjb25kIGdlb21ldHJ5IGlzIGNvbXBsZXRlbHkgY29udGFpbmVkIGJ5IHRoZSBmaXJzdCBnZW9tZXRyeS5cbiAqIFRoZSBpbnRlcmlvcnMgb2YgYm90aCBnZW9tZXRyaWVzIG11c3QgaW50ZXJzZWN0IGFuZCwgdGhlIGludGVyaW9yIGFuZCBib3VuZGFyeSBvZiB0aGUgc2Vjb25kYXJ5IChnZW9tZXRyeSBiKVxuICogbXVzdCBub3QgaW50ZXJzZWN0IHRoZSBleHRlcmlvciBvZiB0aGUgcHJpbWFyeSAoZ2VvbWV0cnkgYSkuXG4gKiBCb29sZWFuLWNvbnRhaW5zIHJldHVybnMgdGhlIGV4YWN0IG9wcG9zaXRlIHJlc3VsdCBvZiB0aGUgYEB0dXJmL2Jvb2xlYW4td2l0aGluYC5cbiAqXG4gKiBAbmFtZSBib29sZWFuQ29udGFpbnNcbiAqIEBwYXJhbSB7R2VvbWV0cnl8RmVhdHVyZTxhbnk+fSBmZWF0dXJlMSBHZW9KU09OIEZlYXR1cmUgb3IgR2VvbWV0cnlcbiAqIEBwYXJhbSB7R2VvbWV0cnl8RmVhdHVyZTxhbnk+fSBmZWF0dXJlMiBHZW9KU09OIEZlYXR1cmUgb3IgR2VvbWV0cnlcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlL2ZhbHNlXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmUgPSB0dXJmLmxpbmVTdHJpbmcoW1sxLCAxXSwgWzEsIDJdLCBbMSwgM10sIFsxLCA0XV0pO1xuICogdmFyIHBvaW50ID0gdHVyZi5wb2ludChbMSwgMl0pO1xuICpcbiAqIHR1cmYuYm9vbGVhbkNvbnRhaW5zKGxpbmUsIHBvaW50KTtcbiAqIC8vPXRydWVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYm9vbGVhbkNvbnRhaW5zKGZlYXR1cmUxLCBmZWF0dXJlMikge1xuICAgIHZhciBnZW9tMSA9IGdldEdlb20oZmVhdHVyZTEpO1xuICAgIHZhciBnZW9tMiA9IGdldEdlb20oZmVhdHVyZTIpO1xuICAgIHZhciB0eXBlMSA9IGdlb20xLnR5cGU7XG4gICAgdmFyIHR5cGUyID0gZ2VvbTIudHlwZTtcbiAgICB2YXIgY29vcmRzMSA9IGdlb20xLmNvb3JkaW5hdGVzO1xuICAgIHZhciBjb29yZHMyID0gZ2VvbTIuY29vcmRpbmF0ZXM7XG4gICAgc3dpdGNoICh0eXBlMSkge1xuICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZTIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmVDb29yZHMoY29vcmRzMSwgY29vcmRzMik7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZmVhdHVyZTIgXCIgKyB0eXBlMiArIFwiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1BvaW50SW5NdWx0aVBvaW50KGdlb20xLCBnZW9tMik7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTXVsdGlQb2ludEluTXVsdGlQb2ludChnZW9tMSwgZ2VvbTIpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImZlYXR1cmUyIFwiICsgdHlwZTIgKyBcIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICAgICAgc3dpdGNoICh0eXBlMikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNQb2ludE9uTGluZShnZW9tMiwgZ2VvbTEsIHsgaWdub3JlRW5kVmVydGljZXM6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTGluZU9uTGluZShnZW9tMSwgZ2VvbTIpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc011bHRpUG9pbnRPbkxpbmUoZ2VvbTEsIGdlb20yKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmZWF0dXJlMiBcIiArIHR5cGUyICsgXCIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZTIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5Qb2ludEluUG9seWdvbihnZW9tMiwgZ2VvbTEsIHsgaWdub3JlQm91bmRhcnk6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTGluZUluUG9seShnZW9tMSwgZ2VvbTIpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1BvbHlJblBvbHkoZ2VvbTEsIGdlb20yKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNNdWx0aVBvaW50SW5Qb2x5KGdlb20xLCBnZW9tMik7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZmVhdHVyZTIgXCIgKyB0eXBlMiArIFwiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmZWF0dXJlMSBcIiArIHR5cGUxICsgXCIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZFwiKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNQb2ludEluTXVsdGlQb2ludChtdWx0aVBvaW50LCBwdCkge1xuICAgIHZhciBpO1xuICAgIHZhciBvdXRwdXQgPSBmYWxzZTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbXVsdGlQb2ludC5jb29yZGluYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY29tcGFyZUNvb3JkcyhtdWx0aVBvaW50LmNvb3JkaW5hdGVzW2ldLCBwdC5jb29yZGluYXRlcykpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTXVsdGlQb2ludEluTXVsdGlQb2ludChtdWx0aVBvaW50MSwgbXVsdGlQb2ludDIpIHtcbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gbXVsdGlQb2ludDIuY29vcmRpbmF0ZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjb29yZDIgPSBfYVtfaV07XG4gICAgICAgIHZhciBtYXRjaEZvdW5kID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBtdWx0aVBvaW50MS5jb29yZGluYXRlczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgIHZhciBjb29yZDEgPSBfY1tfYl07XG4gICAgICAgICAgICBpZiAoY29tcGFyZUNvb3Jkcyhjb29yZDIsIGNvb3JkMSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1hdGNoRm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc011bHRpUG9pbnRPbkxpbmUobGluZVN0cmluZywgbXVsdGlQb2ludCkge1xuICAgIHZhciBoYXZlRm91bmRJbnRlcmlvclBvaW50ID0gZmFsc2U7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IG11bHRpUG9pbnQuY29vcmRpbmF0ZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjb29yZCA9IF9hW19pXTtcbiAgICAgICAgaWYgKGlzUG9pbnRPbkxpbmUoY29vcmQsIGxpbmVTdHJpbmcsIHsgaWdub3JlRW5kVmVydGljZXM6IHRydWUgfSkpIHtcbiAgICAgICAgICAgIGhhdmVGb3VuZEludGVyaW9yUG9pbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNQb2ludE9uTGluZShjb29yZCwgbGluZVN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaGF2ZUZvdW5kSW50ZXJpb3JQb2ludCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTXVsdGlQb2ludEluUG9seShwb2x5Z29uLCBtdWx0aVBvaW50KSB7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IG11bHRpUG9pbnQuY29vcmRpbmF0ZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjb29yZCA9IF9hW19pXTtcbiAgICAgICAgaWYgKCFib29sZWFuUG9pbnRJblBvbHlnb24oY29vcmQsIHBvbHlnb24sIHsgaWdub3JlQm91bmRhcnk6IHRydWUgfSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmVPbkxpbmUobGluZVN0cmluZzEsIGxpbmVTdHJpbmcyKSB7XG4gICAgdmFyIGhhdmVGb3VuZEludGVyaW9yUG9pbnQgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gbGluZVN0cmluZzIuY29vcmRpbmF0ZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjb29yZHMgPSBfYVtfaV07XG4gICAgICAgIGlmIChpc1BvaW50T25MaW5lKHsgdHlwZTogXCJQb2ludFwiLCBjb29yZGluYXRlczogY29vcmRzIH0sIGxpbmVTdHJpbmcxLCB7XG4gICAgICAgICAgICBpZ25vcmVFbmRWZXJ0aWNlczogdHJ1ZSxcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIGhhdmVGb3VuZEludGVyaW9yUG9pbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNQb2ludE9uTGluZSh7IHR5cGU6IFwiUG9pbnRcIiwgY29vcmRpbmF0ZXM6IGNvb3JkcyB9LCBsaW5lU3RyaW5nMSwge1xuICAgICAgICAgICAgaWdub3JlRW5kVmVydGljZXM6IGZhbHNlLFxuICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXZlRm91bmRJbnRlcmlvclBvaW50O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTGluZUluUG9seShwb2x5Z29uLCBsaW5lc3RyaW5nKSB7XG4gICAgdmFyIG91dHB1dCA9IGZhbHNlO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgcG9seUJib3ggPSBjYWxjQmJveChwb2x5Z29uKTtcbiAgICB2YXIgbGluZUJib3ggPSBjYWxjQmJveChsaW5lc3RyaW5nKTtcbiAgICBpZiAoIWRvQkJveE92ZXJsYXAocG9seUJib3gsIGxpbmVCYm94KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoaTsgaSA8IGxpbmVzdHJpbmcuY29vcmRpbmF0ZXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIHZhciBtaWRQb2ludCA9IGdldE1pZHBvaW50KGxpbmVzdHJpbmcuY29vcmRpbmF0ZXNbaV0sIGxpbmVzdHJpbmcuY29vcmRpbmF0ZXNbaSArIDFdKTtcbiAgICAgICAgaWYgKGJvb2xlYW5Qb2ludEluUG9seWdvbih7IHR5cGU6IFwiUG9pbnRcIiwgY29vcmRpbmF0ZXM6IG1pZFBvaW50IH0sIHBvbHlnb24sIHtcbiAgICAgICAgICAgIGlnbm9yZUJvdW5kYXJ5OiB0cnVlLFxuICAgICAgICB9KSkge1xuICAgICAgICAgICAgb3V0cHV0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG4vKipcbiAqIElzIFBvbHlnb24yIGluIFBvbHlnb24xXG4gKiBPbmx5IHRha2VzIGludG8gYWNjb3VudCBvdXRlciByaW5nc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8UG9seWdvbj59IGZlYXR1cmUxIFBvbHlnb24xXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8UG9seWdvbj59IGZlYXR1cmUyIFBvbHlnb24yXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQb2x5SW5Qb2x5KGZlYXR1cmUxLCBmZWF0dXJlMikge1xuICAgIC8vIEhhbmRsZSBOdWxsc1xuICAgIGlmIChmZWF0dXJlMS50eXBlID09PSBcIkZlYXR1cmVcIiAmJiBmZWF0dXJlMS5nZW9tZXRyeSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChmZWF0dXJlMi50eXBlID09PSBcIkZlYXR1cmVcIiAmJiBmZWF0dXJlMi5nZW9tZXRyeSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBwb2x5MUJib3ggPSBjYWxjQmJveChmZWF0dXJlMSk7XG4gICAgdmFyIHBvbHkyQmJveCA9IGNhbGNCYm94KGZlYXR1cmUyKTtcbiAgICBpZiAoIWRvQkJveE92ZXJsYXAocG9seTFCYm94LCBwb2x5MkJib3gpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGNvb3JkcyA9IGdldEdlb20oZmVhdHVyZTIpLmNvb3JkaW5hdGVzO1xuICAgIGZvciAodmFyIF9pID0gMCwgY29vcmRzXzEgPSBjb29yZHM7IF9pIDwgY29vcmRzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciByaW5nID0gY29vcmRzXzFbX2ldO1xuICAgICAgICBmb3IgKHZhciBfYSA9IDAsIHJpbmdfMSA9IHJpbmc7IF9hIDwgcmluZ18xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgdmFyIGNvb3JkID0gcmluZ18xW19hXTtcbiAgICAgICAgICAgIGlmICghYm9vbGVhblBvaW50SW5Qb2x5Z29uKGNvb3JkLCBmZWF0dXJlMSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gZG9CQm94T3ZlcmxhcChiYm94MSwgYmJveDIpIHtcbiAgICBpZiAoYmJveDFbMF0gPiBiYm94MlswXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChiYm94MVsyXSA8IGJib3gyWzJdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGJib3gxWzFdID4gYmJveDJbMV0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYmJveDFbM10gPCBiYm94MlszXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBjb21wYXJlQ29vcmRzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UG9zaXRpb259IHBhaXIxIHBvaW50IFt4LHldXG4gKiBAcGFyYW0ge1Bvc2l0aW9ufSBwYWlyMiBwb2ludCBbeCx5XVxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUvZmFsc2UgaWYgY29vcmQgcGFpcnMgbWF0Y2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVDb29yZHMocGFpcjEsIHBhaXIyKSB7XG4gICAgcmV0dXJuIHBhaXIxWzBdID09PSBwYWlyMlswXSAmJiBwYWlyMVsxXSA9PT0gcGFpcjJbMV07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlkcG9pbnQocGFpcjEsIHBhaXIyKSB7XG4gICAgcmV0dXJuIFsocGFpcjFbMF0gKyBwYWlyMlswXSkgLyAyLCAocGFpcjFbMV0gKyBwYWlyMlsxXSkgLyAyXTtcbn1cbiIsICJpbXBvcnQgbGluZUludGVyc2VjdCBmcm9tICdAdHVyZi9saW5lLWludGVyc2VjdCc7XG5pbXBvcnQgbGluZVNwbGl0IGZyb20gJ0B0dXJmL2xpbmUtc3BsaXQnO1xuaW1wb3J0IGJvb2xlYW5Db250YWlucyBmcm9tICdAdHVyZi9ib29sZWFuLWNvbnRhaW5zJztcbmltcG9ydCBnZXQgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQgRHJhdyBmcm9tICcuL0wuUE0uRHJhdyc7XG5pbXBvcnQge1xuICBkaWZmZXJlbmNlLFxuICBmbGF0dGVuUG9seWxpbmUsXG4gIGdyb3VwVG9NdWx0aUxpbmVTdHJpbmcsXG4gIGludGVyc2VjdCxcbn0gZnJvbSAnLi4vaGVscGVycy90dXJmSGVscGVyJztcblxuRHJhdy5DdXQgPSBEcmF3LlBvbHlnb24uZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXApIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgdGhpcy5fc2hhcGUgPSAnQ3V0JztcbiAgICB0aGlzLnRvb2xiYXJCdXR0b25OYW1lID0gJ2N1dFBvbHlnb24nO1xuICB9LFxuICBfZmluaXNoU2hhcGUoKSB7XG4gICAgdGhpcy5fZWRpdGVkTGF5ZXJzID0gW107XG4gICAgLy8gaWYgc2VsZiBpbnRlcnNlY3Rpb24gaXMgbm90IGFsbG93ZWQsIGRvIG5vdCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgLy8gQ2hlY2sgaWYgcG9seWdvbiBpbnRlcnNlY3RzIHdoZW4gaXMgY29tcGxldGVkIGFuZCB0aGUgbGluZSBiZXR3ZWVuIHRoZSBsYXN0IGFuZCB0aGUgZmlyc3QgcG9pbnQgaXMgZHJhd25cbiAgICAgIHRoaXMuX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb24odHJ1ZSwgdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdKTtcblxuICAgICAgaWYgKHRoaXMuX2RvZXNTZWxmSW50ZXJzZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBzbmFwIGZpbmlzaCBpcyByZXF1aXJlZCBidXQgdGhlIGxhc3QgbWFya2VyIHdhc24ndCBzbmFwcGVkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMucmVxdWlyZVNuYXBUb0ZpbmlzaCAmJlxuICAgICAgIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQgJiZcbiAgICAgICF0aGlzLl9pc0ZpcnN0TGF5ZXIoKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdldCBjb29yZGluYXRlc1xuICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuX2xheWVyLmdldExhdExuZ3MoKTtcblxuICAgIC8vIG9ubHkgZmluaXNoIHRoZSBzaGFwZSBpZiB0aGVyZSBhcmUgMyBvciBtb3JlIHZlcnRpY2VzXG4gICAgaWYgKGNvb3Jkcy5sZW5ndGggPD0gMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBvbHlnb25MYXllciA9IEwucG9seWdvbihjb29yZHMsIHRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucyk7XG4gICAgLy8gcmVhZG91dCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGF0bG5ncyBsaWtlIHNuYXBwaW5nIHBvaW50c1xuICAgIHBvbHlnb25MYXllci5fbGF0bG5nSW5mb3MgPSB0aGlzLl9sYXllci5fbGF0bG5nSW5mbztcbiAgICB0aGlzLmN1dChwb2x5Z29uTGF5ZXIpO1xuXG4gICAgLy8gY2xlYW4gdXAgc25hcHBpbmcgc3RhdGVzXG4gICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG5cbiAgICAvLyByZW1vdmUgdGhlIGZpcnN0IHZlcnRleCBmcm9tIFwib3RoZXIgc25hcHBpbmcgbGF5ZXJzXCJcbiAgICB0aGlzLl9vdGhlclNuYXBMYXllcnMuc3BsaWNlKHRoaXMuX3RlbXBTbmFwTGF5ZXJJbmRleCwgMSk7XG4gICAgZGVsZXRlIHRoaXMuX3RlbXBTbmFwTGF5ZXJJbmRleDtcblxuICAgIHRoaXMuX2VkaXRlZExheWVycy5mb3JFYWNoKCh7IGxheWVyLCBvcmlnaW5hbExheWVyIH0pID0+IHtcbiAgICAgIC8vIGZpcmUgcG06Y3V0IG9uIHRoZSBjdXR0ZWQgbGF5ZXJcbiAgICAgIHRoaXMuX2ZpcmVDdXQob3JpZ2luYWxMYXllciwgbGF5ZXIsIG9yaWdpbmFsTGF5ZXIpO1xuXG4gICAgICAvLyBmaXJlIHBtOmN1dCBvbiB0aGUgbWFwXG4gICAgICB0aGlzLl9maXJlQ3V0KHRoaXMuX21hcCwgbGF5ZXIsIG9yaWdpbmFsTGF5ZXIpO1xuXG4gICAgICAvLyBmaXJlIGVkaXQgZXZlbnQgYWZ0ZXIgY3V0XG4gICAgICBvcmlnaW5hbExheWVyLnBtLl9maXJlRWRpdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX2VkaXRlZExheWVycyA9IFtdO1xuXG4gICAgLy8gZGlzYWJsZSBkcmF3aW5nXG4gICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb250aW51ZURyYXdpbmcpIHtcbiAgICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9LFxuICBjdXQobGF5ZXIpIHtcbiAgICBjb25zdCBhbGwgPSB0aGlzLl9tYXAuX2xheWVycztcbiAgICAvLyBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCBzbmFwcGluZyBwb2ludHNcbiAgICBjb25zdCBfbGF0bG5nSW5mb3MgPSBsYXllci5fbGF0bG5nSW5mb3MgfHwgW107XG5cbiAgICAvLyBmaW5kIGFsbCBsYXllcnMgdGhhdCBpbnRlcnNlY3Qgd2l0aCBgbGF5ZXJgLCB0aGUganVzdCBkcmF3biBjdXR0aW5nIGxheWVyXG4gICAgY29uc3QgbGF5ZXJzID0gT2JqZWN0LmtleXMoYWxsKVxuICAgICAgLy8gY29udmVydCBvYmplY3QgdG8gYXJyYXlcbiAgICAgIC5tYXAoKGwpID0+IGFsbFtsXSlcbiAgICAgIC8vIG9ubHkgbGF5ZXJzIGhhbmRsZWQgYnkgbGVhZmxldC1nZW9tYW5cbiAgICAgIC5maWx0ZXIoKGwpID0+IGwucG0pXG4gICAgICAuZmlsdGVyKChsKSA9PiAhbC5fcG1UZW1wTGF5ZXIpXG4gICAgICAvLyBmaWx0ZXIgb3V0IGV2ZXJ5dGhpbmcgdGhhdCBpZ25vcmUgbGVhZmxldC1nZW9tYW5cbiAgICAgIC5maWx0ZXIoXG4gICAgICAgIChsKSA9PlxuICAgICAgICAgICghTC5QTS5vcHRJbiAmJiAhbC5vcHRpb25zLnBtSWdub3JlKSB8fCAvLyBpZiBvcHRJbiBpcyBub3Qgc2V0IC8gdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgbm90IHNldCAvIHRydWUgKGRlZmF1bHQpXG4gICAgICAgICAgKEwuUE0ub3B0SW4gJiYgbC5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkgLy8gaWYgb3B0SW4gaXMgdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgZmFsc2UpO1xuICAgICAgKVxuICAgICAgLy8gb25seSBwb2x5bGluZSBpbnN0YW5jZXNcbiAgICAgIC5maWx0ZXIoKGwpID0+IGwgaW5zdGFuY2VvZiBMLlBvbHlsaW5lKVxuICAgICAgLy8gZXhjbHVkZSB0aGUgZHJhd24gb25lXG4gICAgICAuZmlsdGVyKChsKSA9PiBsICE9PSBsYXllcilcbiAgICAgIC8vIGxheWVyIGlzIGFsbG93ZWQgdG8gY3V0XG4gICAgICAuZmlsdGVyKChsKSA9PiBsLnBtLm9wdGlvbnMuYWxsb3dDdXR0aW5nKVxuICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQgaWdub3JlIGxlYWZsZXQtZ2VvbWFuXG4gICAgICAuZmlsdGVyKChsKSA9PiB7XG4gICAgICAgIC8vIFRPRE86IGFmdGVyIGN1dHRpbmcgbm90aGluZyBlbHNlIGNhbiBiZSBjdXR0ZWQgYW55bW9yZSB1bnRpbCBhIG5ldyBsaXN0IGlzIHBhc3NlZCwgYmVjYXVzZSB0aGUgbGF5ZXJzIGRvbid0IGV4aXN0cyBhbnltb3JlLiBTaG91bGQgd2UgcmVtb3ZlIHRoZSBjdXR0ZWQgbGF5ZXJzIGZyb20gdGhlIGxpc3Q/XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLm9wdGlvbnMubGF5ZXJzVG9DdXQgJiZcbiAgICAgICAgICBMLlV0aWwuaXNBcnJheSh0aGlzLm9wdGlvbnMubGF5ZXJzVG9DdXQpICYmXG4gICAgICAgICAgdGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0Lmxlbmd0aCA+IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5sYXllcnNUb0N1dC5pbmRleE9mKGwpID4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KVxuICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQgaWdub3JlIGxlYWZsZXQtZ2VvbWFuXG4gICAgICAuZmlsdGVyKChsKSA9PiAhdGhpcy5fbGF5ZXJHcm91cC5oYXNMYXllcihsKSlcbiAgICAgIC8vIG9ubHkgbGF5ZXJzIHdpdGggaW50ZXJzZWN0aW9uc1xuICAgICAgLmZpbHRlcigobCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGxpbmVJbnRlciA9XG4gICAgICAgICAgICAhIWxpbmVJbnRlcnNlY3QobGF5ZXIudG9HZW9KU09OKDE1KSwgbC50b0dlb0pTT04oMTUpKS5mZWF0dXJlc1xuICAgICAgICAgICAgICAubGVuZ3RoID4gMDtcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGxpbmVJbnRlciB8fFxuICAgICAgICAgICAgKGwgaW5zdGFuY2VvZiBMLlBvbHlsaW5lICYmICEobCBpbnN0YW5jZW9mIEwuUG9seWdvbikpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gbGluZUludGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gISFpbnRlcnNlY3QobGF5ZXIudG9HZW9KU09OKDE1KSwgbC50b0dlb0pTT04oMTUpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmIChsIGluc3RhbmNlb2YgTC5Qb2x5Z29uKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIllvdSBjYW4ndCBjdXQgcG9seWdvbnMgd2l0aCBzZWxmLWludGVyc2VjdGlvbnNcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAvLyBsb29wIHRocm91Z2ggYWxsIGxheWVycyB0aGF0IGludGVyc2VjdCB3aXRoIHRoZSBkcmF3biAoY3V0dGluZykgbGF5ZXJcbiAgICBsYXllcnMuZm9yRWFjaCgobCkgPT4ge1xuICAgICAgbGV0IG5ld0xheWVyO1xuICAgICAgaWYgKGwgaW5zdGFuY2VvZiBMLlBvbHlnb24pIHtcbiAgICAgICAgLy8gQWxzbyBmb3IgTC5SZWN0YW5nbGVcbiAgICAgICAgLy8gZWFzaWVzdCB3YXkgdG8gY2xvbmUgdGhlIGNvbXBsZXRlIGxhdGxuZ3Mgd2l0aG91dCByZWZlcmVuY2VcbiAgICAgICAgbmV3TGF5ZXIgPSBMLnBvbHlnb24obC5nZXRMYXRMbmdzKCkpO1xuICAgICAgICBjb25zdCBjb29yZHMgPSBuZXdMYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICAgICAgLy8gc25hcHBpbmcgcG9pbnRzIGFkZGVkIHRvIHRoZSBsYXllciwgc28gYm9yZGVycyBhcmUgY3V0dGVkIGNvcnJlY3RcbiAgICAgICAgX2xhdGxuZ0luZm9zLmZvckVhY2goKGluZm8pID0+IHtcbiAgICAgICAgICBpZiAoaW5mbyAmJiBpbmZvLnNuYXBJbmZvKSB7XG4gICAgICAgICAgICBjb25zdCB7IGxhdGxuZyB9ID0gaW5mbztcbiAgICAgICAgICAgIC8vIGdldCBjbG9zZXN0IGxheWVyICggPT0gaW5wdXQgbGF5ZXIpIHdpdGggdGhlIGNsb3Nlc3Qgc2VnbWVudCB0byB0aGUgaW50ZXJzZWN0aW9uIHBvaW50XG4gICAgICAgICAgICBjb25zdCBjbG9zZXN0ID0gdGhpcy5fY2FsY0Nsb3Nlc3RMYXllcihsYXRsbmcsIFtuZXdMYXllcl0pO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjbG9zZXN0ICYmXG4gICAgICAgICAgICAgIGNsb3Nlc3Quc2VnbWVudCAmJlxuICAgICAgICAgICAgICBjbG9zZXN0LmRpc3RhbmNlIDwgdGhpcy5vcHRpb25zLnNuYXBEaXN0YW5jZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgc2VnbWVudCB9ID0gY2xvc2VzdDtcbiAgICAgICAgICAgICAgaWYgKHNlZ21lbnQgJiYgc2VnbWVudC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGluZGV4UGF0aCwgcGFyZW50UGF0aCwgbmV3SW5kZXggfSA9XG4gICAgICAgICAgICAgICAgICBMLlBNLlV0aWxzLl9nZXRJbmRleEZyb21TZWdtZW50KGNvb3Jkcywgc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgLy8gZGVmaW5lIHRoZSBjb29yZHNSaW5nIHRoYXQgaXMgZWRpdGVkXG4gICAgICAgICAgICAgICAgY29uc3QgY29vcmRzUmluZyA9XG4gICAgICAgICAgICAgICAgICBpbmRleFBhdGgubGVuZ3RoID4gMSA/IGdldChjb29yZHMsIHBhcmVudFBhdGgpIDogY29vcmRzO1xuICAgICAgICAgICAgICAgIGNvb3Jkc1Jpbmcuc3BsaWNlKG5ld0luZGV4LCAwLCBsYXRsbmcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEwuUG9seWxpbmVcbiAgICAgICAgbmV3TGF5ZXIgPSBsO1xuICAgICAgfVxuXG4gICAgICAvLyBmaW5kIGxheWVyIGRpZmZlcmVuY2VcbiAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLl9jdXRMYXllcihsYXllciwgbmV3TGF5ZXIpO1xuXG4gICAgICAvLyB0aGUgcmVzdWx0aW5nIGxheWVyIGFmdGVyIHRoZSBjdXRcbiAgICAgIGxldCByZXN1bHRMYXllciA9IEwuZ2VvSlNPTihkaWZmLCBsLm9wdGlvbnMpO1xuICAgICAgaWYgKHJlc3VsdExheWVyLmdldExheWVycygpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBbcmVzdWx0TGF5ZXJdID0gcmVzdWx0TGF5ZXIuZ2V0TGF5ZXJzKCk7IC8vIHByZXZlbnQgdGhhdCBhIHVubmVjZXNzYXJ5IGxheWVyZ3JvdXAgaXMgY3JlYXRlZFxuICAgICAgfVxuICAgICAgdGhpcy5fc2V0UGFuZShyZXN1bHRMYXllciwgJ2xheWVyUGFuZScpO1xuICAgICAgY29uc3QgcmVzdWx0aW5nTGF5ZXIgPSByZXN1bHRMYXllci5hZGRUbyhcbiAgICAgICAgdGhpcy5fbWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKVxuICAgICAgKTtcbiAgICAgIC8vIGdpdmUgdGhlIG5ldyBsYXllciB0aGUgb3JpZ2luYWwgb3B0aW9uc1xuICAgICAgcmVzdWx0aW5nTGF5ZXIucG0uZW5hYmxlKGwucG0ub3B0aW9ucyk7XG4gICAgICByZXN1bHRpbmdMYXllci5wbS5kaXNhYmxlKCk7XG5cbiAgICAgIC8vIGFkZCB0ZW1wbGF5ZXIgcHJvcCBzbyBwbTpyZW1vdmUgaXNuJ3QgZmlyZWRcbiAgICAgIGwuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICAgIGxheWVyLl9wbVRlbXBMYXllciA9IHRydWU7XG5cbiAgICAgIC8vIHJlbW92ZSBvbGQgbGF5ZXIgYW5kIGN1dHRpbmcgbGF5ZXJcbiAgICAgIGwucmVtb3ZlKCk7XG4gICAgICBsLnJlbW92ZUZyb20odGhpcy5fbWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG4gICAgICBsYXllci5yZW1vdmUoKTtcbiAgICAgIGxheWVyLnJlbW92ZUZyb20odGhpcy5fbWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG5cbiAgICAgIC8vIFJlbW92ZSBpdCBvbmx5IGlmIGl0IGlzIGEgbGF5ZXJncm91cC4gSXQgY2FuIGJlIG9ubHkgbm90IGEgbGF5ZXJncm91cCBpZiBhIGxheWVyIGV4aXN0c1xuICAgICAgaWYgKHJlc3VsdGluZ0xheWVyLmdldExheWVycyAmJiByZXN1bHRpbmdMYXllci5nZXRMYXllcnMoKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5fbWFwLnBtLnJlbW92ZUxheWVyKHsgdGFyZ2V0OiByZXN1bHRpbmdMYXllciB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3VsdGluZ0xheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICAgIHJlc3VsdGluZ0xheWVyLmVhY2hMYXllcigoX2xheWVyKSA9PiB7XG4gICAgICAgICAgdGhpcy5fYWRkRHJhd25MYXllclByb3AoX2xheWVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2FkZERyYXduTGF5ZXJQcm9wKHJlc3VsdGluZ0xheWVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FkZERyYXduTGF5ZXJQcm9wKHJlc3VsdGluZ0xheWVyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLm9wdGlvbnMubGF5ZXJzVG9DdXQgJiZcbiAgICAgICAgTC5VdGlsLmlzQXJyYXkodGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0KSAmJlxuICAgICAgICB0aGlzLm9wdGlvbnMubGF5ZXJzVG9DdXQubGVuZ3RoID4gMFxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMub3B0aW9ucy5sYXllcnNUb0N1dC5pbmRleE9mKGwpO1xuICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMubGF5ZXJzVG9DdXQuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5fZWRpdGVkTGF5ZXJzLnB1c2goe1xuICAgICAgICBsYXllcjogcmVzdWx0aW5nTGF5ZXIsXG4gICAgICAgIG9yaWdpbmFsTGF5ZXI6IGwsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbiAgX2N1dExheWVyKGxheWVyLCBsKSB7XG4gICAgY29uc3QgZmcgPSBMLmdlb0pTT04oKTtcbiAgICBsZXQgZGlmZjtcbiAgICAvLyBjdXRcbiAgICBpZiAobCBpbnN0YW5jZW9mIEwuUG9seWdvbikge1xuICAgICAgLy8gZmluZCBsYXllciBkaWZmZXJlbmNlXG4gICAgICBkaWZmID0gZGlmZmVyZW5jZShsLnRvR2VvSlNPTigxNSksIGxheWVyLnRvR2VvSlNPTigxNSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmZWF0dXJlcyA9IGZsYXR0ZW5Qb2x5bGluZShsKTtcblxuICAgICAgZmVhdHVyZXMuZm9yRWFjaCgoZmVhdHVyZSkgPT4ge1xuICAgICAgICAvLyBnZXQgc3BsaXR0ZWQgbGluZSB0byBsb29rIHdoaWNoIGxpbmUgcGFydCBpcyBjb3ZlcmQgYnkgdGhlIGN1dCBwb2x5Z29uXG4gICAgICAgIGNvbnN0IGxpbmVEaWZmID0gbGluZVNwbGl0KGZlYXR1cmUsIGxheWVyLnRvR2VvSlNPTigxNSkpO1xuXG4gICAgICAgIGxldCBncm91cDtcbiAgICAgICAgaWYgKGxpbmVEaWZmICYmIGxpbmVEaWZmLmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBncm91cCA9IEwuZ2VvSlNPTihsaW5lRGlmZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ3JvdXAgPSBMLmdlb0pTT04oZmVhdHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICBncm91cC5nZXRMYXllcnMoKS5mb3JFYWNoKChsYXkpID0+IHtcbiAgICAgICAgICAvLyBhZGQgb25seSBwYXJ0cyB0byB0aGUgbWFwLCB0aGV5IGFyZSBub3QgY292ZXJlZCBieSB0aGUgY3V0IHBvbHlnb25cbiAgICAgICAgICBpZiAoIWJvb2xlYW5Db250YWlucyhsYXllci50b0dlb0pTT04oMTUpLCBsYXkudG9HZW9KU09OKDE1KSkpIHtcbiAgICAgICAgICAgIGxheS5hZGRUbyhmZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZmVhdHVyZXMubGVuZ3RoID4gMSkge1xuICAgICAgICBkaWZmID0gZ3JvdXBUb011bHRpTGluZVN0cmluZyhmZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaWZmID0gZmcudG9HZW9KU09OKDE1KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpZmY7XG4gIH0sXG4gIF9jaGFuZ2U6IEwuVXRpbC5mYWxzZUZuLFxufSk7XG4iLCAiZXhwb3J0IGRlZmF1bHQgKHgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICByZXR1cm4geDtcbiAgICB9O1xufTtcbiIsICJpbXBvcnQgY29uc3RhbnQgZnJvbSBcIi4vY29uc3RhbnQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IChlcHMpID0+IHtcbiAgICBjb25zdCBhbG1vc3RFcXVhbCA9IGVwcyA/IChhLCBiKSA9PiBiLm1pbnVzKGEpLmFicygpLmlzTGVzc1RoYW5PckVxdWFsVG8oZXBzKVxuICAgICAgICA6IGNvbnN0YW50KGZhbHNlKTtcbiAgICByZXR1cm4gKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKGFsbW9zdEVxdWFsKGEsIGIpKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIHJldHVybiBhLmNvbXBhcmVkVG8oYik7XG4gICAgfTtcbn07XG4iLCAiaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZXBzKSB7XG4gICAgY29uc3QgYWxtb3N0Q29sbGluZWFyID0gZXBzID8gKGFyZWEyLCBheCwgYXksIGN4LCBjeSkgPT4gYXJlYTIuZXhwb25lbnRpYXRlZEJ5KDIpLmlzTGVzc1RoYW5PckVxdWFsVG8oY3gubWludXMoYXgpLmV4cG9uZW50aWF0ZWRCeSgyKS5wbHVzKGN5Lm1pbnVzKGF5KS5leHBvbmVudGlhdGVkQnkoMikpXG4gICAgICAgIC50aW1lcyhlcHMpKVxuICAgICAgICA6IGNvbnN0YW50KGZhbHNlKTtcbiAgICByZXR1cm4gKGEsIGIsIGMpID0+IHtcbiAgICAgICAgY29uc3QgYXggPSBhLngsIGF5ID0gYS55LCBjeCA9IGMueCwgY3kgPSBjLnk7XG4gICAgICAgIGNvbnN0IGFyZWEyID0gYXkubWludXMoY3kpLnRpbWVzKGIueC5taW51cyhjeCkpLm1pbnVzKGF4Lm1pbnVzKGN4KS50aW1lcyhiLnkubWludXMoY3kpKSk7XG4gICAgICAgIGlmIChhbG1vc3RDb2xsaW5lYXIoYXJlYTIsIGF4LCBheSwgY3gsIGN5KSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gYXJlYTIuY29tcGFyZWRUbygwKTtcbiAgICB9O1xufVxuIiwgIi8qXHJcbiAqICAgICAgYmlnbnVtYmVyLmpzIHY5LjEuMlxyXG4gKiAgICAgIEEgSmF2YVNjcmlwdCBsaWJyYXJ5IGZvciBhcmJpdHJhcnktcHJlY2lzaW9uIGFyaXRobWV0aWMuXHJcbiAqICAgICAgaHR0cHM6Ly9naXRodWIuY29tL01pa2VNY2wvYmlnbnVtYmVyLmpzXHJcbiAqICAgICAgQ29weXJpZ2h0IChjKSAyMDIyIE1pY2hhZWwgTWNsYXVnaGxpbiA8TThjaDg4bEBnbWFpbC5jb20+XHJcbiAqICAgICAgTUlUIExpY2Vuc2VkLlxyXG4gKlxyXG4gKiAgICAgIEJpZ051bWJlci5wcm90b3R5cGUgbWV0aG9kcyAgICAgfCAgQmlnTnVtYmVyIG1ldGhvZHNcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBhYnNvbHV0ZVZhbHVlICAgICAgICAgICAgYWJzICAgIHwgIGNsb25lXHJcbiAqICAgICAgY29tcGFyZWRUbyAgICAgICAgICAgICAgICAgICAgICB8ICBjb25maWcgICAgICAgICAgICAgICBzZXRcclxuICogICAgICBkZWNpbWFsUGxhY2VzICAgICAgICAgICAgZHAgICAgIHwgICAgICBERUNJTUFMX1BMQUNFU1xyXG4gKiAgICAgIGRpdmlkZWRCeSAgICAgICAgICAgICAgICBkaXYgICAgfCAgICAgIFJPVU5ESU5HX01PREVcclxuICogICAgICBkaXZpZGVkVG9JbnRlZ2VyQnkgICAgICAgaWRpdiAgIHwgICAgICBFWFBPTkVOVElBTF9BVFxyXG4gKiAgICAgIGV4cG9uZW50aWF0ZWRCeSAgICAgICAgICBwb3cgICAgfCAgICAgIFJBTkdFXHJcbiAqICAgICAgaW50ZWdlclZhbHVlICAgICAgICAgICAgICAgICAgICB8ICAgICAgQ1JZUFRPXHJcbiAqICAgICAgaXNFcXVhbFRvICAgICAgICAgICAgICAgIGVxICAgICB8ICAgICAgTU9EVUxPX01PREVcclxuICogICAgICBpc0Zpbml0ZSAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICBQT1dfUFJFQ0lTSU9OXHJcbiAqICAgICAgaXNHcmVhdGVyVGhhbiAgICAgICAgICAgIGd0ICAgICB8ICAgICAgRk9STUFUXHJcbiAqICAgICAgaXNHcmVhdGVyVGhhbk9yRXF1YWxUbyAgIGd0ZSAgICB8ICAgICAgQUxQSEFCRVRcclxuICogICAgICBpc0ludGVnZXIgICAgICAgICAgICAgICAgICAgICAgIHwgIGlzQmlnTnVtYmVyXHJcbiAqICAgICAgaXNMZXNzVGhhbiAgICAgICAgICAgICAgIGx0ICAgICB8ICBtYXhpbXVtICAgICAgICAgICAgICBtYXhcclxuICogICAgICBpc0xlc3NUaGFuT3JFcXVhbFRvICAgICAgbHRlICAgIHwgIG1pbmltdW0gICAgICAgICAgICAgIG1pblxyXG4gKiAgICAgIGlzTmFOICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgcmFuZG9tXHJcbiAqICAgICAgaXNOZWdhdGl2ZSAgICAgICAgICAgICAgICAgICAgICB8ICBzdW1cclxuICogICAgICBpc1Bvc2l0aXZlICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBpc1plcm8gICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBtaW51cyAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBtb2R1bG8gICAgICAgICAgICAgICAgICAgbW9kICAgIHxcclxuICogICAgICBtdWx0aXBsaWVkQnkgICAgICAgICAgICAgdGltZXMgIHxcclxuICogICAgICBuZWdhdGVkICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBwbHVzICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBwcmVjaXNpb24gICAgICAgICAgICAgICAgc2QgICAgIHxcclxuICogICAgICBzaGlmdGVkQnkgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICBzcXVhcmVSb290ICAgICAgICAgICAgICAgc3FydCAgIHxcclxuICogICAgICB0b0V4cG9uZW50aWFsICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b0ZpeGVkICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b0Zvcm1hdCAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b0ZyYWN0aW9uICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b0pTT04gICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b051bWJlciAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b1ByZWNpc2lvbiAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB0b1N0cmluZyAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogICAgICB2YWx1ZU9mICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICpcclxuICovXHJcblxyXG5cclxudmFyXHJcbiAgaXNOdW1lcmljID0gL14tPyg/OlxcZCsoPzpcXC5cXGQqKT98XFwuXFxkKykoPzplWystXT9cXGQrKT8kL2ksXHJcbiAgbWF0aGNlaWwgPSBNYXRoLmNlaWwsXHJcbiAgbWF0aGZsb29yID0gTWF0aC5mbG9vcixcclxuXHJcbiAgYmlnbnVtYmVyRXJyb3IgPSAnW0JpZ051bWJlciBFcnJvcl0gJyxcclxuICB0b29NYW55RGlnaXRzID0gYmlnbnVtYmVyRXJyb3IgKyAnTnVtYmVyIHByaW1pdGl2ZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czogJyxcclxuXHJcbiAgQkFTRSA9IDFlMTQsXHJcbiAgTE9HX0JBU0UgPSAxNCxcclxuICBNQVhfU0FGRV9JTlRFR0VSID0gMHgxZmZmZmZmZmZmZmZmZiwgICAgICAgICAvLyAyXjUzIC0gMVxyXG4gIC8vIE1BWF9JTlQzMiA9IDB4N2ZmZmZmZmYsICAgICAgICAgICAgICAgICAgIC8vIDJeMzEgLSAxXHJcbiAgUE9XU19URU4gPSBbMSwgMTAsIDEwMCwgMWUzLCAxZTQsIDFlNSwgMWU2LCAxZTcsIDFlOCwgMWU5LCAxZTEwLCAxZTExLCAxZTEyLCAxZTEzXSxcclxuICBTUVJUX0JBU0UgPSAxZTcsXHJcblxyXG4gIC8vIEVESVRBQkxFXHJcbiAgLy8gVGhlIGxpbWl0IG9uIHRoZSB2YWx1ZSBvZiBERUNJTUFMX1BMQUNFUywgVE9fRVhQX05FRywgVE9fRVhQX1BPUywgTUlOX0VYUCwgTUFYX0VYUCwgYW5kXHJcbiAgLy8gdGhlIGFyZ3VtZW50cyB0byB0b0V4cG9uZW50aWFsLCB0b0ZpeGVkLCB0b0Zvcm1hdCwgYW5kIHRvUHJlY2lzaW9uLlxyXG4gIE1BWCA9IDFFOTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gTUFYX0lOVDMyXHJcblxyXG5cclxuLypcclxuICogQ3JlYXRlIGFuZCByZXR1cm4gYSBCaWdOdW1iZXIgY29uc3RydWN0b3IuXHJcbiAqL1xyXG5mdW5jdGlvbiBjbG9uZShjb25maWdPYmplY3QpIHtcclxuICB2YXIgZGl2LCBjb252ZXJ0QmFzZSwgcGFyc2VOdW1lcmljLFxyXG4gICAgUCA9IEJpZ051bWJlci5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBCaWdOdW1iZXIsIHRvU3RyaW5nOiBudWxsLCB2YWx1ZU9mOiBudWxsIH0sXHJcbiAgICBPTkUgPSBuZXcgQmlnTnVtYmVyKDEpLFxyXG5cclxuXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVESVRBQkxFIENPTkZJRyBERUZBVUxUUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cclxuICAgIC8vIFRoZSBkZWZhdWx0IHZhbHVlcyBiZWxvdyBtdXN0IGJlIGludGVnZXJzIHdpdGhpbiB0aGUgaW5jbHVzaXZlIHJhbmdlcyBzdGF0ZWQuXHJcbiAgICAvLyBUaGUgdmFsdWVzIGNhbiBhbHNvIGJlIGNoYW5nZWQgYXQgcnVuLXRpbWUgdXNpbmcgQmlnTnVtYmVyLnNldC5cclxuXHJcbiAgICAvLyBUaGUgbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgZm9yIG9wZXJhdGlvbnMgaW52b2x2aW5nIGRpdmlzaW9uLlxyXG4gICAgREVDSU1BTF9QTEFDRVMgPSAyMCwgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIE1BWFxyXG5cclxuICAgIC8vIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiByb3VuZGluZyB0byB0aGUgYWJvdmUgZGVjaW1hbCBwbGFjZXMsIGFuZCB3aGVuIHVzaW5nXHJcbiAgICAvLyB0b0V4cG9uZW50aWFsLCB0b0ZpeGVkLCB0b0Zvcm1hdCBhbmQgdG9QcmVjaXNpb24sIGFuZCByb3VuZCAoZGVmYXVsdCB2YWx1ZSkuXHJcbiAgICAvLyBVUCAgICAgICAgIDAgQXdheSBmcm9tIHplcm8uXHJcbiAgICAvLyBET1dOICAgICAgIDEgVG93YXJkcyB6ZXJvLlxyXG4gICAgLy8gQ0VJTCAgICAgICAyIFRvd2FyZHMgK0luZmluaXR5LlxyXG4gICAgLy8gRkxPT1IgICAgICAzIFRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgLy8gSEFMRl9VUCAgICA0IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB1cC5cclxuICAgIC8vIEhBTEZfRE9XTiAgNSBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgZG93bi5cclxuICAgIC8vIEhBTEZfRVZFTiAgNiBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyBldmVuIG5laWdoYm91ci5cclxuICAgIC8vIEhBTEZfQ0VJTCAgNyBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAvLyBIQUxGX0ZMT09SIDggVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgUk9VTkRJTkdfTU9ERSA9IDQsICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDhcclxuXHJcbiAgICAvLyBFWFBPTkVOVElBTF9BVCA6IFtUT19FWFBfTkVHICwgVE9fRVhQX1BPU11cclxuXHJcbiAgICAvLyBUaGUgZXhwb25lbnQgdmFsdWUgYXQgYW5kIGJlbmVhdGggd2hpY2ggdG9TdHJpbmcgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgIC8vIE51bWJlciB0eXBlOiAtN1xyXG4gICAgVE9fRVhQX05FRyA9IC03LCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIC1NQVhcclxuXHJcbiAgICAvLyBUaGUgZXhwb25lbnQgdmFsdWUgYXQgYW5kIGFib3ZlIHdoaWNoIHRvU3RyaW5nIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAvLyBOdW1iZXIgdHlwZTogMjFcclxuICAgIFRPX0VYUF9QT1MgPSAyMSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcclxuXHJcbiAgICAvLyBSQU5HRSA6IFtNSU5fRVhQLCBNQVhfRVhQXVxyXG5cclxuICAgIC8vIFRoZSBtaW5pbXVtIGV4cG9uZW50IHZhbHVlLCBiZW5lYXRoIHdoaWNoIHVuZGVyZmxvdyB0byB6ZXJvIG9jY3Vycy5cclxuICAgIC8vIE51bWJlciB0eXBlOiAtMzI0ICAoNWUtMzI0KVxyXG4gICAgTUlOX0VYUCA9IC0xZTcsICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtMSB0byAtTUFYXHJcblxyXG4gICAgLy8gVGhlIG1heGltdW0gZXhwb25lbnQgdmFsdWUsIGFib3ZlIHdoaWNoIG92ZXJmbG93IHRvIEluZmluaXR5IG9jY3Vycy5cclxuICAgIC8vIE51bWJlciB0eXBlOiAgMzA4ICAoMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpXHJcbiAgICAvLyBGb3IgTUFYX0VYUCA+IDFlNywgZS5nLiBuZXcgQmlnTnVtYmVyKCcxZTEwMDAwMDAwMCcpLnBsdXMoMSkgbWF5IGJlIHNsb3cuXHJcbiAgICBNQVhfRVhQID0gMWU3LCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEgdG8gTUFYXHJcblxyXG4gICAgLy8gV2hldGhlciB0byB1c2UgY3J5cHRvZ3JhcGhpY2FsbHktc2VjdXJlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdGlvbiwgaWYgYXZhaWxhYmxlLlxyXG4gICAgQ1JZUFRPID0gZmFsc2UsICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlIG9yIGZhbHNlXHJcblxyXG4gICAgLy8gVGhlIG1vZHVsbyBtb2RlIHVzZWQgd2hlbiBjYWxjdWxhdGluZyB0aGUgbW9kdWx1czogYSBtb2Qgbi5cclxuICAgIC8vIFRoZSBxdW90aWVudCAocSA9IGEgLyBuKSBpcyBjYWxjdWxhdGVkIGFjY29yZGluZyB0byB0aGUgY29ycmVzcG9uZGluZyByb3VuZGluZyBtb2RlLlxyXG4gICAgLy8gVGhlIHJlbWFpbmRlciAocikgaXMgY2FsY3VsYXRlZCBhczogciA9IGEgLSBuICogcS5cclxuICAgIC8vXHJcbiAgICAvLyBVUCAgICAgICAgMCBUaGUgcmVtYWluZGVyIGlzIHBvc2l0aXZlIGlmIHRoZSBkaXZpZGVuZCBpcyBuZWdhdGl2ZSwgZWxzZSBpcyBuZWdhdGl2ZS5cclxuICAgIC8vIERPV04gICAgICAxIFRoZSByZW1haW5kZXIgaGFzIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlkZW5kLlxyXG4gICAgLy8gICAgICAgICAgICAgVGhpcyBtb2R1bG8gbW9kZSBpcyBjb21tb25seSBrbm93biBhcyAndHJ1bmNhdGVkIGRpdmlzaW9uJyBhbmQgaXNcclxuICAgIC8vICAgICAgICAgICAgIGVxdWl2YWxlbnQgdG8gKGEgJSBuKSBpbiBKYXZhU2NyaXB0LlxyXG4gICAgLy8gRkxPT1IgICAgIDMgVGhlIHJlbWFpbmRlciBoYXMgdGhlIHNhbWUgc2lnbiBhcyB0aGUgZGl2aXNvciAoUHl0aG9uICUpLlxyXG4gICAgLy8gSEFMRl9FVkVOIDYgVGhpcyBtb2R1bG8gbW9kZSBpbXBsZW1lbnRzIHRoZSBJRUVFIDc1NCByZW1haW5kZXIgZnVuY3Rpb24uXHJcbiAgICAvLyBFVUNMSUQgICAgOSBFdWNsaWRpYW4gZGl2aXNpb24uIHEgPSBzaWduKG4pICogZmxvb3IoYSAvIGFicyhuKSkuXHJcbiAgICAvLyAgICAgICAgICAgICBUaGUgcmVtYWluZGVyIGlzIGFsd2F5cyBwb3NpdGl2ZS5cclxuICAgIC8vXHJcbiAgICAvLyBUaGUgdHJ1bmNhdGVkIGRpdmlzaW9uLCBmbG9vcmVkIGRpdmlzaW9uLCBFdWNsaWRpYW4gZGl2aXNpb24gYW5kIElFRUUgNzU0IHJlbWFpbmRlclxyXG4gICAgLy8gbW9kZXMgYXJlIGNvbW1vbmx5IHVzZWQgZm9yIHRoZSBtb2R1bHVzIG9wZXJhdGlvbi5cclxuICAgIC8vIEFsdGhvdWdoIHRoZSBvdGhlciByb3VuZGluZyBtb2RlcyBjYW4gYWxzbyBiZSB1c2VkLCB0aGV5IG1heSBub3QgZ2l2ZSB1c2VmdWwgcmVzdWx0cy5cclxuICAgIE1PRFVMT19NT0RFID0gMSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA5XHJcblxyXG4gICAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiB0aGUgcmVzdWx0IG9mIHRoZSBleHBvbmVudGlhdGVkQnkgb3BlcmF0aW9uLlxyXG4gICAgLy8gSWYgUE9XX1BSRUNJU0lPTiBpcyAwLCB0aGVyZSB3aWxsIGJlIHVubGltaXRlZCBzaWduaWZpY2FudCBkaWdpdHMuXHJcbiAgICBQT1dfUFJFQ0lTSU9OID0gMCwgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gTUFYXHJcblxyXG4gICAgLy8gVGhlIGZvcm1hdCBzcGVjaWZpY2F0aW9uIHVzZWQgYnkgdGhlIEJpZ051bWJlci5wcm90b3R5cGUudG9Gb3JtYXQgbWV0aG9kLlxyXG4gICAgRk9STUFUID0ge1xyXG4gICAgICBwcmVmaXg6ICcnLFxyXG4gICAgICBncm91cFNpemU6IDMsXHJcbiAgICAgIHNlY29uZGFyeUdyb3VwU2l6ZTogMCxcclxuICAgICAgZ3JvdXBTZXBhcmF0b3I6ICcsJyxcclxuICAgICAgZGVjaW1hbFNlcGFyYXRvcjogJy4nLFxyXG4gICAgICBmcmFjdGlvbkdyb3VwU2l6ZTogMCxcclxuICAgICAgZnJhY3Rpb25Hcm91cFNlcGFyYXRvcjogJ1xceEEwJywgICAgICAgIC8vIG5vbi1icmVha2luZyBzcGFjZVxyXG4gICAgICBzdWZmaXg6ICcnXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFRoZSBhbHBoYWJldCB1c2VkIGZvciBiYXNlIGNvbnZlcnNpb24uIEl0IG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzIGxvbmcsIHdpdGggbm8gJysnLFxyXG4gICAgLy8gJy0nLCAnLicsIHdoaXRlc3BhY2UsIG9yIHJlcGVhdGVkIGNoYXJhY3Rlci5cclxuICAgIC8vICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiRfJ1xyXG4gICAgQUxQSEFCRVQgPSAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JyxcclxuICAgIGFscGhhYmV0SGFzTm9ybWFsRGVjaW1hbERpZ2l0cyA9IHRydWU7XHJcblxyXG5cclxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHJcbiAgLy8gQ09OU1RSVUNUT1JcclxuXHJcblxyXG4gIC8qXHJcbiAgICogVGhlIEJpZ051bWJlciBjb25zdHJ1Y3RvciBhbmQgZXhwb3J0ZWQgZnVuY3Rpb24uXHJcbiAgICogQ3JlYXRlIGFuZCByZXR1cm4gYSBuZXcgaW5zdGFuY2Ugb2YgYSBCaWdOdW1iZXIgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogdiB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9IEEgbnVtZXJpYyB2YWx1ZS5cclxuICAgKiBbYl0ge251bWJlcn0gVGhlIGJhc2Ugb2Ygdi4gSW50ZWdlciwgMiB0byBBTFBIQUJFVC5sZW5ndGggaW5jbHVzaXZlLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIEJpZ051bWJlcih2LCBiKSB7XHJcbiAgICB2YXIgYWxwaGFiZXQsIGMsIGNhc2VDaGFuZ2VkLCBlLCBpLCBpc051bSwgbGVuLCBzdHIsXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIC8vIEVuYWJsZSBjb25zdHJ1Y3RvciBjYWxsIHdpdGhvdXQgYG5ld2AuXHJcbiAgICBpZiAoISh4IGluc3RhbmNlb2YgQmlnTnVtYmVyKSkgcmV0dXJuIG5ldyBCaWdOdW1iZXIodiwgYik7XHJcblxyXG4gICAgaWYgKGIgPT0gbnVsbCkge1xyXG5cclxuICAgICAgaWYgKHYgJiYgdi5faXNCaWdOdW1iZXIgPT09IHRydWUpIHtcclxuICAgICAgICB4LnMgPSB2LnM7XHJcblxyXG4gICAgICAgIGlmICghdi5jIHx8IHYuZSA+IE1BWF9FWFApIHtcclxuICAgICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2LmUgPCBNSU5fRVhQKSB7XHJcbiAgICAgICAgICB4LmMgPSBbeC5lID0gMF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHguZSA9IHYuZTtcclxuICAgICAgICAgIHguYyA9IHYuYy5zbGljZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoKGlzTnVtID0gdHlwZW9mIHYgPT0gJ251bWJlcicpICYmIHYgKiAwID09IDApIHtcclxuXHJcbiAgICAgICAgLy8gVXNlIGAxIC8gbmAgdG8gaGFuZGxlIG1pbnVzIHplcm8gYWxzby5cclxuICAgICAgICB4LnMgPSAxIC8gdiA8IDAgPyAodiA9IC12LCAtMSkgOiAxO1xyXG5cclxuICAgICAgICAvLyBGYXN0IHBhdGggZm9yIGludGVnZXJzLCB3aGVyZSBuIDwgMjE0NzQ4MzY0OCAoMioqMzEpLlxyXG4gICAgICAgIGlmICh2ID09PSB+fnYpIHtcclxuICAgICAgICAgIGZvciAoZSA9IDAsIGkgPSB2OyBpID49IDEwOyBpIC89IDEwLCBlKyspO1xyXG5cclxuICAgICAgICAgIGlmIChlID4gTUFYX0VYUCkge1xyXG4gICAgICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeC5lID0gZTtcclxuICAgICAgICAgICAgeC5jID0gW3ZdO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0ciA9IFN0cmluZyh2KTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgaWYgKCFpc051bWVyaWMudGVzdChzdHIgPSBTdHJpbmcodikpKSByZXR1cm4gcGFyc2VOdW1lcmljKHgsIHN0ciwgaXNOdW0pO1xyXG5cclxuICAgICAgICB4LnMgPSBzdHIuY2hhckNvZGVBdCgwKSA9PSA0NSA/IChzdHIgPSBzdHIuc2xpY2UoMSksIC0xKSA6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERlY2ltYWwgcG9pbnQ/XHJcbiAgICAgIGlmICgoZSA9IHN0ci5pbmRleE9mKCcuJykpID4gLTEpIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG5cclxuICAgICAgLy8gRXhwb25lbnRpYWwgZm9ybT9cclxuICAgICAgaWYgKChpID0gc3RyLnNlYXJjaCgvZS9pKSkgPiAwKSB7XHJcblxyXG4gICAgICAgIC8vIERldGVybWluZSBleHBvbmVudC5cclxuICAgICAgICBpZiAoZSA8IDApIGUgPSBpO1xyXG4gICAgICAgIGUgKz0gK3N0ci5zbGljZShpICsgMSk7XHJcbiAgICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG5cclxuICAgICAgICAvLyBJbnRlZ2VyLlxyXG4gICAgICAgIGUgPSBzdHIubGVuZ3RoO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBCYXNlIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtifSdcclxuICAgICAgaW50Q2hlY2soYiwgMiwgQUxQSEFCRVQubGVuZ3RoLCAnQmFzZScpO1xyXG5cclxuICAgICAgLy8gQWxsb3cgZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYmUgdXNlZCB3aXRoIGJhc2UgMTAgYXJndW1lbnQsIHdoaWxlXHJcbiAgICAgIC8vIGFsc28gcm91bmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYXMgd2l0aCBvdGhlciBiYXNlcy5cclxuICAgICAgaWYgKGIgPT0gMTAgJiYgYWxwaGFiZXRIYXNOb3JtYWxEZWNpbWFsRGlnaXRzKSB7XHJcbiAgICAgICAgeCA9IG5ldyBCaWdOdW1iZXIodik7XHJcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgsIERFQ0lNQUxfUExBQ0VTICsgeC5lICsgMSwgUk9VTkRJTkdfTU9ERSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN0ciA9IFN0cmluZyh2KTtcclxuXHJcbiAgICAgIGlmIChpc051bSA9IHR5cGVvZiB2ID09ICdudW1iZXInKSB7XHJcblxyXG4gICAgICAgIC8vIEF2b2lkIHBvdGVudGlhbCBpbnRlcnByZXRhdGlvbiBvZiBJbmZpbml0eSBhbmQgTmFOIGFzIGJhc2UgNDQrIHZhbHVlcy5cclxuICAgICAgICBpZiAodiAqIDAgIT0gMCkgcmV0dXJuIHBhcnNlTnVtZXJpYyh4LCBzdHIsIGlzTnVtLCBiKTtcclxuXHJcbiAgICAgICAgeC5zID0gMSAvIHYgPCAwID8gKHN0ciA9IHN0ci5zbGljZSgxKSwgLTEpIDogMTtcclxuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE51bWJlciBwcmltaXRpdmUgaGFzIG1vcmUgdGhhbiAxNSBzaWduaWZpY2FudCBkaWdpdHM6IHtufSdcclxuICAgICAgICBpZiAoQmlnTnVtYmVyLkRFQlVHICYmIHN0ci5yZXBsYWNlKC9eMFxcLjAqfFxcLi8sICcnKS5sZW5ndGggPiAxNSkge1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAodG9vTWFueURpZ2l0cyArIHYpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB4LnMgPSBzdHIuY2hhckNvZGVBdCgwKSA9PT0gNDUgPyAoc3RyID0gc3RyLnNsaWNlKDEpLCAtMSkgOiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhbHBoYWJldCA9IEFMUEhBQkVULnNsaWNlKDAsIGIpO1xyXG4gICAgICBlID0gaSA9IDA7XHJcblxyXG4gICAgICAvLyBDaGVjayB0aGF0IHN0ciBpcyBhIHZhbGlkIGJhc2UgYiBudW1iZXIuXHJcbiAgICAgIC8vIERvbid0IHVzZSBSZWdFeHAsIHNvIGFscGhhYmV0IGNhbiBjb250YWluIHNwZWNpYWwgY2hhcmFjdGVycy5cclxuICAgICAgZm9yIChsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAoYWxwaGFiZXQuaW5kZXhPZihjID0gc3RyLmNoYXJBdChpKSkgPCAwKSB7XHJcbiAgICAgICAgICBpZiAoYyA9PSAnLicpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIElmICcuJyBpcyBub3QgdGhlIGZpcnN0IGNoYXJhY3RlciBhbmQgaXQgaGFzIG5vdCBiZSBmb3VuZCBiZWZvcmUuXHJcbiAgICAgICAgICAgIGlmIChpID4gZSkge1xyXG4gICAgICAgICAgICAgIGUgPSBsZW47XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSBpZiAoIWNhc2VDaGFuZ2VkKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBBbGxvdyBlLmcuIGhleGFkZWNpbWFsICdGRicgYXMgd2VsbCBhcyAnZmYnLlxyXG4gICAgICAgICAgICBpZiAoc3RyID09IHN0ci50b1VwcGVyQ2FzZSgpICYmIChzdHIgPSBzdHIudG9Mb3dlckNhc2UoKSkgfHxcclxuICAgICAgICAgICAgICAgIHN0ciA9PSBzdHIudG9Mb3dlckNhc2UoKSAmJiAoc3RyID0gc3RyLnRvVXBwZXJDYXNlKCkpKSB7XHJcbiAgICAgICAgICAgICAgY2FzZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGkgPSAtMTtcclxuICAgICAgICAgICAgICBlID0gMDtcclxuICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBwYXJzZU51bWVyaWMoeCwgU3RyaW5nKHYpLCBpc051bSwgYik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQcmV2ZW50IGxhdGVyIGNoZWNrIGZvciBsZW5ndGggb24gY29udmVydGVkIG51bWJlci5cclxuICAgICAgaXNOdW0gPSBmYWxzZTtcclxuICAgICAgc3RyID0gY29udmVydEJhc2Uoc3RyLCBiLCAxMCwgeC5zKTtcclxuXHJcbiAgICAgIC8vIERlY2ltYWwgcG9pbnQ/XHJcbiAgICAgIGlmICgoZSA9IHN0ci5pbmRleE9mKCcuJykpID4gLTEpIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICBlbHNlIGUgPSBzdHIubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGVybWluZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgZm9yIChpID0gMDsgc3RyLmNoYXJDb2RlQXQoaSkgPT09IDQ4OyBpKyspO1xyXG5cclxuICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAobGVuID0gc3RyLmxlbmd0aDsgc3RyLmNoYXJDb2RlQXQoLS1sZW4pID09PSA0ODspO1xyXG5cclxuICAgIGlmIChzdHIgPSBzdHIuc2xpY2UoaSwgKytsZW4pKSB7XHJcbiAgICAgIGxlbiAtPSBpO1xyXG5cclxuICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE51bWJlciBwcmltaXRpdmUgaGFzIG1vcmUgdGhhbiAxNSBzaWduaWZpY2FudCBkaWdpdHM6IHtufSdcclxuICAgICAgaWYgKGlzTnVtICYmIEJpZ051bWJlci5ERUJVRyAmJlxyXG4gICAgICAgIGxlbiA+IDE1ICYmICh2ID4gTUFYX1NBRkVfSU5URUdFUiB8fCB2ICE9PSBtYXRoZmxvb3IodikpKSB7XHJcbiAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICh0b29NYW55RGlnaXRzICsgKHgucyAqIHYpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgIC8vIE92ZXJmbG93P1xyXG4gICAgICBpZiAoKGUgPSBlIC0gaSAtIDEpID4gTUFYX0VYUCkge1xyXG5cclxuICAgICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG5cclxuICAgICAgLy8gVW5kZXJmbG93P1xyXG4gICAgICB9IGVsc2UgaWYgKGUgPCBNSU5fRVhQKSB7XHJcblxyXG4gICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgeC5jID0gW3guZSA9IDBdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgeC5jID0gW107XHJcblxyXG4gICAgICAgIC8vIFRyYW5zZm9ybSBiYXNlXHJcblxyXG4gICAgICAgIC8vIGUgaXMgdGhlIGJhc2UgMTAgZXhwb25lbnQuXHJcbiAgICAgICAgLy8gaSBpcyB3aGVyZSB0byBzbGljZSBzdHIgdG8gZ2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBjb2VmZmljaWVudCBhcnJheS5cclxuICAgICAgICBpID0gKGUgKyAxKSAlIExPR19CQVNFO1xyXG4gICAgICAgIGlmIChlIDwgMCkgaSArPSBMT0dfQkFTRTsgIC8vIGkgPCAxXHJcblxyXG4gICAgICAgIGlmIChpIDwgbGVuKSB7XHJcbiAgICAgICAgICBpZiAoaSkgeC5jLnB1c2goK3N0ci5zbGljZSgwLCBpKSk7XHJcblxyXG4gICAgICAgICAgZm9yIChsZW4gLT0gTE9HX0JBU0U7IGkgPCBsZW47KSB7XHJcbiAgICAgICAgICAgIHguYy5wdXNoKCtzdHIuc2xpY2UoaSwgaSArPSBMT0dfQkFTRSkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGkgPSBMT0dfQkFTRSAtIChzdHIgPSBzdHIuc2xpY2UoaSkpLmxlbmd0aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaSAtPSBsZW47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKDsgaS0tOyBzdHIgKz0gJzAnKTtcclxuICAgICAgICB4LmMucHVzaCgrc3RyKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIC8vIFplcm8uXHJcbiAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICAvLyBDT05TVFJVQ1RPUiBQUk9QRVJUSUVTXHJcblxyXG5cclxuICBCaWdOdW1iZXIuY2xvbmUgPSBjbG9uZTtcclxuXHJcbiAgQmlnTnVtYmVyLlJPVU5EX1VQID0gMDtcclxuICBCaWdOdW1iZXIuUk9VTkRfRE9XTiA9IDE7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0NFSUwgPSAyO1xyXG4gIEJpZ051bWJlci5ST1VORF9GTE9PUiA9IDM7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfVVAgPSA0O1xyXG4gIEJpZ051bWJlci5ST1VORF9IQUxGX0RPV04gPSA1O1xyXG4gIEJpZ051bWJlci5ST1VORF9IQUxGX0VWRU4gPSA2O1xyXG4gIEJpZ051bWJlci5ST1VORF9IQUxGX0NFSUwgPSA3O1xyXG4gIEJpZ051bWJlci5ST1VORF9IQUxGX0ZMT09SID0gODtcclxuICBCaWdOdW1iZXIuRVVDTElEID0gOTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogQ29uZmlndXJlIGluZnJlcXVlbnRseS1jaGFuZ2luZyBsaWJyYXJ5LXdpZGUgc2V0dGluZ3MuXHJcbiAgICpcclxuICAgKiBBY2NlcHQgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBvcHRpb25hbCBwcm9wZXJ0aWVzIChpZiB0aGUgdmFsdWUgb2YgYSBwcm9wZXJ0eSBpc1xyXG4gICAqIGEgbnVtYmVyLCBpdCBtdXN0IGJlIGFuIGludGVnZXIgd2l0aGluIHRoZSBpbmNsdXNpdmUgcmFuZ2Ugc3RhdGVkKTpcclxuICAgKlxyXG4gICAqICAgREVDSU1BTF9QTEFDRVMgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byBNQVhcclxuICAgKiAgIFJPVU5ESU5HX01PREUgICAge251bWJlcn0gICAgICAgICAgIDAgdG8gOFxyXG4gICAqICAgRVhQT05FTlRJQUxfQVQgICB7bnVtYmVyfG51bWJlcltdfSAgLU1BWCB0byBNQVggIG9yICBbLU1BWCB0byAwLCAwIHRvIE1BWF1cclxuICAgKiAgIFJBTkdFICAgICAgICAgICAge251bWJlcnxudW1iZXJbXX0gIC1NQVggdG8gTUFYIChub3QgemVybykgIG9yICBbLU1BWCB0byAtMSwgMSB0byBNQVhdXHJcbiAgICogICBDUllQVE8gICAgICAgICAgIHtib29sZWFufSAgICAgICAgICB0cnVlIG9yIGZhbHNlXHJcbiAgICogICBNT0RVTE9fTU9ERSAgICAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIDlcclxuICAgKiAgIFBPV19QUkVDSVNJT04gICAgICAge251bWJlcn0gICAgICAgICAgIDAgdG8gTUFYXHJcbiAgICogICBBTFBIQUJFVCAgICAgICAgIHtzdHJpbmd9ICAgICAgICAgICBBIHN0cmluZyBvZiB0d28gb3IgbW9yZSB1bmlxdWUgY2hhcmFjdGVycyB3aGljaCBkb2VzXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3QgY29udGFpbiAnLicuXHJcbiAgICogICBGT1JNQVQgICAgICAgICAgIHtvYmplY3R9ICAgICAgICAgICBBbiBvYmplY3Qgd2l0aCBzb21lIG9mIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICAgKiAgICAgcHJlZml4ICAgICAgICAgICAgICAgICB7c3RyaW5nfVxyXG4gICAqICAgICBncm91cFNpemUgICAgICAgICAgICAgIHtudW1iZXJ9XHJcbiAgICogICAgIHNlY29uZGFyeUdyb3VwU2l6ZSAgICAge251bWJlcn1cclxuICAgKiAgICAgZ3JvdXBTZXBhcmF0b3IgICAgICAgICB7c3RyaW5nfVxyXG4gICAqICAgICBkZWNpbWFsU2VwYXJhdG9yICAgICAgIHtzdHJpbmd9XHJcbiAgICogICAgIGZyYWN0aW9uR3JvdXBTaXplICAgICAge251bWJlcn1cclxuICAgKiAgICAgZnJhY3Rpb25Hcm91cFNlcGFyYXRvciB7c3RyaW5nfVxyXG4gICAqICAgICBzdWZmaXggICAgICAgICAgICAgICAgIHtzdHJpbmd9XHJcbiAgICpcclxuICAgKiAoVGhlIHZhbHVlcyBhc3NpZ25lZCB0byB0aGUgYWJvdmUgRk9STUFUIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3QgY2hlY2tlZCBmb3IgdmFsaWRpdHkuKVxyXG4gICAqXHJcbiAgICogRS5nLlxyXG4gICAqIEJpZ051bWJlci5jb25maWcoeyBERUNJTUFMX1BMQUNFUyA6IDIwLCBST1VORElOR19NT0RFIDogNCB9KVxyXG4gICAqXHJcbiAgICogSWdub3JlIHByb3BlcnRpZXMvcGFyYW1ldGVycyBzZXQgdG8gbnVsbCBvciB1bmRlZmluZWQsIGV4Y2VwdCBmb3IgQUxQSEFCRVQuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYW4gb2JqZWN0IHdpdGggdGhlIHByb3BlcnRpZXMgY3VycmVudCB2YWx1ZXMuXHJcbiAgICovXHJcbiAgQmlnTnVtYmVyLmNvbmZpZyA9IEJpZ051bWJlci5zZXQgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICB2YXIgcCwgdjtcclxuXHJcbiAgICBpZiAob2JqICE9IG51bGwpIHtcclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygb2JqID09ICdvYmplY3QnKSB7XHJcblxyXG4gICAgICAgIC8vIERFQ0lNQUxfUExBQ0VTIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gREVDSU1BTF9QTEFDRVMge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdERUNJTUFMX1BMQUNFUycpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaW50Q2hlY2sodiwgMCwgTUFYLCBwKTtcclxuICAgICAgICAgIERFQ0lNQUxfUExBQ0VTID0gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJPVU5ESU5HX01PREUge251bWJlcn0gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gUk9VTkRJTkdfTU9ERSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ1JPVU5ESU5HX01PREUnKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGludENoZWNrKHYsIDAsIDgsIHApO1xyXG4gICAgICAgICAgUk9VTkRJTkdfTU9ERSA9IHY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFWFBPTkVOVElBTF9BVCB7bnVtYmVyfG51bWJlcltdfVxyXG4gICAgICAgIC8vIEludGVnZXIsIC1NQVggdG8gTUFYIGluY2x1c2l2ZSBvclxyXG4gICAgICAgIC8vIFtpbnRlZ2VyIC1NQVggdG8gMCBpbmNsdXNpdmUsIDAgdG8gTUFYIGluY2x1c2l2ZV0uXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIEVYUE9ORU5USUFMX0FUIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnRVhQT05FTlRJQUxfQVQnKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGlmICh2ICYmIHYucG9wKSB7XHJcbiAgICAgICAgICAgIGludENoZWNrKHZbMF0sIC1NQVgsIDAsIHApO1xyXG4gICAgICAgICAgICBpbnRDaGVjayh2WzFdLCAwLCBNQVgsIHApO1xyXG4gICAgICAgICAgICBUT19FWFBfTkVHID0gdlswXTtcclxuICAgICAgICAgICAgVE9fRVhQX1BPUyA9IHZbMV07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnRDaGVjayh2LCAtTUFYLCBNQVgsIHApO1xyXG4gICAgICAgICAgICBUT19FWFBfTkVHID0gLShUT19FWFBfUE9TID0gdiA8IDAgPyAtdiA6IHYpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUkFOR0Uge251bWJlcnxudW1iZXJbXX0gTm9uLXplcm8gaW50ZWdlciwgLU1BWCB0byBNQVggaW5jbHVzaXZlIG9yXHJcbiAgICAgICAgLy8gW2ludGVnZXIgLU1BWCB0byAtMSBpbmNsdXNpdmUsIGludGVnZXIgMSB0byBNQVggaW5jbHVzaXZlXS5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gUkFOR0Uge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfGNhbm5vdCBiZSB6ZXJvfToge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdSQU5HRScpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaWYgKHYgJiYgdi5wb3ApIHtcclxuICAgICAgICAgICAgaW50Q2hlY2sodlswXSwgLU1BWCwgLTEsIHApO1xyXG4gICAgICAgICAgICBpbnRDaGVjayh2WzFdLCAxLCBNQVgsIHApO1xyXG4gICAgICAgICAgICBNSU5fRVhQID0gdlswXTtcclxuICAgICAgICAgICAgTUFYX0VYUCA9IHZbMV07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnRDaGVjayh2LCAtTUFYLCBNQVgsIHApO1xyXG4gICAgICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICAgIE1JTl9FWFAgPSAtKE1BWF9FWFAgPSB2IDwgMCA/IC12IDogdik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgY2Fubm90IGJlIHplcm86ICcgKyB2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ1JZUFRPIHtib29sZWFufSB0cnVlIG9yIGZhbHNlLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBDUllQVE8gbm90IHRydWUgb3IgZmFsc2U6IHt2fSdcclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gY3J5cHRvIHVuYXZhaWxhYmxlJ1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdDUllQVE8nKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGlmICh2ID09PSAhIXYpIHtcclxuICAgICAgICAgICAgaWYgKHYpIHtcclxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGNyeXB0byAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8gJiZcclxuICAgICAgICAgICAgICAgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgfHwgY3J5cHRvLnJhbmRvbUJ5dGVzKSkge1xyXG4gICAgICAgICAgICAgICAgQ1JZUFRPID0gdjtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgQ1JZUFRPID0gIXY7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdjcnlwdG8gdW5hdmFpbGFibGUnKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgQ1JZUFRPID0gdjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArIHAgKyAnIG5vdCB0cnVlIG9yIGZhbHNlOiAnICsgdik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNT0RVTE9fTU9ERSB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIDkgaW5jbHVzaXZlLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBNT0RVTE9fTU9ERSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ01PRFVMT19NT0RFJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpbnRDaGVjayh2LCAwLCA5LCBwKTtcclxuICAgICAgICAgIE1PRFVMT19NT0RFID0gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBPV19QUkVDSVNJT04ge251bWJlcn0gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBQT1dfUFJFQ0lTSU9OIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnUE9XX1BSRUNJU0lPTicpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaW50Q2hlY2sodiwgMCwgTUFYLCBwKTtcclxuICAgICAgICAgIFBPV19QUkVDSVNJT04gPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRk9STUFUIHtvYmplY3R9XHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIEZPUk1BVCBub3QgYW4gb2JqZWN0OiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0ZPUk1BVCcpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiB2ID09ICdvYmplY3QnKSBGT1JNQVQgPSB2O1xyXG4gICAgICAgICAgZWxzZSB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgIChiaWdudW1iZXJFcnJvciArIHAgKyAnIG5vdCBhbiBvYmplY3Q6ICcgKyB2KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFMUEhBQkVUIHtzdHJpbmd9XHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIEFMUEhBQkVUIGludmFsaWQ6IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnQUxQSEFCRVQnKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuXHJcbiAgICAgICAgICAvLyBEaXNhbGxvdyBpZiBsZXNzIHRoYW4gdHdvIGNoYXJhY3RlcnMsXHJcbiAgICAgICAgICAvLyBvciBpZiBpdCBjb250YWlucyAnKycsICctJywgJy4nLCB3aGl0ZXNwYWNlLCBvciBhIHJlcGVhdGVkIGNoYXJhY3Rlci5cclxuICAgICAgICAgIGlmICh0eXBlb2YgdiA9PSAnc3RyaW5nJyAmJiAhL14uPyR8WytcXC0uXFxzXXwoLikuKlxcMS8udGVzdCh2KSkge1xyXG4gICAgICAgICAgICBhbHBoYWJldEhhc05vcm1hbERlY2ltYWxEaWdpdHMgPSB2LnNsaWNlKDAsIDEwKSA9PSAnMDEyMzQ1Njc4OSc7XHJcbiAgICAgICAgICAgIEFMUEhBQkVUID0gdjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyBwICsgJyBpbnZhbGlkOiAnICsgdik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE9iamVjdCBleHBlY3RlZDoge3Z9J1xyXG4gICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdPYmplY3QgZXhwZWN0ZWQ6ICcgKyBvYmopO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgREVDSU1BTF9QTEFDRVM6IERFQ0lNQUxfUExBQ0VTLFxyXG4gICAgICBST1VORElOR19NT0RFOiBST1VORElOR19NT0RFLFxyXG4gICAgICBFWFBPTkVOVElBTF9BVDogW1RPX0VYUF9ORUcsIFRPX0VYUF9QT1NdLFxyXG4gICAgICBSQU5HRTogW01JTl9FWFAsIE1BWF9FWFBdLFxyXG4gICAgICBDUllQVE86IENSWVBUTyxcclxuICAgICAgTU9EVUxPX01PREU6IE1PRFVMT19NT0RFLFxyXG4gICAgICBQT1dfUFJFQ0lTSU9OOiBQT1dfUFJFQ0lTSU9OLFxyXG4gICAgICBGT1JNQVQ6IEZPUk1BVCxcclxuICAgICAgQUxQSEFCRVQ6IEFMUEhBQkVUXHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHYgaXMgYSBCaWdOdW1iZXIgaW5zdGFuY2UsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICpcclxuICAgKiBJZiBCaWdOdW1iZXIuREVCVUcgaXMgdHJ1ZSwgdGhyb3cgaWYgYSBCaWdOdW1iZXIgaW5zdGFuY2UgaXMgbm90IHdlbGwtZm9ybWVkLlxyXG4gICAqXHJcbiAgICogdiB7YW55fVxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEludmFsaWQgQmlnTnVtYmVyOiB7dn0nXHJcbiAgICovXHJcbiAgQmlnTnVtYmVyLmlzQmlnTnVtYmVyID0gZnVuY3Rpb24gKHYpIHtcclxuICAgIGlmICghdiB8fCB2Ll9pc0JpZ051bWJlciAhPT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKCFCaWdOdW1iZXIuREVCVUcpIHJldHVybiB0cnVlO1xyXG5cclxuICAgIHZhciBpLCBuLFxyXG4gICAgICBjID0gdi5jLFxyXG4gICAgICBlID0gdi5lLFxyXG4gICAgICBzID0gdi5zO1xyXG5cclxuICAgIG91dDogaWYgKHt9LnRvU3RyaW5nLmNhbGwoYykgPT0gJ1tvYmplY3QgQXJyYXldJykge1xyXG5cclxuICAgICAgaWYgKChzID09PSAxIHx8IHMgPT09IC0xKSAmJiBlID49IC1NQVggJiYgZSA8PSBNQVggJiYgZSA9PT0gbWF0aGZsb29yKGUpKSB7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBmaXJzdCBlbGVtZW50IGlzIHplcm8sIHRoZSBCaWdOdW1iZXIgdmFsdWUgbXVzdCBiZSB6ZXJvLlxyXG4gICAgICAgIGlmIChjWzBdID09PSAwKSB7XHJcbiAgICAgICAgICBpZiAoZSA9PT0gMCAmJiBjLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICBicmVhayBvdXQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDYWxjdWxhdGUgbnVtYmVyIG9mIGRpZ2l0cyB0aGF0IGNbMF0gc2hvdWxkIGhhdmUsIGJhc2VkIG9uIHRoZSBleHBvbmVudC5cclxuICAgICAgICBpID0gKGUgKyAxKSAlIExPR19CQVNFO1xyXG4gICAgICAgIGlmIChpIDwgMSkgaSArPSBMT0dfQkFTRTtcclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG51bWJlciBvZiBkaWdpdHMgb2YgY1swXS5cclxuICAgICAgICAvL2lmIChNYXRoLmNlaWwoTWF0aC5sb2coY1swXSArIDEpIC8gTWF0aC5MTjEwKSA9PSBpKSB7XHJcbiAgICAgICAgaWYgKFN0cmluZyhjWzBdKS5sZW5ndGggPT0gaSkge1xyXG5cclxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG4gPSBjW2ldO1xyXG4gICAgICAgICAgICBpZiAobiA8IDAgfHwgbiA+PSBCQVNFIHx8IG4gIT09IG1hdGhmbG9vcihuKSkgYnJlYWsgb3V0O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIExhc3QgZWxlbWVudCBjYW5ub3QgYmUgemVybywgdW5sZXNzIGl0IGlzIHRoZSBvbmx5IGVsZW1lbnQuXHJcbiAgICAgICAgICBpZiAobiAhPT0gMCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgLy8gSW5maW5pdHkvTmFOXHJcbiAgICB9IGVsc2UgaWYgKGMgPT09IG51bGwgJiYgZSA9PT0gbnVsbCAmJiAocyA9PT0gbnVsbCB8fCBzID09PSAxIHx8IHMgPT09IC0xKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvdyBFcnJvclxyXG4gICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnSW52YWxpZCBCaWdOdW1iZXI6ICcgKyB2KTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBtYXhpbXVtIG9mIHRoZSBhcmd1bWVudHMuXHJcbiAgICpcclxuICAgKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfVxyXG4gICAqL1xyXG4gIEJpZ051bWJlci5tYXhpbXVtID0gQmlnTnVtYmVyLm1heCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBtYXhPck1pbihhcmd1bWVudHMsIC0xKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBtaW5pbXVtIG9mIHRoZSBhcmd1bWVudHMuXHJcbiAgICpcclxuICAgKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfVxyXG4gICAqL1xyXG4gIEJpZ051bWJlci5taW5pbXVtID0gQmlnTnVtYmVyLm1pbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBtYXhPck1pbihhcmd1bWVudHMsIDEpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2l0aCBhIHJhbmRvbSB2YWx1ZSBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDEsXHJcbiAgICogYW5kIHdpdGggZHAsIG9yIERFQ0lNQUxfUExBQ0VTIGlmIGRwIGlzIG9taXR0ZWQsIGRlY2ltYWwgcGxhY2VzIChvciBsZXNzIGlmIHRyYWlsaW5nXHJcbiAgICogemVyb3MgYXJlIHByb2R1Y2VkKS5cclxuICAgKlxyXG4gICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB9J1xyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBjcnlwdG8gdW5hdmFpbGFibGUnXHJcbiAgICovXHJcbiAgQmlnTnVtYmVyLnJhbmRvbSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcG93Ml81MyA9IDB4MjAwMDAwMDAwMDAwMDA7XHJcblxyXG4gICAgLy8gUmV0dXJuIGEgNTMgYml0IGludGVnZXIgbiwgd2hlcmUgMCA8PSBuIDwgOTAwNzE5OTI1NDc0MDk5Mi5cclxuICAgIC8vIENoZWNrIGlmIE1hdGgucmFuZG9tKCkgcHJvZHVjZXMgbW9yZSB0aGFuIDMyIGJpdHMgb2YgcmFuZG9tbmVzcy5cclxuICAgIC8vIElmIGl0IGRvZXMsIGFzc3VtZSBhdCBsZWFzdCA1MyBiaXRzIGFyZSBwcm9kdWNlZCwgb3RoZXJ3aXNlIGFzc3VtZSBhdCBsZWFzdCAzMCBiaXRzLlxyXG4gICAgLy8gMHg0MDAwMDAwMCBpcyAyXjMwLCAweDgwMDAwMCBpcyAyXjIzLCAweDFmZmZmZiBpcyAyXjIxIC0gMS5cclxuICAgIHZhciByYW5kb201M2JpdEludCA9IChNYXRoLnJhbmRvbSgpICogcG93Ml81MykgJiAweDFmZmZmZlxyXG4gICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gbWF0aGZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3cyXzUzKTsgfVxyXG4gICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gKChNYXRoLnJhbmRvbSgpICogMHg0MDAwMDAwMCB8IDApICogMHg4MDAwMDApICtcclxuICAgICAgIChNYXRoLnJhbmRvbSgpICogMHg4MDAwMDAgfCAwKTsgfTtcclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRwKSB7XHJcbiAgICAgIHZhciBhLCBiLCBlLCBrLCB2LFxyXG4gICAgICAgIGkgPSAwLFxyXG4gICAgICAgIGMgPSBbXSxcclxuICAgICAgICByYW5kID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG5cclxuICAgICAgaWYgKGRwID09IG51bGwpIGRwID0gREVDSU1BTF9QTEFDRVM7XHJcbiAgICAgIGVsc2UgaW50Q2hlY2soZHAsIDAsIE1BWCk7XHJcblxyXG4gICAgICBrID0gbWF0aGNlaWwoZHAgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgICBpZiAoQ1JZUFRPKSB7XHJcblxyXG4gICAgICAgIC8vIEJyb3dzZXJzIHN1cHBvcnRpbmcgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5cclxuICAgICAgICBpZiAoY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xyXG5cclxuICAgICAgICAgIGEgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheShrICo9IDIpKTtcclxuXHJcbiAgICAgICAgICBmb3IgKDsgaSA8IGs7KSB7XHJcblxyXG4gICAgICAgICAgICAvLyA1MyBiaXRzOlxyXG4gICAgICAgICAgICAvLyAoKE1hdGgucG93KDIsIDMyKSAtIDEpICogTWF0aC5wb3coMiwgMjEpKS50b1N0cmluZygyKVxyXG4gICAgICAgICAgICAvLyAxMTExMSAxMTExMTExMSAxMTExMTExMSAxMTExMTExMSAxMTEwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMFxyXG4gICAgICAgICAgICAvLyAoKE1hdGgucG93KDIsIDMyKSAtIDEpID4+PiAxMSkudG9TdHJpbmcoMilcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTExMTEgMTExMTExMTEgMTExMTExMTFcclxuICAgICAgICAgICAgLy8gMHgyMDAwMCBpcyAyXjIxLlxyXG4gICAgICAgICAgICB2ID0gYVtpXSAqIDB4MjAwMDAgKyAoYVtpICsgMV0gPj4+IDExKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlamVjdGlvbiBzYW1wbGluZzpcclxuICAgICAgICAgICAgLy8gMCA8PSB2IDwgOTAwNzE5OTI1NDc0MDk5MlxyXG4gICAgICAgICAgICAvLyBQcm9iYWJpbGl0eSB0aGF0IHYgPj0gOWUxNSwgaXNcclxuICAgICAgICAgICAgLy8gNzE5OTI1NDc0MDk5MiAvIDkwMDcxOTkyNTQ3NDA5OTIgfj0gMC4wMDA4LCBpLmUuIDEgaW4gMTI1MVxyXG4gICAgICAgICAgICBpZiAodiA+PSA5ZTE1KSB7XHJcbiAgICAgICAgICAgICAgYiA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KDIpKTtcclxuICAgICAgICAgICAgICBhW2ldID0gYlswXTtcclxuICAgICAgICAgICAgICBhW2kgKyAxXSA9IGJbMV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIDAgPD0gdiA8PSA4OTk5OTk5OTk5OTk5OTk5XHJcbiAgICAgICAgICAgICAgLy8gMCA8PSAodiAlIDFlMTQpIDw9IDk5OTk5OTk5OTk5OTk5XHJcbiAgICAgICAgICAgICAgYy5wdXNoKHYgJSAxZTE0KTtcclxuICAgICAgICAgICAgICBpICs9IDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGkgPSBrIC8gMjtcclxuXHJcbiAgICAgICAgLy8gTm9kZS5qcyBzdXBwb3J0aW5nIGNyeXB0by5yYW5kb21CeXRlcy5cclxuICAgICAgICB9IGVsc2UgaWYgKGNyeXB0by5yYW5kb21CeXRlcykge1xyXG5cclxuICAgICAgICAgIC8vIGJ1ZmZlclxyXG4gICAgICAgICAgYSA9IGNyeXB0by5yYW5kb21CeXRlcyhrICo9IDcpO1xyXG5cclxuICAgICAgICAgIGZvciAoOyBpIDwgazspIHtcclxuXHJcbiAgICAgICAgICAgIC8vIDB4MTAwMDAwMDAwMDAwMCBpcyAyXjQ4LCAweDEwMDAwMDAwMDAwIGlzIDJeNDBcclxuICAgICAgICAgICAgLy8gMHgxMDAwMDAwMDAgaXMgMl4zMiwgMHgxMDAwMDAwIGlzIDJeMjRcclxuICAgICAgICAgICAgLy8gMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTFcclxuICAgICAgICAgICAgLy8gMCA8PSB2IDwgOTAwNzE5OTI1NDc0MDk5MlxyXG4gICAgICAgICAgICB2ID0gKChhW2ldICYgMzEpICogMHgxMDAwMDAwMDAwMDAwKSArIChhW2kgKyAxXSAqIDB4MTAwMDAwMDAwMDApICtcclxuICAgICAgICAgICAgICAgKGFbaSArIDJdICogMHgxMDAwMDAwMDApICsgKGFbaSArIDNdICogMHgxMDAwMDAwKSArXHJcbiAgICAgICAgICAgICAgIChhW2kgKyA0XSA8PCAxNikgKyAoYVtpICsgNV0gPDwgOCkgKyBhW2kgKyA2XTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2ID49IDllMTUpIHtcclxuICAgICAgICAgICAgICBjcnlwdG8ucmFuZG9tQnl0ZXMoNykuY29weShhLCBpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gMCA8PSAodiAlIDFlMTQpIDw9IDk5OTk5OTk5OTk5OTk5XHJcbiAgICAgICAgICAgICAgYy5wdXNoKHYgJSAxZTE0KTtcclxuICAgICAgICAgICAgICBpICs9IDc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGkgPSBrIC8gNztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgQ1JZUFRPID0gZmFsc2U7XHJcbiAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdjcnlwdG8gdW5hdmFpbGFibGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFVzZSBNYXRoLnJhbmRvbS5cclxuICAgICAgaWYgKCFDUllQVE8pIHtcclxuXHJcbiAgICAgICAgZm9yICg7IGkgPCBrOykge1xyXG4gICAgICAgICAgdiA9IHJhbmRvbTUzYml0SW50KCk7XHJcbiAgICAgICAgICBpZiAodiA8IDllMTUpIGNbaSsrXSA9IHYgJSAxZTE0O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgayA9IGNbLS1pXTtcclxuICAgICAgZHAgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAvLyBDb252ZXJ0IHRyYWlsaW5nIGRpZ2l0cyB0byB6ZXJvcyBhY2NvcmRpbmcgdG8gZHAuXHJcbiAgICAgIGlmIChrICYmIGRwKSB7XHJcbiAgICAgICAgdiA9IFBPV1NfVEVOW0xPR19CQVNFIC0gZHBdO1xyXG4gICAgICAgIGNbaV0gPSBtYXRoZmxvb3IoayAvIHYpICogdjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGVsZW1lbnRzIHdoaWNoIGFyZSB6ZXJvLlxyXG4gICAgICBmb3IgKDsgY1tpXSA9PT0gMDsgYy5wb3AoKSwgaS0tKTtcclxuXHJcbiAgICAgIC8vIFplcm8/XHJcbiAgICAgIGlmIChpIDwgMCkge1xyXG4gICAgICAgIGMgPSBbZSA9IDBdO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgbGVhZGluZyBlbGVtZW50cyB3aGljaCBhcmUgemVybyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgICAgIGZvciAoZSA9IC0xIDsgY1swXSA9PT0gMDsgYy5zcGxpY2UoMCwgMSksIGUgLT0gTE9HX0JBU0UpO1xyXG5cclxuICAgICAgICAvLyBDb3VudCB0aGUgZGlnaXRzIG9mIHRoZSBmaXJzdCBlbGVtZW50IG9mIGMgdG8gZGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MsIGFuZC4uLlxyXG4gICAgICAgIGZvciAoaSA9IDEsIHYgPSBjWzBdOyB2ID49IDEwOyB2IC89IDEwLCBpKyspO1xyXG5cclxuICAgICAgICAvLyBhZGp1c3QgdGhlIGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgICAgIGlmIChpIDwgTE9HX0JBU0UpIGUgLT0gTE9HX0JBU0UgLSBpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByYW5kLmUgPSBlO1xyXG4gICAgICByYW5kLmMgPSBjO1xyXG4gICAgICByZXR1cm4gcmFuZDtcclxuICAgIH07XHJcbiAgfSkoKTtcclxuXHJcblxyXG4gICAvKlxyXG4gICAqIFJldHVybiBhIEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgc3VtIG9mIHRoZSBhcmd1bWVudHMuXHJcbiAgICpcclxuICAgKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfVxyXG4gICAqL1xyXG4gIEJpZ051bWJlci5zdW0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaSA9IDEsXHJcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHMsXHJcbiAgICAgIHN1bSA9IG5ldyBCaWdOdW1iZXIoYXJnc1swXSk7XHJcbiAgICBmb3IgKDsgaSA8IGFyZ3MubGVuZ3RoOykgc3VtID0gc3VtLnBsdXMoYXJnc1tpKytdKTtcclxuICAgIHJldHVybiBzdW07XHJcbiAgfTtcclxuXHJcblxyXG4gIC8vIFBSSVZBVEUgRlVOQ1RJT05TXHJcblxyXG5cclxuICAvLyBDYWxsZWQgYnkgQmlnTnVtYmVyIGFuZCBCaWdOdW1iZXIucHJvdG90eXBlLnRvU3RyaW5nLlxyXG4gIGNvbnZlcnRCYXNlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBkZWNpbWFsID0gJzAxMjM0NTY3ODknO1xyXG5cclxuICAgIC8qXHJcbiAgICAgKiBDb252ZXJ0IHN0cmluZyBvZiBiYXNlSW4gdG8gYW4gYXJyYXkgb2YgbnVtYmVycyBvZiBiYXNlT3V0LlxyXG4gICAgICogRWcuIHRvQmFzZU91dCgnMjU1JywgMTAsIDE2KSByZXR1cm5zIFsxNSwgMTVdLlxyXG4gICAgICogRWcuIHRvQmFzZU91dCgnZmYnLCAxNiwgMTApIHJldHVybnMgWzIsIDUsIDVdLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB0b0Jhc2VPdXQoc3RyLCBiYXNlSW4sIGJhc2VPdXQsIGFscGhhYmV0KSB7XHJcbiAgICAgIHZhciBqLFxyXG4gICAgICAgIGFyciA9IFswXSxcclxuICAgICAgICBhcnJMLFxyXG4gICAgICAgIGkgPSAwLFxyXG4gICAgICAgIGxlbiA9IHN0ci5sZW5ndGg7XHJcblxyXG4gICAgICBmb3IgKDsgaSA8IGxlbjspIHtcclxuICAgICAgICBmb3IgKGFyckwgPSBhcnIubGVuZ3RoOyBhcnJMLS07IGFyclthcnJMXSAqPSBiYXNlSW4pO1xyXG5cclxuICAgICAgICBhcnJbMF0gKz0gYWxwaGFiZXQuaW5kZXhPZihzdHIuY2hhckF0KGkrKykpO1xyXG5cclxuICAgICAgICBmb3IgKGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XHJcblxyXG4gICAgICAgICAgaWYgKGFycltqXSA+IGJhc2VPdXQgLSAxKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJbaiArIDFdID09IG51bGwpIGFycltqICsgMV0gPSAwO1xyXG4gICAgICAgICAgICBhcnJbaiArIDFdICs9IGFycltqXSAvIGJhc2VPdXQgfCAwO1xyXG4gICAgICAgICAgICBhcnJbal0gJT0gYmFzZU91dDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBhcnIucmV2ZXJzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnZlcnQgYSBudW1lcmljIHN0cmluZyBvZiBiYXNlSW4gdG8gYSBudW1lcmljIHN0cmluZyBvZiBiYXNlT3V0LlxyXG4gICAgLy8gSWYgdGhlIGNhbGxlciBpcyB0b1N0cmluZywgd2UgYXJlIGNvbnZlcnRpbmcgZnJvbSBiYXNlIDEwIHRvIGJhc2VPdXQuXHJcbiAgICAvLyBJZiB0aGUgY2FsbGVyIGlzIEJpZ051bWJlciwgd2UgYXJlIGNvbnZlcnRpbmcgZnJvbSBiYXNlSW4gdG8gYmFzZSAxMC5cclxuICAgIHJldHVybiBmdW5jdGlvbiAoc3RyLCBiYXNlSW4sIGJhc2VPdXQsIHNpZ24sIGNhbGxlcklzVG9TdHJpbmcpIHtcclxuICAgICAgdmFyIGFscGhhYmV0LCBkLCBlLCBrLCByLCB4LCB4YywgeSxcclxuICAgICAgICBpID0gc3RyLmluZGV4T2YoJy4nKSxcclxuICAgICAgICBkcCA9IERFQ0lNQUxfUExBQ0VTLFxyXG4gICAgICAgIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuXHJcbiAgICAgIC8vIE5vbi1pbnRlZ2VyLlxyXG4gICAgICBpZiAoaSA+PSAwKSB7XHJcbiAgICAgICAgayA9IFBPV19QUkVDSVNJT047XHJcblxyXG4gICAgICAgIC8vIFVubGltaXRlZCBwcmVjaXNpb24uXHJcbiAgICAgICAgUE9XX1BSRUNJU0lPTiA9IDA7XHJcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcbiAgICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoYmFzZUluKTtcclxuICAgICAgICB4ID0geS5wb3coc3RyLmxlbmd0aCAtIGkpO1xyXG4gICAgICAgIFBPV19QUkVDSVNJT04gPSBrO1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IHN0ciBhcyBpZiBhbiBpbnRlZ2VyLCB0aGVuIHJlc3RvcmUgdGhlIGZyYWN0aW9uIHBhcnQgYnkgZGl2aWRpbmcgdGhlXHJcbiAgICAgICAgLy8gcmVzdWx0IGJ5IGl0cyBiYXNlIHJhaXNlZCB0byBhIHBvd2VyLlxyXG5cclxuICAgICAgICB5LmMgPSB0b0Jhc2VPdXQodG9GaXhlZFBvaW50KGNvZWZmVG9TdHJpbmcoeC5jKSwgeC5lLCAnMCcpLFxyXG4gICAgICAgICAxMCwgYmFzZU91dCwgZGVjaW1hbCk7XHJcbiAgICAgICAgeS5lID0geS5jLmxlbmd0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29udmVydCB0aGUgbnVtYmVyIGFzIGludGVnZXIuXHJcblxyXG4gICAgICB4YyA9IHRvQmFzZU91dChzdHIsIGJhc2VJbiwgYmFzZU91dCwgY2FsbGVySXNUb1N0cmluZ1xyXG4gICAgICAgPyAoYWxwaGFiZXQgPSBBTFBIQUJFVCwgZGVjaW1hbClcclxuICAgICAgIDogKGFscGhhYmV0ID0gZGVjaW1hbCwgQUxQSEFCRVQpKTtcclxuXHJcbiAgICAgIC8vIHhjIG5vdyByZXByZXNlbnRzIHN0ciBhcyBhbiBpbnRlZ2VyIGFuZCBjb252ZXJ0ZWQgdG8gYmFzZU91dC4gZSBpcyB0aGUgZXhwb25lbnQuXHJcbiAgICAgIGUgPSBrID0geGMubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKDsgeGNbLS1rXSA9PSAwOyB4Yy5wb3AoKSk7XHJcblxyXG4gICAgICAvLyBaZXJvP1xyXG4gICAgICBpZiAoIXhjWzBdKSByZXR1cm4gYWxwaGFiZXQuY2hhckF0KDApO1xyXG5cclxuICAgICAgLy8gRG9lcyBzdHIgcmVwcmVzZW50IGFuIGludGVnZXI/IElmIHNvLCBubyBuZWVkIGZvciB0aGUgZGl2aXNpb24uXHJcbiAgICAgIGlmIChpIDwgMCkge1xyXG4gICAgICAgIC0tZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB4LmMgPSB4YztcclxuICAgICAgICB4LmUgPSBlO1xyXG5cclxuICAgICAgICAvLyBUaGUgc2lnbiBpcyBuZWVkZWQgZm9yIGNvcnJlY3Qgcm91bmRpbmcuXHJcbiAgICAgICAgeC5zID0gc2lnbjtcclxuICAgICAgICB4ID0gZGl2KHgsIHksIGRwLCBybSwgYmFzZU91dCk7XHJcbiAgICAgICAgeGMgPSB4LmM7XHJcbiAgICAgICAgciA9IHgucjtcclxuICAgICAgICBlID0geC5lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyB4YyBub3cgcmVwcmVzZW50cyBzdHIgY29udmVydGVkIHRvIGJhc2VPdXQuXHJcblxyXG4gICAgICAvLyBUSGUgaW5kZXggb2YgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICBkID0gZSArIGRwICsgMTtcclxuXHJcbiAgICAgIC8vIFRoZSByb3VuZGluZyBkaWdpdDogdGhlIGRpZ2l0IHRvIHRoZSByaWdodCBvZiB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cC5cclxuICAgICAgaSA9IHhjW2RdO1xyXG5cclxuICAgICAgLy8gTG9vayBhdCB0aGUgcm91bmRpbmcgZGlnaXRzIGFuZCBtb2RlIHRvIGRldGVybWluZSB3aGV0aGVyIHRvIHJvdW5kIHVwLlxyXG5cclxuICAgICAgayA9IGJhc2VPdXQgLyAyO1xyXG4gICAgICByID0gciB8fCBkIDwgMCB8fCB4Y1tkICsgMV0gIT0gbnVsbDtcclxuXHJcbiAgICAgIHIgPSBybSA8IDQgPyAoaSAhPSBudWxsIHx8IHIpICYmIChybSA9PSAwIHx8IHJtID09ICh4LnMgPCAwID8gMyA6IDIpKVxyXG4gICAgICAgICAgICA6IGkgPiBrIHx8IGkgPT0gayAmJihybSA9PSA0IHx8IHIgfHwgcm0gPT0gNiAmJiB4Y1tkIC0gMV0gJiAxIHx8XHJcbiAgICAgICAgICAgICBybSA9PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgaW5kZXggb2YgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIG5vdCBncmVhdGVyIHRoYW4gemVybywgb3IgeGMgcmVwcmVzZW50c1xyXG4gICAgICAvLyB6ZXJvLCB0aGVuIHRoZSByZXN1bHQgb2YgdGhlIGJhc2UgY29udmVyc2lvbiBpcyB6ZXJvIG9yLCBpZiByb3VuZGluZyB1cCwgYSB2YWx1ZVxyXG4gICAgICAvLyBzdWNoIGFzIDAuMDAwMDEuXHJcbiAgICAgIGlmIChkIDwgMSB8fCAheGNbMF0pIHtcclxuXHJcbiAgICAgICAgLy8gMV4tZHAgb3IgMFxyXG4gICAgICAgIHN0ciA9IHIgPyB0b0ZpeGVkUG9pbnQoYWxwaGFiZXQuY2hhckF0KDEpLCAtZHAsIGFscGhhYmV0LmNoYXJBdCgwKSkgOiBhbHBoYWJldC5jaGFyQXQoMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIFRydW5jYXRlIHhjIHRvIHRoZSByZXF1aXJlZCBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMuXHJcbiAgICAgICAgeGMubGVuZ3RoID0gZDtcclxuXHJcbiAgICAgICAgLy8gUm91bmQgdXA/XHJcbiAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAvLyBSb3VuZGluZyB1cCBtYXkgbWVhbiB0aGUgcHJldmlvdXMgZGlnaXQgaGFzIHRvIGJlIHJvdW5kZWQgdXAgYW5kIHNvIG9uLlxyXG4gICAgICAgICAgZm9yICgtLWJhc2VPdXQ7ICsreGNbLS1kXSA+IGJhc2VPdXQ7KSB7XHJcbiAgICAgICAgICAgIHhjW2RdID0gMDtcclxuXHJcbiAgICAgICAgICAgIGlmICghZCkge1xyXG4gICAgICAgICAgICAgICsrZTtcclxuICAgICAgICAgICAgICB4YyA9IFsxXS5jb25jYXQoeGMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgICAgZm9yIChrID0geGMubGVuZ3RoOyAheGNbLS1rXTspO1xyXG5cclxuICAgICAgICAvLyBFLmcuIFs0LCAxMSwgMTVdIGJlY29tZXMgNGJmLlxyXG4gICAgICAgIGZvciAoaSA9IDAsIHN0ciA9ICcnOyBpIDw9IGs7IHN0ciArPSBhbHBoYWJldC5jaGFyQXQoeGNbaSsrXSkpO1xyXG5cclxuICAgICAgICAvLyBBZGQgbGVhZGluZyB6ZXJvcywgZGVjaW1hbCBwb2ludCBhbmQgdHJhaWxpbmcgemVyb3MgYXMgcmVxdWlyZWQuXHJcbiAgICAgICAgc3RyID0gdG9GaXhlZFBvaW50KHN0ciwgZSwgYWxwaGFiZXQuY2hhckF0KDApKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVGhlIGNhbGxlciB3aWxsIGFkZCB0aGUgc2lnbi5cclxuICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH07XHJcbiAgfSkoKTtcclxuXHJcblxyXG4gIC8vIFBlcmZvcm0gZGl2aXNpb24gaW4gdGhlIHNwZWNpZmllZCBiYXNlLiBDYWxsZWQgYnkgZGl2IGFuZCBjb252ZXJ0QmFzZS5cclxuICBkaXYgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIC8vIEFzc3VtZSBub24temVybyB4IGFuZCBrLlxyXG4gICAgZnVuY3Rpb24gbXVsdGlwbHkoeCwgaywgYmFzZSkge1xyXG4gICAgICB2YXIgbSwgdGVtcCwgeGxvLCB4aGksXHJcbiAgICAgICAgY2FycnkgPSAwLFxyXG4gICAgICAgIGkgPSB4Lmxlbmd0aCxcclxuICAgICAgICBrbG8gPSBrICUgU1FSVF9CQVNFLFxyXG4gICAgICAgIGtoaSA9IGsgLyBTUVJUX0JBU0UgfCAwO1xyXG5cclxuICAgICAgZm9yICh4ID0geC5zbGljZSgpOyBpLS07KSB7XHJcbiAgICAgICAgeGxvID0geFtpXSAlIFNRUlRfQkFTRTtcclxuICAgICAgICB4aGkgPSB4W2ldIC8gU1FSVF9CQVNFIHwgMDtcclxuICAgICAgICBtID0ga2hpICogeGxvICsgeGhpICoga2xvO1xyXG4gICAgICAgIHRlbXAgPSBrbG8gKiB4bG8gKyAoKG0gJSBTUVJUX0JBU0UpICogU1FSVF9CQVNFKSArIGNhcnJ5O1xyXG4gICAgICAgIGNhcnJ5ID0gKHRlbXAgLyBiYXNlIHwgMCkgKyAobSAvIFNRUlRfQkFTRSB8IDApICsga2hpICogeGhpO1xyXG4gICAgICAgIHhbaV0gPSB0ZW1wICUgYmFzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGNhcnJ5KSB4ID0gW2NhcnJ5XS5jb25jYXQoeCk7XHJcblxyXG4gICAgICByZXR1cm4geDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21wYXJlKGEsIGIsIGFMLCBiTCkge1xyXG4gICAgICB2YXIgaSwgY21wO1xyXG5cclxuICAgICAgaWYgKGFMICE9IGJMKSB7XHJcbiAgICAgICAgY21wID0gYUwgPiBiTCA/IDEgOiAtMTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgZm9yIChpID0gY21wID0gMDsgaSA8IGFMOyBpKyspIHtcclxuXHJcbiAgICAgICAgICBpZiAoYVtpXSAhPSBiW2ldKSB7XHJcbiAgICAgICAgICAgIGNtcCA9IGFbaV0gPiBiW2ldID8gMSA6IC0xO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjbXA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc3VidHJhY3QoYSwgYiwgYUwsIGJhc2UpIHtcclxuICAgICAgdmFyIGkgPSAwO1xyXG5cclxuICAgICAgLy8gU3VidHJhY3QgYiBmcm9tIGEuXHJcbiAgICAgIGZvciAoOyBhTC0tOykge1xyXG4gICAgICAgIGFbYUxdIC09IGk7XHJcbiAgICAgICAgaSA9IGFbYUxdIDwgYlthTF0gPyAxIDogMDtcclxuICAgICAgICBhW2FMXSA9IGkgKiBiYXNlICsgYVthTF0gLSBiW2FMXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgIGZvciAoOyAhYVswXSAmJiBhLmxlbmd0aCA+IDE7IGEuc3BsaWNlKDAsIDEpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB4OiBkaXZpZGVuZCwgeTogZGl2aXNvci5cclxuICAgIHJldHVybiBmdW5jdGlvbiAoeCwgeSwgZHAsIHJtLCBiYXNlKSB7XHJcbiAgICAgIHZhciBjbXAsIGUsIGksIG1vcmUsIG4sIHByb2QsIHByb2RMLCBxLCBxYywgcmVtLCByZW1MLCByZW0wLCB4aSwgeEwsIHljMCxcclxuICAgICAgICB5TCwgeXosXHJcbiAgICAgICAgcyA9IHgucyA9PSB5LnMgPyAxIDogLTEsXHJcbiAgICAgICAgeGMgPSB4LmMsXHJcbiAgICAgICAgeWMgPSB5LmM7XHJcblxyXG4gICAgICAvLyBFaXRoZXIgTmFOLCBJbmZpbml0eSBvciAwP1xyXG4gICAgICBpZiAoIXhjIHx8ICF4Y1swXSB8fCAheWMgfHwgIXljWzBdKSB7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKFxyXG5cclxuICAgICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgTmFOLCBvciBib3RoIEluZmluaXR5IG9yIDAuXHJcbiAgICAgICAgICF4LnMgfHwgIXkucyB8fCAoeGMgPyB5YyAmJiB4Y1swXSA9PSB5Y1swXSA6ICF5YykgPyBOYU4gOlxyXG5cclxuICAgICAgICAgIC8vIFJldHVybiBcdTAwQjEwIGlmIHggaXMgXHUwMEIxMCBvciB5IGlzIFx1MDBCMUluZmluaXR5LCBvciByZXR1cm4gXHUwMEIxSW5maW5pdHkgYXMgeSBpcyBcdTAwQjEwLlxyXG4gICAgICAgICAgeGMgJiYgeGNbMF0gPT0gMCB8fCAheWMgPyBzICogMCA6IHMgLyAwXHJcbiAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBxID0gbmV3IEJpZ051bWJlcihzKTtcclxuICAgICAgcWMgPSBxLmMgPSBbXTtcclxuICAgICAgZSA9IHguZSAtIHkuZTtcclxuICAgICAgcyA9IGRwICsgZSArIDE7XHJcblxyXG4gICAgICBpZiAoIWJhc2UpIHtcclxuICAgICAgICBiYXNlID0gQkFTRTtcclxuICAgICAgICBlID0gYml0Rmxvb3IoeC5lIC8gTE9HX0JBU0UpIC0gYml0Rmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xyXG4gICAgICAgIHMgPSBzIC8gTE9HX0JBU0UgfCAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZXN1bHQgZXhwb25lbnQgbWF5IGJlIG9uZSBsZXNzIHRoZW4gdGhlIGN1cnJlbnQgdmFsdWUgb2YgZS5cclxuICAgICAgLy8gVGhlIGNvZWZmaWNpZW50cyBvZiB0aGUgQmlnTnVtYmVycyBmcm9tIGNvbnZlcnRCYXNlIG1heSBoYXZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKGkgPSAwOyB5Y1tpXSA9PSAoeGNbaV0gfHwgMCk7IGkrKyk7XHJcblxyXG4gICAgICBpZiAoeWNbaV0gPiAoeGNbaV0gfHwgMCkpIGUtLTtcclxuXHJcbiAgICAgIGlmIChzIDwgMCkge1xyXG4gICAgICAgIHFjLnB1c2goMSk7XHJcbiAgICAgICAgbW9yZSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeEwgPSB4Yy5sZW5ndGg7XHJcbiAgICAgICAgeUwgPSB5Yy5sZW5ndGg7XHJcbiAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgcyArPSAyO1xyXG5cclxuICAgICAgICAvLyBOb3JtYWxpc2UgeGMgYW5kIHljIHNvIGhpZ2hlc3Qgb3JkZXIgZGlnaXQgb2YgeWMgaXMgPj0gYmFzZSAvIDIuXHJcblxyXG4gICAgICAgIG4gPSBtYXRoZmxvb3IoYmFzZSAvICh5Y1swXSArIDEpKTtcclxuXHJcbiAgICAgICAgLy8gTm90IG5lY2Vzc2FyeSwgYnV0IHRvIGhhbmRsZSBvZGQgYmFzZXMgd2hlcmUgeWNbMF0gPT0gKGJhc2UgLyAyKSAtIDEuXHJcbiAgICAgICAgLy8gaWYgKG4gPiAxIHx8IG4rKyA9PSAxICYmIHljWzBdIDwgYmFzZSAvIDIpIHtcclxuICAgICAgICBpZiAobiA+IDEpIHtcclxuICAgICAgICAgIHljID0gbXVsdGlwbHkoeWMsIG4sIGJhc2UpO1xyXG4gICAgICAgICAgeGMgPSBtdWx0aXBseSh4YywgbiwgYmFzZSk7XHJcbiAgICAgICAgICB5TCA9IHljLmxlbmd0aDtcclxuICAgICAgICAgIHhMID0geGMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeGkgPSB5TDtcclxuICAgICAgICByZW0gPSB4Yy5zbGljZSgwLCB5TCk7XHJcbiAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgIC8vIEFkZCB6ZXJvcyB0byBtYWtlIHJlbWFpbmRlciBhcyBsb25nIGFzIGRpdmlzb3IuXHJcbiAgICAgICAgZm9yICg7IHJlbUwgPCB5TDsgcmVtW3JlbUwrK10gPSAwKTtcclxuICAgICAgICB5eiA9IHljLnNsaWNlKCk7XHJcbiAgICAgICAgeXogPSBbMF0uY29uY2F0KHl6KTtcclxuICAgICAgICB5YzAgPSB5Y1swXTtcclxuICAgICAgICBpZiAoeWNbMV0gPj0gYmFzZSAvIDIpIHljMCsrO1xyXG4gICAgICAgIC8vIE5vdCBuZWNlc3NhcnksIGJ1dCB0byBwcmV2ZW50IHRyaWFsIGRpZ2l0IG4gPiBiYXNlLCB3aGVuIHVzaW5nIGJhc2UgMy5cclxuICAgICAgICAvLyBlbHNlIGlmIChiYXNlID09IDMgJiYgeWMwID09IDEpIHljMCA9IDEgKyAxZS0xNTtcclxuXHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgbiA9IDA7XHJcblxyXG4gICAgICAgICAgLy8gQ29tcGFyZSBkaXZpc29yIGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgICBjbXAgPSBjb21wYXJlKHljLCByZW0sIHlMLCByZW1MKTtcclxuXHJcbiAgICAgICAgICAvLyBJZiBkaXZpc29yIDwgcmVtYWluZGVyLlxyXG4gICAgICAgICAgaWYgKGNtcCA8IDApIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0cmlhbCBkaWdpdCwgbi5cclxuXHJcbiAgICAgICAgICAgIHJlbTAgPSByZW1bMF07XHJcbiAgICAgICAgICAgIGlmICh5TCAhPSByZW1MKSByZW0wID0gcmVtMCAqIGJhc2UgKyAocmVtWzFdIHx8IDApO1xyXG5cclxuICAgICAgICAgICAgLy8gbiBpcyBob3cgbWFueSB0aW1lcyB0aGUgZGl2aXNvciBnb2VzIGludG8gdGhlIGN1cnJlbnQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBuID0gbWF0aGZsb29yKHJlbTAgLyB5YzApO1xyXG5cclxuICAgICAgICAgICAgLy8gIEFsZ29yaXRobTpcclxuICAgICAgICAgICAgLy8gIHByb2R1Y3QgPSBkaXZpc29yIG11bHRpcGxpZWQgYnkgdHJpYWwgZGlnaXQgKG4pLlxyXG4gICAgICAgICAgICAvLyAgQ29tcGFyZSBwcm9kdWN0IGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIC8vICBJZiBwcm9kdWN0IGlzIGdyZWF0ZXIgdGhhbiByZW1haW5kZXI6XHJcbiAgICAgICAgICAgIC8vICAgIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSBwcm9kdWN0LCBkZWNyZW1lbnQgdHJpYWwgZGlnaXQuXHJcbiAgICAgICAgICAgIC8vICBTdWJ0cmFjdCBwcm9kdWN0IGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAvLyAgSWYgcHJvZHVjdCB3YXMgbGVzcyB0aGFuIHJlbWFpbmRlciBhdCB0aGUgbGFzdCBjb21wYXJlOlxyXG4gICAgICAgICAgICAvLyAgICBDb21wYXJlIG5ldyByZW1haW5kZXIgYW5kIGRpdmlzb3IuXHJcbiAgICAgICAgICAgIC8vICAgIElmIHJlbWFpbmRlciBpcyBncmVhdGVyIHRoYW4gZGl2aXNvcjpcclxuICAgICAgICAgICAgLy8gICAgICBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLCBpbmNyZW1lbnQgdHJpYWwgZGlnaXQuXHJcblxyXG4gICAgICAgICAgICBpZiAobiA+IDEpIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gbiBtYXkgYmUgPiBiYXNlIG9ubHkgd2hlbiBiYXNlIGlzIDMuXHJcbiAgICAgICAgICAgICAgaWYgKG4gPj0gYmFzZSkgbiA9IGJhc2UgLSAxO1xyXG5cclxuICAgICAgICAgICAgICAvLyBwcm9kdWN0ID0gZGl2aXNvciAqIHRyaWFsIGRpZ2l0LlxyXG4gICAgICAgICAgICAgIHByb2QgPSBtdWx0aXBseSh5YywgbiwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ29tcGFyZSBwcm9kdWN0IGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgLy8gSWYgcHJvZHVjdCA+IHJlbWFpbmRlciB0aGVuIHRyaWFsIGRpZ2l0IG4gdG9vIGhpZ2guXHJcbiAgICAgICAgICAgICAgLy8gbiBpcyAxIHRvbyBoaWdoIGFib3V0IDUlIG9mIHRoZSB0aW1lLCBhbmQgaXMgbm90IGtub3duIHRvIGhhdmVcclxuICAgICAgICAgICAgICAvLyBldmVyIGJlZW4gbW9yZSB0aGFuIDEgdG9vIGhpZ2guXHJcbiAgICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUocHJvZCwgcmVtLCBwcm9kTCwgcmVtTCkgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgbi0tO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSBwcm9kdWN0LlxyXG4gICAgICAgICAgICAgICAgc3VidHJhY3QocHJvZCwgeUwgPCBwcm9kTCA/IHl6IDogeWMsIHByb2RMLCBiYXNlKTtcclxuICAgICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBjbXAgPSAxO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gbiBpcyAwIG9yIDEsIGNtcCBpcyAtMS5cclxuICAgICAgICAgICAgICAvLyBJZiBuIGlzIDAsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY29tcGFyZSB5YyBhbmQgcmVtIGFnYWluIGJlbG93LFxyXG4gICAgICAgICAgICAgIC8vIHNvIGNoYW5nZSBjbXAgdG8gMSB0byBhdm9pZCBpdC5cclxuICAgICAgICAgICAgICAvLyBJZiBuIGlzIDEsIGxlYXZlIGNtcCBhcyAtMSwgc28geWMgYW5kIHJlbSBhcmUgY29tcGFyZWQgYWdhaW4uXHJcbiAgICAgICAgICAgICAgaWYgKG4gPT0gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGRpdmlzb3IgPCByZW1haW5kZXIsIHNvIG4gbXVzdCBiZSBhdCBsZWFzdCAxLlxyXG4gICAgICAgICAgICAgICAgY21wID0gbiA9IDE7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBwcm9kdWN0ID0gZGl2aXNvclxyXG4gICAgICAgICAgICAgIHByb2QgPSB5Yy5zbGljZSgpO1xyXG4gICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwcm9kTCA8IHJlbUwpIHByb2QgPSBbMF0uY29uY2F0KHByb2QpO1xyXG5cclxuICAgICAgICAgICAgLy8gU3VidHJhY3QgcHJvZHVjdCBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgc3VidHJhY3QocmVtLCBwcm9kLCByZW1MLCBiYXNlKTtcclxuICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgLy8gSWYgcHJvZHVjdCB3YXMgPCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ29tcGFyZSBkaXZpc29yIGFuZCBuZXcgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCBuZXcgcmVtYWluZGVyLCBzdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIC8vIFRyaWFsIGRpZ2l0IG4gdG9vIGxvdy5cclxuICAgICAgICAgICAgICAvLyBuIGlzIDEgdG9vIGxvdyBhYm91dCA1JSBvZiB0aGUgdGltZSwgYW5kIHZlcnkgcmFyZWx5IDIgdG9vIGxvdy5cclxuICAgICAgICAgICAgICB3aGlsZSAoY29tcGFyZSh5YywgcmVtLCB5TCwgcmVtTCkgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICBuKys7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgeUwgPCByZW1MID8geXogOiB5YywgcmVtTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09PSAwKSB7XHJcbiAgICAgICAgICAgIG4rKztcclxuICAgICAgICAgICAgcmVtID0gWzBdO1xyXG4gICAgICAgICAgfSAvLyBlbHNlIGNtcCA9PT0gMSBhbmQgbiB3aWxsIGJlIDBcclxuXHJcbiAgICAgICAgICAvLyBBZGQgdGhlIG5leHQgZGlnaXQsIG4sIHRvIHRoZSByZXN1bHQgYXJyYXkuXHJcbiAgICAgICAgICBxY1tpKytdID0gbjtcclxuXHJcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHJlbWFpbmRlci5cclxuICAgICAgICAgIGlmIChyZW1bMF0pIHtcclxuICAgICAgICAgICAgcmVtW3JlbUwrK10gPSB4Y1t4aV0gfHwgMDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlbSA9IFt4Y1t4aV1dO1xyXG4gICAgICAgICAgICByZW1MID0gMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IHdoaWxlICgoeGkrKyA8IHhMIHx8IHJlbVswXSAhPSBudWxsKSAmJiBzLS0pO1xyXG5cclxuICAgICAgICBtb3JlID0gcmVtWzBdICE9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIExlYWRpbmcgemVybz9cclxuICAgICAgICBpZiAoIXFjWzBdKSBxYy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChiYXNlID09IEJBU0UpIHtcclxuXHJcbiAgICAgICAgLy8gVG8gY2FsY3VsYXRlIHEuZSwgZmlyc3QgZ2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHFjWzBdLlxyXG4gICAgICAgIGZvciAoaSA9IDEsIHMgPSBxY1swXTsgcyA+PSAxMDsgcyAvPSAxMCwgaSsrKTtcclxuXHJcbiAgICAgICAgcm91bmQocSwgZHAgKyAocS5lID0gaSArIGUgKiBMT0dfQkFTRSAtIDEpICsgMSwgcm0sIG1vcmUpO1xyXG5cclxuICAgICAgLy8gQ2FsbGVyIGlzIGNvbnZlcnRCYXNlLlxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHEuZSA9IGU7XHJcbiAgICAgICAgcS5yID0gK21vcmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBxO1xyXG4gICAgfTtcclxuICB9KSgpO1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIgbiBpbiBmaXhlZC1wb2ludCBvciBleHBvbmVudGlhbFxyXG4gICAqIG5vdGF0aW9uIHJvdW5kZWQgdG8gdGhlIHNwZWNpZmllZCBkZWNpbWFsIHBsYWNlcyBvciBzaWduaWZpY2FudCBkaWdpdHMuXHJcbiAgICpcclxuICAgKiBuOiBhIEJpZ051bWJlci5cclxuICAgKiBpOiB0aGUgaW5kZXggb2YgdGhlIGxhc3QgZGlnaXQgcmVxdWlyZWQgKGkuZS4gdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXApLlxyXG4gICAqIHJtOiB0aGUgcm91bmRpbmcgbW9kZS5cclxuICAgKiBpZDogMSAodG9FeHBvbmVudGlhbCkgb3IgMiAodG9QcmVjaXNpb24pLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGZvcm1hdChuLCBpLCBybSwgaWQpIHtcclxuICAgIHZhciBjMCwgZSwgbmUsIGxlbiwgc3RyO1xyXG5cclxuICAgIGlmIChybSA9PSBudWxsKSBybSA9IFJPVU5ESU5HX01PREU7XHJcbiAgICBlbHNlIGludENoZWNrKHJtLCAwLCA4KTtcclxuXHJcbiAgICBpZiAoIW4uYykgcmV0dXJuIG4udG9TdHJpbmcoKTtcclxuXHJcbiAgICBjMCA9IG4uY1swXTtcclxuICAgIG5lID0gbi5lO1xyXG5cclxuICAgIGlmIChpID09IG51bGwpIHtcclxuICAgICAgc3RyID0gY29lZmZUb1N0cmluZyhuLmMpO1xyXG4gICAgICBzdHIgPSBpZCA9PSAxIHx8IGlkID09IDIgJiYgKG5lIDw9IFRPX0VYUF9ORUcgfHwgbmUgPj0gVE9fRVhQX1BPUylcclxuICAgICAgID8gdG9FeHBvbmVudGlhbChzdHIsIG5lKVxyXG4gICAgICAgOiB0b0ZpeGVkUG9pbnQoc3RyLCBuZSwgJzAnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG4gPSByb3VuZChuZXcgQmlnTnVtYmVyKG4pLCBpLCBybSk7XHJcblxyXG4gICAgICAvLyBuLmUgbWF5IGhhdmUgY2hhbmdlZCBpZiB0aGUgdmFsdWUgd2FzIHJvdW5kZWQgdXAuXHJcbiAgICAgIGUgPSBuLmU7XHJcblxyXG4gICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XHJcbiAgICAgIGxlbiA9IHN0ci5sZW5ndGg7XHJcblxyXG4gICAgICAvLyB0b1ByZWNpc2lvbiByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uIGlmIHRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAgICAgIC8vIHNwZWNpZmllZCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHMgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgaW50ZWdlclxyXG4gICAgICAvLyBwYXJ0IG9mIHRoZSB2YWx1ZSBpbiBmaXhlZC1wb2ludCBub3RhdGlvbi5cclxuXHJcbiAgICAgIC8vIEV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgICBpZiAoaWQgPT0gMSB8fCBpZCA9PSAyICYmIChpIDw9IGUgfHwgZSA8PSBUT19FWFBfTkVHKSkge1xyXG5cclxuICAgICAgICAvLyBBcHBlbmQgemVyb3M/XHJcbiAgICAgICAgZm9yICg7IGxlbiA8IGk7IHN0ciArPSAnMCcsIGxlbisrKTtcclxuICAgICAgICBzdHIgPSB0b0V4cG9uZW50aWFsKHN0ciwgZSk7XHJcblxyXG4gICAgICAvLyBGaXhlZC1wb2ludCBub3RhdGlvbi5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpIC09IG5lO1xyXG4gICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludChzdHIsIGUsICcwJyk7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB6ZXJvcz9cclxuICAgICAgICBpZiAoZSArIDEgPiBsZW4pIHtcclxuICAgICAgICAgIGlmICgtLWkgPiAwKSBmb3IgKHN0ciArPSAnLic7IGktLTsgc3RyICs9ICcwJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGkgKz0gZSAtIGxlbjtcclxuICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICBpZiAoZSArIDEgPT0gbGVuKSBzdHIgKz0gJy4nO1xyXG4gICAgICAgICAgICBmb3IgKDsgaS0tOyBzdHIgKz0gJzAnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbi5zIDwgMCAmJiBjMCA/ICctJyArIHN0ciA6IHN0cjtcclxuICB9XHJcblxyXG5cclxuICAvLyBIYW5kbGUgQmlnTnVtYmVyLm1heCBhbmQgQmlnTnVtYmVyLm1pbi5cclxuICAvLyBJZiBhbnkgbnVtYmVyIGlzIE5hTiwgcmV0dXJuIE5hTi5cclxuICBmdW5jdGlvbiBtYXhPck1pbihhcmdzLCBuKSB7XHJcbiAgICB2YXIgaywgeSxcclxuICAgICAgaSA9IDEsXHJcbiAgICAgIHggPSBuZXcgQmlnTnVtYmVyKGFyZ3NbMF0pO1xyXG5cclxuICAgIGZvciAoOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB5ID0gbmV3IEJpZ051bWJlcihhcmdzW2ldKTtcclxuICAgICAgaWYgKCF5LnMgfHwgKGsgPSBjb21wYXJlKHgsIHkpKSA9PT0gbiB8fCBrID09PSAwICYmIHgucyA9PT0gbikge1xyXG4gICAgICAgIHggPSB5O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBTdHJpcCB0cmFpbGluZyB6ZXJvcywgY2FsY3VsYXRlIGJhc2UgMTAgZXhwb25lbnQgYW5kIGNoZWNrIGFnYWluc3QgTUlOX0VYUCBhbmQgTUFYX0VYUC5cclxuICAgKiBDYWxsZWQgYnkgbWludXMsIHBsdXMgYW5kIHRpbWVzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG5vcm1hbGlzZShuLCBjLCBlKSB7XHJcbiAgICB2YXIgaSA9IDEsXHJcbiAgICAgIGogPSBjLmxlbmd0aDtcclxuXHJcbiAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yICg7ICFjWy0tal07IGMucG9wKCkpO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB0aGUgYmFzZSAxMCBleHBvbmVudC4gRmlyc3QgZ2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIGNbMF0uXHJcbiAgICBmb3IgKGogPSBjWzBdOyBqID49IDEwOyBqIC89IDEwLCBpKyspO1xyXG5cclxuICAgIC8vIE92ZXJmbG93P1xyXG4gICAgaWYgKChlID0gaSArIGUgKiBMT0dfQkFTRSAtIDEpID4gTUFYX0VYUCkge1xyXG5cclxuICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgIG4uYyA9IG4uZSA9IG51bGw7XHJcblxyXG4gICAgLy8gVW5kZXJmbG93P1xyXG4gICAgfSBlbHNlIGlmIChlIDwgTUlOX0VYUCkge1xyXG5cclxuICAgICAgLy8gWmVyby5cclxuICAgICAgbi5jID0gW24uZSA9IDBdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbi5lID0gZTtcclxuICAgICAgbi5jID0gYztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbjtcclxuICB9XHJcblxyXG5cclxuICAvLyBIYW5kbGUgdmFsdWVzIHRoYXQgZmFpbCB0aGUgdmFsaWRpdHkgdGVzdCBpbiBCaWdOdW1iZXIuXHJcbiAgcGFyc2VOdW1lcmljID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBiYXNlUHJlZml4ID0gL14oLT8pMChbeGJvXSkoPz1cXHdbXFx3Ll0qJCkvaSxcclxuICAgICAgZG90QWZ0ZXIgPSAvXihbXi5dKylcXC4kLyxcclxuICAgICAgZG90QmVmb3JlID0gL15cXC4oW14uXSspJC8sXHJcbiAgICAgIGlzSW5maW5pdHlPck5hTiA9IC9eLT8oSW5maW5pdHl8TmFOKSQvLFxyXG4gICAgICB3aGl0ZXNwYWNlT3JQbHVzID0gL15cXHMqXFwrKD89W1xcdy5dKXxeXFxzK3xcXHMrJC9nO1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiAoeCwgc3RyLCBpc051bSwgYikge1xyXG4gICAgICB2YXIgYmFzZSxcclxuICAgICAgICBzID0gaXNOdW0gPyBzdHIgOiBzdHIucmVwbGFjZSh3aGl0ZXNwYWNlT3JQbHVzLCAnJyk7XHJcblxyXG4gICAgICAvLyBObyBleGNlcHRpb24gb24gXHUwMEIxSW5maW5pdHkgb3IgTmFOLlxyXG4gICAgICBpZiAoaXNJbmZpbml0eU9yTmFOLnRlc3QocykpIHtcclxuICAgICAgICB4LnMgPSBpc05hTihzKSA/IG51bGwgOiBzIDwgMCA/IC0xIDogMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoIWlzTnVtKSB7XHJcblxyXG4gICAgICAgICAgLy8gYmFzZVByZWZpeCA9IC9eKC0/KTAoW3hib10pKD89XFx3W1xcdy5dKiQpL2lcclxuICAgICAgICAgIHMgPSBzLnJlcGxhY2UoYmFzZVByZWZpeCwgZnVuY3Rpb24gKG0sIHAxLCBwMikge1xyXG4gICAgICAgICAgICBiYXNlID0gKHAyID0gcDIudG9Mb3dlckNhc2UoKSkgPT0gJ3gnID8gMTYgOiBwMiA9PSAnYicgPyAyIDogODtcclxuICAgICAgICAgICAgcmV0dXJuICFiIHx8IGIgPT0gYmFzZSA/IHAxIDogbTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmIChiKSB7XHJcbiAgICAgICAgICAgIGJhc2UgPSBiO1xyXG5cclxuICAgICAgICAgICAgLy8gRS5nLiAnMS4nIHRvICcxJywgJy4xJyB0byAnMC4xJ1xyXG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKGRvdEFmdGVyLCAnJDEnKS5yZXBsYWNlKGRvdEJlZm9yZSwgJzAuJDEnKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoc3RyICE9IHMpIHJldHVybiBuZXcgQmlnTnVtYmVyKHMsIGJhc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE5vdCBhIG51bWJlcjoge259J1xyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBOb3QgYSBiYXNlIHtifSBudW1iZXI6IHtufSdcclxuICAgICAgICBpZiAoQmlnTnVtYmVyLkRFQlVHKSB7XHJcbiAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnTm90IGEnICsgKGIgPyAnIGJhc2UgJyArIGIgOiAnJykgKyAnIG51bWJlcjogJyArIHN0cik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOYU5cclxuICAgICAgICB4LnMgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG4gICAgfVxyXG4gIH0pKCk7XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJvdW5kIHggdG8gc2Qgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0uIENoZWNrIGZvciBvdmVyL3VuZGVyLWZsb3cuXHJcbiAgICogSWYgciBpcyB0cnV0aHksIGl0IGlzIGtub3duIHRoYXQgdGhlcmUgYXJlIG1vcmUgZGlnaXRzIGFmdGVyIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgKi9cclxuICBmdW5jdGlvbiByb3VuZCh4LCBzZCwgcm0sIHIpIHtcclxuICAgIHZhciBkLCBpLCBqLCBrLCBuLCBuaSwgcmQsXHJcbiAgICAgIHhjID0geC5jLFxyXG4gICAgICBwb3dzMTAgPSBQT1dTX1RFTjtcclxuXHJcbiAgICAvLyBpZiB4IGlzIG5vdCBJbmZpbml0eSBvciBOYU4uLi5cclxuICAgIGlmICh4Yykge1xyXG5cclxuICAgICAgLy8gcmQgaXMgdGhlIHJvdW5kaW5nIGRpZ2l0LCBpLmUuIHRoZSBkaWdpdCBhZnRlciB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cC5cclxuICAgICAgLy8gbiBpcyBhIGJhc2UgMWUxNCBudW1iZXIsIHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBvZiBhcnJheSB4LmMgY29udGFpbmluZyByZC5cclxuICAgICAgLy8gbmkgaXMgdGhlIGluZGV4IG9mIG4gd2l0aGluIHguYy5cclxuICAgICAgLy8gZCBpcyB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBuLlxyXG4gICAgICAvLyBpIGlzIHRoZSBpbmRleCBvZiByZCB3aXRoaW4gbiBpbmNsdWRpbmcgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgLy8gaiBpcyB0aGUgYWN0dWFsIGluZGV4IG9mIHJkIHdpdGhpbiBuIChpZiA8IDAsIHJkIGlzIGEgbGVhZGluZyB6ZXJvKS5cclxuICAgICAgb3V0OiB7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudCBvZiB4Yy5cclxuICAgICAgICBmb3IgKGQgPSAxLCBrID0geGNbMF07IGsgPj0gMTA7IGsgLz0gMTAsIGQrKyk7XHJcbiAgICAgICAgaSA9IHNkIC0gZDtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIGluIHRoZSBmaXJzdCBlbGVtZW50IG9mIHhjLi4uXHJcbiAgICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgICBpICs9IExPR19CQVNFO1xyXG4gICAgICAgICAgaiA9IHNkO1xyXG4gICAgICAgICAgbiA9IHhjW25pID0gMF07XHJcblxyXG4gICAgICAgICAgLy8gR2V0IHRoZSByb3VuZGluZyBkaWdpdCBhdCBpbmRleCBqIG9mIG4uXHJcbiAgICAgICAgICByZCA9IG1hdGhmbG9vcihuIC8gcG93czEwW2QgLSBqIC0gMV0gJSAxMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG5pID0gbWF0aGNlaWwoKGkgKyAxKSAvIExPR19CQVNFKTtcclxuXHJcbiAgICAgICAgICBpZiAobmkgPj0geGMubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAocikge1xyXG5cclxuICAgICAgICAgICAgICAvLyBOZWVkZWQgYnkgc3FydC5cclxuICAgICAgICAgICAgICBmb3IgKDsgeGMubGVuZ3RoIDw9IG5pOyB4Yy5wdXNoKDApKTtcclxuICAgICAgICAgICAgICBuID0gcmQgPSAwO1xyXG4gICAgICAgICAgICAgIGQgPSAxO1xyXG4gICAgICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcbiAgICAgICAgICAgICAgaiA9IGkgLSBMT0dfQkFTRSArIDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYnJlYWsgb3V0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuID0gayA9IHhjW25pXTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBuLlxyXG4gICAgICAgICAgICBmb3IgKGQgPSAxOyBrID49IDEwOyBrIC89IDEwLCBkKyspO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiByZCB3aXRoaW4gbi5cclxuICAgICAgICAgICAgaSAlPSBMT0dfQkFTRTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4sIGFkanVzdGVkIGZvciBsZWFkaW5nIHplcm9zLlxyXG4gICAgICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2YgbiBpcyBnaXZlbiBieSBMT0dfQkFTRSAtIGQuXHJcbiAgICAgICAgICAgIGogPSBpIC0gTE9HX0JBU0UgKyBkO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IHRoZSByb3VuZGluZyBkaWdpdCBhdCBpbmRleCBqIG9mIG4uXHJcbiAgICAgICAgICAgIHJkID0gaiA8IDAgPyAwIDogbWF0aGZsb29yKG4gLyBwb3dzMTBbZCAtIGogLSAxXSAlIDEwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHIgPSByIHx8IHNkIDwgMCB8fFxyXG5cclxuICAgICAgICAvLyBBcmUgdGhlcmUgYW55IG5vbi16ZXJvIGRpZ2l0cyBhZnRlciB0aGUgcm91bmRpbmcgZGlnaXQ/XHJcbiAgICAgICAgLy8gVGhlIGV4cHJlc3Npb24gIG4gJSBwb3dzMTBbZCAtIGogLSAxXSAgcmV0dXJucyBhbGwgZGlnaXRzIG9mIG4gdG8gdGhlIHJpZ2h0XHJcbiAgICAgICAgLy8gb2YgdGhlIGRpZ2l0IGF0IGosIGUuZy4gaWYgbiBpcyA5MDg3MTQgYW5kIGogaXMgMiwgdGhlIGV4cHJlc3Npb24gZ2l2ZXMgNzE0LlxyXG4gICAgICAgICB4Y1tuaSArIDFdICE9IG51bGwgfHwgKGogPCAwID8gbiA6IG4gJSBwb3dzMTBbZCAtIGogLSAxXSk7XHJcblxyXG4gICAgICAgIHIgPSBybSA8IDRcclxuICAgICAgICAgPyAocmQgfHwgcikgJiYgKHJtID09IDAgfHwgcm0gPT0gKHgucyA8IDAgPyAzIDogMikpXHJcbiAgICAgICAgIDogcmQgPiA1IHx8IHJkID09IDUgJiYgKHJtID09IDQgfHwgciB8fCBybSA9PSA2ICYmXHJcblxyXG4gICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgZGlnaXQgdG8gdGhlIGxlZnQgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIG9kZC5cclxuICAgICAgICAgICgoaSA+IDAgPyBqID4gMCA/IG4gLyBwb3dzMTBbZCAtIGpdIDogMCA6IHhjW25pIC0gMV0pICUgMTApICYgMSB8fFxyXG4gICAgICAgICAgIHJtID09ICh4LnMgPCAwID8gOCA6IDcpKTtcclxuXHJcbiAgICAgICAgaWYgKHNkIDwgMSB8fCAheGNbMF0pIHtcclxuICAgICAgICAgIHhjLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgc2QgdG8gZGVjaW1hbCBwbGFjZXMuXHJcbiAgICAgICAgICAgIHNkIC09IHguZSArIDE7XHJcblxyXG4gICAgICAgICAgICAvLyAxLCAwLjEsIDAuMDEsIDAuMDAxLCAwLjAwMDEgZXRjLlxyXG4gICAgICAgICAgICB4Y1swXSA9IHBvd3MxMFsoTE9HX0JBU0UgLSBzZCAlIExPR19CQVNFKSAlIExPR19CQVNFXTtcclxuICAgICAgICAgICAgeC5lID0gLXNkIHx8IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLy8gWmVyby5cclxuICAgICAgICAgICAgeGNbMF0gPSB4LmUgPSAwO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGV4Y2VzcyBkaWdpdHMuXHJcbiAgICAgICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICAgICAgeGMubGVuZ3RoID0gbmk7XHJcbiAgICAgICAgICBrID0gMTtcclxuICAgICAgICAgIG5pLS07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHhjLmxlbmd0aCA9IG5pICsgMTtcclxuICAgICAgICAgIGsgPSBwb3dzMTBbTE9HX0JBU0UgLSBpXTtcclxuXHJcbiAgICAgICAgICAvLyBFLmcuIDU2NzAwIGJlY29tZXMgNTYwMDAgaWYgNyBpcyB0aGUgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICAvLyBqID4gMCBtZWFucyBpID4gbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2Ygbi5cclxuICAgICAgICAgIHhjW25pXSA9IGogPiAwID8gbWF0aGZsb29yKG4gLyBwb3dzMTBbZCAtIGpdICUgcG93czEwW2pdKSAqIGsgOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUm91bmQgdXA/XHJcbiAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICBmb3IgKDsgOykge1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIGRpZ2l0IHRvIGJlIHJvdW5kZWQgdXAgaXMgaW4gdGhlIGZpcnN0IGVsZW1lbnQgb2YgeGMuLi5cclxuICAgICAgICAgICAgaWYgKG5pID09IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gaSB3aWxsIGJlIHRoZSBsZW5ndGggb2YgeGNbMF0gYmVmb3JlIGsgaXMgYWRkZWQuXHJcbiAgICAgICAgICAgICAgZm9yIChpID0gMSwgaiA9IHhjWzBdOyBqID49IDEwOyBqIC89IDEwLCBpKyspO1xyXG4gICAgICAgICAgICAgIGogPSB4Y1swXSArPSBrO1xyXG4gICAgICAgICAgICAgIGZvciAoayA9IDE7IGogPj0gMTA7IGogLz0gMTAsIGsrKyk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIGlmIGkgIT0gayB0aGUgbGVuZ3RoIGhhcyBpbmNyZWFzZWQuXHJcbiAgICAgICAgICAgICAgaWYgKGkgIT0gaykge1xyXG4gICAgICAgICAgICAgICAgeC5lKys7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGNbMF0gPT0gQkFTRSkgeGNbMF0gPSAxO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgeGNbbmldICs9IGs7XHJcbiAgICAgICAgICAgICAgaWYgKHhjW25pXSAhPSBCQVNFKSBicmVhaztcclxuICAgICAgICAgICAgICB4Y1tuaS0tXSA9IDA7XHJcbiAgICAgICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgICBmb3IgKGkgPSB4Yy5sZW5ndGg7IHhjWy0taV0gPT09IDA7IHhjLnBvcCgpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gT3ZlcmZsb3c/IEluZmluaXR5LlxyXG4gICAgICBpZiAoeC5lID4gTUFYX0VYUCkge1xyXG4gICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcblxyXG4gICAgICAvLyBVbmRlcmZsb3c/IFplcm8uXHJcbiAgICAgIH0gZWxzZSBpZiAoeC5lIDwgTUlOX0VYUCkge1xyXG4gICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIHZhbHVlT2Yobikge1xyXG4gICAgdmFyIHN0cixcclxuICAgICAgZSA9IG4uZTtcclxuXHJcbiAgICBpZiAoZSA9PT0gbnVsbCkgcmV0dXJuIG4udG9TdHJpbmcoKTtcclxuXHJcbiAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XHJcblxyXG4gICAgc3RyID0gZSA8PSBUT19FWFBfTkVHIHx8IGUgPj0gVE9fRVhQX1BPU1xyXG4gICAgICA/IHRvRXhwb25lbnRpYWwoc3RyLCBlKVxyXG4gICAgICA6IHRvRml4ZWRQb2ludChzdHIsIGUsICcwJyk7XHJcblxyXG4gICAgcmV0dXJuIG4ucyA8IDAgPyAnLScgKyBzdHIgOiBzdHI7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gUFJPVE9UWVBFL0lOU1RBTkNFIE1FVEhPRFNcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIuXHJcbiAgICovXHJcbiAgUC5hYnNvbHV0ZVZhbHVlID0gUC5hYnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgeCA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICBpZiAoeC5zIDwgMCkgeC5zID0gMTtcclxuICAgIHJldHVybiB4O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVyblxyXG4gICAqICAgMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogICAtMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogICAwIGlmIHRoZXkgaGF2ZSB0aGUgc2FtZSB2YWx1ZSxcclxuICAgKiAgIG9yIG51bGwgaWYgdGhlIHZhbHVlIG9mIGVpdGhlciBpcyBOYU4uXHJcbiAgICovXHJcbiAgUC5jb21wYXJlZFRvID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIElmIGRwIGlzIHVuZGVmaW5lZCBvciBudWxsIG9yIHRydWUgb3IgZmFsc2UsIHJldHVybiB0aGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIG9mIHRoZVxyXG4gICAqIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLCBvciBudWxsIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBcdTAwQjFJbmZpbml0eSBvciBOYU4uXHJcbiAgICpcclxuICAgKiBPdGhlcndpc2UsIGlmIGRwIGlzIGEgbnVtYmVyLCByZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICogQmlnTnVtYmVyIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIGRwIGRlY2ltYWwgcGxhY2VzIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yXHJcbiAgICogUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxyXG4gICAqXHJcbiAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlczogaW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAqL1xyXG4gIFAuZGVjaW1hbFBsYWNlcyA9IFAuZHAgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgICB2YXIgYywgbiwgdixcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgaWYgKGRwICE9IG51bGwpIHtcclxuICAgICAgaW50Q2hlY2soZHAsIDAsIE1BWCk7XHJcbiAgICAgIGlmIChybSA9PSBudWxsKSBybSA9IFJPVU5ESU5HX01PREU7XHJcbiAgICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG5cclxuICAgICAgcmV0dXJuIHJvdW5kKG5ldyBCaWdOdW1iZXIoeCksIGRwICsgeC5lICsgMSwgcm0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghKGMgPSB4LmMpKSByZXR1cm4gbnVsbDtcclxuICAgIG4gPSAoKHYgPSBjLmxlbmd0aCAtIDEpIC0gYml0Rmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpKSAqIExPR19CQVNFO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3Mgb2YgdGhlIGxhc3QgbnVtYmVyLlxyXG4gICAgaWYgKHYgPSBjW3ZdKSBmb3IgKDsgdiAlIDEwID09IDA7IHYgLz0gMTAsIG4tLSk7XHJcbiAgICBpZiAobiA8IDApIG4gPSAwO1xyXG5cclxuICAgIHJldHVybiBuO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqICBuIC8gMCA9IElcclxuICAgKiAgbiAvIE4gPSBOXHJcbiAgICogIG4gLyBJID0gMFxyXG4gICAqICAwIC8gbiA9IDBcclxuICAgKiAgMCAvIDAgPSBOXHJcbiAgICogIDAgLyBOID0gTlxyXG4gICAqICAwIC8gSSA9IDBcclxuICAgKiAgTiAvIG4gPSBOXHJcbiAgICogIE4gLyAwID0gTlxyXG4gICAqICBOIC8gTiA9IE5cclxuICAgKiAgTiAvIEkgPSBOXHJcbiAgICogIEkgLyBuID0gSVxyXG4gICAqICBJIC8gMCA9IElcclxuICAgKiAgSSAvIE4gPSBOXHJcbiAgICogIEkgLyBJID0gTlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgZGl2aWRlZCBieSB0aGUgdmFsdWUgb2ZcclxuICAgKiBCaWdOdW1iZXIoeSwgYiksIHJvdW5kZWQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZCBST1VORElOR19NT0RFLlxyXG4gICAqL1xyXG4gIFAuZGl2aWRlZEJ5ID0gUC5kaXYgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgcmV0dXJuIGRpdih0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpLCBERUNJTUFMX1BMQUNFUywgUk9VTkRJTkdfTU9ERSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgaW50ZWdlciBwYXJ0IG9mIGRpdmlkaW5nIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICogQmlnTnVtYmVyIGJ5IHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYikuXHJcbiAgICovXHJcbiAgUC5kaXZpZGVkVG9JbnRlZ2VyQnkgPSBQLmlkaXYgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgcmV0dXJuIGRpdih0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpLCAwLCAxKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGV4cG9uZW50aWF0ZWQgYnkgbi5cclxuICAgKlxyXG4gICAqIElmIG0gaXMgcHJlc2VudCwgcmV0dXJuIHRoZSByZXN1bHQgbW9kdWxvIG0uXHJcbiAgICogSWYgbiBpcyBuZWdhdGl2ZSByb3VuZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kIFJPVU5ESU5HX01PREUuXHJcbiAgICogSWYgUE9XX1BSRUNJU0lPTiBpcyBub24temVybyBhbmQgbSBpcyBub3QgcHJlc2VudCwgcm91bmQgdG8gUE9XX1BSRUNJU0lPTiB1c2luZyBST1VORElOR19NT0RFLlxyXG4gICAqXHJcbiAgICogVGhlIG1vZHVsYXIgcG93ZXIgb3BlcmF0aW9uIHdvcmtzIGVmZmljaWVudGx5IHdoZW4geCwgbiwgYW5kIG0gYXJlIGludGVnZXJzLCBvdGhlcndpc2UgaXRcclxuICAgKiBpcyBlcXVpdmFsZW50IHRvIGNhbGN1bGF0aW5nIHguZXhwb25lbnRpYXRlZEJ5KG4pLm1vZHVsbyhtKSB3aXRoIGEgUE9XX1BSRUNJU0lPTiBvZiAwLlxyXG4gICAqXHJcbiAgICogbiB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9IFRoZSBleHBvbmVudC4gQW4gaW50ZWdlci5cclxuICAgKiBbbV0ge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBUaGUgbW9kdWx1cy5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBFeHBvbmVudCBub3QgYW4gaW50ZWdlcjoge259J1xyXG4gICAqL1xyXG4gIFAuZXhwb25lbnRpYXRlZEJ5ID0gUC5wb3cgPSBmdW5jdGlvbiAobiwgbSkge1xyXG4gICAgdmFyIGhhbGYsIGlzTW9kRXhwLCBpLCBrLCBtb3JlLCBuSXNCaWcsIG5Jc05lZywgbklzT2RkLCB5LFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICBuID0gbmV3IEJpZ051bWJlcihuKTtcclxuXHJcbiAgICAvLyBBbGxvdyBOYU4gYW5kIFx1MDBCMUluZmluaXR5LCBidXQgbm90IG90aGVyIG5vbi1pbnRlZ2Vycy5cclxuICAgIGlmIChuLmMgJiYgIW4uaXNJbnRlZ2VyKCkpIHtcclxuICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnRXhwb25lbnQgbm90IGFuIGludGVnZXI6ICcgKyB2YWx1ZU9mKG4pKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobSAhPSBudWxsKSBtID0gbmV3IEJpZ051bWJlcihtKTtcclxuXHJcbiAgICAvLyBFeHBvbmVudCBvZiBNQVhfU0FGRV9JTlRFR0VSIGlzIDE1LlxyXG4gICAgbklzQmlnID0gbi5lID4gMTQ7XHJcblxyXG4gICAgLy8gSWYgeCBpcyBOYU4sIFx1MDBCMUluZmluaXR5LCBcdTAwQjEwIG9yIFx1MDBCMTEsIG9yIG4gaXMgXHUwMEIxSW5maW5pdHksIE5hTiBvciBcdTAwQjEwLlxyXG4gICAgaWYgKCF4LmMgfHwgIXguY1swXSB8fCB4LmNbMF0gPT0gMSAmJiAheC5lICYmIHguYy5sZW5ndGggPT0gMSB8fCAhbi5jIHx8ICFuLmNbMF0pIHtcclxuXHJcbiAgICAgIC8vIFRoZSBzaWduIG9mIHRoZSByZXN1bHQgb2YgcG93IHdoZW4geCBpcyBuZWdhdGl2ZSBkZXBlbmRzIG9uIHRoZSBldmVubmVzcyBvZiBuLlxyXG4gICAgICAvLyBJZiArbiBvdmVyZmxvd3MgdG8gXHUwMEIxSW5maW5pdHksIHRoZSBldmVubmVzcyBvZiBuIHdvdWxkIGJlIG5vdCBiZSBrbm93bi5cclxuICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoTWF0aC5wb3coK3ZhbHVlT2YoeCksIG5Jc0JpZyA/IG4ucyAqICgyIC0gaXNPZGQobikpIDogK3ZhbHVlT2YobikpKTtcclxuICAgICAgcmV0dXJuIG0gPyB5Lm1vZChtKSA6IHk7XHJcbiAgICB9XHJcblxyXG4gICAgbklzTmVnID0gbi5zIDwgMDtcclxuXHJcbiAgICBpZiAobSkge1xyXG5cclxuICAgICAgLy8geCAlIG0gcmV0dXJucyBOYU4gaWYgYWJzKG0pIGlzIHplcm8sIG9yIG0gaXMgTmFOLlxyXG4gICAgICBpZiAobS5jID8gIW0uY1swXSA6ICFtLnMpIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgICBpc01vZEV4cCA9ICFuSXNOZWcgJiYgeC5pc0ludGVnZXIoKSAmJiBtLmlzSW50ZWdlcigpO1xyXG5cclxuICAgICAgaWYgKGlzTW9kRXhwKSB4ID0geC5tb2QobSk7XHJcblxyXG4gICAgLy8gT3ZlcmZsb3cgdG8gXHUwMEIxSW5maW5pdHk6ID49MioqMWUxMCBvciA+PTEuMDAwMDAyNCoqMWUxNS5cclxuICAgIC8vIFVuZGVyZmxvdyB0byBcdTAwQjEwOiA8PTAuNzkqKjFlMTAgb3IgPD0wLjk5OTk5NzUqKjFlMTUuXHJcbiAgICB9IGVsc2UgaWYgKG4uZSA+IDkgJiYgKHguZSA+IDAgfHwgeC5lIDwgLTEgfHwgKHguZSA9PSAwXHJcbiAgICAgIC8vIFsxLCAyNDAwMDAwMDBdXHJcbiAgICAgID8geC5jWzBdID4gMSB8fCBuSXNCaWcgJiYgeC5jWzFdID49IDI0ZTdcclxuICAgICAgLy8gWzgwMDAwMDAwMDAwMDAwXSAgWzk5OTk5NzUwMDAwMDAwXVxyXG4gICAgICA6IHguY1swXSA8IDhlMTMgfHwgbklzQmlnICYmIHguY1swXSA8PSA5OTk5OTc1ZTcpKSkge1xyXG5cclxuICAgICAgLy8gSWYgeCBpcyBuZWdhdGl2ZSBhbmQgbiBpcyBvZGQsIGsgPSAtMCwgZWxzZSBrID0gMC5cclxuICAgICAgayA9IHgucyA8IDAgJiYgaXNPZGQobikgPyAtMCA6IDA7XHJcblxyXG4gICAgICAvLyBJZiB4ID49IDEsIGsgPSBcdTAwQjFJbmZpbml0eS5cclxuICAgICAgaWYgKHguZSA+IC0xKSBrID0gMSAvIGs7XHJcblxyXG4gICAgICAvLyBJZiBuIGlzIG5lZ2F0aXZlIHJldHVybiBcdTAwQjEwLCBlbHNlIHJldHVybiBcdTAwQjFJbmZpbml0eS5cclxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIobklzTmVnID8gMSAvIGsgOiBrKTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKFBPV19QUkVDSVNJT04pIHtcclxuXHJcbiAgICAgIC8vIFRydW5jYXRpbmcgZWFjaCBjb2VmZmljaWVudCBhcnJheSB0byBhIGxlbmd0aCBvZiBrIGFmdGVyIGVhY2ggbXVsdGlwbGljYXRpb25cclxuICAgICAgLy8gZXF1YXRlcyB0byB0cnVuY2F0aW5nIHNpZ25pZmljYW50IGRpZ2l0cyB0byBQT1dfUFJFQ0lTSU9OICsgWzI4LCA0MV0sXHJcbiAgICAgIC8vIGkuZS4gdGhlcmUgd2lsbCBiZSBhIG1pbmltdW0gb2YgMjggZ3VhcmQgZGlnaXRzIHJldGFpbmVkLlxyXG4gICAgICBrID0gbWF0aGNlaWwoUE9XX1BSRUNJU0lPTiAvIExPR19CQVNFICsgMik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5Jc0JpZykge1xyXG4gICAgICBoYWxmID0gbmV3IEJpZ051bWJlcigwLjUpO1xyXG4gICAgICBpZiAobklzTmVnKSBuLnMgPSAxO1xyXG4gICAgICBuSXNPZGQgPSBpc09kZChuKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGkgPSBNYXRoLmFicygrdmFsdWVPZihuKSk7XHJcbiAgICAgIG5Jc09kZCA9IGkgJSAyO1xyXG4gICAgfVxyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybXMgNTQgbG9vcCBpdGVyYXRpb25zIGZvciBuIG9mIDkwMDcxOTkyNTQ3NDA5OTEuXHJcbiAgICBmb3IgKDsgOykge1xyXG5cclxuICAgICAgaWYgKG5Jc09kZCkge1xyXG4gICAgICAgIHkgPSB5LnRpbWVzKHgpO1xyXG4gICAgICAgIGlmICgheS5jKSBicmVhaztcclxuXHJcbiAgICAgICAgaWYgKGspIHtcclxuICAgICAgICAgIGlmICh5LmMubGVuZ3RoID4gaykgeS5jLmxlbmd0aCA9IGs7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc01vZEV4cCkge1xyXG4gICAgICAgICAgeSA9IHkubW9kKG0pOyAgICAvL3kgPSB5Lm1pbnVzKGRpdih5LCBtLCAwLCBNT0RVTE9fTU9ERSkudGltZXMobSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGkpIHtcclxuICAgICAgICBpID0gbWF0aGZsb29yKGkgLyAyKTtcclxuICAgICAgICBpZiAoaSA9PT0gMCkgYnJlYWs7XHJcbiAgICAgICAgbklzT2RkID0gaSAlIDI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbiA9IG4udGltZXMoaGFsZik7XHJcbiAgICAgICAgcm91bmQobiwgbi5lICsgMSwgMSk7XHJcblxyXG4gICAgICAgIGlmIChuLmUgPiAxNCkge1xyXG4gICAgICAgICAgbklzT2RkID0gaXNPZGQobik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGkgPSArdmFsdWVPZihuKTtcclxuICAgICAgICAgIGlmIChpID09PSAwKSBicmVhaztcclxuICAgICAgICAgIG5Jc09kZCA9IGkgJSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgeCA9IHgudGltZXMoeCk7XHJcblxyXG4gICAgICBpZiAoaykge1xyXG4gICAgICAgIGlmICh4LmMgJiYgeC5jLmxlbmd0aCA+IGspIHguYy5sZW5ndGggPSBrO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzTW9kRXhwKSB7XHJcbiAgICAgICAgeCA9IHgubW9kKG0pOyAgICAvL3ggPSB4Lm1pbnVzKGRpdih4LCBtLCAwLCBNT0RVTE9fTU9ERSkudGltZXMobSkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzTW9kRXhwKSByZXR1cm4geTtcclxuICAgIGlmIChuSXNOZWcpIHkgPSBPTkUuZGl2KHkpO1xyXG5cclxuICAgIHJldHVybiBtID8geS5tb2QobSkgOiBrID8gcm91bmQoeSwgUE9XX1BSRUNJU0lPTiwgUk9VTkRJTkdfTU9ERSwgbW9yZSkgOiB5O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHJvdW5kZWQgdG8gYW4gaW50ZWdlclxyXG4gICAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgKlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7cm19J1xyXG4gICAqL1xyXG4gIFAuaW50ZWdlclZhbHVlID0gZnVuY3Rpb24gKHJtKSB7XHJcbiAgICB2YXIgbiA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICBpZiAocm0gPT0gbnVsbCkgcm0gPSBST1VORElOR19NT0RFO1xyXG4gICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcbiAgICByZXR1cm4gcm91bmQobiwgbi5lICsgMSwgcm0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0VxdWFsVG8gPSBQLmVxID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpID09PSAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBhIGZpbml0ZSBudW1iZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0Zpbml0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAhIXRoaXMuYztcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzR3JlYXRlclRoYW4gPSBQLmd0ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpID4gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzR3JlYXRlclRoYW5PckVxdWFsVG8gPSBQLmd0ZSA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gKGIgPSBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpKSA9PT0gMSB8fCBiID09PSAwO1xyXG5cclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgYW4gaW50ZWdlciwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzSW50ZWdlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAhIXRoaXMuYyAmJiBiaXRGbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkgPiB0aGlzLmMubGVuZ3RoIC0gMjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzTGVzc1RoYW4gPSBQLmx0ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpIDwgMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzTGVzc1RoYW5PckVxdWFsVG8gPSBQLmx0ZSA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gKGIgPSBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpKSA9PT0gLTEgfHwgYiA9PT0gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgTmFOLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNOYU4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gIXRoaXMucztcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbmVnYXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc05lZ2F0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucyA8IDA7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIHBvc2l0aXZlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNQb3NpdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLnMgPiAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyAwIG9yIC0wLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICEhdGhpcy5jICYmIHRoaXMuY1swXSA9PSAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqICBuIC0gMCA9IG5cclxuICAgKiAgbiAtIE4gPSBOXHJcbiAgICogIG4gLSBJID0gLUlcclxuICAgKiAgMCAtIG4gPSAtblxyXG4gICAqICAwIC0gMCA9IDBcclxuICAgKiAgMCAtIE4gPSBOXHJcbiAgICogIDAgLSBJID0gLUlcclxuICAgKiAgTiAtIG4gPSBOXHJcbiAgICogIE4gLSAwID0gTlxyXG4gICAqICBOIC0gTiA9IE5cclxuICAgKiAgTiAtIEkgPSBOXHJcbiAgICogIEkgLSBuID0gSVxyXG4gICAqICBJIC0gMCA9IElcclxuICAgKiAgSSAtIE4gPSBOXHJcbiAgICogIEkgLSBJID0gTlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgbWludXMgdGhlIHZhbHVlIG9mXHJcbiAgICogQmlnTnVtYmVyKHksIGIpLlxyXG4gICAqL1xyXG4gIFAubWludXMgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgdmFyIGksIGosIHQsIHhMVHksXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBhID0geC5zO1xyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG4gICAgYiA9IHkucztcclxuXHJcbiAgICAvLyBFaXRoZXIgTmFOP1xyXG4gICAgaWYgKCFhIHx8ICFiKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xyXG5cclxuICAgIC8vIFNpZ25zIGRpZmZlcj9cclxuICAgIGlmIChhICE9IGIpIHtcclxuICAgICAgeS5zID0gLWI7XHJcbiAgICAgIHJldHVybiB4LnBsdXMoeSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHhlID0geC5lIC8gTE9HX0JBU0UsXHJcbiAgICAgIHllID0geS5lIC8gTE9HX0JBU0UsXHJcbiAgICAgIHhjID0geC5jLFxyXG4gICAgICB5YyA9IHkuYztcclxuXHJcbiAgICBpZiAoIXhlIHx8ICF5ZSkge1xyXG5cclxuICAgICAgLy8gRWl0aGVyIEluZmluaXR5P1xyXG4gICAgICBpZiAoIXhjIHx8ICF5YykgcmV0dXJuIHhjID8gKHkucyA9IC1iLCB5KSA6IG5ldyBCaWdOdW1iZXIoeWMgPyB4IDogTmFOKTtcclxuXHJcbiAgICAgIC8vIEVpdGhlciB6ZXJvP1xyXG4gICAgICBpZiAoIXhjWzBdIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4geSBpZiB5IGlzIG5vbi16ZXJvLCB4IGlmIHggaXMgbm9uLXplcm8sIG9yIHplcm8gaWYgYm90aCBhcmUgemVyby5cclxuICAgICAgICByZXR1cm4geWNbMF0gPyAoeS5zID0gLWIsIHkpIDogbmV3IEJpZ051bWJlcih4Y1swXSA/IHggOlxyXG5cclxuICAgICAgICAgLy8gSUVFRSA3NTQgKDIwMDgpIDYuMzogbiAtIG4gPSAtMCB3aGVuIHJvdW5kaW5nIHRvIC1JbmZpbml0eVxyXG4gICAgICAgICBST1VORElOR19NT0RFID09IDMgPyAtMCA6IDApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgeGUgPSBiaXRGbG9vcih4ZSk7XHJcbiAgICB5ZSA9IGJpdEZsb29yKHllKTtcclxuICAgIHhjID0geGMuc2xpY2UoKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgd2hpY2ggaXMgdGhlIGJpZ2dlciBudW1iZXIuXHJcbiAgICBpZiAoYSA9IHhlIC0geWUpIHtcclxuXHJcbiAgICAgIGlmICh4TFR5ID0gYSA8IDApIHtcclxuICAgICAgICBhID0gLWE7XHJcbiAgICAgICAgdCA9IHhjO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHllID0geGU7XHJcbiAgICAgICAgdCA9IHljO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0LnJldmVyc2UoKTtcclxuXHJcbiAgICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLlxyXG4gICAgICBmb3IgKGIgPSBhOyBiLS07IHQucHVzaCgwKSk7XHJcbiAgICAgIHQucmV2ZXJzZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIC8vIEV4cG9uZW50cyBlcXVhbC4gQ2hlY2sgZGlnaXQgYnkgZGlnaXQuXHJcbiAgICAgIGogPSAoeExUeSA9IChhID0geGMubGVuZ3RoKSA8IChiID0geWMubGVuZ3RoKSkgPyBhIDogYjtcclxuXHJcbiAgICAgIGZvciAoYSA9IGIgPSAwOyBiIDwgajsgYisrKSB7XHJcblxyXG4gICAgICAgIGlmICh4Y1tiXSAhPSB5Y1tiXSkge1xyXG4gICAgICAgICAgeExUeSA9IHhjW2JdIDwgeWNbYl07XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB4IDwgeT8gUG9pbnQgeGMgdG8gdGhlIGFycmF5IG9mIHRoZSBiaWdnZXIgbnVtYmVyLlxyXG4gICAgaWYgKHhMVHkpIHtcclxuICAgICAgdCA9IHhjO1xyXG4gICAgICB4YyA9IHljO1xyXG4gICAgICB5YyA9IHQ7XHJcbiAgICAgIHkucyA9IC15LnM7XHJcbiAgICB9XHJcblxyXG4gICAgYiA9IChqID0geWMubGVuZ3RoKSAtIChpID0geGMubGVuZ3RoKTtcclxuXHJcbiAgICAvLyBBcHBlbmQgemVyb3MgdG8geGMgaWYgc2hvcnRlci5cclxuICAgIC8vIE5vIG5lZWQgdG8gYWRkIHplcm9zIHRvIHljIGlmIHNob3J0ZXIgYXMgc3VidHJhY3Qgb25seSBuZWVkcyB0byBzdGFydCBhdCB5Yy5sZW5ndGguXHJcbiAgICBpZiAoYiA+IDApIGZvciAoOyBiLS07IHhjW2krK10gPSAwKTtcclxuICAgIGIgPSBCQVNFIC0gMTtcclxuXHJcbiAgICAvLyBTdWJ0cmFjdCB5YyBmcm9tIHhjLlxyXG4gICAgZm9yICg7IGogPiBhOykge1xyXG5cclxuICAgICAgaWYgKHhjWy0tal0gPCB5Y1tqXSkge1xyXG4gICAgICAgIGZvciAoaSA9IGo7IGkgJiYgIXhjWy0taV07IHhjW2ldID0gYik7XHJcbiAgICAgICAgLS14Y1tpXTtcclxuICAgICAgICB4Y1tqXSArPSBCQVNFO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB4Y1tqXSAtPSB5Y1tqXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgbGVhZGluZyB6ZXJvcyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgZm9yICg7IHhjWzBdID09IDA7IHhjLnNwbGljZSgwLCAxKSwgLS15ZSk7XHJcblxyXG4gICAgLy8gWmVybz9cclxuICAgIGlmICgheGNbMF0pIHtcclxuXHJcbiAgICAgIC8vIEZvbGxvd2luZyBJRUVFIDc1NCAoMjAwOCkgNi4zLFxyXG4gICAgICAvLyBuIC0gbiA9ICswICBidXQgIG4gLSBuID0gLTAgIHdoZW4gcm91bmRpbmcgdG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAgIHkucyA9IFJPVU5ESU5HX01PREUgPT0gMyA/IC0xIDogMTtcclxuICAgICAgeS5jID0gW3kuZSA9IDBdO1xyXG4gICAgICByZXR1cm4geTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBObyBuZWVkIHRvIGNoZWNrIGZvciBJbmZpbml0eSBhcyAreCAtICt5ICE9IEluZmluaXR5ICYmIC14IC0gLXkgIT0gSW5maW5pdHlcclxuICAgIC8vIGZvciBmaW5pdGUgeCBhbmQgeS5cclxuICAgIHJldHVybiBub3JtYWxpc2UoeSwgeGMsIHllKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgIG4gJSAwID0gIE5cclxuICAgKiAgIG4gJSBOID0gIE5cclxuICAgKiAgIG4gJSBJID0gIG5cclxuICAgKiAgIDAgJSBuID0gIDBcclxuICAgKiAgLTAgJSBuID0gLTBcclxuICAgKiAgIDAgJSAwID0gIE5cclxuICAgKiAgIDAgJSBOID0gIE5cclxuICAgKiAgIDAgJSBJID0gIDBcclxuICAgKiAgIE4gJSBuID0gIE5cclxuICAgKiAgIE4gJSAwID0gIE5cclxuICAgKiAgIE4gJSBOID0gIE5cclxuICAgKiAgIE4gJSBJID0gIE5cclxuICAgKiAgIEkgJSBuID0gIE5cclxuICAgKiAgIEkgJSAwID0gIE5cclxuICAgKiAgIEkgJSBOID0gIE5cclxuICAgKiAgIEkgJSBJID0gIE5cclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG1vZHVsbyB0aGUgdmFsdWUgb2ZcclxuICAgKiBCaWdOdW1iZXIoeSwgYikuIFRoZSByZXN1bHQgZGVwZW5kcyBvbiB0aGUgdmFsdWUgb2YgTU9EVUxPX01PREUuXHJcbiAgICovXHJcbiAgUC5tb2R1bG8gPSBQLm1vZCA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICB2YXIgcSwgcyxcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgeSA9IG5ldyBCaWdOdW1iZXIoeSwgYik7XHJcblxyXG4gICAgLy8gUmV0dXJuIE5hTiBpZiB4IGlzIEluZmluaXR5IG9yIE5hTiwgb3IgeSBpcyBOYU4gb3IgemVyby5cclxuICAgIGlmICgheC5jIHx8ICF5LnMgfHwgeS5jICYmICF5LmNbMF0pIHtcclxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoTmFOKTtcclxuXHJcbiAgICAvLyBSZXR1cm4geCBpZiB5IGlzIEluZmluaXR5IG9yIHggaXMgemVyby5cclxuICAgIH0gZWxzZSBpZiAoIXkuYyB8fCB4LmMgJiYgIXguY1swXSkge1xyXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoTU9EVUxPX01PREUgPT0gOSkge1xyXG5cclxuICAgICAgLy8gRXVjbGlkaWFuIGRpdmlzaW9uOiBxID0gc2lnbih5KSAqIGZsb29yKHggLyBhYnMoeSkpXHJcbiAgICAgIC8vIHIgPSB4IC0gcXkgICAgd2hlcmUgIDAgPD0gciA8IGFicyh5KVxyXG4gICAgICBzID0geS5zO1xyXG4gICAgICB5LnMgPSAxO1xyXG4gICAgICBxID0gZGl2KHgsIHksIDAsIDMpO1xyXG4gICAgICB5LnMgPSBzO1xyXG4gICAgICBxLnMgKj0gcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHEgPSBkaXYoeCwgeSwgMCwgTU9EVUxPX01PREUpO1xyXG4gICAgfVxyXG5cclxuICAgIHkgPSB4Lm1pbnVzKHEudGltZXMoeSkpO1xyXG5cclxuICAgIC8vIFRvIG1hdGNoIEphdmFTY3JpcHQgJSwgZW5zdXJlIHNpZ24gb2YgemVybyBpcyBzaWduIG9mIGRpdmlkZW5kLlxyXG4gICAgaWYgKCF5LmNbMF0gJiYgTU9EVUxPX01PREUgPT0gMSkgeS5zID0geC5zO1xyXG5cclxuICAgIHJldHVybiB5O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqICBuICogMCA9IDBcclxuICAgKiAgbiAqIE4gPSBOXHJcbiAgICogIG4gKiBJID0gSVxyXG4gICAqICAwICogbiA9IDBcclxuICAgKiAgMCAqIDAgPSAwXHJcbiAgICogIDAgKiBOID0gTlxyXG4gICAqICAwICogSSA9IE5cclxuICAgKiAgTiAqIG4gPSBOXHJcbiAgICogIE4gKiAwID0gTlxyXG4gICAqICBOICogTiA9IE5cclxuICAgKiAgTiAqIEkgPSBOXHJcbiAgICogIEkgKiBuID0gSVxyXG4gICAqICBJICogMCA9IE5cclxuICAgKiAgSSAqIE4gPSBOXHJcbiAgICogIEkgKiBJID0gSVxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgbXVsdGlwbGllZCBieSB0aGUgdmFsdWVcclxuICAgKiBvZiBCaWdOdW1iZXIoeSwgYikuXHJcbiAgICovXHJcbiAgUC5tdWx0aXBsaWVkQnkgPSBQLnRpbWVzID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHZhciBjLCBlLCBpLCBqLCBrLCBtLCB4Y0wsIHhsbywgeGhpLCB5Y0wsIHlsbywgeWhpLCB6YyxcclxuICAgICAgYmFzZSwgc3FydEJhc2UsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICB4YyA9IHguYyxcclxuICAgICAgeWMgPSAoeSA9IG5ldyBCaWdOdW1iZXIoeSwgYikpLmM7XHJcblxyXG4gICAgLy8gRWl0aGVyIE5hTiwgXHUwMEIxSW5maW5pdHkgb3IgXHUwMEIxMD9cclxuICAgIGlmICgheGMgfHwgIXljIHx8ICF4Y1swXSB8fCAheWNbMF0pIHtcclxuXHJcbiAgICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIGlzIE5hTiwgb3Igb25lIGlzIDAgYW5kIHRoZSBvdGhlciBpcyBJbmZpbml0eS5cclxuICAgICAgaWYgKCF4LnMgfHwgIXkucyB8fCB4YyAmJiAheGNbMF0gJiYgIXljIHx8IHljICYmICF5Y1swXSAmJiAheGMpIHtcclxuICAgICAgICB5LmMgPSB5LmUgPSB5LnMgPSBudWxsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHkucyAqPSB4LnM7XHJcblxyXG4gICAgICAgIC8vIFJldHVybiBcdTAwQjFJbmZpbml0eSBpZiBlaXRoZXIgaXMgXHUwMEIxSW5maW5pdHkuXHJcbiAgICAgICAgaWYgKCF4YyB8fCAheWMpIHtcclxuICAgICAgICAgIHkuYyA9IHkuZSA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIFJldHVybiBcdTAwQjEwIGlmIGVpdGhlciBpcyBcdTAwQjEwLlxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB5LmMgPSBbMF07XHJcbiAgICAgICAgICB5LmUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHk7XHJcbiAgICB9XHJcblxyXG4gICAgZSA9IGJpdEZsb29yKHguZSAvIExPR19CQVNFKSArIGJpdEZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuICAgIHkucyAqPSB4LnM7XHJcbiAgICB4Y0wgPSB4Yy5sZW5ndGg7XHJcbiAgICB5Y0wgPSB5Yy5sZW5ndGg7XHJcblxyXG4gICAgLy8gRW5zdXJlIHhjIHBvaW50cyB0byBsb25nZXIgYXJyYXkgYW5kIHhjTCB0byBpdHMgbGVuZ3RoLlxyXG4gICAgaWYgKHhjTCA8IHljTCkge1xyXG4gICAgICB6YyA9IHhjO1xyXG4gICAgICB4YyA9IHljO1xyXG4gICAgICB5YyA9IHpjO1xyXG4gICAgICBpID0geGNMO1xyXG4gICAgICB4Y0wgPSB5Y0w7XHJcbiAgICAgIHljTCA9IGk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW5pdGlhbGlzZSB0aGUgcmVzdWx0IGFycmF5IHdpdGggemVyb3MuXHJcbiAgICBmb3IgKGkgPSB4Y0wgKyB5Y0wsIHpjID0gW107IGktLTsgemMucHVzaCgwKSk7XHJcblxyXG4gICAgYmFzZSA9IEJBU0U7XHJcbiAgICBzcXJ0QmFzZSA9IFNRUlRfQkFTRTtcclxuXHJcbiAgICBmb3IgKGkgPSB5Y0w7IC0taSA+PSAwOykge1xyXG4gICAgICBjID0gMDtcclxuICAgICAgeWxvID0geWNbaV0gJSBzcXJ0QmFzZTtcclxuICAgICAgeWhpID0geWNbaV0gLyBzcXJ0QmFzZSB8IDA7XHJcblxyXG4gICAgICBmb3IgKGsgPSB4Y0wsIGogPSBpICsgazsgaiA+IGk7KSB7XHJcbiAgICAgICAgeGxvID0geGNbLS1rXSAlIHNxcnRCYXNlO1xyXG4gICAgICAgIHhoaSA9IHhjW2tdIC8gc3FydEJhc2UgfCAwO1xyXG4gICAgICAgIG0gPSB5aGkgKiB4bG8gKyB4aGkgKiB5bG87XHJcbiAgICAgICAgeGxvID0geWxvICogeGxvICsgKChtICUgc3FydEJhc2UpICogc3FydEJhc2UpICsgemNbal0gKyBjO1xyXG4gICAgICAgIGMgPSAoeGxvIC8gYmFzZSB8IDApICsgKG0gLyBzcXJ0QmFzZSB8IDApICsgeWhpICogeGhpO1xyXG4gICAgICAgIHpjW2otLV0gPSB4bG8gJSBiYXNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB6Y1tqXSA9IGM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGMpIHtcclxuICAgICAgKytlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgemMuc3BsaWNlKDAsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBub3JtYWxpc2UoeSwgemMsIGUpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG5lZ2F0ZWQsXHJcbiAgICogaS5lLiBtdWx0aXBsaWVkIGJ5IC0xLlxyXG4gICAqL1xyXG4gIFAubmVnYXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB4ID0gbmV3IEJpZ051bWJlcih0aGlzKTtcclxuICAgIHgucyA9IC14LnMgfHwgbnVsbDtcclxuICAgIHJldHVybiB4O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqICBuICsgMCA9IG5cclxuICAgKiAgbiArIE4gPSBOXHJcbiAgICogIG4gKyBJID0gSVxyXG4gICAqICAwICsgbiA9IG5cclxuICAgKiAgMCArIDAgPSAwXHJcbiAgICogIDAgKyBOID0gTlxyXG4gICAqICAwICsgSSA9IElcclxuICAgKiAgTiArIG4gPSBOXHJcbiAgICogIE4gKyAwID0gTlxyXG4gICAqICBOICsgTiA9IE5cclxuICAgKiAgTiArIEkgPSBOXHJcbiAgICogIEkgKyBuID0gSVxyXG4gICAqICBJICsgMCA9IElcclxuICAgKiAgSSArIE4gPSBOXHJcbiAgICogIEkgKyBJID0gSVxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcGx1cyB0aGUgdmFsdWUgb2ZcclxuICAgKiBCaWdOdW1iZXIoeSwgYikuXHJcbiAgICovXHJcbiAgUC5wbHVzID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHZhciB0LFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgYSA9IHgucztcclxuXHJcbiAgICB5ID0gbmV3IEJpZ051bWJlcih5LCBiKTtcclxuICAgIGIgPSB5LnM7XHJcblxyXG4gICAgLy8gRWl0aGVyIE5hTj9cclxuICAgIGlmICghYSB8fCAhYikgcmV0dXJuIG5ldyBCaWdOdW1iZXIoTmFOKTtcclxuXHJcbiAgICAvLyBTaWducyBkaWZmZXI/XHJcbiAgICAgaWYgKGEgIT0gYikge1xyXG4gICAgICB5LnMgPSAtYjtcclxuICAgICAgcmV0dXJuIHgubWludXMoeSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHhlID0geC5lIC8gTE9HX0JBU0UsXHJcbiAgICAgIHllID0geS5lIC8gTE9HX0JBU0UsXHJcbiAgICAgIHhjID0geC5jLFxyXG4gICAgICB5YyA9IHkuYztcclxuXHJcbiAgICBpZiAoIXhlIHx8ICF5ZSkge1xyXG5cclxuICAgICAgLy8gUmV0dXJuIFx1MDBCMUluZmluaXR5IGlmIGVpdGhlciBcdTAwQjFJbmZpbml0eS5cclxuICAgICAgaWYgKCF4YyB8fCAheWMpIHJldHVybiBuZXcgQmlnTnVtYmVyKGEgLyAwKTtcclxuXHJcbiAgICAgIC8vIEVpdGhlciB6ZXJvP1xyXG4gICAgICAvLyBSZXR1cm4geSBpZiB5IGlzIG5vbi16ZXJvLCB4IGlmIHggaXMgbm9uLXplcm8sIG9yIHplcm8gaWYgYm90aCBhcmUgemVyby5cclxuICAgICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHJldHVybiB5Y1swXSA/IHkgOiBuZXcgQmlnTnVtYmVyKHhjWzBdID8geCA6IGEgKiAwKTtcclxuICAgIH1cclxuXHJcbiAgICB4ZSA9IGJpdEZsb29yKHhlKTtcclxuICAgIHllID0gYml0Rmxvb3IoeWUpO1xyXG4gICAgeGMgPSB4Yy5zbGljZSgpO1xyXG5cclxuICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLiBGYXN0ZXIgdG8gdXNlIHJldmVyc2UgdGhlbiBkbyB1bnNoaWZ0cy5cclxuICAgIGlmIChhID0geGUgLSB5ZSkge1xyXG4gICAgICBpZiAoYSA+IDApIHtcclxuICAgICAgICB5ZSA9IHhlO1xyXG4gICAgICAgIHQgPSB5YztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhID0gLWE7XHJcbiAgICAgICAgdCA9IHhjO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0LnJldmVyc2UoKTtcclxuICAgICAgZm9yICg7IGEtLTsgdC5wdXNoKDApKTtcclxuICAgICAgdC5yZXZlcnNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYSA9IHhjLmxlbmd0aDtcclxuICAgIGIgPSB5Yy5sZW5ndGg7XHJcblxyXG4gICAgLy8gUG9pbnQgeGMgdG8gdGhlIGxvbmdlciBhcnJheSwgYW5kIGIgdG8gdGhlIHNob3J0ZXIgbGVuZ3RoLlxyXG4gICAgaWYgKGEgLSBiIDwgMCkge1xyXG4gICAgICB0ID0geWM7XHJcbiAgICAgIHljID0geGM7XHJcbiAgICAgIHhjID0gdDtcclxuICAgICAgYiA9IGE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT25seSBzdGFydCBhZGRpbmcgYXQgeWMubGVuZ3RoIC0gMSBhcyB0aGUgZnVydGhlciBkaWdpdHMgb2YgeGMgY2FuIGJlIGlnbm9yZWQuXHJcbiAgICBmb3IgKGEgPSAwOyBiOykge1xyXG4gICAgICBhID0gKHhjWy0tYl0gPSB4Y1tiXSArIHljW2JdICsgYSkgLyBCQVNFIHwgMDtcclxuICAgICAgeGNbYl0gPSBCQVNFID09PSB4Y1tiXSA/IDAgOiB4Y1tiXSAlIEJBU0U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGEpIHtcclxuICAgICAgeGMgPSBbYV0uY29uY2F0KHhjKTtcclxuICAgICAgKyt5ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBObyBuZWVkIHRvIGNoZWNrIGZvciB6ZXJvLCBhcyAreCArICt5ICE9IDAgJiYgLXggKyAteSAhPSAwXHJcbiAgICAvLyB5ZSA9IE1BWF9FWFAgKyAxIHBvc3NpYmxlXHJcbiAgICByZXR1cm4gbm9ybWFsaXNlKHksIHhjLCB5ZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogSWYgc2QgaXMgdW5kZWZpbmVkIG9yIG51bGwgb3IgdHJ1ZSBvciBmYWxzZSwgcmV0dXJuIHRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIG9mXHJcbiAgICogdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLCBvciBudWxsIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBcdTAwQjFJbmZpbml0eSBvciBOYU4uXHJcbiAgICogSWYgc2QgaXMgdHJ1ZSBpbmNsdWRlIGludGVnZXItcGFydCB0cmFpbGluZyB6ZXJvcyBpbiB0aGUgY291bnQuXHJcbiAgICpcclxuICAgKiBPdGhlcndpc2UsIGlmIHNkIGlzIGEgbnVtYmVyLCByZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICogQmlnTnVtYmVyIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIHNkIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvclxyXG4gICAqIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgKlxyXG4gICAqIHNkIHtudW1iZXJ8Ym9vbGVhbn0gbnVtYmVyOiBzaWduaWZpY2FudCBkaWdpdHM6IGludGVnZXIsIDEgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiAgICAgICAgICAgICAgICAgICAgIGJvb2xlYW46IHdoZXRoZXIgdG8gY291bnQgaW50ZWdlci1wYXJ0IHRyYWlsaW5nIHplcm9zOiB0cnVlIG9yIGZhbHNlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7c2R8cm19J1xyXG4gICAqL1xyXG4gIFAucHJlY2lzaW9uID0gUC5zZCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICAgIHZhciBjLCBuLCB2LFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICBpZiAoc2QgIT0gbnVsbCAmJiBzZCAhPT0gISFzZCkge1xyXG4gICAgICBpbnRDaGVjayhzZCwgMSwgTUFYKTtcclxuICAgICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcblxyXG4gICAgICByZXR1cm4gcm91bmQobmV3IEJpZ051bWJlcih4KSwgc2QsIHJtKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIShjID0geC5jKSkgcmV0dXJuIG51bGw7XHJcbiAgICB2ID0gYy5sZW5ndGggLSAxO1xyXG4gICAgbiA9IHYgKiBMT0dfQkFTRSArIDE7XHJcblxyXG4gICAgaWYgKHYgPSBjW3ZdKSB7XHJcblxyXG4gICAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IGVsZW1lbnQuXHJcbiAgICAgIGZvciAoOyB2ICUgMTAgPT0gMDsgdiAvPSAxMCwgbi0tKTtcclxuXHJcbiAgICAgIC8vIEFkZCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgICAgZm9yICh2ID0gY1swXTsgdiA+PSAxMDsgdiAvPSAxMCwgbisrKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2QgJiYgeC5lICsgMSA+IG4pIG4gPSB4LmUgKyAxO1xyXG5cclxuICAgIHJldHVybiBuO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHNoaWZ0ZWQgYnkgayBwbGFjZXNcclxuICAgKiAocG93ZXJzIG9mIDEwKS4gU2hpZnQgdG8gdGhlIHJpZ2h0IGlmIG4gPiAwLCBhbmQgdG8gdGhlIGxlZnQgaWYgbiA8IDAuXHJcbiAgICpcclxuICAgKiBrIHtudW1iZXJ9IEludGVnZXIsIC1NQVhfU0FGRV9JTlRFR0VSIHRvIE1BWF9TQUZFX0lOVEVHRVIgaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtrfSdcclxuICAgKi9cclxuICBQLnNoaWZ0ZWRCeSA9IGZ1bmN0aW9uIChrKSB7XHJcbiAgICBpbnRDaGVjayhrLCAtTUFYX1NBRkVfSU5URUdFUiwgTUFYX1NBRkVfSU5URUdFUik7XHJcbiAgICByZXR1cm4gdGhpcy50aW1lcygnMWUnICsgayk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogIHNxcnQoLW4pID0gIE5cclxuICAgKiAgc3FydChOKSA9ICBOXHJcbiAgICogIHNxcnQoLUkpID0gIE5cclxuICAgKiAgc3FydChJKSA9ICBJXHJcbiAgICogIHNxcnQoMCkgPSAgMFxyXG4gICAqICBzcXJ0KC0wKSA9IC0wXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIsXHJcbiAgICogcm91bmRlZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kIFJPVU5ESU5HX01PREUuXHJcbiAgICovXHJcbiAgUC5zcXVhcmVSb290ID0gUC5zcXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG0sIG4sIHIsIHJlcCwgdCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIGMgPSB4LmMsXHJcbiAgICAgIHMgPSB4LnMsXHJcbiAgICAgIGUgPSB4LmUsXHJcbiAgICAgIGRwID0gREVDSU1BTF9QTEFDRVMgKyA0LFxyXG4gICAgICBoYWxmID0gbmV3IEJpZ051bWJlcignMC41Jyk7XHJcblxyXG4gICAgLy8gTmVnYXRpdmUvTmFOL0luZmluaXR5L3plcm8/XHJcbiAgICBpZiAocyAhPT0gMSB8fCAhYyB8fCAhY1swXSkge1xyXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcighcyB8fCBzIDwgMCAmJiAoIWMgfHwgY1swXSkgPyBOYU4gOiBjID8geCA6IDEgLyAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJbml0aWFsIGVzdGltYXRlLlxyXG4gICAgcyA9IE1hdGguc3FydCgrdmFsdWVPZih4KSk7XHJcblxyXG4gICAgLy8gTWF0aC5zcXJ0IHVuZGVyZmxvdy9vdmVyZmxvdz9cclxuICAgIC8vIFBhc3MgeCB0byBNYXRoLnNxcnQgYXMgaW50ZWdlciwgdGhlbiBhZGp1c3QgdGhlIGV4cG9uZW50IG9mIHRoZSByZXN1bHQuXHJcbiAgICBpZiAocyA9PSAwIHx8IHMgPT0gMSAvIDApIHtcclxuICAgICAgbiA9IGNvZWZmVG9TdHJpbmcoYyk7XHJcbiAgICAgIGlmICgobi5sZW5ndGggKyBlKSAlIDIgPT0gMCkgbiArPSAnMCc7XHJcbiAgICAgIHMgPSBNYXRoLnNxcnQoK24pO1xyXG4gICAgICBlID0gYml0Rmxvb3IoKGUgKyAxKSAvIDIpIC0gKGUgPCAwIHx8IGUgJSAyKTtcclxuXHJcbiAgICAgIGlmIChzID09IDEgLyAwKSB7XHJcbiAgICAgICAgbiA9ICc1ZScgKyBlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG4gPSBzLnRvRXhwb25lbnRpYWwoKTtcclxuICAgICAgICBuID0gbi5zbGljZSgwLCBuLmluZGV4T2YoJ2UnKSArIDEpICsgZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgciA9IG5ldyBCaWdOdW1iZXIobik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByID0gbmV3IEJpZ051bWJlcihzICsgJycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZvciB6ZXJvLlxyXG4gICAgLy8gciBjb3VsZCBiZSB6ZXJvIGlmIE1JTl9FWFAgaXMgY2hhbmdlZCBhZnRlciB0aGUgdGhpcyB2YWx1ZSB3YXMgY3JlYXRlZC5cclxuICAgIC8vIFRoaXMgd291bGQgY2F1c2UgYSBkaXZpc2lvbiBieSB6ZXJvICh4L3QpIGFuZCBoZW5jZSBJbmZpbml0eSBiZWxvdywgd2hpY2ggd291bGQgY2F1c2VcclxuICAgIC8vIGNvZWZmVG9TdHJpbmcgdG8gdGhyb3cuXHJcbiAgICBpZiAoci5jWzBdKSB7XHJcbiAgICAgIGUgPSByLmU7XHJcbiAgICAgIHMgPSBlICsgZHA7XHJcbiAgICAgIGlmIChzIDwgMykgcyA9IDA7XHJcblxyXG4gICAgICAvLyBOZXd0b24tUmFwaHNvbiBpdGVyYXRpb24uXHJcbiAgICAgIGZvciAoOyA7KSB7XHJcbiAgICAgICAgdCA9IHI7XHJcbiAgICAgICAgciA9IGhhbGYudGltZXModC5wbHVzKGRpdih4LCB0LCBkcCwgMSkpKTtcclxuXHJcbiAgICAgICAgaWYgKGNvZWZmVG9TdHJpbmcodC5jKS5zbGljZSgwLCBzKSA9PT0gKG4gPSBjb2VmZlRvU3RyaW5nKHIuYykpLnNsaWNlKDAsIHMpKSB7XHJcblxyXG4gICAgICAgICAgLy8gVGhlIGV4cG9uZW50IG9mIHIgbWF5IGhlcmUgYmUgb25lIGxlc3MgdGhhbiB0aGUgZmluYWwgcmVzdWx0IGV4cG9uZW50LFxyXG4gICAgICAgICAgLy8gZS5nIDAuMDAwOTk5OSAoZS00KSAtLT4gMC4wMDEgKGUtMyksIHNvIGFkanVzdCBzIHNvIHRoZSByb3VuZGluZyBkaWdpdHNcclxuICAgICAgICAgIC8vIGFyZSBpbmRleGVkIGNvcnJlY3RseS5cclxuICAgICAgICAgIGlmIChyLmUgPCBlKSAtLXM7XHJcbiAgICAgICAgICBuID0gbi5zbGljZShzIC0gMywgcyArIDEpO1xyXG5cclxuICAgICAgICAgIC8vIFRoZSA0dGggcm91bmRpbmcgZGlnaXQgbWF5IGJlIGluIGVycm9yIGJ5IC0xIHNvIGlmIHRoZSA0IHJvdW5kaW5nIGRpZ2l0c1xyXG4gICAgICAgICAgLy8gYXJlIDk5OTkgb3IgNDk5OSAoaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5KSBjb250aW51ZSB0aGVcclxuICAgICAgICAgIC8vIGl0ZXJhdGlvbi5cclxuICAgICAgICAgIGlmIChuID09ICc5OTk5JyB8fCAhcmVwICYmIG4gPT0gJzQ5OTknKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGVcclxuICAgICAgICAgICAgLy8gZXhhY3QgcmVzdWx0IGFzIHRoZSBuaW5lcyBtYXkgaW5maW5pdGVseSByZXBlYXQuXHJcbiAgICAgICAgICAgIGlmICghcmVwKSB7XHJcbiAgICAgICAgICAgICAgcm91bmQodCwgdC5lICsgREVDSU1BTF9QTEFDRVMgKyAyLCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHQudGltZXModCkuZXEoeCkpIHtcclxuICAgICAgICAgICAgICAgIHIgPSB0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkcCArPSA0O1xyXG4gICAgICAgICAgICBzICs9IDQ7XHJcbiAgICAgICAgICAgIHJlcCA9IDE7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgcm91bmRpbmcgZGlnaXRzIGFyZSBudWxsLCAwezAsNH0gb3IgNTB7MCwzfSwgY2hlY2sgZm9yIGV4YWN0XHJcbiAgICAgICAgICAgIC8vIHJlc3VsdC4gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICAgICAgaWYgKCErbiB8fCAhK24uc2xpY2UoMSkgJiYgbi5jaGFyQXQoMCkgPT0gJzUnKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICAgICAgICByb3VuZChyLCByLmUgKyBERUNJTUFMX1BMQUNFUyArIDIsIDEpO1xyXG4gICAgICAgICAgICAgIG0gPSAhci50aW1lcyhyKS5lcSh4KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJvdW5kKHIsIHIuZSArIERFQ0lNQUxfUExBQ0VTICsgMSwgUk9VTkRJTkdfTU9ERSwgbSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaW4gZXhwb25lbnRpYWwgbm90YXRpb24gYW5kXHJcbiAgICogcm91bmRlZCB1c2luZyBST1VORElOR19NT0RFIHRvIGRwIGZpeGVkIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAqXHJcbiAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAqL1xyXG4gIFAudG9FeHBvbmVudGlhbCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgIGlmIChkcCAhPSBudWxsKSB7XHJcbiAgICAgIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG4gICAgICBkcCsrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBkcCwgcm0sIDEpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uIHJvdW5kaW5nXHJcbiAgICogdG8gZHAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxyXG4gICAqXHJcbiAgICogTm90ZTogYXMgd2l0aCBKYXZhU2NyaXB0J3MgbnVtYmVyIHR5cGUsICgtMCkudG9GaXhlZCgwKSBpcyAnMCcsXHJcbiAgICogYnV0IGUuZy4gKC0wLjAwMDAxKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcHxybX0nXHJcbiAgICovXHJcbiAgUC50b0ZpeGVkID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gICAgaWYgKGRwICE9IG51bGwpIHtcclxuICAgICAgaW50Q2hlY2soZHAsIDAsIE1BWCk7XHJcbiAgICAgIGRwID0gZHAgKyB0aGlzLmUgKyAxO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBkcCwgcm0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uIHJvdW5kZWRcclxuICAgKiB1c2luZyBybSBvciBST1VORElOR19NT0RFIHRvIGRwIGRlY2ltYWwgcGxhY2VzLCBhbmQgZm9ybWF0dGVkIGFjY29yZGluZyB0byB0aGUgcHJvcGVydGllc1xyXG4gICAqIG9mIHRoZSBmb3JtYXQgb3IgRk9STUFUIG9iamVjdCAoc2VlIEJpZ051bWJlci5zZXQpLlxyXG4gICAqXHJcbiAgICogVGhlIGZvcm1hdHRpbmcgb2JqZWN0IG1heSBjb250YWluIHNvbWUgb3IgYWxsIG9mIHRoZSBwcm9wZXJ0aWVzIHNob3duIGJlbG93LlxyXG4gICAqXHJcbiAgICogRk9STUFUID0ge1xyXG4gICAqICAgcHJlZml4OiAnJyxcclxuICAgKiAgIGdyb3VwU2l6ZTogMyxcclxuICAgKiAgIHNlY29uZGFyeUdyb3VwU2l6ZTogMCxcclxuICAgKiAgIGdyb3VwU2VwYXJhdG9yOiAnLCcsXHJcbiAgICogICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXHJcbiAgICogICBmcmFjdGlvbkdyb3VwU2l6ZTogMCxcclxuICAgKiAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3I6ICdcXHhBMCcsICAgICAgLy8gbm9uLWJyZWFraW5nIHNwYWNlXHJcbiAgICogICBzdWZmaXg6ICcnXHJcbiAgICogfTtcclxuICAgKlxyXG4gICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICogW2Zvcm1hdF0ge29iamVjdH0gRm9ybWF0dGluZyBvcHRpb25zLiBTZWUgRk9STUFUIHBiamVjdCBhYm92ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCBub3QgYW4gb2JqZWN0OiB7Zm9ybWF0fSdcclxuICAgKi9cclxuICBQLnRvRm9ybWF0ID0gZnVuY3Rpb24gKGRwLCBybSwgZm9ybWF0KSB7XHJcbiAgICB2YXIgc3RyLFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICBpZiAoZm9ybWF0ID09IG51bGwpIHtcclxuICAgICAgaWYgKGRwICE9IG51bGwgJiYgcm0gJiYgdHlwZW9mIHJtID09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgZm9ybWF0ID0gcm07XHJcbiAgICAgICAgcm0gPSBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKGRwICYmIHR5cGVvZiBkcCA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGZvcm1hdCA9IGRwO1xyXG4gICAgICAgIGRwID0gcm0gPSBudWxsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvcm1hdCA9IEZPUk1BVDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ICE9ICdvYmplY3QnKSB7XHJcbiAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0FyZ3VtZW50IG5vdCBhbiBvYmplY3Q6ICcgKyBmb3JtYXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0ciA9IHgudG9GaXhlZChkcCwgcm0pO1xyXG5cclxuICAgIGlmICh4LmMpIHtcclxuICAgICAgdmFyIGksXHJcbiAgICAgICAgYXJyID0gc3RyLnNwbGl0KCcuJyksXHJcbiAgICAgICAgZzEgPSArZm9ybWF0Lmdyb3VwU2l6ZSxcclxuICAgICAgICBnMiA9ICtmb3JtYXQuc2Vjb25kYXJ5R3JvdXBTaXplLFxyXG4gICAgICAgIGdyb3VwU2VwYXJhdG9yID0gZm9ybWF0Lmdyb3VwU2VwYXJhdG9yIHx8ICcnLFxyXG4gICAgICAgIGludFBhcnQgPSBhcnJbMF0sXHJcbiAgICAgICAgZnJhY3Rpb25QYXJ0ID0gYXJyWzFdLFxyXG4gICAgICAgIGlzTmVnID0geC5zIDwgMCxcclxuICAgICAgICBpbnREaWdpdHMgPSBpc05lZyA/IGludFBhcnQuc2xpY2UoMSkgOiBpbnRQYXJ0LFxyXG4gICAgICAgIGxlbiA9IGludERpZ2l0cy5sZW5ndGg7XHJcblxyXG4gICAgICBpZiAoZzIpIHtcclxuICAgICAgICBpID0gZzE7XHJcbiAgICAgICAgZzEgPSBnMjtcclxuICAgICAgICBnMiA9IGk7XHJcbiAgICAgICAgbGVuIC09IGk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChnMSA+IDAgJiYgbGVuID4gMCkge1xyXG4gICAgICAgIGkgPSBsZW4gJSBnMSB8fCBnMTtcclxuICAgICAgICBpbnRQYXJ0ID0gaW50RGlnaXRzLnN1YnN0cigwLCBpKTtcclxuICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSBnMSkgaW50UGFydCArPSBncm91cFNlcGFyYXRvciArIGludERpZ2l0cy5zdWJzdHIoaSwgZzEpO1xyXG4gICAgICAgIGlmIChnMiA+IDApIGludFBhcnQgKz0gZ3JvdXBTZXBhcmF0b3IgKyBpbnREaWdpdHMuc2xpY2UoaSk7XHJcbiAgICAgICAgaWYgKGlzTmVnKSBpbnRQYXJ0ID0gJy0nICsgaW50UGFydDtcclxuICAgICAgfVxyXG5cclxuICAgICAgc3RyID0gZnJhY3Rpb25QYXJ0XHJcbiAgICAgICA/IGludFBhcnQgKyAoZm9ybWF0LmRlY2ltYWxTZXBhcmF0b3IgfHwgJycpICsgKChnMiA9ICtmb3JtYXQuZnJhY3Rpb25Hcm91cFNpemUpXHJcbiAgICAgICAgPyBmcmFjdGlvblBhcnQucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcZHsnICsgZzIgKyAnfVxcXFxCJywgJ2cnKSxcclxuICAgICAgICAgJyQmJyArIChmb3JtYXQuZnJhY3Rpb25Hcm91cFNlcGFyYXRvciB8fCAnJykpXHJcbiAgICAgICAgOiBmcmFjdGlvblBhcnQpXHJcbiAgICAgICA6IGludFBhcnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChmb3JtYXQucHJlZml4IHx8ICcnKSArIHN0ciArIChmb3JtYXQuc3VmZml4IHx8ICcnKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgdHdvIEJpZ051bWJlcnMgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBhcyBhIHNpbXBsZVxyXG4gICAqIGZyYWN0aW9uIHdpdGggYW4gaW50ZWdlciBudW1lcmF0b3IgYW5kIGFuIGludGVnZXIgZGVub21pbmF0b3IuXHJcbiAgICogVGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgYSBwb3NpdGl2ZSBub24temVybyB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHNwZWNpZmllZFxyXG4gICAqIG1heGltdW0gZGVub21pbmF0b3IuIElmIGEgbWF4aW11bSBkZW5vbWluYXRvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZGVub21pbmF0b3Igd2lsbCBiZVxyXG4gICAqIHRoZSBsb3dlc3QgdmFsdWUgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgbnVtYmVyIGV4YWN0bHkuXHJcbiAgICpcclxuICAgKiBbbWRdIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gSW50ZWdlciA+PSAxLCBvciBJbmZpbml0eS4gVGhlIG1heGltdW0gZGVub21pbmF0b3IuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX0gOiB7bWR9J1xyXG4gICAqL1xyXG4gIFAudG9GcmFjdGlvbiA9IGZ1bmN0aW9uIChtZCkge1xyXG4gICAgdmFyIGQsIGQwLCBkMSwgZDIsIGUsIGV4cCwgbiwgbjAsIG4xLCBxLCByLCBzLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgeGMgPSB4LmM7XHJcblxyXG4gICAgaWYgKG1kICE9IG51bGwpIHtcclxuICAgICAgbiA9IG5ldyBCaWdOdW1iZXIobWQpO1xyXG5cclxuICAgICAgLy8gVGhyb3cgaWYgbWQgaXMgbGVzcyB0aGFuIG9uZSBvciBpcyBub3QgYW4gaW50ZWdlciwgdW5sZXNzIGl0IGlzIEluZmluaXR5LlxyXG4gICAgICBpZiAoIW4uaXNJbnRlZ2VyKCkgJiYgKG4uYyB8fCBuLnMgIT09IDEpIHx8IG4ubHQoT05FKSkge1xyXG4gICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnQXJndW1lbnQgJyArXHJcbiAgICAgICAgICAgIChuLmlzSW50ZWdlcigpID8gJ291dCBvZiByYW5nZTogJyA6ICdub3QgYW4gaW50ZWdlcjogJykgKyB2YWx1ZU9mKG4pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICgheGMpIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpO1xyXG5cclxuICAgIGQgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcbiAgICBuMSA9IGQwID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG4gICAgZDEgPSBuMCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuICAgIHMgPSBjb2VmZlRvU3RyaW5nKHhjKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgaW5pdGlhbCBkZW5vbWluYXRvci5cclxuICAgIC8vIGQgaXMgYSBwb3dlciBvZiAxMCBhbmQgdGhlIG1pbmltdW0gbWF4IGRlbm9taW5hdG9yIHRoYXQgc3BlY2lmaWVzIHRoZSB2YWx1ZSBleGFjdGx5LlxyXG4gICAgZSA9IGQuZSA9IHMubGVuZ3RoIC0geC5lIC0gMTtcclxuICAgIGQuY1swXSA9IFBPV1NfVEVOWyhleHAgPSBlICUgTE9HX0JBU0UpIDwgMCA/IExPR19CQVNFICsgZXhwIDogZXhwXTtcclxuICAgIG1kID0gIW1kIHx8IG4uY29tcGFyZWRUbyhkKSA+IDAgPyAoZSA+IDAgPyBkIDogbjEpIDogbjtcclxuXHJcbiAgICBleHAgPSBNQVhfRVhQO1xyXG4gICAgTUFYX0VYUCA9IDEgLyAwO1xyXG4gICAgbiA9IG5ldyBCaWdOdW1iZXIocyk7XHJcblxyXG4gICAgLy8gbjAgPSBkMSA9IDBcclxuICAgIG4wLmNbMF0gPSAwO1xyXG5cclxuICAgIGZvciAoOyA7KSAge1xyXG4gICAgICBxID0gZGl2KG4sIGQsIDAsIDEpO1xyXG4gICAgICBkMiA9IGQwLnBsdXMocS50aW1lcyhkMSkpO1xyXG4gICAgICBpZiAoZDIuY29tcGFyZWRUbyhtZCkgPT0gMSkgYnJlYWs7XHJcbiAgICAgIGQwID0gZDE7XHJcbiAgICAgIGQxID0gZDI7XHJcbiAgICAgIG4xID0gbjAucGx1cyhxLnRpbWVzKGQyID0gbjEpKTtcclxuICAgICAgbjAgPSBkMjtcclxuICAgICAgZCA9IG4ubWludXMocS50aW1lcyhkMiA9IGQpKTtcclxuICAgICAgbiA9IGQyO1xyXG4gICAgfVxyXG5cclxuICAgIGQyID0gZGl2KG1kLm1pbnVzKGQwKSwgZDEsIDAsIDEpO1xyXG4gICAgbjAgPSBuMC5wbHVzKGQyLnRpbWVzKG4xKSk7XHJcbiAgICBkMCA9IGQwLnBsdXMoZDIudGltZXMoZDEpKTtcclxuICAgIG4wLnMgPSBuMS5zID0geC5zO1xyXG4gICAgZSA9IGUgKiAyO1xyXG5cclxuICAgIC8vIERldGVybWluZSB3aGljaCBmcmFjdGlvbiBpcyBjbG9zZXIgdG8geCwgbjAvZDAgb3IgbjEvZDFcclxuICAgIHIgPSBkaXYobjEsIGQxLCBlLCBST1VORElOR19NT0RFKS5taW51cyh4KS5hYnMoKS5jb21wYXJlZFRvKFxyXG4gICAgICAgIGRpdihuMCwgZDAsIGUsIFJPVU5ESU5HX01PREUpLm1pbnVzKHgpLmFicygpKSA8IDEgPyBbbjEsIGQxXSA6IFtuMCwgZDBdO1xyXG5cclxuICAgIE1BWF9FWFAgPSBleHA7XHJcblxyXG4gICAgcmV0dXJuIHI7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBjb252ZXJ0ZWQgdG8gYSBudW1iZXIgcHJpbWl0aXZlLlxyXG4gICAqL1xyXG4gIFAudG9OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gK3ZhbHVlT2YodGhpcyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcm91bmRlZCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHNcclxuICAgKiB1c2luZyByb3VuZGluZyBtb2RlIHJtIG9yIFJPVU5ESU5HX01PREUuIElmIHNkIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0c1xyXG4gICAqIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIGludGVnZXIgcGFydCBvZiB0aGUgdmFsdWUgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24sIHRoZW4gdXNlXHJcbiAgICogZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICpcclxuICAgKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7c2R8cm19J1xyXG4gICAqL1xyXG4gIFAudG9QcmVjaXNpb24gPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICBpZiAoc2QgIT0gbnVsbCkgaW50Q2hlY2soc2QsIDEsIE1BWCk7XHJcbiAgICByZXR1cm4gZm9ybWF0KHRoaXMsIHNkLCBybSwgMik7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaW4gYmFzZSBiLCBvciBiYXNlIDEwIGlmIGIgaXNcclxuICAgKiBvbWl0dGVkLiBJZiBhIGJhc2UgaXMgc3BlY2lmaWVkLCBpbmNsdWRpbmcgYmFzZSAxMCwgcm91bmQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZFxyXG4gICAqIFJPVU5ESU5HX01PREUuIElmIGEgYmFzZSBpcyBub3Qgc3BlY2lmaWVkLCBhbmQgdGhpcyBCaWdOdW1iZXIgaGFzIGEgcG9zaXRpdmUgZXhwb25lbnRcclxuICAgKiB0aGF0IGlzIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhbiBUT19FWFBfUE9TLCBvciBhIG5lZ2F0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGxlc3MgdGhhblxyXG4gICAqIFRPX0VYUF9ORUcsIHJldHVybiBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgKlxyXG4gICAqIFtiXSB7bnVtYmVyfSBJbnRlZ2VyLCAyIHRvIEFMUEhBQkVULmxlbmd0aCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQmFzZSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7Yn0nXHJcbiAgICovXHJcbiAgUC50b1N0cmluZyA9IGZ1bmN0aW9uIChiKSB7XHJcbiAgICB2YXIgc3RyLFxyXG4gICAgICBuID0gdGhpcyxcclxuICAgICAgcyA9IG4ucyxcclxuICAgICAgZSA9IG4uZTtcclxuXHJcbiAgICAvLyBJbmZpbml0eSBvciBOYU4/XHJcbiAgICBpZiAoZSA9PT0gbnVsbCkge1xyXG4gICAgICBpZiAocykge1xyXG4gICAgICAgIHN0ciA9ICdJbmZpbml0eSc7XHJcbiAgICAgICAgaWYgKHMgPCAwKSBzdHIgPSAnLScgKyBzdHI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RyID0gJ05hTic7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChiID09IG51bGwpIHtcclxuICAgICAgICBzdHIgPSBlIDw9IFRPX0VYUF9ORUcgfHwgZSA+PSBUT19FWFBfUE9TXHJcbiAgICAgICAgID8gdG9FeHBvbmVudGlhbChjb2VmZlRvU3RyaW5nKG4uYyksIGUpXHJcbiAgICAgICAgIDogdG9GaXhlZFBvaW50KGNvZWZmVG9TdHJpbmcobi5jKSwgZSwgJzAnKTtcclxuICAgICAgfSBlbHNlIGlmIChiID09PSAxMCAmJiBhbHBoYWJldEhhc05vcm1hbERlY2ltYWxEaWdpdHMpIHtcclxuICAgICAgICBuID0gcm91bmQobmV3IEJpZ051bWJlcihuKSwgREVDSU1BTF9QTEFDRVMgKyBlICsgMSwgUk9VTkRJTkdfTU9ERSk7XHJcbiAgICAgICAgc3RyID0gdG9GaXhlZFBvaW50KGNvZWZmVG9TdHJpbmcobi5jKSwgbi5lLCAnMCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGludENoZWNrKGIsIDIsIEFMUEhBQkVULmxlbmd0aCwgJ0Jhc2UnKTtcclxuICAgICAgICBzdHIgPSBjb252ZXJ0QmFzZSh0b0ZpeGVkUG9pbnQoY29lZmZUb1N0cmluZyhuLmMpLCBlLCAnMCcpLCAxMCwgYiwgcywgdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzIDwgMCAmJiBuLmNbMF0pIHN0ciA9ICctJyArIHN0cjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RyO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhcyB0b1N0cmluZywgYnV0IGRvIG5vdCBhY2NlcHQgYSBiYXNlIGFyZ3VtZW50LCBhbmQgaW5jbHVkZSB0aGUgbWludXMgc2lnbiBmb3JcclxuICAgKiBuZWdhdGl2ZSB6ZXJvLlxyXG4gICAqL1xyXG4gIFAudmFsdWVPZiA9IFAudG9KU09OID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHZhbHVlT2YodGhpcyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIFAuX2lzQmlnTnVtYmVyID0gdHJ1ZTtcclxuXHJcbiAgUFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ0JpZ051bWJlcic7XHJcblxyXG4gIC8vIE5vZGUuanMgdjEwLjEyLjArXHJcbiAgUFtTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSA9IFAudmFsdWVPZjtcclxuXHJcbiAgaWYgKGNvbmZpZ09iamVjdCAhPSBudWxsKSBCaWdOdW1iZXIuc2V0KGNvbmZpZ09iamVjdCk7XHJcblxyXG4gIHJldHVybiBCaWdOdW1iZXI7XHJcbn1cclxuXHJcblxyXG4vLyBQUklWQVRFIEhFTFBFUiBGVU5DVElPTlNcclxuXHJcbi8vIFRoZXNlIGZ1bmN0aW9ucyBkb24ndCBuZWVkIGFjY2VzcyB0byB2YXJpYWJsZXMsXHJcbi8vIGUuZy4gREVDSU1BTF9QTEFDRVMsIGluIHRoZSBzY29wZSBvZiB0aGUgYGNsb25lYCBmdW5jdGlvbiBhYm92ZS5cclxuXHJcblxyXG5mdW5jdGlvbiBiaXRGbG9vcihuKSB7XHJcbiAgdmFyIGkgPSBuIHwgMDtcclxuICByZXR1cm4gbiA+IDAgfHwgbiA9PT0gaSA/IGkgOiBpIC0gMTtcclxufVxyXG5cclxuXHJcbi8vIFJldHVybiBhIGNvZWZmaWNpZW50IGFycmF5IGFzIGEgc3RyaW5nIG9mIGJhc2UgMTAgZGlnaXRzLlxyXG5mdW5jdGlvbiBjb2VmZlRvU3RyaW5nKGEpIHtcclxuICB2YXIgcywgeixcclxuICAgIGkgPSAxLFxyXG4gICAgaiA9IGEubGVuZ3RoLFxyXG4gICAgciA9IGFbMF0gKyAnJztcclxuXHJcbiAgZm9yICg7IGkgPCBqOykge1xyXG4gICAgcyA9IGFbaSsrXSArICcnO1xyXG4gICAgeiA9IExPR19CQVNFIC0gcy5sZW5ndGg7XHJcbiAgICBmb3IgKDsgei0tOyBzID0gJzAnICsgcyk7XHJcbiAgICByICs9IHM7XHJcbiAgfVxyXG5cclxuICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yIChqID0gci5sZW5ndGg7IHIuY2hhckNvZGVBdCgtLWopID09PSA0ODspO1xyXG5cclxuICByZXR1cm4gci5zbGljZSgwLCBqICsgMSB8fCAxKTtcclxufVxyXG5cclxuXHJcbi8vIENvbXBhcmUgdGhlIHZhbHVlIG9mIEJpZ051bWJlcnMgeCBhbmQgeS5cclxuZnVuY3Rpb24gY29tcGFyZSh4LCB5KSB7XHJcbiAgdmFyIGEsIGIsXHJcbiAgICB4YyA9IHguYyxcclxuICAgIHljID0geS5jLFxyXG4gICAgaSA9IHgucyxcclxuICAgIGogPSB5LnMsXHJcbiAgICBrID0geC5lLFxyXG4gICAgbCA9IHkuZTtcclxuXHJcbiAgLy8gRWl0aGVyIE5hTj9cclxuICBpZiAoIWkgfHwgIWopIHJldHVybiBudWxsO1xyXG5cclxuICBhID0geGMgJiYgIXhjWzBdO1xyXG4gIGIgPSB5YyAmJiAheWNbMF07XHJcblxyXG4gIC8vIEVpdGhlciB6ZXJvP1xyXG4gIGlmIChhIHx8IGIpIHJldHVybiBhID8gYiA/IDAgOiAtaiA6IGk7XHJcblxyXG4gIC8vIFNpZ25zIGRpZmZlcj9cclxuICBpZiAoaSAhPSBqKSByZXR1cm4gaTtcclxuXHJcbiAgYSA9IGkgPCAwO1xyXG4gIGIgPSBrID09IGw7XHJcblxyXG4gIC8vIEVpdGhlciBJbmZpbml0eT9cclxuICBpZiAoIXhjIHx8ICF5YykgcmV0dXJuIGIgPyAwIDogIXhjIF4gYSA/IDEgOiAtMTtcclxuXHJcbiAgLy8gQ29tcGFyZSBleHBvbmVudHMuXHJcbiAgaWYgKCFiKSByZXR1cm4gayA+IGwgXiBhID8gMSA6IC0xO1xyXG5cclxuICBqID0gKGsgPSB4Yy5sZW5ndGgpIDwgKGwgPSB5Yy5sZW5ndGgpID8gayA6IGw7XHJcblxyXG4gIC8vIENvbXBhcmUgZGlnaXQgYnkgZGlnaXQuXHJcbiAgZm9yIChpID0gMDsgaSA8IGo7IGkrKykgaWYgKHhjW2ldICE9IHljW2ldKSByZXR1cm4geGNbaV0gPiB5Y1tpXSBeIGEgPyAxIDogLTE7XHJcblxyXG4gIC8vIENvbXBhcmUgbGVuZ3Rocy5cclxuICByZXR1cm4gayA9PSBsID8gMCA6IGsgPiBsIF4gYSA/IDEgOiAtMTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIENoZWNrIHRoYXQgbiBpcyBhIHByaW1pdGl2ZSBudW1iZXIsIGFuIGludGVnZXIsIGFuZCBpbiByYW5nZSwgb3RoZXJ3aXNlIHRocm93LlxyXG4gKi9cclxuZnVuY3Rpb24gaW50Q2hlY2sobiwgbWluLCBtYXgsIG5hbWUpIHtcclxuICBpZiAobiA8IG1pbiB8fCBuID4gbWF4IHx8IG4gIT09IG1hdGhmbG9vcihuKSkge1xyXG4gICAgdGhyb3cgRXJyb3JcclxuICAgICAoYmlnbnVtYmVyRXJyb3IgKyAobmFtZSB8fCAnQXJndW1lbnQnKSArICh0eXBlb2YgbiA9PSAnbnVtYmVyJ1xyXG4gICAgICAgPyBuIDwgbWluIHx8IG4gPiBtYXggPyAnIG91dCBvZiByYW5nZTogJyA6ICcgbm90IGFuIGludGVnZXI6ICdcclxuICAgICAgIDogJyBub3QgYSBwcmltaXRpdmUgbnVtYmVyOiAnKSArIFN0cmluZyhuKSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gQXNzdW1lcyBmaW5pdGUgbi5cclxuZnVuY3Rpb24gaXNPZGQobikge1xyXG4gIHZhciBrID0gbi5jLmxlbmd0aCAtIDE7XHJcbiAgcmV0dXJuIGJpdEZsb29yKG4uZSAvIExPR19CQVNFKSA9PSBrICYmIG4uY1trXSAlIDIgIT0gMDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHRvRXhwb25lbnRpYWwoc3RyLCBlKSB7XHJcbiAgcmV0dXJuIChzdHIubGVuZ3RoID4gMSA/IHN0ci5jaGFyQXQoMCkgKyAnLicgKyBzdHIuc2xpY2UoMSkgOiBzdHIpICtcclxuICAgKGUgPCAwID8gJ2UnIDogJ2UrJykgKyBlO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdG9GaXhlZFBvaW50KHN0ciwgZSwgeikge1xyXG4gIHZhciBsZW4sIHpzO1xyXG5cclxuICAvLyBOZWdhdGl2ZSBleHBvbmVudD9cclxuICBpZiAoZSA8IDApIHtcclxuXHJcbiAgICAvLyBQcmVwZW5kIHplcm9zLlxyXG4gICAgZm9yICh6cyA9IHogKyAnLic7ICsrZTsgenMgKz0geik7XHJcbiAgICBzdHIgPSB6cyArIHN0cjtcclxuXHJcbiAgLy8gUG9zaXRpdmUgZXhwb25lbnRcclxuICB9IGVsc2Uge1xyXG4gICAgbGVuID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgICAvLyBBcHBlbmQgemVyb3MuXHJcbiAgICBpZiAoKytlID4gbGVuKSB7XHJcbiAgICAgIGZvciAoenMgPSB6LCBlIC09IGxlbjsgLS1lOyB6cyArPSB6KTtcclxuICAgICAgc3RyICs9IHpzO1xyXG4gICAgfSBlbHNlIGlmIChlIDwgbGVuKSB7XHJcbiAgICAgIHN0ciA9IHN0ci5zbGljZSgwLCBlKSArICcuJyArIHN0ci5zbGljZShlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBzdHI7XHJcbn1cclxuXHJcblxyXG4vLyBFWFBPUlRcclxuXHJcblxyXG5leHBvcnQgdmFyIEJpZ051bWJlciA9IGNsb25lKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCaWdOdW1iZXI7XHJcbiIsICJjbGFzcyBTcGxheVRyZWVOb2RlIHtcclxuICAgIGtleTtcclxuICAgIGxlZnQgPSBudWxsO1xyXG4gICAgcmlnaHQgPSBudWxsO1xyXG4gICAgY29uc3RydWN0b3Ioa2V5KSB7XHJcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgU3BsYXlUcmVlU2V0Tm9kZSBleHRlbmRzIFNwbGF5VHJlZU5vZGUge1xyXG4gICAgY29uc3RydWN0b3Ioa2V5KSB7XHJcbiAgICAgICAgc3VwZXIoa2V5KTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBTcGxheVRyZWVNYXBOb2RlIGV4dGVuZHMgU3BsYXlUcmVlTm9kZSB7XHJcbiAgICB2YWx1ZTtcclxuICAgIGNvbnN0cnVjdG9yKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBzdXBlcihrZXkpO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIHJlcGxhY2VWYWx1ZSh2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgU3BsYXlUcmVlTWFwTm9kZSh0aGlzLmtleSwgdmFsdWUpO1xyXG4gICAgICAgIG5vZGUubGVmdCA9IHRoaXMubGVmdDtcclxuICAgICAgICBub2RlLnJpZ2h0ID0gdGhpcy5yaWdodDtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBTcGxheVRyZWUge1xyXG4gICAgc2l6ZSA9IDA7XHJcbiAgICBtb2RpZmljYXRpb25Db3VudCA9IDA7XHJcbiAgICBzcGxheUNvdW50ID0gMDtcclxuICAgIHNwbGF5KGtleSkge1xyXG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLnJvb3Q7XHJcbiAgICAgICAgaWYgKHJvb3QgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBhcmUoa2V5LCBrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByaWdodCA9IG51bGw7XHJcbiAgICAgICAgbGV0IG5ld1RyZWVSaWdodCA9IG51bGw7XHJcbiAgICAgICAgbGV0IGxlZnQgPSBudWxsO1xyXG4gICAgICAgIGxldCBuZXdUcmVlTGVmdCA9IG51bGw7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSByb290O1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmUgPSB0aGlzLmNvbXBhcmU7XHJcbiAgICAgICAgbGV0IGNvbXA7XHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgY29tcCA9IGNvbXBhcmUoY3VycmVudC5rZXksIGtleSk7XHJcbiAgICAgICAgICAgIGlmIChjb21wID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRMZWZ0ID0gY3VycmVudC5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRMZWZ0ID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjb21wID0gY29tcGFyZShjdXJyZW50TGVmdC5rZXksIGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmxlZnQgPSBjdXJyZW50TGVmdC5yaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGVmdC5yaWdodCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMZWZ0ID0gY3VycmVudC5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TGVmdCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyaWdodCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VHJlZVJpZ2h0ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0LmxlZnQgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmlnaHQgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRMZWZ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbXAgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFJpZ2h0ID0gY3VycmVudC5yaWdodDtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UmlnaHQgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNvbXAgPSBjb21wYXJlKGN1cnJlbnRSaWdodC5rZXksIGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LnJpZ2h0ID0gY3VycmVudFJpZ2h0LmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFJpZ2h0LmxlZnQgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50UmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFJpZ2h0ID0gY3VycmVudC5yaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFJpZ2h0ID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGxlZnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1RyZWVMZWZ0ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQucmlnaHQgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGVmdCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFJpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxlZnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZWZ0LnJpZ2h0ID0gY3VycmVudC5sZWZ0O1xyXG4gICAgICAgICAgICBjdXJyZW50LmxlZnQgPSBuZXdUcmVlTGVmdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJpZ2h0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcmlnaHQubGVmdCA9IGN1cnJlbnQucmlnaHQ7XHJcbiAgICAgICAgICAgIGN1cnJlbnQucmlnaHQgPSBuZXdUcmVlUmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnJvb3QgIT09IGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gY3VycmVudDtcclxuICAgICAgICAgICAgdGhpcy5zcGxheUNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21wO1xyXG4gICAgfVxyXG4gICAgc3BsYXlNaW4obm9kZSkge1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gbm9kZTtcclxuICAgICAgICBsZXQgbmV4dExlZnQgPSBjdXJyZW50LmxlZnQ7XHJcbiAgICAgICAgd2hpbGUgKG5leHRMZWZ0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc3QgbGVmdCA9IG5leHRMZWZ0O1xyXG4gICAgICAgICAgICBjdXJyZW50LmxlZnQgPSBsZWZ0LnJpZ2h0O1xyXG4gICAgICAgICAgICBsZWZ0LnJpZ2h0ID0gY3VycmVudDtcclxuICAgICAgICAgICAgY3VycmVudCA9IGxlZnQ7XHJcbiAgICAgICAgICAgIG5leHRMZWZ0ID0gY3VycmVudC5sZWZ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgIH1cclxuICAgIHNwbGF5TWF4KG5vZGUpIHtcclxuICAgICAgICBsZXQgY3VycmVudCA9IG5vZGU7XHJcbiAgICAgICAgbGV0IG5leHRSaWdodCA9IGN1cnJlbnQucmlnaHQ7XHJcbiAgICAgICAgd2hpbGUgKG5leHRSaWdodCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gbmV4dFJpZ2h0O1xyXG4gICAgICAgICAgICBjdXJyZW50LnJpZ2h0ID0gcmlnaHQubGVmdDtcclxuICAgICAgICAgICAgcmlnaHQubGVmdCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSByaWdodDtcclxuICAgICAgICAgICAgbmV4dFJpZ2h0ID0gY3VycmVudC5yaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICB9XHJcbiAgICBfZGVsZXRlKGtleSkge1xyXG4gICAgICAgIGlmICh0aGlzLnJvb3QgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgY29uc3QgY29tcCA9IHRoaXMuc3BsYXkoa2V5KTtcclxuICAgICAgICBpZiAoY29tcCAhPSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBsZXQgcm9vdCA9IHRoaXMucm9vdDtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSByb290O1xyXG4gICAgICAgIGNvbnN0IGxlZnQgPSByb290LmxlZnQ7XHJcbiAgICAgICAgdGhpcy5zaXplLS07XHJcbiAgICAgICAgaWYgKGxlZnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnJvb3QgPSByb290LnJpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSByb290LnJpZ2h0O1xyXG4gICAgICAgICAgICByb290ID0gdGhpcy5zcGxheU1heChsZWZ0KTtcclxuICAgICAgICAgICAgcm9vdC5yaWdodCA9IHJpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLnJvb3QgPSByb290O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbkNvdW50Kys7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIGFkZE5ld1Jvb3Qobm9kZSwgY29tcCkge1xyXG4gICAgICAgIHRoaXMuc2l6ZSsrO1xyXG4gICAgICAgIHRoaXMubW9kaWZpY2F0aW9uQ291bnQrKztcclxuICAgICAgICBjb25zdCByb290ID0gdGhpcy5yb290O1xyXG4gICAgICAgIGlmIChyb290ID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gbm9kZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcCA8IDApIHtcclxuICAgICAgICAgICAgbm9kZS5sZWZ0ID0gcm9vdDtcclxuICAgICAgICAgICAgbm9kZS5yaWdodCA9IHJvb3QucmlnaHQ7XHJcbiAgICAgICAgICAgIHJvb3QucmlnaHQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbm9kZS5yaWdodCA9IHJvb3Q7XHJcbiAgICAgICAgICAgIG5vZGUubGVmdCA9IHJvb3QubGVmdDtcclxuICAgICAgICAgICAgcm9vdC5sZWZ0ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yb290ID0gbm9kZTtcclxuICAgIH1cclxuICAgIF9maXJzdCgpIHtcclxuICAgICAgICBjb25zdCByb290ID0gdGhpcy5yb290O1xyXG4gICAgICAgIGlmIChyb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHRoaXMucm9vdCA9IHRoaXMuc3BsYXlNaW4ocm9vdCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdDtcclxuICAgIH1cclxuICAgIF9sYXN0KCkge1xyXG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLnJvb3Q7XHJcbiAgICAgICAgaWYgKHJvb3QgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgdGhpcy5yb290ID0gdGhpcy5zcGxheU1heChyb290KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb290O1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5yb290ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNpemUgPSAwO1xyXG4gICAgICAgIHRoaXMubW9kaWZpY2F0aW9uQ291bnQrKztcclxuICAgIH1cclxuICAgIGhhcyhrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZEtleShrZXkpICYmIHRoaXMuc3BsYXkoa2V5KSA9PSAwO1xyXG4gICAgfVxyXG4gICAgZGVmYXVsdENvbXBhcmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIChhLCBiKSA9PiBhIDwgYiA/IC0xIDogYSA+IGIgPyAxIDogMDtcclxuICAgIH1cclxuICAgIHdyYXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0Um9vdDogKCkgPT4geyByZXR1cm4gdGhpcy5yb290OyB9LFxyXG4gICAgICAgICAgICBzZXRSb290OiAocm9vdCkgPT4geyB0aGlzLnJvb3QgPSByb290OyB9LFxyXG4gICAgICAgICAgICBnZXRTaXplOiAoKSA9PiB7IHJldHVybiB0aGlzLnNpemU7IH0sXHJcbiAgICAgICAgICAgIGdldE1vZGlmaWNhdGlvbkNvdW50OiAoKSA9PiB7IHJldHVybiB0aGlzLm1vZGlmaWNhdGlvbkNvdW50OyB9LFxyXG4gICAgICAgICAgICBnZXRTcGxheUNvdW50OiAoKSA9PiB7IHJldHVybiB0aGlzLnNwbGF5Q291bnQ7IH0sXHJcbiAgICAgICAgICAgIHNldFNwbGF5Q291bnQ6IChjb3VudCkgPT4geyB0aGlzLnNwbGF5Q291bnQgPSBjb3VudDsgfSxcclxuICAgICAgICAgICAgc3BsYXk6IChrZXkpID0+IHsgcmV0dXJuIHRoaXMuc3BsYXkoa2V5KTsgfSxcclxuICAgICAgICAgICAgaGFzOiAoa2V5KSA9PiB7IHJldHVybiB0aGlzLmhhcyhrZXkpOyB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIFNwbGF5VHJlZU1hcCBleHRlbmRzIFNwbGF5VHJlZSB7XHJcbiAgICByb290ID0gbnVsbDtcclxuICAgIGNvbXBhcmU7XHJcbiAgICB2YWxpZEtleTtcclxuICAgIGNvbnN0cnVjdG9yKGNvbXBhcmUsIGlzVmFsaWRLZXkpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuY29tcGFyZSA9IGNvbXBhcmUgPz8gdGhpcy5kZWZhdWx0Q29tcGFyZSgpO1xyXG4gICAgICAgIHRoaXMudmFsaWRLZXkgPSBpc1ZhbGlkS2V5ID8/ICgoYSkgPT4gYSAhPSBudWxsICYmIGEgIT0gdW5kZWZpbmVkKTtcclxuICAgIH1cclxuICAgIGRlbGV0ZShrZXkpIHtcclxuICAgICAgICBpZiAoIXRoaXMudmFsaWRLZXkoa2V5KSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxldGUoa2V5KSAhPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZm9yRWFjaChmKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZXMgPSBuZXcgU3BsYXlUcmVlTWFwRW50cnlJdGVyYWJsZUl0ZXJhdG9yKHRoaXMud3JhcCgpKTtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIHdoaWxlIChyZXN1bHQgPSBub2Rlcy5uZXh0KCksICFyZXN1bHQuZG9uZSkge1xyXG4gICAgICAgICAgICBmKHJlc3VsdC52YWx1ZVsxXSwgcmVzdWx0LnZhbHVlWzBdLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkS2V5KGtleSkpXHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHRoaXMucm9vdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgICAgIGlmIChjb21wID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3QudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGhhc1ZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFNwbGF5Q291bnQgPSB0aGlzLnNwbGF5Q291bnQ7XHJcbiAgICAgICAgY29uc3QgdmlzaXQgPSAobm9kZSkgPT4ge1xyXG4gICAgICAgICAgICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS52YWx1ZSA9PSB2YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsU3BsYXlDb3VudCAhPSB0aGlzLnNwbGF5Q291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIkNvbmN1cnJlbnQgbW9kaWZpY2F0aW9uIGR1cmluZyBpdGVyYXRpb24uXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5yaWdodCAhPSBudWxsICYmIHZpc2l0KG5vZGUucmlnaHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB2aXNpdCh0aGlzLnJvb3QpO1xyXG4gICAgfVxyXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zcGxheShrZXkpO1xyXG4gICAgICAgIGlmIChjb21wID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gdGhpcy5yb290LnJlcGxhY2VWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3BsYXlDb3VudCArPSAxO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZGROZXdSb290KG5ldyBTcGxheVRyZWVNYXBOb2RlKGtleSwgdmFsdWUpLCBjb21wKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIHNldEFsbChvdGhlcikge1xyXG4gICAgICAgIG90aGVyLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzZXRJZkFic2VudChrZXksIGlmQWJzZW50KSB7XHJcbiAgICAgICAgbGV0IGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgaWYgKGNvbXAgPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290LnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtb2RpZmljYXRpb25Db3VudCA9IHRoaXMubW9kaWZpY2F0aW9uQ291bnQ7XHJcbiAgICAgICAgY29uc3Qgc3BsYXlDb3VudCA9IHRoaXMuc3BsYXlDb3VudDtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IGlmQWJzZW50KCk7XHJcbiAgICAgICAgaWYgKG1vZGlmaWNhdGlvbkNvdW50ICE9IHRoaXMubW9kaWZpY2F0aW9uQ291bnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkdXJpbmcgaXRlcmF0aW9uLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3BsYXlDb3VudCAhPSB0aGlzLnNwbGF5Q291bnQpIHtcclxuICAgICAgICAgICAgY29tcCA9IHRoaXMuc3BsYXkoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZGROZXdSb290KG5ldyBTcGxheVRyZWVNYXBOb2RlKGtleSwgdmFsdWUpLCBjb21wKTtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBpc0VtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QgPT0gbnVsbDtcclxuICAgIH1cclxuICAgIGlzTm90RW1wdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmlzRW1wdHkoKTtcclxuICAgIH1cclxuICAgIGZpcnN0S2V5KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJvb3QgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpcnN0KCkua2V5O1xyXG4gICAgfVxyXG4gICAgbGFzdEtleSgpIHtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0KCkua2V5O1xyXG4gICAgfVxyXG4gICAgbGFzdEtleUJlZm9yZShrZXkpIHtcclxuICAgICAgICBpZiAoa2V5ID09IG51bGwpXHJcbiAgICAgICAgICAgIHRocm93IFwiSW52YWxpZCBhcmd1bWVudHMocylcIjtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgaWYgKGNvbXAgPCAwKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290LmtleTtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMucm9vdC5sZWZ0O1xyXG4gICAgICAgIGlmIChub2RlID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGxldCBub2RlUmlnaHQgPSBub2RlLnJpZ2h0O1xyXG4gICAgICAgIHdoaWxlIChub2RlUmlnaHQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBub2RlID0gbm9kZVJpZ2h0O1xyXG4gICAgICAgICAgICBub2RlUmlnaHQgPSBub2RlLnJpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZS5rZXk7XHJcbiAgICB9XHJcbiAgICBmaXJzdEtleUFmdGVyKGtleSkge1xyXG4gICAgICAgIGlmIChrZXkgPT0gbnVsbClcclxuICAgICAgICAgICAgdGhyb3cgXCJJbnZhbGlkIGFyZ3VtZW50cyhzKVwiO1xyXG4gICAgICAgIGlmICh0aGlzLnJvb3QgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgY29uc3QgY29tcCA9IHRoaXMuc3BsYXkoa2V5KTtcclxuICAgICAgICBpZiAoY29tcCA+IDApXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3Qua2V5O1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5yb290LnJpZ2h0O1xyXG4gICAgICAgIGlmIChub2RlID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGxldCBub2RlTGVmdCA9IG5vZGUubGVmdDtcclxuICAgICAgICB3aGlsZSAobm9kZUxlZnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBub2RlID0gbm9kZUxlZnQ7XHJcbiAgICAgICAgICAgIG5vZGVMZWZ0ID0gbm9kZS5sZWZ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZS5rZXk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoa2V5LCB1cGRhdGUsIGlmQWJzZW50KSB7XHJcbiAgICAgICAgbGV0IGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgaWYgKGNvbXAgPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RpZmljYXRpb25Db3VudCA9IHRoaXMubW9kaWZpY2F0aW9uQ291bnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwbGF5Q291bnQgPSB0aGlzLnNwbGF5Q291bnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdXBkYXRlKHRoaXMucm9vdC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmIChtb2RpZmljYXRpb25Db3VudCAhPSB0aGlzLm1vZGlmaWNhdGlvbkNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcIkNvbmN1cnJlbnQgbW9kaWZpY2F0aW9uIGR1cmluZyBpdGVyYXRpb24uXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNwbGF5Q291bnQgIT0gdGhpcy5zcGxheUNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5yb290ID0gdGhpcy5yb290LnJlcGxhY2VWYWx1ZShuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3BsYXlDb3VudCArPSAxO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpZkFic2VudCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWNhdGlvbkNvdW50ID0gdGhpcy5tb2RpZmljYXRpb25Db3VudDtcclxuICAgICAgICAgICAgY29uc3Qgc3BsYXlDb3VudCA9IHRoaXMuc3BsYXlDb3VudDtcclxuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBpZkFic2VudCgpO1xyXG4gICAgICAgICAgICBpZiAobW9kaWZpY2F0aW9uQ291bnQgIT0gdGhpcy5tb2RpZmljYXRpb25Db3VudCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkdXJpbmcgaXRlcmF0aW9uLlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzcGxheUNvdW50ICE9IHRoaXMuc3BsYXlDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgY29tcCA9IHRoaXMuc3BsYXkoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmFkZE5ld1Jvb3QobmV3IFNwbGF5VHJlZU1hcE5vZGUoa2V5LCBuZXdWYWx1ZSksIGNvbXApO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IFwiSW52YWxpZCBhcmd1bWVudCAoa2V5KTogS2V5IG5vdCBpbiBtYXAuXCI7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVBbGwodXBkYXRlKSB7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdDtcclxuICAgICAgICBpZiAocm9vdCA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBuZXcgU3BsYXlUcmVlTWFwRW50cnlJdGVyYWJsZUl0ZXJhdG9yKHRoaXMud3JhcCgpKTtcclxuICAgICAgICBsZXQgbm9kZTtcclxuICAgICAgICB3aGlsZSAobm9kZSA9IGl0ZXJhdG9yLm5leHQoKSwgIW5vZGUuZG9uZSkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHVwZGF0ZSguLi5ub2RlLnZhbHVlKTtcclxuICAgICAgICAgICAgaXRlcmF0b3IucmVwbGFjZVZhbHVlKG5ld1ZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBrZXlzKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3BsYXlUcmVlS2V5SXRlcmFibGVJdGVyYXRvcih0aGlzLndyYXAoKSk7XHJcbiAgICB9XHJcbiAgICB2YWx1ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTcGxheVRyZWVWYWx1ZUl0ZXJhYmxlSXRlcmF0b3IodGhpcy53cmFwKCkpO1xyXG4gICAgfVxyXG4gICAgZW50cmllcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1tTeW1ib2wuaXRlcmF0b3JdKCk7XHJcbiAgICB9XHJcbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFNwbGF5VHJlZU1hcEVudHJ5SXRlcmFibGVJdGVyYXRvcih0aGlzLndyYXAoKSk7XHJcbiAgICB9XHJcbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdbb2JqZWN0IE1hcF0nO1xyXG59XHJcbmV4cG9ydCBjbGFzcyBTcGxheVRyZWVTZXQgZXh0ZW5kcyBTcGxheVRyZWUge1xyXG4gICAgcm9vdCA9IG51bGw7XHJcbiAgICBjb21wYXJlO1xyXG4gICAgdmFsaWRLZXk7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb21wYXJlLCBpc1ZhbGlkS2V5KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmNvbXBhcmUgPSBjb21wYXJlID8/IHRoaXMuZGVmYXVsdENvbXBhcmUoKTtcclxuICAgICAgICB0aGlzLnZhbGlkS2V5ID0gaXNWYWxpZEtleSA/PyAoKHYpID0+IHYgIT0gbnVsbCAmJiB2ICE9IHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcbiAgICBkZWxldGUoZWxlbWVudCkge1xyXG4gICAgICAgIGlmICghdGhpcy52YWxpZEtleShlbGVtZW50KSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxldGUoZWxlbWVudCkgIT0gbnVsbDtcclxuICAgIH1cclxuICAgIGRlbGV0ZUFsbChlbGVtZW50cykge1xyXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZShlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3JFYWNoKGYpIHtcclxuICAgICAgICBjb25zdCBub2RlcyA9IHRoaXNbU3ltYm9sLml0ZXJhdG9yXSgpO1xyXG4gICAgICAgIGxldCByZXN1bHQ7XHJcbiAgICAgICAgd2hpbGUgKHJlc3VsdCA9IG5vZGVzLm5leHQoKSwgIXJlc3VsdC5kb25lKSB7XHJcbiAgICAgICAgICAgIGYocmVzdWx0LnZhbHVlLCByZXN1bHQudmFsdWUsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFkZChlbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgY29tcGFyZSA9IHRoaXMuc3BsYXkoZWxlbWVudCk7XHJcbiAgICAgICAgaWYgKGNvbXBhcmUgIT0gMClcclxuICAgICAgICAgICAgdGhpcy5hZGROZXdSb290KG5ldyBTcGxheVRyZWVTZXROb2RlKGVsZW1lbnQpLCBjb21wYXJlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGFkZEFuZFJldHVybihlbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgY29tcGFyZSA9IHRoaXMuc3BsYXkoZWxlbWVudCk7XHJcbiAgICAgICAgaWYgKGNvbXBhcmUgIT0gMClcclxuICAgICAgICAgICAgdGhpcy5hZGROZXdSb290KG5ldyBTcGxheVRyZWVTZXROb2RlKGVsZW1lbnQpLCBjb21wYXJlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb290LmtleTtcclxuICAgIH1cclxuICAgIGFkZEFsbChlbGVtZW50cykge1xyXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZChlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpc0VtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QgPT0gbnVsbDtcclxuICAgIH1cclxuICAgIGlzTm90RW1wdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdCAhPSBudWxsO1xyXG4gICAgfVxyXG4gICAgc2luZ2xlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNpemUgPT0gMClcclxuICAgICAgICAgICAgdGhyb3cgXCJCYWQgc3RhdGU6IE5vIGVsZW1lbnRcIjtcclxuICAgICAgICBpZiAodGhpcy5zaXplID4gMSlcclxuICAgICAgICAgICAgdGhyb3cgXCJCYWQgc3RhdGU6IFRvbyBtYW55IGVsZW1lbnRcIjtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb290LmtleTtcclxuICAgIH1cclxuICAgIGZpcnN0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNpemUgPT0gMClcclxuICAgICAgICAgICAgdGhyb3cgXCJCYWQgc3RhdGU6IE5vIGVsZW1lbnRcIjtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZmlyc3QoKS5rZXk7XHJcbiAgICB9XHJcbiAgICBsYXN0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNpemUgPT0gMClcclxuICAgICAgICAgICAgdGhyb3cgXCJCYWQgc3RhdGU6IE5vIGVsZW1lbnRcIjtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdCgpLmtleTtcclxuICAgIH1cclxuICAgIGxhc3RCZWZvcmUoZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChlbGVtZW50ID09IG51bGwpXHJcbiAgICAgICAgICAgIHRocm93IFwiSW52YWxpZCBhcmd1bWVudHMocylcIjtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnNwbGF5KGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChjb21wIDwgMClcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5rZXk7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnJvb3QubGVmdDtcclxuICAgICAgICBpZiAobm9kZSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBsZXQgbm9kZVJpZ2h0ID0gbm9kZS5yaWdodDtcclxuICAgICAgICB3aGlsZSAobm9kZVJpZ2h0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGVSaWdodDtcclxuICAgICAgICAgICAgbm9kZVJpZ2h0ID0gbm9kZS5yaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGUua2V5O1xyXG4gICAgfVxyXG4gICAgZmlyc3RBZnRlcihlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgPT0gbnVsbClcclxuICAgICAgICAgICAgdGhyb3cgXCJJbnZhbGlkIGFyZ3VtZW50cyhzKVwiO1xyXG4gICAgICAgIGlmICh0aGlzLnJvb3QgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgY29uc3QgY29tcCA9IHRoaXMuc3BsYXkoZWxlbWVudCk7XHJcbiAgICAgICAgaWYgKGNvbXAgPiAwKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290LmtleTtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMucm9vdC5yaWdodDtcclxuICAgICAgICBpZiAobm9kZSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBsZXQgbm9kZUxlZnQgPSBub2RlLmxlZnQ7XHJcbiAgICAgICAgd2hpbGUgKG5vZGVMZWZ0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGVMZWZ0O1xyXG4gICAgICAgICAgICBub2RlTGVmdCA9IG5vZGUubGVmdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGUua2V5O1xyXG4gICAgfVxyXG4gICAgcmV0YWluQWxsKGVsZW1lbnRzKSB7XHJcbiAgICAgICAgY29uc3QgcmV0YWluU2V0ID0gbmV3IFNwbGF5VHJlZVNldCh0aGlzLmNvbXBhcmUsIHRoaXMudmFsaWRLZXkpO1xyXG4gICAgICAgIGNvbnN0IG1vZGlmaWNhdGlvbkNvdW50ID0gdGhpcy5tb2RpZmljYXRpb25Db3VudDtcclxuICAgICAgICBmb3IgKGNvbnN0IG9iamVjdCBvZiBlbGVtZW50cykge1xyXG4gICAgICAgICAgICBpZiAobW9kaWZpY2F0aW9uQ291bnQgIT0gdGhpcy5tb2RpZmljYXRpb25Db3VudCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkdXJpbmcgaXRlcmF0aW9uLlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkS2V5KG9iamVjdCkgJiYgdGhpcy5zcGxheShvYmplY3QpID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldGFpblNldC5hZGQodGhpcy5yb290LmtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJldGFpblNldC5zaXplICE9IHRoaXMuc2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJvb3QgPSByZXRhaW5TZXQucm9vdDtcclxuICAgICAgICAgICAgdGhpcy5zaXplID0gcmV0YWluU2V0LnNpemU7XHJcbiAgICAgICAgICAgIHRoaXMubW9kaWZpY2F0aW9uQ291bnQrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsb29rdXAob2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkS2V5KG9iamVjdCkpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnNwbGF5KG9iamVjdCk7XHJcbiAgICAgICAgaWYgKGNvbXAgIT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5rZXk7XHJcbiAgICB9XHJcbiAgICBpbnRlcnNlY3Rpb24ob3RoZXIpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgU3BsYXlUcmVlU2V0KHRoaXMuY29tcGFyZSwgdGhpcy52YWxpZEtleSk7XHJcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMpIHtcclxuICAgICAgICAgICAgaWYgKG90aGVyLmhhcyhlbGVtZW50KSlcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBkaWZmZXJlbmNlKG90aGVyKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFNwbGF5VHJlZVNldCh0aGlzLmNvbXBhcmUsIHRoaXMudmFsaWRLZXkpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzKSB7XHJcbiAgICAgICAgICAgIGlmICghb3RoZXIuaGFzKGVsZW1lbnQpKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LmFkZChlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHVuaW9uKG90aGVyKSB7XHJcbiAgICAgICAgY29uc3QgdSA9IHRoaXMuY2xvbmUoKTtcclxuICAgICAgICB1LmFkZEFsbChvdGhlcik7XHJcbiAgICAgICAgcmV0dXJuIHU7XHJcbiAgICB9XHJcbiAgICBjbG9uZSgpIHtcclxuICAgICAgICBjb25zdCBzZXQgPSBuZXcgU3BsYXlUcmVlU2V0KHRoaXMuY29tcGFyZSwgdGhpcy52YWxpZEtleSk7XHJcbiAgICAgICAgc2V0LnNpemUgPSB0aGlzLnNpemU7XHJcbiAgICAgICAgc2V0LnJvb3QgPSB0aGlzLmNvcHlOb2RlKHRoaXMucm9vdCk7XHJcbiAgICAgICAgcmV0dXJuIHNldDtcclxuICAgIH1cclxuICAgIGNvcHlOb2RlKG5vZGUpIHtcclxuICAgICAgICBpZiAobm9kZSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBmdW5jdGlvbiBjb3B5Q2hpbGRyZW4obm9kZSwgZGVzdCkge1xyXG4gICAgICAgICAgICBsZXQgbGVmdDtcclxuICAgICAgICAgICAgbGV0IHJpZ2h0O1xyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0ID0gbm9kZS5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgcmlnaHQgPSBub2RlLnJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlZnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0xlZnQgPSBuZXcgU3BsYXlUcmVlU2V0Tm9kZShsZWZ0LmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdC5sZWZ0ID0gbmV3TGVmdDtcclxuICAgICAgICAgICAgICAgICAgICBjb3B5Q2hpbGRyZW4obGVmdCwgbmV3TGVmdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmlnaHQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1JpZ2h0ID0gbmV3IFNwbGF5VHJlZVNldE5vZGUocmlnaHQua2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0LnJpZ2h0ID0gbmV3UmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc3QgPSBuZXdSaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSB3aGlsZSAocmlnaHQgIT0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBTcGxheVRyZWVTZXROb2RlKG5vZGUua2V5KTtcclxuICAgICAgICBjb3B5Q2hpbGRyZW4obm9kZSwgcmVzdWx0KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgdG9TZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKTtcclxuICAgIH1cclxuICAgIGVudHJpZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTcGxheVRyZWVTZXRFbnRyeUl0ZXJhYmxlSXRlcmF0b3IodGhpcy53cmFwKCkpO1xyXG4gICAgfVxyXG4gICAga2V5cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1tTeW1ib2wuaXRlcmF0b3JdKCk7XHJcbiAgICB9XHJcbiAgICB2YWx1ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbU3ltYm9sLml0ZXJhdG9yXSgpO1xyXG4gICAgfVxyXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTcGxheVRyZWVLZXlJdGVyYWJsZUl0ZXJhdG9yKHRoaXMud3JhcCgpKTtcclxuICAgIH1cclxuICAgIFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ1tvYmplY3QgU2V0XSc7XHJcbn1cclxuY2xhc3MgU3BsYXlUcmVlSXRlcmFibGVJdGVyYXRvciB7XHJcbiAgICB0cmVlO1xyXG4gICAgcGF0aCA9IG5ldyBBcnJheSgpO1xyXG4gICAgbW9kaWZpY2F0aW9uQ291bnQgPSBudWxsO1xyXG4gICAgc3BsYXlDb3VudDtcclxuICAgIGNvbnN0cnVjdG9yKHRyZWUpIHtcclxuICAgICAgICB0aGlzLnRyZWUgPSB0cmVlO1xyXG4gICAgICAgIHRoaXMuc3BsYXlDb3VudCA9IHRyZWUuZ2V0U3BsYXlDb3VudCgpO1xyXG4gICAgfVxyXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBuZXh0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1vdmVOZXh0KCkpXHJcbiAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogdGhpcy5jdXJyZW50KCkgfTtcclxuICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogbnVsbCB9O1xyXG4gICAgfVxyXG4gICAgY3VycmVudCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMucGF0aC5sZW5ndGgpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKG5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmVidWlsZFBhdGgoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5wYXRoLnNwbGljZSgwLCB0aGlzLnBhdGgubGVuZ3RoKTtcclxuICAgICAgICB0aGlzLnRyZWUuc3BsYXkoa2V5KTtcclxuICAgICAgICB0aGlzLnBhdGgucHVzaCh0aGlzLnRyZWUuZ2V0Um9vdCgpKTtcclxuICAgICAgICB0aGlzLnNwbGF5Q291bnQgPSB0aGlzLnRyZWUuZ2V0U3BsYXlDb3VudCgpO1xyXG4gICAgfVxyXG4gICAgZmluZExlZnRNb3N0RGVzY2VuZGVudChub2RlKSB7XHJcbiAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhdGgucHVzaChub2RlKTtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBtb3ZlTmV4dCgpIHtcclxuICAgICAgICBpZiAodGhpcy5tb2RpZmljYXRpb25Db3VudCAhPSB0aGlzLnRyZWUuZ2V0TW9kaWZpY2F0aW9uQ291bnQoKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RpZmljYXRpb25Db3VudCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbkNvdW50ID0gdGhpcy50cmVlLmdldE1vZGlmaWNhdGlvbkNvdW50KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMudHJlZS5nZXRSb290KCk7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXRoLnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGgubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBcIkNvbmN1cnJlbnQgbW9kaWZpY2F0aW9uIGR1cmluZyBpdGVyYXRpb24uXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5wYXRoLmxlbmd0aClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnNwbGF5Q291bnQgIT0gdGhpcy50cmVlLmdldFNwbGF5Q291bnQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlYnVpbGRQYXRoKHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV0ua2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIGxldCBuZXh0ID0gbm9kZS5yaWdodDtcclxuICAgICAgICBpZiAobmV4dCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChuZXh0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGF0aC5wdXNoKG5leHQpO1xyXG4gICAgICAgICAgICAgICAgbmV4dCA9IG5leHQubGVmdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXRoLnBvcCgpO1xyXG4gICAgICAgIHdoaWxlICh0aGlzLnBhdGgubGVuZ3RoICYmIHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV0ucmlnaHQgPT09IG5vZGUpIHtcclxuICAgICAgICAgICAgbm9kZSA9IHRoaXMucGF0aC5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aC5sZW5ndGggPiAwO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFNwbGF5VHJlZUtleUl0ZXJhYmxlSXRlcmF0b3IgZXh0ZW5kcyBTcGxheVRyZWVJdGVyYWJsZUl0ZXJhdG9yIHtcclxuICAgIGdldFZhbHVlKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gbm9kZS5rZXk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgU3BsYXlUcmVlU2V0RW50cnlJdGVyYWJsZUl0ZXJhdG9yIGV4dGVuZHMgU3BsYXlUcmVlSXRlcmFibGVJdGVyYXRvciB7XHJcbiAgICBnZXRWYWx1ZShub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIFtub2RlLmtleSwgbm9kZS5rZXldO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFNwbGF5VHJlZVZhbHVlSXRlcmFibGVJdGVyYXRvciBleHRlbmRzIFNwbGF5VHJlZUl0ZXJhYmxlSXRlcmF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IobWFwKSB7XHJcbiAgICAgICAgc3VwZXIobWFwKTtcclxuICAgIH1cclxuICAgIGdldFZhbHVlKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gbm9kZS52YWx1ZTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBTcGxheVRyZWVNYXBFbnRyeUl0ZXJhYmxlSXRlcmF0b3IgZXh0ZW5kcyBTcGxheVRyZWVJdGVyYWJsZUl0ZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1hcCkge1xyXG4gICAgICAgIHN1cGVyKG1hcCk7XHJcbiAgICB9XHJcbiAgICBnZXRWYWx1ZShub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIFtub2RlLmtleSwgbm9kZS52YWx1ZV07XHJcbiAgICB9XHJcbiAgICByZXBsYWNlVmFsdWUodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5tb2RpZmljYXRpb25Db3VudCAhPSB0aGlzLnRyZWUuZ2V0TW9kaWZpY2F0aW9uQ291bnQoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBcIkNvbmN1cnJlbnQgbW9kaWZpY2F0aW9uIGR1cmluZyBpdGVyYXRpb24uXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNwbGF5Q291bnQgIT0gdGhpcy50cmVlLmdldFNwbGF5Q291bnQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlYnVpbGRQYXRoKHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV0ua2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMucGF0aC5wb3AoKTtcclxuICAgICAgICBjb25zdCBuZXdMYXN0ID0gbGFzdC5yZXBsYWNlVmFsdWUodmFsdWUpO1xyXG4gICAgICAgIGlmICghdGhpcy5wYXRoLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnRyZWUuc2V0Um9vdChuZXdMYXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmIChsYXN0ID09PSBwYXJlbnQubGVmdCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LmxlZnQgPSBuZXdMYXN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LnJpZ2h0ID0gbmV3TGFzdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhdGgucHVzaChuZXdMYXN0KTtcclxuICAgICAgICBjb25zdCBjb3VudCA9IHRoaXMudHJlZS5nZXRTcGxheUNvdW50KCkgKyAxO1xyXG4gICAgICAgIHRoaXMudHJlZS5zZXRTcGxheUNvdW50KGNvdW50KTtcclxuICAgICAgICB0aGlzLnNwbGF5Q291bnQgPSBjb3VudDtcclxuICAgIH1cclxufVxyXG4iLCAiZXhwb3J0IGRlZmF1bHQgKHgpID0+IHtcbiAgICByZXR1cm4geDtcbn07XG4iLCAiaW1wb3J0IEJpZ051bWJlciBmcm9tIFwiYmlnbnVtYmVyLmpzXCI7XG5pbXBvcnQgeyBTcGxheVRyZWVTZXQgfSBmcm9tIFwic3BsYXl0cmVlLXRzXCI7XG5pbXBvcnQgY29tcGFyZSBmcm9tIFwiLi9jb21wYXJlLmpzXCI7XG5pbXBvcnQgaWRlbnRpdHkgZnJvbSBcIi4vaWRlbnRpdHkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IChlcHMpID0+IHtcbiAgICBpZiAoZXBzKSB7XG4gICAgICAgIGNvbnN0IHhUcmVlID0gbmV3IFNwbGF5VHJlZVNldChjb21wYXJlKGVwcykpO1xuICAgICAgICBjb25zdCB5VHJlZSA9IG5ldyBTcGxheVRyZWVTZXQoY29tcGFyZShlcHMpKTtcbiAgICAgICAgY29uc3Qgc25hcENvb3JkID0gKGNvb3JkLCB0cmVlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdHJlZS5hZGRBbmRSZXR1cm4oY29vcmQpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzbmFwID0gKHYpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogc25hcENvb3JkKHYueCwgeFRyZWUpLFxuICAgICAgICAgICAgICAgIHk6IHNuYXBDb29yZCh2LnksIHlUcmVlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHNuYXAoeyB4OiBuZXcgQmlnTnVtYmVyKDApLCB5OiBuZXcgQmlnTnVtYmVyKDApIH0pO1xuICAgICAgICByZXR1cm4gc25hcDtcbiAgICB9XG4gICAgcmV0dXJuIGlkZW50aXR5O1xufTtcbiIsICJpbXBvcnQgY29tcGFyZSBmcm9tIFwiLi9jb21wYXJlLmpzXCI7XG5pbXBvcnQgb3JpZW50IGZyb20gXCIuL29yaWVudC5qc1wiO1xuaW1wb3J0IHNuYXAgZnJvbSBcIi4vc25hcC5qc1wiO1xuY29uc3Qgc2V0ID0gKGVwcykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNldDogKGVwcykgPT4geyBwcmVjaXNpb24gPSBzZXQoZXBzKTsgfSxcbiAgICAgICAgcmVzZXQ6ICgpID0+IHNldChlcHMpLFxuICAgICAgICBjb21wYXJlOiBjb21wYXJlKGVwcyksXG4gICAgICAgIHNuYXA6IHNuYXAoZXBzKSxcbiAgICAgICAgb3JpZW50OiBvcmllbnQoZXBzKVxuICAgIH07XG59O1xuZXhwb3J0IGxldCBwcmVjaXNpb24gPSBzZXQoKTtcbiIsICIvKipcbiAqIEEgYm91bmRpbmcgYm94IGhhcyB0aGUgZm9ybWF0OlxuICpcbiAqICB7IGxsOiB7IHg6IHhtaW4sIHk6IHltaW4gfSwgdXI6IHsgeDogeG1heCwgeTogeW1heCB9IH1cbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBpc0luQmJveCA9IChiYm94LCBwb2ludCkgPT4ge1xuICAgIHJldHVybiAoYmJveC5sbC54LmlzTGVzc1RoYW5PckVxdWFsVG8ocG9pbnQueCkgJiZcbiAgICAgICAgcG9pbnQueC5pc0xlc3NUaGFuT3JFcXVhbFRvKGJib3gudXIueCkgJiZcbiAgICAgICAgYmJveC5sbC55LmlzTGVzc1RoYW5PckVxdWFsVG8ocG9pbnQueSkgJiZcbiAgICAgICAgcG9pbnQueS5pc0xlc3NUaGFuT3JFcXVhbFRvKGJib3gudXIueSkpO1xufTtcbi8qIFJldHVybnMgZWl0aGVyIG51bGwsIG9yIGEgYmJveCAoYWthIGFuIG9yZGVyZWQgcGFpciBvZiBwb2ludHMpXG4gKiBJZiB0aGVyZSBpcyBvbmx5IG9uZSBwb2ludCBvZiBvdmVybGFwLCBhIGJib3ggd2l0aCBpZGVudGljYWwgcG9pbnRzXG4gKiB3aWxsIGJlIHJldHVybmVkICovXG5leHBvcnQgY29uc3QgZ2V0QmJveE92ZXJsYXAgPSAoYjEsIGIyKSA9PiB7XG4gICAgLy8gY2hlY2sgaWYgdGhlIGJib3hlcyBvdmVybGFwIGF0IGFsbFxuICAgIGlmIChiMi51ci54LmlzTGVzc1RoYW4oYjEubGwueCkgfHxcbiAgICAgICAgYjEudXIueC5pc0xlc3NUaGFuKGIyLmxsLngpIHx8XG4gICAgICAgIGIyLnVyLnkuaXNMZXNzVGhhbihiMS5sbC55KSB8fFxuICAgICAgICBiMS51ci55LmlzTGVzc1RoYW4oYjIubGwueSkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIC8vIGZpbmQgdGhlIG1pZGRsZSB0d28gWCB2YWx1ZXNcbiAgICBjb25zdCBsb3dlclggPSBiMS5sbC54LmlzTGVzc1RoYW4oYjIubGwueCkgPyBiMi5sbC54IDogYjEubGwueDtcbiAgICBjb25zdCB1cHBlclggPSBiMS51ci54LmlzTGVzc1RoYW4oYjIudXIueCkgPyBiMS51ci54IDogYjIudXIueDtcbiAgICAvLyBmaW5kIHRoZSBtaWRkbGUgdHdvIFkgdmFsdWVzXG4gICAgY29uc3QgbG93ZXJZID0gYjEubGwueS5pc0xlc3NUaGFuKGIyLmxsLnkpID8gYjIubGwueSA6IGIxLmxsLnk7XG4gICAgY29uc3QgdXBwZXJZID0gYjEudXIueS5pc0xlc3NUaGFuKGIyLnVyLnkpID8gYjEudXIueSA6IGIyLnVyLnk7XG4gICAgLy8gcHV0IHRob3NlIG1pZGRsZSB2YWx1ZXMgdG9nZXRoZXIgdG8gZ2V0IHRoZSBvdmVybGFwXG4gICAgcmV0dXJuIHsgbGw6IHsgeDogbG93ZXJYLCB5OiBsb3dlclkgfSwgdXI6IHsgeDogdXBwZXJYLCB5OiB1cHBlclkgfSB9O1xufTtcbiIsICIvKiBDcm9zcyBQcm9kdWN0IG9mIHR3byB2ZWN0b3JzIHdpdGggZmlyc3QgcG9pbnQgYXQgb3JpZ2luICovXG5leHBvcnQgY29uc3QgY3Jvc3NQcm9kdWN0ID0gKGEsIGIpID0+IGEueC50aW1lcyhiLnkpLm1pbnVzKGEueS50aW1lcyhiLngpKTtcbi8qIERvdCBQcm9kdWN0IG9mIHR3byB2ZWN0b3JzIHdpdGggZmlyc3QgcG9pbnQgYXQgb3JpZ2luICovXG5leHBvcnQgY29uc3QgZG90UHJvZHVjdCA9IChhLCBiKSA9PiBhLngudGltZXMoYi54KS5wbHVzKGEueS50aW1lcyhiLnkpKTtcbmV4cG9ydCBjb25zdCBsZW5ndGggPSAodikgPT4gZG90UHJvZHVjdCh2LCB2KS5zcXJ0KCk7XG4vKiBHZXQgdGhlIHNpbmUgb2YgdGhlIGFuZ2xlIGZyb20gcFNoYXJlZCAtPiBwQW5nbGUgdG8gcFNoYWVkIC0+IHBCYXNlICovXG5leHBvcnQgY29uc3Qgc2luZU9mQW5nbGUgPSAocFNoYXJlZCwgcEJhc2UsIHBBbmdsZSkgPT4ge1xuICAgIGNvbnN0IHZCYXNlID0geyB4OiBwQmFzZS54Lm1pbnVzKHBTaGFyZWQueCksIHk6IHBCYXNlLnkubWludXMocFNoYXJlZC55KSB9O1xuICAgIGNvbnN0IHZBbmdsZSA9IHsgeDogcEFuZ2xlLngubWludXMocFNoYXJlZC54KSwgeTogcEFuZ2xlLnkubWludXMocFNoYXJlZC55KSB9O1xuICAgIHJldHVybiBjcm9zc1Byb2R1Y3QodkFuZ2xlLCB2QmFzZSkuZGl2KGxlbmd0aCh2QW5nbGUpKS5kaXYobGVuZ3RoKHZCYXNlKSk7XG59O1xuLyogR2V0IHRoZSBjb3NpbmUgb2YgdGhlIGFuZ2xlIGZyb20gcFNoYXJlZCAtPiBwQW5nbGUgdG8gcFNoYWVkIC0+IHBCYXNlICovXG5leHBvcnQgY29uc3QgY29zaW5lT2ZBbmdsZSA9IChwU2hhcmVkLCBwQmFzZSwgcEFuZ2xlKSA9PiB7XG4gICAgY29uc3QgdkJhc2UgPSB7IHg6IHBCYXNlLngubWludXMocFNoYXJlZC54KSwgeTogcEJhc2UueS5taW51cyhwU2hhcmVkLnkpIH07XG4gICAgY29uc3QgdkFuZ2xlID0geyB4OiBwQW5nbGUueC5taW51cyhwU2hhcmVkLngpLCB5OiBwQW5nbGUueS5taW51cyhwU2hhcmVkLnkpIH07XG4gICAgcmV0dXJuIGRvdFByb2R1Y3QodkFuZ2xlLCB2QmFzZSkuZGl2KGxlbmd0aCh2QW5nbGUpKS5kaXYobGVuZ3RoKHZCYXNlKSk7XG59O1xuLyogR2V0IHRoZSB4IGNvb3JkaW5hdGUgd2hlcmUgdGhlIGdpdmVuIGxpbmUgKGRlZmluZWQgYnkgYSBwb2ludCBhbmQgdmVjdG9yKVxuICogY3Jvc3NlcyB0aGUgaG9yaXpvbnRhbCBsaW5lIHdpdGggdGhlIGdpdmVuIHkgY29vcmRpYW50ZS5cbiAqIEluIHRoZSBjYXNlIG9mIHBhcnJhbGxlbCBsaW5lcyAoaW5jbHVkaW5nIG92ZXJsYXBwaW5nIG9uZXMpIHJldHVybnMgbnVsbC4gKi9cbmV4cG9ydCBjb25zdCBob3Jpem9udGFsSW50ZXJzZWN0aW9uID0gKHB0LCB2LCB5KSA9PiB7XG4gICAgaWYgKHYueS5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHsgeDogcHQueC5wbHVzKCh2LnguZGl2KHYueSkpLnRpbWVzKHkubWludXMocHQueSkpKSwgeTogeSB9O1xufTtcbi8qIEdldCB0aGUgeSBjb29yZGluYXRlIHdoZXJlIHRoZSBnaXZlbiBsaW5lIChkZWZpbmVkIGJ5IGEgcG9pbnQgYW5kIHZlY3RvcilcbiAqIGNyb3NzZXMgdGhlIHZlcnRpY2FsIGxpbmUgd2l0aCB0aGUgZ2l2ZW4geCBjb29yZGlhbnRlLlxuICogSW4gdGhlIGNhc2Ugb2YgcGFycmFsbGVsIGxpbmVzIChpbmNsdWRpbmcgb3ZlcmxhcHBpbmcgb25lcykgcmV0dXJucyBudWxsLiAqL1xuZXhwb3J0IGNvbnN0IHZlcnRpY2FsSW50ZXJzZWN0aW9uID0gKHB0LCB2LCB4KSA9PiB7XG4gICAgaWYgKHYueC5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHsgeDogeCwgeTogcHQueS5wbHVzKCh2LnkuZGl2KHYueCkpLnRpbWVzKHgubWludXMocHQueCkpKSB9O1xufTtcbi8qIEdldCB0aGUgaW50ZXJzZWN0aW9uIG9mIHR3byBsaW5lcywgZWFjaCBkZWZpbmVkIGJ5IGEgYmFzZSBwb2ludCBhbmQgYSB2ZWN0b3IuXG4gKiBJbiB0aGUgY2FzZSBvZiBwYXJyYWxsZWwgbGluZXMgKGluY2x1ZGluZyBvdmVybGFwcGluZyBvbmVzKSByZXR1cm5zIG51bGwuICovXG5leHBvcnQgY29uc3QgaW50ZXJzZWN0aW9uID0gKHB0MSwgdjEsIHB0MiwgdjIpID0+IHtcbiAgICAvLyB0YWtlIHNvbWUgc2hvcnRjdXRzIGZvciB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBsaW5lc1xuICAgIC8vIHRoaXMgYWxzbyBlbnN1cmVzIHdlIGRvbid0IGNhbGN1bGF0ZSBhbiBpbnRlcnNlY3Rpb24gYW5kIHRoZW4gZGlzY292ZXJcbiAgICAvLyBpdCdzIGFjdHVhbGx5IG91dHNpZGUgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgbGluZVxuICAgIGlmICh2MS54LmlzWmVybygpKVxuICAgICAgICByZXR1cm4gdmVydGljYWxJbnRlcnNlY3Rpb24ocHQyLCB2MiwgcHQxLngpO1xuICAgIGlmICh2Mi54LmlzWmVybygpKVxuICAgICAgICByZXR1cm4gdmVydGljYWxJbnRlcnNlY3Rpb24ocHQxLCB2MSwgcHQyLngpO1xuICAgIGlmICh2MS55LmlzWmVybygpKVxuICAgICAgICByZXR1cm4gaG9yaXpvbnRhbEludGVyc2VjdGlvbihwdDIsIHYyLCBwdDEueSk7XG4gICAgaWYgKHYyLnkuaXNaZXJvKCkpXG4gICAgICAgIHJldHVybiBob3Jpem9udGFsSW50ZXJzZWN0aW9uKHB0MSwgdjEsIHB0Mi55KTtcbiAgICAvLyBHZW5lcmFsIGNhc2UgZm9yIG5vbi1vdmVybGFwcGluZyBzZWdtZW50cy5cbiAgICAvLyBUaGlzIGFsZ29yaXRobSBpcyBiYXNlZCBvbiBTY2huZWlkZXIgYW5kIEViZXJseS5cbiAgICAvLyBodHRwOi8vd3d3LmNpbWVjLm9yZy5hci9+bmNhbHZvL1NjaG5laWRlcl9FYmVybHkucGRmIC0gcGcgMjQ0XG4gICAgY29uc3Qga3Jvc3MgPSBjcm9zc1Byb2R1Y3QodjEsIHYyKTtcbiAgICBpZiAoa3Jvc3MuaXNaZXJvKCkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHZlID0geyB4OiBwdDIueC5taW51cyhwdDEueCksIHk6IHB0Mi55Lm1pbnVzKHB0MS55KSB9O1xuICAgIGNvbnN0IGQxID0gY3Jvc3NQcm9kdWN0KHZlLCB2MSkuZGl2KGtyb3NzKTtcbiAgICBjb25zdCBkMiA9IGNyb3NzUHJvZHVjdCh2ZSwgdjIpLmRpdihrcm9zcyk7XG4gICAgLy8gdGFrZSB0aGUgYXZlcmFnZSBvZiB0aGUgdHdvIGNhbGN1bGF0aW9ucyB0byBtaW5pbWl6ZSByb3VuZGluZyBlcnJvclxuICAgIGNvbnN0IHgxID0gcHQxLngucGx1cyhkMi50aW1lcyh2MS54KSksIHgyID0gcHQyLngucGx1cyhkMS50aW1lcyh2Mi54KSk7XG4gICAgY29uc3QgeTEgPSBwdDEueS5wbHVzKGQyLnRpbWVzKHYxLnkpKSwgeTIgPSBwdDIueS5wbHVzKGQxLnRpbWVzKHYyLnkpKTtcbiAgICBjb25zdCB4ID0geDEucGx1cyh4MikuZGl2KDIpO1xuICAgIGNvbnN0IHkgPSB5MS5wbHVzKHkyKS5kaXYoMik7XG4gICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xufTtcbi8qIEdpdmVuIGEgdmVjdG9yLCByZXR1cm4gb25lIHRoYXQgaXMgcGVycGVuZGljdWxhciAqL1xuZXhwb3J0IGNvbnN0IHBlcnBlbmRpY3VsYXIgPSAodikgPT4ge1xuICAgIHJldHVybiB7IHg6IHYueS5uZWdhdGVkKCksIHk6IHYueCB9O1xufTtcbiIsICJpbXBvcnQgU2VnbWVudCBmcm9tIFwiLi9zZWdtZW50LmpzXCI7XG5pbXBvcnQgeyBjb3NpbmVPZkFuZ2xlLCBzaW5lT2ZBbmdsZSB9IGZyb20gXCIuL3ZlY3Rvci5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3dlZXBFdmVudCB7XG4gICAgcG9pbnQ7XG4gICAgaXNMZWZ0O1xuICAgIHNlZ21lbnQ7XG4gICAgb3RoZXJTRTtcbiAgICBjb25zdW1lZEJ5O1xuICAgIC8vIGZvciBvcmRlcmluZyBzd2VlcCBldmVudHMgaW4gdGhlIHN3ZWVwIGV2ZW50IHF1ZXVlXG4gICAgc3RhdGljIGNvbXBhcmUoYSwgYikge1xuICAgICAgICAvLyBmYXZvciBldmVudCB3aXRoIGEgcG9pbnQgdGhhdCB0aGUgc3dlZXAgbGluZSBoaXRzIGZpcnN0XG4gICAgICAgIGNvbnN0IHB0Q21wID0gU3dlZXBFdmVudC5jb21wYXJlUG9pbnRzKGEucG9pbnQsIGIucG9pbnQpO1xuICAgICAgICBpZiAocHRDbXAgIT09IDApXG4gICAgICAgICAgICByZXR1cm4gcHRDbXA7XG4gICAgICAgIC8vIHRoZSBwb2ludHMgYXJlIHRoZSBzYW1lLCBzbyBsaW5rIHRoZW0gaWYgbmVlZGVkXG4gICAgICAgIGlmIChhLnBvaW50ICE9PSBiLnBvaW50KVxuICAgICAgICAgICAgYS5saW5rKGIpO1xuICAgICAgICAvLyBmYXZvciByaWdodCBldmVudHMgb3ZlciBsZWZ0XG4gICAgICAgIGlmIChhLmlzTGVmdCAhPT0gYi5pc0xlZnQpXG4gICAgICAgICAgICByZXR1cm4gYS5pc0xlZnQgPyAxIDogLTE7XG4gICAgICAgIC8vIHdlIGhhdmUgdHdvIG1hdGNoaW5nIGxlZnQgb3IgcmlnaHQgZW5kcG9pbnRzXG4gICAgICAgIC8vIG9yZGVyaW5nIG9mIHRoaXMgY2FzZSBpcyB0aGUgc2FtZSBhcyBmb3IgdGhlaXIgc2VnbWVudHNcbiAgICAgICAgcmV0dXJuIFNlZ21lbnQuY29tcGFyZShhLnNlZ21lbnQsIGIuc2VnbWVudCk7XG4gICAgfVxuICAgIC8vIGZvciBvcmRlcmluZyBwb2ludHMgaW4gc3dlZXAgbGluZSBvcmRlclxuICAgIHN0YXRpYyBjb21wYXJlUG9pbnRzKGFQdCwgYlB0KSB7XG4gICAgICAgIGlmIChhUHQueC5pc0xlc3NUaGFuKGJQdC54KSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgaWYgKGFQdC54LmlzR3JlYXRlclRoYW4oYlB0LngpKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGlmIChhUHQueS5pc0xlc3NUaGFuKGJQdC55KSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgaWYgKGFQdC55LmlzR3JlYXRlclRoYW4oYlB0LnkpKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvLyBXYXJuaW5nOiAncG9pbnQnIGlucHV0IHdpbGwgYmUgbW9kaWZpZWQgYW5kIHJlLXVzZWQgKGZvciBwZXJmb3JtYW5jZSlcbiAgICBjb25zdHJ1Y3Rvcihwb2ludCwgaXNMZWZ0KSB7XG4gICAgICAgIGlmIChwb2ludC5ldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHBvaW50LmV2ZW50cyA9IFt0aGlzXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcG9pbnQuZXZlbnRzLnB1c2godGhpcyk7XG4gICAgICAgIHRoaXMucG9pbnQgPSBwb2ludDtcbiAgICAgICAgdGhpcy5pc0xlZnQgPSBpc0xlZnQ7XG4gICAgICAgIC8vIHRoaXMuc2VnbWVudCwgdGhpcy5vdGhlclNFIHNldCBieSBmYWN0b3J5XG4gICAgfVxuICAgIGxpbmsob3RoZXIpIHtcbiAgICAgICAgaWYgKG90aGVyLnBvaW50ID09PSB0aGlzLnBvaW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmllZCB0byBsaW5rIGFscmVhZHkgbGlua2VkIGV2ZW50c1wiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdGhlckV2ZW50cyA9IG90aGVyLnBvaW50LmV2ZW50cztcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBvdGhlckV2ZW50cy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGV2dCA9IG90aGVyRXZlbnRzW2ldO1xuICAgICAgICAgICAgdGhpcy5wb2ludC5ldmVudHMucHVzaChldnQpO1xuICAgICAgICAgICAgZXZ0LnBvaW50ID0gdGhpcy5wb2ludDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrRm9yQ29uc3VtaW5nKCk7XG4gICAgfVxuICAgIC8qIERvIGEgcGFzcyBvdmVyIG91ciBsaW5rZWQgZXZlbnRzIGFuZCBjaGVjayB0byBzZWUgaWYgYW55IHBhaXJcbiAgICAgKiBvZiBzZWdtZW50cyBtYXRjaCwgYW5kIHNob3VsZCBiZSBjb25zdW1lZC4gKi9cbiAgICBjaGVja0ZvckNvbnN1bWluZygpIHtcbiAgICAgICAgLy8gRklYTUU6IFRoZSBsb29wcyBpbiB0aGlzIG1ldGhvZCBydW4gTyhuXjIpID0+IG5vIGdvb2QuXG4gICAgICAgIC8vICAgICAgICBNYWludGFpbiBsaXR0bGUgb3JkZXJlZCBzd2VlcCBldmVudCB0cmVlcz9cbiAgICAgICAgLy8gICAgICAgIENhbiB3ZSBtYWludGFpbmluZyBhbiBvcmRlcmluZyB0aGF0IGF2b2lkcyB0aGUgbmVlZFxuICAgICAgICAvLyAgICAgICAgZm9yIHRoZSByZS1zb3J0aW5nIHdpdGggZ2V0TGVmdG1vc3RDb21wYXJhdG9yIGluIGdlb20tb3V0P1xuICAgICAgICAvLyBDb21wYXJlIGVhY2ggcGFpciBvZiBldmVudHMgdG8gc2VlIGlmIG90aGVyIGV2ZW50cyBhbHNvIG1hdGNoXG4gICAgICAgIGNvbnN0IG51bUV2ZW50cyA9IHRoaXMucG9pbnQuZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1FdmVudHM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZXZ0MSA9IHRoaXMucG9pbnQuZXZlbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGV2dDEuc2VnbWVudC5jb25zdW1lZEJ5ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBudW1FdmVudHM7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2dDIgPSB0aGlzLnBvaW50LmV2ZW50c1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoZXZ0Mi5jb25zdW1lZEJ5ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChldnQxLm90aGVyU0UucG9pbnQuZXZlbnRzICE9PSBldnQyLm90aGVyU0UucG9pbnQuZXZlbnRzKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBldnQxLnNlZ21lbnQuY29uc3VtZShldnQyLnNlZ21lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldEF2YWlsYWJsZUxpbmtlZEV2ZW50cygpIHtcbiAgICAgICAgLy8gcG9pbnQuZXZlbnRzIGlzIGFsd2F5cyBvZiBsZW5ndGggMiBvciBncmVhdGVyXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IHRoaXMucG9pbnQuZXZlbnRzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZXZ0ID0gdGhpcy5wb2ludC5ldmVudHNbaV07XG4gICAgICAgICAgICBpZiAoZXZ0ICE9PSB0aGlzICYmICFldnQuc2VnbWVudC5yaW5nT3V0ICYmIGV2dC5zZWdtZW50LmlzSW5SZXN1bHQoKSkge1xuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGV2dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gZm9yIHNvcnRpbmcgbGlua2VkIGV2ZW50cyB0aGF0IHdpbGxcbiAgICAgKiBmYXZvciB0aGUgZXZlbnQgdGhhdCB3aWxsIGdpdmUgdXMgdGhlIHNtYWxsZXN0IGxlZnQtc2lkZSBhbmdsZS5cbiAgICAgKiBBbGwgcmluZyBjb25zdHJ1Y3Rpb24gc3RhcnRzIGFzIGxvdyBhcyBwb3NzaWJsZSBoZWFkaW5nIHRvIHRoZSByaWdodCxcbiAgICAgKiBzbyBieSBhbHdheXMgdHVybmluZyBsZWZ0IGFzIHNoYXJwIGFzIHBvc3NpYmxlIHdlJ2xsIGdldCBwb2x5Z29uc1xuICAgICAqIHdpdGhvdXQgdW5jZXNzYXJ5IGxvb3BzICYgaG9sZXMuXG4gICAgICpcbiAgICAgKiBUaGUgY29tcGFyYXRvciBmdW5jdGlvbiBoYXMgYSBjb21wdXRlIGNhY2hlIHN1Y2ggdGhhdCBpdCBhdm9pZHNcbiAgICAgKiByZS1jb21wdXRpbmcgYWxyZWFkeS1jb21wdXRlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZ2V0TGVmdG1vc3RDb21wYXJhdG9yKGJhc2VFdmVudCkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgZmlsbENhY2hlID0gKGxpbmtlZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXh0RXZlbnQgPSBsaW5rZWRFdmVudC5vdGhlclNFO1xuICAgICAgICAgICAgY2FjaGUuc2V0KGxpbmtlZEV2ZW50LCB7XG4gICAgICAgICAgICAgICAgc2luZTogc2luZU9mQW5nbGUodGhpcy5wb2ludCwgYmFzZUV2ZW50LnBvaW50LCBuZXh0RXZlbnQucG9pbnQpLFxuICAgICAgICAgICAgICAgIGNvc2luZTogY29zaW5lT2ZBbmdsZSh0aGlzLnBvaW50LCBiYXNlRXZlbnQucG9pbnQsIG5leHRFdmVudC5wb2ludCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlLmhhcyhhKSlcbiAgICAgICAgICAgICAgICBmaWxsQ2FjaGUoYSk7XG4gICAgICAgICAgICBpZiAoIWNhY2hlLmhhcyhiKSlcbiAgICAgICAgICAgICAgICBmaWxsQ2FjaGUoYik7XG4gICAgICAgICAgICBjb25zdCB7IHNpbmU6IGFzaW5lLCBjb3NpbmU6IGFjb3NpbmUgfSA9IGNhY2hlLmdldChhKTtcbiAgICAgICAgICAgIGNvbnN0IHsgc2luZTogYnNpbmUsIGNvc2luZTogYmNvc2luZSB9ID0gY2FjaGUuZ2V0KGIpO1xuICAgICAgICAgICAgLy8gYm90aCBvbiBvciBhYm92ZSB4LWF4aXNcbiAgICAgICAgICAgIGlmIChhc2luZS5pc0dyZWF0ZXJUaGFuT3JFcXVhbFRvKDApICYmIGJzaW5lLmlzR3JlYXRlclRoYW5PckVxdWFsVG8oMCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWNvc2luZS5pc0xlc3NUaGFuKGJjb3NpbmUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBpZiAoYWNvc2luZS5pc0dyZWF0ZXJUaGFuKGJjb3NpbmUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBib3RoIGJlbG93IHgtYXhpc1xuICAgICAgICAgICAgaWYgKGFzaW5lLmlzTGVzc1RoYW4oMCkgJiYgYnNpbmUuaXNMZXNzVGhhbigwKSkge1xuICAgICAgICAgICAgICAgIGlmIChhY29zaW5lLmlzTGVzc1RoYW4oYmNvc2luZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBpZiAoYWNvc2luZS5pc0dyZWF0ZXJUaGFuKGJjb3NpbmUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9uZSBhYm92ZSB4LWF4aXMsIG9uZSBiZWxvd1xuICAgICAgICAgICAgaWYgKGJzaW5lLmlzTGVzc1RoYW4oYXNpbmUpKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChic2luZS5pc0dyZWF0ZXJUaGFuKGFzaW5lKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9O1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBnZXRCYm94T3ZlcmxhcCwgaXNJbkJib3ggfSBmcm9tIFwiLi9iYm94LmpzXCI7XG5pbXBvcnQgb3BlcmF0aW9uIGZyb20gXCIuL29wZXJhdGlvbi5qc1wiO1xuaW1wb3J0IHsgcHJlY2lzaW9uIH0gZnJvbSBcIi4vcHJlY2lzaW9uLmpzXCI7XG5pbXBvcnQgU3dlZXBFdmVudCBmcm9tIFwiLi9zd2VlcC1ldmVudC5qc1wiO1xuaW1wb3J0IHsgaW50ZXJzZWN0aW9uIH0gZnJvbSBcIi4vdmVjdG9yLmpzXCI7XG4vLyBHaXZlIHNlZ21lbnRzIHVuaXF1ZSBJRCdzIHRvIGdldCBjb25zaXN0ZW50IHNvcnRpbmcgb2Zcbi8vIHNlZ21lbnRzIGFuZCBzd2VlcCBldmVudHMgd2hlbiBhbGwgZWxzZSBpcyBpZGVudGljYWxcbmxldCBzZWdtZW50SWQgPSAwO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VnbWVudCB7XG4gICAgaWQ7XG4gICAgbGVmdFNFO1xuICAgIHJpZ2h0U0U7XG4gICAgcmluZ3M7XG4gICAgd2luZGluZ3M7XG4gICAgcmluZ091dDtcbiAgICBjb25zdW1lZEJ5O1xuICAgIHByZXY7XG4gICAgX3ByZXZJblJlc3VsdDtcbiAgICBfYmVmb3JlU3RhdGU7XG4gICAgX2FmdGVyU3RhdGU7XG4gICAgX2lzSW5SZXN1bHQ7XG4gICAgLyogVGhpcyBjb21wYXJlKCkgZnVuY3Rpb24gaXMgZm9yIG9yZGVyaW5nIHNlZ21lbnRzIGluIHRoZSBzd2VlcFxuICAgICAqIGxpbmUgdHJlZSwgYW5kIGRvZXMgc28gYWNjb3JkaW5nIHRvIHRoZSBmb2xsb3dpbmcgY3JpdGVyaWE6XG4gICAgICpcbiAgICAgKiBDb25zaWRlciB0aGUgdmVydGljYWwgbGluZSB0aGF0IGxpZXMgYW4gaW5maW5lc3RpbWFsIHN0ZXAgdG8gdGhlXG4gICAgICogcmlnaHQgb2YgdGhlIHJpZ2h0LW1vcmUgb2YgdGhlIHR3byBsZWZ0IGVuZHBvaW50cyBvZiB0aGUgaW5wdXRcbiAgICAgKiBzZWdtZW50cy4gSW1hZ2luZSBzbG93bHkgbW92aW5nIGEgcG9pbnQgdXAgZnJvbSBuZWdhdGl2ZSBpbmZpbml0eVxuICAgICAqIGluIHRoZSBpbmNyZWFzaW5nIHkgZGlyZWN0aW9uLiBXaGljaCBvZiB0aGUgdHdvIHNlZ21lbnRzIHdpbGwgdGhhdFxuICAgICAqIHBvaW50IGludGVyc2VjdCBmaXJzdD8gVGhhdCBzZWdtZW50IGNvbWVzICdiZWZvcmUnIHRoZSBvdGhlciBvbmUuXG4gICAgICpcbiAgICAgKiBJZiBuZWl0aGVyIHNlZ21lbnQgd291bGQgYmUgaW50ZXJzZWN0ZWQgYnkgc3VjaCBhIGxpbmUsIChpZiBvbmVcbiAgICAgKiBvciBtb3JlIG9mIHRoZSBzZWdtZW50cyBhcmUgdmVydGljYWwpIHRoZW4gdGhlIGxpbmUgdG8gYmUgY29uc2lkZXJlZFxuICAgICAqIGlzIGRpcmVjdGx5IG9uIHRoZSByaWdodC1tb3JlIG9mIHRoZSB0d28gbGVmdCBpbnB1dHMuXG4gICAgICovXG4gICAgc3RhdGljIGNvbXBhcmUoYSwgYikge1xuICAgICAgICBjb25zdCBhbHggPSBhLmxlZnRTRS5wb2ludC54O1xuICAgICAgICBjb25zdCBibHggPSBiLmxlZnRTRS5wb2ludC54O1xuICAgICAgICBjb25zdCBhcnggPSBhLnJpZ2h0U0UucG9pbnQueDtcbiAgICAgICAgY29uc3QgYnJ4ID0gYi5yaWdodFNFLnBvaW50Lng7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZXkncmUgZXZlbiBpbiB0aGUgc2FtZSB2ZXJ0aWNhbCBwbGFuZVxuICAgICAgICBpZiAoYnJ4LmlzTGVzc1RoYW4oYWx4KSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBpZiAoYXJ4LmlzTGVzc1RoYW4oYmx4KSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgY29uc3QgYWx5ID0gYS5sZWZ0U0UucG9pbnQueTtcbiAgICAgICAgY29uc3QgYmx5ID0gYi5sZWZ0U0UucG9pbnQueTtcbiAgICAgICAgY29uc3QgYXJ5ID0gYS5yaWdodFNFLnBvaW50Lnk7XG4gICAgICAgIGNvbnN0IGJyeSA9IGIucmlnaHRTRS5wb2ludC55O1xuICAgICAgICAvLyBpcyBsZWZ0IGVuZHBvaW50IG9mIHNlZ21lbnQgQiB0aGUgcmlnaHQtbW9yZT9cbiAgICAgICAgaWYgKGFseC5pc0xlc3NUaGFuKGJseCkpIHtcbiAgICAgICAgICAgIC8vIGFyZSB0aGUgdHdvIHNlZ21lbnRzIGluIHRoZSBzYW1lIGhvcml6b250YWwgcGxhbmU/XG4gICAgICAgICAgICBpZiAoYmx5LmlzTGVzc1RoYW4oYWx5KSAmJiBibHkuaXNMZXNzVGhhbihhcnkpKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGJseS5pc0dyZWF0ZXJUaGFuKGFseSkgJiYgYmx5LmlzR3JlYXRlclRoYW4oYXJ5KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAvLyBpcyB0aGUgQiBsZWZ0IGVuZHBvaW50IGNvbGluZWFyIHRvIHNlZ21lbnQgQT9cbiAgICAgICAgICAgIGNvbnN0IGFDbXBCTGVmdCA9IGEuY29tcGFyZVBvaW50KGIubGVmdFNFLnBvaW50KTtcbiAgICAgICAgICAgIGlmIChhQ21wQkxlZnQgPCAwKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGFDbXBCTGVmdCA+IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgLy8gaXMgdGhlIEEgcmlnaHQgZW5kcG9pbnQgY29saW5lYXIgdG8gc2VnbWVudCBCID9cbiAgICAgICAgICAgIGNvbnN0IGJDbXBBUmlnaHQgPSBiLmNvbXBhcmVQb2ludChhLnJpZ2h0U0UucG9pbnQpO1xuICAgICAgICAgICAgaWYgKGJDbXBBUmlnaHQgIT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJDbXBBUmlnaHQ7XG4gICAgICAgICAgICAvLyBjb2xpbmVhciBzZWdtZW50cywgY29uc2lkZXIgdGhlIG9uZSB3aXRoIGxlZnQtbW9yZVxuICAgICAgICAgICAgLy8gbGVmdCBlbmRwb2ludCB0byBiZSBmaXJzdCAoYXJiaXRyYXJ5PylcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpcyBsZWZ0IGVuZHBvaW50IG9mIHNlZ21lbnQgQSB0aGUgcmlnaHQtbW9yZT9cbiAgICAgICAgaWYgKGFseC5pc0dyZWF0ZXJUaGFuKGJseCkpIHtcbiAgICAgICAgICAgIGlmIChhbHkuaXNMZXNzVGhhbihibHkpICYmIGFseS5pc0xlc3NUaGFuKGJyeSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGFseS5pc0dyZWF0ZXJUaGFuKGJseSkgJiYgYWx5LmlzR3JlYXRlclRoYW4oYnJ5KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIC8vIGlzIHRoZSBBIGxlZnQgZW5kcG9pbnQgY29saW5lYXIgdG8gc2VnbWVudCBCP1xuICAgICAgICAgICAgY29uc3QgYkNtcEFMZWZ0ID0gYi5jb21wYXJlUG9pbnQoYS5sZWZ0U0UucG9pbnQpO1xuICAgICAgICAgICAgaWYgKGJDbXBBTGVmdCAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gYkNtcEFMZWZ0O1xuICAgICAgICAgICAgLy8gaXMgdGhlIEIgcmlnaHQgZW5kcG9pbnQgY29saW5lYXIgdG8gc2VnbWVudCBBP1xuICAgICAgICAgICAgY29uc3QgYUNtcEJSaWdodCA9IGEuY29tcGFyZVBvaW50KGIucmlnaHRTRS5wb2ludCk7XG4gICAgICAgICAgICBpZiAoYUNtcEJSaWdodCA8IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAoYUNtcEJSaWdodCA+IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgLy8gY29saW5lYXIgc2VnbWVudHMsIGNvbnNpZGVyIHRoZSBvbmUgd2l0aCBsZWZ0LW1vcmVcbiAgICAgICAgICAgIC8vIGxlZnQgZW5kcG9pbnQgdG8gYmUgZmlyc3QgKGFyYml0cmFyeT8pXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBnZXQgaGVyZSwgdGhlIHR3byBsZWZ0IGVuZHBvaW50cyBhcmUgaW4gdGhlIHNhbWVcbiAgICAgICAgLy8gdmVydGljYWwgcGxhbmUsIGllIGFseCA9PT0gYmx4XG4gICAgICAgIC8vIGNvbnNpZGVyIHRoZSBsb3dlciBsZWZ0LWVuZHBvaW50IHRvIGNvbWUgZmlyc3RcbiAgICAgICAgaWYgKGFseS5pc0xlc3NUaGFuKGJseSkpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhbHkuaXNHcmVhdGVyVGhhbihibHkpKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIC8vIGxlZnQgZW5kcG9pbnRzIGFyZSBpZGVudGljYWxcbiAgICAgICAgLy8gY2hlY2sgZm9yIGNvbGluZWFyaXR5IGJ5IHVzaW5nIHRoZSBsZWZ0LW1vcmUgcmlnaHQgZW5kcG9pbnRcbiAgICAgICAgLy8gaXMgdGhlIEEgcmlnaHQgZW5kcG9pbnQgbW9yZSBsZWZ0LW1vcmU/XG4gICAgICAgIGlmIChhcnguaXNMZXNzVGhhbihicngpKSB7XG4gICAgICAgICAgICBjb25zdCBiQ21wQVJpZ2h0ID0gYi5jb21wYXJlUG9pbnQoYS5yaWdodFNFLnBvaW50KTtcbiAgICAgICAgICAgIGlmIChiQ21wQVJpZ2h0ICE9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBiQ21wQVJpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIC8vIGlzIHRoZSBCIHJpZ2h0IGVuZHBvaW50IG1vcmUgbGVmdC1tb3JlP1xuICAgICAgICBpZiAoYXJ4LmlzR3JlYXRlclRoYW4oYnJ4KSkge1xuICAgICAgICAgICAgY29uc3QgYUNtcEJSaWdodCA9IGEuY29tcGFyZVBvaW50KGIucmlnaHRTRS5wb2ludCk7XG4gICAgICAgICAgICBpZiAoYUNtcEJSaWdodCA8IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAoYUNtcEJSaWdodCA+IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYXJ4LmVxKGJyeCkpIHtcbiAgICAgICAgICAgIC8vIGFyZSB0aGVzZSB0d28gW2FsbW9zdF0gdmVydGljYWwgc2VnbWVudHMgd2l0aCBvcHBvc2l0ZSBvcmllbnRhdGlvbj9cbiAgICAgICAgICAgIC8vIGlmIHNvLCB0aGUgb25lIHdpdGggdGhlIGxvd2VyIHJpZ2h0IGVuZHBvaW50IGNvbWVzIGZpcnN0XG4gICAgICAgICAgICBjb25zdCBheSA9IGFyeS5taW51cyhhbHkpO1xuICAgICAgICAgICAgY29uc3QgYXggPSBhcngubWludXMoYWx4KTtcbiAgICAgICAgICAgIGNvbnN0IGJ5ID0gYnJ5Lm1pbnVzKGJseSk7XG4gICAgICAgICAgICBjb25zdCBieCA9IGJyeC5taW51cyhibHgpO1xuICAgICAgICAgICAgaWYgKGF5LmlzR3JlYXRlclRoYW4oYXgpICYmIGJ5LmlzTGVzc1RoYW4oYngpKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGF5LmlzTGVzc1RoYW4oYXgpICYmIGJ5LmlzR3JlYXRlclRoYW4oYngpKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBoYXZlIGNvbGluZWFyIHNlZ21lbnRzIHdpdGggbWF0Y2hpbmcgb3JpZW50YXRpb25cbiAgICAgICAgLy8gY29uc2lkZXIgdGhlIG9uZSB3aXRoIG1vcmUgbGVmdC1tb3JlIHJpZ2h0IGVuZHBvaW50IHRvIGJlIGZpcnN0XG4gICAgICAgIGlmIChhcnguaXNHcmVhdGVyVGhhbihicngpKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGlmIChhcnguaXNMZXNzVGhhbihicngpKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAvLyBpZiB3ZSBnZXQgaGVyZSwgdHdvIHR3byByaWdodCBlbmRwb2ludHMgYXJlIGluIHRoZSBzYW1lXG4gICAgICAgIC8vIHZlcnRpY2FsIHBsYW5lLCBpZSBhcnggPT09IGJyeFxuICAgICAgICAvLyBjb25zaWRlciB0aGUgbG93ZXIgcmlnaHQtZW5kcG9pbnQgdG8gY29tZSBmaXJzdFxuICAgICAgICBpZiAoYXJ5LmlzTGVzc1RoYW4oYnJ5KSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgaWYgKGFyeS5pc0dyZWF0ZXJUaGFuKGJyeSkpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgLy8gcmlnaHQgZW5kcG9pbnRzIGlkZW50aWNhbCBhcyB3ZWxsLCBzbyB0aGUgc2VnbWVudHMgYXJlIGlkZW50aWFsXG4gICAgICAgIC8vIGZhbGwgYmFjayBvbiBjcmVhdGlvbiBvcmRlciBhcyBjb25zaXN0ZW50IHRpZS1icmVha2VyXG4gICAgICAgIGlmIChhLmlkIDwgYi5pZClcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgaWYgKGEuaWQgPiBiLmlkKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIC8vIGlkZW50aWNhbCBzZWdtZW50LCBpZSBhID09PSBiXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvKiBXYXJuaW5nOiBhIHJlZmVyZW5jZSB0byByaW5nV2luZGluZ3MgaW5wdXQgd2lsbCBiZSBzdG9yZWQsXG4gICAgICogIGFuZCBwb3NzaWJseSB3aWxsIGJlIGxhdGVyIG1vZGlmaWVkICovXG4gICAgY29uc3RydWN0b3IobGVmdFNFLCByaWdodFNFLCByaW5ncywgd2luZGluZ3MpIHtcbiAgICAgICAgdGhpcy5pZCA9ICsrc2VnbWVudElkO1xuICAgICAgICB0aGlzLmxlZnRTRSA9IGxlZnRTRTtcbiAgICAgICAgbGVmdFNFLnNlZ21lbnQgPSB0aGlzO1xuICAgICAgICBsZWZ0U0Uub3RoZXJTRSA9IHJpZ2h0U0U7XG4gICAgICAgIHRoaXMucmlnaHRTRSA9IHJpZ2h0U0U7XG4gICAgICAgIHJpZ2h0U0Uuc2VnbWVudCA9IHRoaXM7XG4gICAgICAgIHJpZ2h0U0Uub3RoZXJTRSA9IGxlZnRTRTtcbiAgICAgICAgdGhpcy5yaW5ncyA9IHJpbmdzO1xuICAgICAgICB0aGlzLndpbmRpbmdzID0gd2luZGluZ3M7XG4gICAgICAgIC8vIGxlZnQgdW5zZXQgZm9yIHBlcmZvcm1hbmNlLCBzZXQgbGF0ZXIgaW4gYWxnb3JpdGhtXG4gICAgICAgIC8vIHRoaXMucmluZ091dCwgdGhpcy5jb25zdW1lZEJ5LCB0aGlzLnByZXZcbiAgICB9XG4gICAgc3RhdGljIGZyb21SaW5nKHB0MSwgcHQyLCByaW5nKSB7XG4gICAgICAgIGxldCBsZWZ0UHQsIHJpZ2h0UHQsIHdpbmRpbmc7XG4gICAgICAgIC8vIG9yZGVyaW5nIHRoZSB0d28gcG9pbnRzIGFjY29yZGluZyB0byBzd2VlcCBsaW5lIG9yZGVyaW5nXG4gICAgICAgIGNvbnN0IGNtcFB0cyA9IFN3ZWVwRXZlbnQuY29tcGFyZVBvaW50cyhwdDEsIHB0Mik7XG4gICAgICAgIGlmIChjbXBQdHMgPCAwKSB7XG4gICAgICAgICAgICBsZWZ0UHQgPSBwdDE7XG4gICAgICAgICAgICByaWdodFB0ID0gcHQyO1xuICAgICAgICAgICAgd2luZGluZyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY21wUHRzID4gMCkge1xuICAgICAgICAgICAgbGVmdFB0ID0gcHQyO1xuICAgICAgICAgICAgcmlnaHRQdCA9IHB0MTtcbiAgICAgICAgICAgIHdpbmRpbmcgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRyaWVkIHRvIGNyZWF0ZSBkZWdlbmVyYXRlIHNlZ21lbnQgYXQgWyR7cHQxLnh9LCAke3B0MS55fV1gKTtcbiAgICAgICAgY29uc3QgbGVmdFNFID0gbmV3IFN3ZWVwRXZlbnQobGVmdFB0LCB0cnVlKTtcbiAgICAgICAgY29uc3QgcmlnaHRTRSA9IG5ldyBTd2VlcEV2ZW50KHJpZ2h0UHQsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWdtZW50KGxlZnRTRSwgcmlnaHRTRSwgW3JpbmddLCBbd2luZGluZ10pO1xuICAgIH1cbiAgICAvKiBXaGVuIGEgc2VnbWVudCBpcyBzcGxpdCwgdGhlIHJpZ2h0U0UgaXMgcmVwbGFjZWQgd2l0aCBhIG5ldyBzd2VlcCBldmVudCAqL1xuICAgIHJlcGxhY2VSaWdodFNFKG5ld1JpZ2h0U0UpIHtcbiAgICAgICAgdGhpcy5yaWdodFNFID0gbmV3UmlnaHRTRTtcbiAgICAgICAgdGhpcy5yaWdodFNFLnNlZ21lbnQgPSB0aGlzO1xuICAgICAgICB0aGlzLnJpZ2h0U0Uub3RoZXJTRSA9IHRoaXMubGVmdFNFO1xuICAgICAgICB0aGlzLmxlZnRTRS5vdGhlclNFID0gdGhpcy5yaWdodFNFO1xuICAgIH1cbiAgICBiYm94KCkge1xuICAgICAgICBjb25zdCB5MSA9IHRoaXMubGVmdFNFLnBvaW50Lnk7XG4gICAgICAgIGNvbnN0IHkyID0gdGhpcy5yaWdodFNFLnBvaW50Lnk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsbDogeyB4OiB0aGlzLmxlZnRTRS5wb2ludC54LCB5OiB5MS5pc0xlc3NUaGFuKHkyKSA/IHkxIDogeTIgfSxcbiAgICAgICAgICAgIHVyOiB7IHg6IHRoaXMucmlnaHRTRS5wb2ludC54LCB5OiB5MS5pc0dyZWF0ZXJUaGFuKHkyKSA/IHkxIDogeTIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyogQSB2ZWN0b3IgZnJvbSB0aGUgbGVmdCBwb2ludCB0byB0aGUgcmlnaHQgKi9cbiAgICB2ZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB0aGlzLnJpZ2h0U0UucG9pbnQueC5taW51cyh0aGlzLmxlZnRTRS5wb2ludC54KSxcbiAgICAgICAgICAgIHk6IHRoaXMucmlnaHRTRS5wb2ludC55Lm1pbnVzKHRoaXMubGVmdFNFLnBvaW50LnkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpc0FuRW5kcG9pbnQocHQpIHtcbiAgICAgICAgcmV0dXJuICgocHQueC5lcSh0aGlzLmxlZnRTRS5wb2ludC54KSAmJiBwdC55LmVxKHRoaXMubGVmdFNFLnBvaW50LnkpKSB8fFxuICAgICAgICAgICAgKHB0LnguZXEodGhpcy5yaWdodFNFLnBvaW50LngpICYmIHB0LnkuZXEodGhpcy5yaWdodFNFLnBvaW50LnkpKSk7XG4gICAgfVxuICAgIC8qIENvbXBhcmUgdGhpcyBzZWdtZW50IHdpdGggYSBwb2ludC5cbiAgICAgKlxuICAgICAqIEEgcG9pbnQgUCBpcyBjb25zaWRlcmVkIHRvIGJlIGNvbGluZWFyIHRvIGEgc2VnbWVudCBpZiB0aGVyZVxuICAgICAqIGV4aXN0cyBhIGRpc3RhbmNlIEQgc3VjaCB0aGF0IGlmIHdlIHRyYXZlbCBhbG9uZyB0aGUgc2VnbWVudFxuICAgICAqIGZyb20gb25lICogZW5kcG9pbnQgdG93YXJkcyB0aGUgb3RoZXIgYSBkaXN0YW5jZSBELCB3ZSBmaW5kXG4gICAgICogb3Vyc2VsdmVzIGF0IHBvaW50IFAuXG4gICAgICpcbiAgICAgKiBSZXR1cm4gdmFsdWUgaW5kaWNhdGVzOlxuICAgICAqXG4gICAgICogICAxOiBwb2ludCBsaWVzIGFib3ZlIHRoZSBzZWdtZW50ICh0byB0aGUgbGVmdCBvZiB2ZXJ0aWNhbClcbiAgICAgKiAgIDA6IHBvaW50IGlzIGNvbGluZWFyIHRvIHNlZ21lbnRcbiAgICAgKiAgLTE6IHBvaW50IGxpZXMgYmVsb3cgdGhlIHNlZ21lbnQgKHRvIHRoZSByaWdodCBvZiB2ZXJ0aWNhbClcbiAgICAgKi9cbiAgICBjb21wYXJlUG9pbnQocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHByZWNpc2lvbi5vcmllbnQodGhpcy5sZWZ0U0UucG9pbnQsIHBvaW50LCB0aGlzLnJpZ2h0U0UucG9pbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhbm90aGVyIHNlZ21lbnQsIHJldHVybnMgdGhlIGZpcnN0IG5vbi10cml2aWFsIGludGVyc2VjdGlvblxuICAgICAqIGJldHdlZW4gdGhlIHR3byBzZWdtZW50cyAoaW4gdGVybXMgb2Ygc3dlZXAgbGluZSBvcmRlcmluZyksIGlmIGl0IGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEEgJ25vbi10cml2aWFsJyBpbnRlcnNlY3Rpb24gaXMgb25lIHRoYXQgd2lsbCBjYXVzZSBvbmUgb3IgYm90aCBvZiB0aGVcbiAgICAgKiBzZWdtZW50cyB0byBiZSBzcGxpdCgpLiBBcyBzdWNoLCAndHJpdmlhbCcgdnMuICdub24tdHJpdmlhbCcgaW50ZXJzZWN0aW9uOlxuICAgICAqXG4gICAgICogICAqIGVuZHBvaW50IG9mIHNlZ0Egd2l0aCBlbmRwb2ludCBvZiBzZWdCIC0tPiB0cml2aWFsXG4gICAgICogICAqIGVuZHBvaW50IG9mIHNlZ0Egd2l0aCBwb2ludCBhbG9uZyBzZWdCIC0tPiBub24tdHJpdmlhbFxuICAgICAqICAgKiBlbmRwb2ludCBvZiBzZWdCIHdpdGggcG9pbnQgYWxvbmcgc2VnQSAtLT4gbm9uLXRyaXZpYWxcbiAgICAgKiAgICogcG9pbnQgYWxvbmcgc2VnQSB3aXRoIHBvaW50IGFsb25nIHNlZ0IgLS0+IG5vbi10cml2aWFsXG4gICAgICpcbiAgICAgKiBJZiBubyBub24tdHJpdmlhbCBpbnRlcnNlY3Rpb24gZXhpc3RzLCByZXR1cm4gbnVsbFxuICAgICAqIEVsc2UsIHJldHVybiBudWxsLlxuICAgICAqL1xuICAgIGdldEludGVyc2VjdGlvbihvdGhlcikge1xuICAgICAgICAvLyBJZiBiYm94ZXMgZG9uJ3Qgb3ZlcmxhcCwgdGhlcmUgY2FuJ3QgYmUgYW55IGludGVyc2VjdGlvbnNcbiAgICAgICAgY29uc3QgdEJib3ggPSB0aGlzLmJib3goKTtcbiAgICAgICAgY29uc3Qgb0Jib3ggPSBvdGhlci5iYm94KCk7XG4gICAgICAgIGNvbnN0IGJib3hPdmVybGFwID0gZ2V0QmJveE92ZXJsYXAodEJib3gsIG9CYm94KTtcbiAgICAgICAgaWYgKGJib3hPdmVybGFwID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vIFdlIGZpcnN0IGNoZWNrIHRvIHNlZSBpZiB0aGUgZW5kcG9pbnRzIGNhbiBiZSBjb25zaWRlcmVkIGludGVyc2VjdGlvbnMuXG4gICAgICAgIC8vIFRoaXMgd2lsbCAnc25hcCcgaW50ZXJzZWN0aW9ucyB0byBlbmRwb2ludHMgaWYgcG9zc2libGUsIGFuZCB3aWxsXG4gICAgICAgIC8vIGhhbmRsZSBjYXNlcyBvZiBjb2xpbmVhcml0eS5cbiAgICAgICAgY29uc3QgdGxwID0gdGhpcy5sZWZ0U0UucG9pbnQ7XG4gICAgICAgIGNvbnN0IHRycCA9IHRoaXMucmlnaHRTRS5wb2ludDtcbiAgICAgICAgY29uc3Qgb2xwID0gb3RoZXIubGVmdFNFLnBvaW50O1xuICAgICAgICBjb25zdCBvcnAgPSBvdGhlci5yaWdodFNFLnBvaW50O1xuICAgICAgICAvLyBkb2VzIGVhY2ggZW5kcG9pbnQgdG91Y2ggdGhlIG90aGVyIHNlZ21lbnQ/XG4gICAgICAgIC8vIG5vdGUgdGhhdCB3ZSByZXN0cmljdCB0aGUgJ3RvdWNoaW5nJyBkZWZpbml0aW9uIHRvIG9ubHkgYWxsb3cgc2VnbWVudHNcbiAgICAgICAgLy8gdG8gdG91Y2ggZW5kcG9pbnRzIHRoYXQgbGllIGZvcndhcmQgZnJvbSB3aGVyZSB3ZSBhcmUgaW4gdGhlIHN3ZWVwIGxpbmUgcGFzc1xuICAgICAgICBjb25zdCB0b3VjaGVzT3RoZXJMU0UgPSBpc0luQmJveCh0QmJveCwgb2xwKSAmJiB0aGlzLmNvbXBhcmVQb2ludChvbHApID09PSAwO1xuICAgICAgICBjb25zdCB0b3VjaGVzVGhpc0xTRSA9IGlzSW5CYm94KG9CYm94LCB0bHApICYmIG90aGVyLmNvbXBhcmVQb2ludCh0bHApID09PSAwO1xuICAgICAgICBjb25zdCB0b3VjaGVzT3RoZXJSU0UgPSBpc0luQmJveCh0QmJveCwgb3JwKSAmJiB0aGlzLmNvbXBhcmVQb2ludChvcnApID09PSAwO1xuICAgICAgICBjb25zdCB0b3VjaGVzVGhpc1JTRSA9IGlzSW5CYm94KG9CYm94LCB0cnApICYmIG90aGVyLmNvbXBhcmVQb2ludCh0cnApID09PSAwO1xuICAgICAgICAvLyBkbyBsZWZ0IGVuZHBvaW50cyBtYXRjaD9cbiAgICAgICAgaWYgKHRvdWNoZXNUaGlzTFNFICYmIHRvdWNoZXNPdGhlckxTRSkge1xuICAgICAgICAgICAgLy8gdGhlc2UgdHdvIGNhc2VzIGFyZSBmb3IgY29saW5lYXIgc2VnbWVudHMgd2l0aCBtYXRjaGluZyBsZWZ0XG4gICAgICAgICAgICAvLyBlbmRwb2ludHMsIGFuZCBvbmUgc2VnbWVudCBiZWluZyBsb25nZXIgdGhhbiB0aGUgb3RoZXJcbiAgICAgICAgICAgIGlmICh0b3VjaGVzVGhpc1JTRSAmJiAhdG91Y2hlc090aGVyUlNFKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnA7XG4gICAgICAgICAgICBpZiAoIXRvdWNoZXNUaGlzUlNFICYmIHRvdWNoZXNPdGhlclJTRSlcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JwO1xuICAgICAgICAgICAgLy8gZWl0aGVyIHRoZSB0d28gc2VnbWVudHMgbWF0Y2ggZXhhY3RseSAodHdvIHRyaXZhbCBpbnRlcnNlY3Rpb25zKVxuICAgICAgICAgICAgLy8gb3IganVzdCBvbiB0aGVpciBsZWZ0IGVuZHBvaW50IChvbmUgdHJpdmlhbCBpbnRlcnNlY3Rpb25cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRvZXMgdGhpcyBsZWZ0IGVuZHBvaW50IG1hdGNoZXMgKG90aGVyIGRvZXNuJ3QpXG4gICAgICAgIGlmICh0b3VjaGVzVGhpc0xTRSkge1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHNlZ21lbnRzIHRoYXQganVzdCBpbnRlcnNlY3Qgb24gb3Bwb3NpbmcgZW5kcG9pbnRzXG4gICAgICAgICAgICBpZiAodG91Y2hlc090aGVyUlNFKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRscC54LmVxKG9ycC54KSAmJiB0bHAueS5lcShvcnAueSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdC1pbnRlcnNlY3Rpb24gb24gbGVmdCBlbmRwb2ludFxuICAgICAgICAgICAgcmV0dXJuIHRscDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb2VzIG90aGVyIGxlZnQgZW5kcG9pbnQgbWF0Y2hlcyAodGhpcyBkb2Vzbid0KVxuICAgICAgICBpZiAodG91Y2hlc090aGVyTFNFKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBmb3Igc2VnbWVudHMgdGhhdCBqdXN0IGludGVyc2VjdCBvbiBvcHBvc2luZyBlbmRwb2ludHNcbiAgICAgICAgICAgIGlmICh0b3VjaGVzVGhpc1JTRSkge1xuICAgICAgICAgICAgICAgIGlmICh0cnAueC5lcShvbHAueCkgJiYgdHJwLnkuZXEob2xwLnkpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHQtaW50ZXJzZWN0aW9uIG9uIGxlZnQgZW5kcG9pbnRcbiAgICAgICAgICAgIHJldHVybiBvbHA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJpdmlhbCBpbnRlcnNlY3Rpb24gb24gcmlnaHQgZW5kcG9pbnRzXG4gICAgICAgIGlmICh0b3VjaGVzVGhpc1JTRSAmJiB0b3VjaGVzT3RoZXJSU0UpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gdC1pbnRlcnNlY3Rpb25zIG9uIGp1c3Qgb25lIHJpZ2h0IGVuZHBvaW50XG4gICAgICAgIGlmICh0b3VjaGVzVGhpc1JTRSlcbiAgICAgICAgICAgIHJldHVybiB0cnA7XG4gICAgICAgIGlmICh0b3VjaGVzT3RoZXJSU0UpXG4gICAgICAgICAgICByZXR1cm4gb3JwO1xuICAgICAgICAvLyBOb25lIG9mIG91ciBlbmRwb2ludHMgaW50ZXJzZWN0LiBMb29rIGZvciBhIGdlbmVyYWwgaW50ZXJzZWN0aW9uIGJldHdlZW5cbiAgICAgICAgLy8gaW5maW5pdGUgbGluZXMgbGFpZCBvdmVyIHRoZSBzZWdtZW50c1xuICAgICAgICBjb25zdCBwdCA9IGludGVyc2VjdGlvbih0bHAsIHRoaXMudmVjdG9yKCksIG9scCwgb3RoZXIudmVjdG9yKCkpO1xuICAgICAgICAvLyBhcmUgdGhlIHNlZ21lbnRzIHBhcnJhbGxlbD8gTm90ZSB0aGF0IGlmIHRoZXkgd2VyZSBjb2xpbmVhciB3aXRoIG92ZXJsYXAsXG4gICAgICAgIC8vIHRoZXkgd291bGQgaGF2ZSBhbiBlbmRwb2ludCBpbnRlcnNlY3Rpb24gYW5kIHRoYXQgY2FzZSB3YXMgYWxyZWFkeSBoYW5kbGVkIGFib3ZlXG4gICAgICAgIGlmIChwdCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAvLyBpcyB0aGUgaW50ZXJzZWN0aW9uIGZvdW5kIGJldHdlZW4gdGhlIGxpbmVzIG5vdCBvbiB0aGUgc2VnbWVudHM/XG4gICAgICAgIGlmICghaXNJbkJib3goYmJveE92ZXJsYXAsIHB0KSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAvLyByb3VuZCB0aGUgdGhlIGNvbXB1dGVkIHBvaW50IGlmIG5lZWRlZFxuICAgICAgICByZXR1cm4gcHJlY2lzaW9uLnNuYXAocHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTcGxpdCB0aGUgZ2l2ZW4gc2VnbWVudCBpbnRvIG11bHRpcGxlIHNlZ21lbnRzIG9uIHRoZSBnaXZlbiBwb2ludHMuXG4gICAgICogICogRWFjaCBleGlzdGluZyBzZWdtZW50IHdpbGwgcmV0YWluIGl0cyBsZWZ0U0UgYW5kIGEgbmV3IHJpZ2h0U0Ugd2lsbCBiZVxuICAgICAqICAgIGdlbmVyYXRlZCBmb3IgaXQuXG4gICAgICogICogQSBuZXcgc2VnbWVudCB3aWxsIGJlIGdlbmVyYXRlZCB3aGljaCB3aWxsIGFkb3B0IHRoZSBvcmlnaW5hbCBzZWdtZW50J3NcbiAgICAgKiAgICByaWdodFNFLCBhbmQgYSBuZXcgbGVmdFNFIHdpbGwgYmUgZ2VuZXJhdGVkIGZvciBpdC5cbiAgICAgKiAgKiBJZiB0aGVyZSBhcmUgbW9yZSB0aGFuIHR3byBwb2ludHMgZ2l2ZW4gdG8gc3BsaXQgb24sIG5ldyBzZWdtZW50c1xuICAgICAqICAgIGluIHRoZSBtaWRkbGUgd2lsbCBiZSBnZW5lcmF0ZWQgd2l0aCBuZXcgbGVmdFNFIGFuZCByaWdodFNFJ3MuXG4gICAgICogICogQW4gYXJyYXkgb2YgdGhlIG5ld2x5IGdlbmVyYXRlZCBTd2VlcEV2ZW50cyB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogV2FybmluZzogaW5wdXQgYXJyYXkgb2YgcG9pbnRzIGlzIG1vZGlmaWVkXG4gICAgICovXG4gICAgc3BsaXQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgbmV3RXZlbnRzID0gW107XG4gICAgICAgIGNvbnN0IGFscmVhZHlMaW5rZWQgPSBwb2ludC5ldmVudHMgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgbmV3TGVmdFNFID0gbmV3IFN3ZWVwRXZlbnQocG9pbnQsIHRydWUpO1xuICAgICAgICBjb25zdCBuZXdSaWdodFNFID0gbmV3IFN3ZWVwRXZlbnQocG9pbnQsIGZhbHNlKTtcbiAgICAgICAgY29uc3Qgb2xkUmlnaHRTRSA9IHRoaXMucmlnaHRTRTtcbiAgICAgICAgdGhpcy5yZXBsYWNlUmlnaHRTRShuZXdSaWdodFNFKTtcbiAgICAgICAgbmV3RXZlbnRzLnB1c2gobmV3UmlnaHRTRSk7XG4gICAgICAgIG5ld0V2ZW50cy5wdXNoKG5ld0xlZnRTRSk7XG4gICAgICAgIGNvbnN0IG5ld1NlZyA9IG5ldyBTZWdtZW50KG5ld0xlZnRTRSwgb2xkUmlnaHRTRSwgdGhpcy5yaW5ncy5zbGljZSgpLCB0aGlzLndpbmRpbmdzLnNsaWNlKCkpO1xuICAgICAgICAvLyB3aGVuIHNwbGl0dGluZyBhIG5lYXJseSB2ZXJ0aWNhbCBkb3dud2FyZC1mYWNpbmcgc2VnbWVudCxcbiAgICAgICAgLy8gc29tZXRpbWVzIG9uZSBvZiB0aGUgcmVzdWx0aW5nIG5ldyBzZWdtZW50cyBpcyB2ZXJ0aWNhbCwgaW4gd2hpY2hcbiAgICAgICAgLy8gY2FzZSBpdHMgbGVmdCBhbmQgcmlnaHQgZXZlbnRzIG1heSBuZWVkIHRvIGJlIHN3YXBwZWRcbiAgICAgICAgaWYgKFN3ZWVwRXZlbnQuY29tcGFyZVBvaW50cyhuZXdTZWcubGVmdFNFLnBvaW50LCBuZXdTZWcucmlnaHRTRS5wb2ludCkgPiAwKSB7XG4gICAgICAgICAgICBuZXdTZWcuc3dhcEV2ZW50cygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChTd2VlcEV2ZW50LmNvbXBhcmVQb2ludHModGhpcy5sZWZ0U0UucG9pbnQsIHRoaXMucmlnaHRTRS5wb2ludCkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnN3YXBFdmVudHMoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbiB0aGUgcG9pbnQgd2UganVzdCB1c2VkIHRvIGNyZWF0ZSBuZXcgc3dlZXAgZXZlbnRzIHdpdGggd2FzIGFscmVhZHlcbiAgICAgICAgLy8gbGlua2VkIHRvIG90aGVyIGV2ZW50cywgd2UgbmVlZCB0byBjaGVjayBpZiBlaXRoZXIgb2YgdGhlIGFmZmVjdGVkXG4gICAgICAgIC8vIHNlZ21lbnRzIHNob3VsZCBiZSBjb25zdW1lZFxuICAgICAgICBpZiAoYWxyZWFkeUxpbmtlZCkge1xuICAgICAgICAgICAgbmV3TGVmdFNFLmNoZWNrRm9yQ29uc3VtaW5nKCk7XG4gICAgICAgICAgICBuZXdSaWdodFNFLmNoZWNrRm9yQ29uc3VtaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0V2ZW50cztcbiAgICB9XG4gICAgLyogU3dhcCB3aGljaCBldmVudCBpcyBsZWZ0IGFuZCByaWdodCAqL1xuICAgIHN3YXBFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IHRtcEV2dCA9IHRoaXMucmlnaHRTRTtcbiAgICAgICAgdGhpcy5yaWdodFNFID0gdGhpcy5sZWZ0U0U7XG4gICAgICAgIHRoaXMubGVmdFNFID0gdG1wRXZ0O1xuICAgICAgICB0aGlzLmxlZnRTRS5pc0xlZnQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJpZ2h0U0UuaXNMZWZ0ID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gdGhpcy53aW5kaW5ncy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMud2luZGluZ3NbaV0gKj0gLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogQ29uc3VtZSBhbm90aGVyIHNlZ21lbnQuIFdlIHRha2UgdGhlaXIgcmluZ3MgdW5kZXIgb3VyIHdpbmdcbiAgICAgKiBhbmQgbWFyayB0aGVtIGFzIGNvbnN1bWVkLiBVc2UgZm9yIHBlcmZlY3RseSBvdmVybGFwcGluZyBzZWdtZW50cyAqL1xuICAgIGNvbnN1bWUob3RoZXIpIHtcbiAgICAgICAgbGV0IGNvbnN1bWVyID0gdGhpcztcbiAgICAgICAgbGV0IGNvbnN1bWVlID0gb3RoZXI7XG4gICAgICAgIHdoaWxlIChjb25zdW1lci5jb25zdW1lZEJ5KVxuICAgICAgICAgICAgY29uc3VtZXIgPSBjb25zdW1lci5jb25zdW1lZEJ5O1xuICAgICAgICB3aGlsZSAoY29uc3VtZWUuY29uc3VtZWRCeSlcbiAgICAgICAgICAgIGNvbnN1bWVlID0gY29uc3VtZWUuY29uc3VtZWRCeTtcbiAgICAgICAgY29uc3QgY21wID0gU2VnbWVudC5jb21wYXJlKGNvbnN1bWVyLCBjb25zdW1lZSk7XG4gICAgICAgIGlmIChjbXAgPT09IDApXG4gICAgICAgICAgICByZXR1cm47IC8vIGFscmVhZHkgY29uc3VtZWRcbiAgICAgICAgLy8gdGhlIHdpbm5lciBvZiB0aGUgY29uc3VtcHRpb24gaXMgdGhlIGVhcmxpZXIgc2VnbWVudFxuICAgICAgICAvLyBhY2NvcmRpbmcgdG8gc3dlZXAgbGluZSBvcmRlcmluZ1xuICAgICAgICBpZiAoY21wID4gMCkge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gY29uc3VtZXI7XG4gICAgICAgICAgICBjb25zdW1lciA9IGNvbnN1bWVlO1xuICAgICAgICAgICAgY29uc3VtZWUgPSB0bXA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWFrZSBzdXJlIGEgc2VnbWVudCBkb2Vzbid0IGNvbnN1bWUgaXQncyBwcmV2XG4gICAgICAgIGlmIChjb25zdW1lci5wcmV2ID09PSBjb25zdW1lZSkge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gY29uc3VtZXI7XG4gICAgICAgICAgICBjb25zdW1lciA9IGNvbnN1bWVlO1xuICAgICAgICAgICAgY29uc3VtZWUgPSB0bXA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBjb25zdW1lZS5yaW5ncy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJpbmcgPSBjb25zdW1lZS5yaW5nc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHdpbmRpbmcgPSBjb25zdW1lZS53aW5kaW5nc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY29uc3VtZXIucmluZ3MuaW5kZXhPZihyaW5nKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdW1lci5yaW5ncy5wdXNoKHJpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN1bWVyLndpbmRpbmdzLnB1c2god2luZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY29uc3VtZXIud2luZGluZ3NbaW5kZXhdICs9IHdpbmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3VtZWUucmluZ3MgPSBudWxsO1xuICAgICAgICBjb25zdW1lZS53aW5kaW5ncyA9IG51bGw7XG4gICAgICAgIGNvbnN1bWVlLmNvbnN1bWVkQnkgPSBjb25zdW1lcjtcbiAgICAgICAgLy8gbWFyayBzd2VlcCBldmVudHMgY29uc3VtZWQgYXMgdG8gbWFpbnRhaW4gb3JkZXJpbmcgaW4gc3dlZXAgZXZlbnQgcXVldWVcbiAgICAgICAgY29uc3VtZWUubGVmdFNFLmNvbnN1bWVkQnkgPSBjb25zdW1lci5sZWZ0U0U7XG4gICAgICAgIGNvbnN1bWVlLnJpZ2h0U0UuY29uc3VtZWRCeSA9IGNvbnN1bWVyLnJpZ2h0U0U7XG4gICAgfVxuICAgIC8qIFRoZSBmaXJzdCBzZWdtZW50IHByZXZpb3VzIHNlZ21lbnQgY2hhaW4gdGhhdCBpcyBpbiB0aGUgcmVzdWx0ICovXG4gICAgcHJldkluUmVzdWx0KCkge1xuICAgICAgICBpZiAodGhpcy5fcHJldkluUmVzdWx0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJldkluUmVzdWx0O1xuICAgICAgICBpZiAoIXRoaXMucHJldilcbiAgICAgICAgICAgIHRoaXMuX3ByZXZJblJlc3VsdCA9IG51bGw7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucHJldi5pc0luUmVzdWx0KCkpXG4gICAgICAgICAgICB0aGlzLl9wcmV2SW5SZXN1bHQgPSB0aGlzLnByZXY7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX3ByZXZJblJlc3VsdCA9IHRoaXMucHJldi5wcmV2SW5SZXN1bHQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXZJblJlc3VsdDtcbiAgICB9XG4gICAgYmVmb3JlU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9iZWZvcmVTdGF0ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JlZm9yZVN0YXRlO1xuICAgICAgICBpZiAoIXRoaXMucHJldilcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZVN0YXRlID0ge1xuICAgICAgICAgICAgICAgIHJpbmdzOiBbXSxcbiAgICAgICAgICAgICAgICB3aW5kaW5nczogW10sXG4gICAgICAgICAgICAgICAgbXVsdGlQb2x5czogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZyA9IHRoaXMucHJldi5jb25zdW1lZEJ5IHx8IHRoaXMucHJldjtcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZVN0YXRlID0gc2VnLmFmdGVyU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYmVmb3JlU3RhdGU7XG4gICAgfVxuICAgIGFmdGVyU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hZnRlclN0YXRlICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWZ0ZXJTdGF0ZTtcbiAgICAgICAgY29uc3QgYmVmb3JlU3RhdGUgPSB0aGlzLmJlZm9yZVN0YXRlKCk7XG4gICAgICAgIHRoaXMuX2FmdGVyU3RhdGUgPSB7XG4gICAgICAgICAgICByaW5nczogYmVmb3JlU3RhdGUucmluZ3Muc2xpY2UoMCksXG4gICAgICAgICAgICB3aW5kaW5nczogYmVmb3JlU3RhdGUud2luZGluZ3Muc2xpY2UoMCksXG4gICAgICAgICAgICBtdWx0aVBvbHlzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmluZ3NBZnRlciA9IHRoaXMuX2FmdGVyU3RhdGUucmluZ3M7XG4gICAgICAgIGNvbnN0IHdpbmRpbmdzQWZ0ZXIgPSB0aGlzLl9hZnRlclN0YXRlLndpbmRpbmdzO1xuICAgICAgICBjb25zdCBtcHNBZnRlciA9IHRoaXMuX2FmdGVyU3RhdGUubXVsdGlQb2x5cztcbiAgICAgICAgLy8gY2FsY3VsYXRlIHJpbmdzQWZ0ZXIsIHdpbmRpbmdzQWZ0ZXJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSB0aGlzLnJpbmdzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmluZyA9IHRoaXMucmluZ3NbaV07XG4gICAgICAgICAgICBjb25zdCB3aW5kaW5nID0gdGhpcy53aW5kaW5nc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcmluZ3NBZnRlci5pbmRleE9mKHJpbmcpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJpbmdzQWZ0ZXIucHVzaChyaW5nKTtcbiAgICAgICAgICAgICAgICB3aW5kaW5nc0FmdGVyLnB1c2god2luZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgd2luZGluZ3NBZnRlcltpbmRleF0gKz0gd2luZGluZztcbiAgICAgICAgfVxuICAgICAgICAvLyBjYWxjdWFsdGUgcG9seXNBZnRlclxuICAgICAgICBjb25zdCBwb2x5c0FmdGVyID0gW107XG4gICAgICAgIGNvbnN0IHBvbHlzRXhjbHVkZSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IHJpbmdzQWZ0ZXIubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAod2luZGluZ3NBZnRlcltpXSA9PT0gMClcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gbm9uLXplcm8gcnVsZVxuICAgICAgICAgICAgY29uc3QgcmluZyA9IHJpbmdzQWZ0ZXJbaV07XG4gICAgICAgICAgICBjb25zdCBwb2x5ID0gcmluZy5wb2x5O1xuICAgICAgICAgICAgaWYgKHBvbHlzRXhjbHVkZS5pbmRleE9mKHBvbHkpICE9PSAtMSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChyaW5nLmlzRXh0ZXJpb3IpXG4gICAgICAgICAgICAgICAgcG9seXNBZnRlci5wdXNoKHBvbHkpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvbHlzRXhjbHVkZS5pbmRleE9mKHBvbHkpID09PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgcG9seXNFeGNsdWRlLnB1c2gocG9seSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwb2x5c0FmdGVyLmluZGV4T2YocmluZy5wb2x5KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICBwb2x5c0FmdGVyLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsY3VsYXRlIG11bHRpUG9seXNBZnRlclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IHBvbHlzQWZ0ZXIubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBtcCA9IHBvbHlzQWZ0ZXJbaV0ubXVsdGlQb2x5O1xuICAgICAgICAgICAgaWYgKG1wc0FmdGVyLmluZGV4T2YobXApID09PSAtMSlcbiAgICAgICAgICAgICAgICBtcHNBZnRlci5wdXNoKG1wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWZ0ZXJTdGF0ZTtcbiAgICB9XG4gICAgLyogSXMgdGhpcyBzZWdtZW50IHBhcnQgb2YgdGhlIGZpbmFsIHJlc3VsdD8gKi9cbiAgICBpc0luUmVzdWx0KCkge1xuICAgICAgICAvLyBpZiB3ZSd2ZSBiZWVuIGNvbnN1bWVkLCB3ZSdyZSBub3QgaW4gdGhlIHJlc3VsdFxuICAgICAgICBpZiAodGhpcy5jb25zdW1lZEJ5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5faXNJblJlc3VsdCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzSW5SZXN1bHQ7XG4gICAgICAgIGNvbnN0IG1wc0JlZm9yZSA9IHRoaXMuYmVmb3JlU3RhdGUoKS5tdWx0aVBvbHlzO1xuICAgICAgICBjb25zdCBtcHNBZnRlciA9IHRoaXMuYWZ0ZXJTdGF0ZSgpLm11bHRpUG9seXM7XG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ1bmlvblwiOiB7XG4gICAgICAgICAgICAgICAgLy8gVU5JT04gLSBpbmNsdWRlZCBpZmY6XG4gICAgICAgICAgICAgICAgLy8gICogT24gb25lIHNpZGUgb2YgdXMgdGhlcmUgaXMgMCBwb2x5IGludGVyaW9ycyBBTkRcbiAgICAgICAgICAgICAgICAvLyAgKiBPbiB0aGUgb3RoZXIgc2lkZSB0aGVyZSBpcyAxIG9yIG1vcmUuXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9CZWZvcmVzID0gbXBzQmVmb3JlLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBub0FmdGVycyA9IG1wc0FmdGVyLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0luUmVzdWx0ID0gbm9CZWZvcmVzICE9PSBub0FmdGVycztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnRlcnNlY3Rpb25cIjoge1xuICAgICAgICAgICAgICAgIC8vIElOVEVSU0VDVElPTiAtIGluY2x1ZGVkIGlmZjpcbiAgICAgICAgICAgICAgICAvLyAgKiBvbiBvbmUgc2lkZSBvZiB1cyBhbGwgbXVsdGlwb2x5cyBhcmUgcmVwLiB3aXRoIHBvbHkgaW50ZXJpb3JzIEFORFxuICAgICAgICAgICAgICAgIC8vICAqIG9uIHRoZSBvdGhlciBzaWRlIG9mIHVzLCBub3QgYWxsIG11bHRpcG9seXMgYXJlIHJlcHNlbnRlZFxuICAgICAgICAgICAgICAgIC8vICAgIHdpdGggcG9seSBpbnRlcmlvcnNcbiAgICAgICAgICAgICAgICBsZXQgbGVhc3Q7XG4gICAgICAgICAgICAgICAgbGV0IG1vc3Q7XG4gICAgICAgICAgICAgICAgaWYgKG1wc0JlZm9yZS5sZW5ndGggPCBtcHNBZnRlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhc3QgPSBtcHNCZWZvcmUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBtb3N0ID0gbXBzQWZ0ZXIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhc3QgPSBtcHNBZnRlci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIG1vc3QgPSBtcHNCZWZvcmUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9pc0luUmVzdWx0ID0gbW9zdCA9PT0gb3BlcmF0aW9uLm51bU11bHRpUG9seXMgJiYgbGVhc3QgPCBtb3N0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInhvclwiOiB7XG4gICAgICAgICAgICAgICAgLy8gWE9SIC0gaW5jbHVkZWQgaWZmOlxuICAgICAgICAgICAgICAgIC8vICAqIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIG51bWJlciBvZiBtdWx0aXBvbHlzIHJlcHJlc2VudGVkXG4gICAgICAgICAgICAgICAgLy8gICAgd2l0aCBwb2x5IGludGVyaW9ycyBvbiBvdXIgdHdvIHNpZGVzIGlzIGFuIG9kZCBudW1iZXJcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gTWF0aC5hYnMobXBzQmVmb3JlLmxlbmd0aCAtIG1wc0FmdGVyLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNJblJlc3VsdCA9IGRpZmYgJSAyID09PSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImRpZmZlcmVuY2VcIjoge1xuICAgICAgICAgICAgICAgIC8vIERJRkZFUkVOQ0UgaW5jbHVkZWQgaWZmOlxuICAgICAgICAgICAgICAgIC8vICAqIG9uIGV4YWN0bHkgb25lIHNpZGUsIHdlIGhhdmUganVzdCB0aGUgc3ViamVjdFxuICAgICAgICAgICAgICAgIGNvbnN0IGlzSnVzdFN1YmplY3QgPSAobXBzKSA9PiBtcHMubGVuZ3RoID09PSAxICYmIG1wc1swXS5pc1N1YmplY3Q7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNJblJlc3VsdCA9IGlzSnVzdFN1YmplY3QobXBzQmVmb3JlKSAhPT0gaXNKdXN0U3ViamVjdChtcHNBZnRlcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzSW5SZXN1bHQ7XG4gICAgfVxufVxuIiwgImltcG9ydCBCaWdOdW1iZXIgZnJvbSBcImJpZ251bWJlci5qc1wiO1xuaW1wb3J0IHsgcHJlY2lzaW9uIH0gZnJvbSBcIi4vcHJlY2lzaW9uLmpzXCI7XG5pbXBvcnQgU2VnbWVudCBmcm9tIFwiLi9zZWdtZW50LmpzXCI7XG5leHBvcnQgY2xhc3MgUmluZ0luIHtcbiAgICBwb2x5O1xuICAgIGlzRXh0ZXJpb3I7XG4gICAgc2VnbWVudHM7XG4gICAgYmJveDtcbiAgICBjb25zdHJ1Y3RvcihnZW9tUmluZywgcG9seSwgaXNFeHRlcmlvcikge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ2VvbVJpbmcpIHx8IGdlb21SaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgZ2VvbWV0cnkgaXMgbm90IGEgdmFsaWQgUG9seWdvbiBvciBNdWx0aVBvbHlnb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb2x5ID0gcG9seTtcbiAgICAgICAgdGhpcy5pc0V4dGVyaW9yID0gaXNFeHRlcmlvcjtcbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgICAgICBpZiAodHlwZW9mIGdlb21SaW5nWzBdWzBdICE9PSBcIm51bWJlclwiIHx8XG4gICAgICAgICAgICB0eXBlb2YgZ2VvbVJpbmdbMF1bMV0gIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IGdlb21ldHJ5IGlzIG5vdCBhIHZhbGlkIFBvbHlnb24gb3IgTXVsdGlQb2x5Z29uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBwcmVjaXNpb24uc25hcCh7IHg6IG5ldyBCaWdOdW1iZXIoZ2VvbVJpbmdbMF1bMF0pLCB5OiBuZXcgQmlnTnVtYmVyKGdlb21SaW5nWzBdWzFdKSB9KTtcbiAgICAgICAgdGhpcy5iYm94ID0ge1xuICAgICAgICAgICAgbGw6IHsgeDogZmlyc3RQb2ludC54LCB5OiBmaXJzdFBvaW50LnkgfSxcbiAgICAgICAgICAgIHVyOiB7IHg6IGZpcnN0UG9pbnQueCwgeTogZmlyc3RQb2ludC55IH0sXG4gICAgICAgIH07XG4gICAgICAgIGxldCBwcmV2UG9pbnQgPSBmaXJzdFBvaW50O1xuICAgICAgICBmb3IgKGxldCBpID0gMSwgaU1heCA9IGdlb21SaW5nLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBnZW9tUmluZ1tpXVswXSAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgICAgICAgICAgIHR5cGVvZiBnZW9tUmluZ1tpXVsxXSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IGdlb21ldHJ5IGlzIG5vdCBhIHZhbGlkIFBvbHlnb24gb3IgTXVsdGlQb2x5Z29uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwcmVjaXNpb24uc25hcCh7IHg6IG5ldyBCaWdOdW1iZXIoZ2VvbVJpbmdbaV1bMF0pLCB5OiBuZXcgQmlnTnVtYmVyKGdlb21SaW5nW2ldWzFdKSB9KTtcbiAgICAgICAgICAgIC8vIHNraXAgcmVwZWF0ZWQgcG9pbnRzXG4gICAgICAgICAgICBpZiAocG9pbnQueC5lcShwcmV2UG9pbnQueCkgJiYgcG9pbnQueS5lcShwcmV2UG9pbnQueSkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLnNlZ21lbnRzLnB1c2goU2VnbWVudC5mcm9tUmluZyhwcmV2UG9pbnQsIHBvaW50LCB0aGlzKSk7XG4gICAgICAgICAgICBpZiAocG9pbnQueC5pc0xlc3NUaGFuKHRoaXMuYmJveC5sbC54KSlcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gubGwueCA9IHBvaW50Lng7XG4gICAgICAgICAgICBpZiAocG9pbnQueS5pc0xlc3NUaGFuKHRoaXMuYmJveC5sbC55KSlcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gubGwueSA9IHBvaW50Lnk7XG4gICAgICAgICAgICBpZiAocG9pbnQueC5pc0dyZWF0ZXJUaGFuKHRoaXMuYmJveC51ci54KSlcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gudXIueCA9IHBvaW50Lng7XG4gICAgICAgICAgICBpZiAocG9pbnQueS5pc0dyZWF0ZXJUaGFuKHRoaXMuYmJveC51ci55KSlcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gudXIueSA9IHBvaW50Lnk7XG4gICAgICAgICAgICBwcmV2UG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgc2VnbWVudCBmcm9tIGxhc3QgdG8gZmlyc3QgaWYgbGFzdCBpcyBub3QgdGhlIHNhbWUgYXMgZmlyc3RcbiAgICAgICAgaWYgKCFmaXJzdFBvaW50LnguZXEocHJldlBvaW50LngpIHx8ICFmaXJzdFBvaW50LnkuZXEocHJldlBvaW50LnkpKSB7XG4gICAgICAgICAgICB0aGlzLnNlZ21lbnRzLnB1c2goU2VnbWVudC5mcm9tUmluZyhwcmV2UG9pbnQsIGZpcnN0UG9pbnQsIHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTd2VlcEV2ZW50cygpIHtcbiAgICAgICAgY29uc3Qgc3dlZXBFdmVudHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSB0aGlzLnNlZ21lbnRzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHRoaXMuc2VnbWVudHNbaV07XG4gICAgICAgICAgICBzd2VlcEV2ZW50cy5wdXNoKHNlZ21lbnQubGVmdFNFKTtcbiAgICAgICAgICAgIHN3ZWVwRXZlbnRzLnB1c2goc2VnbWVudC5yaWdodFNFKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3dlZXBFdmVudHM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBvbHlJbiB7XG4gICAgbXVsdGlQb2x5O1xuICAgIGV4dGVyaW9yUmluZztcbiAgICBpbnRlcmlvclJpbmdzO1xuICAgIGJib3g7XG4gICAgY29uc3RydWN0b3IoZ2VvbVBvbHksIG11bHRpUG9seSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ2VvbVBvbHkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBnZW9tZXRyeSBpcyBub3QgYSB2YWxpZCBQb2x5Z29uIG9yIE11bHRpUG9seWdvblwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV4dGVyaW9yUmluZyA9IG5ldyBSaW5nSW4oZ2VvbVBvbHlbMF0sIHRoaXMsIHRydWUpO1xuICAgICAgICAvLyBjb3B5IGJ5IHZhbHVlXG4gICAgICAgIHRoaXMuYmJveCA9IHtcbiAgICAgICAgICAgIGxsOiB7IHg6IHRoaXMuZXh0ZXJpb3JSaW5nLmJib3gubGwueCwgeTogdGhpcy5leHRlcmlvclJpbmcuYmJveC5sbC55IH0sXG4gICAgICAgICAgICB1cjogeyB4OiB0aGlzLmV4dGVyaW9yUmluZy5iYm94LnVyLngsIHk6IHRoaXMuZXh0ZXJpb3JSaW5nLmJib3gudXIueSB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmludGVyaW9yUmluZ3MgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDEsIGlNYXggPSBnZW9tUG9seS5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJpbmcgPSBuZXcgUmluZ0luKGdlb21Qb2x5W2ldLCB0aGlzLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAocmluZy5iYm94LmxsLnguaXNMZXNzVGhhbih0aGlzLmJib3gubGwueCkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LmxsLnggPSByaW5nLmJib3gubGwueDtcbiAgICAgICAgICAgIGlmIChyaW5nLmJib3gubGwueS5pc0xlc3NUaGFuKHRoaXMuYmJveC5sbC55KSlcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gubGwueSA9IHJpbmcuYmJveC5sbC55O1xuICAgICAgICAgICAgaWYgKHJpbmcuYmJveC51ci54LmlzR3JlYXRlclRoYW4odGhpcy5iYm94LnVyLngpKVxuICAgICAgICAgICAgICAgIHRoaXMuYmJveC51ci54ID0gcmluZy5iYm94LnVyLng7XG4gICAgICAgICAgICBpZiAocmluZy5iYm94LnVyLnkuaXNHcmVhdGVyVGhhbih0aGlzLmJib3gudXIueSkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LnVyLnkgPSByaW5nLmJib3gudXIueTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJpb3JSaW5ncy5wdXNoKHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGlQb2x5ID0gbXVsdGlQb2x5O1xuICAgIH1cbiAgICBnZXRTd2VlcEV2ZW50cygpIHtcbiAgICAgICAgY29uc3Qgc3dlZXBFdmVudHMgPSB0aGlzLmV4dGVyaW9yUmluZy5nZXRTd2VlcEV2ZW50cygpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IHRoaXMuaW50ZXJpb3JSaW5ncy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJpbmdTd2VlcEV2ZW50cyA9IHRoaXMuaW50ZXJpb3JSaW5nc1tpXS5nZXRTd2VlcEV2ZW50cygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIGpNYXggPSByaW5nU3dlZXBFdmVudHMubGVuZ3RoOyBqIDwgak1heDsgaisrKSB7XG4gICAgICAgICAgICAgICAgc3dlZXBFdmVudHMucHVzaChyaW5nU3dlZXBFdmVudHNbal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzd2VlcEV2ZW50cztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTXVsdGlQb2x5SW4ge1xuICAgIGlzU3ViamVjdDtcbiAgICBwb2x5cztcbiAgICBiYm94O1xuICAgIGNvbnN0cnVjdG9yKGdlb20sIGlzU3ViamVjdCkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ2VvbSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IGdlb21ldHJ5IGlzIG5vdCBhIHZhbGlkIFBvbHlnb24gb3IgTXVsdGlQb2x5Z29uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgaW5wdXQgbG9va3MgbGlrZSBhIHBvbHlnb24sIGNvbnZlcnQgaXQgdG8gYSBtdWx0aXBvbHlnb25cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZ2VvbVswXVswXVswXSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBnZW9tID0gW2dlb21dO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgLy8gVGhlIGlucHV0IGlzIGVpdGhlciBtYWxmb3JtZWQgb3IgaGFzIGVtcHR5IGFycmF5cy5cbiAgICAgICAgICAgIC8vIEluIGVpdGhlciBjYXNlLCBpdCB3aWxsIGJlIGhhbmRsZWQgbGF0ZXIgb24uXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb2x5cyA9IFtdO1xuICAgICAgICB0aGlzLmJib3ggPSB7XG4gICAgICAgICAgICBsbDogeyB4OiBuZXcgQmlnTnVtYmVyKE51bWJlci5QT1NJVElWRV9JTkZJTklUWSksIHk6IG5ldyBCaWdOdW1iZXIoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB9LFxuICAgICAgICAgICAgdXI6IHsgeDogbmV3IEJpZ051bWJlcihOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpLCB5OiBuZXcgQmlnTnVtYmVyKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSkgfSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBnZW9tLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9seSA9IG5ldyBQb2x5SW4oZ2VvbVtpXSwgdGhpcyk7XG4gICAgICAgICAgICBpZiAocG9seS5iYm94LmxsLnguaXNMZXNzVGhhbih0aGlzLmJib3gubGwueCkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LmxsLnggPSBwb2x5LmJib3gubGwueDtcbiAgICAgICAgICAgIGlmIChwb2x5LmJib3gubGwueS5pc0xlc3NUaGFuKHRoaXMuYmJveC5sbC55KSlcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gubGwueSA9IHBvbHkuYmJveC5sbC55O1xuICAgICAgICAgICAgaWYgKHBvbHkuYmJveC51ci54LmlzR3JlYXRlclRoYW4odGhpcy5iYm94LnVyLngpKVxuICAgICAgICAgICAgICAgIHRoaXMuYmJveC51ci54ID0gcG9seS5iYm94LnVyLng7XG4gICAgICAgICAgICBpZiAocG9seS5iYm94LnVyLnkuaXNHcmVhdGVyVGhhbih0aGlzLmJib3gudXIueSkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LnVyLnkgPSBwb2x5LmJib3gudXIueTtcbiAgICAgICAgICAgIHRoaXMucG9seXMucHVzaChwb2x5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3ViamVjdCA9IGlzU3ViamVjdDtcbiAgICB9XG4gICAgZ2V0U3dlZXBFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IHN3ZWVwRXZlbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gdGhpcy5wb2x5cy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbHlTd2VlcEV2ZW50cyA9IHRoaXMucG9seXNbaV0uZ2V0U3dlZXBFdmVudHMoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBqTWF4ID0gcG9seVN3ZWVwRXZlbnRzLmxlbmd0aDsgaiA8IGpNYXg7IGorKykge1xuICAgICAgICAgICAgICAgIHN3ZWVwRXZlbnRzLnB1c2gocG9seVN3ZWVwRXZlbnRzW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3dlZXBFdmVudHM7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IHByZWNpc2lvbiB9IGZyb20gXCIuL3ByZWNpc2lvbi5qc1wiO1xuaW1wb3J0IFN3ZWVwRXZlbnQgZnJvbSBcIi4vc3dlZXAtZXZlbnQuanNcIjtcbmV4cG9ydCBjbGFzcyBSaW5nT3V0IHtcbiAgICBldmVudHM7XG4gICAgcG9seTtcbiAgICBfaXNFeHRlcmlvclJpbmc7XG4gICAgX2VuY2xvc2luZ1Jpbmc7XG4gICAgLyogR2l2ZW4gdGhlIHNlZ21lbnRzIGZyb20gdGhlIHN3ZWVwIGxpbmUgcGFzcywgY29tcHV0ZSAmIHJldHVybiBhIHNlcmllc1xuICAgICAqIG9mIGNsb3NlZCByaW5ncyBmcm9tIGFsbCB0aGUgc2VnbWVudHMgbWFya2VkIHRvIGJlIHBhcnQgb2YgdGhlIHJlc3VsdCAqL1xuICAgIHN0YXRpYyBmYWN0b3J5KGFsbFNlZ21lbnRzKSB7XG4gICAgICAgIGNvbnN0IHJpbmdzT3V0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gYWxsU2VnbWVudHMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gYWxsU2VnbWVudHNbaV07XG4gICAgICAgICAgICBpZiAoIXNlZ21lbnQuaXNJblJlc3VsdCgpIHx8IHNlZ21lbnQucmluZ091dClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBwcmV2RXZlbnQgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGV2ZW50ID0gc2VnbWVudC5sZWZ0U0U7XG4gICAgICAgICAgICBsZXQgbmV4dEV2ZW50ID0gc2VnbWVudC5yaWdodFNFO1xuICAgICAgICAgICAgY29uc3QgZXZlbnRzID0gW2V2ZW50XTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0aW5nUG9pbnQgPSBldmVudC5wb2ludDtcbiAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvbkxFcyA9IFtdO1xuICAgICAgICAgICAgLyogV2FsayB0aGUgY2hhaW4gb2YgbGlua2VkIGV2ZW50cyB0byBmb3JtIGEgY2xvc2VkIHJpbmcgKi9cbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgcHJldkV2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBuZXh0RXZlbnQ7XG4gICAgICAgICAgICAgICAgZXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgICAgIC8qIElzIHRoZSByaW5nIGNvbXBsZXRlPyAqL1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5wb2ludCA9PT0gc3RhcnRpbmdQb2ludClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXZhaWxhYmxlTEVzID0gZXZlbnQuZ2V0QXZhaWxhYmxlTGlua2VkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgIC8qIERpZCB3ZSBoaXQgYSBkZWFkIGVuZD8gVGhpcyBzaG91bGRuJ3QgaGFwcGVuLiBJbmRpY2F0ZXMgc29tZSBlYXJsaWVyXG4gICAgICAgICAgICAgICAgICAgICAqIHBhcnQgb2YgdGhlIGFsZ29yaXRobSBtYWxmdW5jdGlvbmVkLi4uIHBsZWFzZSBmaWxlIGEgYnVnIHJlcG9ydC4gKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJsZUxFcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0UHQgPSBldmVudHNbMF0ucG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UHQgPSBldmVudHNbZXZlbnRzLmxlbmd0aCAtIDFdLnBvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY29tcGxldGUgb3V0cHV0IHJpbmcgc3RhcnRpbmcgYXQgWyR7Zmlyc3RQdC54fSxgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgICR7Zmlyc3RQdC55fV0uIExhc3QgbWF0Y2hpbmcgc2VnbWVudCBmb3VuZCBlbmRzIGF0YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCBbJHtsYXN0UHQueH0sICR7bGFzdFB0Lnl9XS5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBPbmx5IG9uZSB3YXkgdG8gZ28sIHNvIGNvdGludWUgb24gdGhlIHBhdGggKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJsZUxFcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRFdmVudCA9IGF2YWlsYWJsZUxFc1swXS5vdGhlclNFO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogV2UgbXVzdCBoYXZlIGFuIGludGVyc2VjdGlvbi4gQ2hlY2sgZm9yIGEgY29tcGxldGVkIGxvb3AgKi9cbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4TEUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgak1heCA9IGludGVyc2VjdGlvbkxFcy5sZW5ndGg7IGogPCBqTWF4OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3Rpb25MRXNbal0ucG9pbnQgPT09IGV2ZW50LnBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhMRSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogRm91bmQgYSBjb21wbGV0ZWQgbG9vcC4gQ3V0IHRoYXQgb2ZmIGFuZCBtYWtlIGEgcmluZyAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXhMRSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uTEUgPSBpbnRlcnNlY3Rpb25MRXMuc3BsaWNlKGluZGV4TEUpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmluZ0V2ZW50cyA9IGV2ZW50cy5zcGxpY2UoaW50ZXJzZWN0aW9uTEUuaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmluZ0V2ZW50cy51bnNoaWZ0KHJpbmdFdmVudHNbMF0ub3RoZXJTRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByaW5nc091dC5wdXNoKG5ldyBSaW5nT3V0KHJpbmdFdmVudHMucmV2ZXJzZSgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiByZWdpc3RlciB0aGUgaW50ZXJzZWN0aW9uICovXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbkxFcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBldmVudHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IGV2ZW50LnBvaW50LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLyogQ2hvb3NlIHRoZSBsZWZ0LW1vc3Qgb3B0aW9uIHRvIGNvbnRpbnVlIHRoZSB3YWxrICovXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhcmF0b3IgPSBldmVudC5nZXRMZWZ0bW9zdENvbXBhcmF0b3IocHJldkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dEV2ZW50ID0gYXZhaWxhYmxlTEVzLnNvcnQoY29tcGFyYXRvcilbMF0ub3RoZXJTRTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmluZ3NPdXQucHVzaChuZXcgUmluZ091dChldmVudHMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmluZ3NPdXQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGV2ZW50cykge1xuICAgICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBldmVudHMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBldmVudHNbaV0uc2VnbWVudC5yaW5nT3V0ID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvbHkgPSBudWxsO1xuICAgIH1cbiAgICBnZXRHZW9tKCkge1xuICAgICAgICAvLyBSZW1vdmUgc3VwZXJmbHVvdXMgcG9pbnRzIChpZSBleHRyYSBwb2ludHMgYWxvbmcgYSBzdHJhaWdodCBsaW5lKSxcbiAgICAgICAgbGV0IHByZXZQdCA9IHRoaXMuZXZlbnRzWzBdLnBvaW50O1xuICAgICAgICBjb25zdCBwb2ludHMgPSBbcHJldlB0XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDEsIGlNYXggPSB0aGlzLmV2ZW50cy5sZW5ndGggLSAxOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwdCA9IHRoaXMuZXZlbnRzW2ldLnBvaW50O1xuICAgICAgICAgICAgY29uc3QgbmV4dFB0ID0gdGhpcy5ldmVudHNbaSArIDFdLnBvaW50O1xuICAgICAgICAgICAgaWYgKHByZWNpc2lvbi5vcmllbnQocHQsIHByZXZQdCwgbmV4dFB0KSA9PT0gMClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHB0KTtcbiAgICAgICAgICAgIHByZXZQdCA9IHB0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHJpbmcgd2FzIGFsbCAod2l0aGluIHJvdW5kaW5nIGVycm9yIG9mIGFuZ2xlIGNhbGMpIGNvbGluZWFyIHBvaW50c1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAvLyBjaGVjayBpZiB0aGUgc3RhcnRpbmcgcG9pbnQgaXMgbmVjZXNzYXJ5XG4gICAgICAgIGNvbnN0IHB0ID0gcG9pbnRzWzBdO1xuICAgICAgICBjb25zdCBuZXh0UHQgPSBwb2ludHNbMV07XG4gICAgICAgIGlmIChwcmVjaXNpb24ub3JpZW50KHB0LCBwcmV2UHQsIG5leHRQdCkgPT09IDApXG4gICAgICAgICAgICBwb2ludHMuc2hpZnQoKTtcbiAgICAgICAgcG9pbnRzLnB1c2gocG9pbnRzWzBdKTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IHRoaXMuaXNFeHRlcmlvclJpbmcoKSA/IDEgOiAtMTtcbiAgICAgICAgY29uc3QgaVN0YXJ0ID0gdGhpcy5pc0V4dGVyaW9yUmluZygpID8gMCA6IHBvaW50cy5sZW5ndGggLSAxO1xuICAgICAgICBjb25zdCBpRW5kID0gdGhpcy5pc0V4dGVyaW9yUmluZygpID8gcG9pbnRzLmxlbmd0aCA6IC0xO1xuICAgICAgICBjb25zdCBvcmRlcmVkUG9pbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSBpU3RhcnQ7IGkgIT0gaUVuZDsgaSArPSBzdGVwKVxuICAgICAgICAgICAgb3JkZXJlZFBvaW50cy5wdXNoKFtwb2ludHNbaV0ueC50b051bWJlcigpLCBwb2ludHNbaV0ueS50b051bWJlcigpXSk7XG4gICAgICAgIHJldHVybiBvcmRlcmVkUG9pbnRzO1xuICAgIH1cbiAgICBpc0V4dGVyaW9yUmluZygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzRXh0ZXJpb3JSaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuY2xvc2luZyA9IHRoaXMuZW5jbG9zaW5nUmluZygpO1xuICAgICAgICAgICAgdGhpcy5faXNFeHRlcmlvclJpbmcgPSBlbmNsb3NpbmcgPyAhZW5jbG9zaW5nLmlzRXh0ZXJpb3JSaW5nKCkgOiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0V4dGVyaW9yUmluZztcbiAgICB9XG4gICAgZW5jbG9zaW5nUmluZygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2VuY2xvc2luZ1JpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fZW5jbG9zaW5nUmluZyA9IHRoaXMuX2NhbGNFbmNsb3NpbmdSaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuY2xvc2luZ1Jpbmc7XG4gICAgfVxuICAgIC8qIFJldHVybnMgdGhlIHJpbmcgdGhhdCBlbmNsb3NlcyB0aGlzIG9uZSwgaWYgYW55ICovXG4gICAgX2NhbGNFbmNsb3NpbmdSaW5nKCkge1xuICAgICAgICAvLyBzdGFydCB3aXRoIHRoZSBlYWxpZXIgc3dlZXAgbGluZSBldmVudCBzbyB0aGF0IHRoZSBwcmV2U2VnXG4gICAgICAgIC8vIGNoYWluIGRvZXNuJ3QgbGVhZCB1cyBpbnNpZGUgb2YgYSBsb29wIG9mIG91cnNcbiAgICAgICAgbGV0IGxlZnRNb3N0RXZ0ID0gdGhpcy5ldmVudHNbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAxLCBpTWF4ID0gdGhpcy5ldmVudHMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBldnQgPSB0aGlzLmV2ZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChTd2VlcEV2ZW50LmNvbXBhcmUobGVmdE1vc3RFdnQsIGV2dCkgPiAwKVxuICAgICAgICAgICAgICAgIGxlZnRNb3N0RXZ0ID0gZXZ0O1xuICAgICAgICB9XG4gICAgICAgIGxldCBwcmV2U2VnID0gbGVmdE1vc3RFdnQuc2VnbWVudC5wcmV2SW5SZXN1bHQoKTtcbiAgICAgICAgbGV0IHByZXZQcmV2U2VnID0gcHJldlNlZyA/IHByZXZTZWcucHJldkluUmVzdWx0KCkgOiBudWxsO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gbm8gc2VnbWVudCBmb3VuZCwgdGh1cyBubyByaW5nIGNhbiBlbmNsb3NlIHVzXG4gICAgICAgICAgICBpZiAoIXByZXZTZWcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAvLyBubyBzZWdtZW50cyBiZWxvdyBwcmV2IHNlZ21lbnQgZm91bmQsIHRodXMgdGhlIHJpbmcgb2YgdGhlIHByZXZcbiAgICAgICAgICAgIC8vIHNlZ21lbnQgbXVzdCBsb29wIGJhY2sgYXJvdW5kIGFuZCBlbmNsb3NlIHVzXG4gICAgICAgICAgICBpZiAoIXByZXZQcmV2U2VnKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2U2VnLnJpbmdPdXQ7XG4gICAgICAgICAgICAvLyBpZiB0aGUgdHdvIHNlZ21lbnRzIGFyZSBvZiBkaWZmZXJlbnQgcmluZ3MsIHRoZSByaW5nIG9mIHRoZSBwcmV2XG4gICAgICAgICAgICAvLyBzZWdtZW50IG11c3QgZWl0aGVyIGxvb3AgYXJvdW5kIHVzIG9yIHRoZSByaW5nIG9mIHRoZSBwcmV2IHByZXZcbiAgICAgICAgICAgIC8vIHNlZywgd2hpY2ggd291bGQgbWFrZSB1cyBhbmQgdGhlIHJpbmcgb2YgdGhlIHByZXYgcGVlcnNcbiAgICAgICAgICAgIGlmIChwcmV2UHJldlNlZy5yaW5nT3V0ICE9PSBwcmV2U2VnLnJpbmdPdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldlByZXZTZWcucmluZ091dD8uZW5jbG9zaW5nUmluZygpICE9PSBwcmV2U2VnLnJpbmdPdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZTZWcucmluZ091dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldlNlZy5yaW5nT3V0Py5lbmNsb3NpbmdSaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0d28gc2VnbWVudHMgYXJlIGZyb20gdGhlIHNhbWUgcmluZywgc28gdGhpcyB3YXMgYSBwZW5pc3VsYVxuICAgICAgICAgICAgLy8gb2YgdGhhdCByaW5nLiBpdGVyYXRlIGRvd253YXJkLCBrZWVwIHNlYXJjaGluZ1xuICAgICAgICAgICAgcHJldlNlZyA9IHByZXZQcmV2U2VnLnByZXZJblJlc3VsdCgpO1xuICAgICAgICAgICAgcHJldlByZXZTZWcgPSBwcmV2U2VnID8gcHJldlNlZy5wcmV2SW5SZXN1bHQoKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUG9seU91dCB7XG4gICAgZXh0ZXJpb3JSaW5nO1xuICAgIGludGVyaW9yUmluZ3M7XG4gICAgY29uc3RydWN0b3IoZXh0ZXJpb3JSaW5nKSB7XG4gICAgICAgIHRoaXMuZXh0ZXJpb3JSaW5nID0gZXh0ZXJpb3JSaW5nO1xuICAgICAgICBleHRlcmlvclJpbmcucG9seSA9IHRoaXM7XG4gICAgICAgIHRoaXMuaW50ZXJpb3JSaW5ncyA9IFtdO1xuICAgIH1cbiAgICBhZGRJbnRlcmlvcihyaW5nKSB7XG4gICAgICAgIHRoaXMuaW50ZXJpb3JSaW5ncy5wdXNoKHJpbmcpO1xuICAgICAgICByaW5nLnBvbHkgPSB0aGlzO1xuICAgIH1cbiAgICBnZXRHZW9tKCkge1xuICAgICAgICBjb25zdCBnZW9tMCA9IHRoaXMuZXh0ZXJpb3JSaW5nLmdldEdlb20oKTtcbiAgICAgICAgLy8gZXh0ZXJpb3IgcmluZyB3YXMgYWxsICh3aXRoaW4gcm91bmRpbmcgZXJyb3Igb2YgYW5nbGUgY2FsYykgY29saW5lYXIgcG9pbnRzXG4gICAgICAgIGlmIChnZW9tMCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBnZW9tID0gW2dlb20wXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSB0aGlzLmludGVyaW9yUmluZ3MubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByaW5nR2VvbSA9IHRoaXMuaW50ZXJpb3JSaW5nc1tpXS5nZXRHZW9tKCk7XG4gICAgICAgICAgICAvLyBpbnRlcmlvciByaW5nIHdhcyBhbGwgKHdpdGhpbiByb3VuZGluZyBlcnJvciBvZiBhbmdsZSBjYWxjKSBjb2xpbmVhciBwb2ludHNcbiAgICAgICAgICAgIGlmIChyaW5nR2VvbSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGdlb20ucHVzaChyaW5nR2VvbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlb207XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE11bHRpUG9seU91dCB7XG4gICAgcmluZ3M7XG4gICAgcG9seXM7XG4gICAgY29uc3RydWN0b3IocmluZ3MpIHtcbiAgICAgICAgdGhpcy5yaW5ncyA9IHJpbmdzO1xuICAgICAgICB0aGlzLnBvbHlzID0gdGhpcy5fY29tcG9zZVBvbHlzKHJpbmdzKTtcbiAgICB9XG4gICAgZ2V0R2VvbSgpIHtcbiAgICAgICAgY29uc3QgZ2VvbSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IHRoaXMucG9seXMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2x5R2VvbSA9IHRoaXMucG9seXNbaV0uZ2V0R2VvbSgpO1xuICAgICAgICAgICAgLy8gZXh0ZXJpb3IgcmluZyB3YXMgYWxsICh3aXRoaW4gcm91bmRpbmcgZXJyb3Igb2YgYW5nbGUgY2FsYykgY29saW5lYXIgcG9pbnRzXG4gICAgICAgICAgICBpZiAocG9seUdlb20gPT09IG51bGwpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBnZW9tLnB1c2gocG9seUdlb20pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW9tO1xuICAgIH1cbiAgICBfY29tcG9zZVBvbHlzKHJpbmdzKSB7XG4gICAgICAgIGNvbnN0IHBvbHlzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gcmluZ3MubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByaW5nID0gcmluZ3NbaV07XG4gICAgICAgICAgICBpZiAocmluZy5wb2x5KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHJpbmcuaXNFeHRlcmlvclJpbmcoKSlcbiAgICAgICAgICAgICAgICBwb2x5cy5wdXNoKG5ldyBQb2x5T3V0KHJpbmcpKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuY2xvc2luZ1JpbmcgPSByaW5nLmVuY2xvc2luZ1JpbmcoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWVuY2xvc2luZ1Jpbmc/LnBvbHkpXG4gICAgICAgICAgICAgICAgICAgIHBvbHlzLnB1c2gobmV3IFBvbHlPdXQoZW5jbG9zaW5nUmluZykpO1xuICAgICAgICAgICAgICAgIGVuY2xvc2luZ1Jpbmc/LnBvbHk/LmFkZEludGVyaW9yKHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb2x5cztcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgU3BsYXlUcmVlU2V0IH0gZnJvbSBcInNwbGF5dHJlZS10c1wiO1xuaW1wb3J0IFNlZ21lbnQgZnJvbSBcIi4vc2VnbWVudC5qc1wiO1xuaW1wb3J0IFN3ZWVwRXZlbnQgZnJvbSBcIi4vc3dlZXAtZXZlbnQuanNcIjtcbi8qKlxuICogTk9URTogIFdlIG11c3QgYmUgY2FyZWZ1bCBub3QgdG8gY2hhbmdlIGFueSBzZWdtZW50cyB3aGlsZVxuICogICAgICAgIHRoZXkgYXJlIGluIHRoZSBTcGxheVRyZWUuIEFGQUlLLCB0aGVyZSdzIG5vIHdheSB0byB0ZWxsXG4gKiAgICAgICAgdGhlIHRyZWUgdG8gcmViYWxhbmNlIGl0c2VsZiAtIHRodXMgYmVmb3JlIHNwbGl0dGluZ1xuICogICAgICAgIGEgc2VnbWVudCB0aGF0J3MgaW4gdGhlIHRyZWUsIHdlIHJlbW92ZSBpdCBmcm9tIHRoZSB0cmVlLFxuICogICAgICAgIGRvIHRoZSBzcGxpdCwgdGhlbiByZS1pbnNlcnQgaXQuIChFdmVuIHRob3VnaCBzcGxpdHRpbmcgYVxuICogICAgICAgIHNlZ21lbnQgKnNob3VsZG4ndCogY2hhbmdlIGl0cyBjb3JyZWN0IHBvc2l0aW9uIGluIHRoZVxuICogICAgICAgIHN3ZWVwIGxpbmUgdHJlZSwgdGhlIHJlYWxpdHkgaXMgYmVjYXVzZSBvZiByb3VuZGluZyBlcnJvcnMsXG4gKiAgICAgICAgaXQgc29tZXRpbWVzIGRvZXMuKVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTd2VlcExpbmUge1xuICAgIHF1ZXVlO1xuICAgIHRyZWU7XG4gICAgc2VnbWVudHM7XG4gICAgY29uc3RydWN0b3IocXVldWUsIGNvbXBhcmF0b3IgPSBTZWdtZW50LmNvbXBhcmUpIHtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IHF1ZXVlO1xuICAgICAgICB0aGlzLnRyZWUgPSBuZXcgU3BsYXlUcmVlU2V0KGNvbXBhcmF0b3IpO1xuICAgICAgICB0aGlzLnNlZ21lbnRzID0gW107XG4gICAgfVxuICAgIHByb2Nlc3MoZXZlbnQpIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudCA9IGV2ZW50LnNlZ21lbnQ7XG4gICAgICAgIGNvbnN0IG5ld0V2ZW50cyA9IFtdO1xuICAgICAgICAvLyBpZiB3ZSd2ZSBhbHJlYWR5IGJlZW4gY29uc3VtZWQgYnkgYW5vdGhlciBzZWdtZW50LFxuICAgICAgICAvLyBjbGVhbiB1cCBvdXIgYm9keSBwYXJ0cyBhbmQgZ2V0IG91dFxuICAgICAgICBpZiAoZXZlbnQuY29uc3VtZWRCeSkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmlzTGVmdClcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLmRlbGV0ZShldmVudC5vdGhlclNFKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLnRyZWUuZGVsZXRlKHNlZ21lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0V2ZW50cztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQuaXNMZWZ0KVxuICAgICAgICAgICAgdGhpcy50cmVlLmFkZChzZWdtZW50KTtcbiAgICAgICAgbGV0IHByZXZTZWcgPSBzZWdtZW50O1xuICAgICAgICBsZXQgbmV4dFNlZyA9IHNlZ21lbnQ7XG4gICAgICAgIC8vIHNraXAgY29uc3VtZWQgc2VnbWVudHMgc3RpbGwgaW4gdHJlZVxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBwcmV2U2VnID0gdGhpcy50cmVlLmxhc3RCZWZvcmUocHJldlNlZyk7XG4gICAgICAgIH0gd2hpbGUgKHByZXZTZWcgIT0gbnVsbCAmJiBwcmV2U2VnLmNvbnN1bWVkQnkgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgLy8gc2tpcCBjb25zdW1lZCBzZWdtZW50cyBzdGlsbCBpbiB0cmVlXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIG5leHRTZWcgPSB0aGlzLnRyZWUuZmlyc3RBZnRlcihuZXh0U2VnKTtcbiAgICAgICAgfSB3aGlsZSAobmV4dFNlZyAhPSBudWxsICYmIG5leHRTZWcuY29uc3VtZWRCeSAhPSB1bmRlZmluZWQpO1xuICAgICAgICBpZiAoZXZlbnQuaXNMZWZ0KSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgaW50ZXJzZWN0aW9ucyBhZ2FpbnN0IHRoZSBwcmV2aW91cyBzZWdtZW50IGluIHRoZSBzd2VlcCBsaW5lXG4gICAgICAgICAgICBsZXQgcHJldk15U3BsaXR0ZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHByZXZTZWcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2SW50ZXIgPSBwcmV2U2VnLmdldEludGVyc2VjdGlvbihzZWdtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAocHJldkludGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VnbWVudC5pc0FuRW5kcG9pbnQocHJldkludGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZNeVNwbGl0dGVyID0gcHJldkludGVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXZTZWcuaXNBbkVuZHBvaW50KHByZXZJbnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0V2ZW50c0Zyb21TcGxpdCA9IHRoaXMuX3NwbGl0U2FmZWx5KHByZXZTZWcsIHByZXZJbnRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG5ld0V2ZW50c0Zyb21TcGxpdC5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFdmVudHMucHVzaChuZXdFdmVudHNGcm9tU3BsaXRbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGludGVyc2VjdGlvbnMgYWdhaW5zdCB0aGUgbmV4dCBzZWdtZW50IGluIHRoZSBzd2VlcCBsaW5lXG4gICAgICAgICAgICBsZXQgbmV4dE15U3BsaXR0ZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKG5leHRTZWcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0SW50ZXIgPSBuZXh0U2VnLmdldEludGVyc2VjdGlvbihzZWdtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dEludGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VnbWVudC5pc0FuRW5kcG9pbnQobmV4dEludGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRNeVNwbGl0dGVyID0gbmV4dEludGVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHRTZWcuaXNBbkVuZHBvaW50KG5leHRJbnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0V2ZW50c0Zyb21TcGxpdCA9IHRoaXMuX3NwbGl0U2FmZWx5KG5leHRTZWcsIG5leHRJbnRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG5ld0V2ZW50c0Zyb21TcGxpdC5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFdmVudHMucHVzaChuZXdFdmVudHNGcm9tU3BsaXRbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRm9yIHNpbXBsaWNpdHksIGV2ZW4gaWYgd2UgZmluZCBtb3JlIHRoYW4gb25lIGludGVyc2VjdGlvbiB3ZSBvbmx5XG4gICAgICAgICAgICAvLyBzcGlsdCBvbiB0aGUgJ2VhcmxpZXN0JyAoc3dlZXAtbGluZSBzdHlsZSkgb2YgdGhlIGludGVyc2VjdGlvbnMuXG4gICAgICAgICAgICAvLyBUaGUgb3RoZXIgaW50ZXJzZWN0aW9uIHdpbGwgYmUgaGFuZGxlZCBpbiBhIGZ1dHVyZSBwcm9jZXNzKCkuXG4gICAgICAgICAgICBpZiAocHJldk15U3BsaXR0ZXIgIT09IG51bGwgfHwgbmV4dE15U3BsaXR0ZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgbXlTcGxpdHRlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZNeVNwbGl0dGVyID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBteVNwbGl0dGVyID0gbmV4dE15U3BsaXR0ZXI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dE15U3BsaXR0ZXIgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIG15U3BsaXR0ZXIgPSBwcmV2TXlTcGxpdHRlcjtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY21wU3BsaXR0ZXJzID0gU3dlZXBFdmVudC5jb21wYXJlUG9pbnRzKHByZXZNeVNwbGl0dGVyLCBuZXh0TXlTcGxpdHRlcik7XG4gICAgICAgICAgICAgICAgICAgIG15U3BsaXR0ZXIgPSBjbXBTcGxpdHRlcnMgPD0gMCA/IHByZXZNeVNwbGl0dGVyIDogbmV4dE15U3BsaXR0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJvdW5kaW5nIGVycm9ycyBjYW4gY2F1c2UgY2hhbmdlcyBpbiBvcmRlcmluZyxcbiAgICAgICAgICAgICAgICAvLyBzbyByZW1vdmUgYWZlY3RlZCBzZWdtZW50cyBhbmQgcmlnaHQgc3dlZXAgZXZlbnRzIGJlZm9yZSBzcGxpdHRpbmdcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLmRlbGV0ZShzZWdtZW50LnJpZ2h0U0UpO1xuICAgICAgICAgICAgICAgIG5ld0V2ZW50cy5wdXNoKHNlZ21lbnQucmlnaHRTRSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RXZlbnRzRnJvbVNwbGl0ID0gc2VnbWVudC5zcGxpdChteVNwbGl0dGVyKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG5ld0V2ZW50c0Zyb21TcGxpdC5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RXZlbnRzLnB1c2gobmV3RXZlbnRzRnJvbVNwbGl0W2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3RXZlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBzb21lIGludGVyc2VjdGlvbnMsIHNvIHJlLWRvIHRoZSBjdXJyZW50IGV2ZW50IHRvXG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHN3ZWVwIGxpbmUgb3JkZXJpbmcgaXMgdG90YWxseSBjb25zaXN0ZW50IGZvciBsYXRlclxuICAgICAgICAgICAgICAgIC8vIHVzZSB3aXRoIHRoZSBzZWdtZW50ICdwcmV2JyBwb2ludGVyc1xuICAgICAgICAgICAgICAgIHRoaXMudHJlZS5kZWxldGUoc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgbmV3RXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZG9uZSB3aXRoIGxlZnQgZXZlbnRcbiAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgc2VnbWVudC5wcmV2ID0gcHJldlNlZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGV2ZW50LmlzUmlnaHRcbiAgICAgICAgICAgIC8vIHNpbmNlIHdlJ3JlIGFib3V0IHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgc3dlZXAgbGluZSwgY2hlY2sgZm9yXG4gICAgICAgICAgICAvLyBpbnRlcnNlY3Rpb25zIGJldHdlZW4gb3VyIHByZXZpb3VzIGFuZCBuZXh0IHNlZ21lbnRzXG4gICAgICAgICAgICBpZiAocHJldlNlZyAmJiBuZXh0U2VnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXIgPSBwcmV2U2VnLmdldEludGVyc2VjdGlvbihuZXh0U2VnKTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2U2VnLmlzQW5FbmRwb2ludChpbnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0V2ZW50c0Zyb21TcGxpdCA9IHRoaXMuX3NwbGl0U2FmZWx5KHByZXZTZWcsIGludGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gbmV3RXZlbnRzRnJvbVNwbGl0Lmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0V2ZW50cy5wdXNoKG5ld0V2ZW50c0Zyb21TcGxpdFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0U2VnLmlzQW5FbmRwb2ludChpbnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0V2ZW50c0Zyb21TcGxpdCA9IHRoaXMuX3NwbGl0U2FmZWx5KG5leHRTZWcsIGludGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gbmV3RXZlbnRzRnJvbVNwbGl0Lmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0V2ZW50cy5wdXNoKG5ld0V2ZW50c0Zyb21TcGxpdFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyZWUuZGVsZXRlKHNlZ21lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdFdmVudHM7XG4gICAgfVxuICAgIC8qIFNhZmVseSBzcGxpdCBhIHNlZ21lbnQgdGhhdCBpcyBjdXJyZW50bHkgaW4gdGhlIGRhdGFzdHJ1Y3R1cmVzXG4gICAgICogSUUgLSBhIHNlZ21lbnQgb3RoZXIgdGhhbiB0aGUgb25lIHRoYXQgaXMgY3VycmVudGx5IGJlaW5nIHByb2Nlc3NlZC4gKi9cbiAgICBfc3BsaXRTYWZlbHkoc2VnLCBwdCkge1xuICAgICAgICAvLyBSb3VuZGluZyBlcnJvcnMgY2FuIGNhdXNlIGNoYW5nZXMgaW4gb3JkZXJpbmcsXG4gICAgICAgIC8vIHNvIHJlbW92ZSBhZmVjdGVkIHNlZ21lbnRzIGFuZCByaWdodCBzd2VlcCBldmVudHMgYmVmb3JlIHNwbGl0dGluZ1xuICAgICAgICAvLyByZW1vdmVOb2RlKCkgZG9lc24ndCB3b3JrLCBzbyBoYXZlIHJlLWZpbmQgdGhlIHNlZ1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdzhyL3NwbGF5LXRyZWUvcHVsbC81XG4gICAgICAgIHRoaXMudHJlZS5kZWxldGUoc2VnKTtcbiAgICAgICAgY29uc3QgcmlnaHRTRSA9IHNlZy5yaWdodFNFO1xuICAgICAgICB0aGlzLnF1ZXVlLmRlbGV0ZShyaWdodFNFKTtcbiAgICAgICAgY29uc3QgbmV3RXZlbnRzID0gc2VnLnNwbGl0KHB0KTtcbiAgICAgICAgbmV3RXZlbnRzLnB1c2gocmlnaHRTRSk7XG4gICAgICAgIC8vIHNwbGl0dGluZyBjYW4gdHJpZ2dlciBjb25zdW1wdGlvblxuICAgICAgICBpZiAoc2VnLmNvbnN1bWVkQnkgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMudHJlZS5hZGQoc2VnKTtcbiAgICAgICAgcmV0dXJuIG5ld0V2ZW50cztcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgU3BsYXlUcmVlU2V0IH0gZnJvbSBcInNwbGF5dHJlZS10c1wiO1xuaW1wb3J0IHsgZ2V0QmJveE92ZXJsYXAgfSBmcm9tIFwiLi9iYm94LmpzXCI7XG5pbXBvcnQgKiBhcyBnZW9tSW4gZnJvbSBcIi4vZ2VvbS1pbi5qc1wiO1xuaW1wb3J0ICogYXMgZ2VvbU91dCBmcm9tIFwiLi9nZW9tLW91dC5qc1wiO1xuaW1wb3J0IHsgcHJlY2lzaW9uIH0gZnJvbSBcIi4vcHJlY2lzaW9uLmpzXCI7XG5pbXBvcnQgU3dlZXBFdmVudCBmcm9tIFwiLi9zd2VlcC1ldmVudC5qc1wiO1xuaW1wb3J0IFN3ZWVwTGluZSBmcm9tIFwiLi9zd2VlcC1saW5lLmpzXCI7XG5leHBvcnQgY2xhc3MgT3BlcmF0aW9uIHtcbiAgICB0eXBlO1xuICAgIG51bU11bHRpUG9seXM7XG4gICAgcnVuKHR5cGUsIGdlb20sIG1vcmVHZW9tcykge1xuICAgICAgICBvcGVyYXRpb24udHlwZSA9IHR5cGU7XG4gICAgICAgIC8qIENvbnZlcnQgaW5wdXRzIHRvIE11bHRpUG9seSBvYmplY3RzICovXG4gICAgICAgIGNvbnN0IG11bHRpcG9seXMgPSBbbmV3IGdlb21Jbi5NdWx0aVBvbHlJbihnZW9tLCB0cnVlKV07XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gbW9yZUdlb21zLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgbXVsdGlwb2x5cy5wdXNoKG5ldyBnZW9tSW4uTXVsdGlQb2x5SW4obW9yZUdlb21zW2ldLCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgICAgIG9wZXJhdGlvbi5udW1NdWx0aVBvbHlzID0gbXVsdGlwb2x5cy5sZW5ndGg7XG4gICAgICAgIC8qIEJCb3ggb3B0aW1pemF0aW9uIGZvciBkaWZmZXJlbmNlIG9wZXJhdGlvblxuICAgICAgICAgKiBJZiB0aGUgYmJveCBvZiBhIG11bHRpcG9seWdvbiB0aGF0J3MgcGFydCBvZiB0aGUgY2xpcHBpbmcgZG9lc24ndFxuICAgICAgICAgKiBpbnRlcnNlY3QgdGhlIGJib3ggb2YgdGhlIHN1YmplY3QgYXQgYWxsLCB3ZSBjYW4ganVzdCBkcm9wIHRoYXRcbiAgICAgICAgICogbXVsdGlwbG95Z29uLiAqL1xuICAgICAgICBpZiAob3BlcmF0aW9uLnR5cGUgPT09IFwiZGlmZmVyZW5jZVwiKSB7XG4gICAgICAgICAgICAvLyBpbiBwbGFjZSByZW1vdmFsXG4gICAgICAgICAgICBjb25zdCBzdWJqZWN0ID0gbXVsdGlwb2x5c1swXTtcbiAgICAgICAgICAgIGxldCBpID0gMTtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgbXVsdGlwb2x5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2V0QmJveE92ZXJsYXAobXVsdGlwb2x5c1tpXS5iYm94LCBzdWJqZWN0LmJib3gpICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBvbHlzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBCQm94IG9wdGltaXphdGlvbiBmb3IgaW50ZXJzZWN0aW9uIG9wZXJhdGlvblxuICAgICAgICAgKiBJZiB3ZSBjYW4gZmluZCBhbnkgcGFpciBvZiBtdWx0aXBvbHlnb25zIHdob3NlIGJib3ggZG9lcyBub3Qgb3ZlcmxhcCxcbiAgICAgICAgICogdGhlbiB0aGUgcmVzdWx0IHdpbGwgYmUgZW1wdHkuICovXG4gICAgICAgIGlmIChvcGVyYXRpb24udHlwZSA9PT0gXCJpbnRlcnNlY3Rpb25cIikge1xuICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBPKG5eMikgaW4gbnVtYmVyIG9mIHBvbHlnb25zLiBCeSBzb3J0aW5nIHRoZSBiYm94ZXMsXG4gICAgICAgICAgICAvLyAgICAgICBpdCBjb3VsZCBiZSBvcHRpbWl6ZWQgdG8gTyhuICogbG4obikpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG11bHRpcG9seXMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXBBID0gbXVsdGlwb2x5c1tpXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDEsIGpNYXggPSBtdWx0aXBvbHlzLmxlbmd0aDsgaiA8IGpNYXg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0QmJveE92ZXJsYXAobXBBLmJib3gsIG11bHRpcG9seXNbal0uYmJveCkgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIFB1dCBzZWdtZW50IGVuZHBvaW50cyBpbiBhIHByaW9yaXR5IHF1ZXVlICovXG4gICAgICAgIGNvbnN0IHF1ZXVlID0gbmV3IFNwbGF5VHJlZVNldChTd2VlcEV2ZW50LmNvbXBhcmUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG11bHRpcG9seXMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzd2VlcEV2ZW50cyA9IG11bHRpcG9seXNbaV0uZ2V0U3dlZXBFdmVudHMoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBqTWF4ID0gc3dlZXBFdmVudHMubGVuZ3RoOyBqIDwgak1heDsgaisrKSB7XG4gICAgICAgICAgICAgICAgcXVldWUuYWRkKHN3ZWVwRXZlbnRzW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBQYXNzIHRoZSBzd2VlcCBsaW5lIG92ZXIgdGhvc2UgZW5kcG9pbnRzICovXG4gICAgICAgIGNvbnN0IHN3ZWVwTGluZSA9IG5ldyBTd2VlcExpbmUocXVldWUpO1xuICAgICAgICBsZXQgZXZ0ID0gbnVsbDtcbiAgICAgICAgaWYgKHF1ZXVlLnNpemUgIT0gMCkge1xuICAgICAgICAgICAgZXZ0ID0gcXVldWUuZmlyc3QoKTtcbiAgICAgICAgICAgIHF1ZXVlLmRlbGV0ZShldnQpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChldnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0V2ZW50cyA9IHN3ZWVwTGluZS5wcm9jZXNzKGV2dCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG5ld0V2ZW50cy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBldnQgPSBuZXdFdmVudHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGV2dC5jb25zdW1lZEJ5ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLmFkZChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHF1ZXVlLnNpemUgIT0gMCkge1xuICAgICAgICAgICAgICAgIGV2dCA9IHF1ZXVlLmZpcnN0KCk7XG4gICAgICAgICAgICAgICAgcXVldWUuZGVsZXRlKGV2dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBldnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGZyZWUgc29tZSBtZW1vcnkgd2UgZG9uJ3QgbmVlZCBhbnltb3JlXG4gICAgICAgIHByZWNpc2lvbi5yZXNldCgpO1xuICAgICAgICAvKiBDb2xsZWN0IGFuZCBjb21waWxlIHNlZ21lbnRzIHdlJ3JlIGtlZXBpbmcgaW50byBhIG11bHRpcG9seWdvbiAqL1xuICAgICAgICBjb25zdCByaW5nc091dCA9IGdlb21PdXQuUmluZ091dC5mYWN0b3J5KHN3ZWVwTGluZS5zZWdtZW50cyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBnZW9tT3V0Lk11bHRpUG9seU91dChyaW5nc091dCk7XG4gICAgICAgIHJldHVybiByZXN1bHQuZ2V0R2VvbSgpO1xuICAgIH1cbn1cbi8vIHNpbmdsZXRvbiBhdmFpbGFibGUgYnkgaW1wb3J0XG5jb25zdCBvcGVyYXRpb24gPSBuZXcgT3BlcmF0aW9uKCk7XG5leHBvcnQgZGVmYXVsdCBvcGVyYXRpb247XG4iLCAiaW1wb3J0IHsgcHJlY2lzaW9uIH0gZnJvbSBcIi4vcHJlY2lzaW9uLmpzXCI7XG5pbXBvcnQgb3BlcmF0aW9uIGZyb20gXCIuL29wZXJhdGlvbi5qc1wiO1xuZXhwb3J0IGNvbnN0IHVuaW9uID0gKGdlb20sIC4uLm1vcmVHZW9tcykgPT4gb3BlcmF0aW9uLnJ1bihcInVuaW9uXCIsIGdlb20sIG1vcmVHZW9tcyk7XG5leHBvcnQgY29uc3QgaW50ZXJzZWN0aW9uID0gKGdlb20sIC4uLm1vcmVHZW9tcykgPT4gb3BlcmF0aW9uLnJ1bihcImludGVyc2VjdGlvblwiLCBnZW9tLCBtb3JlR2VvbXMpO1xuZXhwb3J0IGNvbnN0IHhvciA9IChnZW9tLCAuLi5tb3JlR2VvbXMpID0+IG9wZXJhdGlvbi5ydW4oXCJ4b3JcIiwgZ2VvbSwgbW9yZUdlb21zKTtcbmV4cG9ydCBjb25zdCBkaWZmZXJlbmNlID0gKGdlb20sIC4uLm1vcmVHZW9tcykgPT4gb3BlcmF0aW9uLnJ1bihcImRpZmZlcmVuY2VcIiwgZ2VvbSwgbW9yZUdlb21zKTtcbmV4cG9ydCBjb25zdCBzZXRQcmVjaXNpb24gPSBwcmVjaXNpb24uc2V0O1xuIiwgImltcG9ydCAqIGFzIHBvbHlnb25DbGlwcGluZyBmcm9tICdwb2x5Y2xpcC10cyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBmZWF0dXJlKGdlb20pIHtcbiAgY29uc3QgZmVhdCA9IHsgdHlwZTogJ0ZlYXR1cmUnIH07XG4gIGZlYXQuZ2VvbWV0cnkgPSBnZW9tO1xuICByZXR1cm4gZmVhdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdlb21ldHJ5KGdlb2pzb24pIHtcbiAgaWYgKGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmUnKSByZXR1cm4gZ2VvanNvbi5nZW9tZXRyeTtcbiAgcmV0dXJuIGdlb2pzb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb29yZHMoZ2VvanNvbikge1xuICBpZiAoZ2VvanNvbiAmJiBnZW9qc29uLmdlb21ldHJ5ICYmIGdlb2pzb24uZ2VvbWV0cnkuY29vcmRpbmF0ZXMpXG4gICAgcmV0dXJuIGdlb2pzb24uZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gIHJldHVybiBnZW9qc29uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVyZlBvaW50KGNvb3JkcywgcHJlY2lzaW9uID0gLTEpIHtcbiAgaWYgKHByZWNpc2lvbiA+IC0xKSB7XG4gICAgY29vcmRzWzBdID0gTC5VdGlsLmZvcm1hdE51bShjb29yZHNbMF0sIHByZWNpc2lvbik7XG4gICAgY29vcmRzWzFdID0gTC5VdGlsLmZvcm1hdE51bShjb29yZHNbMV0sIHByZWNpc2lvbik7XG4gIH1cblxuICByZXR1cm4gZmVhdHVyZSh7IHR5cGU6ICdQb2ludCcsIGNvb3JkaW5hdGVzOiBjb29yZHMgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJmTGluZVN0cmluZyhjb29yZHMpIHtcbiAgcmV0dXJuIGZlYXR1cmUoeyB0eXBlOiAnTGluZVN0cmluZycsIGNvb3JkaW5hdGVzOiBjb29yZHMgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJmTXVsdGlMaW5lU3RyaW5nKGNvb3Jkcykge1xuICByZXR1cm4gZmVhdHVyZSh7IHR5cGU6ICdNdWx0aUxpbmVTdHJpbmcnLCBjb29yZGluYXRlczogY29vcmRzIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVyZlBvbHlnb24oY29vcmRzKSB7XG4gIHJldHVybiBmZWF0dXJlKHsgdHlwZTogJ1BvbHlnb24nLCBjb29yZGluYXRlczogY29vcmRzIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVyZk11bHRpUG9seWdvbihjb29yZHMpIHtcbiAgcmV0dXJuIGZlYXR1cmUoeyB0eXBlOiAnTXVsdGlQb2x5Z29uJywgY29vcmRpbmF0ZXM6IGNvb3JkcyB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cmZGZWF0dXJlQ29sbGVjdGlvbihmZWF0dXJlcykge1xuICByZXR1cm4geyB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLCBmZWF0dXJlcyB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0KHBvbHkxLCBwb2x5Mikge1xuICBjb25zdCBnZW9tMSA9IGdldEdlb21ldHJ5KHBvbHkxKTtcbiAgY29uc3QgZ2VvbTIgPSBnZXRHZW9tZXRyeShwb2x5Mik7XG5cbiAgY29uc3QgaW50ZXJzZWN0aW9uID0gcG9seWdvbkNsaXBwaW5nLmludGVyc2VjdGlvbihcbiAgICBnZW9tMS5jb29yZGluYXRlcyxcbiAgICBnZW9tMi5jb29yZGluYXRlc1xuICApO1xuICBpZiAoaW50ZXJzZWN0aW9uLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gIGlmIChpbnRlcnNlY3Rpb24ubGVuZ3RoID09PSAxKSByZXR1cm4gdHVyZlBvbHlnb24oaW50ZXJzZWN0aW9uWzBdKTtcbiAgcmV0dXJuIHR1cmZNdWx0aVBvbHlnb24oaW50ZXJzZWN0aW9uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZlcmVuY2UocG9seWdvbjEsIHBvbHlnb24yKSB7XG4gIGNvbnN0IGdlb20xID0gZ2V0R2VvbWV0cnkocG9seWdvbjEpO1xuICBjb25zdCBnZW9tMiA9IGdldEdlb21ldHJ5KHBvbHlnb24yKTtcblxuICBjb25zdCBkaWZmZXJlbmNlZCA9IHBvbHlnb25DbGlwcGluZy5kaWZmZXJlbmNlKFxuICAgIGdlb20xLmNvb3JkaW5hdGVzLFxuICAgIGdlb20yLmNvb3JkaW5hdGVzXG4gICk7XG4gIGlmIChkaWZmZXJlbmNlZC5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICBpZiAoZGlmZmVyZW5jZWQubGVuZ3RoID09PSAxKSByZXR1cm4gdHVyZlBvbHlnb24oZGlmZmVyZW5jZWRbMF0pO1xuICByZXR1cm4gdHVyZk11bHRpUG9seWdvbihkaWZmZXJlbmNlZCk7XG59XG5cbi8vIExpbmVTdHJpbmcgY29vcmRzIHJldHVybnMgMVxuLy8gTXVsdGlMaW5lU3RyaW5nIGNvb3JkcyByZXR1cm5zIDJcbmV4cG9ydCBmdW5jdGlvbiBnZXREZXB0aE9mQ29vcmRzKGNvb3Jkcykge1xuICBpZiAoQXJyYXkuaXNBcnJheShjb29yZHMpKSB7XG4gICAgcmV0dXJuIDEgKyBnZXREZXB0aE9mQ29vcmRzKGNvb3Jkc1swXSk7XG4gIH1cbiAgcmV0dXJuIC0xOyAvLyByZXR1cm4gLTEgYmVjYXVzZSB0aGlzIGlzIGFscmVhZHkgdGhlIGxuZyBvZiB0aGUgbG5nbGF0IChnZW9qc29uKSBhcnJheVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlblBvbHlsaW5lKHBvbHlsaW5lKSB7XG4gIGlmIChwb2x5bGluZSBpbnN0YW5jZW9mIEwuUG9seWxpbmUpIHtcbiAgICBwb2x5bGluZSA9IHBvbHlsaW5lLnRvR2VvSlNPTigxNSk7XG4gIH1cblxuICBjb25zdCBjb29yZHMgPSBnZXRDb29yZHMocG9seWxpbmUpO1xuICBjb25zdCBkZXB0aCA9IGdldERlcHRoT2ZDb29yZHMoY29vcmRzKTtcbiAgY29uc3QgZmVhdHVyZXMgPSBbXTtcbiAgaWYgKGRlcHRoID4gMSkge1xuICAgIGNvb3Jkcy5mb3JFYWNoKChjb29yZCkgPT4ge1xuICAgICAgZmVhdHVyZXMucHVzaCh0dXJmTGluZVN0cmluZyhjb29yZCkpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGZlYXR1cmVzLnB1c2gocG9seWxpbmUpO1xuICB9XG5cbiAgcmV0dXJuIGZlYXR1cmVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBUb011bHRpTGluZVN0cmluZyhncm91cCkge1xuICBjb25zdCBjb29yZHMgPSBbXTtcbiAgZ3JvdXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgIGNvb3Jkcy5wdXNoKGdldENvb3JkcyhsYXllci50b0dlb0pTT04oMTUpKSk7XG4gIH0pO1xuICByZXR1cm4gdHVyZk11bHRpTGluZVN0cmluZyhjb29yZHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvTGF0TG5nKGNvb3Jkcykge1xuICBjb25zdCBsbmdsYXQgPSBnZXRDb29yZHMoY29vcmRzKTtcbiAgcmV0dXJuIEwubGF0TG5nKGxuZ2xhdFsxXSwgbG5nbGF0WzBdKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRBcnJheVRvTGF0TG5ncyhhcnIpIHtcbiAgY29uc3QgbGF0bG5ncyA9IFtdO1xuICBpZiAoYXJyLmZlYXR1cmVzKSB7XG4gICAgYXJyLmZlYXR1cmVzLmZvckVhY2goKGdlb2pzb24pID0+IHtcbiAgICAgIGxhdGxuZ3MucHVzaChjb252ZXJ0VG9MYXRMbmcoZ2VvanNvbikpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBsYXRsbmdzO1xufVxuIiwgImltcG9ydCBEcmF3IGZyb20gJy4vTC5QTS5EcmF3JztcbmltcG9ydCB7IGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbkRyYXcuVGV4dCA9IERyYXcuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXApIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgdGhpcy5fc2hhcGUgPSAnVGV4dCc7XG4gICAgdGhpcy50b29sYmFyQnV0dG9uTmFtZSA9ICdkcmF3VGV4dCc7XG4gIH0sXG4gIGVuYWJsZShvcHRpb25zKSB7XG4gICAgLy8gVE9ETzogVGhpbmsgYWJvdXQgaWYgdGhlc2Ugb3B0aW9ucyBjb3VsZCBiZSBwYXNzZWQgZ2xvYmFsbHkgZm9yIGFsbFxuICAgIC8vIGluc3RhbmNlcyBvZiBMLlBNLkRyYXcuIFNvIGEgZGV2IGNvdWxkIHNldCBkcmF3aW5nIHN0eWxlIG9uZSB0aW1lIGFzIHNvbWUga2luZCBvZiBjb25maWdcbiAgICBMLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgIC8vIGNoYW5nZSBlbmFibGVkIHN0YXRlXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyBjcmVhdGUgYSBtYXJrZXIgb24gY2xpY2sgb24gdGhlIG1hcFxuICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9jcmVhdGVNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZW5hYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgdHJ1ZSk7XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBoaW50bWFya2VyIG9uIHRoZSBtb3VzZSBjdXJzb3JcbiAgICB0aGlzLl9oaW50TWFya2VyID0gTC5tYXJrZXIodGhpcy5fbWFwLmdldENlbnRlcigpLCB7XG4gICAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgICB6SW5kZXhPZmZzZXQ6IDEwMCxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uIGN1cnNvci1tYXJrZXInIH0pLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5faGludE1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcbiAgICB0aGlzLl9oaW50TWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5faGludE1hcmtlci5hZGRUbyh0aGlzLl9tYXApO1xuXG4gICAgLy8gc2hvdyB0aGUgaGludG1hcmtlciBpZiB0aGUgb3B0aW9uIGlzIHNldFxuICAgIGlmICh0aGlzLm9wdGlvbnMuY3Vyc29yTWFya2VyKSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5faGludE1hcmtlci5faWNvbiwgJ3Zpc2libGUnKTtcbiAgICB9XG5cbiAgICAvLyBhZGQgdG9vbHRpcCB0byBoaW50bWFya2VyXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b29sdGlwcykge1xuICAgICAgdGhpcy5faGludE1hcmtlclxuICAgICAgICAuYmluZFRvb2x0aXAoZ2V0VHJhbnNsYXRpb24oJ3Rvb2x0aXBzLnBsYWNlVGV4dCcpLCB7XG4gICAgICAgICAgcGVybWFuZW50OiB0cnVlLFxuICAgICAgICAgIG9mZnNldDogTC5wb2ludCgwLCAxMCksXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYm90dG9tJyxcblxuICAgICAgICAgIG9wYWNpdHk6IDAuOCxcbiAgICAgICAgfSlcbiAgICAgICAgLm9wZW5Ub29sdGlwKCk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBpcyBqdXN0IHRvIGtlZXAgdGhlIHNuYXBwYWJsZSBtaXhpbiBoYXBweVxuICAgIHRoaXMuX2xheWVyID0gdGhpcy5faGludE1hcmtlcjtcblxuICAgIC8vIHN5bmMgaGludCBtYXJrZXIgd2l0aCBtb3VzZSBjdXJzb3JcbiAgICB0aGlzLl9tYXAub24oJ21vdXNlbW92ZScsIHRoaXMuX3N5bmNIaW50TWFya2VyLCB0aGlzKTtcblxuICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5jbGFzc0xpc3QuYWRkKCdnZW9tYW4tZHJhdy1jdXJzb3InKTtcblxuICAgIC8vIGZpcmUgZHJhd3N0YXJ0IGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdTdGFydCgpO1xuICAgIHRoaXMuX3NldEdsb2JhbERyYXdNb2RlKCk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gY2FuY2VsLCBpZiBkcmF3aW5nIG1vZGUgaXNuJ3QgZXZlbiBlbmFibGVkXG4gICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY2hhbmdlIGVuYWJsZWQgc3RhdGVcbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cbiAgICAvLyB1bmRiaW5kIGNsaWNrIGV2ZW50LCBkb24ndCBjcmVhdGUgYSBtYXJrZXIgb24gY2xpY2sgYW55bW9yZVxuICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fY3JlYXRlTWFya2VyLCB0aGlzKTtcblxuICAgIC8vIHJlbW92ZSBoaW50IG1hcmtlclxuICAgIHRoaXMuX2hpbnRNYXJrZXI/LnJlbW92ZSgpO1xuXG4gICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmNsYXNzTGlzdC5yZW1vdmUoJ2dlb21hbi1kcmF3LWN1cnNvcicpO1xuXG4gICAgLy8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyIHRvIHN5bmMgaGludCBtYXJrZXJcbiAgICB0aGlzLl9tYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyB0b2dnbGUgdGhlIGRyYXcgYnV0dG9uIG9mIHRoZSBUb29sYmFyIGluIGNhc2UgZHJhd2luZyBtb2RlIGdvdCBkaXNhYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgZmFsc2UpO1xuXG4gICAgLy8gY2xlYW51cCBzbmFwcGluZ1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcbiAgICB9XG5cbiAgICAvLyBmaXJlIGRyYXdlbmQgZXZlbnRcbiAgICB0aGlzLl9maXJlRHJhd0VuZCgpO1xuICAgIHRoaXMuX3NldEdsb2JhbERyYXdNb2RlKCk7XG4gIH0sXG4gIGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gIH0sXG4gIHRvZ2dsZShvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGUob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuICBfc3luY0hpbnRNYXJrZXIoZSkge1xuICAgIC8vIG1vdmUgdGhlIGN1cnNvciBtYXJrZXJcbiAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG5cbiAgICAvLyBpZiBzbmFwcGluZyBpcyBlbmFibGVkLCBkbyBpdFxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICBjb25zdCBmYWtlRHJhZ0V2ZW50ID0gZTtcbiAgICAgIGZha2VEcmFnRXZlbnQudGFyZ2V0ID0gdGhpcy5faGludE1hcmtlcjtcbiAgICAgIHRoaXMuX2hhbmRsZVNuYXBwaW5nKGZha2VEcmFnRXZlbnQpO1xuICAgIH1cbiAgfSxcbiAgX2NyZWF0ZU1hcmtlcihlKSB7XG4gICAgaWYgKCFlLmxhdGxuZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHNuYXAgZmluaXNoIGlzIHJlcXVpcmVkIGJ1dCB0aGUgbGFzdCBtYXJrZXIgd2Fzbid0IHNuYXBwZWQsIGRvIG5vdCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9ucy5yZXF1aXJlU25hcFRvRmluaXNoICYmXG4gICAgICAhdGhpcy5faGludE1hcmtlci5fc25hcHBlZCAmJlxuICAgICAgIXRoaXMuX2lzRmlyc3RMYXllcigpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYXNzaWduIHRoZSBjb29yZGluYXRlIG9mIHRoZSBjbGljayB0byB0aGUgaGludE1hcmtlciwgdGhhdCdzIG5lY2Vzc2FyeSBmb3JcbiAgICAvLyBtb2JpbGUgd2hlcmUgdGhlIG1hcmtlciBjYW4ndCBmb2xsb3cgYSBjdXJzb3JcbiAgICBpZiAoIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKGUubGF0bG5nKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgY29vcmRpbmF0ZSBmb3IgbmV3IHZlcnRleCBieSBoaW50TWFya2VyIChjdXJzb3IgbWFya2VyKVxuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICB0aGlzLnRleHRBcmVhID0gdGhpcy5fY3JlYXRlVGV4dEFyZWEoKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMudGV4dE9wdGlvbnM/LmNsYXNzTmFtZSkge1xuICAgICAgY29uc3QgY3NzQ2xhc3NlcyA9IHRoaXMub3B0aW9ucy50ZXh0T3B0aW9ucy5jbGFzc05hbWUuc3BsaXQoJyAnKTtcbiAgICAgIHRoaXMudGV4dEFyZWEuY2xhc3NMaXN0LmFkZCguLi5jc3NDbGFzc2VzKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0QXJlYUljb24gPSB0aGlzLl9jcmVhdGVUZXh0SWNvbih0aGlzLnRleHRBcmVhKTtcblxuICAgIGNvbnN0IG1hcmtlciA9IG5ldyBMLk1hcmtlcihsYXRsbmcsIHtcbiAgICAgIHRleHRNYXJrZXI6IHRydWUsXG4gICAgICBfdGV4dE1hcmtlck92ZXJQTTogdHJ1ZSwgLy8gd2UgbmVlZCB0byBwdXQgdGhpcyBpbnRvIHRoZSBvcHRpb25zLCBlbHNlIHdlIGNhbid0IGNhdGNoIHRoaXMgaW4gdGhlIGluaXQgbWV0aG9kXG4gICAgICBpY29uOiB0ZXh0QXJlYUljb24sXG4gICAgfSk7XG4gICAgdGhpcy5fc2V0UGFuZShtYXJrZXIsICdtYXJrZXJQYW5lJyk7XG4gICAgdGhpcy5fZmluaXNoTGF5ZXIobWFya2VyKTtcblxuICAgIGlmICghbWFya2VyLnBtKSB7XG4gICAgICAvLyBpZiBwbSBpcyBub3QgY3JlYXRlIHdlIGRvbid0IGFwcGx5IGRyYWdnaW5nIHRvIHRoZSBtYXJrZXIgKGRyYWdnYWJsZSBpcyBhcHBsaWVkIHRvIHRoZSBtYXJrZXIsIHdoZW4gaXQgaXMgYWRkZWQgdG8gdGhlIG1hcCApXG4gICAgICBtYXJrZXIub3B0aW9ucy5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gYWRkIG1hcmtlciB0byB0aGUgbWFwXG4gICAgbWFya2VyLmFkZFRvKHRoaXMuX21hcC5wbS5fZ2V0Q29udGFpbmluZ0xheWVyKCkpO1xuICAgIGlmIChtYXJrZXIucG0pIHtcbiAgICAgIG1hcmtlci5wbS50ZXh0QXJlYSA9IHRoaXMudGV4dEFyZWE7XG4gICAgICBMLnNldE9wdGlvbnMobWFya2VyLnBtLCB7XG4gICAgICAgIHJlbW92ZUlmRW1wdHk6IHRoaXMub3B0aW9ucy50ZXh0T3B0aW9ucz8ucmVtb3ZlSWZFbXB0eSA/PyB0cnVlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGZvY3VzQWZ0ZXJEcmF3ID0gdGhpcy5vcHRpb25zLnRleHRPcHRpb25zPy5mb2N1c0FmdGVyRHJhdyA/PyB0cnVlO1xuICAgICAgbWFya2VyLnBtLl9jcmVhdGVUZXh0TWFya2VyKGZvY3VzQWZ0ZXJEcmF3KTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudGV4dE9wdGlvbnM/LnRleHQpIHtcbiAgICAgICAgbWFya2VyLnBtLnNldFRleHQodGhpcy5vcHRpb25zLnRleHRPcHRpb25zLnRleHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZpcmUgdGhlIHBtOmNyZWF0ZSBldmVudCBhbmQgcGFzcyBzaGFwZSBhbmQgbWFya2VyXG4gICAgdGhpcy5fZmlyZUNyZWF0ZShtYXJrZXIpO1xuXG4gICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG5cbiAgICAvLyBkaXNhYmxlIGRyYXdpbmdcbiAgICB0aGlzLmRpc2FibGUoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRpbnVlRHJhd2luZykge1xuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG5cbiAgX2NyZWF0ZVRleHRBcmVhKCkge1xuICAgIGNvbnN0IHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICB0ZXh0QXJlYS5yZWFkT25seSA9IHRydWU7XG4gICAgdGV4dEFyZWEuY2xhc3NMaXN0LmFkZCgncG0tdGV4dGFyZWEnLCAncG0tZGlzYWJsZWQnKTtcbiAgICByZXR1cm4gdGV4dEFyZWE7XG4gIH0sXG5cbiAgX2NyZWF0ZVRleHRJY29uKHRleHRBcmVhKSB7XG4gICAgcmV0dXJuIEwuZGl2SWNvbih7XG4gICAgICBjbGFzc05hbWU6ICdwbS10ZXh0LW1hcmtlcicsXG4gICAgICBodG1sOiB0ZXh0QXJlYSxcbiAgICB9KTtcbiAgfSxcbn0pO1xuIiwgImltcG9ydCB7IGdldFJlbmRlcmVyIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbmNvbnN0IERyYWdNaXhpbiA9IHtcbiAgZW5hYmxlTGF5ZXJEcmFnKCkge1xuICAgIC8vIGxheWVyIGlzIG5vdCBhbGxvd2VkIHRvIGRyYWdnZWQgb3IgaXMgbm90IG9uIHRoZSBtYXBcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5kcmFnZ2FibGUgfHwgIXRoaXMuX2xheWVyLl9tYXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBiZWZvcmUgZW5hYmxpbmcgbGF5ZXIgZHJhZywgZGlzYWJsZSBsYXllciBlZGl0aW5nXG4gICAgdGhpcy5kaXNhYmxlKCk7XG5cbiAgICB0aGlzLl9sYXllckRyYWdFbmFibGVkID0gdHJ1ZTtcblxuICAgIC8vIGlmIGxheWVyIG5ldmVyIGVuYWJsZWQgYW5kIF9tYXAgaXMgbm90IHNldCAoZm9yIHNuYXBwaW5nKVxuICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICB0aGlzLl9tYXAgPSB0aGlzLl9sYXllci5fbWFwO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIgfHxcbiAgICAgIHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5JbWFnZU92ZXJsYXlcbiAgICApIHtcbiAgICAgIC8vIHByZXZlbnRzIGRyYWdnaW5nIHRoZSBET00gaW1hZ2UgaW5zdGVhZCBvZiB0aGUgbWFya2VyXG4gICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMuX2dldERPTUVsZW0oKSwgJ2RyYWdzdGFydCcsIHRoaXMuX3N0b3BET01JbWFnZURyYWcpO1xuICAgIH1cblxuICAgIC8vIERpc2FibGUgTGVhZmxldCBEcmFnZ2luZyBvZiBNYXJrZXJzXG4gICAgaWYgKHRoaXMuX2xheWVyLmRyYWdnaW5nKSB7XG4gICAgICB0aGlzLl9sYXllci5kcmFnZ2luZy5kaXNhYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gdGVtcG9yYXJ5IGNvb3JkIHZhcmlhYmxlIGZvciBkZWx0YSBjYWxjdWxhdGlvblxuICAgIHRoaXMuX3RlbXBEcmFnQ29vcmQgPSBudWxsO1xuXG4gICAgLy8gYWRkIENTUyBjbGFzc1xuICAgIGlmIChnZXRSZW5kZXJlcih0aGlzLl9sYXllcikgaW5zdGFuY2VvZiBMLkNhbnZhcykge1xuICAgICAgdGhpcy5fbGF5ZXIub24oJ21vdXNlb3V0JywgdGhpcy5yZW1vdmVEcmFnZ2luZ0NsYXNzLCB0aGlzKTtcbiAgICAgIHRoaXMuX2xheWVyLm9uKCdtb3VzZW92ZXInLCB0aGlzLmFkZERyYWdnaW5nQ2xhc3MsIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZERyYWdnaW5nQ2xhc3MoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9vcmlnaW5hbE1hcERyYWdTdGF0ZSA9IHRoaXMuX2xheWVyLl9tYXAuZHJhZ2dpbmcuX2VuYWJsZWQ7XG5cbiAgICAvLyBjYW4gd2UgcmVsaWFibHkgc2F2ZSB0aGUgbWFwJ3MgZHJhZ2dhYmxlIHN0YXRlP1xuICAgIC8vIChpZiB0aGUgbW91c2UgdXAgZXZlbnQgaGFwcGVucyBvdXRzaWRlIHRoZSBjb250YWluZXIsIHRoZW4gdGhlIG1hcCBjYW4gYmVjb21lIHVuZHJhZ2dhYmxlKVxuICAgIHRoaXMuX3NhZmVUb0NhY2hlRHJhZ1N0YXRlID0gdHJ1ZTtcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2dldERPTUVsZW0oKTtcblxuICAgIC8vIGNoZWNrIGlmIERPTSBlbGVtZW50IGV4aXN0c1xuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIC8vIGFkZCBtb3VzZWRvd24gZXZlbnQgdG8gdHJpZ2dlciBkcmFnXG4gICAgICBpZiAoZ2V0UmVuZGVyZXIodGhpcy5fbGF5ZXIpIGluc3RhbmNlb2YgTC5DYW52YXMpIHtcbiAgICAgICAgdGhpcy5fbGF5ZXIub24oXG4gICAgICAgICAgJ3RvdWNoc3RhcnQgbW91c2Vkb3duJyxcbiAgICAgICAgICB0aGlzLl9kcmFnTWl4aW5Pbk1vdXNlRG93bixcbiAgICAgICAgICB0aGlzXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX21hcC5wbS5fYWRkVG91Y2hFdmVudHMoY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdlIGNhbid0IGp1c3QgdXNlIGxheWVyLm9uKCdtb3VzZWRvd24nKSBiZWNhdXNlIG9uIHRvdWNoIGRldmljZXMgdGhlIGV2ZW50IGlzIG5vdCBmaXJlZCBpZiB1c2VyIHByZXNzZXMgb24gdGhlIGxheWVyIGFuZCB0aGVuIGRyYWcgaXQuXG4gICAgICAgIC8vIFdpdGggY2hlY2tpbmcgb24gdG91Y2hzdGFydCBhbmQgbW91c2Vkb3duIG9uIHRoZSBET00gZWxlbWVudCB3ZSBjYW4gbGlzdGVuIG9uIHRoZSBuZWVkZWQgZXZlbnRzXG4gICAgICAgIEwuRG9tRXZlbnQub24oXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICd0b3VjaHN0YXJ0IG1vdXNlZG93bicsXG4gICAgICAgICAgdGhpcy5fc2ltdWxhdGVNb3VzZURvd25FdmVudCxcbiAgICAgICAgICB0aGlzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZURyYWdFbmFibGUoKTtcbiAgfSxcbiAgZGlzYWJsZUxheWVyRHJhZygpIHtcbiAgICB0aGlzLl9sYXllckRyYWdFbmFibGVkID0gZmFsc2U7XG5cbiAgICAvLyByZW1vdmUgQ1NTIGNsYXNzXG4gICAgaWYgKGdldFJlbmRlcmVyKHRoaXMuX2xheWVyKSBpbnN0YW5jZW9mIEwuQ2FudmFzKSB7XG4gICAgICB0aGlzLl9sYXllci5vZmYoJ21vdXNlb3V0JywgdGhpcy5yZW1vdmVEcmFnZ2luZ0NsYXNzLCB0aGlzKTtcbiAgICAgIHRoaXMuX2xheWVyLm9mZignbW91c2VvdmVyJywgdGhpcy5hZGREcmFnZ2luZ0NsYXNzLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdmVEcmFnZ2luZ0NsYXNzKCk7XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlIGxheWVyIGlzIGRyYWdnZWQgYnV0IG5vdyBkaXNhYmxlZFxuICAgIGlmICh0aGlzLl9vcmlnaW5hbE1hcERyYWdTdGF0ZSAmJiB0aGlzLl9kcmFnZ2luZykge1xuICAgICAgdGhpcy5fbWFwLmRyYWdnaW5nLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIC8vIG5vIGxvbmdlciBzYXZlIHRoZSBkcmFnIHN0YXRlXG4gICAgdGhpcy5fc2FmZVRvQ2FjaGVEcmFnU3RhdGUgPSBmYWxzZTtcblxuICAgIC8vIERpc2FibGUgTGVhZmxldCBEcmFnZ2luZyBvZiBNYXJrZXJzXG4gICAgaWYgKHRoaXMuX2xheWVyLmRyYWdnaW5nKSB7XG4gICAgICB0aGlzLl9sYXllci5kcmFnZ2luZy5kaXNhYmxlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fZ2V0RE9NRWxlbSgpO1xuICAgIC8vIGNoZWNrIGlmIERPTSBlbGVtZW50IGV4aXN0c1xuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIGlmIChnZXRSZW5kZXJlcih0aGlzLl9sYXllcikgaW5zdGFuY2VvZiBMLkNhbnZhcykge1xuICAgICAgICB0aGlzLl9sYXllci5vZmYoXG4gICAgICAgICAgJ3RvdWNoc3RhcnQgbW91c2Vkb3duJyxcbiAgICAgICAgICB0aGlzLl9kcmFnTWl4aW5Pbk1vdXNlRG93bixcbiAgICAgICAgICB0aGlzXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX21hcC5wbS5fcmVtb3ZlVG91Y2hFdmVudHMoY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRpc2FibGUgbW91c2Vkb3duIGV2ZW50XG4gICAgICAgIEwuRG9tRXZlbnQub2ZmKFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAndG91Y2hzdGFydCBtb3VzZWRvd24nLFxuICAgICAgICAgIHRoaXMuX3NpbXVsYXRlTW91c2VEb3duRXZlbnQsXG4gICAgICAgICAgdGhpc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9sYXllckRyYWdnZWQpIHtcbiAgICAgIHRoaXMuX2ZpcmVVcGRhdGUoKTtcbiAgICB9XG4gICAgdGhpcy5fbGF5ZXJEcmFnZ2VkID0gZmFsc2U7XG5cbiAgICB0aGlzLl9maXJlRHJhZ0Rpc2FibGUoKTtcbiAgfSxcbiAgLy8gVE9ETzogbWFrZSB0aGlzIHByaXZhdGUgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxuICBkcmFnZ2luZygpIHtcbiAgICByZXR1cm4gdGhpcy5fZHJhZ2dpbmc7XG4gIH0sXG4gIGxheWVyRHJhZ0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fbGF5ZXJEcmFnRW5hYmxlZDtcbiAgfSxcbiAgLy8gV2UgbmVlZCB0byBzaW11bGF0ZSBhIG1vdXNlZG93biBldmVudCBvbiB0aGUgbGF5ZXIgb2JqZWN0LiBXZSBjYW4ndCBqdXN0IHVzZSBsYXllci5vbignbW91c2Vkb3duJykgYmVjYXVzZSBvbiB0b3VjaCBkZXZpY2VzIHRoZSBldmVudCBpcyBub3QgZmlyZWQgaWYgdXNlciBwcmVzc2VzIG9uIHRoZSBsYXllciBhbmQgdGhlbiBkcmFnIGl0LlxuICAvLyBXaXRoIGNoZWNraW5nIG9uIHRvdWNoc3RhcnQgYW5kIG1vdXNlZG93biBvbiB0aGUgRE9NIGVsZW1lbnQgd2UgY2FuIGxpc3RlbiBvbiB0aGUgbmVlZGVkIGV2ZW50c1xuICBfc2ltdWxhdGVNb3VzZURvd25FdmVudChlKSB7XG4gICAgY29uc3QgZmlyc3QgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlO1xuICAgIGNvbnN0IGV2dCA9IHtcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGZpcnN0LFxuICAgICAgdGFyZ2V0OiB0aGlzLl9sYXllcixcbiAgICB9O1xuICAgIC8vIHdlIGV4cGVjdCBpbiB0aGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBjbGlja2VkIGxhdGxuZyAvIHBvaW50XG4gICAgZXZ0LmNvbnRhaW5lclBvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGZpcnN0KTtcbiAgICBldnQubGF0bG5nID0gdGhpcy5fbWFwLmNvbnRhaW5lclBvaW50VG9MYXRMbmcoZXZ0LmNvbnRhaW5lclBvaW50KTtcblxuICAgIHRoaXMuX2RyYWdNaXhpbk9uTW91c2VEb3duKGV2dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBfc2ltdWxhdGVNb3VzZU1vdmVFdmVudChlKSB7XG4gICAgY29uc3QgZmlyc3QgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlO1xuICAgIGNvbnN0IGV2dCA9IHtcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGZpcnN0LFxuICAgICAgdGFyZ2V0OiB0aGlzLl9sYXllcixcbiAgICB9O1xuICAgIC8vIHdlIGV4cGVjdCBpbiB0aGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBjbGlja2VkIGxhdGxuZyAvIHBvaW50XG4gICAgZXZ0LmNvbnRhaW5lclBvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGZpcnN0KTtcbiAgICBldnQubGF0bG5nID0gdGhpcy5fbWFwLmNvbnRhaW5lclBvaW50VG9MYXRMbmcoZXZ0LmNvbnRhaW5lclBvaW50KTtcblxuICAgIHRoaXMuX2RyYWdNaXhpbk9uTW91c2VNb3ZlKGV2dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBfc2ltdWxhdGVNb3VzZVVwRXZlbnQoZSkge1xuICAgIGNvbnN0IGZpcnN0ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcbiAgICBjb25zdCBldnQgPSB7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBmaXJzdCxcbiAgICAgIHRhcmdldDogdGhpcy5fbGF5ZXIsXG4gICAgfTtcbiAgICBpZiAoZS50eXBlLmluZGV4T2YoJ3RvdWNoJykgPT09IC0xKSB7XG4gICAgICAvLyB3ZSBleHBlY3QgaW4gdGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgY2xpY2tlZCBsYXRsbmcgLyBwb2ludFxuICAgICAgZXZ0LmNvbnRhaW5lclBvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUpO1xuICAgICAgZXZ0LmxhdGxuZyA9IHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKGV2dC5jb250YWluZXJQb2ludCk7XG4gICAgfVxuICAgIHRoaXMuX2RyYWdNaXhpbk9uTW91c2VVcChldnQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgX2RyYWdNaXhpbk9uTW91c2VEb3duKGUpIHtcbiAgICAvLyBjYW5jZWwgaWYgbW91c2UgYnV0dG9uIGlzIE5PVCB0aGUgbGVmdCBidXR0b25cbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50LmJ1dHRvbiA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fb3ZlcndyaXRlRXZlbnRJZkl0Q29tZXNGcm9tTWFya2VyKGUpO1xuXG4gICAgY29uc3QgZnJvbUxheWVyU3luYyA9IGUuX2Zyb21MYXllclN5bmM7XG5cbiAgICAvLyBpZiBvdGhlciBsYXllcnMgZm91bmQsIHNuYXBwaW5nIHdpbGwgYmUgZGlzYWJsZWRcbiAgICBjb25zdCBsYXllcnNUb1N5bmNGb3VuZCA9IHRoaXMuX3N5bmNMYXllcnMoJ19kcmFnTWl4aW5Pbk1vdXNlRG93bicsIGUpO1xuXG4gICAgaWYgKHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlICYmICFmcm9tTGF5ZXJTeW5jICYmICFsYXllcnNUb1N5bmNGb3VuZCkge1xuICAgICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZGlzYWJsZVNuYXBwaW5nKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gd2UgbmVlZCB0byBkaXNhYmxlIHNuYXBwaW5nIGZvciBDaXJjbGVNYXJrZXIgYmVjYXVzZSB0aGV5IGFyZSBzbmFwcGluZyBiZWNhdXNlIG9mIHRoZSBjaGVjayBpbiBvbkxheWVyRHJhZyAtPiBpZihfc25hcHBlZClcbiAgICBpZiAodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlcikge1xuICAgICAgbGV0IF9lZGl0YWJsZU9wdGlvbiA9ICdyZXNpemVhYmxlQ2lyY2xlTWFya2VyJztcbiAgICAgIGlmICh0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlKSB7XG4gICAgICAgIF9lZGl0YWJsZU9wdGlvbiA9ICdyZXNpemFibGVDaXJjbGUnO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSAmJiAhZnJvbUxheWVyU3luYyAmJiAhbGF5ZXJzVG9TeW5jRm91bmQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sYXllci5wbS5vcHRpb25zW19lZGl0YWJsZU9wdGlvbl0pIHtcbiAgICAgICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2Vyc0RyYWcoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9sYXllci5wbS5vcHRpb25zW19lZGl0YWJsZU9wdGlvbl0pIHtcbiAgICAgICAgdGhpcy5fbGF5ZXIucG0uX2Rpc2FibGVTbmFwcGluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbGF5ZXIucG0uX2Rpc2FibGVTbmFwcGluZ0RyYWcoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzYXZlIGN1cnJlbnQgbWFwIGRyYWdnaW5nIHN0YXRlXG4gICAgaWYgKHRoaXMuX3NhZmVUb0NhY2hlRHJhZ1N0YXRlKSB7XG4gICAgICB0aGlzLl9vcmlnaW5hbE1hcERyYWdTdGF0ZSA9IHRoaXMuX2xheWVyLl9tYXAuZHJhZ2dpbmcuX2VuYWJsZWQ7XG5cbiAgICAgIC8vIGRvbid0IGNhY2hlIHRoZSBzdGF0ZSBhZ2FpbiB1bnRpbCBhbm90aGVyIG1vdXNlIHVwIGlzIHJlZ2lzdGVyZWRcbiAgICAgIHRoaXMuX3NhZmVUb0NhY2hlRHJhZ1N0YXRlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gc2F2ZSBmb3IgZGVsdGEgY2FsY3VsYXRpb25cbiAgICB0aGlzLl90ZW1wRHJhZ0Nvb3JkID0gZS5sYXRsbmc7XG5cbiAgICBMLkRvbUV2ZW50Lm9uKFxuICAgICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLFxuICAgICAgJ3RvdWNoZW5kIG1vdXNldXAnLFxuICAgICAgdGhpcy5fc2ltdWxhdGVNb3VzZVVwRXZlbnQsXG4gICAgICB0aGlzXG4gICAgKTtcblxuICAgIC8vIGxpc3RlbiB0byBtb3VzZW1vdmUgb24gbWFwIChpbnN0ZWFkIG9mIHBvbHlnb24pLFxuICAgIC8vIG90aGVyd2lzZSBmYXN0IG1vdXNlIG1vdmVtZW50cyBzdG9wIHRoZSBkcmFnXG4gICAgTC5Eb21FdmVudC5vbihcbiAgICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKSxcbiAgICAgICd0b3VjaG1vdmUgbW91c2Vtb3ZlJyxcbiAgICAgIHRoaXMuX3NpbXVsYXRlTW91c2VNb3ZlRXZlbnQsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfSxcbiAgX2RyYWdNaXhpbk9uTW91c2VNb3ZlKGUpIHtcbiAgICB0aGlzLl9vdmVyd3JpdGVFdmVudElmSXRDb21lc0Zyb21NYXJrZXIoZSk7XG4gICAgY29uc3QgZWwgPSB0aGlzLl9nZXRET01FbGVtKCk7XG5cbiAgICB0aGlzLl9zeW5jTGF5ZXJzKCdfZHJhZ01peGluT25Nb3VzZU1vdmUnLCBlKTtcblxuICAgIGlmICghdGhpcy5fZHJhZ2dpbmcpIHtcbiAgICAgIC8vIHNldCBzdGF0ZVxuICAgICAgdGhpcy5fZHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKGVsLCAnbGVhZmxldC1wbS1kcmFnZ2luZycpO1xuXG4gICAgICBpZiAoISh0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuTWFya2VyKSkge1xuICAgICAgICAvLyBicmluZyBpdCB0byBmcm9udCB0byBwcmV2ZW50IGRyYWcgaW50ZXJjZXB0aW9uXG4gICAgICAgIHRoaXMuX2xheWVyLmJyaW5nVG9Gcm9udCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBkaXNiYWxlIG1hcCBkcmFnXG4gICAgICBpZiAodGhpcy5fb3JpZ2luYWxNYXBEcmFnU3RhdGUpIHtcbiAgICAgICAgdGhpcy5fbWFwLmRyYWdnaW5nLmRpc2FibGUoKTtcbiAgICAgIH1cblxuICAgICAgLy8gZmlyZSBwbTpkcmFnc3RhcnQgZXZlbnRcbiAgICAgIHRoaXMuX2ZpcmVEcmFnU3RhcnQoKTtcbiAgICB9XG5cbiAgICAvLyBpZiBfdGVtcERyYWdDb29yZCBpcyBudWxsIGFkZCB0aGUgY3VycmVudCBsYXRsbmcgdG8gcHJldmVudCB0aHJvd2luZyBhIGVycm9yLiBUaGlzIGNhbiBoYXBwZW4gd2hlbiBmb3IgZXhhbXBsZSB0aGUgbGF5ZXIgaXMgcmVtb3ZlZCBhbmQgYWRkZWQgdG8gdGhlIG1hcCB3aGlsZSBkcmFnZ2luZyAoTWFya2VyQ2x1c3RlcilcbiAgICBpZiAoIXRoaXMuX3RlbXBEcmFnQ29vcmQpIHtcbiAgICAgIHRoaXMuX3RlbXBEcmFnQ29vcmQgPSBlLmxhdGxuZztcbiAgICB9XG5cbiAgICB0aGlzLl9vbkxheWVyRHJhZyhlKTtcblxuICAgIC8vIHVwZGF0ZSB0aGUgaGlkZGVuIGNpcmNsZSBib3JkZXIgYWZ0ZXIgZHJhZ2dpbmdcbiAgICBpZiAodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlcikge1xuICAgICAgdGhpcy5fbGF5ZXIucG0uX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKTtcbiAgICB9XG4gIH0sXG4gIF9kcmFnTWl4aW5Pbk1vdXNlVXAoZSkge1xuICAgIGNvbnN0IGVsID0gdGhpcy5fZ2V0RE9NRWxlbSgpO1xuXG4gICAgdGhpcy5fc3luY0xheWVycygnX2RyYWdNaXhpbk9uTW91c2VVcCcsIGUpO1xuXG4gICAgLy8gcmUtZW5hYmxlIG1hcCBkcmFnXG4gICAgaWYgKHRoaXMuX29yaWdpbmFsTWFwRHJhZ1N0YXRlKSB7XG4gICAgICB0aGlzLl9tYXAuZHJhZ2dpbmcuZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gaWYgbW91c2V1cCBldmVudCBmaXJlZCwgaXQncyBzYWZlIHRvIGNhY2hlIHRoZSBtYXAgZHJhZ2dhYmxlIHN0YXRlIG9uIHRoZSBuZXh0IG1vdXNlIGRvd25cbiAgICB0aGlzLl9zYWZlVG9DYWNoZURyYWdTdGF0ZSA9IHRydWU7XG4gICAgLy8gY2xlYXIgdXAgbW91c2Vtb3ZlIGV2ZW50XG4gICAgTC5Eb21FdmVudC5vZmYoXG4gICAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCksXG4gICAgICAndG91Y2htb3ZlIG1vdXNlbW92ZScsXG4gICAgICB0aGlzLl9zaW11bGF0ZU1vdXNlTW92ZUV2ZW50LFxuICAgICAgdGhpc1xuICAgICk7XG5cbiAgICAvLyBjbGVhciB1cCBtb3VzZXVwIGV2ZW50XG4gICAgTC5Eb21FdmVudC5vZmYoXG4gICAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCksXG4gICAgICAndG91Y2hlbmQgbW91c2V1cCcsXG4gICAgICB0aGlzLl9zaW11bGF0ZU1vdXNlVXBFdmVudCxcbiAgICAgIHRoaXNcbiAgICApO1xuXG4gICAgLy8gaWYgbm8gZHJhZyBoYXBwZW5lZCwgZG9uJ3QgZG8gYW55dGhpbmdcbiAgICBpZiAoIXRoaXMuX2RyYWdnaW5nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIHRoZSBoaWRkZW4gY2lyY2xlIGJvcmRlciBhZnRlciBkcmFnZ2luZ1xuICAgIGlmICh0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyKSB7XG4gICAgICB0aGlzLl9sYXllci5wbS5fdXBkYXRlSGlkZGVuUG9seUNpcmNsZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX2xheWVyRHJhZ2dlZCA9IHRydWU7XG5cbiAgICAvLyB0aW1lb3V0IHRvIHByZXZlbnQgY2xpY2sgZXZlbnQgYWZ0ZXIgZHJhZyA6LS9cbiAgICAvLyBUT0RPOiBkbyBpdCBiZXR0ZXIgYXMgc29vbiBhcyBsZWFmbGV0IGhhcyBhIHdheSB0byBkbyBpdCBiZXR0ZXIgOi0pXG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gc2V0IHN0YXRlXG4gICAgICB0aGlzLl9kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgLy8gaWYgdGhlIGxheWVyIGlzIG5vdCBvbiB0aGUgbWFwLCB3ZSBoYXZlIG5vIERPTSBlbGVtZW50XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKGVsLCAnbGVhZmxldC1wbS1kcmFnZ2luZycpO1xuICAgICAgfVxuXG4gICAgICAvLyBmaXJlIHBtOmRyYWdlbmQgZXZlbnRcbiAgICAgIHRoaXMuX2ZpcmVEcmFnRW5kKCk7XG5cbiAgICAgIC8vIGZpcmUgZWRpdFxuICAgICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgICAgIHRoaXMuX2xheWVyRWRpdGVkID0gdHJ1ZTtcbiAgICB9LCAxMCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgX29uTGF5ZXJEcmFnKGUpIHtcbiAgICAvLyBsYXRMbmcgb2YgbW91c2UgZXZlbnRcbiAgICBjb25zdCB7IGxhdGxuZyB9ID0gZTtcblxuICAgIC8vIGRlbHRhIGNvb3JkcyAoaG93IGZhciB3YXMgZHJhZ2dlZClcbiAgICBjb25zdCBkZWx0YUxhdExuZyA9IHtcbiAgICAgIGxhdDogbGF0bG5nLmxhdCAtIHRoaXMuX3RlbXBEcmFnQ29vcmQubGF0LFxuICAgICAgbG5nOiBsYXRsbmcubG5nIC0gdGhpcy5fdGVtcERyYWdDb29yZC5sbmcsXG4gICAgfTtcblxuICAgIC8vIG1vdmUgdGhlIGNvb3JkaW5hdGVzIGJ5IHRoZSBkZWx0YVxuICAgIGNvbnN0IG1vdmVDb29yZHMgPSAoY29vcmRzKSA9PlxuICAgICAgLy8gYWx0ZXIgdGhlIGNvb3JkaW5hdGVzXG4gICAgICBjb29yZHMubWFwKChjdXJyZW50TGF0TG5nKSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnRMYXRMbmcpKSB7XG4gICAgICAgICAgLy8gZG8gdGhpcyByZWN1cnNpdmVseSBhcyBjb29yZHMgbWlnaHQgYmUgbmVzdGVkXG4gICAgICAgICAgcmV0dXJuIG1vdmVDb29yZHMoY3VycmVudExhdExuZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3ZlIHRoZSBjb29yZCBhbmQgcmV0dXJuIGl0XG4gICAgICAgIGNvbnN0IG5ld0xhdGxuZyA9IHtcbiAgICAgICAgICBsYXQ6IGN1cnJlbnRMYXRMbmcubGF0ICsgZGVsdGFMYXRMbmcubGF0LFxuICAgICAgICAgIGxuZzogY3VycmVudExhdExuZy5sbmcgKyBkZWx0YUxhdExuZy5sbmcsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGN1cnJlbnRMYXRMbmcuYWx0IHx8IGN1cnJlbnRMYXRMbmcuYWx0ID09PSAwKSB7XG4gICAgICAgICAgbmV3TGF0bG5nLmFsdCA9IGN1cnJlbnRMYXRMbmcuYWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdMYXRsbmc7XG4gICAgICB9KTtcblxuICAgIGlmIChcbiAgICAgICh0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlICYmXG4gICAgICAgIHRoaXMuX2xheWVyLm9wdGlvbnMucmVzaXphYmxlQ2lyY2xlKSB8fFxuICAgICAgKHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIgJiZcbiAgICAgICAgdGhpcy5fbGF5ZXIub3B0aW9ucy5yZXNpemVhYmxlQ2lyY2xlTWFya2VyKVxuICAgICkge1xuICAgICAgLy8gY3JlYXRlIHRoZSBuZXcgY29vcmRpbmF0ZXMgYXJyYXlcbiAgICAgIGNvbnN0IG5ld0Nvb3JkcyA9IG1vdmVDb29yZHMoW3RoaXMuX2xheWVyLmdldExhdExuZygpXSk7XG4gICAgICAvLyBzZXQgbmV3IGNvb3JkaW5hdGVzIGFuZCByZWRyYXdcbiAgICAgIHRoaXMuX2xheWVyLnNldExhdExuZyhuZXdDb29yZHNbMF0pO1xuICAgICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmcoKSwgJ0VkaXQnKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlciB8fFxuICAgICAgdGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLk1hcmtlclxuICAgICkge1xuICAgICAgbGV0IGNvb3Jkc1JlZmVybmNlID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCk7XG4gICAgICBpZiAodGhpcy5fbGF5ZXIuX3NuYXBwZWQpIHtcbiAgICAgICAgLy8gaWYgbGF5ZXIgaXMgc25hcHBlZCB3ZSB1c2UgdGhlIG9yaWdpbmFsIGxhdGxuZyBmb3IgcmUtY2FsY3VsYXRpb24sIGVsc2UgdGhlIGxheWVyIHdpbGwgbm90IGJlIFwidW5zbmFwcGFibGVcIiBhbnltb3JlXG4gICAgICAgIGNvb3Jkc1JlZmVybmNlID0gdGhpcy5fbGF5ZXIuX29yZ0xhdExuZztcbiAgICAgIH1cbiAgICAgIC8vIGNyZWF0ZSB0aGUgbmV3IGNvb3JkaW5hdGVzIGFycmF5XG4gICAgICBjb25zdCBuZXdDb29yZHMgPSBtb3ZlQ29vcmRzKFtjb29yZHNSZWZlcm5jZV0pO1xuICAgICAgLy8gc2V0IG5ldyBjb29yZGluYXRlcyBhbmQgcmVkcmF3XG4gICAgICB0aGlzLl9sYXllci5zZXRMYXRMbmcobmV3Q29vcmRzWzBdKTtcbiAgICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCksICdFZGl0Jyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuSW1hZ2VPdmVybGF5KSB7XG4gICAgICAvLyBjcmVhdGUgdGhlIG5ldyBjb29yZGluYXRlcyBhcnJheVxuICAgICAgY29uc3QgbmV3Q29vcmRzID0gbW92ZUNvb3JkcyhbXG4gICAgICAgIHRoaXMuX2xheWVyLmdldEJvdW5kcygpLmdldE5vcnRoV2VzdCgpLFxuICAgICAgICB0aGlzLl9sYXllci5nZXRCb3VuZHMoKS5nZXRTb3V0aEVhc3QoKSxcbiAgICAgIF0pO1xuICAgICAgLy8gc2V0IG5ldyBjb29yZGluYXRlcyBhbmQgcmVkcmF3XG4gICAgICB0aGlzLl9sYXllci5zZXRCb3VuZHMobmV3Q29vcmRzKTtcbiAgICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0Qm91bmRzKCksICdFZGl0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNyZWF0ZSB0aGUgbmV3IGNvb3JkaW5hdGVzIGFycmF5XG4gICAgICBjb25zdCBuZXdDb29yZHMgPSBtb3ZlQ29vcmRzKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSk7XG5cbiAgICAgIC8vIHNldCBuZXcgY29vcmRpbmF0ZXMgYW5kIHJlZHJhd1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhuZXdDb29yZHMpO1xuICAgICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksICdFZGl0Jyk7XG4gICAgfVxuXG4gICAgLy8gc2F2ZSBjdXJyZW50IGxhdGxuZyBmb3IgbmV4dCBkZWx0YSBjYWxjdWxhdGlvblxuICAgIHRoaXMuX3RlbXBEcmFnQ29vcmQgPSBsYXRsbmc7XG5cbiAgICBlLmxheWVyID0gdGhpcy5fbGF5ZXI7XG4gICAgLy8gZmlyZSBwbTpkcmFnc3RhcnQgZXZlbnRcbiAgICB0aGlzLl9maXJlRHJhZyhlKTtcbiAgfSxcbiAgYWRkRHJhZ2dpbmdDbGFzcygpIHtcbiAgICBjb25zdCBlbCA9IHRoaXMuX2dldERPTUVsZW0oKTtcbiAgICBpZiAoZWwpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhlbCwgJ2xlYWZsZXQtcG0tZHJhZ2dhYmxlJyk7XG4gICAgfVxuICB9LFxuICByZW1vdmVEcmFnZ2luZ0NsYXNzKCkge1xuICAgIGNvbnN0IGVsID0gdGhpcy5fZ2V0RE9NRWxlbSgpO1xuICAgIGlmIChlbCkge1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKGVsLCAnbGVhZmxldC1wbS1kcmFnZ2FibGUnKTtcbiAgICB9XG4gIH0sXG4gIF9nZXRET01FbGVtKCkge1xuICAgIGxldCBlbCA9IG51bGw7XG4gICAgaWYgKHRoaXMuX2xheWVyLl9wYXRoKSB7XG4gICAgICBlbCA9IHRoaXMuX2xheWVyLl9wYXRoO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fbGF5ZXIuX3JlbmRlcmVyICYmIHRoaXMuX2xheWVyLl9yZW5kZXJlci5fY29udGFpbmVyKSB7XG4gICAgICBlbCA9IHRoaXMuX2xheWVyLl9yZW5kZXJlci5fY29udGFpbmVyO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fbGF5ZXIuX2ltYWdlKSB7XG4gICAgICBlbCA9IHRoaXMuX2xheWVyLl9pbWFnZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2xheWVyLl9pY29uKSB7XG4gICAgICBlbCA9IHRoaXMuX2xheWVyLl9pY29uO1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH0sXG4gIF9vdmVyd3JpdGVFdmVudElmSXRDb21lc0Zyb21NYXJrZXIoZSkge1xuICAgIC8vIGUubGF0bG5nIGlzIG5vdCB0aGUgY2xpY2tlZCBsYXRsbmcgaWYgdGhlIGxheWVyIGlzIGEgTWFya2VyIChvciB0aGUgcmFkaXVzIGJlbG93IDEwKSAtPiBMZWFmbGV0IGRlZmluaXRpb25cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2Jsb2IvMGY5MDRhNTE1ODc5ZmNkMDhmNjliN2Y1MTc5OWVlN2YxOGYyM2ZkOC9zcmMvbWFwL01hcC5qcyNMMTQxNlxuICAgIGNvbnN0IGlzTWFya2VyID1cbiAgICAgIGUudGFyZ2V0LmdldExhdExuZyAmJiAoIWUudGFyZ2V0Ll9yYWRpdXMgfHwgZS50YXJnZXQuX3JhZGl1cyA8PSAxMCk7XG4gICAgaWYgKGlzTWFya2VyKSB7XG4gICAgICAvLyB3ZSB3YW50IHRoZSBjbGlja2VkIGxhdGxuZyAvIHBvaW50LCBzbyB3ZSBvdmVyd3JpdGUgdGhlIHByb3BlcnR5IGUubGF0bG5nXG4gICAgICBlLmNvbnRhaW5lclBvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUub3JpZ2luYWxFdmVudCk7XG4gICAgICBlLmxhdGxuZyA9IHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKGUuY29udGFpbmVyUG9pbnQpO1xuICAgIH1cbiAgfSxcbiAgX3N5bmNMYXllcnMoZm5jLCBlKSB7XG4gICAgLy8gaWYgbGF5ZXIgaXMgaW4gRWRpdC1Nb2RlIGl0IHNob3VsZCBub3QgYmUgcG9zc2libGUgdG8gZHJhZyBvdGhlciBsYXllcnMgdG9vLiAoTWFya2VyICYgQ2lyY2xlTWFya2VyICYgSW1hZ2VPdmVybGF5KVxuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICFlLl9mcm9tTGF5ZXJTeW5jICYmXG4gICAgICB0aGlzLl9sYXllciA9PT0gZS50YXJnZXQgJiZcbiAgICAgIHRoaXMub3B0aW9ucy5zeW5jTGF5ZXJzT25EcmFnXG4gICAgKSB7XG4gICAgICBlLl9mcm9tTGF5ZXJTeW5jID0gdHJ1ZTtcbiAgICAgIGxldCBsYXllcnNUb1N5bmMgPSBbXTtcbiAgICAgIGlmIChMLlV0aWwuaXNBcnJheSh0aGlzLm9wdGlvbnMuc3luY0xheWVyc09uRHJhZykpIHtcbiAgICAgICAgLy8gbGF5ZXJzXG4gICAgICAgIGxheWVyc1RvU3luYyA9IHRoaXMub3B0aW9ucy5zeW5jTGF5ZXJzT25EcmFnO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy5zeW5jTGF5ZXJzT25EcmFnLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICAgICAgICBsYXllcnNUb1N5bmMgPSBsYXllcnNUb1N5bmMuY29uY2F0KGxheWVyLnBtLmdldExheWVycyh0cnVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnN5bmNMYXllcnNPbkRyYWcgPT09IHRydWUpIHtcbiAgICAgICAgLy8gTGF5ZXJHcm91cFxuICAgICAgICBpZiAodGhpcy5fcGFyZW50TGF5ZXJHcm91cCkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuX3BhcmVudExheWVyR3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGxnID0gdGhpcy5fcGFyZW50TGF5ZXJHcm91cFtrZXldO1xuICAgICAgICAgICAgaWYgKGxnLnBtKSB7XG4gICAgICAgICAgICAgIGxheWVyc1RvU3luYyA9IGxnLnBtLmdldExheWVycyh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKEwuVXRpbC5pc0FycmF5KGxheWVyc1RvU3luYykgJiYgbGF5ZXJzVG9TeW5jLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gZmlsdGVyIG91dCBsYXllcnMgdGhhdCBkb24ndCBoYXZlIGxlYWZsZXQtZ2VvbWFuIGFuZCBub3QgYWxsb3dlZCB0byBkcmFnXG4gICAgICAgIGxheWVyc1RvU3luYyA9IGxheWVyc1RvU3luY1xuICAgICAgICAgIC5maWx0ZXIoKGxheWVyKSA9PiAhIWxheWVyLnBtKVxuICAgICAgICAgIC5maWx0ZXIoKGxheWVyKSA9PiAhIWxheWVyLnBtLm9wdGlvbnMuZHJhZ2dhYmxlKTtcbiAgICAgICAgbGF5ZXJzVG9TeW5jLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICAgICAgaWYgKGxheWVyICE9PSB0aGlzLl9sYXllciAmJiBsYXllci5wbVtmbmNdKSB7XG4gICAgICAgICAgICBsYXllci5fc25hcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGF5ZXIucG1bZm5jXShlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxheWVyc1RvU3luYy5sZW5ndGggPiAwO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIF9zdG9wRE9NSW1hZ2VEcmFnKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgRHJhZ01peGluO1xuIiwgImltcG9ydCBnZXQgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQgeyBfY29udmVydExhdExuZ3MsIF90b1BvaW50IH0gZnJvbSAnLi4vaGVscGVycy9Nb2RlSGVscGVyJztcbmltcG9ydCB7IGNhbGNBbmdsZSwgY29weUxhdExuZ3MgfSBmcm9tICcuLi9oZWxwZXJzJztcblxuLyoqXG4gKiBXZSBjcmVhdGUgYSB0ZW1wb3JhcnkgcG9seWdvbiB3aXRoIHRoZSBzYW1lIGxhdGxuZ3MgYXMgdGhlIGxheWVyIHRoYXQgd2Ugd2FudCB0byByb3RhdGUuXG4gKiBXaHkgcG9seWdvbj8gQmVjYXVzZSB0aGVuIHdlIGhhdmUgdGhlIGNvcnJlY3QgY2VudGVyIGFsc28gZm9yIHBvbHlsaW5lcyB3aXRoIGBsYXllci5nZXRDZW50ZXIoKWAuXG4gKiBXZSByZWZlcmVuY2UgdGhlIG9yaWdpbiBsYXllciBhcyBgX3JvdGF0aW9uTGF5ZXJgLiBUaGUgcm90YXRlIGxpc3RlbmVycyAoYF9vblJvdGF0ZS4uLigpYCkgYXJlIG9ubHkgYXBwbGllZCB0byB0aGUgdGVtcCBwb2x5Z29uIGFuZCBmcm9tIHRoZXJlIHdlIG5lZWQgdG8gcm90YXRlIHRoZSBgX3JvdGF0aW9uTGF5ZXJgIHRvby5cbiAqXG4gKi9cblxuY29uc3QgUm90YXRlTWl4aW4gPSB7XG4gIF9vblJvdGF0ZVN0YXJ0KGUpIHtcbiAgICAvLyBwcmV2ZW50IHRoYXQgdGhlIGxpbWl0IE1hcmtlcnMgYXJlIGNhbGN1bGF0ZWQgbmV3XG4gICAgdGhpcy5fcHJldmVudFJlbmRlcmluZ01hcmtlcnModHJ1ZSk7XG4gICAgdGhpcy5fcm90YXRpb25PcmlnaW5MYXRMbmcgPSB0aGlzLl9nZXRSb3RhdGlvbkNlbnRlcigpLmNsb25lKCk7XG4gICAgdGhpcy5fcm90YXRpb25PcmlnaW5Qb2ludCA9IF90b1BvaW50KHRoaXMuX21hcCwgdGhpcy5fcm90YXRpb25PcmlnaW5MYXRMbmcpO1xuICAgIHRoaXMuX3JvdGF0aW9uU3RhcnRQb2ludCA9IF90b1BvaW50KHRoaXMuX21hcCwgZS50YXJnZXQuZ2V0TGF0TG5nKCkpO1xuICAgIC8vIHdlIG5lZWQgdG8gc3RvcmUgdGhlIGluaXRpYWwgbGF0bG5ncyBzbyB3ZSBjYW4gYWx3YXlzIHJlLWNhbGMgZnJvbSB0aGUgb3JpZ2luIGxhdGxuZ3NcbiAgICB0aGlzLl9pbml0aWFsUm90YXRlTGF0TG5nID0gY29weUxhdExuZ3ModGhpcy5fbGF5ZXIpO1xuICAgIHRoaXMuX3N0YXJ0QW5nbGUgPSB0aGlzLmdldEFuZ2xlKCk7XG5cbiAgICBjb25zdCBvcmlnaW5MYXRMbmdzID0gY29weUxhdExuZ3MoXG4gICAgICB0aGlzLl9yb3RhdGlvbkxheWVyLFxuICAgICAgdGhpcy5fcm90YXRpb25MYXllci5wbS5fcm90YXRlT3JnTGF0TG5nXG4gICAgKTtcblxuICAgIHRoaXMuX2ZpcmVSb3RhdGlvblN0YXJ0KHRoaXMuX3JvdGF0aW9uTGF5ZXIsIG9yaWdpbkxhdExuZ3MpO1xuICAgIHRoaXMuX2ZpcmVSb3RhdGlvblN0YXJ0KHRoaXMuX21hcCwgb3JpZ2luTGF0TG5ncyk7XG4gIH0sXG4gIF9vblJvdGF0ZShlKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBfdG9Qb2ludCh0aGlzLl9tYXAsIGUudGFyZ2V0LmdldExhdExuZygpKTtcbiAgICBjb25zdCBwcmV2aW91cyA9IHRoaXMuX3JvdGF0aW9uU3RhcnRQb2ludDtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLl9yb3RhdGlvbk9yaWdpblBvaW50O1xuXG4gICAgLy8gcm90YXRpb24gZGlmZiBhbmdsZSAocmFkaWFudClcbiAgICBjb25zdCBhbmdsZURpZmZSYWRpYW50ID1cbiAgICAgIE1hdGguYXRhbjIocG9zaXRpb24ueSAtIG9yaWdpbi55LCBwb3NpdGlvbi54IC0gb3JpZ2luLngpIC1cbiAgICAgIE1hdGguYXRhbjIocHJldmlvdXMueSAtIG9yaWdpbi55LCBwcmV2aW91cy54IC0gb3JpZ2luLngpO1xuXG4gICAgLy8gcm90YXRlIHRoZSB0ZW1wIHBvbHlnb25cbiAgICB0aGlzLl9sYXllci5zZXRMYXRMbmdzKFxuICAgICAgdGhpcy5fcm90YXRlTGF5ZXIoXG4gICAgICAgIGFuZ2xlRGlmZlJhZGlhbnQsXG4gICAgICAgIHRoaXMuX2luaXRpYWxSb3RhdGVMYXRMbmcsXG4gICAgICAgIHRoaXMuX3JvdGF0aW9uT3JpZ2luTGF0TG5nLFxuICAgICAgICBMLlBNLk1hdHJpeC5pbml0KCksXG4gICAgICAgIHRoaXMuX21hcFxuICAgICAgKVxuICAgICk7XG4gICAgLy8gbW92ZSB0aGUgaGVscGVyIG1hcmtlcnNcbiAgICBjb25zdCB0aGF0ID0gdGhpcztcbiAgICBmdW5jdGlvbiBmb3JFYWNoTGF0TG5nKGxhdGxuZywgcGF0aCA9IFtdLCBfaSA9IC0xKSB7XG4gICAgICBpZiAoX2kgPiAtMSkge1xuICAgICAgICBwYXRoLnB1c2goX2kpO1xuICAgICAgfVxuICAgICAgaWYgKEwuVXRpbC5pc0FycmF5KGxhdGxuZ1swXSkpIHtcbiAgICAgICAgbGF0bG5nLmZvckVhY2goKHgsIGkpID0+IGZvckVhY2hMYXRMbmcoeCwgcGF0aC5zbGljZSgpLCBpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtYXJrZXJzID0gZ2V0KHRoYXQuX21hcmtlcnMsIHBhdGgpO1xuICAgICAgICBsYXRsbmcuZm9yRWFjaCgoX2xhdGxuZywgaikgPT4ge1xuICAgICAgICAgIGNvbnN0IG1hcmtlciA9IG1hcmtlcnNbal07XG4gICAgICAgICAgbWFya2VyLnNldExhdExuZyhfbGF0bG5nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hMYXRMbmcodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpKTtcblxuICAgIGNvbnN0IG9sZExhdExuZ3MgPSBjb3B5TGF0TG5ncyh0aGlzLl9yb3RhdGlvbkxheWVyKTtcbiAgICAvLyByb3RhdGUgdGhlIG9yaWdpbiBsYXllclxuICAgIHRoaXMuX3JvdGF0aW9uTGF5ZXIuc2V0TGF0TG5ncyhcbiAgICAgIHRoaXMuX3JvdGF0ZUxheWVyKFxuICAgICAgICBhbmdsZURpZmZSYWRpYW50LFxuICAgICAgICB0aGlzLl9yb3RhdGlvbkxheWVyLnBtLl9yb3RhdGVPcmdMYXRMbmcsXG4gICAgICAgIHRoaXMuX3JvdGF0aW9uT3JpZ2luTGF0TG5nLFxuICAgICAgICBMLlBNLk1hdHJpeC5pbml0KCksXG4gICAgICAgIHRoaXMuX21hcFxuICAgICAgKVxuICAgICk7XG5cbiAgICAvLyBjb252ZXJ0IHRoZSBkaWZmZXJlbmNlIHJhZGlhbnQgdG8gZGVncmVlcyBhbmQgYWRkIGl0IHRvIHRoZSBhbmdsZSBiZWZvcmUgcm90YXRpb24gc3RhcnRzXG4gICAgbGV0IGFuZ2xlRGlmZiA9IChhbmdsZURpZmZSYWRpYW50ICogMTgwKSAvIE1hdGguUEk7XG4gICAgYW5nbGVEaWZmID0gYW5nbGVEaWZmIDwgMCA/IGFuZ2xlRGlmZiArIDM2MCA6IGFuZ2xlRGlmZjtcbiAgICBjb25zdCBhbmdsZSA9IGFuZ2xlRGlmZiArIHRoaXMuX3N0YXJ0QW5nbGU7XG4gICAgdGhpcy5fc2V0QW5nbGUoYW5nbGUpO1xuICAgIHRoaXMuX3JvdGF0aW9uTGF5ZXIucG0uX3NldEFuZ2xlKGFuZ2xlKTtcblxuICAgIHRoaXMuX2ZpcmVSb3RhdGlvbih0aGlzLl9yb3RhdGlvbkxheWVyLCBhbmdsZURpZmYsIG9sZExhdExuZ3MpO1xuICAgIHRoaXMuX2ZpcmVSb3RhdGlvbih0aGlzLl9tYXAsIGFuZ2xlRGlmZiwgb2xkTGF0TG5ncyk7XG4gICAgdGhpcy5fcm90YXRpb25MYXllci5wbS5fZmlyZUNoYW5nZShcbiAgICAgIHRoaXMuX3JvdGF0aW9uTGF5ZXIuZ2V0TGF0TG5ncygpLFxuICAgICAgJ1JvdGF0aW9uJ1xuICAgICk7XG4gIH0sXG4gIF9vblJvdGF0ZUVuZCgpIHtcbiAgICBjb25zdCBzdGFydEFuZ2xlID0gdGhpcy5fc3RhcnRBbmdsZTtcbiAgICBkZWxldGUgdGhpcy5fcm90YXRpb25PcmlnaW5MYXRMbmc7XG4gICAgZGVsZXRlIHRoaXMuX3JvdGF0aW9uT3JpZ2luUG9pbnQ7XG4gICAgZGVsZXRlIHRoaXMuX3JvdGF0aW9uU3RhcnRQb2ludDtcbiAgICBkZWxldGUgdGhpcy5faW5pdGlhbFJvdGF0ZUxhdExuZztcbiAgICBkZWxldGUgdGhpcy5fc3RhcnRBbmdsZTtcblxuICAgIGNvbnN0IG9yaWdpbkxhdExuZ3MgPSBjb3B5TGF0TG5ncyhcbiAgICAgIHRoaXMuX3JvdGF0aW9uTGF5ZXIsXG4gICAgICB0aGlzLl9yb3RhdGlvbkxheWVyLnBtLl9yb3RhdGVPcmdMYXRMbmdcbiAgICApO1xuICAgIC8vIHN0b3JlIHRoZSBuZXcgbGF0bG5nc1xuICAgIHRoaXMuX3JvdGF0aW9uTGF5ZXIucG0uX3JvdGF0ZU9yZ0xhdExuZyA9IGNvcHlMYXRMbmdzKHRoaXMuX3JvdGF0aW9uTGF5ZXIpO1xuXG4gICAgdGhpcy5fZmlyZVJvdGF0aW9uRW5kKHRoaXMuX3JvdGF0aW9uTGF5ZXIsIHN0YXJ0QW5nbGUsIG9yaWdpbkxhdExuZ3MpO1xuICAgIHRoaXMuX2ZpcmVSb3RhdGlvbkVuZCh0aGlzLl9tYXAsIHN0YXJ0QW5nbGUsIG9yaWdpbkxhdExuZ3MpO1xuICAgIHRoaXMuX3JvdGF0aW9uTGF5ZXIucG0uX2ZpcmVFZGl0KHRoaXMuX3JvdGF0aW9uTGF5ZXIsICdSb3RhdGlvbicpO1xuXG4gICAgdGhpcy5fcHJldmVudFJlbmRlcmluZ01hcmtlcnMoZmFsc2UpO1xuXG4gICAgdGhpcy5fbGF5ZXJSb3RhdGVkID0gdHJ1ZTtcbiAgfSxcbiAgX3JvdGF0ZUxheWVyKHJhZGlhbnQsIGxhdGxuZ3MsIG9yaWdpbiwgX21hdHJpeCwgbWFwKSB7XG4gICAgY29uc3Qgb3JpZ2luUG9pbnQgPSBfdG9Qb2ludChtYXAsIG9yaWdpbik7XG4gICAgdGhpcy5fbWF0cml4ID0gX21hdHJpeC5jbG9uZSgpLnJvdGF0ZShyYWRpYW50LCBvcmlnaW5Qb2ludCkuZmxpcCgpO1xuICAgIHJldHVybiBfY29udmVydExhdExuZ3MobGF0bG5ncywgdGhpcy5fbWF0cml4LCBtYXApO1xuICB9LFxuICBfc2V0QW5nbGUoYW5nbGUpIHtcbiAgICBhbmdsZSA9IGFuZ2xlIDwgMCA/IGFuZ2xlICsgMzYwIDogYW5nbGU7XG4gICAgdGhpcy5fYW5nbGUgPSBhbmdsZSAlIDM2MDtcbiAgfSxcbiAgX2dldFJvdGF0aW9uQ2VudGVyKCkge1xuICAgIGlmICh0aGlzLl9yb3RhdGlvbkNlbnRlcikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uQ2VudGVyO1xuICAgIH1cblxuICAgIGNvbnN0IHBvbHlnb24gPSBMLnBvbHlnb24odGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpLCB7XG4gICAgICBzdHJva2U6IGZhbHNlLFxuICAgICAgZmlsbDogZmFsc2UsXG4gICAgICBwbUlnbm9yZTogdHJ1ZSxcbiAgICB9KS5hZGRUbyh0aGlzLl9sYXllci5fbWFwKTtcbiAgICBjb25zdCBjZW50ZXIgPSBwb2x5Z29uLmdldENlbnRlcigpO1xuICAgIHBvbHlnb24ucmVtb3ZlRnJvbSh0aGlzLl9sYXllci5fbWFwKTtcbiAgICByZXR1cm4gY2VudGVyO1xuICB9LFxuXG4gIC8qXG4gICAqXG4gICAqIFB1YmxpYyBmdW5jdGlvbnMgZi5leC4gdG8gZGlzYWJsZSBhbmQgZW5hYmxlIHJvdGF0aW9uIG9uIHRoZSBsYXllciBkaXJlY3RseVxuICAgKlxuICAgKi9cbiAgZW5hYmxlUm90YXRlKCkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93Um90YXRpb24pIHtcbiAgICAgIHRoaXMuZGlzYWJsZVJvdGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJvdGF0ZUVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlUm90YXRlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5SZWN0YW5nbGUgJiYgdGhpcy5fYW5nbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRJbml0QW5nbGUoXG4gICAgICAgIGNhbGNBbmdsZShcbiAgICAgICAgICB0aGlzLl9sYXllci5fbWFwLFxuICAgICAgICAgIHRoaXMuX2xheWVyLmdldExhdExuZ3MoKVswXVswXSxcbiAgICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClbMF1bMV1cbiAgICAgICAgKSB8fCAwXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFdlIGNyZWF0ZSBhbiBoaWRkZW4gcG9seWdvbi4gV2Ugc2V0IHBtSWdub3JlIHRvIGZhbHNlLCBzbyB0aGF0IHRoZSBgcG1gIHByb3BlcnR5IHdpbGwgYmUgYWx3YXlzIGNyZWF0ZSwgYWxzbyBpZiBPcHRJbiA9PSB0cnVlXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgc3Ryb2tlOiBmYWxzZSxcbiAgICAgIHBtSWdub3JlOiBmYWxzZSxcbiAgICAgIHNuYXBJZ25vcmU6IHRydWUsXG4gICAgfTtcblxuICAgIC8vIHdlIGNyZWF0ZSBhIHRlbXAgcG9seWdvbiBmb3Igcm90YXRpb25cbiAgICB0aGlzLl9yb3RhdGVQb2x5ID0gTC5wb2x5Z29uKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwgb3B0aW9ucyk7XG4gICAgdGhpcy5fcm90YXRlUG9seS5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX3JvdGF0ZVBvbHkuYWRkVG8odGhpcy5fbGF5ZXIuX21hcCk7XG4gICAgdGhpcy5fcm90YXRlUG9seS5wbS5fc2V0QW5nbGUodGhpcy5nZXRBbmdsZSgpKTtcbiAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLnNldFJvdGF0aW9uQ2VudGVyKHRoaXMuZ2V0Um90YXRpb25DZW50ZXIoKSk7XG4gICAgdGhpcy5fcm90YXRlUG9seS5wbS5zZXRPcHRpb25zKHRoaXMuX2xheWVyLl9tYXAucG0uZ2V0R2xvYmFsT3B0aW9ucygpKTtcbiAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLnNldE9wdGlvbnMoe1xuICAgICAgcm90YXRlOiB0cnVlLFxuICAgICAgc25hcHBhYmxlOiBmYWxzZSxcbiAgICAgIGhpZGVNaWRkbGVNYXJrZXJzOiB0cnVlLFxuICAgIH0pO1xuICAgIC8vIHdlIGNvbm5lY3QgdGhlIHRlbXAgcG9seWdvbiAodGhhdCB3aWxsIGJlIGVuYWJsZWQgZm9yIHJvdGF0aW9uKSB3aXRoIHRoZSBjdXJyZW50IGxheWVyLCBzbyB0aGF0IHdlIGNhbiByb3RhdGUgdGhlIGN1cnJlbnQgbGF5ZXIgdG9vXG4gICAgdGhpcy5fcm90YXRlUG9seS5wbS5fcm90YXRpb25MYXllciA9IHRoaXMuX2xheWVyO1xuICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uZW5hYmxlKCk7XG5cbiAgICAvLyBzdG9yZSB0aGUgb3JpZ2luYWwgbGF0bG5nc1xuICAgIHRoaXMuX3JvdGF0ZU9yZ0xhdExuZyA9IGNvcHlMYXRMbmdzKHRoaXMuX2xheWVyKTtcblxuICAgIHRoaXMuX3JvdGF0ZUVuYWJsZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5fbGF5ZXIub24oJ3JlbW92ZScsIHRoaXMuZGlzYWJsZVJvdGF0ZSwgdGhpcyk7XG5cbiAgICB0aGlzLl9maXJlUm90YXRpb25FbmFibGUodGhpcy5fbGF5ZXIpO1xuICAgIC8vIHdlIG5lZWQgdG8gdXNlIHRoaXMuX2xheWVyLl9tYXAgYmVjYXVzZSB0aGlzLl9tYXAgY2FuIGJlIHVuZGVmaW5lZCBpZiBsYXllciB3YXMgbmV2ZXIgZW5hYmxlZCBmb3IgZWRpdGluZyBiZWZvcmVcbiAgICB0aGlzLl9maXJlUm90YXRpb25FbmFibGUodGhpcy5fbGF5ZXIuX21hcCk7XG4gIH0sXG4gIGRpc2FibGVSb3RhdGUoKSB7XG4gICAgaWYgKHRoaXMucm90YXRlRW5hYmxlZCgpKSB7XG4gICAgICBpZiAodGhpcy5fcm90YXRlUG9seS5wbS5fbGF5ZXJSb3RhdGVkKSB7XG4gICAgICAgIHRoaXMuX2ZpcmVVcGRhdGUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uX2xheWVyUm90YXRlZCA9IGZhbHNlO1xuICAgICAgLy8gZGVsZXRlIHRoZSB0ZW1wIHBvbHlnb25cbiAgICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uZGlzYWJsZSgpO1xuICAgICAgdGhpcy5fcm90YXRlUG9seS5yZW1vdmUoKTtcbiAgICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uc2V0T3B0aW9ucyh7IHJvdGF0ZTogZmFsc2UgfSk7XG4gICAgICB0aGlzLl9yb3RhdGVQb2x5ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fcm90YXRlT3JnTGF0TG5nID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLl9sYXllci5vZmYoJ3JlbW92ZScsIHRoaXMuZGlzYWJsZVJvdGF0ZSwgdGhpcyk7XG5cbiAgICAgIHRoaXMuX3JvdGF0ZUVuYWJsZWQgPSBmYWxzZTtcblxuICAgICAgdGhpcy5fZmlyZVJvdGF0aW9uRGlzYWJsZSh0aGlzLl9sYXllcik7XG4gICAgICAvLyB3ZSBuZWVkIHRvIHVzZSB0aGlzLl9sYXllci5fbWFwIGJlY2F1c2UgdGhpcy5fbWFwIGNhbiBiZSB1bmRlZmluZWQgaWYgbGF5ZXIgd2FzIG5ldmVyIGVuYWJsZWQgZm9yIGVkaXRpbmcgYmVmb3JlXG4gICAgICB0aGlzLl9maXJlUm90YXRpb25EaXNhYmxlKHRoaXMuX2xheWVyLl9tYXApO1xuICAgIH1cbiAgfSxcbiAgcm90YXRlRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9yb3RhdGVFbmFibGVkO1xuICB9LFxuICAvLyBhbmdsZSBpcyBjbG9ja3dpc2UgKDAtMzYwKVxuICByb3RhdGVMYXllcihkZWdyZWVzKSB7XG4gICAgY29uc3Qgb2xkQW5nbGUgPSB0aGlzLmdldEFuZ2xlKCk7XG4gICAgY29uc3Qgb2xkTGF0TG5ncyA9IHRoaXMuX2xheWVyLmdldExhdExuZ3MoKTtcbiAgICBjb25zdCByYWRzID0gZGVncmVlcyAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICB0aGlzLl9sYXllci5zZXRMYXRMbmdzKFxuICAgICAgdGhpcy5fcm90YXRlTGF5ZXIoXG4gICAgICAgIHJhZHMsXG4gICAgICAgIHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSxcbiAgICAgICAgdGhpcy5fZ2V0Um90YXRpb25DZW50ZXIoKSxcbiAgICAgICAgTC5QTS5NYXRyaXguaW5pdCgpLFxuICAgICAgICB0aGlzLl9sYXllci5fbWFwXG4gICAgICApXG4gICAgKTtcbiAgICAvLyBzdG9yZSB0aGUgbmV3IGxhdGxuZ3NcbiAgICB0aGlzLl9yb3RhdGVPcmdMYXRMbmcgPSBMLnBvbHlnb24odGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpKS5nZXRMYXRMbmdzKCk7XG4gICAgdGhpcy5fc2V0QW5nbGUodGhpcy5nZXRBbmdsZSgpICsgZGVncmVlcyk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5yb3RhdGVFbmFibGVkKCkgJiZcbiAgICAgIHRoaXMuX3JvdGF0ZVBvbHkgJiZcbiAgICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uZW5hYmxlZCgpXG4gICAgKSB7XG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnNldExhdExuZ3MoXG4gICAgICAgIHRoaXMuX3JvdGF0ZUxheWVyKFxuICAgICAgICAgIHJhZHMsXG4gICAgICAgICAgdGhpcy5fcm90YXRlUG9seS5nZXRMYXRMbmdzKCksXG4gICAgICAgICAgdGhpcy5fZ2V0Um90YXRpb25DZW50ZXIoKSxcbiAgICAgICAgICBMLlBNLk1hdHJpeC5pbml0KCksXG4gICAgICAgICAgdGhpcy5fcm90YXRlUG9seS5fbWFwXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLl9pbml0TWFya2VycygpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGZvciBuZWdhdGl2ZSBhbmdsZSBjaGFuZ2UgdGhlIGRpZmZlcmVuY2UgaXMgYWx3YXlzICgzNjAgLSBhbmdsZSksIGRvIHdlIHdhbnQgdGhpcz9cbiAgICBsZXQgYW5nbGVEaWZmID0gdGhpcy5nZXRBbmdsZSgpIC0gb2xkQW5nbGU7XG4gICAgYW5nbGVEaWZmID0gYW5nbGVEaWZmIDwgMCA/IGFuZ2xlRGlmZiArIDM2MCA6IGFuZ2xlRGlmZjtcblxuICAgIHRoaXMuX3N0YXJ0QW5nbGUgPSBvbGRBbmdsZTtcbiAgICB0aGlzLl9maXJlUm90YXRpb24odGhpcy5fbGF5ZXIsIGFuZ2xlRGlmZiwgb2xkTGF0TG5ncywgdGhpcy5fbGF5ZXIpO1xuICAgIHRoaXMuX2ZpcmVSb3RhdGlvbihcbiAgICAgIHRoaXMuX21hcCB8fCB0aGlzLl9sYXllci5fbWFwLFxuICAgICAgYW5nbGVEaWZmLFxuICAgICAgb2xkTGF0TG5ncyxcbiAgICAgIHRoaXMuX2xheWVyXG4gICAgKTtcbiAgICBkZWxldGUgdGhpcy5fc3RhcnRBbmdsZTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwgJ1JvdGF0aW9uJyk7XG4gIH0sXG4gIHJvdGF0ZUxheWVyVG9BbmdsZShkZWdyZWVzKSB7XG4gICAgY29uc3QgbmV3QW5sZ2UgPSBkZWdyZWVzIC0gdGhpcy5nZXRBbmdsZSgpO1xuICAgIHRoaXMucm90YXRlTGF5ZXIobmV3QW5sZ2UpO1xuICB9LFxuICAvLyBhbmdsZSBpcyBjbG9ja3dpc2UgKDAtMzYwKVxuICBnZXRBbmdsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYW5nbGUgfHwgMDtcbiAgfSxcbiAgLy8gYW5nbGUgaXMgY2xvY2t3aXNlICgwLTM2MClcbiAgc2V0SW5pdEFuZ2xlKGRlZ3JlZXMpIHtcbiAgICB0aGlzLl9zZXRBbmdsZShkZWdyZWVzKTtcbiAgfSxcbiAgZ2V0Um90YXRpb25DZW50ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFJvdGF0aW9uQ2VudGVyKCk7XG4gIH0sXG4gIHNldFJvdGF0aW9uQ2VudGVyKGNlbnRlcikge1xuICAgIHRoaXMuX3JvdGF0aW9uQ2VudGVyID0gY2VudGVyO1xuXG4gICAgaWYgKHRoaXMuX3JvdGF0ZVBvbHkpIHtcbiAgICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uc2V0Um90YXRpb25DZW50ZXIoY2VudGVyKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBSb3RhdGVNaXhpbjtcbiIsICJleHBvcnQgZnVuY3Rpb24gX2NvbnZlcnRMYXRMbmcobGF0bG5nLCBtYXRyaXgsIG1hcCwgem9vbSkge1xuICByZXR1cm4gbWFwLnVucHJvamVjdChtYXRyaXgudHJhbnNmb3JtKG1hcC5wcm9qZWN0KGxhdGxuZywgem9vbSkpLCB6b29tKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9jb252ZXJ0TGF0TG5ncyhsYXRsbmcsIG1hdHJpeCwgbWFwKSB7XG4gIGxldCB6b29tID0gbWFwLmdldE1heFpvb20oKTtcbiAgaWYgKHpvb20gPT09IEluZmluaXR5KSB7XG4gICAgem9vbSA9IG1hcC5nZXRab29tKCk7XG4gIH1cbiAgaWYgKEwuVXRpbC5pc0FycmF5KGxhdGxuZykpIHtcbiAgICBjb25zdCBsYXRsbmdzID0gW107XG4gICAgbGF0bG5nLmZvckVhY2goKHgpID0+IHtcbiAgICAgIGxhdGxuZ3MucHVzaChfY29udmVydExhdExuZ3MoeCwgbWF0cml4LCBtYXApKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbGF0bG5ncztcbiAgfVxuICBpZiAobGF0bG5nIGluc3RhbmNlb2YgTC5MYXRMbmcpIHtcbiAgICByZXR1cm4gX2NvbnZlcnRMYXRMbmcobGF0bG5nLCBtYXRyaXgsIG1hcCwgem9vbSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfdG9Qb2ludChtYXAsIGxhdGxuZykge1xuICBpZiAobGF0bG5nIGluc3RhbmNlb2YgTC5MYXllcikge1xuICAgIGxhdGxuZyA9IGxhdGxuZy5nZXRMYXRMbmcoKTtcbiAgfVxuICBsZXQgem9vbSA9IG1hcC5nZXRNYXhab29tKCk7XG4gIGlmICh6b29tID09PSBJbmZpbml0eSkge1xuICAgIHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuICB9XG4gIHJldHVybiBtYXAucHJvamVjdChsYXRsbmcsIHpvb20pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3RvTGF0TG5nKG1hcCwgcG9pbnQpIHtcbiAgbGV0IHpvb20gPSBtYXAuZ2V0TWF4Wm9vbSgpO1xuICBpZiAoem9vbSA9PT0gSW5maW5pdHkpIHtcbiAgICB6b29tID0gbWFwLmdldFpvb20oKTtcbiAgfVxuICByZXR1cm4gbWFwLnVucHJvamVjdChwb2ludCwgem9vbSk7XG59XG4iLCAiaW1wb3J0IFNuYXBNaXhpbiBmcm9tICcuLi9NaXhpbnMvU25hcHBpbmcnO1xuaW1wb3J0IERyYWdNaXhpbiBmcm9tICcuLi9NaXhpbnMvRHJhZ2dpbmcnO1xuaW1wb3J0IFJvdGF0ZU1peGluIGZyb20gJy4uL01peGlucy9Sb3RhdGluZyc7XG5pbXBvcnQgRXZlbnRNaXhpbiBmcm9tICcuLi9NaXhpbnMvRXZlbnRzJztcblxuY29uc3QgRWRpdCA9IEwuQ2xhc3MuZXh0ZW5kKHtcbiAgaW5jbHVkZXM6IFtEcmFnTWl4aW4sIFNuYXBNaXhpbiwgUm90YXRlTWl4aW4sIEV2ZW50TWl4aW5dLFxuICBvcHRpb25zOiB7XG4gICAgc25hcHBhYmxlOiB0cnVlLCAvLyBUT0RPOiBuZXh0IG1ham9yIFJlbGVhc2UsIHJlbmFtZSBpdCB0byBhbGxvd1NuYXBwaW5nXG4gICAgc25hcERpc3RhbmNlOiAyMCxcbiAgICBhbGxvd1NlbGZJbnRlcnNlY3Rpb246IHRydWUsXG4gICAgYWxsb3dTZWxmSW50ZXJzZWN0aW9uRWRpdDogZmFsc2UsXG4gICAgcHJldmVudE1hcmtlclJlbW92YWw6IGZhbHNlLFxuICAgIHJlbW92ZUxheWVyQmVsb3dNaW5WZXJ0ZXhDb3VudDogdHJ1ZSxcbiAgICBsaW1pdE1hcmtlcnNUb0NvdW50OiAtMSxcbiAgICBoaWRlTWlkZGxlTWFya2VyczogZmFsc2UsXG4gICAgc25hcFNlZ21lbnQ6IHRydWUsXG4gICAgc3luY0xheWVyc09uRHJhZzogZmFsc2UsXG4gICAgZHJhZ2dhYmxlOiB0cnVlLCAvLyBUT0RPOiBuZXh0IG1ham9yIFJlbGVhc2UsIHJlbmFtZSBpdCB0byBhbGxvd0RyYWdnaW5nXG4gICAgYWxsb3dFZGl0aW5nOiB0cnVlLCAvLyBkaXNhYmxlIGFsbCBpbnRlcmFjdGlvbnMgb24gYSBsYXllciB3aGljaCBhcmUgYWN0aXZhdGVkIHdpdGggYGVuYWJsZSgpYC4gRm9yIGV4YW1wbGUgYSBDaXJjbGUgY2FuJ3QgYmUgZHJhZ2dlZCBpbiBFZGl0LU1vZGVcbiAgICBhbGxvd1JlbW92YWw6IHRydWUsXG4gICAgYWxsb3dDdXR0aW5nOiB0cnVlLFxuICAgIGFsbG93Um90YXRpb246IHRydWUsXG4gICAgYWRkVmVydGV4T246ICdjbGljaycsXG4gICAgcmVtb3ZlVmVydGV4T246ICdjb250ZXh0bWVudScsXG4gICAgcmVtb3ZlVmVydGV4VmFsaWRhdGlvbjogdW5kZWZpbmVkLFxuICAgIGFkZFZlcnRleFZhbGlkYXRpb246IHVuZGVmaW5lZCxcbiAgICBtb3ZlVmVydGV4VmFsaWRhdGlvbjogdW5kZWZpbmVkLFxuICAgIHJlc2l6ZWFibGVDaXJjbGVNYXJrZXI6IGZhbHNlLFxuICAgIHJlc2l6YWJsZUNpcmNsZTogdHJ1ZSxcbiAgfSxcbiAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG4gIH0sXG4gIGdldE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucztcbiAgfSxcbiAgYXBwbHlPcHRpb25zKCkge30sXG4gIGlzUG9seWdvbigpIHtcbiAgICAvLyBpZiBpdCdzIGEgcG9seWdvbiwgaXQgbWVhbnMgdGhlIGNvb3JkaW5hdGVzIGFycmF5IGlzIG11bHRpIGRpbWVuc2lvbmFsXG4gICAgcmV0dXJuIHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5Qb2x5Z29uO1xuICB9LFxuICBnZXRTaGFwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2hhcGU7XG4gIH0sXG4gIF9zZXRQYW5lKGxheWVyLCB0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT09ICdsYXllclBhbmUnKSB7XG4gICAgICBsYXllci5vcHRpb25zLnBhbmUgPVxuICAgICAgICAodGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMgJiZcbiAgICAgICAgICB0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcy5sYXllclBhbmUpIHx8XG4gICAgICAgICdvdmVybGF5UGFuZSc7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAndmVydGV4UGFuZScpIHtcbiAgICAgIGxheWVyLm9wdGlvbnMucGFuZSA9XG4gICAgICAgICh0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcyAmJlxuICAgICAgICAgIHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzLnZlcnRleFBhbmUpIHx8XG4gICAgICAgICdtYXJrZXJQYW5lJztcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtYXJrZXJQYW5lJykge1xuICAgICAgbGF5ZXIub3B0aW9ucy5wYW5lID1cbiAgICAgICAgKHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzICYmXG4gICAgICAgICAgdGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMubWFya2VyUGFuZSkgfHxcbiAgICAgICAgJ21hcmtlclBhbmUnO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlKCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcCB8fCB0aGlzLl9sYXllci5fbWFwO1xuICAgIG1hcC5wbS5yZW1vdmVMYXllcih7IHRhcmdldDogdGhpcy5fbGF5ZXIgfSk7XG4gIH0sXG4gIF92ZXJ0ZXhWYWxpZGF0aW9uKHR5cGUsIGUpIHtcbiAgICBjb25zdCBtYXJrZXIgPSBlLnRhcmdldDtcbiAgICBjb25zdCBhcmdzID0geyBsYXllcjogdGhpcy5fbGF5ZXIsIG1hcmtlciwgZXZlbnQ6IGUgfTtcblxuICAgIGxldCB2YWxpZGF0aW9uRm5jID0gJyc7XG4gICAgaWYgKHR5cGUgPT09ICdtb3ZlJykge1xuICAgICAgdmFsaWRhdGlvbkZuYyA9ICdtb3ZlVmVydGV4VmFsaWRhdGlvbic7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnYWRkJykge1xuICAgICAgdmFsaWRhdGlvbkZuYyA9ICdhZGRWZXJ0ZXhWYWxpZGF0aW9uJztcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdyZW1vdmUnKSB7XG4gICAgICB2YWxpZGF0aW9uRm5jID0gJ3JlbW92ZVZlcnRleFZhbGlkYXRpb24nO1xuICAgIH1cblxuICAgIC8vIGlmIHZhbGlkYXRpb24gZ29lcyB3cm9uZywgd2UgcmV0dXJuIGZhbHNlXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zW3ZhbGlkYXRpb25GbmNdICYmXG4gICAgICB0eXBlb2YgdGhpcy5vcHRpb25zW3ZhbGlkYXRpb25GbmNdID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAhdGhpcy5vcHRpb25zW3ZhbGlkYXRpb25GbmNdKGFyZ3MpXG4gICAgKSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ21vdmUnKSB7XG4gICAgICAgIG1hcmtlci5fY2FuY2VsRHJhZ0V2ZW50Q2hhaW4gPSBtYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbWFya2VyLl9jYW5jZWxEcmFnRXZlbnRDaGFpbiA9IG51bGw7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIF92ZXJ0ZXhWYWxpZGF0aW9uRHJhZyhtYXJrZXIpIHtcbiAgICAvLyB3ZSByZXNldCB0aGUgbWFya2VyIHRvIHRoZSBwbGFjZSBiZWZvcmUgaXQgd2FzIGRyYWdnZWQuIFdlIG5lZWQgdGhpcywgYmVjYXVzZSB3ZSBjYW4ndCBzdG9wIHRoZSBkcmFnIHByb2Nlc3MgaW4gYSBgZHJhZ3N0YXJ0YCB8IGBtb3Zlc3RhcnRgIGxpc3RlbmVyXG4gICAgaWYgKG1hcmtlci5fY2FuY2VsRHJhZ0V2ZW50Q2hhaW4pIHtcbiAgICAgIG1hcmtlci5fbGF0bG5nID0gbWFya2VyLl9jYW5jZWxEcmFnRXZlbnRDaGFpbjtcbiAgICAgIG1hcmtlci51cGRhdGUoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIF92ZXJ0ZXhWYWxpZGF0aW9uRHJhZ0VuZChtYXJrZXIpIHtcbiAgICBpZiAobWFya2VyLl9jYW5jZWxEcmFnRXZlbnRDaGFpbikge1xuICAgICAgbWFya2VyLl9jYW5jZWxEcmFnRXZlbnRDaGFpbiA9IG51bGw7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEVkaXQ7XG4iLCAiaW1wb3J0IEVkaXQgZnJvbSAnLi9MLlBNLkVkaXQnO1xuXG4vLyBMYXllckdyb3VwIGRvZXNuJ3QgaW5oZXJpdCBmcm9tIEwuUE0uRWRpdCBiZWNhdXNlIGl0J3MganVzdCBjYWxsaW5nIEwuUE0uRWRpdC5Qb2x5Z29uXG4vLyAod2hpY2ggaW5oZXJpdHMgZnJvbSBMLlBNLkVkaXQpIGZvciBlYWNoIGxheWVyLFxuLy8gc28gaXQncyBub3QgcmVhbGx5IGEgcGFyZW50IGNsYXNzXG5FZGl0LkxheWVyR3JvdXAgPSBMLkNsYXNzLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobGF5ZXJHcm91cCkge1xuICAgIHRoaXMuX2xheWVyR3JvdXAgPSBsYXllckdyb3VwO1xuICAgIHRoaXMuX2xheWVycyA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgdGhpcy5fZ2V0TWFwKCk7XG5cbiAgICAvLyBpbml0IGFsbCBsYXllcnMgb2YgdGhlIGdyb3VwXG4gICAgdGhpcy5fbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB0aGlzLl9pbml0TGF5ZXIobGF5ZXIpKTtcblxuICAgIC8vIGlmIGEgbmV3IGxheWVyIGlzIGFkZGVkIHRvIHRoZSBncm91cCwgcmVpbml0aWFsaXplXG4gICAgLy8gVGhpcyBvbmx5IHdvcmtzIGZvciBGZWF0dXJlR3JvdXBzLCBub3QgTGF5ZXJHcm91cHNcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy80ODYxXG5cbiAgICBjb25zdCBhZGRUaHJvdHRsZSA9IChlKSA9PiB7XG4gICAgICBpZiAoZS5sYXllci5fcG1UZW1wTGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICAgIGNvbnN0IF9pbml0TGF5ZXJzID0gdGhpcy5fbGF5ZXJzLmZpbHRlcihcbiAgICAgICAgKGxheWVyKSA9PlxuICAgICAgICAgICFsYXllci5wbS5fcGFyZW50TGF5ZXJHcm91cCB8fFxuICAgICAgICAgICEodGhpcy5fbGF5ZXJHcm91cC5fbGVhZmxldF9pZCBpbiBsYXllci5wbS5fcGFyZW50TGF5ZXJHcm91cClcbiAgICAgICk7XG4gICAgICAvLyBpbml0IHRoZSBuZXdseSBhZGRlZCBsYXllcnMgKGNhbiBiZSBtdWx0aXBsZSBiZWNhdXNlIG9mIHRoZSB0aHJvdHRsZSlcbiAgICAgIF9pbml0TGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICAgIHRoaXMuX2luaXRMYXllcihsYXllcik7XG4gICAgICB9KTtcbiAgICAgIC8vIGlmIGVkaXRpbmcgd2FzIGFscmVhZHkgZW5hYmxlZCBmb3IgdGhpcyBncm91cCwgZW5hYmxlIGl0IGFnYWluXG4gICAgICAvLyBzbyB0aGUgbmV3IGxheWVycyBhcmUgZW5hYmxlZFxuICAgICAgaWYgKFxuICAgICAgICBfaW5pdExheWVycy5sZW5ndGggPiAwICYmXG4gICAgICAgIHRoaXMuX2dldE1hcCgpICYmXG4gICAgICAgIHRoaXMuX2dldE1hcCgpLnBtLmdsb2JhbEVkaXRNb2RlRW5hYmxlZCgpXG4gICAgICApIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICAgICAgdGhpcy5lbmFibGUodGhpcy5nZXRPcHRpb25zKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLl9sYXllckdyb3VwLm9uKFxuICAgICAgJ2xheWVyYWRkJyxcbiAgICAgIEwuVXRpbC50aHJvdHRsZShhZGRUaHJvdHRsZSwgMTAwLCB0aGlzKSxcbiAgICAgIHRoaXNcbiAgICApO1xuXG4gICAgLy8gUmVtb3ZlIHRoZSBsYXllcmdyb3VwIGZyb20gdGhlIGxheWVyXG4gICAgdGhpcy5fbGF5ZXJHcm91cC5vbihcbiAgICAgICdsYXllcnJlbW92ZScsXG4gICAgICAoZSkgPT4ge1xuICAgICAgICB0aGlzLl9yZW1vdmVMYXllckZyb21Hcm91cChlLnRhcmdldCk7XG4gICAgICB9LFxuICAgICAgdGhpc1xuICAgICk7XG5cbiAgICBjb25zdCByZW1vdmVUaHJvdHRsZSA9IChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuX3BtVGVtcExheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xheWVycyA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgfTtcbiAgICAvLyBpZiBhIGxheWVyIGlzIHJlbW92ZWQgZnJvbSB0aGUgZ3JvdXAsIGNhbGMgdGhlIGxheWVycyBsaXN0IGFnYWluLlxuICAgIC8vIHdlIHJ1biB0aGlzIGFzIHRocm90dGxlIGJlY2F1c2UgdGhlIGZpbmRMYXllcnMoKSBpcyBhIGxhcmdlciBmdW5jdGlvblxuICAgIHRoaXMuX2xheWVyR3JvdXAub24oXG4gICAgICAnbGF5ZXJyZW1vdmUnLFxuICAgICAgTC5VdGlsLnRocm90dGxlKHJlbW92ZVRocm90dGxlLCAxMDAsIHRoaXMpLFxuICAgICAgdGhpc1xuICAgICk7XG4gIH0sXG4gIGVuYWJsZShvcHRpb25zLCBfbGF5ZXJJZHMgPSBbXSkge1xuICAgIGlmIChfbGF5ZXJJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9sYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIH1cbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9sYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICBpZiAoX2xheWVySWRzLmluZGV4T2YobGF5ZXIuX2xlYWZsZXRfaWQpID09PSAtMSkge1xuICAgICAgICAgIF9sYXllcklkcy5wdXNoKGxheWVyLl9sZWFmbGV0X2lkKTtcbiAgICAgICAgICBsYXllci5wbS5lbmFibGUob3B0aW9ucywgX2xheWVySWRzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF5ZXIucG0uZW5hYmxlKG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBkaXNhYmxlKF9sYXllcklkcyA9IFtdKSB7XG4gICAgaWYgKF9sYXllcklkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX2xheWVycyA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgfVxuICAgIHRoaXMuX2xheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICAgIGlmIChfbGF5ZXJJZHMuaW5kZXhPZihsYXllci5fbGVhZmxldF9pZCkgPT09IC0xKSB7XG4gICAgICAgICAgX2xheWVySWRzLnB1c2gobGF5ZXIuX2xlYWZsZXRfaWQpO1xuICAgICAgICAgIGxheWVyLnBtLmRpc2FibGUoX2xheWVySWRzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF5ZXIucG0uZGlzYWJsZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBlbmFibGVkKF9sYXllcklkcyA9IFtdKSB7XG4gICAgaWYgKF9sYXllcklkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX2xheWVycyA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgfVxuICAgIGNvbnN0IGVuYWJsZWQgPSB0aGlzLl9sYXllcnMuZmluZCgobGF5ZXIpID0+IHtcbiAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICBpZiAoX2xheWVySWRzLmluZGV4T2YobGF5ZXIuX2xlYWZsZXRfaWQpID09PSAtMSkge1xuICAgICAgICAgIF9sYXllcklkcy5wdXNoKGxheWVyLl9sZWFmbGV0X2lkKTtcbiAgICAgICAgICByZXR1cm4gbGF5ZXIucG0uZW5hYmxlZChfbGF5ZXJJZHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gZW5hYmxlZCBpcyBhbHJlYWR5IHJldHVybmVkIGJlY2F1c2UgdGhpcyBpcyBub3QgdGhlIGZpcnN0IHRpbWUsIHNvIHdlIGNhbiByZXR1cm4gYWx3YXlzIGZhbHNlXG4gICAgICB9XG4gICAgICByZXR1cm4gbGF5ZXIucG0uZW5hYmxlZCgpO1xuICAgIH0pO1xuICAgIHJldHVybiAhIWVuYWJsZWQ7XG4gIH0sXG4gIHRvZ2dsZUVkaXQob3B0aW9ucywgX2xheWVySWRzID0gW10pIHtcbiAgICBpZiAoX2xheWVySWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICB9XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5fbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApIHtcbiAgICAgICAgaWYgKF9sYXllcklkcy5pbmRleE9mKGxheWVyLl9sZWFmbGV0X2lkKSA9PT0gLTEpIHtcbiAgICAgICAgICBfbGF5ZXJJZHMucHVzaChsYXllci5fbGVhZmxldF9pZCk7XG4gICAgICAgICAgbGF5ZXIucG0udG9nZ2xlRWRpdChvcHRpb25zLCBfbGF5ZXJJZHMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYXllci5wbS50b2dnbGVFZGl0KG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBfaW5pdExheWVyKGxheWVyKSB7XG4gICAgLy8gYWRkIHJlZmVyZW5jZSBmb3IgdGhlIGdyb3VwIHRvIGVhY2ggbGF5ZXIgaW5zaWRlIHNhaWQgZ3JvdXAgYnkgaWQsIGEgbGF5ZXIgY2FuIGhhdmUgbXVsdGlwbGUgZ3JvdXBzXG4gICAgY29uc3QgaWQgPSBMLlV0aWwuc3RhbXAodGhpcy5fbGF5ZXJHcm91cCk7XG4gICAgaWYgKCFsYXllci5wbS5fcGFyZW50TGF5ZXJHcm91cCkge1xuICAgICAgbGF5ZXIucG0uX3BhcmVudExheWVyR3JvdXAgPSB7fTtcbiAgICB9XG4gICAgbGF5ZXIucG0uX3BhcmVudExheWVyR3JvdXBbaWRdID0gdGhpcy5fbGF5ZXJHcm91cDtcbiAgfSxcbiAgX3JlbW92ZUxheWVyRnJvbUdyb3VwKGxheWVyKSB7XG4gICAgaWYgKGxheWVyLnBtICYmIGxheWVyLnBtLl9sYXllckdyb3VwKSB7XG4gICAgICBjb25zdCBpZCA9IEwuVXRpbC5zdGFtcCh0aGlzLl9sYXllckdyb3VwKTtcbiAgICAgIGRlbGV0ZSBsYXllci5wbS5fbGF5ZXJHcm91cFtpZF07XG4gICAgfVxuICB9LFxuICBkcmFnZ2luZygpIHtcbiAgICB0aGlzLl9sYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIGlmICh0aGlzLl9sYXllcnMpIHtcbiAgICAgIGNvbnN0IGRyYWdnaW5nID0gdGhpcy5fbGF5ZXJzLmZpbmQoKGxheWVyKSA9PiBsYXllci5wbS5kcmFnZ2luZygpKTtcbiAgICAgIHJldHVybiAhIWRyYWdnaW5nO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGdldE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucztcbiAgfSxcbiAgX2dldE1hcCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwIHx8IHRoaXMuX2xheWVycy5maW5kKChsKSA9PiAhIWwuX21hcCk/Ll9tYXAgfHwgbnVsbDtcbiAgfSxcbiAgZ2V0TGF5ZXJzKFxuICAgIGRlZXAgPSBmYWxzZSxcbiAgICBmaWx0ZXJHZW9tYW4gPSB0cnVlLFxuICAgIGZpbHRlckdyb3Vwc091dCA9IHRydWUsXG4gICAgX2xheWVySWRzID0gW11cbiAgKSB7XG4gICAgbGV0IGxheWVycyA9IFtdO1xuICAgIGlmIChkZWVwKSB7XG4gICAgICAvLyBnZXQgdGhlIGxheWVycyBvZiBMYXllckdyb3VwIGNoaWxkcmVuXG4gICAgICB0aGlzLl9sYXllckdyb3VwLmdldExheWVycygpLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICAgIGxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICAgICAgaWYgKF9sYXllcklkcy5pbmRleE9mKGxheWVyLl9sZWFmbGV0X2lkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIF9sYXllcklkcy5wdXNoKGxheWVyLl9sZWFmbGV0X2lkKTtcbiAgICAgICAgICAgIGxheWVycyA9IGxheWVycy5jb25jYXQoXG4gICAgICAgICAgICAgIGxheWVyLnBtLmdldExheWVycyh0cnVlLCB0cnVlLCB0cnVlLCBfbGF5ZXJJZHMpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdldCBhbGwgbGF5ZXJzIG9mIHRoZSBsYXllciBncm91cFxuICAgICAgbGF5ZXJzID0gdGhpcy5fbGF5ZXJHcm91cC5nZXRMYXllcnMoKTtcbiAgICB9XG5cbiAgICBpZiAoZmlsdGVyR3JvdXBzT3V0KSB7XG4gICAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKChsYXllcikgPT4gIShsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkpO1xuICAgIH1cbiAgICBpZiAoZmlsdGVyR2VvbWFuKSB7XG4gICAgICAvLyBmaWx0ZXIgb3V0IGxheWVycyB0aGF0IGRvbid0IGhhdmUgbGVhZmxldC1nZW9tYW5cbiAgICAgIGxheWVycyA9IGxheWVycy5maWx0ZXIoKGxheWVyKSA9PiAhIWxheWVyLnBtKTtcbiAgICAgIC8vIGZpbHRlciBvdXQgZXZlcnl0aGluZyB0aGF0J3MgbGVhZmxldC1nZW9tYW4gc3BlY2lmaWMgdGVtcG9yYXJ5IHN0dWZmXG4gICAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKChsYXllcikgPT4gIWxheWVyLl9wbVRlbXBMYXllcik7XG4gICAgICAvLyBmaWx0ZXIgb3V0IGV2ZXJ5dGhpbmcgdGhhdCBpZ25vcmUgbGVhZmxldC1nZW9tYW5cbiAgICAgIGxheWVycyA9IGxheWVycy5maWx0ZXIoXG4gICAgICAgIChsYXllcikgPT5cbiAgICAgICAgICAoIUwuUE0ub3B0SW4gJiYgIWxheWVyLm9wdGlvbnMucG1JZ25vcmUpIHx8IC8vIGlmIG9wdEluIGlzIG5vdCBzZXQgLyB0cnVlIGFuZCBwbUlnbm9yZSBpcyBub3Qgc2V0IC8gdHJ1ZSAoZGVmYXVsdClcbiAgICAgICAgICAoTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkgLy8gaWYgb3B0SW4gaXMgdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgZmFsc2UpO1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGxheWVycztcbiAgfSxcbiAgc2V0T3B0aW9ucyhvcHRpb25zLCBfbGF5ZXJJZHMgPSBbXSkge1xuICAgIGlmIChfbGF5ZXJJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9sYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIH1cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuX2xheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgaWYgKGxheWVyLnBtKSB7XG4gICAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICAgIGlmIChfbGF5ZXJJZHMuaW5kZXhPZihsYXllci5fbGVhZmxldF9pZCkgPT09IC0xKSB7XG4gICAgICAgICAgICBfbGF5ZXJJZHMucHVzaChsYXllci5fbGVhZmxldF9pZCk7XG4gICAgICAgICAgICBsYXllci5wbS5zZXRPcHRpb25zKG9wdGlvbnMsIF9sYXllcklkcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxheWVyLnBtLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbn0pO1xuIiwgImltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcblxuRWRpdC5NYXJrZXIgPSBFZGl0LmV4dGVuZCh7XG4gIF9zaGFwZTogJ01hcmtlcicsXG4gIGluaXRpYWxpemUobGF5ZXIpIHtcbiAgICAvLyBsYXllciBpcyBhIG1hcmtlciBpbiB0aGlzIGNhc2UgOi0pXG4gICAgdGhpcy5fbGF5ZXIgPSBsYXllcjtcbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cbiAgICAvLyByZWdpc3RlciBkcmFnZW5kIGV2ZW50IGUuZy4gdG8gZmlyZSBwbTplZGl0XG4gICAgdGhpcy5fbGF5ZXIub24oJ2RyYWdlbmQnLCB0aGlzLl9vbkRyYWdFbmQsIHRoaXMpO1xuICB9LFxuICAvLyBUT0RPOiByZW1vdmUgZGVmYXVsdCBvcHRpb24gaW4gbmV4dCBtYWpvciBSZWxlYXNlXG4gIGVuYWJsZShvcHRpb25zID0geyBkcmFnZ2FibGU6IHRydWUgfSkge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgLy8gbGF5ZXIgaXMgbm90IGFsbG93ZWQgdG8gZWRpdFxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93RWRpdGluZyB8fCAhdGhpcy5fbGF5ZXIuX21hcCkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbWFwID0gdGhpcy5fbGF5ZXIuX21hcDtcblxuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICAgIHRoaXMuYXBwbHlPcHRpb25zKCk7XG5cbiAgICAvLyBpZiBzaGFwZSBnZXRzIHJlbW92ZWQgZnJvbSBtYXAsIGRpc2FibGUgZWRpdCBtb2RlXG4gICAgdGhpcy5fbGF5ZXIub24oJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG5cbiAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuX2ZpcmVFbmFibGUoKTtcbiAgfSxcbiAgZGlzYWJsZSgpIHtcbiAgICAvLyBpZiBpdCdzIG5vdCBlbmFibGVkLCBpdCBkb2Vzbid0IG5lZWQgdG8gYmUgZGlzYWJsZWRcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZGlzYWJsZSBkcmFnZ2luZywgYXMgdGhpcyBjb3VsZCBoYXZlIGJlZW4gYWN0aXZlIGV2ZW4gd2l0aG91dCBiZWluZyBlbmFibGVkXG4gICAgdGhpcy5kaXNhYmxlTGF5ZXJEcmFnKCk7XG5cbiAgICAvLyByZW1vdmUgbGlzdGVuZXJcbiAgICB0aGlzLl9sYXllci5vZmYoJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdjb250ZXh0bWVudScsIHRoaXMuX3JlbW92ZU1hcmtlciwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5fbGF5ZXJFZGl0ZWQpIHtcbiAgICAgIHRoaXMuX2ZpcmVVcGRhdGUoKTtcbiAgICB9XG4gICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9maXJlRGlzYWJsZSgpO1xuXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGVFZGl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmVuYWJsZShvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICB9LFxuICBhcHBseU9wdGlvbnMoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgIHRoaXMuX2luaXRTbmFwcGFibGVNYXJrZXJzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVTbmFwcGluZygpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlKSB7XG4gICAgICB0aGlzLmVuYWJsZUxheWVyRHJhZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpc2FibGVMYXllckRyYWcoKTtcbiAgICB9XG4gICAgLy8gZW5hYmxlIHJlbW92YWwgZm9yIHRoZSBtYXJrZXJcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5wcmV2ZW50TWFya2VyUmVtb3ZhbCkge1xuICAgICAgdGhpcy5fbGF5ZXIub24oJ2NvbnRleHRtZW51JywgdGhpcy5fcmVtb3ZlTWFya2VyLCB0aGlzKTtcbiAgICB9XG4gIH0sXG4gIF9yZW1vdmVNYXJrZXIoZSkge1xuICAgIGNvbnN0IG1hcmtlciA9IGUudGFyZ2V0O1xuICAgIG1hcmtlci5yZW1vdmUoKTtcbiAgICAvLyBUT0RPOiBmaW5kIG91dCB3aHkgdGhpcyBpcyBmaXJlZCBtYW51YWxseSwgc2hvdWxkbid0IGl0IGJlIGNhdGNoZWQgYnkgTC5QTS5NYXAgJ2xheWVycmVtb3ZlJz9cbiAgICB0aGlzLl9maXJlUmVtb3ZlKG1hcmtlcik7XG4gICAgdGhpcy5fZmlyZVJlbW92ZSh0aGlzLl9tYXAsIG1hcmtlcik7XG4gIH0sXG4gIF9vbkRyYWdFbmQoKSB7XG4gICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgICB0aGlzLl9sYXllckVkaXRlZCA9IHRydWU7XG4gIH0sXG4gIC8vIG92ZXJ3cml0ZSBpbml0U25hcHBhYmxlTWFya2VycyBmcm9tIFNuYXBwaW5nLmpzIE1peGluXG4gIF9pbml0U25hcHBhYmxlTWFya2VycygpIHtcbiAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9sYXllcjtcblxuICAgIHRoaXMub3B0aW9ucy5zbmFwRGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlIHx8IDMwO1xuICAgIHRoaXMub3B0aW9ucy5zbmFwU2VnbWVudCA9XG4gICAgICB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQ7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZycsIHRoaXMuX2hhbmRsZVNuYXBwaW5nLCB0aGlzKTtcblxuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZ2VuZCcsIHRoaXMuX2NsZWFudXBTbmFwcGluZywgdGhpcyk7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgfSxcbiAgX2Rpc2FibGVTbmFwcGluZygpIHtcbiAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9sYXllcjtcbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQga2lua3MgZnJvbSAnQHR1cmYva2lua3MnO1xuaW1wb3J0IGxpbmVJbnRlcnNlY3QgZnJvbSAnQHR1cmYvbGluZS1pbnRlcnNlY3QnO1xuaW1wb3J0IGdldCBmcm9tICdsb2Rhc2gvZ2V0JztcbmltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcbmltcG9ydCB7IGNvcHlMYXRMbmdzLCBoYXNWYWx1ZXMsIHJlbW92ZUVtcHR5Q29vcmRSaW5ncyB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5pbXBvcnQgTWFya2VyTGltaXRzIGZyb20gJy4uL01peGlucy9NYXJrZXJMaW1pdHMnO1xuXG4vLyBTaGl0J3MgZ2V0dGluZyBjb21wbGljYXRlZCBpbiBoZXJlIHdpdGggTXVsdGlwb2x5Z29uIFN1cHBvcnQuIFNvIGhlcmUncyBhIHF1aWNrIG5vdGUgYWJvdXQgaXQ6XG4vLyBNdWx0aXBvbHlnb25zIHdpdGggaG9sZXMgbWVhbnMgbG90cyBvZiBuZXN0ZWQsIG11bHRpZGltZW5zaW9uYWwgYXJyYXlzLlxuLy8gSW4gb3JkZXIgdG8gZmluZCBhIHZhbHVlIGluc2lkZSBzdWNoIGFuIGFycmF5IHlvdSBuZWVkIGEgcGF0aCB0byBhZHJlc3MgaXQgZGlyZWN0bHkuXG4vLyBFeGFtcGxlOiB2YXIgYXJyID0gW1tbJ2EnLCAnYiddLCBbJ2MnXV1dO1xuLy8gVGhlIGluZGV4UGF0aCB0byAnYicgaXMgWzAsIDAsIDFdLiBUaGUgaW5kZXhQYXRoIHRvICdjJyBpcyBbMCwgMSwgMF0uXG4vLyBTbyBJIGNhbiBnZXQgJ2InIHdpdGg6IGFyclswXVswXVsxXS5cbi8vIEdvdCBpdD8gTm93IHlvdSBrbm93IHdoYXQgaXMgbWVhbnQgd2hlbiB5b3UgcmVhZCBcImluZGV4UGF0aFwiIGFyb3VuZCBoZXJlLiBIYXZlIGZ1biBcdUQ4M0RcdURDNERcblxuRWRpdC5MaW5lID0gRWRpdC5leHRlbmQoe1xuICBpbmNsdWRlczogW01hcmtlckxpbWl0c10sXG4gIF9zaGFwZTogJ0xpbmUnLFxuICBpbml0aWFsaXplKGxheWVyKSB7XG4gICAgdGhpcy5fbGF5ZXIgPSBsYXllcjtcbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gIH0sXG4gIGVuYWJsZShvcHRpb25zKSB7XG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLl9tYXAgPSB0aGlzLl9sYXllci5fbWFwO1xuXG4gICAgLy8gY2FuY2VsIHdoZW4gbWFwIGlzbid0IGF2YWlsYWJsZSwgdGhpcyBoYXBwZW5zIHdoZW4gdGhlIHBvbHlnb24gaXMgcmVtb3ZlZCBiZWZvcmUgdGhpcyBmaXJlc1xuICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbGF5ZXIgaXMgbm90IGFsbG93ZWQgdG8gZWRpdFxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93RWRpdGluZykge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICAvLyBpZiBpdCB3YXMgYWxyZWFkeSBlbmFibGVkLCBkaXNhYmxlIGZpcnN0XG4gICAgICAvLyB3ZSBkb24ndCBibG9jayBlbmFibGluZyBhZ2FpbiBiZWNhdXNlIG5ldyBvcHRpb25zIG1pZ2h0IGJlIHBhc3NlZFxuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gY2hhbmdlIHN0YXRlXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyBpbml0IG1hcmtlcnNcbiAgICB0aGlzLl9pbml0TWFya2VycygpO1xuXG4gICAgdGhpcy5hcHBseU9wdGlvbnMoKTtcblxuICAgIC8vIGlmIHNoYXBlIGdldHMgcmVtb3ZlZCBmcm9tIG1hcCwgZGlzYWJsZSBlZGl0IG1vZGVcbiAgICB0aGlzLl9sYXllci5vbigncmVtb3ZlJywgdGhpcy5kaXNhYmxlLCB0aGlzKTtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgdGhpcy5fbGF5ZXIub24oXG4gICAgICAgICdwbTp2ZXJ0ZXhyZW1vdmVkJyxcbiAgICAgICAgdGhpcy5faGFuZGxlU2VsZkludGVyc2VjdGlvbk9uVmVydGV4UmVtb3ZhbCxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIGlmICh0aGlzLl9sYXllci5vcHRpb25zLmNvbG9yICE9PSAnI2YwMDAwMGZmJykge1xuICAgICAgICB0aGlzLmNhY2hlZENvbG9yID0gdGhpcy5fbGF5ZXIub3B0aW9ucy5jb2xvcjtcbiAgICAgICAgdGhpcy5pc1JlZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pc1JlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLl9oYW5kbGVMYXllclN0eWxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FjaGVkQ29sb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMuX2ZpcmVFbmFibGUoKTtcbiAgfSxcbiAgZGlzYWJsZSgpIHtcbiAgICAvLyBpZiBpdCdzIG5vdCBlbmFibGVkLCBpdCBkb2Vzbid0IG5lZWQgdG8gYmUgZGlzYWJsZWRcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gcHJldmVudCBkaXNhYmxpbmcgaWYgcG9seWdvbiBpcyBiZWluZyBkcmFnZ2VkXG4gICAgaWYgKHRoaXMuX2RyYWdnaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9tYXJrZXJHcm91cC5jbGVhckxheWVycygpO1xuICAgIHRoaXMuX21hcmtlckdyb3VwLnJlbW92ZUZyb20odGhpcy5fbWFwKTtcblxuICAgIC8vIHJlbW92ZSBsaXN0ZW5lclxuICAgIHRoaXMuX2xheWVyLm9mZigncmVtb3ZlJywgdGhpcy5kaXNhYmxlLCB0aGlzKTtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgdGhpcy5fbGF5ZXIub2ZmKFxuICAgICAgICAncG06dmVydGV4cmVtb3ZlZCcsXG4gICAgICAgIHRoaXMuX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb25PblZlcnRleFJlbW92YWwsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGRyYWdnYWJsZSBjbGFzc1xuICAgIGNvbnN0IGVsID0gdGhpcy5fbGF5ZXIuX3BhdGhcbiAgICAgID8gdGhpcy5fbGF5ZXIuX3BhdGhcbiAgICAgIDogdGhpcy5fbGF5ZXIuX3JlbmRlcmVyLl9jb250YWluZXI7XG4gICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKGVsLCAnbGVhZmxldC1wbS1kcmFnZ2FibGUnKTtcblxuICAgIGlmICh0aGlzLl9sYXllckVkaXRlZCkge1xuICAgICAgdGhpcy5fZmlyZVVwZGF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9sYXllckVkaXRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2ZpcmVEaXNhYmxlKCk7XG4gIH0sXG4gIGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gIH0sXG4gIHRvZ2dsZUVkaXQob3B0aW9ucykge1xuICAgIGlmICghdGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZW5hYmxlKG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZW5hYmxlZCgpO1xuICB9LFxuICBhcHBseU9wdGlvbnMoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgIHRoaXMuX2luaXRTbmFwcGFibGVNYXJrZXJzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVTbmFwcGluZygpO1xuICAgIH1cbiAgfSxcbiAgX2luaXRNYXJrZXJzKCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICAvLyBjbGVhbnVwIG9sZCBvbmVzIGZpcnN0XG4gICAgaWYgKHRoaXMuX21hcmtlckdyb3VwKSB7XG4gICAgICB0aGlzLl9tYXJrZXJHcm91cC5jbGVhckxheWVycygpO1xuICAgIH1cblxuICAgIC8vIGFkZCBtYXJrZXJHcm91cCB0byBtYXAsIG1hcmtlckdyb3VwIGluY2x1ZGVzIHJlZ3VsYXIgYW5kIG1pZGRsZSBtYXJrZXJzXG4gICAgdGhpcy5fbWFya2VyR3JvdXAgPSBuZXcgTC5GZWF0dXJlR3JvdXAoKTtcbiAgICB0aGlzLl9tYXJrZXJHcm91cC5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuXG4gICAgLy8gaGFuZGxlIGNvb3JkLXJpbmdzIChvdXRlciwgaW5uZXIsIGV0YylcbiAgICBjb25zdCBoYW5kbGVSaW5nID0gKGNvb3Jkc0FycikgPT4ge1xuICAgICAgLy8gaWYgdGhlcmUgaXMgYW5vdGhlciBjb29yZHMgcmluZywgZ28gYSBsZXZlbCBkZWVwIGFuZCBkbyB0aGlzIGFnYWluXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjb29yZHNBcnJbMF0pKSB7XG4gICAgICAgIHJldHVybiBjb29yZHNBcnIubWFwKGhhbmRsZVJpbmcsIHRoaXMpO1xuICAgICAgfVxuXG4gICAgICAvLyB0aGUgbWFya2VyIGFycmF5LCBpdCBpbmNsdWRlcyBvbmx5IHRoZSBtYXJrZXJzIG9mIHZlcnRleGVzIChubyBtaWRkbGUgbWFya2VycylcbiAgICAgIGNvbnN0IHJpbmdBcnIgPSBjb29yZHNBcnIubWFwKHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGlkZU1pZGRsZU1hcmtlcnMgIT09IHRydWUpIHtcbiAgICAgICAgLy8gY3JlYXRlIHNtYWxsIG1hcmtlcnMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgcmVndWxhciBtYXJrZXJzXG4gICAgICAgIGNvb3Jkc0Fyci5tYXAoKHYsIGspID0+IHtcbiAgICAgICAgICAvLyBmaW5kIHRoZSBuZXh0IGluZGV4IGZpc3RcbiAgICAgICAgICBjb25zdCBuZXh0SW5kZXggPSB0aGlzLmlzUG9seWdvbigpXG4gICAgICAgICAgICA/IChrICsgMSkgJSBjb29yZHNBcnIubGVuZ3RoXG4gICAgICAgICAgICA6IGsgKyAxO1xuICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgbWFya2VyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZU1pZGRsZU1hcmtlcihyaW5nQXJyW2tdLCByaW5nQXJyW25leHRJbmRleF0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJpbmdBcnI7XG4gICAgfTtcblxuICAgIC8vIGNyZWF0ZSBtYXJrZXJzXG4gICAgdGhpcy5fbWFya2VycyA9IGhhbmRsZVJpbmcoY29vcmRzKTtcblxuICAgIC8vIGhhbmRsZSBwb3NzaWJsZSBsaW1pdGF0aW9uOiBtYXhpbXVtIG51bWJlciBvZiBtYXJrZXJzXG4gICAgdGhpcy5maWx0ZXJNYXJrZXJHcm91cCgpO1xuXG4gICAgLy8gYWRkIG1hcmtlckdyb3VwIHRvIG1hcFxuICAgIG1hcC5hZGRMYXllcih0aGlzLl9tYXJrZXJHcm91cCk7XG4gIH0sXG5cbiAgLy8gY3JlYXRlcyBpbml0aWFsIG1hcmtlcnMgZm9yIGNvb3JkaW5hdGVzXG4gIF9jcmVhdGVNYXJrZXIobGF0bG5nKSB7XG4gICAgY29uc3QgbWFya2VyID0gbmV3IEwuTWFya2VyKGxhdGxuZywge1xuICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgaWNvbjogTC5kaXZJY29uKHsgY2xhc3NOYW1lOiAnbWFya2VyLWljb24nIH0pLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUobWFya2VyLCAndmVydGV4UGFuZScpO1xuXG4gICAgbWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJvdGF0ZSkge1xuICAgICAgbWFya2VyLm9uKCdkcmFnc3RhcnQnLCB0aGlzLl9vblJvdGF0ZVN0YXJ0LCB0aGlzKTtcbiAgICAgIG1hcmtlci5vbignZHJhZycsIHRoaXMuX29uUm90YXRlLCB0aGlzKTtcbiAgICAgIG1hcmtlci5vbignZHJhZ2VuZCcsIHRoaXMuX29uUm90YXRlRW5kLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFya2VyLm9uKCdjbGljaycsIHRoaXMuX29uVmVydGV4Q2xpY2ssIHRoaXMpO1xuICAgICAgbWFya2VyLm9uKCdkcmFnc3RhcnQnLCB0aGlzLl9vbk1hcmtlckRyYWdTdGFydCwgdGhpcyk7XG4gICAgICBtYXJrZXIub24oJ21vdmUnLCB0aGlzLl9vbk1hcmtlckRyYWcsIHRoaXMpO1xuICAgICAgbWFya2VyLm9uKCdkcmFnZW5kJywgdGhpcy5fb25NYXJrZXJEcmFnRW5kLCB0aGlzKTtcblxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMucHJldmVudE1hcmtlclJlbW92YWwpIHtcbiAgICAgICAgbWFya2VyLm9uKHRoaXMub3B0aW9ucy5yZW1vdmVWZXJ0ZXhPbiwgdGhpcy5fcmVtb3ZlTWFya2VyLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9tYXJrZXJHcm91cC5hZGRMYXllcihtYXJrZXIpO1xuXG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfSxcblxuICAvLyBjcmVhdGVzIHRoZSBtaWRkbGUgbWFya2VzIGJldHdlZW4gY29vcmRpbmF0ZXNcbiAgX2NyZWF0ZU1pZGRsZU1hcmtlcihsZWZ0TSwgcmlnaHRNKSB7XG4gICAgLy8gY2FuY2VsIGlmIHRoZXJlIGFyZSBubyB0d28gbWFya2Vyc1xuICAgIGlmICghbGVmdE0gfHwgIXJpZ2h0TSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGxhdGxuZyA9IEwuUE0uVXRpbHMuY2FsY01pZGRsZUxhdExuZyhcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgIGxlZnRNLmdldExhdExuZygpLFxuICAgICAgcmlnaHRNLmdldExhdExuZygpXG4gICAgKTtcblxuICAgIGNvbnN0IG1pZGRsZU1hcmtlciA9IHRoaXMuX2NyZWF0ZU1hcmtlcihsYXRsbmcpO1xuICAgIGNvbnN0IG1pZGRsZUljb24gPSBMLmRpdkljb24oe1xuICAgICAgY2xhc3NOYW1lOiAnbWFya2VyLWljb24gbWFya2VyLWljb24tbWlkZGxlJyxcbiAgICB9KTtcbiAgICBtaWRkbGVNYXJrZXIuc2V0SWNvbihtaWRkbGVJY29uKTtcbiAgICBtaWRkbGVNYXJrZXIubGVmdE0gPSBsZWZ0TTtcbiAgICBtaWRkbGVNYXJrZXIucmlnaHRNID0gcmlnaHRNO1xuXG4gICAgLy8gc2F2ZSByZWZlcmVuY2UgdG8gdGhpcyBtaWRkbGUgbWFya2VycyBvbiB0aGUgbmVpZ2hib29yIHJlZ3VsYXIgbWFya2Vyc1xuICAgIGxlZnRNLl9taWRkbGVNYXJrZXJOZXh0ID0gbWlkZGxlTWFya2VyO1xuICAgIHJpZ2h0TS5fbWlkZGxlTWFya2VyUHJldiA9IG1pZGRsZU1hcmtlcjtcblxuICAgIG1pZGRsZU1hcmtlci5vbih0aGlzLm9wdGlvbnMuYWRkVmVydGV4T24sIHRoaXMuX29uTWlkZGxlTWFya2VyQ2xpY2ssIHRoaXMpO1xuICAgIG1pZGRsZU1hcmtlci5vbignbW92ZXN0YXJ0JywgdGhpcy5fb25NaWRkbGVNYXJrZXJNb3ZlU3RhcnQsIHRoaXMpO1xuXG4gICAgcmV0dXJuIG1pZGRsZU1hcmtlcjtcbiAgfSxcbiAgX29uTWlkZGxlTWFya2VyQ2xpY2soZSkge1xuICAgIGNvbnN0IG1pZGRsZU1hcmtlciA9IGUudGFyZ2V0O1xuXG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uKCdhZGQnLCBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBUT0RPOiBtb3ZlIHRoZSBuZXh0IHR3byBsaW5lcyBpbnNpZGUgX2FkZE1hcmtlcigpIGFzIHNvb24gYXNcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy80NDg0XG4gICAgLy8gaXMgZml4ZWRcbiAgICBjb25zdCBpY29uID0gTC5kaXZJY29uKHsgY2xhc3NOYW1lOiAnbWFya2VyLWljb24nIH0pO1xuICAgIG1pZGRsZU1hcmtlci5zZXRJY29uKGljb24pO1xuICAgIHRoaXMuX2FkZE1hcmtlcihtaWRkbGVNYXJrZXIsIG1pZGRsZU1hcmtlci5sZWZ0TSwgbWlkZGxlTWFya2VyLnJpZ2h0TSk7XG4gIH0sXG4gIF9vbk1pZGRsZU1hcmtlck1vdmVTdGFydChlKSB7XG4gICAgY29uc3QgbWlkZGxlTWFya2VyID0gZS50YXJnZXQ7XG4gICAgbWlkZGxlTWFya2VyLm9uKCdtb3ZlZW5kJywgdGhpcy5fb25NaWRkbGVNYXJrZXJNb3ZlRW5kLCB0aGlzKTtcbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb24oJ2FkZCcsIGUpKSB7XG4gICAgICBtaWRkbGVNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9vbk1pZGRsZU1hcmtlck1vdmVQcmV2ZW50LCB0aGlzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtaWRkbGVNYXJrZXIuX2RyYWdnaW5nID0gdHJ1ZTtcbiAgICAvLyBUT0RPOiBUaGlzIGlzIGEgd29ya2Fyb3VuZC4gUmVtb3ZlIHRoZSBtb3ZlZW5kIGxpc3RlbmVyIGFuZFxuICAgIC8vIGNhbGxiYWNrIGFzIHNvb24gYXMgdGhpcyBpcyBmaXhlZDpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy80NDg0XG4gICAgdGhpcy5fYWRkTWFya2VyKG1pZGRsZU1hcmtlciwgbWlkZGxlTWFya2VyLmxlZnRNLCBtaWRkbGVNYXJrZXIucmlnaHRNKTtcbiAgfSxcbiAgX29uTWlkZGxlTWFya2VyTW92ZVByZXZlbnQoZSkge1xuICAgIGNvbnN0IG1pZGRsZU1hcmtlciA9IGUudGFyZ2V0O1xuICAgIHRoaXMuX3ZlcnRleFZhbGlkYXRpb25EcmFnKG1pZGRsZU1hcmtlcik7XG4gIH0sXG4gIF9vbk1pZGRsZU1hcmtlck1vdmVFbmQoZSkge1xuICAgIGNvbnN0IG1pZGRsZU1hcmtlciA9IGUudGFyZ2V0O1xuICAgIG1pZGRsZU1hcmtlci5vZmYoJ21vdmUnLCB0aGlzLl9vbk1pZGRsZU1hcmtlck1vdmVQcmV2ZW50LCB0aGlzKTtcbiAgICBtaWRkbGVNYXJrZXIub2ZmKCdtb3ZlZW5kJywgdGhpcy5fb25NaWRkbGVNYXJrZXJNb3ZlRW5kLCB0aGlzKTtcbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb25EcmFnRW5kKG1pZGRsZU1hcmtlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaWNvbiA9IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KTtcbiAgICBtaWRkbGVNYXJrZXIuc2V0SWNvbihpY29uKTtcbiAgICAvLyB0aW1lb3V0IGlzIG5lZWRlZCBlbHNlIHRoaXMuX29uVmVydGV4Q2xpY2sgZmlyZXMgdGhlIGV2ZW50IGJlY2F1c2UgaXQgaXMgY2FsbGVkIGFmdGVyIGRlbGV0aW5nIHRoZSBmbGFnXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBkZWxldGUgbWlkZGxlTWFya2VyLl9kcmFnZ2luZztcbiAgICB9LCAxMDApO1xuICB9LFxuICAvLyBhZGRzIGEgbmV3IG1hcmtlciBmcm9tIGEgbWlkZGxlbWFya2VyXG4gIF9hZGRNYXJrZXIobmV3TSwgbGVmdE0sIHJpZ2h0TSkge1xuICAgIC8vIGZpcnN0LCBtYWtlIHRoaXMgbWlkZGxlbWFya2VyIGEgcmVndWxhciBtYXJrZXJcbiAgICBuZXdNLm9mZignbW92ZXN0YXJ0JywgdGhpcy5fb25NaWRkbGVNYXJrZXJNb3ZlU3RhcnQsIHRoaXMpO1xuICAgIG5ld00ub2ZmKHRoaXMub3B0aW9ucy5hZGRWZXJ0ZXhPbiwgdGhpcy5fb25NaWRkbGVNYXJrZXJDbGljaywgdGhpcyk7XG4gICAgLy8gbm93LCBjcmVhdGUgdGhlIHBvbHlnb24gY29vcmRpbmF0ZSBwb2ludCBmb3IgdGhhdCBtYXJrZXJcbiAgICAvLyBhbmQgcHVzaCBpbnRvIG1hcmtlciBhcnJheVxuICAgIC8vIGFuZCBhc3NvY2lhdGUgcG9seWdvbiBjb29yZGluYXRlIHdpdGggbWFya2VyIGNvb3JkaW5hdGVcbiAgICBjb25zdCBsYXRsbmcgPSBuZXdNLmdldExhdExuZygpO1xuICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuX2xheWVyLl9sYXRsbmdzO1xuXG4gICAgLy8gcmVtb3ZlIGxpbmtlZCBtYXJrZXJzXG4gICAgZGVsZXRlIG5ld00ubGVmdE07XG4gICAgZGVsZXRlIG5ld00ucmlnaHRNO1xuXG4gICAgLy8gdGhlIGluZGV4IHBhdGggdG8gdGhlIG1hcmtlciBpbnNpZGUgdGhlIG11bHRpZGltZW5zaW9uYWwgbWFya2VyIGFycmF5XG4gICAgY29uc3QgeyBpbmRleFBhdGgsIGluZGV4LCBwYXJlbnRQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICB0aGlzLl9tYXJrZXJzLFxuICAgICAgbGVmdE1cbiAgICApO1xuXG4gICAgLy8gZGVmaW5lIHRoZSBjb29yZHNSaW5nIHRoYXQgaXMgZWRpdGVkXG4gICAgY29uc3QgY29vcmRzUmluZyA9IGluZGV4UGF0aC5sZW5ndGggPiAxID8gZ2V0KGNvb3JkcywgcGFyZW50UGF0aCkgOiBjb29yZHM7XG5cbiAgICAvLyBkZWZpbmUgdGhlIG1hcmtlcnMgYXJyYXkgdGhhdCBpcyBlZGl0ZWRcbiAgICBjb25zdCBtYXJrZXJBcnIgPVxuICAgICAgaW5kZXhQYXRoLmxlbmd0aCA+IDEgPyBnZXQodGhpcy5fbWFya2VycywgcGFyZW50UGF0aCkgOiB0aGlzLl9tYXJrZXJzO1xuXG4gICAgLy8gYWRkIGNvb3JkaW5hdGUgdG8gY29vcmRpbmF0ZSBhcnJheVxuICAgIGNvb3Jkc1Jpbmcuc3BsaWNlKGluZGV4ICsgMSwgMCwgbGF0bG5nKTtcblxuICAgIC8vIGFkZCBtYXJrZXIgdG8gbWFya2VyIGFycmF5XG4gICAgbWFya2VyQXJyLnNwbGljZShpbmRleCArIDEsIDAsIG5ld00pO1xuXG4gICAgLy8gc2V0IG5ldyBsYXRsbmdzIHRvIHVwZGF0ZSBwb2x5Z29uXG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhjb29yZHMpO1xuXG4gICAgLy8gY3JlYXRlIHRoZSBuZXcgbWlkZGxlbWFya2Vyc1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaGlkZU1pZGRsZU1hcmtlcnMgIT09IHRydWUpIHtcbiAgICAgIHRoaXMuX2NyZWF0ZU1pZGRsZU1hcmtlcihsZWZ0TSwgbmV3TSk7XG4gICAgICB0aGlzLl9jcmVhdGVNaWRkbGVNYXJrZXIobmV3TSwgcmlnaHRNKTtcbiAgICB9XG5cbiAgICAvLyBmaXJlIGVkaXQgZXZlbnRcbiAgICB0aGlzLl9maXJlRWRpdCgpO1xuICAgIHRoaXMuX2xheWVyRWRpdGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwgJ0VkaXQnKTtcblxuICAgIHRoaXMuX2ZpcmVWZXJ0ZXhBZGRlZChcbiAgICAgIG5ld00sXG4gICAgICBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgodGhpcy5fbWFya2VycywgbmV3TSkuaW5kZXhQYXRoLFxuICAgICAgbGF0bG5nXG4gICAgKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgIH1cbiAgfSxcblxuICBoYXNTZWxmSW50ZXJzZWN0aW9uKCkge1xuICAgIC8vIGNoZWNrIGZvciBzZWxmIGludGVyc2VjdGlvbiBvZiB0aGUgbGF5ZXIgYW5kIHJldHVybiB0cnVlL2ZhbHNlXG4gICAgY29uc3Qgc2VsZkludGVyc2VjdGlvbiA9IGtpbmtzKHRoaXMuX2xheWVyLnRvR2VvSlNPTigxNSkpO1xuICAgIHJldHVybiBzZWxmSW50ZXJzZWN0aW9uLmZlYXR1cmVzLmxlbmd0aCA+IDA7XG4gIH0sXG5cbiAgX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb25PblZlcnRleFJlbW92YWwoKSB7XG4gICAgLy8gY2hlY2sgZm9yIHNlbGZpbnRlcnNlY3Rpb24gYWdhaW4gKG1haW5seSB0byByZXNldCB0aGUgc3R5bGUpXG4gICAgY29uc3Qgc2VsZkludGVyc2VjdGlvbiA9IHRoaXMuX2hhbmRsZUxheWVyU3R5bGUodHJ1ZSk7XG5cbiAgICBpZiAoc2VsZkludGVyc2VjdGlvbikge1xuICAgICAgLy8gcmVzZXQgY29vcmRpbmF0ZXNcbiAgICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3ModGhpcy5fY29vcmRzQmVmb3JlRWRpdCk7XG4gICAgICB0aGlzLl9jb29yZHNCZWZvcmVFZGl0ID0gbnVsbDtcblxuICAgICAgLy8gcmUtZW5hYmxlIG1hcmtlcnMgZm9yIHRoZSBuZXcgY29vcmRzXG4gICAgICB0aGlzLl9pbml0TWFya2VycygpO1xuICAgIH1cbiAgfSxcblxuICBfaGFuZGxlTGF5ZXJTdHlsZShmbGFzaCkge1xuICAgIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXI7XG5cbiAgICBsZXQgc2VsZkludGVyc2VjdGlvbjtcbiAgICBsZXQgaW50ZXJzZWN0aW9uO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uKSB7XG4gICAgICBzZWxmSW50ZXJzZWN0aW9uID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyc2VjdGlvbiA9IGtpbmtzKHRoaXMuX2xheWVyLnRvR2VvSlNPTigxNSkpO1xuICAgICAgc2VsZkludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbi5mZWF0dXJlcy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGlmIChzZWxmSW50ZXJzZWN0aW9uKSB7XG4gICAgICBpZiAoXG4gICAgICAgICF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uICYmXG4gICAgICAgIHRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb25FZGl0XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlRGlzYWJsZWRNYXJrZXJTdHlsZSh0aGlzLl9tYXJrZXJzLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNSZWQpIHtcbiAgICAgICAgcmV0dXJuIHNlbGZJbnRlcnNlY3Rpb247XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIGl0IGRvZXMgc2VsZi1pbnRlcnNlY3QsIG1hcmsgb3IgZmxhc2ggaXQgcmVkXG4gICAgICBpZiAoZmxhc2gpIHtcbiAgICAgICAgdGhpcy5fZmxhc2hMYXllcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF5ZXIuc2V0U3R5bGUoeyBjb2xvcjogJyNmMDAwMDBmZicgfSk7XG4gICAgICAgIHRoaXMuaXNSZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBmaXJlIGludGVyc2VjdCBldmVudFxuICAgICAgdGhpcy5fZmlyZUludGVyc2VjdChpbnRlcnNlY3Rpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiBub3QsIHJlc2V0IHRoZSBzdHlsZSB0byB0aGUgZGVmYXVsdCBjb2xvclxuICAgICAgbGF5ZXIuc2V0U3R5bGUoeyBjb2xvcjogdGhpcy5jYWNoZWRDb2xvciB9KTtcbiAgICAgIHRoaXMuaXNSZWQgPSBmYWxzZTtcbiAgICAgIGlmIChcbiAgICAgICAgIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24gJiZcbiAgICAgICAgdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbkVkaXRcbiAgICAgICkge1xuICAgICAgICB0aGlzLl91cGRhdGVEaXNhYmxlZE1hcmtlclN0eWxlKHRoaXMuX21hcmtlcnMsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGZJbnRlcnNlY3Rpb247XG4gIH0sXG4gIF9mbGFzaExheWVyKCkge1xuICAgIGlmICghdGhpcy5jYWNoZWRDb2xvcikge1xuICAgICAgdGhpcy5jYWNoZWRDb2xvciA9IHRoaXMuX2xheWVyLm9wdGlvbnMuY29sb3I7XG4gICAgfVxuXG4gICAgdGhpcy5fbGF5ZXIuc2V0U3R5bGUoeyBjb2xvcjogJyNmMDAwMDBmZicgfSk7XG4gICAgdGhpcy5pc1JlZCA9IHRydWU7XG5cbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLl9sYXllci5zZXRTdHlsZSh7IGNvbG9yOiB0aGlzLmNhY2hlZENvbG9yIH0pO1xuICAgICAgdGhpcy5pc1JlZCA9IGZhbHNlO1xuICAgIH0sIDIwMCk7XG4gIH0sXG4gIF91cGRhdGVEaXNhYmxlZE1hcmtlclN0eWxlKG1hcmtlcnMsIGRpc2FibGVkKSB7XG4gICAgbWFya2Vycy5mb3JFYWNoKChtYXJrZXIpID0+IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG1hcmtlcikpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlRGlzYWJsZWRNYXJrZXJTdHlsZShtYXJrZXIsIGRpc2FibGVkKTtcbiAgICAgIH0gZWxzZSBpZiAobWFya2VyLl9pY29uKSB7XG4gICAgICAgIGlmIChkaXNhYmxlZCAmJiAhdGhpcy5fY2hlY2tNYXJrZXJBbGxvd2VkVG9EcmFnKG1hcmtlcikpIHtcbiAgICAgICAgICBMLkRvbVV0aWwuYWRkQ2xhc3MobWFya2VyLl9pY29uLCAndmVydGV4bWFya2VyLWRpc2FibGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKG1hcmtlci5faWNvbiwgJ3ZlcnRleG1hcmtlci1kaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIF9yZW1vdmVNYXJrZXIoZSkge1xuICAgIC8vIHRoZSBtYXJrZXIgdGhhdCBzaG91bGQgYmUgcmVtb3ZlZFxuICAgIGNvbnN0IG1hcmtlciA9IGUudGFyZ2V0O1xuXG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uKCdyZW1vdmUnLCBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIHNlbGYgaW50ZXJzZWN0aW9uIGlzbid0IGFsbG93ZWQsIHNhdmUgdGhlIGNvb3JkcyB1cG9uIGRyYWdzdGFydFxuICAgIC8vIGluIGNhc2Ugd2UgbmVlZCB0byByZXNldCB0aGUgbGF5ZXJcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2Nvb3Jkc0JlZm9yZUVkaXQgPSBjb3B5TGF0TG5ncyhcbiAgICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAgIHRoaXMuX2xheWVyLmdldExhdExuZ3MoKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBjb29yZHMgb2YgdGhlIGxheWVyXG4gICAgbGV0IGNvb3JkcyA9IHRoaXMuX2xheWVyLmdldExhdExuZ3MoKTtcblxuICAgIC8vIHRoZSBpbmRleCBwYXRoIHRvIHRoZSBtYXJrZXIgaW5zaWRlIHRoZSBtdWx0aWRpbWVuc2lvbmFsIG1hcmtlciBhcnJheVxuICAgIGNvbnN0IHsgaW5kZXhQYXRoLCBpbmRleCwgcGFyZW50UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KFxuICAgICAgdGhpcy5fbWFya2VycyxcbiAgICAgIG1hcmtlclxuICAgICk7XG5cbiAgICAvLyBvbmx5IGNvbnRpbnVlIGlmIHRoaXMgaXMgTk9UIGEgbWlkZGxlIG1hcmtlciAodGhvc2UgY2FuJ3QgYmUgZGVsZXRlZClcbiAgICBpZiAoIWluZGV4UGF0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGRlZmluZSB0aGUgY29vcmRzUmluZyB0aGF0IGlzIGVkaXRlZFxuICAgIGNvbnN0IGNvb3Jkc1JpbmcgPSBpbmRleFBhdGgubGVuZ3RoID4gMSA/IGdldChjb29yZHMsIHBhcmVudFBhdGgpIDogY29vcmRzO1xuXG4gICAgLy8gZGVmaW5lIHRoZSBtYXJrZXJzIGFycmF5IHRoYXQgaXMgZWRpdGVkXG4gICAgbGV0IG1hcmtlckFyciA9XG4gICAgICBpbmRleFBhdGgubGVuZ3RoID4gMSA/IGdldCh0aGlzLl9tYXJrZXJzLCBwYXJlbnRQYXRoKSA6IHRoaXMuX21hcmtlcnM7XG5cbiAgICAvLyBwcmV2ZW50IHJlbW92YWwgb2YgdGhlIGxheWVyIGlmIHRoZSB2ZXJ0ZXggY291bnQgaXMgYmVsb3cgbWluaW11bVxuICAgIGlmICghdGhpcy5vcHRpb25zLnJlbW92ZUxheWVyQmVsb3dNaW5WZXJ0ZXhDb3VudCkge1xuICAgICAgLy8gaWYgb24gYSBsaW5lIG9ubHkgMiB2ZXJ0aWNlcyBsZWZ0IG9yIG9uIGEgcG9seWdvbiAzIHZlcnRpY2VzIGxlZnQsIGRvbid0IGFsbG93IHRvIGRlbGV0ZVxuICAgICAgaWYgKFxuICAgICAgICBjb29yZHNSaW5nLmxlbmd0aCA8PSAyIHx8XG4gICAgICAgICh0aGlzLmlzUG9seWdvbigpICYmIGNvb3Jkc1JpbmcubGVuZ3RoIDw9IDMpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fZmxhc2hMYXllcigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGNvb3JkaW5hdGVcbiAgICBjb29yZHNSaW5nLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAvLyBzZXQgbmV3IGxhdGxuZ3MgdG8gdGhlIHBvbHlnb25cbiAgICB0aGlzLl9sYXllci5zZXRMYXRMbmdzKGNvb3Jkcyk7XG5cbiAgICAvLyBpZiBhIHBvbHlnb24gaGFzIGxlc3MgdGhhbiAzIHZlcnRpY2VzLCByZW1vdmUgYWxsIG9mIHRoZW0uIFdlIHdpbGwgcmVtb3ZlIG9ubHkgb25lIGhlcmUsIHRoZSBpZi1jbGF1c2UgYWZ0ZXIgdGhhdCB3aWxsIGhhbmRsZSB0aGUgcmVzdFxuICAgIGlmICh0aGlzLmlzUG9seWdvbigpICYmIGNvb3Jkc1JpbmcubGVuZ3RoIDw9IDIpIHtcbiAgICAgIGNvb3Jkc1Jpbmcuc3BsaWNlKDAsIGNvb3Jkc1JpbmcubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBsZXQgbGF5ZXJSZW1vdmVkID0gZmFsc2U7XG4gICAgLy8gaWYgdGhlIHJpbmcgb2YgdGhlIGxpbmUgaGFzIG5vIGNvb3JkaW5hdGVzIGxlZnQsIHJlbW92ZSB0aGUgbGFzdCBjb29yZCB0b29cbiAgICBpZiAoY29vcmRzUmluZy5sZW5ndGggPD0gMSkge1xuICAgICAgY29vcmRzUmluZy5zcGxpY2UoMCwgY29vcmRzUmluZy5sZW5ndGgpO1xuXG4gICAgICAvLyBDbGVhbiB1cCBNdWx0aVBvbHlnb25cbiAgICAgIGlmIChwYXJlbnRQYXRoLmxlbmd0aCA+IDEgJiYgaW5kZXhQYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29vcmRzID0gcmVtb3ZlRW1wdHlDb29yZFJpbmdzKGNvb3Jkcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBuZXcgY29vcmRzXG4gICAgICB0aGlzLl9sYXllci5zZXRMYXRMbmdzKGNvb3Jkcyk7XG5cbiAgICAgIC8vIHJlLWVuYWJsZSBlZGl0aW5nIHNvIHVubmVjZXNzYXJ5IG1hcmtlcnMgYXJlIHJlbW92ZWRcbiAgICAgIHRoaXMuX2luaXRNYXJrZXJzKCk7XG4gICAgICBsYXllclJlbW92ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGlmIG5vIGNvb3JkcyBhcmUgbGVmdCwgcmVtb3ZlIHRoZSBsYXllclxuICAgIGlmICghaGFzVmFsdWVzKGNvb3JkcykpIHtcbiAgICAgIHRoaXMuX2xheWVyLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBhbGwgZW1wdHkgY29vcmQtcmluZ3NcbiAgICBjb29yZHMgPSByZW1vdmVFbXB0eUNvb3JkUmluZ3MoY29vcmRzKTtcbiAgICB0aGlzLl9sYXllci5zZXRMYXRMbmdzKGNvb3Jkcyk7XG4gICAgLy8gcmVtb3ZlIGVtcHR5IG1hcmtlciBhcnJheXNcbiAgICB0aGlzLl9tYXJrZXJzID0gcmVtb3ZlRW1wdHlDb29yZFJpbmdzKHRoaXMuX21hcmtlcnMpO1xuXG4gICAgLy8gTm8gbmVlZCB0byBjYWxjdWxhdGUgdGhlIG1pZGRsZSBtYXJrZXIgd2hlbiB0aGUgbGF5ZXIgd2FzIHJlbW92ZWRcbiAgICBpZiAoIWxheWVyUmVtb3ZlZCkge1xuICAgICAgLy8gZ2V0IG5ldyBtYXJrZXJBcnIgYmVjYXVzZSB3ZSBjbGVhbmVkIHVwIGNvb3JkcyBhbmQgbWFya2VycyBhcnJheVxuICAgICAgbWFya2VyQXJyID1cbiAgICAgICAgaW5kZXhQYXRoLmxlbmd0aCA+IDEgPyBnZXQodGhpcy5fbWFya2VycywgcGFyZW50UGF0aCkgOiB0aGlzLl9tYXJrZXJzO1xuXG4gICAgICAvLyBub3cgaGFuZGxlIHRoZSBtaWRkbGUgbWFya2Vyc1xuICAgICAgLy8gcmVtb3ZlIHRoZSBtYXJrZXIgYW5kIHRoZSBtaWRkbGVtYXJrZXJzIG5leHQgdG8gaXQgZnJvbSB0aGUgbWFwXG4gICAgICBpZiAobWFya2VyLl9taWRkbGVNYXJrZXJQcmV2KSB7XG4gICAgICAgIHRoaXMuX21hcmtlckdyb3VwLnJlbW92ZUxheWVyKG1hcmtlci5fbWlkZGxlTWFya2VyUHJldik7XG4gICAgICAgIHRoaXMuX3JlbW92ZUZyb21DYWNoZShtYXJrZXIuX21pZGRsZU1hcmtlclByZXYpO1xuICAgICAgfVxuICAgICAgaWYgKG1hcmtlci5fbWlkZGxlTWFya2VyTmV4dCkge1xuICAgICAgICB0aGlzLl9tYXJrZXJHcm91cC5yZW1vdmVMYXllcihtYXJrZXIuX21pZGRsZU1hcmtlck5leHQpO1xuICAgICAgICB0aGlzLl9yZW1vdmVGcm9tQ2FjaGUobWFya2VyLl9taWRkbGVNYXJrZXJOZXh0KTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVtb3ZlIHRoZSBtYXJrZXIgZnJvbSB0aGUgbWFwXG4gICAgICB0aGlzLl9tYXJrZXJHcm91cC5yZW1vdmVMYXllcihtYXJrZXIpO1xuICAgICAgdGhpcy5fcmVtb3ZlRnJvbUNhY2hlKG1hcmtlcik7XG5cbiAgICAgIGlmIChtYXJrZXJBcnIpIHtcbiAgICAgICAgbGV0IHJpZ2h0TWFya2VySW5kZXg7XG4gICAgICAgIGxldCBsZWZ0TWFya2VySW5kZXg7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNQb2x5Z29uKCkpIHtcbiAgICAgICAgICAvLyBmaW5kIG5laWdoYm9yIG1hcmtlci1pbmRleGVzXG4gICAgICAgICAgcmlnaHRNYXJrZXJJbmRleCA9IChpbmRleCArIDEpICUgbWFya2VyQXJyLmxlbmd0aDtcbiAgICAgICAgICBsZWZ0TWFya2VySW5kZXggPSAoaW5kZXggKyAobWFya2VyQXJyLmxlbmd0aCAtIDEpKSAlIG1hcmtlckFyci5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZmluZCBuZWlnaGJvciBtYXJrZXItaW5kZXhlc1xuICAgICAgICAgIGxlZnRNYXJrZXJJbmRleCA9IGluZGV4IC0gMSA8IDAgPyB1bmRlZmluZWQgOiBpbmRleCAtIDE7XG4gICAgICAgICAgcmlnaHRNYXJrZXJJbmRleCA9XG4gICAgICAgICAgICBpbmRleCArIDEgPj0gbWFya2VyQXJyLmxlbmd0aCA/IHVuZGVmaW5lZCA6IGluZGV4ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbid0IGNyZWF0ZSBtaWRkbGVtYXJrZXJzIGlmIHRoZXJlIGlzIG9ubHkgb25lIG1hcmtlciBsZWZ0XG4gICAgICAgIGlmIChyaWdodE1hcmtlckluZGV4ICE9PSBsZWZ0TWFya2VySW5kZXgpIHtcbiAgICAgICAgICBjb25zdCBsZWZ0TSA9IG1hcmtlckFycltsZWZ0TWFya2VySW5kZXhdO1xuICAgICAgICAgIGNvbnN0IHJpZ2h0TSA9IG1hcmtlckFycltyaWdodE1hcmtlckluZGV4XTtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhpZGVNaWRkbGVNYXJrZXJzICE9PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVNaWRkbGVNYXJrZXIobGVmdE0sIHJpZ2h0TSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBtYXJrZXIgZnJvbSB0aGUgbWFya2VycyBhcnJheVxuICAgICAgICBtYXJrZXJBcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmaXJlIGVkaXQgZXZlbnRcbiAgICB0aGlzLl9maXJlRWRpdCgpO1xuICAgIHRoaXMuX2xheWVyRWRpdGVkID0gdHJ1ZTtcblxuICAgIC8vIGZpcmUgdmVydGV4IHJlbW92YWwgZXZlbnRcbiAgICAvLyBUT0RPOiBtYXliZSBmaXJlIGxhdGxuZyBhcyB3ZWxsP1xuICAgIHRoaXMuX2ZpcmVWZXJ0ZXhSZW1vdmVkKG1hcmtlciwgaW5kZXhQYXRoKTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwgJ0VkaXQnKTtcbiAgfSxcbiAgdXBkYXRlUG9seWdvbkNvb3Jkc0Zyb21NYXJrZXJEcmFnKG1hcmtlcikge1xuICAgIC8vIHVwZGF0ZSBwb2x5Z29uIGNvb3Jkc1xuICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuX2xheWVyLmdldExhdExuZ3MoKTtcblxuICAgIC8vIGdldCBtYXJrZXIgbGF0bG5nXG4gICAgY29uc3QgbGF0bG5nID0gbWFya2VyLmdldExhdExuZygpO1xuXG4gICAgLy8gZ2V0IGluZGV4UGF0aCBvZiBNYXJrZXJcbiAgICBjb25zdCB7IGluZGV4UGF0aCwgaW5kZXgsIHBhcmVudFBhdGggfSA9IEwuUE0uVXRpbHMuZmluZERlZXBNYXJrZXJJbmRleChcbiAgICAgIHRoaXMuX21hcmtlcnMsXG4gICAgICBtYXJrZXJcbiAgICApO1xuXG4gICAgLy8gdXBkYXRlIGNvb3JkXG4gICAgY29uc3QgcGFyZW50ID0gaW5kZXhQYXRoLmxlbmd0aCA+IDEgPyBnZXQoY29vcmRzLCBwYXJlbnRQYXRoKSA6IGNvb3JkcztcbiAgICBwYXJlbnQuc3BsaWNlKGluZGV4LCAxLCBsYXRsbmcpO1xuXG4gICAgLy8gc2V0IG5ldyBjb29yZHMgb24gbGF5ZXJcbiAgICB0aGlzLl9sYXllci5zZXRMYXRMbmdzKGNvb3Jkcyk7XG4gIH0sXG5cbiAgX2dldE5laWdoYm9yTWFya2VycyhtYXJrZXIpIHtcbiAgICBjb25zdCB7IGluZGV4UGF0aCwgaW5kZXgsIHBhcmVudFBhdGggfSA9IEwuUE0uVXRpbHMuZmluZERlZXBNYXJrZXJJbmRleChcbiAgICAgIHRoaXMuX21hcmtlcnMsXG4gICAgICBtYXJrZXJcbiAgICApO1xuXG4gICAgLy8gdGhlIG1hcmtlcnMgbmVpZ2hib3JzXG4gICAgY29uc3QgbWFya2VyQXJyID1cbiAgICAgIGluZGV4UGF0aC5sZW5ndGggPiAxID8gZ2V0KHRoaXMuX21hcmtlcnMsIHBhcmVudFBhdGgpIDogdGhpcy5fbWFya2VycztcblxuICAgIC8vIGZpbmQgdGhlIGluZGl6ZXMgb2YgbmV4dCBhbmQgcHJldmlvdXMgbWFya2Vyc1xuICAgIGNvbnN0IG5leHRNYXJrZXJJbmRleCA9IChpbmRleCArIDEpICUgbWFya2VyQXJyLmxlbmd0aDtcbiAgICBjb25zdCBwcmV2TWFya2VySW5kZXggPSAoaW5kZXggKyAobWFya2VyQXJyLmxlbmd0aCAtIDEpKSAlIG1hcmtlckFyci5sZW5ndGg7XG5cbiAgICAvLyBnZXQgcHJldiBhbmQgbmV4dCBtYXJrZXJcbiAgICBjb25zdCBwcmV2TWFya2VyID0gbWFya2VyQXJyW3ByZXZNYXJrZXJJbmRleF07XG4gICAgY29uc3QgbmV4dE1hcmtlciA9IG1hcmtlckFycltuZXh0TWFya2VySW5kZXhdO1xuXG4gICAgcmV0dXJuIHsgcHJldk1hcmtlciwgbmV4dE1hcmtlciB9O1xuICB9LFxuICBfY2hlY2tNYXJrZXJBbGxvd2VkVG9EcmFnKG1hcmtlcikge1xuICAgIGNvbnN0IHsgcHJldk1hcmtlciwgbmV4dE1hcmtlciB9ID0gdGhpcy5fZ2V0TmVpZ2hib3JNYXJrZXJzKG1hcmtlcik7XG5cbiAgICBjb25zdCBwcmV2TGluZSA9IEwucG9seWxpbmUoW3ByZXZNYXJrZXIuZ2V0TGF0TG5nKCksIG1hcmtlci5nZXRMYXRMbmcoKV0pO1xuICAgIGNvbnN0IG5leHRMaW5lID0gTC5wb2x5bGluZShbbWFya2VyLmdldExhdExuZygpLCBuZXh0TWFya2VyLmdldExhdExuZygpXSk7XG5cbiAgICBsZXQgcHJldkxpbmVJbnRlcnNlY3Rpb25MZW4gPSBsaW5lSW50ZXJzZWN0KFxuICAgICAgdGhpcy5fbGF5ZXIudG9HZW9KU09OKDE1KSxcbiAgICAgIHByZXZMaW5lLnRvR2VvSlNPTigxNSlcbiAgICApLmZlYXR1cmVzLmxlbmd0aDtcbiAgICBsZXQgbmV4dExpbmVJbnRlcnNlY3Rpb25MZW4gPSBsaW5lSW50ZXJzZWN0KFxuICAgICAgdGhpcy5fbGF5ZXIudG9HZW9KU09OKDE1KSxcbiAgICAgIG5leHRMaW5lLnRvR2VvSlNPTigxNSlcbiAgICApLmZlYXR1cmVzLmxlbmd0aDtcblxuICAgIC8vIFRoZSBmaXJzdCBhbmQgbGFzdCBsaW5lIGhhcyBvbmUgaW50ZXJzZWN0aW9uIGZld2VyIGJlY2F1c2UgdGhleSBhcmUgbm90IGNvbm5lY3RlZFxuICAgIGlmIChtYXJrZXIuZ2V0TGF0TG5nKCkgPT09IHRoaXMuX21hcmtlcnNbMF1bMF0uZ2V0TGF0TG5nKCkpIHtcbiAgICAgIG5leHRMaW5lSW50ZXJzZWN0aW9uTGVuICs9IDE7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIG1hcmtlci5nZXRMYXRMbmcoKSA9PT1cbiAgICAgIHRoaXMuX21hcmtlcnNbMF1bdGhpcy5fbWFya2Vyc1swXS5sZW5ndGggLSAxXS5nZXRMYXRMbmcoKVxuICAgICkge1xuICAgICAgcHJldkxpbmVJbnRlcnNlY3Rpb25MZW4gKz0gMTtcbiAgICB9XG5cbiAgICAvLyA8PSAyIHRoZSBzdGFydCBhbmQgZW5kIHBvaW50IG9mIHRoZSBsaW5lIGFsd2F5cyBpbnRlcnNlY3RpbmcgYmVjYXVzZSB0aGV5IGhhdmUgdGhlIHNhbWUgY29vcmRzLlxuICAgIGlmIChwcmV2TGluZUludGVyc2VjdGlvbkxlbiA8PSAyICYmIG5leHRMaW5lSW50ZXJzZWN0aW9uTGVuIDw9IDIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIF9vbk1hcmtlckRyYWdTdGFydChlKSB7XG4gICAgY29uc3QgbWFya2VyID0gZS50YXJnZXQ7XG5cbiAgICAvLyBXaGVuIGludGVyc2VjdGlvbiBpcyB0cnVlIHdoaWxlIGNhbGxpbmcgZW5hYmxlKCksIHRoZSBjYWNoZWRDb2xvciBpcyBhbHJlYWR5IHNldFxuICAgIGlmICghdGhpcy5jYWNoZWRDb2xvcikge1xuICAgICAgdGhpcy5jYWNoZWRDb2xvciA9IHRoaXMuX2xheWVyLm9wdGlvbnMuY29sb3I7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uKCdtb3ZlJywgZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluZGV4UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KHRoaXMuX21hcmtlcnMsIG1hcmtlcik7XG5cbiAgICB0aGlzLl9maXJlTWFya2VyRHJhZ1N0YXJ0KGUsIGluZGV4UGF0aCk7XG5cbiAgICAvLyBpZiBzZWxmIGludGVyc2VjdGlvbiBpc24ndCBhbGxvd2VkLCBzYXZlIHRoZSBjb29yZHMgdXBvbiBkcmFnc3RhcnRcbiAgICAvLyBpbiBjYXNlIHdlIG5lZWQgdG8gcmVzZXQgdGhlIGxheWVyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uKSB7XG4gICAgICB0aGlzLl9jb29yZHNCZWZvcmVFZGl0ID0gY29weUxhdExuZ3MoXG4gICAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24gJiZcbiAgICAgIHRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb25FZGl0ICYmXG4gICAgICB0aGlzLmhhc1NlbGZJbnRlcnNlY3Rpb24oKVxuICAgICkge1xuICAgICAgdGhpcy5fbWFya2VyQWxsb3dlZFRvRHJhZyA9IHRoaXMuX2NoZWNrTWFya2VyQWxsb3dlZFRvRHJhZyhtYXJrZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tYXJrZXJBbGxvd2VkVG9EcmFnID0gbnVsbDtcbiAgICB9XG4gIH0sXG4gIF9vbk1hcmtlckRyYWcoZSkge1xuICAgIC8vIGRyYWdnZWQgbWFya2VyXG4gICAgY29uc3QgbWFya2VyID0gZS50YXJnZXQ7XG5cbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb25EcmFnKG1hcmtlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluZGV4UGF0aCwgaW5kZXgsIHBhcmVudFBhdGggfSA9IEwuUE0uVXRpbHMuZmluZERlZXBNYXJrZXJJbmRleChcbiAgICAgIHRoaXMuX21hcmtlcnMsXG4gICAgICBtYXJrZXJcbiAgICApO1xuXG4gICAgLy8gb25seSBjb250aW51ZSBpZiB0aGlzIGlzIE5PVCBhIG1pZGRsZSBtYXJrZXJcbiAgICBpZiAoIWluZGV4UGF0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uICYmXG4gICAgICB0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uRWRpdCAmJlxuICAgICAgdGhpcy5oYXNTZWxmSW50ZXJzZWN0aW9uKCkgJiZcbiAgICAgIHRoaXMuX21hcmtlckFsbG93ZWRUb0RyYWcgPT09IGZhbHNlXG4gICAgKSB7XG4gICAgICB0aGlzLl9sYXllci5zZXRMYXRMbmdzKHRoaXMuX2Nvb3Jkc0JlZm9yZUVkaXQpO1xuICAgICAgLy8gcmUtZW5hYmxlIG1hcmtlcnMgZm9yIHRoZSBuZXcgY29vcmRzXG4gICAgICB0aGlzLl9pbml0TWFya2VycygpO1xuICAgICAgLy8gY2hlY2sgZm9yIHNlbGZpbnRlcnNlY3Rpb24gYWdhaW4gKG1haW5seSB0byByZXNldCB0aGUgc3R5bGUpXG4gICAgICB0aGlzLl9oYW5kbGVMYXllclN0eWxlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVQb2x5Z29uQ29vcmRzRnJvbU1hcmtlckRyYWcobWFya2VyKTtcblxuICAgIC8vIHRoZSBkcmFnZ2VkIG1hcmtlcnMgbmVpZ2hib3JzXG4gICAgY29uc3QgbWFya2VyQXJyID1cbiAgICAgIGluZGV4UGF0aC5sZW5ndGggPiAxID8gZ2V0KHRoaXMuX21hcmtlcnMsIHBhcmVudFBhdGgpIDogdGhpcy5fbWFya2VycztcblxuICAgIC8vIGZpbmQgdGhlIGluZGl6ZXMgb2YgbmV4dCBhbmQgcHJldmlvdXMgbWFya2Vyc1xuICAgIGNvbnN0IG5leHRNYXJrZXJJbmRleCA9IChpbmRleCArIDEpICUgbWFya2VyQXJyLmxlbmd0aDtcbiAgICBjb25zdCBwcmV2TWFya2VySW5kZXggPSAoaW5kZXggKyAobWFya2VyQXJyLmxlbmd0aCAtIDEpKSAlIG1hcmtlckFyci5sZW5ndGg7XG5cbiAgICAvLyB1cGRhdGUgbWlkZGxlIG1hcmtlcnMgb24gdGhlIGxlZnQgYW5kIHJpZ2h0XG4gICAgLy8gYmUgYXdhcmUgdGhhdCBcIm5leHRcIiBhbmQgXCJwcmV2XCIgbWlnaHQgYmUgaW50ZXJjaGFuZ2VkLCBkZXBlbmRpbmcgb24gdGhlIGdlb2pzb24gYXJyYXlcbiAgICBjb25zdCBtYXJrZXJMYXRMbmcgPSBtYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICAvLyBnZXQgbGF0bG5nIG9mIHByZXYgYW5kIG5leHQgbWFya2VyXG4gICAgY29uc3QgcHJldk1hcmtlckxhdExuZyA9IG1hcmtlckFycltwcmV2TWFya2VySW5kZXhdLmdldExhdExuZygpO1xuICAgIGNvbnN0IG5leHRNYXJrZXJMYXRMbmcgPSBtYXJrZXJBcnJbbmV4dE1hcmtlckluZGV4XS5nZXRMYXRMbmcoKTtcblxuICAgIGlmIChtYXJrZXIuX21pZGRsZU1hcmtlck5leHQpIHtcbiAgICAgIGNvbnN0IG1pZGRsZU1hcmtlck5leHRMYXRMbmcgPSBMLlBNLlV0aWxzLmNhbGNNaWRkbGVMYXRMbmcoXG4gICAgICAgIHRoaXMuX21hcCxcbiAgICAgICAgbWFya2VyTGF0TG5nLFxuICAgICAgICBuZXh0TWFya2VyTGF0TG5nXG4gICAgICApO1xuICAgICAgbWFya2VyLl9taWRkbGVNYXJrZXJOZXh0LnNldExhdExuZyhtaWRkbGVNYXJrZXJOZXh0TGF0TG5nKTtcbiAgICB9XG5cbiAgICBpZiAobWFya2VyLl9taWRkbGVNYXJrZXJQcmV2KSB7XG4gICAgICBjb25zdCBtaWRkbGVNYXJrZXJQcmV2TGF0TG5nID0gTC5QTS5VdGlscy5jYWxjTWlkZGxlTGF0TG5nKFxuICAgICAgICB0aGlzLl9tYXAsXG4gICAgICAgIG1hcmtlckxhdExuZyxcbiAgICAgICAgcHJldk1hcmtlckxhdExuZ1xuICAgICAgKTtcbiAgICAgIG1hcmtlci5fbWlkZGxlTWFya2VyUHJldi5zZXRMYXRMbmcobWlkZGxlTWFya2VyUHJldkxhdExuZyk7XG4gICAgfVxuXG4gICAgLy8gaWYgc2VsZiBpbnRlcnNlY3Rpb24gaXMgbm90IGFsbG93ZWQsIGhhbmRsZSBpdFxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgdGhpcy5faGFuZGxlTGF5ZXJTdHlsZSgpO1xuICAgIH1cbiAgICB0aGlzLl9maXJlTWFya2VyRHJhZyhlLCBpbmRleFBhdGgpO1xuICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpLCAnRWRpdCcpO1xuICB9LFxuICBfb25NYXJrZXJEcmFnRW5kKGUpIHtcbiAgICBjb25zdCBtYXJrZXIgPSBlLnRhcmdldDtcblxuICAgIGlmICghdGhpcy5fdmVydGV4VmFsaWRhdGlvbkRyYWdFbmQobWFya2VyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5kZXhQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgodGhpcy5fbWFya2VycywgbWFya2VyKTtcblxuICAgIC8vIGlmIHNlbGYgaW50ZXJzZWN0aW9uIGlzIG5vdCBhbGxvd2VkIGJ1dCB0aGlzIGVkaXQgY2F1c2VkIGEgc2VsZiBpbnRlcnNlY3Rpb24sXG4gICAgLy8gcmVzZXQgYW5kIGNhbmNlbDsgZG8gbm90IGZpcmUgZXZlbnRzXG4gICAgbGV0IGludGVyc2VjdGlvbiA9IHRoaXMuaGFzU2VsZkludGVyc2VjdGlvbigpO1xuICAgIGlmIChcbiAgICAgIGludGVyc2VjdGlvbiAmJlxuICAgICAgdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbkVkaXQgJiZcbiAgICAgIHRoaXMuX21hcmtlckFsbG93ZWRUb0RyYWdcbiAgICApIHtcbiAgICAgIGludGVyc2VjdGlvbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGludGVyc2VjdGlvblJlc2V0ID1cbiAgICAgICF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uICYmIGludGVyc2VjdGlvbjtcblxuICAgIHRoaXMuX2ZpcmVNYXJrZXJEcmFnRW5kKGUsIGluZGV4UGF0aCwgaW50ZXJzZWN0aW9uUmVzZXQpO1xuXG4gICAgaWYgKGludGVyc2VjdGlvblJlc2V0KSB7XG4gICAgICAvLyByZXNldCBjb29yZGluYXRlc1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyh0aGlzLl9jb29yZHNCZWZvcmVFZGl0KTtcbiAgICAgIHRoaXMuX2Nvb3Jkc0JlZm9yZUVkaXQgPSBudWxsO1xuXG4gICAgICAvLyByZS1lbmFibGUgbWFya2VycyBmb3IgdGhlIG5ldyBjb29yZHNcbiAgICAgIHRoaXMuX2luaXRNYXJrZXJzKCk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICAgIHRoaXMuX2luaXRTbmFwcGFibGVNYXJrZXJzKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNoZWNrIGZvciBzZWxmaW50ZXJzZWN0aW9uIGFnYWluIChtYWlubHkgdG8gcmVzZXQgdGhlIHN0eWxlKVxuICAgICAgdGhpcy5faGFuZGxlTGF5ZXJTdHlsZSgpO1xuXG4gICAgICB0aGlzLl9maXJlTGF5ZXJSZXNldChlLCBpbmRleFBhdGgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbiAmJlxuICAgICAgdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbkVkaXRcbiAgICApIHtcbiAgICAgIHRoaXMuX2hhbmRsZUxheWVyU3R5bGUoKTtcbiAgICB9XG4gICAgLy8gZmlyZSBlZGl0IGV2ZW50XG4gICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgICB0aGlzLl9sYXllckVkaXRlZCA9IHRydWU7XG4gICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksICdFZGl0Jyk7XG4gIH0sXG4gIF9vblZlcnRleENsaWNrKGUpIHtcbiAgICBjb25zdCB2ZXJ0ZXggPSBlLnRhcmdldDtcbiAgICBpZiAodmVydGV4Ll9kcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5kZXhQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgodGhpcy5fbWFya2VycywgdmVydGV4KTtcblxuICAgIHRoaXMuX2ZpcmVWZXJ0ZXhDbGljayhlLCBpbmRleFBhdGgpO1xuICB9LFxufSk7XG4iLCAiY29uc3QgTWFya2VyTGltaXRzID0ge1xuICBmaWx0ZXJNYXJrZXJHcm91cCgpIHtcbiAgICAvLyBkZWZpbmUgY2FjaGUgb2YgbWFya2Vyc1xuICAgIHRoaXMubWFya2VyQ2FjaGUgPSBbXTtcbiAgICB0aGlzLmNyZWF0ZUNhY2hlKCk7XG5cbiAgICAvLyByZWZyZXNoIGNhY2hlIHdoZW4gbGF5ZXIgd2FzIGVkaXRlZCAoZS5nLiB3aGVuIGEgdmVydGV4IHdhcyBhZGRlZCBvciByZW1vdmVkKVxuICAgIHRoaXMuX2xheWVyLm9uKCdwbTplZGl0JywgdGhpcy5jcmVhdGVDYWNoZSwgdGhpcyk7XG5cbiAgICAvLyBhcHBseSBmaWx0ZXIgZm9yIHRoZSBmaXJzdCB0aW1lXG4gICAgdGhpcy5hcHBseUxpbWl0RmlsdGVycyh7fSk7XG5cbiAgICBpZiAoIXRoaXMudGhyb3R0bGVkQXBwbHlMaW1pdEZpbHRlcnMpIHtcbiAgICAgIHRoaXMudGhyb3R0bGVkQXBwbHlMaW1pdEZpbHRlcnMgPSBMLlV0aWwudGhyb3R0bGUoXG4gICAgICAgIHRoaXMuYXBwbHlMaW1pdEZpbHRlcnMsXG4gICAgICAgIDEwMCxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgZXZlbnRzIHdoZW4gZWRpdCBtb2RlIGlzIGRpc2FibGVkXG4gICAgdGhpcy5fbGF5ZXIub24oJ3BtOmRpc2FibGUnLCB0aGlzLl9yZW1vdmVNYXJrZXJMaW1pdEV2ZW50cywgdGhpcyk7XG4gICAgdGhpcy5fbGF5ZXIub24oJ3JlbW92ZScsIHRoaXMuX3JlbW92ZU1hcmtlckxpbWl0RXZlbnRzLCB0aGlzKTtcblxuICAgIC8vIGFkZCBtYXJrZXJzIGNsb3Nlc3QgdG8gdGhlIG1vdXNlXG4gICAgaWYgKHRoaXMub3B0aW9ucy5saW1pdE1hcmtlcnNUb0NvdW50ID4gLTEpIHtcbiAgICAgIC8vIHJlLWluaXQgbWFya2VycyB3aGVuIGEgdmVydGV4IGlzIHJlbW92ZWQuXG4gICAgICAvLyBUaGUgcmVhc29uIGlzIHRoYXQgc3luY2luZyB0aGlzIGNhY2hlIHdpdGggYSByZW1vdmVkIG1hcmtlciB3YXMgaW1wb3NzaWJsZSB0byBkb1xuICAgICAgdGhpcy5fbGF5ZXIub24oJ3BtOnZlcnRleHJlbW92ZWQnLCB0aGlzLl9pbml0TWFya2VycywgdGhpcyk7XG5cbiAgICAgIHRoaXMuX21hcC5vbignbW91c2Vtb3ZlJywgdGhpcy50aHJvdHRsZWRBcHBseUxpbWl0RmlsdGVycywgdGhpcyk7XG4gICAgfVxuICB9LFxuICBfcmVtb3ZlTWFya2VyTGltaXRFdmVudHMoKSB7XG4gICAgdGhpcy5fbWFwLm9mZignbW91c2Vtb3ZlJywgdGhpcy50aHJvdHRsZWRBcHBseUxpbWl0RmlsdGVycywgdGhpcyk7XG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdwbTplZGl0JywgdGhpcy5jcmVhdGVDYWNoZSwgdGhpcyk7XG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdwbTpkaXNhYmxlJywgdGhpcy5fcmVtb3ZlTWFya2VyTGltaXRFdmVudHMsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9mZigncG06dmVydGV4cmVtb3ZlZCcsIHRoaXMuX2luaXRNYXJrZXJzLCB0aGlzKTtcbiAgfSxcbiAgY3JlYXRlQ2FjaGUoKSB7XG4gICAgY29uc3QgYWxsTWFya2VycyA9IFsuLi50aGlzLl9tYXJrZXJHcm91cC5nZXRMYXllcnMoKSwgLi4udGhpcy5tYXJrZXJDYWNoZV07XG4gICAgdGhpcy5tYXJrZXJDYWNoZSA9IGFsbE1hcmtlcnMuZmlsdGVyKCh2LCBpLCBzKSA9PiBzLmluZGV4T2YodikgPT09IGkpO1xuICB9LFxuICBfcmVtb3ZlRnJvbUNhY2hlKG1hcmtlcikge1xuICAgIGNvbnN0IG1hcmtlckNhY2hlSW5kZXggPSB0aGlzLm1hcmtlckNhY2hlLmluZGV4T2YobWFya2VyKTtcbiAgICBpZiAobWFya2VyQ2FjaGVJbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLm1hcmtlckNhY2hlLnNwbGljZShtYXJrZXJDYWNoZUluZGV4LCAxKTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlckxpbWl0cyhtYXJrZXJzKSB7XG4gICAgdGhpcy5tYXJrZXJDYWNoZS5mb3JFYWNoKChsKSA9PiB7XG4gICAgICBpZiAobWFya2Vycy5pbmNsdWRlcyhsKSkge1xuICAgICAgICB0aGlzLl9tYXJrZXJHcm91cC5hZGRMYXllcihsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX21hcmtlckdyb3VwLnJlbW92ZUxheWVyKGwpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBhcHBseUxpbWl0RmlsdGVycyh7IGxhdGxuZyA9IHsgbGF0OiAwLCBsbmc6IDAgfSB9KSB7XG4gICAgaWYgKHRoaXMuX3ByZXZlbnRSZW5kZXJNYXJrZXJzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGZpbmQgbWFya2VycyBuZWFyIHRoZSBjdXJzb3JcbiAgICBjb25zdCBtYWtlcnNOZWFyQ3Vyc29yID0gdGhpcy5fZmlsdGVyQ2xvc2VzdE1hcmtlcnMobGF0bG5nKTtcblxuICAgIC8vIGFsbCBtYXJrZXJzIHRoYXQgd2Ugd2FudCB0byBzaG93XG4gICAgY29uc3QgbWFya2Vyc1RvQWRkID0gWy4uLm1ha2Vyc05lYXJDdXJzb3JdO1xuXG4gICAgdGhpcy5yZW5kZXJMaW1pdHMobWFya2Vyc1RvQWRkKTtcbiAgfSxcbiAgX2ZpbHRlckNsb3Nlc3RNYXJrZXJzKGxhdGxuZykge1xuICAgIGNvbnN0IG1hcmtlcnMgPSBbLi4udGhpcy5tYXJrZXJDYWNoZV07XG4gICAgY29uc3QgbGltaXQgPSB0aGlzLm9wdGlvbnMubGltaXRNYXJrZXJzVG9Db3VudDtcblxuICAgIGlmIChsaW1pdCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBtYXJrZXJzO1xuICAgIH1cblxuICAgIC8vIHNvcnQgbWFya2VycyBieSBkaXN0YW5jZSB0byBjdXJzb3JcbiAgICBtYXJrZXJzLnNvcnQoKGwsIHQpID0+IHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlQSA9IGwuX2xhdGxuZy5kaXN0YW5jZVRvKGxhdGxuZyk7XG4gICAgICBjb25zdCBkaXN0YW5jZUIgPSB0Ll9sYXRsbmcuZGlzdGFuY2VUbyhsYXRsbmcpO1xuXG4gICAgICByZXR1cm4gZGlzdGFuY2VBIC0gZGlzdGFuY2VCO1xuICAgIH0pO1xuXG4gICAgLy8gcmVkdWNlIG1hcmtlcnMgdG8gbnVtYmVyIG9mIGxpbWl0XG4gICAgY29uc3QgY2xvc2VzdCA9IG1hcmtlcnMuZmlsdGVyKChsLCBpKSA9PiAobGltaXQgPiAtMSA/IGkgPCBsaW1pdCA6IHRydWUpKTtcblxuICAgIHJldHVybiBjbG9zZXN0O1xuICB9LFxuICBfcHJldmVudFJlbmRlck1hcmtlcnM6IGZhbHNlLFxuICBfcHJldmVudFJlbmRlcmluZ01hcmtlcnModmFsdWUpIHtcbiAgICB0aGlzLl9wcmV2ZW50UmVuZGVyTWFya2VycyA9ICEhdmFsdWU7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYXJrZXJMaW1pdHM7XG4iLCAiaW1wb3J0IGxpbmVJbnRlcnNlY3QgZnJvbSAnQHR1cmYvbGluZS1pbnRlcnNlY3QnO1xuaW1wb3J0IEVkaXQgZnJvbSAnLi9MLlBNLkVkaXQnO1xuXG5FZGl0LlBvbHlnb24gPSBFZGl0LkxpbmUuZXh0ZW5kKHtcbiAgX3NoYXBlOiAnUG9seWdvbicsXG4gIF9jaGVja01hcmtlckFsbG93ZWRUb0RyYWcobWFya2VyKSB7XG4gICAgY29uc3QgeyBwcmV2TWFya2VyLCBuZXh0TWFya2VyIH0gPSB0aGlzLl9nZXROZWlnaGJvck1hcmtlcnMobWFya2VyKTtcblxuICAgIGNvbnN0IHByZXZMaW5lID0gTC5wb2x5bGluZShbcHJldk1hcmtlci5nZXRMYXRMbmcoKSwgbWFya2VyLmdldExhdExuZygpXSk7XG4gICAgY29uc3QgbmV4dExpbmUgPSBMLnBvbHlsaW5lKFttYXJrZXIuZ2V0TGF0TG5nKCksIG5leHRNYXJrZXIuZ2V0TGF0TG5nKCldKTtcblxuICAgIGNvbnN0IHByZXZMaW5lSW50ZXJzZWN0aW9uTGVuID0gbGluZUludGVyc2VjdChcbiAgICAgIHRoaXMuX2xheWVyLnRvR2VvSlNPTigxNSksXG4gICAgICBwcmV2TGluZS50b0dlb0pTT04oMTUpXG4gICAgKS5mZWF0dXJlcy5sZW5ndGg7XG4gICAgY29uc3QgbmV4dExpbmVJbnRlcnNlY3Rpb25MZW4gPSBsaW5lSW50ZXJzZWN0KFxuICAgICAgdGhpcy5fbGF5ZXIudG9HZW9KU09OKDE1KSxcbiAgICAgIG5leHRMaW5lLnRvR2VvSlNPTigxNSlcbiAgICApLmZlYXR1cmVzLmxlbmd0aDtcblxuICAgIC8vIDw9IDIgdGhlIHN0YXJ0IGFuZCBlbmQgcG9pbnQgb2YgdGhlIGxpbmUgYWx3YXlzIGludGVyc2VjdGluZyBiZWNhdXNlIHRoZXkgaGF2ZSB0aGUgc2FtZSBjb29yZHMuXG4gICAgaWYgKHByZXZMaW5lSW50ZXJzZWN0aW9uTGVuIDw9IDIgJiYgbmV4dExpbmVJbnRlcnNlY3Rpb25MZW4gPD0gMikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbn0pO1xuIiwgIi8vIENvcm5lciBkZXRlY3Rpb24gYmFzZWQgb24gTGVhZmxldCBEcmF3J3MgRWRpdC5SZWN0YW5nbGUuanMgQ2xhc3M6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0LmRyYXcvYmxvYi9tYXN0ZXIvc3JjL2VkaXQvaGFuZGxlci9FZGl0LlJlY3RhbmdsZS5qc1xuaW1wb3J0IEVkaXQgZnJvbSAnLi9MLlBNLkVkaXQnO1xuaW1wb3J0IHsgY2FsY0FuZ2xlIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbkVkaXQuUmVjdGFuZ2xlID0gRWRpdC5Qb2x5Z29uLmV4dGVuZCh7XG4gIF9zaGFwZTogJ1JlY3RhbmdsZScsXG4gIC8vIGluaXRpYWxpemVzIFJlY3RhbmdsZSBNYXJrZXJzXG4gIF9pbml0TWFya2VycygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3QgY29ybmVycyA9IHRoaXMuX2ZpbmRDb3JuZXJzKCk7XG5cbiAgICAvLyBjbGVhbnVwIG9sZCBvbmVzIGZpcnN0XG4gICAgaWYgKHRoaXMuX21hcmtlckdyb3VwKSB7XG4gICAgICB0aGlzLl9tYXJrZXJHcm91cC5jbGVhckxheWVycygpO1xuICAgIH1cblxuICAgIC8vIGFkZCBtYXJrZXJHcm91cCB0byBtYXAsIG1hcmtlckdyb3VwIGluY2x1ZGVzIHJlZ3VsYXIgYW5kIG1pZGRsZSBtYXJrZXJzXG4gICAgdGhpcy5fbWFya2VyR3JvdXAgPSBuZXcgTC5GZWF0dXJlR3JvdXAoKTtcbiAgICB0aGlzLl9tYXJrZXJHcm91cC5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIG1hcC5hZGRMYXllcih0aGlzLl9tYXJrZXJHcm91cCk7XG5cbiAgICAvLyBjcmVhdGUgbWFya2VycyBmb3IgZm91ciBjb3JuZXJzIG9mIHJlY3RhbmdsZVxuICAgIHRoaXMuX21hcmtlcnMgPSBbXTtcblxuICAgIC8vIG5lc3Qgc2V0IG9mIGNvcm5lciBtYXJrZXJzIGluIGEgMkQgYXJyYXkgc28gdGhhdCB3ZSBjYW4gQ3V0IHRoaXMgUmVjdGFuZ2xlLCBpZiBuZWVkZWRcbiAgICB0aGlzLl9tYXJrZXJzWzBdID0gY29ybmVycy5tYXAodGhpcy5fY3JlYXRlTWFya2VyLCB0aGlzKTtcblxuICAgIC8vIGNvbnZlbmllbmNlIGFsaWFzLCBmb3IgYmV0dGVyIHJlYWRhYmlsaXR5XG4gICAgW3RoaXMuX2Nvcm5lck1hcmtlcnNdID0gdGhpcy5fbWFya2VycztcblxuICAgIC8vIFVwZGF0ZSB0aGUgbWFya2VyIGxhdGxuZ3MgaWYgdGhlIHJlY3RhbmdsZSBpcyByb3RhdGVkXG4gICAgdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdLmZvckVhY2goKGxhdGxuZywgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IG1hcmtlciA9IHRoaXMuX2Nvcm5lck1hcmtlcnMuZmluZCgobSkgPT4gbS5faW5kZXggPT09IGluZGV4KTtcbiAgICAgIGlmIChtYXJrZXIpIHtcbiAgICAgICAgbWFya2VyLnNldExhdExuZyhsYXRsbmcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBhcHBseU9wdGlvbnMoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgIHRoaXMuX2luaXRTbmFwcGFibGVNYXJrZXJzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVTbmFwcGluZygpO1xuICAgIH1cbiAgICB0aGlzLl9hZGRNYXJrZXJFdmVudHMoKTtcbiAgfSxcblxuICAvLyBjcmVhdGVzIGluaXRpYWwgbWFya2VycyBmb3IgY29vcmRpbmF0ZXNcbiAgX2NyZWF0ZU1hcmtlcihsYXRsbmcsIGluZGV4KSB7XG4gICAgY29uc3QgbWFya2VyID0gbmV3IEwuTWFya2VyKGxhdGxuZywge1xuICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgaWNvbjogTC5kaXZJY29uKHsgY2xhc3NOYW1lOiAnbWFya2VyLWljb24nIH0pLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUobWFya2VyLCAndmVydGV4UGFuZScpO1xuXG4gICAgbWFya2VyLl9vcmlnTGF0TG5nID0gbGF0bG5nO1xuICAgIG1hcmtlci5faW5kZXggPSBpbmRleDtcbiAgICBtYXJrZXIuX3BtVGVtcExheWVyID0gdHJ1ZTtcblxuICAgIG1hcmtlci5vbignY2xpY2snLCB0aGlzLl9vblZlcnRleENsaWNrLCB0aGlzKTtcblxuICAgIHRoaXMuX21hcmtlckdyb3VwLmFkZExheWVyKG1hcmtlcik7XG5cbiAgICByZXR1cm4gbWFya2VyO1xuICB9LFxuICAvLyBBZGQgbWFya2VyIGV2ZW50cyBhZnRlciBhZGRpbmcgdGhlIHNuYXBwaW5nIGV2ZW50cyB0byB0aGUgbWFya2VycywgYmVhY2F1c2Ugb2YgdGhlIGV4ZWN1dGlvbiBvcmRlclxuICBfYWRkTWFya2VyRXZlbnRzKCkge1xuICAgIHRoaXMuX21hcmtlcnNbMF0uZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICBtYXJrZXIub24oJ2RyYWdzdGFydCcsIHRoaXMuX29uTWFya2VyRHJhZ1N0YXJ0LCB0aGlzKTtcbiAgICAgIG1hcmtlci5vbignZHJhZycsIHRoaXMuX29uTWFya2VyRHJhZywgdGhpcyk7XG4gICAgICBtYXJrZXIub24oJ2RyYWdlbmQnLCB0aGlzLl9vbk1hcmtlckRyYWdFbmQsIHRoaXMpO1xuXG4gICAgICAvLyBUT0RPOiBDYW4gd2UgcmVtb3ZlIHRoaXM/IFRoZSBfcmVtb3ZlTWFya2VyIEV2ZW50IGlzIGEgZW1wdHkgZnVuY3Rpb25cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnByZXZlbnRNYXJrZXJSZW1vdmFsKSB7XG4gICAgICAgIG1hcmtlci5vbignY29udGV4dG1lbnUnLCB0aGlzLl9yZW1vdmVNYXJrZXIsIHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAvLyBFbXB0eSBjYWxsYmFjayBmb3IgJ2NvbnRleHRtZW51JyBiaW5kaW5nIHNldCBpbiBMLlBNLkVkaXQuTGluZS5qcydzIF9jcmVhdGVNYXJrZXIgbWV0aG9kIChBS0EsIHJpZ2h0LWNsaWNrIG9uIG1hcmtlciBldmVudClcbiAgLy8gKEEgUmVjdGFuZ2xlIGlzIGRlc2lnbmVkIHRvIGFsd2F5cyByZW1haW4gYSBcInRydWVcIiByZWN0YW5nbGUgLS0gaWYgeW91IHdhbnQgaXQgZWRpdGFibGUsIHVzZSBQb2x5Z29uIFRvb2wgaW5zdGVhZCEhISlcbiAgX3JlbW92ZU1hcmtlcigpIHtcbiAgICAvLyBUaGUgbWV0aG9kLCBpdCBkb2VzIG5vdGhpbmchISFcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcblxuICBfb25NYXJrZXJEcmFnU3RhcnQoZSkge1xuICAgIGlmICghdGhpcy5fdmVydGV4VmFsaWRhdGlvbignbW92ZScsIGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZHJhZ2dlZCBtYXJrZXJcbiAgICBjb25zdCBkcmFnZ2VkTWFya2VyID0gZS50YXJnZXQ7XG4gICAgLy8gU3RvcmUvdXBkYXRlIGEgcmVmZXJlbmNlIHRvIG1hcmtlciBpbiBvcHBvc2l0ZSBjb3JuZXJcbiAgICBjb25zdCBjb3JuZXJzID0gdGhpcy5fY29ybmVyTWFya2VycztcbiAgICBkcmFnZ2VkTWFya2VyLl9vcHBvc2l0ZUNvcm5lckxhdExuZyA9IGNvcm5lcnNcbiAgICAgIC5maW5kKChtKSA9PiBtLl9pbmRleCA9PT0gKGRyYWdnZWRNYXJrZXIuX2luZGV4ICsgMikgJSA0KVxuICAgICAgLmdldExhdExuZygpO1xuXG4gICAgLy8gQXV0b21hdGljYWxseSB1bnNuYXAgYWxsIG1hcmtlcnMgb24gZHJhZyBzdGFydCAodGhleSdsbCBzbmFwIGJhY2sgaWYgY2xvc2UgZW5vdWdoIHRvIGFub3RoZXIgc25hcHBhYmxlIG9iamVjdClcbiAgICAvLyAoV2l0aG91dCB0aGlzLCBpdCdzIG9jY2FzaW9uYWxseSBwb3NzaWJsZSBmb3IgYSBtYXJrZXIgdG8gZ2V0IHN0dWNrIGFzICdzbmFwcGVkLCcgd2hpY2ggcHJldmVudHMgUmVjdGFuZ2xlIHJlc2l6aW5nKVxuICAgIGRyYWdnZWRNYXJrZXIuX3NuYXBwZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IHsgaW5kZXhQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICB0aGlzLl9tYXJrZXJzLFxuICAgICAgZHJhZ2dlZE1hcmtlclxuICAgICk7XG5cbiAgICB0aGlzLl9maXJlTWFya2VyRHJhZ1N0YXJ0KGUsIGluZGV4UGF0aCk7XG4gIH0sXG5cbiAgX29uTWFya2VyRHJhZyhlKSB7XG4gICAgLy8gZHJhZ2dlZCBtYXJrZXJcbiAgICBjb25zdCBkcmFnZ2VkTWFya2VyID0gZS50YXJnZXQ7XG5cbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb25EcmFnKGRyYWdnZWRNYXJrZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gb25seSBjb250aW51ZSBpZiB0aGlzIGlzIE5PVCBhIG1pZGRsZSBtYXJrZXIgKHNob3VsZCBORVZFUiBiZSBvbmUsIGJ1dCB0aGlzIGlzIGp1c3QgYSBzYWZldHkgY2hlY2spXG4gICAgaWYgKGRyYWdnZWRNYXJrZXIuX2luZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9hZGp1c3RSZWN0YW5nbGVGb3JNYXJrZXJNb3ZlKGRyYWdnZWRNYXJrZXIpO1xuXG4gICAgY29uc3QgeyBpbmRleFBhdGggfSA9IEwuUE0uVXRpbHMuZmluZERlZXBNYXJrZXJJbmRleChcbiAgICAgIHRoaXMuX21hcmtlcnMsXG4gICAgICBkcmFnZ2VkTWFya2VyXG4gICAgKTtcbiAgICB0aGlzLl9maXJlTWFya2VyRHJhZyhlLCBpbmRleFBhdGgpO1xuICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpLCAnRWRpdCcpO1xuICB9LFxuXG4gIF9vbk1hcmtlckRyYWdFbmQoZSkge1xuICAgIC8vIGRyYWdnZWQgbWFya2VyXG4gICAgY29uc3QgZHJhZ2dlZE1hcmtlciA9IGUudGFyZ2V0O1xuICAgIGlmICghdGhpcy5fdmVydGV4VmFsaWRhdGlvbkRyYWdFbmQoZHJhZ2dlZE1hcmtlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDbGVhbi11cCBkYXRhIGF0dHJpYnV0ZXNcbiAgICB0aGlzLl9jb3JuZXJNYXJrZXJzLmZvckVhY2goKG0pID0+IHtcbiAgICAgIGRlbGV0ZSBtLl9vcHBvc2l0ZUNvcm5lckxhdExuZztcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgaW5kZXhQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICB0aGlzLl9tYXJrZXJzLFxuICAgICAgZHJhZ2dlZE1hcmtlclxuICAgICk7XG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWdFbmQoZSwgaW5kZXhQYXRoKTtcblxuICAgIC8vIGZpcmUgZWRpdCBldmVudFxuICAgIHRoaXMuX2ZpcmVFZGl0KCk7XG4gICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSB0cnVlO1xuICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpLCAnRWRpdCcpO1xuICB9LFxuXG4gIC8vIGFkanVzdHMgdGhlIHJlY3RhbmdsZSdzIHNpemUgYW5kIGJvdW5kcyB3aGVuZXZlciBhIG1hcmtlciBpcyBtb3ZlZFxuICAvLyBwYXJhbXM6IG1vdmVkTWFya2VyIC0tIHRoZSBNYXJrZXIgb2JqZWN0XG4gIF9hZGp1c3RSZWN0YW5nbGVGb3JNYXJrZXJNb3ZlKG1vdmVkTWFya2VyKSB7XG4gICAgLy8gdXBkYXRlIG1vdmVkIG1hcmtlciBjb29yZGluYXRlc1xuICAgIEwuZXh0ZW5kKG1vdmVkTWFya2VyLl9vcmlnTGF0TG5nLCBtb3ZlZE1hcmtlci5fbGF0bG5nKTtcblxuICAgIC8vIHVwZGF0ZSByZWN0YW5nbGUgYm91bmRhcmllcywgYmFzZWQgb24gbW92ZWQgbWFya2VyJ3MgbmV3IExhdExuZyBhbmQgY2FjaGVkIG9wcG9zaXRlIGNvcm5lcidzIExhdExuZ1xuICAgIGNvbnN0IGNvcm5lcnMgPSBMLlBNLlV0aWxzLl9nZXRSb3RhdGVkUmVjdGFuZ2xlKFxuICAgICAgbW92ZWRNYXJrZXIuZ2V0TGF0TG5nKCksXG4gICAgICBtb3ZlZE1hcmtlci5fb3Bwb3NpdGVDb3JuZXJMYXRMbmcsXG4gICAgICB0aGlzLmdldEFuZ2xlKCksXG4gICAgICB0aGlzLl9tYXBcbiAgICApO1xuICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3MoY29ybmVycyk7XG5cbiAgICAvLyBSZXBvc2l0aW9uIHRoZSBtYXJrZXJzIGF0IGVhY2ggY29ybmVyXG4gICAgdGhpcy5fYWRqdXN0QWxsTWFya2VycygpO1xuXG4gICAgLy8gUmVkcmF3IHRoZSBzaGFwZSAodG8gdXBkYXRlIGFsdGVyZWQgcmVjdGFuZ2xlKVxuICAgIHRoaXMuX2xheWVyLnJlZHJhdygpO1xuICB9LFxuXG4gIC8vIGFkanVzdHMgdGhlIHBvc2l0aW9uIG9mIGFsbCBNYXJrZXJzXG4gIC8vIHBhcmFtczogbWFya2VyTGF0TG5ncyAtLSBhbiBhcnJheSBvZiBleGFjdGx5IExhdExuZyBvYmplY3RzXG4gIF9hZGp1c3RBbGxNYXJrZXJzKCkge1xuICAgIGNvbnN0IG1hcmtlckxhdExuZ3MgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClbMF07XG5cbiAgICBpZiAoXG4gICAgICBtYXJrZXJMYXRMbmdzICYmXG4gICAgICBtYXJrZXJMYXRMbmdzLmxlbmd0aCAhPT0gNCAmJlxuICAgICAgbWFya2VyTGF0TG5ncy5sZW5ndGggPiAwXG4gICAgKSB7XG4gICAgICAvLyBUaGUgbGF5ZXJzIGlzIGN1cnJlbnRseSB0byBzbWFsbCBhbmQgaGFzIG5vdCBlbm91Z2ggbGF0bG5ncy5cbiAgICAgIC8vIExlYWZsZXQgZGVzdHJveXMgdGhlIHZhbGlkIFJlY3RhbmdsZSBieSByZW1vdmluZyB0aGUgbGFzdCBsYXRsbmcgaWYgdGhlIGxhc3QgYW5kIGZpcnN0IGxhdGxuZyBhcmUgZXF1YWwuIFNlZTogTGVhZmxldCM3NDY0IFYxLjcuMVxuXG4gICAgICAvLyB1cGRhdGUgYWxsIHBvc3NpYmxlIG1hcmtlcnNcbiAgICAgIG1hcmtlckxhdExuZ3MuZm9yRWFjaCgobGF0bG5nLCBpbmRleCkgPT4ge1xuICAgICAgICB0aGlzLl9jb3JuZXJNYXJrZXJzW2luZGV4XS5zZXRMYXRMbmcobGF0bG5nKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBhcHBseSB0byBhbGwgbWFya2VycyB3aXRoIG5vIGxhdGxuZyBvbiB0aGUgbGF5ZXIsIHRoZSBmaXJzdCBsYXRsbmdcbiAgICAgIGNvbnN0IHJlc3RNYXJrZXJzID0gdGhpcy5fY29ybmVyTWFya2Vycy5zbGljZShtYXJrZXJMYXRMbmdzLmxlbmd0aCk7XG4gICAgICByZXN0TWFya2Vycy5mb3JFYWNoKChtYXJrZXIpID0+IHtcbiAgICAgICAgbWFya2VyLnNldExhdExuZyhtYXJrZXJMYXRMbmdzWzBdKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIW1hcmtlckxhdExuZ3MgfHwgIW1hcmtlckxhdExuZ3MubGVuZ3RoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZSBsYXllciBoYXMgbm8gTGF0TG5ncycpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb3JuZXJNYXJrZXJzLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgICBtYXJrZXIuc2V0TGF0TG5nKG1hcmtlckxhdExuZ3NbbWFya2VyLl9pbmRleF0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAvLyBmaW5kcyB0aGUgNCBjb3JuZXJzIG9mIHRoZSBjdXJyZW50IGJvdW5kaW5nIGJveFxuICAvLyByZXR1cm5zIGFycmF5IG9mIDQgTGF0TG5nIG9iamVjdHMgaW4gdGhpcyBvcmRlcjogTm9ydGh3ZXN0IGNvcm5lciwgTm9ydGhlYXN0IGNvcm5lciwgU291dGhlYXN0IGNvcm5lciwgU291dGh3ZXN0IGNvcm5lclxuICBfZmluZENvcm5lcnMoKSB7XG4gICAgaWYgKHRoaXMuX2FuZ2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0SW5pdEFuZ2xlKFxuICAgICAgICBjYWxjQW5nbGUoXG4gICAgICAgICAgdGhpcy5fbWFwLFxuICAgICAgICAgIHRoaXMuX2xheWVyLmdldExhdExuZ3MoKVswXVswXSxcbiAgICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClbMF1bMV1cbiAgICAgICAgKSB8fCAwXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGxhdGxuZ3MgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClbMF07XG4gICAgcmV0dXJuIEwuUE0uVXRpbHMuX2dldFJvdGF0ZWRSZWN0YW5nbGUoXG4gICAgICBsYXRsbmdzWzBdLFxuICAgICAgbGF0bG5nc1syXSxcbiAgICAgIHRoaXMuZ2V0QW5nbGUoKSxcbiAgICAgIHRoaXMuX21hcCB8fCB0aGlzXG4gICAgKTtcbiAgfSxcbn0pO1xuIiwgImltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcbmltcG9ydCB7IGRlc3RpbmF0aW9uT25MaW5lIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbkVkaXQuQ2lyY2xlTWFya2VyID0gRWRpdC5leHRlbmQoe1xuICBfc2hhcGU6ICdDaXJjbGVNYXJrZXInLFxuICBpbml0aWFsaXplKGxheWVyKSB7XG4gICAgdGhpcy5fbGF5ZXIgPSBsYXllcjtcbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLl9taW5SYWRpdXNPcHRpb24gPSAnbWluUmFkaXVzQ2lyY2xlTWFya2VyJztcbiAgICB0aGlzLl9tYXhSYWRpdXNPcHRpb24gPSAnbWF4UmFkaXVzQ2lyY2xlTWFya2VyJztcbiAgICB0aGlzLl9lZGl0YWJsZU9wdGlvbiA9ICdyZXNpemVhYmxlQ2lyY2xlTWFya2VyJztcblxuICAgIC8vIGNyZWF0ZSBwb2x5Z29uIGFyb3VuZCB0aGUgY2lyY2xlIGJvcmRlclxuICAgIHRoaXMuX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKTtcbiAgfSxcbiAgLy8gVE9ETzogcmVtb3ZlIGRlZmF1bHQgb3B0aW9uIGluIG5leHQgbWFqb3IgUmVsZWFzZVxuICBlbmFibGUob3B0aW9ucyA9IHsgZHJhZ2dhYmxlOiB0cnVlLCBzbmFwcGFibGU6IHRydWUgfSkge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgIC8vIFRPRE86IHJlbW92ZSB3aXRoIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZWRpdGFibGUpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5yZXNpemVhYmxlQ2lyY2xlTWFya2VyID0gdGhpcy5vcHRpb25zLmVkaXRhYmxlO1xuICAgICAgZGVsZXRlIHRoaXMub3B0aW9ucy5lZGl0YWJsZTtcbiAgICB9XG5cbiAgICAvLyBsYXllciBpcyBub3QgYWxsb3dlZCB0byBlZGl0XG4gICAgLy8gY2FuY2VsIHdoZW4gbWFwIGlzbid0IGF2YWlsYWJsZSwgdGhpcyBoYXBwZW5zIHdoZW4gaXQgaXMgcmVtb3ZlZCBiZWZvcmUgdGhpcyBmaXJlc1xuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93RWRpdGluZyB8fCAhdGhpcy5fbGF5ZXIuX21hcCkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbWFwID0gdGhpcy5fbGF5ZXIuX21hcDtcblxuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgLy8gaWYgaXQgd2FzIGFscmVhZHkgZW5hYmxlZCwgZGlzYWJsZSBmaXJzdFxuICAgICAgLy8gd2UgZG9uJ3QgYmxvY2sgZW5hYmxpbmcgYWdhaW4gYmVjYXVzZSBuZXcgb3B0aW9ucyBtaWdodCBiZSBwYXNzZWRcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5T3B0aW9ucygpO1xuXG4gICAgLy8gaWYgc2hhcGUgZ2V0cyByZW1vdmVkIGZyb20gbWFwLCBkaXNhYmxlIGVkaXQgbW9kZVxuICAgIHRoaXMuX2xheWVyLm9uKCdyZW1vdmUnLCB0aGlzLmRpc2FibGUsIHRoaXMpO1xuXG4gICAgLy8gY2hhbmdlIHN0YXRlXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICB0aGlzLl9leHRlbmRpbmdFbmFibGUoKTtcblxuICAgIC8vIGNyZWF0ZSBwb2x5Z29uIGFyb3VuZCB0aGUgY2lyY2xlIGJvcmRlclxuICAgIHRoaXMuX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKTtcblxuICAgIHRoaXMuX2ZpcmVFbmFibGUoKTtcbiAgfSxcbiAgX2V4dGVuZGluZ0VuYWJsZSgpIHtcbiAgICAvLyBpZiBDaXJjbGVNYXJrZXIgaXMgZHJhZ2dlZCB3aGlsZSBkcmF3IG1vZGVcbiAgICB0aGlzLl9sYXllci5vbigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9uKCdwbTpkcmFnJywgdGhpcy5fb25NYXJrZXJEcmFnLCB0aGlzKTtcbiAgICB0aGlzLl9sYXllci5vbigncG06ZHJhZ2VuZCcsIHRoaXMuX29uTWFya2VyRHJhZ0VuZCwgdGhpcyk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gcHJldmVudCBkaXNhYmxpbmcgaWYgbGF5ZXIgaXMgYmVpbmcgZHJhZ2dlZFxuICAgIGlmICh0aGlzLmRyYWdnaW5nKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWFwIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHNldC4gVGhpcyBoYXBwZW5zIHdoZW4gZGlzYWJsZSgpIGlzIGNhbGxlZCBiZWZvcmUgZW5hYmxlKClcbiAgICBpZiAoIXRoaXMuX21hcCkge1xuICAgICAgdGhpcy5fbWFwID0gdGhpcy5fbGF5ZXIuX21hcDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX21hcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIGl0J3Mgbm90IGVuYWJsZWQsIGl0IGRvZXNuJ3QgbmVlZCB0byBiZSBkaXNhYmxlZFxuICAgIGlmICghdGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBkaXNhYmxlIGRyYWdnaW5nIG9mIG5vbi1lZGl0YWJsZSBjaXJjbGVcbiAgICBpZiAodGhpcy5sYXllckRyYWdFbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUxheWVyRHJhZygpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnNbdGhpcy5fZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICBpZiAodGhpcy5faGVscGVyTGF5ZXJzKSB7XG4gICAgICAgIHRoaXMuX2hlbHBlckxheWVycy5jbGVhckxheWVycygpO1xuICAgICAgfVxuICAgICAgdGhpcy5fbWFwLm9mZignbW92ZScsIHRoaXMuX3N5bmNNYXJrZXJzLCB0aGlzKTtcbiAgICAgIHRoaXMuX291dGVyTWFya2VyLm9mZignZHJhZycsIHRoaXMuX2hhbmRsZU91dGVyTWFya2VyU25hcHBpbmcsIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tYXAub2ZmKCdtb3ZlJywgdGhpcy5fdXBkYXRlSGlkZGVuUG9seUNpcmNsZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZXh0ZW5kaW5nRGlzYWJsZSgpO1xuXG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdyZW1vdmUnLCB0aGlzLmRpc2FibGUsIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuX2xheWVyRWRpdGVkKSB7XG4gICAgICB0aGlzLl9maXJlVXBkYXRlKCk7XG4gICAgfVxuICAgIHRoaXMuX2xheWVyRWRpdGVkID0gZmFsc2U7XG4gICAgdGhpcy5fZmlyZURpc2FibGUoKTtcblxuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgfSxcbiAgX2V4dGVuZGluZ0Rpc2FibGUoKSB7XG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdjb250ZXh0bWVudScsIHRoaXMuX3JlbW92ZU1hcmtlciwgdGhpcyk7XG4gIH0sXG4gIGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gIH0sXG4gIHRvZ2dsZUVkaXQob3B0aW9ucykge1xuICAgIGlmICghdGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZW5hYmxlKG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9XG4gIH0sXG4gIGFwcGx5T3B0aW9ucygpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgdGhpcy5faW5pdE1hcmtlcnMoKTtcbiAgICAgIHRoaXMuX21hcC5vbignbW92ZScsIHRoaXMuX3N5bmNNYXJrZXJzLCB0aGlzKTtcblxuICAgICAgLy8gaW5pdCBzbmFwcGluZyBpbiBkaWZmZXJlbnQgd2F5c1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgICAgdGhpcy5faW5pdFNuYXBwYWJsZU1hcmtlcnMoKTtcbiAgICAgICAgLy8gdXBkYXRlIG1hcmtlciBsYXRsbmcgd2hlbiBzbmFwcGVkIGxhdGxuZyByYWRpdXMgaXMgb3V0IG9mIG1pbi9tYXhcbiAgICAgICAgdGhpcy5fb3V0ZXJNYXJrZXIub24oJ2RyYWcnLCB0aGlzLl9oYW5kbGVPdXRlck1hcmtlclNuYXBwaW5nLCB0aGlzKTtcbiAgICAgICAgLy8gc3luYyB0aGUgaGludGxpbmUgd2l0aCBoaW50IG1hcmtlclxuICAgICAgICB0aGlzLl9vdXRlck1hcmtlci5vbignbW92ZScsIHRoaXMuX3N5bmNIaW50TGluZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuX291dGVyTWFya2VyLm9uKCdtb3ZlJywgdGhpcy5fc3luY0NpcmNsZVJhZGl1cywgdGhpcyk7XG4gICAgICAgIHRoaXMuX2NlbnRlck1hcmtlci5vbignbW92ZScsIHRoaXMuX21vdmVDaXJjbGUsIHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZGlzYWJsZVNuYXBwaW5nKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlTGF5ZXJEcmFnKCk7XG4gICAgICB9XG4gICAgICAvLyBvbmx5IHVwZGF0ZSB0aGUgY2lyY2xlIGJvcmRlciBwb2x5XG4gICAgICB0aGlzLl9tYXAub24oJ21vdmUnLCB0aGlzLl91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlLCB0aGlzKTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgICAgdGhpcy5faW5pdFNuYXBwYWJsZU1hcmtlcnNEcmFnKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9kaXNhYmxlU25hcHBpbmdEcmFnKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fZXh0ZW5kaW5nQXBwbHlPcHRpb25zKCk7XG4gIH0sXG4gIF9leHRlbmRpbmdBcHBseU9wdGlvbnMoKSB7XG4gICAgLy8gZW5hYmxlIHJlbW92YWwgZm9yIHRoZSBtYXJrZXJcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5wcmV2ZW50TWFya2VyUmVtb3ZhbCkge1xuICAgICAgdGhpcy5fbGF5ZXIub24oJ2NvbnRleHRtZW51JywgdGhpcy5fcmVtb3ZlTWFya2VyLCB0aGlzKTtcbiAgICB9XG4gIH0sXG4gIF9pbml0TWFya2VycygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG5cbiAgICAvLyBjbGVhbnVwIG9sZCBvbmVzIGZpcnN0XG4gICAgaWYgKHRoaXMuX2hlbHBlckxheWVycykge1xuICAgICAgdGhpcy5faGVscGVyTGF5ZXJzLmNsZWFyTGF5ZXJzKCk7XG4gICAgfVxuXG4gICAgLy8gYWRkIG1hcmtlckdyb3VwIHRvIG1hcCwgbWFya2VyR3JvdXAgaW5jbHVkZXMgcmVndWxhciBhbmQgbWlkZGxlIG1hcmtlcnNcbiAgICB0aGlzLl9oZWxwZXJMYXllcnMgPSBuZXcgTC5GZWF0dXJlR3JvdXAoKTtcbiAgICB0aGlzLl9oZWxwZXJMYXllcnMuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICB0aGlzLl9oZWxwZXJMYXllcnMuYWRkVG8obWFwKTtcblxuICAgIC8vIGNyZWF0ZSBtYXJrZXIgZm9yIGVhY2ggY29vcmRpbmF0ZVxuICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuX2xheWVyLmdldExhdExuZygpO1xuICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMuX2xheWVyLl9yYWRpdXM7XG5cbiAgICBjb25zdCBvdXRlciA9IHRoaXMuX2dldExhdExuZ09uQ2lyY2xlKGNlbnRlciwgcmFkaXVzKTtcblxuICAgIHRoaXMuX2NlbnRlck1hcmtlciA9IHRoaXMuX2NyZWF0ZUNlbnRlck1hcmtlcihjZW50ZXIpO1xuICAgIHRoaXMuX291dGVyTWFya2VyID0gdGhpcy5fY3JlYXRlT3V0ZXJNYXJrZXIob3V0ZXIpO1xuICAgIHRoaXMuX21hcmtlcnMgPSBbdGhpcy5fY2VudGVyTWFya2VyLCB0aGlzLl9vdXRlck1hcmtlcl07XG4gICAgdGhpcy5fY3JlYXRlSGludExpbmUodGhpcy5fY2VudGVyTWFya2VyLCB0aGlzLl9vdXRlck1hcmtlcik7XG4gIH0sXG4gIF9nZXRMYXRMbmdPbkNpcmNsZShjZW50ZXIsIHJhZGl1cykge1xuICAgIGNvbnN0IHBvaW50QSA9IHRoaXMuX21hcC5wcm9qZWN0KGNlbnRlcik7XG4gICAgY29uc3QgcG9pbnRCID0gTC5wb2ludChwb2ludEEueCArIHJhZGl1cywgcG9pbnRBLnkpO1xuICAgIHJldHVybiB0aGlzLl9tYXAudW5wcm9qZWN0KHBvaW50Qik7XG4gIH0sXG4gIF9jcmVhdGVIaW50TGluZShtYXJrZXJBLCBtYXJrZXJCKSB7XG4gICAgY29uc3QgQSA9IG1hcmtlckEuZ2V0TGF0TG5nKCk7XG4gICAgY29uc3QgQiA9IG1hcmtlckIuZ2V0TGF0TG5nKCk7XG4gICAgdGhpcy5faGludGxpbmUgPSBMLnBvbHlsaW5lKFtBLCBCXSwgdGhpcy5vcHRpb25zLmhpbnRsaW5lU3R5bGUpO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5faGludGxpbmUsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9oaW50bGluZS5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2hlbHBlckxheWVycy5hZGRMYXllcih0aGlzLl9oaW50bGluZSk7XG4gIH0sXG4gIF9jcmVhdGVDZW50ZXJNYXJrZXIobGF0bG5nKSB7XG4gICAgY29uc3QgbWFya2VyID0gdGhpcy5fY3JlYXRlTWFya2VyKGxhdGxuZyk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5kcmFnZ2FibGUpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhtYXJrZXIuX2ljb24sICdsZWFmbGV0LXBtLWRyYWdnYWJsZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXJrZXIuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICAgIH1cbiAgICByZXR1cm4gbWFya2VyO1xuICB9LFxuICBfY3JlYXRlT3V0ZXJNYXJrZXIobGF0bG5nKSB7XG4gICAgY29uc3QgbWFya2VyID0gdGhpcy5fY3JlYXRlTWFya2VyKGxhdGxuZyk7XG4gICAgbWFya2VyLm9uKCdkcmFnJywgdGhpcy5fcmVzaXplQ2lyY2xlLCB0aGlzKTtcbiAgICByZXR1cm4gbWFya2VyO1xuICB9LFxuICBfY3JlYXRlTWFya2VyKGxhdGxuZykge1xuICAgIGNvbnN0IG1hcmtlciA9IG5ldyBMLk1hcmtlcihsYXRsbmcsIHtcbiAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKG1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcblxuICAgIG1hcmtlci5fb3JpZ0xhdExuZyA9IGxhdGxuZztcbiAgICBtYXJrZXIuX3BtVGVtcExheWVyID0gdHJ1ZTtcblxuICAgIG1hcmtlci5vbignZHJhZ3N0YXJ0JywgdGhpcy5fb25NYXJrZXJEcmFnU3RhcnQsIHRoaXMpO1xuICAgIG1hcmtlci5vbignZHJhZycsIHRoaXMuX29uTWFya2VyRHJhZywgdGhpcyk7XG4gICAgbWFya2VyLm9uKCdkcmFnZW5kJywgdGhpcy5fb25NYXJrZXJEcmFnRW5kLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ2NsaWNrJywgdGhpcy5fb25WZXJ0ZXhDbGljaywgdGhpcyk7XG5cbiAgICB0aGlzLl9oZWxwZXJMYXllcnMuYWRkTGF5ZXIobWFya2VyKTtcblxuICAgIHJldHVybiBtYXJrZXI7XG4gIH0sXG5cbiAgX21vdmVDaXJjbGUoZSkge1xuICAgIGNvbnN0IGRyYWdnZWRNYXJrZXIgPSBlLnRhcmdldDtcbiAgICBpZiAoZHJhZ2dlZE1hcmtlci5fY2FuY2VsRHJhZ0V2ZW50Q2hhaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5nKGNlbnRlcik7XG5cbiAgICBjb25zdCByYWRpdXMgPSB0aGlzLl9sYXllci5fcmFkaXVzO1xuXG4gICAgY29uc3Qgb3V0ZXIgPSB0aGlzLl9nZXRMYXRMbmdPbkNpcmNsZShjZW50ZXIsIHJhZGl1cyk7XG4gICAgLy8gZG9uJ3QgY2FsbCAuc2V0TGF0TG5nKCkgYmVjYXVzZSBpdCBmaXJlcyB0aGUgYG1vdmVgIGV2ZW50IGFuZCB0aGVuIHRoZSByYWRpdXMgaXMgY2hhbmdlZCBiZWNhdXNlIG9mIF9zeW5jQ2lyY2xlUmFkaXVzICM4OTJcbiAgICB0aGlzLl9vdXRlck1hcmtlci5fbGF0bG5nID0gb3V0ZXI7XG4gICAgdGhpcy5fb3V0ZXJNYXJrZXIudXBkYXRlKCk7XG4gICAgdGhpcy5fc3luY0hpbnRMaW5lKCk7XG5cbiAgICB0aGlzLl91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCk7XG5cbiAgICB0aGlzLl9maXJlQ2VudGVyUGxhY2VkKCdFZGl0Jyk7XG4gICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmcoKSwgJ0VkaXQnKTtcbiAgfSxcbiAgX3N5bmNNYXJrZXJzKCkge1xuICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuX2xheWVyLmdldExhdExuZygpO1xuICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMuX2xheWVyLl9yYWRpdXM7XG4gICAgY29uc3Qgb3V0ZXIgPSB0aGlzLl9nZXRMYXRMbmdPbkNpcmNsZShjZW50ZXIsIHJhZGl1cyk7XG4gICAgdGhpcy5fb3V0ZXJNYXJrZXIuc2V0TGF0TG5nKG91dGVyKTtcbiAgICB0aGlzLl9jZW50ZXJNYXJrZXIuc2V0TGF0TG5nKGNlbnRlcik7XG4gICAgdGhpcy5fc3luY0hpbnRMaW5lKCk7XG4gICAgdGhpcy5fdXBkYXRlSGlkZGVuUG9seUNpcmNsZSgpO1xuICB9LFxuICBfcmVzaXplQ2lyY2xlKCkge1xuICAgIHRoaXMuX291dGVyTWFya2VyLnNldExhdExuZyh0aGlzLl9nZXROZXdEZXN0aW5hdGlvbk9mT3V0ZXJNYXJrZXIoKSk7XG4gICAgdGhpcy5fc3luY0hpbnRMaW5lKCk7XG4gICAgdGhpcy5fc3luY0NpcmNsZVJhZGl1cygpO1xuICB9LFxuICBfc3luY0NpcmNsZVJhZGl1cygpIHtcbiAgICBjb25zdCBBID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuICAgIGNvbnN0IEIgPSB0aGlzLl9vdXRlck1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5fZGlzdGFuY2VDYWxjdWxhdGlvbihBLCBCKTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dICYmXG4gICAgICBkaXN0YW5jZSA8IHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dXG4gICAgKSB7XG4gICAgICB0aGlzLl9sYXllci5zZXRSYWRpdXModGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0pO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXSAmJlxuICAgICAgZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXVxuICAgICkge1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0UmFkaXVzKHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0UmFkaXVzKGRpc3RhbmNlKTtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCk7XG4gICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmcoKSwgJ0VkaXQnKTtcbiAgfSxcbiAgX3N5bmNIaW50TGluZSgpIHtcbiAgICBjb25zdCBBID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuICAgIGNvbnN0IEIgPSB0aGlzLl9vdXRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICAvLyBzZXQgY29vcmRzIGZvciBoaW50bGluZSBmcm9tIG1hcmtlciB0byBsYXN0IHZlcnRleCBvZiBkcmF3aW4gcG9seWxpbmVcbiAgICB0aGlzLl9oaW50bGluZS5zZXRMYXRMbmdzKFtBLCBCXSk7XG4gIH0sXG4gIF9yZW1vdmVNYXJrZXIoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9uc1t0aGlzLl9lZGl0YWJsZU9wdGlvbl0pIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgICB0aGlzLl9sYXllci5yZW1vdmUoKTtcbiAgICB0aGlzLl9maXJlUmVtb3ZlKHRoaXMuX2xheWVyKTtcbiAgICB0aGlzLl9maXJlUmVtb3ZlKHRoaXMuX21hcCwgdGhpcy5fbGF5ZXIpO1xuICB9LFxuICBfb25EcmFnU3RhcnQoKSB7XG4gICAgdGhpcy5fbWFwLnBtLkRyYXcuQ2lyY2xlTWFya2VyLl9sYXllcklzRHJhZ2dpbmcgPSB0cnVlO1xuICB9LFxuICBfb25NYXJrZXJEcmFnU3RhcnQoZSkge1xuICAgIGlmICghdGhpcy5fdmVydGV4VmFsaWRhdGlvbignbW92ZScsIGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWdTdGFydChlKTtcbiAgfSxcbiAgX29uTWFya2VyRHJhZyhlKSB7XG4gICAgLy8gZHJhZ2dlZCBtYXJrZXJcbiAgICBjb25zdCBkcmFnZ2VkTWFya2VyID0gZS50YXJnZXQ7XG4gICAgaWYgKFxuICAgICAgZHJhZ2dlZE1hcmtlciBpbnN0YW5jZW9mIEwuTWFya2VyICYmXG4gICAgICAhdGhpcy5fdmVydGV4VmFsaWRhdGlvbkRyYWcoZHJhZ2dlZE1hcmtlcilcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9maXJlTWFya2VyRHJhZyhlKTtcbiAgfSxcbiAgX29uTWFya2VyRHJhZ0VuZChlKSB7XG4gICAgdGhpcy5fZXh0ZWRpbmdNYXJrZXJEcmFnRW5kKCk7XG5cbiAgICAvLyBkcmFnZ2VkIG1hcmtlclxuICAgIGNvbnN0IGRyYWdnZWRNYXJrZXIgPSBlLnRhcmdldDtcbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb25EcmFnRW5kKGRyYWdnZWRNYXJrZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnNbdGhpcy5fZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICB0aGlzLl9maXJlRWRpdCgpO1xuICAgICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl9maXJlTWFya2VyRHJhZ0VuZChlKTtcbiAgfSxcbiAgX2V4dGVkaW5nTWFya2VyRHJhZ0VuZCgpIHtcbiAgICB0aGlzLl9tYXAucG0uRHJhdy5DaXJjbGVNYXJrZXIuX2xheWVySXNEcmFnZ2luZyA9IGZhbHNlO1xuICB9LFxuICAvLyBfaW5pdFNuYXBwYWJsZU1hcmtlcnMgd2hlbiBvcHRpb24gZWRpdGFibGUgaXMgbm90IHRydWVcbiAgX2luaXRTbmFwcGFibGVNYXJrZXJzRHJhZygpIHtcbiAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9sYXllcjtcblxuICAgIHRoaXMub3B0aW9ucy5zbmFwRGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlIHx8IDMwO1xuICAgIHRoaXMub3B0aW9ucy5zbmFwU2VnbWVudCA9XG4gICAgICB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQ7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZycsIHRoaXMuX2hhbmRsZVNuYXBwaW5nLCB0aGlzKTtcblxuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZ2VuZCcsIHRoaXMuX2NsZWFudXBTbmFwcGluZywgdGhpcyk7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgfSxcbiAgLy8gX2Rpc2FibGVTbmFwcGluZyB3aGVuIG9wdGlvbiBlZGl0YWJsZSBpcyBub3QgdHJ1ZVxuICBfZGlzYWJsZVNuYXBwaW5nRHJhZygpIHtcbiAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9sYXllcjtcblxuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWcnLCB0aGlzLl9oYW5kbGVTbmFwcGluZywgdGhpcyk7XG4gICAgbWFya2VyLm9mZigncG06ZHJhZ2VuZCcsIHRoaXMuX2NsZWFudXBTbmFwcGluZywgdGhpcyk7XG4gICAgbWFya2VyLm9mZigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgfSxcbiAgX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbGF5ZXIuX21hcCB8fCB0aGlzLl9tYXA7XG4gICAgaWYgKG1hcCkge1xuICAgICAgY29uc3QgcmFkaXVzID0gTC5QTS5VdGlscy5weFJhZGl1c1RvTWV0ZXJSYWRpdXMoXG4gICAgICAgIHRoaXMuX2xheWVyLmdldFJhZGl1cygpLFxuICAgICAgICBtYXAsXG4gICAgICAgIHRoaXMuX2xheWVyLmdldExhdExuZygpXG4gICAgICApO1xuICAgICAgY29uc3QgX2xheWVyID0gTC5jaXJjbGUodGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCksIHRoaXMuX2xheWVyLm9wdGlvbnMpO1xuICAgICAgX2xheWVyLnNldFJhZGl1cyhyYWRpdXMpO1xuXG4gICAgICBjb25zdCBjcnNTaW1wbGUgPSBtYXAgJiYgbWFwLnBtLl9pc0NSU1NpbXBsZSgpO1xuICAgICAgaWYgKHRoaXMuX2hpZGRlblBvbHlDaXJjbGUpIHtcbiAgICAgICAgdGhpcy5faGlkZGVuUG9seUNpcmNsZS5zZXRMYXRMbmdzKFxuICAgICAgICAgIEwuUE0uVXRpbHMuY2lyY2xlVG9Qb2x5Z29uKF9sYXllciwgMjAwLCAhY3JzU2ltcGxlKS5nZXRMYXRMbmdzKClcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hpZGRlblBvbHlDaXJjbGUgPSBMLlBNLlV0aWxzLmNpcmNsZVRvUG9seWdvbihcbiAgICAgICAgICBfbGF5ZXIsXG4gICAgICAgICAgMjAwLFxuICAgICAgICAgICFjcnNTaW1wbGVcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlLl9wYXJlbnRDb3B5KSB7XG4gICAgICAgIHRoaXMuX2hpZGRlblBvbHlDaXJjbGUuX3BhcmVudENvcHkgPSB0aGlzLl9sYXllcjtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIF9nZXROZXdEZXN0aW5hdGlvbk9mT3V0ZXJNYXJrZXIoKSB7XG4gICAgY29uc3QgbGF0bG5nID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuICAgIGxldCBzZWNvbmRMYXRMbmcgPSB0aGlzLl9vdXRlck1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5fZGlzdGFuY2VDYWxjdWxhdGlvbihsYXRsbmcsIHNlY29uZExhdExuZyk7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXSAmJlxuICAgICAgZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXVxuICAgICkge1xuICAgICAgc2Vjb25kTGF0TG5nID0gZGVzdGluYXRpb25PbkxpbmUoXG4gICAgICAgIHRoaXMuX21hcCxcbiAgICAgICAgbGF0bG5nLFxuICAgICAgICBzZWNvbmRMYXRMbmcsXG4gICAgICAgIHRoaXMuX2dldE1pbkRpc3RhbmNlSW5NZXRlcihsYXRsbmcpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXSAmJlxuICAgICAgZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXVxuICAgICkge1xuICAgICAgc2Vjb25kTGF0TG5nID0gZGVzdGluYXRpb25PbkxpbmUoXG4gICAgICAgIHRoaXMuX21hcCxcbiAgICAgICAgbGF0bG5nLFxuICAgICAgICBzZWNvbmRMYXRMbmcsXG4gICAgICAgIHRoaXMuX2dldE1heERpc3RhbmNlSW5NZXRlcihsYXRsbmcpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gc2Vjb25kTGF0TG5nO1xuICB9LFxuICBfaGFuZGxlT3V0ZXJNYXJrZXJTbmFwcGluZygpIHtcbiAgICBpZiAodGhpcy5fb3V0ZXJNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICAgIGNvbnN0IHNlY29uZExhdExuZyA9IHRoaXMuX291dGVyTWFya2VyLmdldExhdExuZygpO1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLl9kaXN0YW5jZUNhbGN1bGF0aW9uKGxhdGxuZywgc2Vjb25kTGF0TG5nKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0gJiZcbiAgICAgICAgZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX291dGVyTWFya2VyLnNldExhdExuZyh0aGlzLl9vdXRlck1hcmtlci5fb3JnTGF0TG5nKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dICYmXG4gICAgICAgIGRpc3RhbmNlID4gdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl1cbiAgICAgICkge1xuICAgICAgICB0aGlzLl9vdXRlck1hcmtlci5zZXRMYXRMbmcodGhpcy5fb3V0ZXJNYXJrZXIuX29yZ0xhdExuZyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgbmV3IGxhdGxuZyBvZiBtYXJrZXIgaWYgcmFkaXVzIGlzIG91dCBvZiBtaW4vbWF4XG4gICAgdGhpcy5fb3V0ZXJNYXJrZXIuc2V0TGF0TG5nKHRoaXMuX2dldE5ld0Rlc3RpbmF0aW9uT2ZPdXRlck1hcmtlcigpKTtcbiAgfSxcbiAgX2Rpc3RhbmNlQ2FsY3VsYXRpb24oQSwgQikge1xuICAgIHJldHVybiB0aGlzLl9tYXAucHJvamVjdChBKS5kaXN0YW5jZVRvKHRoaXMuX21hcC5wcm9qZWN0KEIpKTtcbiAgfSxcbiAgX2dldE1pbkRpc3RhbmNlSW5NZXRlcihsYXRsbmcpIHtcbiAgICByZXR1cm4gTC5QTS5VdGlscy5weFJhZGl1c1RvTWV0ZXJSYWRpdXMoXG4gICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXSxcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgIGxhdGxuZ1xuICAgICk7XG4gIH0sXG4gIF9nZXRNYXhEaXN0YW5jZUluTWV0ZXIobGF0bG5nKSB7XG4gICAgcmV0dXJuIEwuUE0uVXRpbHMucHhSYWRpdXNUb01ldGVyUmFkaXVzKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0sXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICBsYXRsbmdcbiAgICApO1xuICB9LFxuICBfb25WZXJ0ZXhDbGljayhlKSB7XG4gICAgY29uc3QgdmVydGV4ID0gZS50YXJnZXQ7XG4gICAgaWYgKHZlcnRleC5fZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9maXJlVmVydGV4Q2xpY2soZSwgdW5kZWZpbmVkKTtcbiAgfSxcbn0pO1xuIiwgImltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcblxuRWRpdC5DaXJjbGUgPSBFZGl0LkNpcmNsZU1hcmtlci5leHRlbmQoe1xuICBfc2hhcGU6ICdDaXJjbGUnLFxuICBpbml0aWFsaXplKGxheWVyKSB7XG4gICAgdGhpcy5fbGF5ZXIgPSBsYXllcjtcbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLl9taW5SYWRpdXNPcHRpb24gPSAnbWluUmFkaXVzQ2lyY2xlJztcbiAgICB0aGlzLl9tYXhSYWRpdXNPcHRpb24gPSAnbWF4UmFkaXVzQ2lyY2xlJztcbiAgICB0aGlzLl9lZGl0YWJsZU9wdGlvbiA9ICdyZXNpemFibGVDaXJjbGUnO1xuICAgIC8vIGNyZWF0ZSBwb2x5Z29uIGFyb3VuZCB0aGUgY2lyY2xlIGJvcmRlclxuICAgIHRoaXMuX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKTtcbiAgfSxcbiAgZW5hYmxlKG9wdGlvbnMpIHtcbiAgICAvLyBUT0RPOiB0aGlzIGNhbiBiZSByZW1vdmVkIGFmdGVyIHRoZSBkZWZhdWx0IG9wdGlvbnMgb2YgQ2lyY2xlTWFya2VyLmVuYWJsZSBhcmUgcmVtb3ZlZFxuICAgIEwuUE0uRWRpdC5DaXJjbGVNYXJrZXIucHJvdG90eXBlLmVuYWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMgfHwge30pO1xuICB9LFxuICBfZXh0ZW5kaW5nRW5hYmxlKCkge30sXG4gIF9leHRlbmRpbmdEaXNhYmxlKCkge1xuICAgIHRoaXMuX2xheWVyLm9mZigncmVtb3ZlJywgdGhpcy5kaXNhYmxlLCB0aGlzKTtcblxuICAgIC8vIHJlbW92ZSBkcmFnZ2FibGUgY2xhc3NcbiAgICBjb25zdCBlbCA9IHRoaXMuX2xheWVyLl9wYXRoXG4gICAgICA/IHRoaXMuX2xheWVyLl9wYXRoXG4gICAgICA6IHRoaXMuX2xheWVyLl9yZW5kZXJlci5fY29udGFpbmVyO1xuICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhlbCwgJ2xlYWZsZXQtcG0tZHJhZ2dhYmxlJyk7XG4gIH0sXG4gIF9leHRlbmRpbmdBcHBseU9wdGlvbnMoKSB7fSxcbiAgX3N5bmNNYXJrZXJzKCkge30sXG4gIF9yZW1vdmVNYXJrZXIoKSB7fSxcbiAgX29uRHJhZ1N0YXJ0KCkge30sXG4gIF9leHRlZGluZ01hcmtlckRyYWdFbmQoKSB7fSxcbiAgX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKSB7XG4gICAgY29uc3QgY3JzU2ltcGxlID0gdGhpcy5fbWFwICYmIHRoaXMuX21hcC5wbS5faXNDUlNTaW1wbGUoKTtcbiAgICBpZiAodGhpcy5faGlkZGVuUG9seUNpcmNsZSkge1xuICAgICAgdGhpcy5faGlkZGVuUG9seUNpcmNsZS5zZXRMYXRMbmdzKFxuICAgICAgICBMLlBNLlV0aWxzLmNpcmNsZVRvUG9seWdvbih0aGlzLl9sYXllciwgMjAwLCAhY3JzU2ltcGxlKS5nZXRMYXRMbmdzKClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGRlblBvbHlDaXJjbGUgPSBMLlBNLlV0aWxzLmNpcmNsZVRvUG9seWdvbihcbiAgICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAgIDIwMCxcbiAgICAgICAgIWNyc1NpbXBsZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2hpZGRlblBvbHlDaXJjbGUuX3BhcmVudENvcHkpIHtcbiAgICAgIHRoaXMuX2hpZGRlblBvbHlDaXJjbGUuX3BhcmVudENvcHkgPSB0aGlzLl9sYXllcjtcbiAgICB9XG4gIH0sXG4gIF9kaXN0YW5jZUNhbGN1bGF0aW9uKEEsIEIpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLmRpc3RhbmNlKEEsIEIpO1xuICB9LFxuICBfZ2V0TWluRGlzdGFuY2VJbk1ldGVyKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXTtcbiAgfSxcbiAgX2dldE1heERpc3RhbmNlSW5NZXRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl07XG4gIH0sXG4gIF9vblZlcnRleENsaWNrKGUpIHtcbiAgICBjb25zdCB2ZXJ0ZXggPSBlLnRhcmdldDtcbiAgICBpZiAodmVydGV4Ll9kcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2ZpcmVWZXJ0ZXhDbGljayhlLCB1bmRlZmluZWQpO1xuICB9LFxufSk7XG4iLCAiaW1wb3J0IEVkaXQgZnJvbSAnLi9MLlBNLkVkaXQnO1xuXG5FZGl0LkltYWdlT3ZlcmxheSA9IEVkaXQuZXh0ZW5kKHtcbiAgX3NoYXBlOiAnSW1hZ2VPdmVybGF5JyxcbiAgaW5pdGlhbGl6ZShsYXllcikge1xuICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICB9LFxuICB0b2dnbGVFZGl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmVuYWJsZShvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICAvLyBUT0RPOiByZW1vdmUgZGVmYXVsdCBvcHRpb24gaW4gbmV4dCBtYWpvciBSZWxlYXNlXG4gIGVuYWJsZShvcHRpb25zID0geyBkcmFnZ2FibGU6IHRydWUsIHNuYXBwYWJsZTogdHJ1ZSB9KSB7XG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG4gICAgdGhpcy5fbWFwID0gdGhpcy5fbGF5ZXIuX21hcDtcbiAgICAvLyBjYW5jZWwgd2hlbiBtYXAgaXNuJ3QgYXZhaWxhYmxlLCB0aGlzIGhhcHBlbnMgd2hlbiB0aGUgcG9seWdvbiBpcyByZW1vdmVkIGJlZm9yZSB0aGlzIGZpcmVzXG4gICAgaWYgKCF0aGlzLl9tYXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBsYXllciBpcyBub3QgYWxsb3dlZCB0byBlZGl0XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYWxsb3dFZGl0aW5nKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICAvLyBpZiBpdCB3YXMgYWxyZWFkeSBlbmFibGVkLCBkaXNhYmxlIGZpcnN0XG4gICAgICAvLyB3ZSBkb24ndCBibG9jayBlbmFibGluZyBhZ2FpbiBiZWNhdXNlIG5ldyBvcHRpb25zIG1pZ2h0IGJlIHBhc3NlZFxuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbmFibGVMYXllckRyYWcoKTtcblxuICAgIC8vIGlmIHNoYXBlIGdldHMgcmVtb3ZlZCBmcm9tIG1hcCwgZGlzYWJsZSBlZGl0IG1vZGVcbiAgICB0aGlzLl9sYXllci5vbigncmVtb3ZlJywgdGhpcy5kaXNhYmxlLCB0aGlzKTtcblxuICAgIC8vIGNoYW5nZSBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gY3JlYXRlIG1hcmtlcnMgZm9yIGZvdXIgY29ybmVycyBvZiBJbWFnZU92ZXJsYXlcbiAgICB0aGlzLl9vdGhlclNuYXBMYXllcnMgPSB0aGlzLl9maW5kQ29ybmVycygpO1xuXG4gICAgdGhpcy5fZmlyZUVuYWJsZSgpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIHByZXZlbnQgZGlzYWJsaW5nIGlmIGxheWVyIGlzIGJlaW5nIGRyYWdnZWRcbiAgICBpZiAodGhpcy5fZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWFwIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHNldC4gVGhpcyBoYXBwZW5zIHdoZW4gZGlzYWJsZSgpIGlzIGNhbGxlZCBiZWZvcmUgZW5hYmxlKClcbiAgICBpZiAoIXRoaXMuX21hcCkge1xuICAgICAgdGhpcy5fbWFwID0gdGhpcy5fbGF5ZXIuX21hcDtcbiAgICB9XG4gICAgLy8gZGlzYWJsZSBkcmFnZ2luZywgYXMgdGhpcyBjb3VsZCBoYXZlIGJlZW4gYWN0aXZlIGV2ZW4gd2l0aG91dCBiZWluZyBlbmFibGVkXG4gICAgdGhpcy5kaXNhYmxlTGF5ZXJEcmFnKCk7XG5cbiAgICAvLyByZW1vdmUgbGlzdGVuZXJcbiAgICB0aGlzLl9sYXllci5vZmYoJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG5cbiAgICAvLyBvbmx5IGZpcmUgZXZlbnRzIGlmIGl0IHdhcyBlbmFibGVkIGJlZm9yZVxuICAgIGlmICghdGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIGlmICh0aGlzLl9sYXllckVkaXRlZCkge1xuICAgICAgICB0aGlzLl9maXJlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9sYXllckVkaXRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fZmlyZURpc2FibGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gIH0sXG4gIF9maW5kQ29ybmVycygpIHtcbiAgICBjb25zdCBjb3JuZXJzID0gdGhpcy5fbGF5ZXIuZ2V0Qm91bmRzKCk7XG5cbiAgICBjb25zdCBub3J0aHdlc3QgPSBjb3JuZXJzLmdldE5vcnRoV2VzdCgpO1xuICAgIGNvbnN0IG5vcnRoZWFzdCA9IGNvcm5lcnMuZ2V0Tm9ydGhFYXN0KCk7XG4gICAgY29uc3Qgc291dGhlYXN0ID0gY29ybmVycy5nZXRTb3V0aEVhc3QoKTtcbiAgICBjb25zdCBzb3V0aHdlc3QgPSBjb3JuZXJzLmdldFNvdXRoV2VzdCgpO1xuXG4gICAgcmV0dXJuIFtub3J0aHdlc3QsIG5vcnRoZWFzdCwgc291dGhlYXN0LCBzb3V0aHdlc3RdO1xuICB9LFxufSk7XG4iLCAiaW1wb3J0IEVkaXQgZnJvbSAnLi9MLlBNLkVkaXQnO1xuXG5FZGl0LlRleHQgPSBFZGl0LmV4dGVuZCh7XG4gIF9zaGFwZTogJ1RleHQnLFxuICBpbml0aWFsaXplKGxheWVyKSB7XG4gICAgdGhpcy5fbGF5ZXIgPSBsYXllcjtcbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gIH0sXG4gIGVuYWJsZShvcHRpb25zKSB7XG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICBpZiAoIXRoaXMudGV4dEFyZWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBsYXllciBpcyBub3QgYWxsb3dlZCB0byBlZGl0XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYWxsb3dFZGl0aW5nIHx8ICF0aGlzLl9sYXllci5fbWFwKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9tYXAgPSB0aGlzLl9sYXllci5fbWFwO1xuXG4gICAgaWYgKHRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9XG4gICAgdGhpcy5hcHBseU9wdGlvbnMoKTtcblxuICAgIHRoaXMuX3NhZmVUb0NhY2hlRHJhZ1N0YXRlID0gdHJ1ZTtcblxuICAgIHRoaXMuX2ZvY3VzQ2hhbmdlKCk7XG4gICAgdGhpcy50ZXh0QXJlYS5yZWFkT25seSA9IGZhbHNlO1xuICAgIHRoaXMudGV4dEFyZWEuY2xhc3NMaXN0LnJlbW92ZSgncG0tZGlzYWJsZWQnKTtcblxuICAgIC8vIGlmIHNoYXBlIGdldHMgcmVtb3ZlZCBmcm9tIG1hcCwgZGlzYWJsZSBlZGl0IG1vZGVcbiAgICB0aGlzLl9sYXllci5vbigncmVtb3ZlJywgdGhpcy5kaXNhYmxlLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9uKHRoaXMudGV4dEFyZWEsICdpbnB1dCcsIHRoaXMuX2F1dG9SZXNpemUsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub24odGhpcy50ZXh0QXJlYSwgJ2ZvY3VzJywgdGhpcy5fZm9jdXNDaGFuZ2UsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub24odGhpcy50ZXh0QXJlYSwgJ2JsdXInLCB0aGlzLl9mb2N1c0NoYW5nZSwgdGhpcyk7XG4gICAgdGhpcy5fbGF5ZXIub24oJ2RibGNsaWNrJywgTC5Eb21FdmVudC5zdG9wKTtcblxuICAgIEwuRG9tRXZlbnQub2ZmKHRoaXMudGV4dEFyZWEsICdtb3VzZWRvd24nLCB0aGlzLl9wcmV2ZW50VGV4dFNlbGVjdGlvbik7XG5cbiAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuX2ZpcmVFbmFibGUoKTtcbiAgfSxcbiAgZGlzYWJsZSgpIHtcbiAgICAvLyBpZiBpdCdzIG5vdCBlbmFibGVkLCBpdCBkb2Vzbid0IG5lZWQgdG8gYmUgZGlzYWJsZWRcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdyZW1vdmUnLCB0aGlzLmRpc2FibGUsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub2ZmKHRoaXMudGV4dEFyZWEsICdpbnB1dCcsIHRoaXMuX2F1dG9SZXNpemUsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub2ZmKHRoaXMudGV4dEFyZWEsICdmb2N1cycsIHRoaXMuX2ZvY3VzQ2hhbmdlLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9mZih0aGlzLnRleHRBcmVhLCAnYmx1cicsIHRoaXMuX2ZvY3VzQ2hhbmdlLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ2NsaWNrJywgdGhpcy5fZG9jdW1lbnRDbGljaywgdGhpcyk7XG5cbiAgICB0aGlzLl9mb2N1c0NoYW5nZSgpO1xuICAgIHRoaXMudGV4dEFyZWEucmVhZE9ubHkgPSB0cnVlO1xuICAgIHRoaXMudGV4dEFyZWEuY2xhc3NMaXN0LmFkZCgncG0tZGlzYWJsZWQnKTtcblxuICAgIC8vIHJlbW92ZSBzZWxlY3Rpb25cbiAgICBjb25zdCBmb2N1c2VkRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgLy8gQ2hyb21lIG5lZWRzIHRoZSBmb2N1cyBvbiB0aGUgZWxlbWVudCB0byBjaGFuZ2UgdGhlIHNlbGVjdGlvblxuICAgIHRoaXMudGV4dEFyZWEuZm9jdXMoKTtcbiAgICB0aGlzLnRleHRBcmVhLnNlbGVjdGlvblN0YXJ0ID0gMDtcbiAgICB0aGlzLnRleHRBcmVhLnNlbGVjdGlvbkVuZCA9IDA7XG4gICAgTC5Eb21FdmVudC5vbih0aGlzLnRleHRBcmVhLCAnbW91c2Vkb3duJywgdGhpcy5fcHJldmVudFRleHRTZWxlY3Rpb24pO1xuICAgIGZvY3VzZWRFbGVtZW50LmZvY3VzKCk7XG5cbiAgICB0aGlzLl9kaXNhYmxlT25CbHVyQWN0aXZlID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5fbGF5ZXJFZGl0ZWQpIHtcbiAgICAgIHRoaXMuX2ZpcmVVcGRhdGUoKTtcbiAgICB9XG4gICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9maXJlRGlzYWJsZSgpO1xuXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGVFZGl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmVuYWJsZShvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICB9LFxuICBhcHBseU9wdGlvbnMoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgIHRoaXMuX2luaXRTbmFwcGFibGVNYXJrZXJzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVTbmFwcGluZygpO1xuICAgIH1cbiAgfSxcbiAgLy8gb3ZlcndyaXRlIGluaXRTbmFwcGFibGVNYXJrZXJzIGZyb20gU25hcHBpbmcuanMgTWl4aW5cbiAgX2luaXRTbmFwcGFibGVNYXJrZXJzKCkge1xuICAgIGNvbnN0IG1hcmtlciA9IHRoaXMuX2xheWVyO1xuXG4gICAgdGhpcy5vcHRpb25zLnNuYXBEaXN0YW5jZSA9IHRoaXMub3B0aW9ucy5zbmFwRGlzdGFuY2UgfHwgMzA7XG4gICAgdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50ID1cbiAgICAgIHRoaXMub3B0aW9ucy5zbmFwU2VnbWVudCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHRoaXMub3B0aW9ucy5zbmFwU2VnbWVudDtcblxuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWcnLCB0aGlzLl9oYW5kbGVTbmFwcGluZywgdGhpcyk7XG4gICAgbWFya2VyLm9uKCdwbTpkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuXG4gICAgbWFya2VyLm9mZigncG06ZHJhZ2VuZCcsIHRoaXMuX2NsZWFudXBTbmFwcGluZywgdGhpcyk7XG4gICAgbWFya2VyLm9uKCdwbTpkcmFnZW5kJywgdGhpcy5fY2xlYW51cFNuYXBwaW5nLCB0aGlzKTtcblxuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gICAgbWFya2VyLm9uKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICB9LFxuICBfZGlzYWJsZVNuYXBwaW5nKCkge1xuICAgIGNvbnN0IG1hcmtlciA9IHRoaXMuX2xheWVyO1xuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWcnLCB0aGlzLl9oYW5kbGVTbmFwcGluZywgdGhpcyk7XG4gICAgbWFya2VyLm9mZigncG06ZHJhZ2VuZCcsIHRoaXMuX2NsZWFudXBTbmFwcGluZywgdGhpcyk7XG4gICAgbWFya2VyLm9mZigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgfSxcbiAgX2F1dG9SZXNpemUoKSB7XG4gICAgdGhpcy50ZXh0QXJlYS5zdHlsZS5oZWlnaHQgPSAnMXB4JztcbiAgICB0aGlzLnRleHRBcmVhLnN0eWxlLndpZHRoID0gJzFweCc7XG4gICAgY29uc3QgaGVpZ2h0ID1cbiAgICAgIHRoaXMudGV4dEFyZWEuc2Nyb2xsSGVpZ2h0ID4gMjEgPyB0aGlzLnRleHRBcmVhLnNjcm9sbEhlaWdodCA6IDIxO1xuICAgIGNvbnN0IHdpZHRoID1cbiAgICAgIHRoaXMudGV4dEFyZWEuc2Nyb2xsV2lkdGggPiAxNiA/IHRoaXMudGV4dEFyZWEuc2Nyb2xsV2lkdGggOiAxNjtcbiAgICB0aGlzLnRleHRBcmVhLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gICAgdGhpcy50ZXh0QXJlYS5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICB0aGlzLl9sYXllci5vcHRpb25zLnRleHQgPSB0aGlzLmdldFRleHQoKTtcbiAgICB0aGlzLl9maXJlVGV4dENoYW5nZSh0aGlzLmdldFRleHQoKSk7XG4gIH0sXG5cbiAgX2Rpc2FibGVPbkJsdXIoKSB7XG4gICAgdGhpcy5fZGlzYWJsZU9uQmx1ckFjdGl2ZSA9IHRydWU7XG4gICAgLy8gd2UgbmVlZCB0aGlzIHRpbWVvdXQgYmVjYXVzZSBlbHNlIHRoZSBwbGFjZSBjbGljayBldmVudCBpcyB0cmlnZ2VyZWQgaGVyZSB0b28uXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5lbmFibGVkKCkpIHtcbiAgICAgICAgTC5Eb21FdmVudC5vbihkb2N1bWVudCwgJ2NsaWNrJywgdGhpcy5fZG9jdW1lbnRDbGljaywgdGhpcyk7XG4gICAgICB9XG4gICAgfSwgMTAwKTtcbiAgfSxcbiAgX2RvY3VtZW50Q2xpY2soZSkge1xuICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcy50ZXh0QXJlYSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICBpZiAoIXRoaXMuZ2V0VGV4dCgpICYmIHRoaXMub3B0aW9ucy5yZW1vdmVJZkVtcHR5KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIF9mb2N1c0NoYW5nZShlID0ge30pIHtcbiAgICBjb25zdCBmb2N1c0FscmVhZHlTZXQgPSB0aGlzLl9oYXNGb2N1cztcbiAgICB0aGlzLl9oYXNGb2N1cyA9IGUudHlwZSA9PT0gJ2ZvY3VzJztcbiAgICBpZiAoIWZvY3VzQWxyZWFkeVNldCAhPT0gIXRoaXMuX2hhc0ZvY3VzKSB7XG4gICAgICBpZiAodGhpcy5faGFzRm9jdXMpIHtcbiAgICAgICAgdGhpcy5fYXBwbHlGb2N1cygpO1xuICAgICAgICB0aGlzLl9mb2N1c1RleHQgPSB0aGlzLmdldFRleHQoKTtcbiAgICAgICAgdGhpcy5fZmlyZVRleHRGb2N1cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRm9jdXMoKTtcbiAgICAgICAgdGhpcy5fZmlyZVRleHRCbHVyKCk7XG4gICAgICAgIGlmICh0aGlzLl9mb2N1c1RleHQgIT09IHRoaXMuZ2V0VGV4dCgpKSB7XG4gICAgICAgICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgICAgICAgICB0aGlzLl9sYXllckVkaXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIF9hcHBseUZvY3VzKCkge1xuICAgIHRoaXMudGV4dEFyZWEuY2xhc3NMaXN0LmFkZCgncG0taGFzZm9jdXMnKTtcblxuICAgIGlmICh0aGlzLl9tYXAuZHJhZ2dpbmcpIHtcbiAgICAgIC8vIHNhdmUgY3VycmVudCBtYXAgZHJhZ2dpbmcgc3RhdGVcbiAgICAgIGlmICh0aGlzLl9zYWZlVG9DYWNoZURyYWdTdGF0ZSkge1xuICAgICAgICB0aGlzLl9vcmlnaW5hbE1hcERyYWdTdGF0ZSA9IHRoaXMuX21hcC5kcmFnZ2luZy5fZW5hYmxlZDtcbiAgICAgICAgLy8gZG9uJ3QgY2FjaGUgdGhlIHN0YXRlIGFnYWluIHVudGlsIGFub3RoZXIgbW91c2UgdXAgaXMgcmVnaXN0ZXJlZFxuICAgICAgICB0aGlzLl9zYWZlVG9DYWNoZURyYWdTdGF0ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy5fbWFwLmRyYWdnaW5nLmRpc2FibGUoKTtcbiAgICB9XG4gIH0sXG4gIF9yZW1vdmVGb2N1cygpIHtcbiAgICBpZiAodGhpcy5fbWFwLmRyYWdnaW5nKSB7XG4gICAgICBpZiAodGhpcy5fb3JpZ2luYWxNYXBEcmFnU3RhdGUpIHtcbiAgICAgICAgdGhpcy5fbWFwLmRyYWdnaW5nLmVuYWJsZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2FmZVRvQ2FjaGVEcmFnU3RhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMudGV4dEFyZWEuY2xhc3NMaXN0LnJlbW92ZSgncG0taGFzZm9jdXMnKTtcbiAgfSxcblxuICBmb2N1cygpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdMYXllciBpcyBub3QgZW5hYmxlZCcpO1xuICAgIH1cbiAgICB0aGlzLnRleHRBcmVhLmZvY3VzKCk7XG4gIH0sXG5cbiAgYmx1cigpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdMYXllciBpcyBub3QgZW5hYmxlZCcpO1xuICAgIH1cbiAgICB0aGlzLnRleHRBcmVhLmJsdXIoKTtcbiAgICBpZiAodGhpcy5fZGlzYWJsZU9uQmx1ckFjdGl2ZSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICB9LFxuXG4gIGhhc0ZvY3VzKCkge1xuICAgIHJldHVybiB0aGlzLl9oYXNGb2N1cztcbiAgfSxcblxuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLnRleHRBcmVhO1xuICB9LFxuXG4gIHNldFRleHQodGV4dCkge1xuICAgIHRoaXMudGV4dEFyZWEudmFsdWUgPSB0ZXh0O1xuICAgIHRoaXMuX2F1dG9SZXNpemUoKTtcbiAgfSxcblxuICBnZXRUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLnRleHRBcmVhLnZhbHVlO1xuICB9LFxuXG4gIF9pbml0VGV4dE1hcmtlcigpIHtcbiAgICB0aGlzLnRleHRBcmVhID0gTC5QTS5EcmF3LlRleHQucHJvdG90eXBlLl9jcmVhdGVUZXh0QXJlYS5jYWxsKHRoaXMpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKSB7XG4gICAgICBjb25zdCBjc3NDbGFzc2VzID0gdGhpcy5vcHRpb25zLmNsYXNzTmFtZS5zcGxpdCgnICcpO1xuICAgICAgdGhpcy50ZXh0QXJlYS5jbGFzc0xpc3QuYWRkKC4uLmNzc0NsYXNzZXMpO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0QXJlYUljb24gPSBMLlBNLkRyYXcuVGV4dC5wcm90b3R5cGUuX2NyZWF0ZVRleHRJY29uLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgdGhpcy50ZXh0QXJlYVxuICAgICk7XG4gICAgdGhpcy5fbGF5ZXIuc2V0SWNvbih0ZXh0QXJlYUljb24pO1xuXG4gICAgdGhpcy5fbGF5ZXIub25jZSgnYWRkJywgdGhpcy5fY3JlYXRlVGV4dE1hcmtlciwgdGhpcyk7XG4gIH0sXG5cbiAgX2NyZWF0ZVRleHRNYXJrZXIoZW5hYmxlID0gZmFsc2UpIHtcbiAgICB0aGlzLl9sYXllci5vZmYoJ2FkZCcsIHRoaXMuX2NyZWF0ZVRleHRNYXJrZXIsIHRoaXMpO1xuXG4gICAgdGhpcy5fbGF5ZXIuZ2V0RWxlbWVudCgpLnRhYkluZGV4ID0gLTE7XG5cbiAgICB0aGlzLnRleHRBcmVhLndyYXAgPSAnb2ZmJztcbiAgICB0aGlzLnRleHRBcmVhLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgdGhpcy50ZXh0QXJlYS5zdHlsZS5oZWlnaHQgPSBMLkRvbVV0aWwuZ2V0U3R5bGUodGhpcy50ZXh0QXJlYSwgJ2ZvbnQtc2l6ZScpO1xuICAgIHRoaXMudGV4dEFyZWEuc3R5bGUud2lkdGggPSAnMXB4JztcblxuICAgIGlmICh0aGlzLl9sYXllci5vcHRpb25zLnRleHQpIHtcbiAgICAgIHRoaXMuc2V0VGV4dCh0aGlzLl9sYXllci5vcHRpb25zLnRleHQpO1xuICAgIH1cblxuICAgIHRoaXMuX2F1dG9SZXNpemUoKTtcblxuICAgIGlmIChlbmFibGUgPT09IHRydWUpIHtcbiAgICAgIC8vIGVuYWJsZSBlZGl0aW5nIGZvciB0aGUgbWFya2VyXG4gICAgICB0aGlzLmVuYWJsZSgpO1xuICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgdGhpcy5fZGlzYWJsZU9uQmx1cigpO1xuICAgIH1cbiAgfSxcblxuICAvLyBDaHJvbWUgaWdub3JlcyBgdXNlci1zZWxlY3Q6IG5vbmVgLCBzbyB3ZSBuZWVkIHRvIGRpc2FibGUgdGV4dCBzZWxlY3Rpb24gbWFudWFsbHlcbiAgX3ByZXZlbnRUZXh0U2VsZWN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0sXG59KTtcbiIsICIvKipcbiAqIENvcHlyaWdodCAoYykgaHR0cHM6Ly9naXRodWIuY29tL3c4ci9MZWFmbGV0LlBhdGguVHJhbnNmb3JtXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3MgIEwuUE0uTWF0cml4XG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGFcbiAqIEBwYXJhbSB7TnVtYmVyfSBiXG4gKiBAcGFyYW0ge051bWJlcn0gY1xuICogQHBhcmFtIHtOdW1iZXJ9IGRcbiAqIEBwYXJhbSB7TnVtYmVyfSBlXG4gKiBAcGFyYW0ge051bWJlcn0gZlxuICovXG5jb25zdCBNYXRyaXggPSBmdW5jdGlvbiBNYXRyaXgoYSwgYiwgYywgZCwgZSwgZikge1xuICAvKipcbiAgICogQHR5cGUge0FycmF5LjxOdW1iZXI+fVxuICAgKi9cbiAgdGhpcy5fbWF0cml4ID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xufTtcblxuTWF0cml4LmluaXQgPSAoKSA9PiBuZXcgTC5QTS5NYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCk7XG5cbk1hdHJpeC5wcm90b3R5cGUgPSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gIHtMLlBvaW50fSBwb2ludFxuICAgKiBAcmV0dXJuIHtMLlBvaW50fVxuICAgKi9cbiAgdHJhbnNmb3JtKHBvaW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybShwb2ludC5jbG9uZSgpKTtcbiAgfSxcblxuICAvKipcbiAgICogRGVzdHJ1Y3RpdmVcbiAgICpcbiAgICogWyB4IF0gPSBbIGEgIGIgIHR4IF0gWyB4IF0gPSBbIGEgKiB4ICsgYiAqIHkgKyB0eCBdXG4gICAqIFsgeSBdID0gWyBjICBkICB0eSBdIFsgeSBdID0gWyBjICogeCArIGQgKiB5ICsgdHkgXVxuICAgKlxuICAgKiBAcGFyYW0gIHtMLlBvaW50fSBwb2ludFxuICAgKiBAcmV0dXJuIHtMLlBvaW50fVxuICAgKi9cbiAgX3RyYW5zZm9ybShwb2ludCkge1xuICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMuX21hdHJpeDtcbiAgICBjb25zdCB7IHgsIHkgfSA9IHBvaW50O1xuICAgIHBvaW50LnggPSBtYXRyaXhbMF0gKiB4ICsgbWF0cml4WzFdICogeSArIG1hdHJpeFs0XTtcbiAgICBwb2ludC55ID0gbWF0cml4WzJdICogeCArIG1hdHJpeFszXSAqIHkgKyBtYXRyaXhbNV07XG4gICAgcmV0dXJuIHBvaW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtMLlBvaW50fSBwb2ludFxuICAgKiBAcmV0dXJuIHtMLlBvaW50fVxuICAgKi9cbiAgdW50cmFuc2Zvcm0ocG9pbnQpIHtcbiAgICBjb25zdCBtYXRyaXggPSB0aGlzLl9tYXRyaXg7XG4gICAgcmV0dXJuIG5ldyBMLlBvaW50KFxuICAgICAgKHBvaW50LnggLyBtYXRyaXhbMF0gLSBtYXRyaXhbNF0pIC8gbWF0cml4WzBdLFxuICAgICAgKHBvaW50LnkgLyBtYXRyaXhbMl0gLSBtYXRyaXhbNV0pIC8gbWF0cml4WzJdXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogQHJldHVybiB7TC5QTS5NYXRyaXh9XG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBtYXRyaXggPSB0aGlzLl9tYXRyaXg7XG4gICAgcmV0dXJuIG5ldyBMLlBNLk1hdHJpeChcbiAgICAgIG1hdHJpeFswXSxcbiAgICAgIG1hdHJpeFsxXSxcbiAgICAgIG1hdHJpeFsyXSxcbiAgICAgIG1hdHJpeFszXSxcbiAgICAgIG1hdHJpeFs0XSxcbiAgICAgIG1hdHJpeFs1XVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TC5Qb2ludHxOdW1iZXJ9IHRyYW5zbGF0ZVxuICAgKiBAcmV0dXJuIHtMLlBNLk1hdHJpeHxMLlBvaW50fVxuICAgKi9cbiAgdHJhbnNsYXRlKHRyYW5zbGF0ZSkge1xuICAgIGlmICh0cmFuc2xhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG5ldyBMLlBvaW50KHRoaXMuX21hdHJpeFs0XSwgdGhpcy5fbWF0cml4WzVdKTtcbiAgICB9XG5cbiAgICBsZXQgdHJhbnNsYXRlWDtcbiAgICBsZXQgdHJhbnNsYXRlWTtcbiAgICBpZiAodHlwZW9mIHRyYW5zbGF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRyYW5zbGF0ZVggPSB0cmFuc2xhdGU7XG4gICAgICB0cmFuc2xhdGVZID0gdHJhbnNsYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2xhdGVYID0gdHJhbnNsYXRlLng7XG4gICAgICB0cmFuc2xhdGVZID0gdHJhbnNsYXRlLnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2FkZCgxLCAwLCAwLCAxLCB0cmFuc2xhdGVYLCB0cmFuc2xhdGVZKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtMLlBvaW50fE51bWJlcn0gc2NhbGVcbiAgICogQHBhcmFtIHtMLlBvaW50fE51bWJlcn0gb3JpZ2luXG4gICAqIEByZXR1cm4ge0wuUE0uTWF0cml4fEwuUG9pbnR9XG4gICAqL1xuICBzY2FsZShzY2FsZSwgb3JpZ2luKSB7XG4gICAgaWYgKHNjYWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBuZXcgTC5Qb2ludCh0aGlzLl9tYXRyaXhbMF0sIHRoaXMuX21hdHJpeFszXSk7XG4gICAgfVxuXG4gICAgbGV0IHNjYWxlWDtcbiAgICBsZXQgc2NhbGVZO1xuICAgIG9yaWdpbiA9IG9yaWdpbiB8fCBMLnBvaW50KDAsIDApO1xuICAgIGlmICh0eXBlb2Ygc2NhbGUgPT09ICdudW1iZXInKSB7XG4gICAgICBzY2FsZVggPSBzY2FsZTtcbiAgICAgIHNjYWxlWSA9IHNjYWxlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2FsZVggPSBzY2FsZS54O1xuICAgICAgc2NhbGVZID0gc2NhbGUueTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fYWRkKHNjYWxlWCwgMCwgMCwgc2NhbGVZLCBvcmlnaW4ueCwgb3JpZ2luLnkpLl9hZGQoXG4gICAgICAxLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgLW9yaWdpbi54LFxuICAgICAgLW9yaWdpbi55XG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogbTAwICBtMDEgIHggLSBtMDAgKiB4IC0gbTAxICogeVxuICAgKiBtMTAgIG0xMSAgeSAtIG0xMCAqIHggLSBtMTEgKiB5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSAgIGFuZ2xlXG4gICAqIEBwYXJhbSB7TC5Qb2ludD19IG9yaWdpblxuICAgKiBAcmV0dXJuIHtMLlBNLk1hdHJpeH1cbiAgICovXG4gIHJvdGF0ZShhbmdsZSwgb3JpZ2luKSB7XG4gICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcblxuICAgIG9yaWdpbiA9IG9yaWdpbiB8fCBuZXcgTC5Qb2ludCgwLCAwKTtcblxuICAgIHJldHVybiB0aGlzLl9hZGQoY29zLCBzaW4sIC1zaW4sIGNvcywgb3JpZ2luLngsIG9yaWdpbi55KS5fYWRkKFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIC1vcmlnaW4ueCxcbiAgICAgIC1vcmlnaW4ueVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludmVydCByb3RhdGlvblxuICAgKiBAcmV0dXJuIHtMLlBNLk1hdHJpeH1cbiAgICovXG4gIGZsaXAoKSB7XG4gICAgdGhpcy5fbWF0cml4WzFdICo9IC0xO1xuICAgIHRoaXMuX21hdHJpeFsyXSAqPSAtMTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtOdW1iZXJ8TC5QTS5NYXRyaXh9IGFcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGZcbiAgICovXG4gIF9hZGQoYSwgYiwgYywgZCwgZSwgZikge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtbXSwgW10sIFtdXTtcbiAgICBsZXQgc3JjID0gdGhpcy5fbWF0cml4O1xuICAgIGNvbnN0IG0gPSBbXG4gICAgICBbc3JjWzBdLCBzcmNbMl0sIHNyY1s0XV0sXG4gICAgICBbc3JjWzFdLCBzcmNbM10sIHNyY1s1XV0sXG4gICAgICBbMCwgMCwgMV0sXG4gICAgXTtcbiAgICBsZXQgb3RoZXIgPSBbXG4gICAgICBbYSwgYywgZV0sXG4gICAgICBbYiwgZCwgZl0sXG4gICAgICBbMCwgMCwgMV0sXG4gICAgXTtcbiAgICBsZXQgdmFsO1xuXG4gICAgaWYgKGEgJiYgYSBpbnN0YW5jZW9mIEwuUE0uTWF0cml4KSB7XG4gICAgICBzcmMgPSBhLl9tYXRyaXg7XG4gICAgICBvdGhlciA9IFtcbiAgICAgICAgW3NyY1swXSwgc3JjWzJdLCBzcmNbNF1dLFxuICAgICAgICBbc3JjWzFdLCBzcmNbM10sIHNyY1s1XV0sXG4gICAgICAgIFswLCAwLCAxXSxcbiAgICAgIF07XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpICs9IDEpIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaiArPSAxKSB7XG4gICAgICAgIHZhbCA9IDA7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgMzsgayArPSAxKSB7XG4gICAgICAgICAgdmFsICs9IG1baV1ba10gKiBvdGhlcltrXVtqXTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbaV1bal0gPSB2YWw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fbWF0cml4ID0gW1xuICAgICAgcmVzdWx0WzBdWzBdLFxuICAgICAgcmVzdWx0WzFdWzBdLFxuICAgICAgcmVzdWx0WzBdWzFdLFxuICAgICAgcmVzdWx0WzFdWzFdLFxuICAgICAgcmVzdWx0WzBdWzJdLFxuICAgICAgcmVzdWx0WzFdWzJdLFxuICAgIF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYXRyaXg7XG4iLCAiaW1wb3J0IHsgY3JlYXRlR2VvZGVzaWNQb2x5Z29uLCBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBfdG9MYXRMbmcsIF90b1BvaW50IH0gZnJvbSAnLi9oZWxwZXJzL01vZGVIZWxwZXInO1xuXG5jb25zdCBVdGlscyA9IHtcbiAgY2FsY01pZGRsZUxhdExuZyhtYXAsIGxhdGxuZzEsIGxhdGxuZzIpIHtcbiAgICAvLyBjYWxjdWxhdGUgdGhlIG1pZGRsZSBjb29yZGluYXRlcyBiZXR3ZWVuIHR3byBtYXJrZXJzXG5cbiAgICBjb25zdCBwMSA9IG1hcC5wcm9qZWN0KGxhdGxuZzEpO1xuICAgIGNvbnN0IHAyID0gbWFwLnByb2plY3QobGF0bG5nMik7XG5cbiAgICByZXR1cm4gbWFwLnVucHJvamVjdChwMS5fYWRkKHAyKS5fZGl2aWRlQnkoMikpO1xuICB9LFxuICBmaW5kTGF5ZXJzKG1hcCkge1xuICAgIGxldCBsYXllcnMgPSBbXTtcbiAgICBtYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuUG9seWxpbmUgfHxcbiAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLk1hcmtlciB8fFxuICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlIHx8XG4gICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIgfHxcbiAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLkltYWdlT3ZlcmxheVxuICAgICAgKSB7XG4gICAgICAgIGxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGZpbHRlciBvdXQgbGF5ZXJzIHRoYXQgZG9uJ3QgaGF2ZSB0aGUgbGVhZmxldC1nZW9tYW4gaW5zdGFuY2VcbiAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKChsYXllcikgPT4gISFsYXllci5wbSk7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IGV2ZXJ5dGhpbmcgdGhhdCdzIGxlYWZsZXQtZ2VvbWFuIHNwZWNpZmljIHRlbXBvcmFyeSBzdHVmZlxuICAgIGxheWVycyA9IGxheWVycy5maWx0ZXIoKGxheWVyKSA9PiAhbGF5ZXIuX3BtVGVtcExheWVyKTtcblxuICAgIC8vIGZpbHRlciBvdXQgZXZlcnl0aGluZyB0aGF0IGlnbm9yZSBsZWFmbGV0LWdlb21hblxuICAgIGxheWVycyA9IGxheWVycy5maWx0ZXIoXG4gICAgICAobGF5ZXIpID0+XG4gICAgICAgICghTC5QTS5vcHRJbiAmJiAhbGF5ZXIub3B0aW9ucy5wbUlnbm9yZSkgfHwgLy8gaWYgb3B0SW4gaXMgbm90IHNldCAvIHRydWUgYW5kIHBtSWdub3JlIGlzIG5vdCBzZXQgLyB0cnVlIChkZWZhdWx0KVxuICAgICAgICAoTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkgLy8gaWYgb3B0SW4gaXMgdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgZmFsc2UpO1xuICAgICk7XG5cbiAgICByZXR1cm4gbGF5ZXJzO1xuICB9LFxuICBjaXJjbGVUb1BvbHlnb24oY2lyY2xlLCBzaWRlcyA9IDYwLCB3aXRoQmVhcmluZyA9IHRydWUpIHtcbiAgICBjb25zdCBvcmlnaW4gPSBjaXJjbGUuZ2V0TGF0TG5nKCk7XG4gICAgY29uc3QgcmFkaXVzID0gY2lyY2xlLmdldFJhZGl1cygpO1xuICAgIGNvbnN0IHBvbHlzID0gY3JlYXRlR2VvZGVzaWNQb2x5Z29uKG9yaWdpbiwgcmFkaXVzLCBzaWRlcywgMCwgd2l0aEJlYXJpbmcpOyAvLyB0aGVzZSBhcmUgdGhlIHBvaW50cyB0aGF0IG1ha2UgdXAgdGhlIGNpcmNsZVxuICAgIGNvbnN0IHBvbHlnb24gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvbHlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IFtwb2x5c1tpXS5sYXQsIHBvbHlzW2ldLmxuZ107XG4gICAgICBwb2x5Z29uLnB1c2goZ2VvbWV0cnkpO1xuICAgIH1cbiAgICByZXR1cm4gTC5wb2x5Z29uKHBvbHlnb24sIGNpcmNsZS5vcHRpb25zKTtcbiAgfSxcbiAgZGlzYWJsZVBvcHVwKGxheWVyKSB7XG4gICAgaWYgKGxheWVyLmdldFBvcHVwKCkpIHtcbiAgICAgIGxheWVyLl90ZW1wUG9wdXBDb3B5ID0gbGF5ZXIuZ2V0UG9wdXAoKTtcbiAgICAgIGxheWVyLnVuYmluZFBvcHVwKCk7XG4gICAgfVxuICB9LFxuICBlbmFibGVQb3B1cChsYXllcikge1xuICAgIGlmIChsYXllci5fdGVtcFBvcHVwQ29weSkge1xuICAgICAgbGF5ZXIuYmluZFBvcHVwKGxheWVyLl90ZW1wUG9wdXBDb3B5KTtcbiAgICAgIGRlbGV0ZSBsYXllci5fdGVtcFBvcHVwQ29weTtcbiAgICB9XG4gIH0sXG4gIF9maXJlRXZlbnQobGF5ZXIsIHR5cGUsIGRhdGEsIHByb3BhZ2F0ZSA9IGZhbHNlKSB7XG4gICAgbGF5ZXIuZmlyZSh0eXBlLCBkYXRhLCBwcm9wYWdhdGUpO1xuXG4gICAgLy8gZmlyZSBldmVudCB0byBhbGwgcGFyZW50IGxheWVyc1xuICAgIGNvbnN0IHsgZ3JvdXBzIH0gPSB0aGlzLmdldEFsbFBhcmVudEdyb3VwcyhsYXllcik7XG4gICAgZ3JvdXBzLmZvckVhY2goKGdyb3VwKSA9PiB7XG4gICAgICBncm91cC5maXJlKHR5cGUsIGRhdGEsIHByb3BhZ2F0ZSk7XG4gICAgfSk7XG4gIH0sXG4gIGdldEFsbFBhcmVudEdyb3VwcyhsYXllcikge1xuICAgIGNvbnN0IGdyb3VwSWRzID0gW107XG4gICAgY29uc3QgZ3JvdXBzID0gW107XG5cbiAgICAvLyBnZXQgZXZlcnkgZ3JvdXAgbGF5ZXIgb25jZVxuICAgIGNvbnN0IGxvb3BUaHJvdWdoUGFyZW50cyA9IChfbGF5ZXIpID0+IHtcbiAgICAgIGZvciAoY29uc3QgX2lkIGluIF9sYXllci5fZXZlbnRQYXJlbnRzKSB7XG4gICAgICAgIGlmIChncm91cElkcy5pbmRleE9mKF9pZCkgPT09IC0xKSB7XG4gICAgICAgICAgZ3JvdXBJZHMucHVzaChfaWQpO1xuICAgICAgICAgIGNvbnN0IGdyb3VwID0gX2xheWVyLl9ldmVudFBhcmVudHNbX2lkXTtcbiAgICAgICAgICBncm91cHMucHVzaChncm91cCk7XG4gICAgICAgICAgbG9vcFRocm91Z2hQYXJlbnRzKGdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBjaGVjayBpZiB0aGUgbGFzdCBncm91cCBmZXRjaCBpcyB1bmRlciAxIHNlYywgdGhlbiB3ZSB1c2UgdGhlIGdyb3VwcyBmcm9tIGJlZm9yZVxuICAgIGlmIChcbiAgICAgICFsYXllci5fcG1MYXN0R3JvdXBGZXRjaCB8fFxuICAgICAgIWxheWVyLl9wbUxhc3RHcm91cEZldGNoLnRpbWUgfHxcbiAgICAgIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbGF5ZXIuX3BtTGFzdEdyb3VwRmV0Y2gudGltZSA+IDEwMDBcbiAgICApIHtcbiAgICAgIGxvb3BUaHJvdWdoUGFyZW50cyhsYXllcik7XG4gICAgICBsYXllci5fcG1MYXN0R3JvdXBGZXRjaCA9IHtcbiAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgIGdyb3VwcyxcbiAgICAgICAgZ3JvdXBJZHMsXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ3JvdXBJZHMsXG4gICAgICAgIGdyb3VwcyxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBncm91cHM6IGxheWVyLl9wbUxhc3RHcm91cEZldGNoLmdyb3VwcyxcbiAgICAgIGdyb3VwSWRzOiBsYXllci5fcG1MYXN0R3JvdXBGZXRjaC5ncm91cElkcyxcbiAgICB9O1xuICB9LFxuICBjcmVhdGVHZW9kZXNpY1BvbHlnb24sXG4gIGdldFRyYW5zbGF0aW9uLFxuICBmaW5kRGVlcENvb3JkSW5kZXgoYXJyLCBsYXRsbmcsIGV4YWN0ID0gdHJ1ZSkge1xuICAgIC8vIGZpbmQgbGF0bG5nIGluIGFyciBhbmQgcmV0dXJuIGl0cyBsb2NhdGlvbiBhcyBwYXRoXG4gICAgLy8gdGhhbmtzIGZvciB0aGUgZnVuY3Rpb24sIEZlbGl4IEhlY2tcbiAgICBsZXQgcmVzdWx0O1xuXG4gICAgY29uc3QgcnVuID0gKHBhdGgpID0+ICh2LCBpKSA9PiB7XG4gICAgICBjb25zdCBpUmVzID0gcGF0aC5jb25jYXQoaSk7XG5cbiAgICAgIGlmIChleGFjdCkge1xuICAgICAgICBpZiAodi5sYXQgJiYgdi5sYXQgPT09IGxhdGxuZy5sYXQgJiYgdi5sbmcgPT09IGxhdGxuZy5sbmcpIHtcbiAgICAgICAgICByZXN1bHQgPSBpUmVzO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHYubGF0ICYmIEwubGF0TG5nKHYpLmVxdWFscyhsYXRsbmcpKSB7XG4gICAgICAgIHJlc3VsdCA9IGlSZXM7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2KSAmJiB2LnNvbWUocnVuKGlSZXMpKTtcbiAgICB9O1xuICAgIGFyci5zb21lKHJ1bihbXSkpO1xuXG4gICAgbGV0IHJldHVyblZhbCA9IHt9O1xuXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmV0dXJuVmFsID0ge1xuICAgICAgICBpbmRleFBhdGg6IHJlc3VsdCxcbiAgICAgICAgaW5kZXg6IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0sXG4gICAgICAgIHBhcmVudFBhdGg6IHJlc3VsdC5zbGljZSgwLCByZXN1bHQubGVuZ3RoIC0gMSksXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiByZXR1cm5WYWw7XG4gIH0sXG4gIGZpbmREZWVwTWFya2VySW5kZXgoYXJyLCBtYXJrZXIpIHtcbiAgICAvLyB0aGFua3MgZm9yIHRoZSBmdW5jdGlvbiwgRmVsaXggSGVja1xuICAgIGxldCByZXN1bHQ7XG5cbiAgICBjb25zdCBydW4gPSAocGF0aCkgPT4gKHYsIGkpID0+IHtcbiAgICAgIGNvbnN0IGlSZXMgPSBwYXRoLmNvbmNhdChpKTtcblxuICAgICAgaWYgKHYuX2xlYWZsZXRfaWQgPT09IG1hcmtlci5fbGVhZmxldF9pZCkge1xuICAgICAgICByZXN1bHQgPSBpUmVzO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodikgJiYgdi5zb21lKHJ1bihpUmVzKSk7XG4gICAgfTtcbiAgICBhcnIuc29tZShydW4oW10pKTtcblxuICAgIGxldCByZXR1cm5WYWwgPSB7fTtcblxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHJldHVyblZhbCA9IHtcbiAgICAgICAgaW5kZXhQYXRoOiByZXN1bHQsXG4gICAgICAgIGluZGV4OiByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLFxuICAgICAgICBwYXJlbnRQYXRoOiByZXN1bHQuc2xpY2UoMCwgcmVzdWx0Lmxlbmd0aCAtIDEpLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0dXJuVmFsO1xuICB9LFxuICBfZ2V0SW5kZXhGcm9tU2VnbWVudChjb29yZHMsIHNlZ21lbnQpIHtcbiAgICBpZiAoc2VnbWVudCAmJiBzZWdtZW50Lmxlbmd0aCA9PT0gMikge1xuICAgICAgY29uc3QgaW5kZXhBID0gdGhpcy5maW5kRGVlcENvb3JkSW5kZXgoY29vcmRzLCBzZWdtZW50WzBdKTtcbiAgICAgIGNvbnN0IGluZGV4QiA9IHRoaXMuZmluZERlZXBDb29yZEluZGV4KGNvb3Jkcywgc2VnbWVudFsxXSk7XG4gICAgICBsZXQgbmV3SW5kZXggPSBNYXRoLm1heChpbmRleEEuaW5kZXgsIGluZGV4Qi5pbmRleCk7XG4gICAgICBpZiAoKGluZGV4QS5pbmRleCA9PT0gMCB8fCBpbmRleEIuaW5kZXggPT09IDApICYmIG5ld0luZGV4ICE9PSAxKSB7XG4gICAgICAgIG5ld0luZGV4ICs9IDE7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbmRleEEsXG4gICAgICAgIGluZGV4QixcbiAgICAgICAgbmV3SW5kZXgsXG4gICAgICAgIGluZGV4UGF0aDogaW5kZXhBLmluZGV4UGF0aCxcbiAgICAgICAgcGFyZW50UGF0aDogaW5kZXhBLnBhcmVudFBhdGgsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgLy8gUmV0dXJucyB0aGUgY29ybmVycyBvZiB0aGUgcmVjdGFuZ2xlIHdpdGggYSBnaXZlbiByb3RhdGlvblxuICAvLyBkZWdyZWVzOiBCZXR3ZWVuIG1hcmtlciBBIGFuZCB0aGUgbWFya2VyIGNvdW50ZXJjbG9ja3dpc2UgYmVmb3JlLiBTYW1lIGZvciBtYXJrZXIgQlxuICBfZ2V0Um90YXRlZFJlY3RhbmdsZShBLCBCLCByb3RhdGlvbiwgbWFwKSB7XG4gICAgY29uc3Qgc3RhcnRQb2ludCA9IF90b1BvaW50KG1hcCwgQSk7XG4gICAgY29uc3QgZW5kUG9pbnQgPSBfdG9Qb2ludChtYXAsIEIpO1xuICAgIGNvbnN0IHRoZXRhID0gKHJvdGF0aW9uICogTWF0aC5QSSkgLyAxODA7XG4gICAgY29uc3QgY29zID0gTWF0aC5jb3ModGhldGEpO1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKHRoZXRhKTtcblxuICAgIGNvbnN0IHdpZHRoID1cbiAgICAgIChlbmRQb2ludC54IC0gc3RhcnRQb2ludC54KSAqIGNvcyArIChlbmRQb2ludC55IC0gc3RhcnRQb2ludC55KSAqIHNpbjtcbiAgICBjb25zdCBoZWlnaHQgPVxuICAgICAgKGVuZFBvaW50LnkgLSBzdGFydFBvaW50LnkpICogY29zIC0gKGVuZFBvaW50LnggLSBzdGFydFBvaW50LngpICogc2luO1xuICAgIGNvbnN0IHgwID0gd2lkdGggKiBjb3MgKyBzdGFydFBvaW50Lng7XG4gICAgY29uc3QgeTAgPSB3aWR0aCAqIHNpbiArIHN0YXJ0UG9pbnQueTtcbiAgICBjb25zdCB4MSA9IC1oZWlnaHQgKiBzaW4gKyBzdGFydFBvaW50Lng7XG4gICAgY29uc3QgeTEgPSBoZWlnaHQgKiBjb3MgKyBzdGFydFBvaW50Lnk7XG5cbiAgICBjb25zdCBwMCA9IF90b0xhdExuZyhtYXAsIHN0YXJ0UG9pbnQpO1xuICAgIGNvbnN0IHAxID0gX3RvTGF0TG5nKG1hcCwgeyB4OiB4MCwgeTogeTAgfSk7XG4gICAgY29uc3QgcDIgPSBfdG9MYXRMbmcobWFwLCBlbmRQb2ludCk7XG4gICAgY29uc3QgcDMgPSBfdG9MYXRMbmcobWFwLCB7IHg6IHgxLCB5OiB5MSB9KTtcbiAgICByZXR1cm4gW3AwLCBwMSwgcDIsIHAzXTtcbiAgfSxcbiAgcHhSYWRpdXNUb01ldGVyUmFkaXVzKHJhZGl1c0luUHgsIG1hcCwgY2VudGVyKSB7XG4gICAgY29uc3QgcG9pbnRBID0gbWFwLnByb2plY3QoY2VudGVyKTtcbiAgICBjb25zdCBwb2ludEIgPSBMLnBvaW50KHBvaW50QS54ICsgcmFkaXVzSW5QeCwgcG9pbnRBLnkpO1xuICAgIHJldHVybiBtYXAuZGlzdGFuY2UobWFwLnVucHJvamVjdChwb2ludEIpLCBjZW50ZXIpO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgVXRpbHM7XG4iLCAiLyogQSBMZWFmbGV0IFBsdWdpbiBGb3IgRWRpdGluZyBHZW9tZXRyeSBMYXllcnMgaW4gTGVhZmxldCAxLjBcbiAqIENvcHlyaWdodCAoQykgR2VvbWFuLmlvIGFuZCBTdW1pdCBLdW1hciAtIEFsbCBSaWdodHMgUmVzZXJ2ZWRcbiAqIFVuYXV0aG9yaXplZCBjb3B5aW5nIG9mIHRoaXMgZmlsZSwgdmlhIGFueSBtZWRpdW0gaXMgc3RyaWN0bHkgcHJvaGliaXRlZFxuICogUHJvcHJpZXRhcnkgYW5kIGNvbmZpZGVudGlhbFxuICogV3JpdHRlbiBieSBTdW1pdCBLdW1hciA8c3VtaXRAZ2VvbWFuLmlvPiwgSmFudWFyeSAyMDIwXG4gKiBUd2l0dGVyOiBAVHdlZXRzT2ZTdW1pdFxuICogT1NTIFJlcG86IGh0dHBzOi8vZ2l0aHViLmNvbS9nZW9tYW4taW8vbGVhZmxldC1nZW9tYW5cbiAqIEdldCBQcm86IGh0dHBzOi8vZ2VvbWFuLmlvXG4gKi9cblxuaW1wb3J0ICcuL3BvbHlmaWxscyc7XG5pbXBvcnQgcGFja2FnZUluZm8gZnJvbSAnLi4vLi4vcGFja2FnZS5qc29uJztcblxuaW1wb3J0IE1hcCBmcm9tICcuL0wuUE0uTWFwJztcbmltcG9ydCBUb29sYmFyIGZyb20gJy4vVG9vbGJhci9MLlBNLlRvb2xiYXInO1xuXG5pbXBvcnQgRHJhdyBmcm9tICcuL0RyYXcvTC5QTS5EcmF3JztcbmltcG9ydCAnLi9EcmF3L0wuUE0uRHJhdy5NYXJrZXInO1xuaW1wb3J0ICcuL0RyYXcvTC5QTS5EcmF3LkxpbmUnO1xuaW1wb3J0ICcuL0RyYXcvTC5QTS5EcmF3LlBvbHlnb24nO1xuaW1wb3J0ICcuL0RyYXcvTC5QTS5EcmF3LlJlY3RhbmdsZSc7XG5pbXBvcnQgJy4vRHJhdy9MLlBNLkRyYXcuQ2lyY2xlTWFya2VyJztcbmltcG9ydCAnLi9EcmF3L0wuUE0uRHJhdy5DaXJjbGUnO1xuaW1wb3J0ICcuL0RyYXcvTC5QTS5EcmF3LkN1dCc7XG5pbXBvcnQgJy4vRHJhdy9MLlBNLkRyYXcuVGV4dCc7XG5cbmltcG9ydCBFZGl0IGZyb20gJy4vRWRpdC9MLlBNLkVkaXQnO1xuaW1wb3J0ICcuL0VkaXQvTC5QTS5FZGl0LkxheWVyR3JvdXAnO1xuaW1wb3J0ICcuL0VkaXQvTC5QTS5FZGl0Lk1hcmtlcic7XG5pbXBvcnQgJy4vRWRpdC9MLlBNLkVkaXQuTGluZSc7XG5pbXBvcnQgJy4vRWRpdC9MLlBNLkVkaXQuUG9seWdvbic7XG5pbXBvcnQgJy4vRWRpdC9MLlBNLkVkaXQuUmVjdGFuZ2xlJztcbmltcG9ydCAnLi9FZGl0L0wuUE0uRWRpdC5DaXJjbGVNYXJrZXInO1xuaW1wb3J0ICcuL0VkaXQvTC5QTS5FZGl0LkNpcmNsZSc7XG5pbXBvcnQgJy4vRWRpdC9MLlBNLkVkaXQuSW1hZ2VPdmVybGF5JztcbmltcG9ydCAnLi9FZGl0L0wuUE0uRWRpdC5UZXh0JztcblxuaW1wb3J0ICcuLi9jc3MvbGF5ZXJzLmNzcyc7XG5pbXBvcnQgJy4uL2Nzcy9jb250cm9scy5jc3MnO1xuXG5pbXBvcnQgTWF0cml4IGZyb20gJy4vaGVscGVycy9NYXRyaXgnO1xuXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi9MLlBNLlV0aWxzJztcblxuTC5QTSA9IEwuUE0gfHwge1xuICB2ZXJzaW9uOiBwYWNrYWdlSW5mby52ZXJzaW9uLFxuICBNYXAsXG4gIFRvb2xiYXIsXG4gIERyYXcsXG4gIEVkaXQsXG4gIFV0aWxzLFxuICBNYXRyaXgsXG4gIGFjdGl2ZUxhbmc6ICdlbicsXG4gIG9wdEluOiBmYWxzZSxcbiAgaW5pdGlhbGl6ZShvcHRpb25zKSB7XG4gICAgdGhpcy5hZGRJbml0SG9va3Mob3B0aW9ucyk7XG4gIH0sXG4gIHNldE9wdEluKHZhbHVlKSB7XG4gICAgdGhpcy5vcHRJbiA9ICEhdmFsdWU7XG4gIH0sXG4gIGFkZEluaXRIb29rcygpIHtcbiAgICBmdW5jdGlvbiBpbml0TWFwKCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKEwuUE0ub3B0SW4pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uTWFwKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMucG1JZ25vcmUpIHtcbiAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLk1hcCh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucG0pIHtcbiAgICAgICAgdGhpcy5wbS5zZXRHbG9iYWxPcHRpb25zKHt9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBMLk1hcC5hZGRJbml0SG9vayhpbml0TWFwKTtcblxuICAgIGZ1bmN0aW9uIGluaXRMYXllckdyb3VwKCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcbiAgICAgIGlmIChMLlBNLm9wdEluKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuTGF5ZXJHcm91cCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LkxheWVyR3JvdXAodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5MYXllckdyb3VwLmFkZEluaXRIb29rKGluaXRMYXllckdyb3VwKTtcblxuICAgIGZ1bmN0aW9uIGluaXRNYXJrZXIoKSB7XG4gICAgICB0aGlzLnBtID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoTC5QTS5vcHRJbikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGV4dE1hcmtlcikge1xuICAgICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuVGV4dCh0aGlzKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLl90ZXh0TWFya2VyT3ZlclBNKSB7XG4gICAgICAgICAgICAgIHRoaXMucG0uX2luaXRUZXh0TWFya2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5vcHRpb25zLl90ZXh0TWFya2VyT3ZlclBNO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5NYXJrZXIodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMucG1JZ25vcmUpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50ZXh0TWFya2VyKSB7XG4gICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuVGV4dCh0aGlzKTtcbiAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5fdGV4dE1hcmtlck92ZXJQTSkge1xuICAgICAgICAgICAgdGhpcy5wbS5faW5pdFRleHRNYXJrZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIHRoaXMub3B0aW9ucy5fdGV4dE1hcmtlck92ZXJQTTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5NYXJrZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgTC5NYXJrZXIuYWRkSW5pdEhvb2soaW5pdE1hcmtlcik7XG5cbiAgICBmdW5jdGlvbiBpbml0Q2lyY2xlTWFya2VyKCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKEwuUE0ub3B0SW4pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5DaXJjbGVNYXJrZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5DaXJjbGVNYXJrZXIodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICAgIEwuQ2lyY2xlTWFya2VyLmFkZEluaXRIb29rKGluaXRDaXJjbGVNYXJrZXIpO1xuXG4gICAgZnVuY3Rpb24gaW5pdFBvbHlsaW5lKCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKEwuUE0ub3B0SW4pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5MaW5lKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMucG1JZ25vcmUpIHtcbiAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuTGluZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBMLlBvbHlsaW5lLmFkZEluaXRIb29rKGluaXRQb2x5bGluZSk7XG5cbiAgICBmdW5jdGlvbiBpbml0UG9seWdvbigpIHtcbiAgICAgIHRoaXMucG0gPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChMLlBNLm9wdEluKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuUG9seWdvbih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LlBvbHlnb24odGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5Qb2x5Z29uLmFkZEluaXRIb29rKGluaXRQb2x5Z29uKTtcblxuICAgIGZ1bmN0aW9uIGluaXRSZWN0YW5nbGUoKSB7XG4gICAgICB0aGlzLnBtID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoTC5QTS5vcHRJbikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LlJlY3RhbmdsZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LlJlY3RhbmdsZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBMLlJlY3RhbmdsZS5hZGRJbml0SG9vayhpbml0UmVjdGFuZ2xlKTtcblxuICAgIGZ1bmN0aW9uIGluaXRDaXJjbGUoKSB7XG4gICAgICB0aGlzLnBtID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoTC5QTS5vcHRJbikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LkNpcmNsZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LkNpcmNsZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBMLkNpcmNsZS5hZGRJbml0SG9vayhpbml0Q2lyY2xlKTtcblxuICAgIGZ1bmN0aW9uIGluaXRJbWFnZU92ZXJsYXkoKSB7XG4gICAgICB0aGlzLnBtID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoTC5QTS5vcHRJbikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LkltYWdlT3ZlcmxheSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LkltYWdlT3ZlcmxheSh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBMLkltYWdlT3ZlcmxheS5hZGRJbml0SG9vayhpbml0SW1hZ2VPdmVybGF5KTtcbiAgfSxcbiAgcmVJbml0TGF5ZXIobGF5ZXIpIHtcbiAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApIHtcbiAgICAgIGxheWVyLmVhY2hMYXllcigoX2xheWVyKSA9PiB7XG4gICAgICAgIHRoaXMucmVJbml0TGF5ZXIoX2xheWVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAobGF5ZXIucG0pIHtcbiAgICAgIC8vIFBNIGlzIGFscmVhZHkgYWRkZWQgdG8gdGhlIGxheWVyXG4gICAgfSBlbHNlIGlmIChMLlBNLm9wdEluICYmIGxheWVyLm9wdGlvbnMucG1JZ25vcmUgIT09IGZhbHNlKSB7XG4gICAgICAvLyBPcHQtSW4gaXMgdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgbm90IGZhbHNlXG4gICAgfSBlbHNlIGlmIChsYXllci5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAvLyBwbUlnbm9yZSBpcyB0cnVlXG4gICAgfSBlbHNlIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTWFwKSB7XG4gICAgICBsYXllci5wbSA9IG5ldyBMLlBNLk1hcChsYXllcik7XG4gICAgfSBlbHNlIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTWFya2VyKSB7XG4gICAgICBpZiAobGF5ZXIub3B0aW9ucy50ZXh0TWFya2VyKSB7XG4gICAgICAgIGxheWVyLnBtID0gbmV3IEwuUE0uRWRpdC5UZXh0KGxheWVyKTtcbiAgICAgICAgbGF5ZXIucG0uX2luaXRUZXh0TWFya2VyKCk7XG4gICAgICAgIGxheWVyLnBtLl9jcmVhdGVUZXh0TWFya2VyKGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheWVyLnBtID0gbmV3IEwuUE0uRWRpdC5NYXJrZXIobGF5ZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZSkge1xuICAgICAgbGF5ZXIucG0gPSBuZXcgTC5QTS5FZGl0LkNpcmNsZShsYXllcik7XG4gICAgfSBlbHNlIGlmIChsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyKSB7XG4gICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuQ2lyY2xlTWFya2VyKGxheWVyKTtcbiAgICB9IGVsc2UgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5SZWN0YW5nbGUpIHtcbiAgICAgIGxheWVyLnBtID0gbmV3IEwuUE0uRWRpdC5SZWN0YW5nbGUobGF5ZXIpO1xuICAgIH0gZWxzZSBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLlBvbHlnb24pIHtcbiAgICAgIGxheWVyLnBtID0gbmV3IEwuUE0uRWRpdC5Qb2x5Z29uKGxheWVyKTtcbiAgICB9IGVsc2UgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5bGluZSkge1xuICAgICAgbGF5ZXIucG0gPSBuZXcgTC5QTS5FZGl0LkxpbmUobGF5ZXIpO1xuICAgIH0gZWxzZSBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApIHtcbiAgICAgIGxheWVyLnBtID0gbmV3IEwuUE0uRWRpdC5MYXllckdyb3VwKGxheWVyKTtcbiAgICB9IGVsc2UgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5JbWFnZU92ZXJsYXkpIHtcbiAgICAgIGxheWVyLnBtID0gbmV3IEwuUE0uRWRpdC5JbWFnZU92ZXJsYXkobGF5ZXIpO1xuICAgIH1cbiAgfSxcbn07XG5cbmlmIChMLnZlcnNpb24gPT09ICcxLjcuMScpIHtcbiAgLy8gQ2FudmFzIE1vZGU6IEFmdGVyIGRyYWdnaW5nIHRoZSBtYXAgdGhlIHRhcmdldCBsYXllciBjYW4ndCBiZSBkcmFnZ2VkIGFueW1vcmUgdW50aWwgaXQgaXMgY2xpY2tlZFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy83Nzc1IGEgZml4IGlzIGFscmVhZHkgbWVyZ2VkIGZvciB0aGUgTGVhZmxldCAxLjguMCB2ZXJzaW9uXG4gIEwuQ2FudmFzLmluY2x1ZGUoe1xuICAgIF9vbkNsaWNrKGUpIHtcbiAgICAgIGNvbnN0IHBvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQoZSk7XG4gICAgICBsZXQgbGF5ZXI7XG4gICAgICBsZXQgY2xpY2tlZExheWVyO1xuXG4gICAgICBmb3IgKGxldCBvcmRlciA9IHRoaXMuX2RyYXdGaXJzdDsgb3JkZXI7IG9yZGVyID0gb3JkZXIubmV4dCkge1xuICAgICAgICBsYXllciA9IG9yZGVyLmxheWVyO1xuICAgICAgICBpZiAobGF5ZXIub3B0aW9ucy5pbnRlcmFjdGl2ZSAmJiBsYXllci5fY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAvLyBjaGFuZ2luZyBlLnR5cGUgIT09ICdwcmVjbGljaycgdG8gZS50eXBlID09PSAncHJlY2xpY2snIGZpeCB0aGUgaXNzdWVcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhKGUudHlwZSA9PT0gJ2NsaWNrJyB8fCBlLnR5cGUgPT09ICdwcmVjbGljaycpIHx8XG4gICAgICAgICAgICAhdGhpcy5fbWFwLl9kcmFnZ2FibGVNb3ZlZChsYXllcilcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNsaWNrZWRMYXllciA9IGxheWVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNsaWNrZWRMYXllcikge1xuICAgICAgICBMLkRvbUV2ZW50LmZha2VTdG9wKGUpO1xuICAgICAgICB0aGlzLl9maXJlRXZlbnQoW2NsaWNrZWRMYXllcl0sIGUpO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xufVxuXG4vLyBpbml0aWFsaXplIGxlYWZsZXQtZ2VvbWFuXG5MLlBNLmluaXRpYWxpemUoKTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFPLGVBQVMsT0FBTyxNQUFNO0FBQzVCLFlBQUksR0FBRyxHQUFHLEtBQUs7QUFFZixhQUFLLElBQUksR0FBRyxNQUFNLFVBQVUsUUFBUSxJQUFJLEtBQUssS0FBSztBQUNqRCxnQkFBTSxVQUFVLENBQUM7QUFDakIsZUFBSyxLQUFLLEtBQUs7QUFDZCxpQkFBSyxDQUFDLElBQUksSUFBSSxDQUFDO1VBQ2xCO1FBQ0E7QUFDQyxlQUFPO01BQ1I7QUFJTyxVQUFJQSxXQUFTLE9BQU8sVUFBVywyQkFBWTtBQUNqRCxpQkFBUyxJQUFJO1FBQUE7QUFDYixlQUFPLFNBQVUsT0FBTztBQUN2QixZQUFFLFlBQVk7QUFDZCxpQkFBTyxJQUFJLEVBQUM7UUFDZDtNQUNBLEVBQUM7QUFLTSxlQUFTLEtBQUssSUFBSSxLQUFLO0FBQzdCLFlBQUksUUFBUSxNQUFNLFVBQVU7QUFFNUIsWUFBSSxHQUFHLE1BQU07QUFDWixpQkFBTyxHQUFHLEtBQUssTUFBTSxJQUFJLE1BQU0sS0FBSyxXQUFXLENBQUMsQ0FBQztRQUNuRDtBQUVDLFlBQUksT0FBTyxNQUFNLEtBQUssV0FBVyxDQUFDO0FBRWxDLGVBQU8sV0FBWTtBQUNsQixpQkFBTyxHQUFHLE1BQU0s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LE1BQU0sS0FBSyxlQUFlLENBQUM7QUFDcEMsYUFBSyxhQUFhO0FBQUEsTUFDdEI7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUVBLFNBQU8sWUFBWTtBQUVuQixTQUFPLGNBQWMsSUFBSSxZQUFZLG1CQUFtQixDQUFDO0FBQzdELENBQUM7IiwKICAibmFtZXMiOiBbImNyZWF0ZSIsICJzdHIiLCAiVXRpbC5zZXRPcHRpb25zIiwgIlV0aWwuY3JlYXRlIiwgIlV0aWwuZXh0ZW5kIiwgImkiLCAiVXRpbC5pc0FycmF5IiwgIlV0aWwuc3BsaXRXb3JkcyIsICJVdGlsLmZhbHNlRm4iLCAiaW5kZXgiLCAiVXRpbC5zdGFtcCIsICJMYXRMbmciLCAiVXRpbC5mb3JtYXROdW0iLCAiem9vbSIsICJzY2FsZSIsICJVdGlsLndyYXBOdW0iLCAiY2FudmFzIiwgInN2ZyIsICJEb21FdmVudC5wcmV2ZW50RGVmYXVsdCIsICJEb21FdmVudC5nZXRQcm9wYWdhdGlvblBhdGgiLCAic3R5bGUiLCAiVXRpbC50cmltIiwgIkRvbUV2ZW50Lm9uIiwgIkRvbUV2ZW50Lm9mZiIsICJ0eXBlIiwgIlV0aWwuaW5kZXhPZiIsICJEb21VdGlsLmdldFBvc2l0aW9uIiwgIlV0aWwucmVxdWVzdEFuaW1GcmFtZSIsICJEb21VdGlsLnNldFBvc2l0aW9uIiwgIlV0aWwuY2FuY2VsQW5pbUZyYW1lIiwgIk1hcCIsICJVdGlsLmJpbmQiLCAiRG9tVXRpbC5UUkFOU0lUSU9OIiwgIkRvbVV0aWwuVFJBTlNJVElPTl9FTkQiLCAiRG9tVXRpbC5hZGRDbGFzcyIsICJEb21VdGlsLnJlbW92ZSIsICJEb21VdGlsLmNyZWF0ZSIsICJEb21FdmVudC5nZXRNb3VzZVBvc2l0aW9uIiwgIkRvbVV0aWwuZ2V0IiwgIkRvbVV0aWwuZ2V0U3R5bGUiLCAicmVtb3ZlIiwgIkRvbUV2ZW50LmlzRXh0ZXJuYWxUYXJnZXQiLCAiRG9tVXRpbC5wcmV2ZW50T3V0bGluZSIsICJsYXRMbmdCb3VuZHMiLCAiRG9tVXRpbC5yZW1vdmVDbGFzcyIsICJEb21VdGlsLlRSQU5TRk9STSIsICJEb21VdGlsLnNldFRyYW5zZm9ybSIsICJtYXAiLCAiY29udHJvbCIsICJEb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbiIsICJEb21FdmVudC5kaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb24iLCAiRG9tVXRpbC5lbXB0eSIsICJEb21FdmVudC5zdG9wIiwgInByZXZlbnRPdXRsaW5lIiwgIkRvbVV0aWwuaGFzQ2xhc3MiLCAiRG9tVXRpbC5kaXNhYmxlSW1hZ2VEcmFnIiwgIkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24iLCAiRG9tVXRpbC5nZXRTaXplZFBhcmVudE5vZGUiLCAiRG9tVXRpbC5nZXRTY2FsZSIsICJEb21VdGlsLmVuYWJsZUltYWdlRHJhZyIsICJEb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24iLCAiZWRnZSIsICJMaW5lVXRpbC5fZ2V0Qml0Q29kZSIsICJMaW5lVXRpbC5fZ2V0RWRnZUludGVyc2VjdGlvbiIsICJMaW5lVXRpbC5pc0ZsYXQiLCAibGF5ZXJzIiwgIkZlYXR1cmVHcm91cCIsICJwb2ludCIsICJtYXJrZXIiLCAiaWNvbiIsICJsYXRMbmciLCAiRG9tVXRpbC5zZXRPcGFjaXR5IiwgImNpcmNsZU1hcmtlciIsICJjaXJjbGUiLCAiTGluZVV0aWwuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50IiwgIkxpbmVVdGlsLnBvbHlsaW5lQ2VudGVyIiwgIkxpbmVVdGlsLmNsaXBTZWdtZW50IiwgIkxpbmVVdGlsLnNpbXBsaWZ5IiwgIkxpbmVVdGlsLnBvaW50VG9TZWdtZW50RGlzdGFuY2UiLCAiTGluZVV0aWwuX2ZsYXQiLCAiUG9seVV0aWwucG9seWdvbkNlbnRlciIsICJQb2x5VXRpbC5jbGlwUG9seWdvbiIsICJnZW9KU09OIiwgIkRvbVV0aWwudG9Gcm9udCIsICJEb21VdGlsLnRvQmFjayIsICJEb21FdmVudC5zdG9wUHJvcGFnYXRpb24iLCAicG9wdXAiLCAidG9vbHRpcCIsICJkaXZJY29uIiwgIlV0aWwudGhyb3R0bGUiLCAiVXRpbC50ZW1wbGF0ZSIsICJVdGlsLmVtcHR5SW1hZ2VVcmwiLCAidGlsZUxheWVyIiwgIkRvbUV2ZW50LmdldFdoZWVsRGVsdGEiLCAibWFwIiwgInJlcXVpcmVfbGlzdENhY2hlQ2xlYXIiLCAiX19jb21tb25KU01pbiIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJsaXN0Q2FjaGVDbGVhciIsICJyZXF1aXJlX2VxIiwgImVxIiwgInZhbHVlIiwgIm90aGVyIiwgInJlcXVpcmVfYXNzb2NJbmRleE9mIiwgImFzc29jSW5kZXhPZiIsICJhcnJheSIsICJrZXkiLCAibGVuZ3RoIiwgInJlcXVpcmVfbGlzdENhY2hlRGVsZXRlIiwgImFycmF5UHJvdG8iLCAic3BsaWNlIiwgImxpc3RDYWNoZURlbGV0ZSIsICJkYXRhIiwgImluZGV4IiwgImxhc3RJbmRleCIsICJyZXF1aXJlX2xpc3RDYWNoZUdldCIsICJsaXN0Q2FjaGVHZXQiLCAicmVxdWlyZV9saXN0Q2FjaGVIYXMiLCAibGlzdENhY2hlSGFzIiwgInJlcXVpcmVfbGlzdENhY2hlU2V0IiwgImxpc3RDYWNoZVNldCIsICJyZXF1aXJlX0xpc3RDYWNoZSIsICJMaXN0Q2FjaGUiLCAiZW50cmllcyIsICJlbnRyeSIsICJyZXF1aXJlX3N0YWNrQ2xlYXIiLCAic3RhY2tDbGVhciIsICJyZXF1aXJlX3N0YWNrRGVsZXRlIiwgInN0YWNrRGVsZXRlIiwgInJlc3VsdCIsICJyZXF1aXJlX3N0YWNrR2V0IiwgInN0YWNrR2V0IiwgInJlcXVpcmVfc3RhY2tIYXMiLCAic3RhY2tIYXMiLCAicmVxdWlyZV9mcmVlR2xvYmFsIiwgImZyZWVHbG9iYWwiLCAicmVxdWlyZV9yb290IiwgImZyZWVTZWxmIiwgInJvb3QiLCAicmVxdWlyZV9TeW1ib2wiLCAiU3ltYm9sIiwgInJlcXVpcmVfZ2V0UmF3VGFnIiwgIm9iamVjdFByb3RvIiwgImhhc093blByb3BlcnR5IiwgIm5hdGl2ZU9iamVjdFRvU3RyaW5nIiwgInN5bVRvU3RyaW5nVGFnIiwgImdldFJhd1RhZyIsICJpc093biIsICJ0YWciLCAidW5tYXNrZWQiLCAicmVxdWlyZV9vYmplY3RUb1N0cmluZyIsICJvYmplY3RUb1N0cmluZyIsICJyZXF1aXJlX2Jhc2VHZXRUYWciLCAibnVsbFRhZyIsICJ1bmRlZmluZWRUYWciLCAiYmFzZUdldFRhZyIsICJyZXF1aXJlX2lzT2JqZWN0IiwgImlzT2JqZWN0IiwgInR5cGUiLCAicmVxdWlyZV9pc0Z1bmN0aW9uIiwgImFzeW5jVGFnIiwgImZ1bmNUYWciLCAiZ2VuVGFnIiwgInByb3h5VGFnIiwgImlzRnVuY3Rpb24iLCAicmVxdWlyZV9jb3JlSnNEYXRhIiwgImNvcmVKc0RhdGEiLCAicmVxdWlyZV9pc01hc2tlZCIsICJtYXNrU3JjS2V5IiwgInVpZCIsICJpc01hc2tlZCIsICJmdW5jIiwgInJlcXVpcmVfdG9Tb3VyY2UiLCAiZnVuY1Byb3RvIiwgImZ1bmNUb1N0cmluZyIsICJ0b1NvdXJjZSIsICJyZXF1aXJlX2Jhc2VJc05hdGl2ZSIsICJyZVJlZ0V4cENoYXIiLCAicmVJc0hvc3RDdG9yIiwgInJlSXNOYXRpdmUiLCAiYmFzZUlzTmF0aXZlIiwgInBhdHRlcm4iLCAicmVxdWlyZV9nZXRWYWx1ZSIsICJnZXRWYWx1ZSIsICJvYmplY3QiLCAicmVxdWlyZV9nZXROYXRpdmUiLCAiZ2V0TmF0aXZlIiwgInJlcXVpcmVfTWFwIiwgIk1hcCIsICJyZXF1aXJlX25hdGl2ZUNyZWF0ZSIsICJuYXRpdmVDcmVhdGUiLCAicmVxdWlyZV9oYXNoQ2xlYXIiLCAiaGFzaENsZWFyIiwgInJlcXVpcmVfaGFzaERlbGV0ZSIsICJoYXNoRGVsZXRlIiwgInJlcXVpcmVfaGFzaEdldCIsICJIQVNIX1VOREVGSU5FRCIsICJoYXNoR2V0IiwgInJlcXVpcmVfaGFzaEhhcyIsICJoYXNoSGFzIiwgInJlcXVpcmVfaGFzaFNldCIsICJoYXNoU2V0IiwgInJlcXVpcmVfSGFzaCIsICJIYXNoIiwgInJlcXVpcmVfbWFwQ2FjaGVDbGVhciIsICJtYXBDYWNoZUNsZWFyIiwgInJlcXVpcmVfaXNLZXlhYmxlIiwgImlzS2V5YWJsZSIsICJyZXF1aXJlX2dldE1hcERhdGEiLCAiZ2V0TWFwRGF0YSIsICJtYXAiLCAicmVxdWlyZV9tYXBDYWNoZURlbGV0ZSIsICJtYXBDYWNoZURlbGV0ZSIsICJyZXF1aXJlX21hcENhY2hlR2V0IiwgIm1hcENhY2hlR2V0IiwgInJlcXVpcmVfbWFwQ2FjaGVIYXMiLCAibWFwQ2FjaGVIYXMiLCAicmVxdWlyZV9tYXBDYWNoZVNldCIsICJtYXBDYWNoZVNldCIsICJzaXplIiwgInJlcXVpcmVfTWFwQ2FjaGUiLCAiTWFwQ2FjaGUiLCAicmVxdWlyZV9zdGFja1NldCIsICJMQVJHRV9BUlJBWV9TSVpFIiwgInN0YWNrU2V0IiwgInBhaXJzIiwgInJlcXVpcmVfU3RhY2siLCAiU3RhY2siLCAicmVxdWlyZV9kZWZpbmVQcm9wZXJ0eSIsICJkZWZpbmVQcm9wZXJ0eSIsICJyZXF1aXJlX2Jhc2VBc3NpZ25WYWx1ZSIsICJiYXNlQXNzaWduVmFsdWUiLCAicmVxdWlyZV9hc3NpZ25NZXJnZVZhbHVlIiwgImFzc2lnbk1lcmdlVmFsdWUiLCAicmVxdWlyZV9jcmVhdGVCYXNlRm9yIiwgImNyZWF0ZUJhc2VGb3IiLCAiZnJvbVJpZ2h0IiwgIml0ZXJhdGVlIiwgImtleXNGdW5jIiwgIml0ZXJhYmxlIiwgInByb3BzIiwgInJlcXVpcmVfYmFzZUZvciIsICJiYXNlRm9yIiwgInJlcXVpcmVfY2xvbmVCdWZmZXIiLCAiZnJlZUV4cG9ydHMiLCAiZnJlZU1vZHVsZSIsICJtb2R1bGVFeHBvcnRzIiwgIkJ1ZmZlciIsICJhbGxvY1Vuc2FmZSIsICJjbG9uZUJ1ZmZlciIsICJidWZmZXIiLCAiaXNEZWVwIiwgInJlcXVpcmVfVWludDhBcnJheSIsICJVaW50OEFycmF5IiwgInJlcXVpcmVfY2xvbmVBcnJheUJ1ZmZlciIsICJjbG9uZUFycmF5QnVmZmVyIiwgImFycmF5QnVmZmVyIiwgInJlcXVpcmVfY2xvbmVUeXBlZEFycmF5IiwgImNsb25lVHlwZWRBcnJheSIsICJ0eXBlZEFycmF5IiwgInJlcXVpcmVfY29weUFycmF5IiwgImNvcHlBcnJheSIsICJzb3VyY2UiLCAicmVxdWlyZV9iYXNlQ3JlYXRlIiwgIm9iamVjdENyZWF0ZSIsICJiYXNlQ3JlYXRlIiwgInByb3RvIiwgInJlcXVpcmVfb3ZlckFyZyIsICJvdmVyQXJnIiwgInRyYW5zZm9ybSIsICJhcmciLCAicmVxdWlyZV9nZXRQcm90b3R5cGUiLCAiZ2V0UHJvdG90eXBlIiwgInJlcXVpcmVfaXNQcm90b3R5cGUiLCAiaXNQcm90b3R5cGUiLCAiQ3RvciIsICJyZXF1aXJlX2luaXRDbG9uZU9iamVjdCIsICJpbml0Q2xvbmVPYmplY3QiLCAicmVxdWlyZV9pc09iamVjdExpa2UiLCAiaXNPYmplY3RMaWtlIiwgInJlcXVpcmVfYmFzZUlzQXJndW1lbnRzIiwgImFyZ3NUYWciLCAiYmFzZUlzQXJndW1lbnRzIiwgInJlcXVpcmVfaXNBcmd1bWVudHMiLCAicHJvcGVydHlJc0VudW1lcmFibGUiLCAiaXNBcmd1bWVudHMiLCAicmVxdWlyZV9pc0FycmF5IiwgImlzQXJyYXkiLCAicmVxdWlyZV9pc0xlbmd0aCIsICJNQVhfU0FGRV9JTlRFR0VSIiwgImlzTGVuZ3RoIiwgInJlcXVpcmVfaXNBcnJheUxpa2UiLCAiaXNBcnJheUxpa2UiLCAicmVxdWlyZV9pc0FycmF5TGlrZU9iamVjdCIsICJpc0FycmF5TGlrZU9iamVjdCIsICJyZXF1aXJlX3N0dWJGYWxzZSIsICJzdHViRmFsc2UiLCAicmVxdWlyZV9pc0J1ZmZlciIsICJuYXRpdmVJc0J1ZmZlciIsICJpc0J1ZmZlciIsICJyZXF1aXJlX2lzUGxhaW5PYmplY3QiLCAib2JqZWN0VGFnIiwgIm9iamVjdEN0b3JTdHJpbmciLCAiaXNQbGFpbk9iamVjdCIsICJyZXF1aXJlX2Jhc2VJc1R5cGVkQXJyYXkiLCAiYXJyYXlUYWciLCAiYm9vbFRhZyIsICJkYXRlVGFnIiwgImVycm9yVGFnIiwgIm1hcFRhZyIsICJudW1iZXJUYWciLCAicmVnZXhwVGFnIiwgInNldFRhZyIsICJzdHJpbmdUYWciLCAid2Vha01hcFRhZyIsICJhcnJheUJ1ZmZlclRhZyIsICJkYXRhVmlld1RhZyIsICJmbG9hdDMyVGFnIiwgImZsb2F0NjRUYWciLCAiaW50OFRhZyIsICJpbnQxNlRhZyIsICJpbnQzMlRhZyIsICJ1aW50OFRhZyIsICJ1aW50OENsYW1wZWRUYWciLCAidWludDE2VGFnIiwgInVpbnQzMlRhZyIsICJ0eXBlZEFycmF5VGFncyIsICJiYXNlSXNUeXBlZEFycmF5IiwgInJlcXVpcmVfYmFzZVVuYXJ5IiwgImJhc2VVbmFyeSIsICJyZXF1aXJlX25vZGVVdGlsIiwgImZyZWVQcm9jZXNzIiwgIm5vZGVVdGlsIiwgInR5cGVzIiwgInJlcXVpcmVfaXNUeXBlZEFycmF5IiwgIm5vZGVJc1R5cGVkQXJyYXkiLCAiaXNUeXBlZEFycmF5IiwgInJlcXVpcmVfc2FmZUdldCIsICJzYWZlR2V0IiwgInJlcXVpcmVfYXNzaWduVmFsdWUiLCAiYXNzaWduVmFsdWUiLCAib2JqVmFsdWUiLCAicmVxdWlyZV9jb3B5T2JqZWN0IiwgImNvcHlPYmplY3QiLCAiY3VzdG9taXplciIsICJpc05ldyIsICJuZXdWYWx1ZSIsICJyZXF1aXJlX2Jhc2VUaW1lcyIsICJiYXNlVGltZXMiLCAibiIsICJyZXF1aXJlX2lzSW5kZXgiLCAicmVJc1VpbnQiLCAiaXNJbmRleCIsICJyZXF1aXJlX2FycmF5TGlrZUtleXMiLCAiYXJyYXlMaWtlS2V5cyIsICJpbmhlcml0ZWQiLCAiaXNBcnIiLCAiaXNBcmciLCAiaXNCdWZmIiwgImlzVHlwZSIsICJza2lwSW5kZXhlcyIsICJyZXF1aXJlX25hdGl2ZUtleXNJbiIsICJuYXRpdmVLZXlzSW4iLCAicmVxdWlyZV9iYXNlS2V5c0luIiwgImJhc2VLZXlzSW4iLCAiaXNQcm90byIsICJyZXF1aXJlX2tleXNJbiIsICJrZXlzSW4iLCAicmVxdWlyZV90b1BsYWluT2JqZWN0IiwgInRvUGxhaW5PYmplY3QiLCAicmVxdWlyZV9iYXNlTWVyZ2VEZWVwIiwgImJhc2VNZXJnZURlZXAiLCAic3JjSW5kZXgiLCAibWVyZ2VGdW5jIiwgInN0YWNrIiwgInNyY1ZhbHVlIiwgInN0YWNrZWQiLCAiaXNDb21tb24iLCAiaXNUeXBlZCIsICJyZXF1aXJlX2Jhc2VNZXJnZSIsICJiYXNlTWVyZ2UiLCAicmVxdWlyZV9pZGVudGl0eSIsICJpZGVudGl0eSIsICJyZXF1aXJlX2FwcGx5IiwgImFwcGx5IiwgInRoaXNBcmciLCAiYXJncyIsICJyZXF1aXJlX292ZXJSZXN0IiwgIm5hdGl2ZU1heCIsICJvdmVyUmVzdCIsICJzdGFydCIsICJvdGhlckFyZ3MiLCAicmVxdWlyZV9jb25zdGFudCIsICJjb25zdGFudCIsICJyZXF1aXJlX2Jhc2VTZXRUb1N0cmluZyIsICJiYXNlU2V0VG9TdHJpbmciLCAic3RyaW5nIiwgInJlcXVpcmVfc2hvcnRPdXQiLCAiSE9UX0NPVU5UIiwgIkhPVF9TUEFOIiwgIm5hdGl2ZU5vdyIsICJzaG9ydE91dCIsICJjb3VudCIsICJsYXN0Q2FsbGVkIiwgInN0YW1wIiwgInJlbWFpbmluZyIsICJyZXF1aXJlX3NldFRvU3RyaW5nIiwgInNldFRvU3RyaW5nIiwgInJlcXVpcmVfYmFzZVJlc3QiLCAiYmFzZVJlc3QiLCAicmVxdWlyZV9pc0l0ZXJhdGVlQ2FsbCIsICJpc0l0ZXJhdGVlQ2FsbCIsICJyZXF1aXJlX2NyZWF0ZUFzc2lnbmVyIiwgImNyZWF0ZUFzc2lnbmVyIiwgImFzc2lnbmVyIiwgInNvdXJjZXMiLCAiZ3VhcmQiLCAicmVxdWlyZV9tZXJnZSIsICJtZXJnZSIsICJyZXF1aXJlX2lzU3ltYm9sIiwgInN5bWJvbFRhZyIsICJpc1N5bWJvbCIsICJyZXF1aXJlX2lzS2V5IiwgInJlSXNEZWVwUHJvcCIsICJyZUlzUGxhaW5Qcm9wIiwgImlzS2V5IiwgInJlcXVpcmVfbWVtb2l6ZSIsICJGVU5DX0VSUk9SX1RFWFQiLCAibWVtb2l6ZSIsICJyZXNvbHZlciIsICJtZW1vaXplZCIsICJjYWNoZSIsICJyZXF1aXJlX21lbW9pemVDYXBwZWQiLCAiTUFYX01FTU9JWkVfU0laRSIsICJtZW1vaXplQ2FwcGVkIiwgInJlcXVpcmVfc3RyaW5nVG9QYXRoIiwgInJlUHJvcE5hbWUiLCAicmVFc2NhcGVDaGFyIiwgInN0cmluZ1RvUGF0aCIsICJtYXRjaCIsICJudW1iZXIiLCAicXVvdGUiLCAic3ViU3RyaW5nIiwgInJlcXVpcmVfYXJyYXlNYXAiLCAiYXJyYXlNYXAiLCAicmVxdWlyZV9iYXNlVG9TdHJpbmciLCAiSU5GSU5JVFkiLCAic3ltYm9sUHJvdG8iLCAic3ltYm9sVG9TdHJpbmciLCAiYmFzZVRvU3RyaW5nIiwgInJlcXVpcmVfdG9TdHJpbmciLCAidG9TdHJpbmciLCAicmVxdWlyZV9jYXN0UGF0aCIsICJjYXN0UGF0aCIsICJyZXF1aXJlX3RvS2V5IiwgInRvS2V5IiwgInJlcXVpcmVfYmFzZUdldCIsICJiYXNlR2V0IiwgInBhdGgiLCAicmVxdWlyZV9nZXQiLCAiZ2V0IiwgImRlZmF1bHRWYWx1ZSIsICJyZXF1aXJlX3JidXNoX21pbiIsICJpIiwgInQiLCAiciIsICJlIiwgImEiLCAiaCIsICJvIiwgInMiLCAibCIsICJmIiwgInUiLCAibSIsICJjIiwgInAiLCAiZCIsICJ4IiwgInYiLCAiTSIsICJyZXF1aXJlX2pzIiwgImZlYXR1cmUiLCAiZ2VvbSIsICJwcm9wZXJ0aWVzIiwgIm9wdGlvbnMiLCAiZmVhdCIsICJnZW9tZXRyeSIsICJjb29yZGluYXRlcyIsICJfb3B0aW9ucyIsICJwb2ludCIsICJsaW5lU3RyaW5nIiwgInBvbHlnb24iLCAibXVsdGlQb2ludCIsICJtdWx0aUxpbmVTdHJpbmciLCAibXVsdGlQb2x5Z29uIiwgImlzTnVtYmVyIiwgInBvaW50cyIsICJmZWF0dXJlQ29sbGVjdGlvbiIsICJjb29yZHMiLCAiX2kiLCAiY29vcmRpbmF0ZXNfMSIsICJyaW5nIiwgImoiLCAicG9seWdvbnMiLCAibGluZVN0cmluZ3MiLCAiZmVhdHVyZXMiLCAiZmMiLCAiZ2VvbWV0cnlDb2xsZWN0aW9uIiwgImdlb21ldHJpZXMiLCAicm91bmQiLCAibnVtIiwgInByZWNpc2lvbiIsICJtdWx0aXBsaWVyIiwgInJhZGlhbnNUb0xlbmd0aCIsICJyYWRpYW5zIiwgInVuaXRzIiwgImZhY3RvciIsICJsZW5ndGhUb1JhZGlhbnMiLCAiZGlzdGFuY2UiLCAibGVuZ3RoVG9EZWdyZWVzIiwgInJhZGlhbnNUb0RlZ3JlZXMiLCAiYmVhcmluZ1RvQXppbXV0aCIsICJiZWFyaW5nIiwgImFuZ2xlIiwgImRlZ3JlZXMiLCAiZGVncmVlc1RvUmFkaWFucyIsICJjb252ZXJ0TGVuZ3RoIiwgIm9yaWdpbmFsVW5pdCIsICJmaW5hbFVuaXQiLCAiY29udmVydEFyZWEiLCAiYXJlYSIsICJzdGFydEZhY3RvciIsICJmaW5hbEZhY3RvciIsICJpbnB1dCIsICJ2YWxpZGF0ZUJCb3giLCAiYmJveCIsICJ2YWxpZGF0ZUlkIiwgImlkIiwgImhlbHBlcnMiLCAiY29vcmRFYWNoIiwgImdlb2pzb24iLCAiY2FsbGJhY2siLCAiZXhjbHVkZVdyYXBDb29yZCIsICJrIiwgInN0b3BHIiwgImdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uIiwgIndyYXBTaHJpbmsiLCAiY29vcmRJbmRleCIsICJpc0dlb21ldHJ5Q29sbGVjdGlvbiIsICJpc0ZlYXR1cmVDb2xsZWN0aW9uIiwgImlzRmVhdHVyZSIsICJzdG9wIiwgImZlYXR1cmVJbmRleCIsICJnZW9tSW5kZXgiLCAibXVsdGlGZWF0dXJlSW5kZXgiLCAiZ2VvbWV0cnlJbmRleCIsICJnZW9tVHlwZSIsICJjb29yZFJlZHVjZSIsICJpbml0aWFsVmFsdWUiLCAicHJldmlvdXNWYWx1ZSIsICJjdXJyZW50Q29vcmQiLCAicHJvcEVhY2giLCAicHJvcFJlZHVjZSIsICJjdXJyZW50UHJvcGVydGllcyIsICJmZWF0dXJlRWFjaCIsICJmZWF0dXJlUmVkdWNlIiwgImN1cnJlbnRGZWF0dXJlIiwgImNvb3JkQWxsIiwgImNvb3JkIiwgImdlb21FYWNoIiwgImciLCAiZmVhdHVyZVByb3BlcnRpZXMiLCAiZmVhdHVyZUJCb3giLCAiZmVhdHVyZUlkIiwgImdlb21SZWR1Y2UiLCAiY3VycmVudEdlb21ldHJ5IiwgImZsYXR0ZW5FYWNoIiwgImNvb3JkaW5hdGUiLCAiZmxhdHRlblJlZHVjZSIsICJzZWdtZW50RWFjaCIsICJzZWdtZW50SW5kZXgiLCAicHJldmlvdXNDb29yZHMiLCAicHJldmlvdXNGZWF0dXJlSW5kZXgiLCAicHJldmlvdXNNdWx0aUluZGV4IiwgInByZXZHZW9tSW5kZXgiLCAiZmVhdHVyZUluZGV4Q29vcmQiLCAibXVsdGlQYXJ0SW5kZXhDb29yZCIsICJjdXJyZW50U2VnbWVudCIsICJzZWdtZW50UmVkdWNlIiwgInN0YXJ0ZWQiLCAibGluZUVhY2giLCAibGluZVJlZHVjZSIsICJjdXJyZW50TGluZSIsICJmaW5kU2VnbWVudCIsICJmaW5kUG9pbnQiLCAibWV0YV8xIiwgInJlcXVpcmVfZ2VvanNvbl9yYnVzaCIsICJyYnVzaCIsICJtZXRhIiwgInR1cmZCQm94IiwgImdlb2pzb25SYnVzaCIsICJtYXhFbnRyaWVzIiwgInRyZWUiLCAibG9hZCIsICJlcXVhbHMiLCAianNvbiIsICJsaXN0IiwgImVsZW1lbnQiLCAidGFyZ2V0IiwgImFyciIsICJpdGVtIiwgInNlYXJjaEVsZW1lbnQiLCAiZnJvbUluZGV4IiwgImxlbiIsICJzYW1lVmFsdWVaZXJvIiwgInkiLCAicGFja2FnZV9kZWZhdWx0IiwgImltcG9ydF9tZXJnZSIsICJlbl9kZWZhdWx0IiwgImRlX2RlZmF1bHQiLCAiaXRfZGVmYXVsdCIsICJpZF9kZWZhdWx0IiwgInJvX2RlZmF1bHQiLCAicnVfZGVmYXVsdCIsICJlc19kZWZhdWx0IiwgIm5sX2RlZmF1bHQiLCAiZnJfZGVmYXVsdCIsICJ6aF9kZWZhdWx0IiwgInpoX3R3X2RlZmF1bHQiLCAicHRfYnJfZGVmYXVsdCIsICJwdF9wdF9kZWZhdWx0IiwgInBsX2RlZmF1bHQiLCAic3ZfZGVmYXVsdCIsICJlbF9kZWZhdWx0IiwgImh1X2RlZmF1bHQiLCAiZGFfZGVmYXVsdCIsICJub19kZWZhdWx0IiwgImZhX2RlZmF1bHQiLCAidWFfZGVmYXVsdCIsICJ0cl9kZWZhdWx0IiwgImN6X2RlZmF1bHQiLCAiamFfZGVmYXVsdCIsICJmaV9kZWZhdWx0IiwgImtvX2RlZmF1bHQiLCAia3lfZGVmYXVsdCIsICJ0cmFuc2xhdGlvbnNfZGVmYXVsdCIsICJHbG9iYWxFZGl0TW9kZSIsICJsYXllciIsICJsYXllcnMiLCAiTW9kZV9FZGl0X2RlZmF1bHQiLCAiR2xvYmFsRHJhZ01vZGUiLCAiTW9kZV9EcmFnX2RlZmF1bHQiLCAiR2xvYmFsUmVtb3ZhbE1vZGUiLCAiTW9kZV9SZW1vdmFsX2RlZmF1bHQiLCAiR2xvYmFsUm90YXRlTW9kZSIsICJNb2RlX1JvdGF0ZV9kZWZhdWx0IiwgIkV2ZW50TWl4aW4iLCAiY3VzdG9tUGF5bG9hZCIsICJ3b3JraW5nTGF5ZXIiLCAiZmlyZUxheWVyIiwgIm9yaWdpbmFsTGF5ZXIiLCAiaW5kZXhQYXRoIiwgImludGVyc2VjdGlvblJlc2V0IiwgInJlZkxheWVyIiwgIm1hcmtlciIsICJsYXRsbmciLCAiaW50ZXJzZWN0aW9uIiwgImxhdGxuZ3MiLCAidGV4dCIsICJldmVudEluZm8iLCAiaGVscExheWVyIiwgIm9yaWdpbkxhdExuZ3MiLCAiYW5nbGVEaWZmIiwgIm9sZExhdExuZ3MiLCAicm90YXRpb25MYXllciIsICJzdGFydEFuZ2xlIiwgImFjdGlvbiIsICJidG5OYW1lIiwgImJ1dHRvbiIsICJvbGRMYW5nIiwgImFjdGl2ZUxhbmciLCAiZmFsbGJhY2siLCAidHJhbnNsYXRpb25zIiwgImVuYWJsZWQiLCAiZXZlbnQiLCAiZXZlbnRUeXBlIiwgImZvY3VzT24iLCAicGF5bG9hZCIsICJFdmVudHNfZGVmYXVsdCIsICJjcmVhdGVLZXlib2FyZE1peGlucyIsICJLZXlib2FyZF9kZWZhdWx0IiwgImltcG9ydF9nZXQiLCAiZ2V0VHJhbnNsYXRpb24iLCAibGFuZyIsICJoYXNWYWx1ZXMiLCAicmVtb3ZlRW1wdHlDb29yZFJpbmdzIiwgIm5ld0l0ZW0iLCAiZGVzdGluYXRpb25WaW5jZW50eSIsICJsb25sYXQiLCAiYnJuZyIsICJkaXN0IiwgIlZpbmNlbnR5Q29uc3RhbnRzIiwgImIiLCAibG9uMSIsICJsYXQxIiwgInBpIiwgImFscGhhMSIsICJzaW5BbHBoYTEiLCAiY29zQWxwaGExIiwgInRhblUxIiwgImNvc1UxIiwgInNpblUxIiwgInNpZ21hMSIsICJzaW5BbHBoYSIsICJjb3NTcUFscGhhIiwgInVTcSIsICJBIiwgIkIiLCAic2lnbWEiLCAic2lnbWFQIiwgImNvczJTaWdtYU0iLCAic2luU2lnbWEiLCAiY29zU2lnbWEiLCAiZGVsdGFTaWdtYSIsICJ0bXAiLCAibGF0MiIsICJsYW1iZGEiLCAiQyIsICJsYW0iLCAibGFtRnVuYyIsICJsYXQyYSIsICJjcmVhdGVHZW9kZXNpY1BvbHlnb24iLCAib3JpZ2luIiwgInJhZGl1cyIsICJzaWRlcyIsICJyb3RhdGlvbiIsICJ3aXRoQmVhcmluZyIsICJ0cnVlQW5nbGUiLCAibmV3TG9ubGF0IiwgImdlb21Qb2ludCIsICJwTGF0IiwgInBMbmciLCAiZGVzdGluYXRpb24iLCAiaGVhZGluZyIsICJyYWQiLCAicmFkSW52IiwgIlIiLCAicmhlYWRpbmciLCAic2luTGF0MSIsICJjb3NMYXQxIiwgImNvc0Rpc3RSIiwgInNpbkRpc3RSIiwgImxvbjIiLCAib3B0QSIsICJvcHRCIiwgImNhbGNBbmdsZSIsICJsYXRsbmdBIiwgImxhdGxuZ0IiLCAicG9pbnRBIiwgInBvaW50QiIsICJhbmdsZURlZyIsICJkZXN0aW5hdGlvbk9uTGluZSIsICJwcmlvcml0aXNlU29ydCIsICJfc29ydGluZ09yZGVyIiwgIm9yZGVyIiwgImtleXMiLCAib2JqS2V5IiwgInNvcnRpbmdPcmRlciIsICJnZXRTaGFwZSIsICJrZXlBIiwgImtleUIiLCAiZmlyc3QiLCAic2Vjb25kIiwgImNvcHlMYXRMbmdzIiwgImZpeExhdE9mZnNldCIsICJtYXgiLCAiZ2V0UmVuZGVyZXIiLCAic2hhcGUiLCAib3B0aW9uc01vZGlmaWVyIiwgImlnbm9yZSIsICJtZXJnZU9wdGlvbnMiLCAicmVlbmFibGVDaXJjbGVNYXJrZXIiLCAicmVlbmFibGVDaXJjbGUiLCAiYXNHcm91cCIsICJncm91cCIsICJlbG0iLCAibW91c2VFdmVudCIsICJ0b3VjaEV2dCIsICJMX1BNX01hcF9kZWZhdWx0IiwgIlBNQnV0dG9uIiwgIm9sZERvbU5vZGUiLCAicG9zIiwgImJ1dHRvbkNvbnRhaW5lciIsICJuZXdCdXR0b24iLCAiYWN0aW9uQ29udGFpbmVyIiwgImFjdGl2ZUFjdGlvbnMiLCAiYWN0aW9ucyIsICJfYWN0aW9uIiwgIm5hbWUiLCAiYWN0aW9uTm9kZSIsICJhY3Rpb25DbGljayIsICJidXR0b25zIiwgImJ0biIsICJpbWFnZSIsICJjbGFzc05hbWUiLCAiTF9Db250cm9sc19kZWZhdWx0IiwgIlRvb2xiYXIiLCAiYWRkQ29udHJvbHMiLCAiY29udGFpbmVyIiwgImljb25DbGFzc2VzIiwgImV4Y2VwdFRoaXNCdXR0b24iLCAic3RhdHVzIiwgImRpc2FibGVPdGhlcnMiLCAiZHJhd01hcmtlckJ1dHRvbiIsICJjdHgiLCAiZHJhd1BvbHlCdXR0b24iLCAiZHJhd0xpbmVCdXR0b24iLCAiZHJhd0NpcmNsZUJ1dHRvbiIsICJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uIiwgImRyYXdSZWN0QnV0dG9uIiwgImVkaXRCdXR0b24iLCAiZHJhZ0J1dHRvbiIsICJjdXRCdXR0b24iLCAiZGVsZXRlQnV0dG9uIiwgInJvdGF0ZUJ1dHRvbiIsICJkcmF3VGV4dEJ1dHRvbiIsICJpZ25vcmVCdG5zIiwgImJsb2NrIiwgInBvc2l0aW9uIiwgImNvcHlJbnN0YW5jZSIsICJpbnN0YW5jZSIsICJkcmF3SW5zdGFuY2UiLCAiY29udHJvbCIsICJidXR0b25zSW5CbG9jayIsICJidXR0b25OYW1lIiwgInNoYXBlTWFwcGluZyIsICJfb3JkZXIiLCAibmV3YnRub3JkZXIiLCAic3RhdGUiLCAiTF9QTV9Ub29sYmFyX2RlZmF1bHQiLCAiU25hcE1peGluIiwgIm1hcmtlckFyciIsICJsaW5lIiwgImNsb3Nlc3RMYXllciIsICJpc01hcmtlciIsICJzbmFwTGF0TG5nIiwgIm1pbkRpc3RhbmNlIiwgInRyaWdnZXJTbmFwIiwgImRlYnVnSW5kaWNhdG9yTGluZXMiLCAiZGVidWdMaW5lIiwgImFtb3VudCIsICJjbG9zZXN0TGF5ZXJzIiwgInJlc3VsdHMiLCAiaXNQb2x5Z29uIiwgIlAiLCAiY2xvc2VkU2hhcGUiLCAiY2xvc2VzdENvb3JkIiwgInNob3J0ZXN0RGlzdGFuY2UiLCAiY2xvc2VzdFNlZ21lbnQiLCAibG9vcFRocm91Z2hDb29yZHMiLCAibmV4dEluZGV4IiwgImRpc3RhbmNlUG9pbnQiLCAic2hhcGVzIiwgInByaW9PcmRlciIsICJkaXN0YW5jZUFDIiwgImRpc3RhbmNlQkMiLCAiY2xvc2VzdFZlcnRleExhdExuZyIsICJkaXN0YW5jZU1DIiwgInByaW9yaXR5RGlzdGFuY2UiLCAic25hcExhdGxuZyIsICJtYXh6b29tIiwgImNsb3Nlc3QiLCAiU25hcHBpbmdfZGVmYXVsdCIsICJEcmF3IiwgImRlZmF1bHRJY29uIiwgImVuYWJsZWRTaGFwZSIsICJqc0NsYXNzIiwgIkxfUE1fRHJhd19kZWZhdWx0IiwgImZha2VEcmFnRXZlbnQiLCAiZWFydGhSYWRpdXMiLCAiZmFjdG9ycyIsICJ1bml0c0ZhY3RvcnMiLCAia2lua3MiLCAiZmVhdHVyZUluIiwgImxpbmUxIiwgImxpbmUyIiwgImxpbmVJbnRlcnNlY3RzIiwgImxpbmUxU3RhcnRYIiwgImxpbmUxU3RhcnRZIiwgImxpbmUxRW5kWCIsICJsaW5lMUVuZFkiLCAibGluZTJTdGFydFgiLCAibGluZTJTdGFydFkiLCAibGluZTJFbmRYIiwgImxpbmUyRW5kWSIsICJkZW5vbWluYXRvciIsICJudW1lcmF0b3IxIiwgIm51bWVyYXRvcjIiLCAicG9seVBvaW50cyIsICJsYXN0UG9seWdvblBvaW50IiwgImFkZFZlcnRleCIsICJjbG9uZSIsICJzZWxmSW50ZXJzZWN0aW9uIiwgImxhc3RMYXRMbmciLCAibmV3TWFya2VyIiwgImhpbnRNYXJrZXJMYXRMbmciLCAibWFya2VycyIsICJyZW1vdmVkTWFya2VyIiwgIm1hcmtlclByZXZpb3VzIiwgImluZGV4TWFya2VyUHJldiIsICJwb2x5bGluZUxheWVyIiwgInBvbHlnb25MYXllciIsICJzdHlsZU1hcmtlciIsICJjb3JuZXJzIiwgInVubWFya2VkQ29ybmVycyIsICJjb3JuZXIiLCAidW5tYXJrZWRDb3JuZXIiLCAicmVjdGFuZ2xlTGF5ZXIiLCAidGVtcGxpbmVTdHlsZSIsICJzZWNvbmRMYXRMbmciLCAiY2VudGVyIiwgImNpcmNsZUxheWVyIiwgImdldENvb3JkIiwgImdldENvb3JkcyIsICJnZXRHZW9tIiwgImdldFR5cGUiLCAiX25hbWUiLCAibGluZVNlZ21lbnQiLCAibGluZVNlZ21lbnRGZWF0dXJlIiwgInNlZ21lbnRzIiwgImNyZWF0ZVNlZ21lbnRzIiwgInNlZ21lbnQiLCAiY3VycmVudENvb3JkcyIsICJjb29yZHMxIiwgImNvb3JkczIiLCAieDEiLCAieTEiLCAieDIiLCAieTIiLCAid2VzdCIsICJzb3V0aCIsICJlYXN0IiwgIm5vcnRoIiwgImltcG9ydF9nZW9qc29uX3JidXNoIiwgImxpbmVJbnRlcnNlY3QiLCAidW5pcXVlIiwgImludGVyc2VjdCIsICJpbnRlcnNlY3RzIiwgIngzIiwgInkzIiwgIng0IiwgInk0IiwgImRlbm9tIiwgIm51bWVBIiwgIm51bWVCIiwgInVBIiwgInVCIiwgImZyb20iLCAidG8iLCAiY29vcmRpbmF0ZXMxIiwgImNvb3JkaW5hdGVzMiIsICJkTGF0IiwgImRMb24iLCAic3F1YXJlIiwgImhvcml6b250YWxEaXN0YW5jZSIsICJ2ZXJ0aWNhbERpc3RhbmNlIiwgInZlcnRpY2FsTWlkcG9pbnQiLCAiaG9yaXpvbnRhbE1pZHBvaW50IiwgInRydW5jYXRlIiwgIm11dGF0ZSIsICJ0cnVuY2F0ZUNvb3JkcyIsICJlbmQiLCAiY2FsY3VsYXRlRmluYWxCZWFyaW5nIiwgImJlYXIiLCAibG9uZ2l0dWRlMSIsICJsYXRpdHVkZTEiLCAiYmVhcmluZ1JhZCIsICJsYXRpdHVkZTIiLCAibG9uZ2l0dWRlMiIsICJsbmciLCAibGF0IiwgIm5lYXJlc3RQb2ludE9uTGluZSIsICJsaW5lcyIsICJwdCIsICJjbG9zZXN0UHQiLCAic3RvcF8xIiwgInNlY3Rpb25MZW5ndGgiLCAiaGVpZ2h0RGlzdGFuY2UiLCAiZGlyZWN0aW9uIiwgInBlcnBlbmRpY3VsYXJQdDEiLCAicGVycGVuZGljdWxhclB0MiIsICJpbnRlcnNlY3RQdCIsICJsaW5lU3BsaXQiLCAic3BsaXR0ZXIiLCAibGluZVR5cGUiLCAic3BsaXR0ZXJUeXBlIiwgInRydW5jYXRlZFNwbGl0dGVyIiwgInNwbGl0TGluZVdpdGhQb2ludCIsICJzcGxpdExpbmVXaXRoUG9pbnRzIiwgInNlYXJjaCIsICJjbG9zZXN0TGluZSIsICJmaW5kQ2xvc2VzdEZlYXR1cmUiLCAic3RhcnRQb2ludCIsICJlbmRQb2ludCIsICJwb2ludHNFcXVhbHMiLCAibGFzdENvb3JkcyIsICJwcmV2aW91cyIsICJjdXJyZW50IiwgInNwbGl0dGVyQ29vcmRzIiwgImNsb3Nlc3RGZWF0dXJlIiwgImNsb3Nlc3REaXN0YW5jZSIsICJwdDEiLCAicHQyIiwgImJvb2xlYW5Qb2ludEluUG9seWdvbiIsICJwb2x5cyIsICJpbkJCb3giLCAiaW5zaWRlUG9seSIsICJpblJpbmciLCAiaW5Ib2xlIiwgImlnbm9yZUJvdW5kYXJ5IiwgImlzSW5zaWRlIiwgInhpIiwgInlpIiwgInhqIiwgInlqIiwgIm9uQm91bmRhcnkiLCAiYm9vbGVhblBvaW50T25MaW5lIiwgInB0Q29vcmRzIiwgImxpbmVDb29yZHMiLCAiaXNQb2ludE9uTGluZVNlZ21lbnQiLCAibGluZVNlZ21lbnRTdGFydCIsICJsaW5lU2VnbWVudEVuZCIsICJleGNsdWRlQm91bmRhcnkiLCAiZXBzaWxvbiIsICJkeGMiLCAiZHljIiwgImR4bCIsICJkeWwiLCAiY3Jvc3MiLCAiYm9vbGVhbkNvbnRhaW5zIiwgImZlYXR1cmUxIiwgImZlYXR1cmUyIiwgImdlb20xIiwgImdlb20yIiwgInR5cGUxIiwgInR5cGUyIiwgImNvbXBhcmVDb29yZHMiLCAiaXNQb2ludEluTXVsdGlQb2ludCIsICJpc011bHRpUG9pbnRJbk11bHRpUG9pbnQiLCAiaXNMaW5lT25MaW5lIiwgImlzTXVsdGlQb2ludE9uTGluZSIsICJpc0xpbmVJblBvbHkiLCAiaXNQb2x5SW5Qb2x5IiwgImlzTXVsdGlQb2ludEluUG9seSIsICJvdXRwdXQiLCAibXVsdGlQb2ludDEiLCAibXVsdGlQb2ludDIiLCAiX2EiLCAiY29vcmQyIiwgIm1hdGNoRm91bmQiLCAiX2IiLCAiX2MiLCAiY29vcmQxIiwgImhhdmVGb3VuZEludGVyaW9yUG9pbnQiLCAibGluZVN0cmluZzEiLCAibGluZVN0cmluZzIiLCAibGluZXN0cmluZyIsICJwb2x5QmJveCIsICJsaW5lQmJveCIsICJkb0JCb3hPdmVybGFwIiwgIm1pZFBvaW50IiwgImdldE1pZHBvaW50IiwgInBvbHkxQmJveCIsICJwb2x5MkJib3giLCAiY29vcmRzXzEiLCAicmluZ18xIiwgImJib3gxIiwgImJib3gyIiwgInBhaXIxIiwgInBhaXIyIiwgImNvbnN0YW50X2RlZmF1bHQiLCAiY29tcGFyZV9kZWZhdWx0IiwgImVwcyIsICJhbG1vc3RFcXVhbCIsICJvcmllbnRfZGVmYXVsdCIsICJhbG1vc3RDb2xsaW5lYXIiLCAiYXJlYTIiLCAiYXgiLCAiYXkiLCAiY3giLCAiY3kiLCAiaXNOdW1lcmljIiwgIm1hdGhjZWlsIiwgIm1hdGhmbG9vciIsICJiaWdudW1iZXJFcnJvciIsICJ0b29NYW55RGlnaXRzIiwgIkJBU0UiLCAiTE9HX0JBU0UiLCAiUE9XU19URU4iLCAiU1FSVF9CQVNFIiwgIk1BWCIsICJjb25maWdPYmplY3QiLCAiZGl2IiwgImNvbnZlcnRCYXNlIiwgInBhcnNlTnVtZXJpYyIsICJCaWdOdW1iZXIiLCAiT05FIiwgIkRFQ0lNQUxfUExBQ0VTIiwgIlJPVU5ESU5HX01PREUiLCAiVE9fRVhQX05FRyIsICJUT19FWFBfUE9TIiwgIk1JTl9FWFAiLCAiTUFYX0VYUCIsICJDUllQVE8iLCAiTU9EVUxPX01PREUiLCAiUE9XX1BSRUNJU0lPTiIsICJGT1JNQVQiLCAiQUxQSEFCRVQiLCAiYWxwaGFiZXRIYXNOb3JtYWxEZWNpbWFsRGlnaXRzIiwgImFscGhhYmV0IiwgImNhc2VDaGFuZ2VkIiwgImlzTnVtIiwgInN0ciIsICJpbnRDaGVjayIsICJvYmoiLCAib3V0IiwgIm1heE9yTWluIiwgInBvdzJfNTMiLCAicmFuZG9tNTNiaXRJbnQiLCAiZHAiLCAicmFuZCIsICJzdW0iLCAiZGVjaW1hbCIsICJ0b0Jhc2VPdXQiLCAiYmFzZUluIiwgImJhc2VPdXQiLCAiYXJyTCIsICJzaWduIiwgImNhbGxlcklzVG9TdHJpbmciLCAieGMiLCAicm0iLCAidG9GaXhlZFBvaW50IiwgImNvZWZmVG9TdHJpbmciLCAibXVsdGlwbHkiLCAiYmFzZSIsICJ0ZW1wIiwgInhsbyIsICJ4aGkiLCAiY2FycnkiLCAia2xvIiwgImtoaSIsICJjb21wYXJlIiwgImFMIiwgImJMIiwgImNtcCIsICJzdWJ0cmFjdCIsICJtb3JlIiwgInByb2QiLCAicHJvZEwiLCAicSIsICJxYyIsICJyZW0iLCAicmVtTCIsICJyZW0wIiwgInhMIiwgInljMCIsICJ5TCIsICJ5eiIsICJ5YyIsICJiaXRGbG9vciIsICJmb3JtYXQiLCAiYzAiLCAibmUiLCAidG9FeHBvbmVudGlhbCIsICJub3JtYWxpc2UiLCAiYmFzZVByZWZpeCIsICJkb3RBZnRlciIsICJkb3RCZWZvcmUiLCAiaXNJbmZpbml0eU9yTmFOIiwgIndoaXRlc3BhY2VPclBsdXMiLCAicDEiLCAicDIiLCAic2QiLCAibmkiLCAicmQiLCAicG93czEwIiwgInZhbHVlT2YiLCAiaGFsZiIsICJpc01vZEV4cCIsICJuSXNCaWciLCAibklzTmVnIiwgIm5Jc09kZCIsICJpc09kZCIsICJ4TFR5IiwgInhlIiwgInllIiwgInhjTCIsICJ5Y0wiLCAieWxvIiwgInloaSIsICJ6YyIsICJzcXJ0QmFzZSIsICJyZXAiLCAiZzEiLCAiZzIiLCAiZ3JvdXBTZXBhcmF0b3IiLCAiaW50UGFydCIsICJmcmFjdGlvblBhcnQiLCAiaXNOZWciLCAiaW50RGlnaXRzIiwgIm1kIiwgImQwIiwgImQxIiwgImQyIiwgImV4cCIsICJuMCIsICJuMSIsICJ6IiwgIm1pbiIsICJ6cyIsICJiaWdudW1iZXJfZGVmYXVsdCIsICJTcGxheVRyZWVOb2RlIiwgIlNwbGF5VHJlZVNldE5vZGUiLCAiU3BsYXlUcmVlIiwgInJpZ2h0IiwgIm5ld1RyZWVSaWdodCIsICJsZWZ0IiwgIm5ld1RyZWVMZWZ0IiwgImNvbXAiLCAiY3VycmVudExlZnQiLCAiY3VycmVudFJpZ2h0IiwgIm5vZGUiLCAibmV4dExlZnQiLCAibmV4dFJpZ2h0IiwgIlNwbGF5VHJlZVNldCIsICJpc1ZhbGlkS2V5IiwgImVsZW1lbnRzIiwgIm5vZGVzIiwgIm5vZGVSaWdodCIsICJub2RlTGVmdCIsICJyZXRhaW5TZXQiLCAiX1NwbGF5VHJlZVNldCIsICJtb2RpZmljYXRpb25Db3VudCIsICJzZXQiLCAiY29weUNoaWxkcmVuIiwgImRlc3QiLCAibmV3TGVmdCIsICJuZXdSaWdodCIsICJTcGxheVRyZWVTZXRFbnRyeUl0ZXJhYmxlSXRlcmF0b3IiLCAiU3BsYXlUcmVlS2V5SXRlcmFibGVJdGVyYXRvciIsICJTcGxheVRyZWVJdGVyYWJsZUl0ZXJhdG9yIiwgIm5leHQiLCAiaWRlbnRpdHlfZGVmYXVsdCIsICJzbmFwX2RlZmF1bHQiLCAieFRyZWUiLCAieVRyZWUiLCAic25hcENvb3JkIiwgInNuYXAiLCAiaXNJbkJib3giLCAiZ2V0QmJveE92ZXJsYXAiLCAiYjEiLCAiYjIiLCAibG93ZXJYIiwgInVwcGVyWCIsICJsb3dlclkiLCAidXBwZXJZIiwgImNyb3NzUHJvZHVjdCIsICJkb3RQcm9kdWN0IiwgInNpbmVPZkFuZ2xlIiwgInBTaGFyZWQiLCAicEJhc2UiLCAicEFuZ2xlIiwgInZCYXNlIiwgInZBbmdsZSIsICJjb3NpbmVPZkFuZ2xlIiwgImhvcml6b250YWxJbnRlcnNlY3Rpb24iLCAidmVydGljYWxJbnRlcnNlY3Rpb24iLCAidjEiLCAidjIiLCAia3Jvc3MiLCAidmUiLCAiU3dlZXBFdmVudCIsICJfU3dlZXBFdmVudCIsICJpc0xlZnQiLCAicHRDbXAiLCAiU2VnbWVudCIsICJhUHQiLCAiYlB0IiwgIm90aGVyRXZlbnRzIiwgImlNYXgiLCAiZXZ0IiwgIm51bUV2ZW50cyIsICJldnQxIiwgImV2dDIiLCAiZXZlbnRzIiwgImJhc2VFdmVudCIsICJmaWxsQ2FjaGUiLCAibGlua2VkRXZlbnQiLCAibmV4dEV2ZW50IiwgImFzaW5lIiwgImFjb3NpbmUiLCAiYnNpbmUiLCAiYmNvc2luZSIsICJzZWdtZW50SWQiLCAiX1NlZ21lbnQiLCAibGVmdFNFIiwgInJpZ2h0U0UiLCAicmluZ3MiLCAid2luZGluZ3MiLCAiYWx4IiwgImJseCIsICJhcngiLCAiYnJ4IiwgImFseSIsICJibHkiLCAiYXJ5IiwgImJyeSIsICJhQ21wQkxlZnQiLCAiYkNtcEFSaWdodCIsICJiQ21wQUxlZnQiLCAiYUNtcEJSaWdodCIsICJieSIsICJieCIsICJsZWZ0UHQiLCAicmlnaHRQdCIsICJ3aW5kaW5nIiwgImNtcFB0cyIsICJuZXdSaWdodFNFIiwgInRCYm94IiwgIm9CYm94IiwgImJib3hPdmVybGFwIiwgInRscCIsICJ0cnAiLCAib2xwIiwgIm9ycCIsICJ0b3VjaGVzT3RoZXJMU0UiLCAidG91Y2hlc1RoaXNMU0UiLCAidG91Y2hlc090aGVyUlNFIiwgInRvdWNoZXNUaGlzUlNFIiwgIm5ld0V2ZW50cyIsICJhbHJlYWR5TGlua2VkIiwgIm5ld0xlZnRTRSIsICJvbGRSaWdodFNFIiwgIm5ld1NlZyIsICJ0bXBFdnQiLCAiY29uc3VtZXIiLCAiY29uc3VtZWUiLCAic2VnIiwgImJlZm9yZVN0YXRlIiwgInJpbmdzQWZ0ZXIiLCAid2luZGluZ3NBZnRlciIsICJtcHNBZnRlciIsICJwb2x5c0FmdGVyIiwgInBvbHlzRXhjbHVkZSIsICJwb2x5IiwgIm1wIiwgIm1wc0JlZm9yZSIsICJvcGVyYXRpb25fZGVmYXVsdCIsICJub0JlZm9yZXMiLCAibm9BZnRlcnMiLCAibGVhc3QiLCAibW9zdCIsICJkaWZmIiwgImlzSnVzdFN1YmplY3QiLCAibXBzIiwgIlJpbmdJbiIsICJnZW9tUmluZyIsICJpc0V4dGVyaW9yIiwgImZpcnN0UG9pbnQiLCAicHJldlBvaW50IiwgInN3ZWVwRXZlbnRzIiwgIlBvbHlJbiIsICJnZW9tUG9seSIsICJtdWx0aVBvbHkiLCAicmluZ1N3ZWVwRXZlbnRzIiwgImpNYXgiLCAiTXVsdGlQb2x5SW4iLCAiaXNTdWJqZWN0IiwgInBvbHlTd2VlcEV2ZW50cyIsICJSaW5nT3V0IiwgIl9SaW5nT3V0IiwgImFsbFNlZ21lbnRzIiwgInJpbmdzT3V0IiwgInByZXZFdmVudCIsICJzdGFydGluZ1BvaW50IiwgImludGVyc2VjdGlvbkxFcyIsICJhdmFpbGFibGVMRXMiLCAiZmlyc3RQdCIsICJsYXN0UHQiLCAiaW5kZXhMRSIsICJpbnRlcnNlY3Rpb25MRSIsICJyaW5nRXZlbnRzIiwgImNvbXBhcmF0b3IiLCAicHJldlB0IiwgIm5leHRQdCIsICJzdGVwIiwgImlTdGFydCIsICJpRW5kIiwgIm9yZGVyZWRQb2ludHMiLCAiZW5jbG9zaW5nIiwgImxlZnRNb3N0RXZ0IiwgInByZXZTZWciLCAicHJldlByZXZTZWciLCAiUG9seU91dCIsICJleHRlcmlvclJpbmciLCAiZ2VvbTAiLCAicmluZ0dlb20iLCAiTXVsdGlQb2x5T3V0IiwgInBvbHlHZW9tIiwgImVuY2xvc2luZ1JpbmciLCAiU3dlZXBMaW5lIiwgInF1ZXVlIiwgIm5leHRTZWciLCAicHJldk15U3BsaXR0ZXIiLCAicHJldkludGVyIiwgIm5ld0V2ZW50c0Zyb21TcGxpdCIsICJuZXh0TXlTcGxpdHRlciIsICJuZXh0SW50ZXIiLCAibXlTcGxpdHRlciIsICJpbnRlciIsICJPcGVyYXRpb24iLCAibW9yZUdlb21zIiwgIm9wZXJhdGlvbiIsICJtdWx0aXBvbHlzIiwgInN1YmplY3QiLCAibXBBIiwgInN3ZWVwTGluZSIsICJkaWZmZXJlbmNlIiwgInNldFByZWNpc2lvbiIsICJnZXRHZW9tZXRyeSIsICJ0dXJmTGluZVN0cmluZyIsICJ0dXJmTXVsdGlMaW5lU3RyaW5nIiwgInR1cmZQb2x5Z29uIiwgInR1cmZNdWx0aVBvbHlnb24iLCAicG9seTEiLCAicG9seTIiLCAicG9seWdvbjEiLCAicG9seWdvbjIiLCAiZGlmZmVyZW5jZWQiLCAiZ2V0RGVwdGhPZkNvb3JkcyIsICJmbGF0dGVuUG9seWxpbmUiLCAicG9seWxpbmUiLCAiZGVwdGgiLCAiZ3JvdXBUb011bHRpTGluZVN0cmluZyIsICJhbGwiLCAiX2xhdGxuZ0luZm9zIiwgImxpbmVJbnRlciIsICJuZXdMYXllciIsICJpbmZvIiwgInBhcmVudFBhdGgiLCAibmV3SW5kZXgiLCAicmVzdWx0TGF5ZXIiLCAicmVzdWx0aW5nTGF5ZXIiLCAiX2xheWVyIiwgImlkeCIsICJmZyIsICJsaW5lRGlmZiIsICJsYXkiLCAiY3NzQ2xhc3NlcyIsICJ0ZXh0QXJlYUljb24iLCAiZm9jdXNBZnRlckRyYXciLCAidGV4dEFyZWEiLCAiRHJhZ01peGluIiwgImZyb21MYXllclN5bmMiLCAibGF5ZXJzVG9TeW5jRm91bmQiLCAiX2VkaXRhYmxlT3B0aW9uIiwgImVsIiwgImRlbHRhTGF0TG5nIiwgIm1vdmVDb29yZHMiLCAiY3VycmVudExhdExuZyIsICJuZXdMYXRsbmciLCAibmV3Q29vcmRzIiwgImNvb3Jkc1JlZmVybmNlIiwgImZuYyIsICJsYXllcnNUb1N5bmMiLCAibGciLCAiRHJhZ2dpbmdfZGVmYXVsdCIsICJfY29udmVydExhdExuZyIsICJtYXRyaXgiLCAiem9vbSIsICJfY29udmVydExhdExuZ3MiLCAiX3RvUG9pbnQiLCAiX3RvTGF0TG5nIiwgIlJvdGF0ZU1peGluIiwgImFuZ2xlRGlmZlJhZGlhbnQiLCAidGhhdCIsICJmb3JFYWNoTGF0TG5nIiwgIl9sYXRsbmciLCAicmFkaWFudCIsICJfbWF0cml4IiwgIm9yaWdpblBvaW50IiwgIm9sZEFuZ2xlIiwgInJhZHMiLCAibmV3QW5sZ2UiLCAiUm90YXRpbmdfZGVmYXVsdCIsICJFZGl0IiwgInZhbGlkYXRpb25GbmMiLCAiTF9QTV9FZGl0X2RlZmF1bHQiLCAibGF5ZXJHcm91cCIsICJhZGRUaHJvdHRsZSIsICJfaW5pdExheWVycyIsICJyZW1vdmVUaHJvdHRsZSIsICJfbGF5ZXJJZHMiLCAiZGVlcCIsICJmaWx0ZXJHZW9tYW4iLCAiZmlsdGVyR3JvdXBzT3V0IiwgIk1hcmtlckxpbWl0cyIsICJhbGxNYXJrZXJzIiwgIm1hcmtlckNhY2hlSW5kZXgiLCAibWFya2Vyc1RvQWRkIiwgImxpbWl0IiwgImRpc3RhbmNlQSIsICJkaXN0YW5jZUIiLCAiTWFya2VyTGltaXRzX2RlZmF1bHQiLCAiaGFuZGxlUmluZyIsICJjb29yZHNBcnIiLCAicmluZ0FyciIsICJsZWZ0TSIsICJyaWdodE0iLCAibWlkZGxlTWFya2VyIiwgIm1pZGRsZUljb24iLCAiaWNvbiIsICJuZXdNIiwgImNvb3Jkc1JpbmciLCAiZmxhc2giLCAiZGlzYWJsZWQiLCAibGF5ZXJSZW1vdmVkIiwgInJpZ2h0TWFya2VySW5kZXgiLCAibGVmdE1hcmtlckluZGV4IiwgIm5leHRNYXJrZXJJbmRleCIsICJwcmV2TWFya2VySW5kZXgiLCAicHJldk1hcmtlciIsICJuZXh0TWFya2VyIiwgInByZXZMaW5lIiwgIm5leHRMaW5lIiwgInByZXZMaW5lSW50ZXJzZWN0aW9uTGVuIiwgIm5leHRMaW5lSW50ZXJzZWN0aW9uTGVuIiwgIm1hcmtlckxhdExuZyIsICJwcmV2TWFya2VyTGF0TG5nIiwgIm5leHRNYXJrZXJMYXRMbmciLCAibWlkZGxlTWFya2VyTmV4dExhdExuZyIsICJtaWRkbGVNYXJrZXJQcmV2TGF0TG5nIiwgInZlcnRleCIsICJkcmFnZ2VkTWFya2VyIiwgIm1vdmVkTWFya2VyIiwgIm1hcmtlckxhdExuZ3MiLCAib3V0ZXIiLCAibWFya2VyQSIsICJtYXJrZXJCIiwgImNyc1NpbXBsZSIsICJub3J0aHdlc3QiLCAibm9ydGhlYXN0IiwgInNvdXRoZWFzdCIsICJzb3V0aHdlc3QiLCAiZm9jdXNlZEVsZW1lbnQiLCAiaGVpZ2h0IiwgIndpZHRoIiwgImZvY3VzQWxyZWFkeVNldCIsICJlbmFibGUiLCAiTWF0cml4IiwgInRyYW5zbGF0ZSIsICJ0cmFuc2xhdGVYIiwgInRyYW5zbGF0ZVkiLCAic2NhbGUiLCAic2NhbGVYIiwgInNjYWxlWSIsICJjb3MiLCAic2luIiwgInNyYyIsICJ2YWwiLCAiTWF0cml4X2RlZmF1bHQiLCAiVXRpbHMiLCAibGF0bG5nMSIsICJsYXRsbmcyIiwgImNpcmNsZSIsICJwcm9wYWdhdGUiLCAiZ3JvdXBzIiwgImdyb3VwSWRzIiwgImxvb3BUaHJvdWdoUGFyZW50cyIsICJfaWQiLCAiZXhhY3QiLCAicnVuIiwgImlSZXMiLCAicmV0dXJuVmFsIiwgImluZGV4QSIsICJpbmRleEIiLCAidGhldGEiLCAieDAiLCAieTAiLCAicDAiLCAicDMiLCAicmFkaXVzSW5QeCIsICJMX1BNX1V0aWxzX2RlZmF1bHQiLCAiaW5pdE1hcCIsICJpbml0TGF5ZXJHcm91cCIsICJpbml0TWFya2VyIiwgImluaXRDaXJjbGVNYXJrZXIiLCAiaW5pdFBvbHlsaW5lIiwgImluaXRQb2x5Z29uIiwgImluaXRSZWN0YW5nbGUiLCAiaW5pdENpcmNsZSIsICJpbml0SW1hZ2VPdmVybGF5IiwgImNsaWNrZWRMYXllciIsICJzdGF0ZSJdCn0K
